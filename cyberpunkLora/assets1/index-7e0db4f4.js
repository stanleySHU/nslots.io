var mI=Object.defineProperty;var gI=(t,e,r)=>e in t?mI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var yI=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Te=(t,e,r)=>(gI(t,typeof e!="symbol"?e+"":e,r),r);var q6=yI((K6,np)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var AS={exports:{}},Sf={},CS={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),vI=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),xI=Symbol.for("react.strict_mode"),wI=Symbol.for("react.profiler"),bI=Symbol.for("react.provider"),SI=Symbol.for("react.context"),EI=Symbol.for("react.forward_ref"),TI=Symbol.for("react.suspense"),AI=Symbol.for("react.memo"),CI=Symbol.for("react.lazy"),lx=Symbol.iterator;function PI(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IS=Object.assign,RS={};function al(t,e,r){this.props=t,this.context=e,this.refs=RS,this.updater=r||PS}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kS(){}kS.prototype=al.prototype;function Yy(t,e,r){this.props=t,this.context=e,this.refs=RS,this.updater=r||PS}var qy=Yy.prototype=new kS;qy.constructor=Yy;IS(qy,al.prototype);qy.isPureReactComponent=!0;var ux=Array.isArray,MS=Object.prototype.hasOwnProperty,Qy={current:null},NS={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MS.call(e,n)&&!NS.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:nc,type:t,key:s,ref:o,props:i,_owner:Qy.current}}function II(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function RI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cx=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RI(""+t.key):e.toString(36)}function Qh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nc:case vI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Sm(o,0):n,ux(i)?(r="",t!=null&&(r=t.replace(cx,"$&/")+"/"),Qh(i,e,r,"",function(d){return d})):i!=null&&(Ky(i)&&(i=II(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ux(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+Sm(s,a);o+=Qh(s,e,r,c,i)}else if(c=PI(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+Sm(s,a++),o+=Qh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rh(t,e,r){if(t==null)return t;var n=[],i=0;return Qh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function kI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _r={current:null},Kh={transition:null},MI={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:Qy};Le.Children={map:rh,forEach:function(t,e,r){rh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rh(t,function(){e++}),e},toArray:function(t){return rh(t,function(e){return e})||[]},only:function(t){if(!Ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=al;Le.Fragment=_I;Le.Profiler=wI;Le.PureComponent=Yy;Le.StrictMode=xI;Le.Suspense=TI;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MI;Le.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=IS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)MS.call(e,c)&&!NS.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:nc,type:t.type,key:i,ref:s,props:n,_owner:o}};Le.createContext=function(t){return t={$$typeof:SI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bI,_context:t},t.Consumer=t};Le.createElement=OS;Le.createFactory=function(t){var e=OS.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:EI,render:t}};Le.isValidElement=Ky;Le.lazy=function(t){return{$$typeof:CI,_payload:{_status:-1,_result:t},_init:kI}};Le.memo=function(t,e){return{$$typeof:AI,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Kh.transition;Kh.transition={};try{t()}finally{Kh.transition=e}};Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Le.useCallback=function(t,e){return _r.current.useCallback(t,e)};Le.useContext=function(t){return _r.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return _r.current.useDeferredValue(t)};Le.useEffect=function(t,e){return _r.current.useEffect(t,e)};Le.useId=function(){return _r.current.useId()};Le.useImperativeHandle=function(t,e,r){return _r.current.useImperativeHandle(t,e,r)};Le.useInsertionEffect=function(t,e){return _r.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return _r.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return _r.current.useMemo(t,e)};Le.useReducer=function(t,e,r){return _r.current.useReducer(t,e,r)};Le.useRef=function(t){return _r.current.useRef(t)};Le.useState=function(t){return _r.current.useState(t)};Le.useSyncExternalStore=function(t,e,r){return _r.current.useSyncExternalStore(t,e,r)};Le.useTransition=function(){return _r.current.useTransition()};Le.version="18.2.0";CS.exports=Le;var G=CS.exports;const Ui=rc(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI=G,OI=Symbol.for("react.element"),FI=Symbol.for("react.fragment"),LI=Object.prototype.hasOwnProperty,DI=NI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BI={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)LI.call(e,n)&&!BI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OI,type:t,key:s,ref:o,props:i,_owner:DI.current}}Sf.Fragment=FI;Sf.jsx=FS;Sf.jsxs=FS;AS.exports=Sf;var Zy=AS.exports;const vi=Zy.Fragment,O=Zy.jsx,Se=Zy.jsxs;function Fa(t){return t!=null}function Pu(t){return t==null}function UI(t){return typeof t=="string"}function GI(t){return typeof t=="number"}function zI(t){return Object.keys(t).length===0&&t.constructor===Object}function HI(...t){let e={};for(let r=0;r<t.length;r++){let n=t[r];if(n!=null)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const _f=class _f{constructor(){Te(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new _f),this._Obj}map(e,r){let n=new YI(e,r);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...r){let n=this.mappings[e];if(!Pu(n))return n.get(r)}resolve(){console.warn("Injector.resolve() is not implement yet")}};Te(_f,"_Obj");let Ug=_f;class $I{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class jI{constructor(e){this.type=e}get(e){return LS(this.type,e)}destroy(){this.type=void 0}}class WI{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class VI{constructor(e){Te(this,"instance");this.type=e}get(e){return Pu(this.instance)&&(this.instance=LS(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class XI{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class YI{constructor(e,r){Te(this,"provider");this.name=e,this.type=r}get(e){return Pu(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new $I(e)}toType(e){this.destroy(),this.provider=new jI(e)}toSingleton(e){this.destroy(),this.provider=new VI(e)}asSingleton(){if(this.destroy(),Pu(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new XI(e)}toFunction(e){this.destroy(),this.provider=new WI(e)}destroy(){Fa(this.provider)&&this.provider.destroy()}}function LS(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const Fo=Ug.Obj;function Nl(t){return Fo.get(`action_fc:${t}`)}function Jy(t,e){Fo.map(`action_init:${t}`).toValue(e)}function va(t){return Fo.get(`action_init:${t}`)}const DS="apiService";function qI(t){return Fo.map(DS).toSingleton(t)}function ev(){return Fo.get(DS)}function tv(t,e){return Fo.map(`parser:${t}`).toValue(e)}function Ti(t){return Fo.get(`parser:${t}`)}const QI="geisha",KI=1701276279582,ZI={title:QI,assetVersion:KI};function JI(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(r=>{let n=r.replace(/\+/g," ").split("="),i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function eR(t){let e="",r=0;for(let n in t)t[n]&&(r++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function tR(t){return t===void 0&&(t=rv()),`${location.protocol}//${location.host}${location.pathname}?`+eR(t)}function rv(){return JI(location.search)}function rR(t,e){let r=rv();return r[t]=e,tR(r)}function nn(t,e){let r=rv();return r[t]?r[t]:e}var Lo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Lo||{}),BS=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(BS||{}),Gg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Gg||{}),we=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(we||{}),Rn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Rn||{}),se=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(se||{}),La=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(La||{}),ve=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ve||{}),ce=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ce||{}),Oi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Oi||{}),Gi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Gi||{}),di=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(di||{}),Ar=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ar||{}),ni=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ni||{}),nv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(nv||{}),un=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(un||{}),kt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(kt||{}),Pt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Pt||{}),li=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(li||{});const nR={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},he={ADAPTER:nR,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Em=/iPhone/i,hx=/iPod/i,dx=/iPad/i,fx=/\biOS-universal(?:.+)Mac\b/i,Tm=/\bAndroid(?:.+)Mobile\b/i,px=/Android/i,na=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,nh=/Silk/i,Ai=/Windows Phone/i,mx=/\bWindows(?:.+)ARM\b/i,gx=/BlackBerry/i,yx=/BB10/i,vx=/Opera Mini/i,_x=/\b(CriOS|Chrome)(?:.+)Mobile/i,xx=/Mobile(?:.+)Firefox\b/i,wx=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function iR(t){return function(e){return e.test(t)}}function bx(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=iR(r),s={apple:{phone:i(Em)&&!i(Ai),ipod:i(hx),tablet:!i(Em)&&(i(dx)||wx(e))&&!i(Ai),universal:i(fx),device:(i(Em)||i(hx)||i(dx)||i(fx)||wx(e))&&!i(Ai)},amazon:{phone:i(na),tablet:!i(na)&&i(nh),device:i(na)||i(nh)},android:{phone:!i(Ai)&&i(na)||!i(Ai)&&i(Tm),tablet:!i(Ai)&&!i(na)&&!i(Tm)&&(i(nh)||i(px)),device:!i(Ai)&&(i(na)||i(nh)||i(Tm)||i(px))||i(/\bokhttp\b/i)},windows:{phone:i(Ai),tablet:i(mx),device:i(Ai)||i(mx)},other:{blackberry:i(gx),blackberry10:i(yx),opera:i(vx),firefox:i(xx),chrome:i(_x),device:i(gx)||i(yx)||i(vx)||i(xx)||i(_x)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const sR=bx.default??bx,cn=sR(globalThis.navigator);he.RETINA_PREFIX=/@([0-9\.]+)x/;he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var US={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function s(c,d,p,h,f){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,h||c,f),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,g=h.length,y=new Array(g);f<g;f++)y[f]=h[f].fn;return y},a.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},a.prototype.emit=function(d,p,h,f,g,y){var w=r?r+d:d;if(!this._events[w])return!1;var E=this._events[w],_=arguments.length,b,S;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),_){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,h),!0;case 4:return E.fn.call(E.context,p,h,f),!0;case 5:return E.fn.call(E.context,p,h,f,g),!0;case 6:return E.fn.call(E.context,p,h,f,g,y),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];E.fn.apply(E.context,b)}else{var A=E.length,P;for(S=0;S<A;S++)switch(E[S].once&&this.removeListener(d,E[S].fn,void 0,!0),_){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,p);break;case 3:E[S].fn.call(E[S].context,p,h);break;case 4:E[S].fn.call(E[S].context,p,h,f);break;default:if(!b)for(P=1,b=new Array(_-1);P<_;P++)b[P-1]=arguments[P];E[S].fn.apply(E[S].context,b)}}return!0},a.prototype.on=function(d,p,h){return s(this,d,p,h,!1)},a.prototype.once=function(d,p,h){return s(this,d,p,h,!0)},a.prototype.removeListener=function(d,p,h,f){var g=r?r+d:d;if(!this._events[g])return this;if(!p)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===p&&(!f||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var w=0,E=[],_=y.length;w<_;w++)(y[w].fn!==p||f&&!y[w].once||h&&y[w].context!==h)&&E.push(y[w]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(US);var oR=US.exports;const ic=rc(oR);var iv={exports:{}};iv.exports=Ef;iv.exports.default=Ef;function Ef(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=GS(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,d,p,h,f,g;if(n&&(s=hR(t,e,s,r)),t.length>80*r){a=d=t[0],c=p=t[1];for(var y=r;y<i;y+=r)h=t[y],f=t[y+1],h<a&&(a=h),f<c&&(c=f),h>d&&(d=h),f>p&&(p=f);g=Math.max(d-a,p-c),g=g!==0?32767/g:0}return Iu(s,o,r,a,c,g,0),o}function GS(t,e,r,n,i){var s,o;if(i===$g(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Sx(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Sx(s,t[s],t[s+1],o);return o&&Tf(o,o.next)&&(ku(o),o=o.next),o}function Co(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Tf(r,r.next)||mt(r.prev,r,r.next)===0)){if(ku(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Iu(t,e,r,n,i,s,o){if(t){!o&&s&&gR(t,n,i,s);for(var a=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?lR(t,n,i,s):aR(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),ku(t),t=d.next,a=d.next;continue}if(t=d,t===a){o?o===1?(t=uR(Co(t),e,r),Iu(t,e,r,n,i,s,2)):o===2&&cR(t,e,r,n,i,s):Iu(Co(t),e,r,n,i,s,1);break}}}}function aR(t){var e=t.prev,r=t,n=t.next;if(mt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,d=n.y,p=i<s?i<o?i:o:s<o?s:o,h=a<c?a<d?a:d:c<d?c:d,f=i>s?i>o?i:o:s>o?s:o,g=a>c?a>d?a:d:c>d?c:d,y=n.next;y!==e;){if(y.x>=p&&y.x<=f&&y.y>=h&&y.y<=g&&_a(i,a,s,c,o,d,y.x,y.y)&&mt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function lR(t,e,r,n){var i=t.prev,s=t,o=t.next;if(mt(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,d=o.x,p=i.y,h=s.y,f=o.y,g=a<c?a<d?a:d:c<d?c:d,y=p<h?p<f?p:f:h<f?h:f,w=a>c?a>d?a:d:c>d?c:d,E=p>h?p>f?p:f:h>f?h:f,_=zg(g,y,e,r,n),b=zg(w,E,e,r,n),S=t.prevZ,A=t.nextZ;S&&S.z>=_&&A&&A.z<=b;){if(S.x>=g&&S.x<=w&&S.y>=y&&S.y<=E&&S!==i&&S!==o&&_a(a,p,c,h,d,f,S.x,S.y)&&mt(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=g&&A.x<=w&&A.y>=y&&A.y<=E&&A!==i&&A!==o&&_a(a,p,c,h,d,f,A.x,A.y)&&mt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=_;){if(S.x>=g&&S.x<=w&&S.y>=y&&S.y<=E&&S!==i&&S!==o&&_a(a,p,c,h,d,f,S.x,S.y)&&mt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=b;){if(A.x>=g&&A.x<=w&&A.y>=y&&A.y<=E&&A!==i&&A!==o&&_a(a,p,c,h,d,f,A.x,A.y)&&mt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function uR(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Tf(i,s)&&zS(i,n,n.next,s)&&Ru(i,s)&&Ru(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),ku(n),ku(n.next),n=t=s),n=n.next}while(n!==t);return Co(n)}function cR(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&_R(o,a)){var c=HS(o,a);o=Co(o,o.next),c=Co(c,c.next),Iu(o,e,r,n,i,s,0),Iu(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function hR(t,e,r,n){var i=[],s,o,a,c,d;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,d=GS(t,a,c,n,!1),d===d.next&&(d.steiner=!0),i.push(vR(d));for(i.sort(dR),s=0;s<i.length;s++)r=fR(i[s],r);return r}function dR(t,e){return t.x-e.x}function fR(t,e){var r=pR(t,e);if(!r)return e;var n=HS(r,t);return Co(n,n.next),Co(r,r.next)}function pR(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,p=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&_a(i<p?n:s,i,d,p,i<p?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Ru(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&mR(o,r)))&&(o=r,h=f)),r=r.next;while(r!==c);return o}function mR(t,e){return mt(t.prev,t,e.prev)<0&&mt(e.next,t,t.next)<0}function gR(t,e,r,n){var i=t;do i.z===0&&(i.z=zg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,yR(i)}function yR(t){var e,r,n,i,s,o,a,c,d=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<d&&(a++,n=n.nextZ,!!n);e++);for(c=d;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(o>1);return t}function zg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function vR(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function _a(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function _R(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!xR(t,e)&&(Ru(t,e)&&Ru(e,t)&&wR(t,e)&&(mt(t.prev,t,e.prev)||mt(t,e.prev,e))||Tf(t,e)&&mt(t.prev,t,t.next)>0&&mt(e.prev,e,e.next)>0)}function mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Tf(t,e){return t.x===e.x&&t.y===e.y}function zS(t,e,r,n){var i=sh(mt(t,e,r)),s=sh(mt(t,e,n)),o=sh(mt(r,n,t)),a=sh(mt(r,n,e));return!!(i!==s&&o!==a||i===0&&ih(t,r,e)||s===0&&ih(t,n,e)||o===0&&ih(r,t,n)||a===0&&ih(r,e,n))}function ih(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function sh(t){return t>0?1:t<0?-1:0}function xR(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&zS(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ru(t,e){return mt(t.prev,t,t.next)<0?mt(t,e,t.next)>=0&&mt(t,t.prev,e)>=0:mt(t,e,t.prev)<0||mt(t,t.next,e)<0}function wR(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function HS(t,e){var r=new Hg(t.i,t.x,t.y),n=new Hg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Sx(t,e,r,n){var i=new Hg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ku(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Hg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ef.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs($g(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var d=e[a]*r,p=a<c-1?e[a+1]*r:t.length;o-=Math.abs($g(t,d,p,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,g=n[a+1]*r,y=n[a+2]*r;h+=Math.abs((t[f]-t[y])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[y+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function $g(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Ef.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var bR=iv.exports;const SR=rc(bR);var wd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */wd.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Ni=="object"&&Ni;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,d=1,p=26,h=38,f=700,g=72,y=128,w="-",E=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-d,P=Math.floor,N=String.fromCharCode,k;function R(D){throw new RangeError(S[D])}function U(D,z){for(var te=D.length,Ce=[];te--;)Ce[te]=z(D[te]);return Ce}function W(D,z){var te=D.split("@"),Ce="";te.length>1&&(Ce=te[0]+"@",D=te[1]),D=D.replace(b,".");var Ee=D.split("."),We=U(Ee,z).join(".");return Ce+We}function q(D){for(var z=[],te=0,Ce=D.length,Ee,We;te<Ce;)Ee=D.charCodeAt(te++),Ee>=55296&&Ee<=56319&&te<Ce?(We=D.charCodeAt(te++),(We&64512)==56320?z.push(((Ee&1023)<<10)+(We&1023)+65536):(z.push(Ee),te--)):z.push(Ee);return z}function $(D){return U(D,function(z){var te="";return z>65535&&(z-=65536,te+=N(z>>>10&1023|55296),z=56320|z&1023),te+=N(z),te}).join("")}function L(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:c}function V(D,z){return D+22+75*(D<26)-((z!=0)<<5)}function J(D,z,te){var Ce=0;for(D=te?P(D/f):D>>1,D+=P(D/z);D>A*p>>1;Ce+=c)D=P(D/A);return P(Ce+(A+1)*D/(D+h))}function ee(D){var z=[],te=D.length,Ce,Ee=0,We=y,ke=g,je,Lt,Xt,vt,Me,rt,ze,Xr,Yr;for(je=D.lastIndexOf(w),je<0&&(je=0),Lt=0;Lt<je;++Lt)D.charCodeAt(Lt)>=128&&R("not-basic"),z.push(D.charCodeAt(Lt));for(Xt=je>0?je+1:0;Xt<te;){for(vt=Ee,Me=1,rt=c;Xt>=te&&R("invalid-input"),ze=L(D.charCodeAt(Xt++)),(ze>=c||ze>P((a-Ee)/Me))&&R("overflow"),Ee+=ze*Me,Xr=rt<=ke?d:rt>=ke+p?p:rt-ke,!(ze<Xr);rt+=c)Yr=c-Xr,Me>P(a/Yr)&&R("overflow"),Me*=Yr;Ce=z.length+1,ke=J(Ee-vt,Ce,vt==0),P(Ee/Ce)>a-We&&R("overflow"),We+=P(Ee/Ce),Ee%=Ce,z.splice(Ee++,0,We)}return $(z)}function oe(D){var z,te,Ce,Ee,We,ke,je,Lt,Xt,vt,Me,rt=[],ze,Xr,Yr,Xs;for(D=q(D),ze=D.length,z=y,te=0,We=g,ke=0;ke<ze;++ke)Me=D[ke],Me<128&&rt.push(N(Me));for(Ce=Ee=rt.length,Ee&&rt.push(w);Ce<ze;){for(je=a,ke=0;ke<ze;++ke)Me=D[ke],Me>=z&&Me<je&&(je=Me);for(Xr=Ce+1,je-z>P((a-te)/Xr)&&R("overflow"),te+=(je-z)*Xr,z=je,ke=0;ke<ze;++ke)if(Me=D[ke],Me<z&&++te>a&&R("overflow"),Me==z){for(Lt=te,Xt=c;vt=Xt<=We?d:Xt>=We+p?p:Xt-We,!(Lt<vt);Xt+=c)Xs=Lt-vt,Yr=c-vt,rt.push(N(V(vt+Xs%Yr,0))),Lt=P(Xs/Yr);rt.push(N(V(Lt,0))),We=J(te,Xr,Ce==Ee),te=0,++Ce}++te,++z}return rt.join("")}function M(D){return W(D,function(z){return E.test(z)?ee(z.slice(4).toLowerCase()):z})}function X(D){return W(D,function(z){return _.test(z)?"xn--"+oe(z):z})}if(o={version:"1.4.1",ucs2:{decode:q,encode:$},decode:ee,encode:oe,toASCII:X,toUnicode:M},n&&i)if(t.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else r.punycode=o})(Ni)})(wd,wd.exports);var ER=wd.exports,TR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Ex=typeof Symbol<"u"&&Symbol,AR=TR,CR=function(){return typeof Ex!="function"||typeof Symbol!="function"||typeof Ex("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:AR()},Tx={foo:{}},PR=Object,IR=function(){return{__proto__:Tx}.foo===Tx.foo&&!({__proto__:null}instanceof PR)},RR="Function.prototype.bind called on incompatible ",kR=Object.prototype.toString,MR=Math.max,NR="[object Function]",Ax=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},OR=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},FR=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},LR=function(e){var r=this;if(typeof r!="function"||kR.apply(r)!==NR)throw new TypeError(RR+r);for(var n=OR(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,Ax(n,arguments));return Object(p)===p?p:this}return r.apply(e,Ax(n,arguments))},o=MR(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+FR(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},DR=LR,sv=Function.prototype.bind||DR,BR=Function.prototype.call,UR=Object.prototype.hasOwnProperty,GR=sv,zR=GR.call(BR,UR),Oe,qa=SyntaxError,$S=Function,Da=TypeError,Am=function(t){try{return $S('"use strict"; return ('+t+").constructor;")()}catch{}},bo=Object.getOwnPropertyDescriptor;if(bo)try{bo({},"")}catch{bo=null}var Cm=function(){throw new Da},HR=bo?function(){try{return arguments.callee,Cm}catch{try{return bo(arguments,"callee").get}catch{return Cm}}}():Cm,ia=CR(),$R=IR(),Ht=Object.getPrototypeOf||($R?function(t){return t.__proto__}:null),ca={},jR=typeof Uint8Array>"u"||!Ht?Oe:Ht(Uint8Array),So={"%AggregateError%":typeof AggregateError>"u"?Oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Oe:ArrayBuffer,"%ArrayIteratorPrototype%":ia&&Ht?Ht([][Symbol.iterator]()):Oe,"%AsyncFromSyncIteratorPrototype%":Oe,"%AsyncFunction%":ca,"%AsyncGenerator%":ca,"%AsyncGeneratorFunction%":ca,"%AsyncIteratorPrototype%":ca,"%Atomics%":typeof Atomics>"u"?Oe:Atomics,"%BigInt%":typeof BigInt>"u"?Oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Oe:FinalizationRegistry,"%Function%":$S,"%GeneratorFunction%":ca,"%Int8Array%":typeof Int8Array>"u"?Oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ia&&Ht?Ht(Ht([][Symbol.iterator]())):Oe,"%JSON%":typeof JSON=="object"?JSON:Oe,"%Map%":typeof Map>"u"?Oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ia||!Ht?Oe:Ht(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Oe:Promise,"%Proxy%":typeof Proxy>"u"?Oe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ia||!Ht?Oe:Ht(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ia&&Ht?Ht(""[Symbol.iterator]()):Oe,"%Symbol%":ia?Symbol:Oe,"%SyntaxError%":qa,"%ThrowTypeError%":HR,"%TypedArray%":jR,"%TypeError%":Da,"%Uint8Array%":typeof Uint8Array>"u"?Oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Oe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Oe:WeakSet};if(Ht)try{null.error}catch(t){var WR=Ht(Ht(t));So["%Error.prototype%"]=WR}var VR=function t(e){var r;if(e==="%AsyncFunction%")r=Am("async function () {}");else if(e==="%GeneratorFunction%")r=Am("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Am("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ht&&(r=Ht(i.prototype))}return So[e]=r,r},Cx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},sc=sv,bd=zR,XR=sc.call(Function.call,Array.prototype.concat),YR=sc.call(Function.apply,Array.prototype.splice),Px=sc.call(Function.call,String.prototype.replace),Sd=sc.call(Function.call,String.prototype.slice),qR=sc.call(Function.call,RegExp.prototype.exec),QR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,KR=/\\(\\)?/g,ZR=function(e){var r=Sd(e,0,1),n=Sd(e,-1);if(r==="%"&&n!=="%")throw new qa("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new qa("invalid intrinsic syntax, expected opening `%`");var i=[];return Px(e,QR,function(s,o,a,c){i[i.length]=a?Px(c,KR,"$1"):o||s}),i},JR=function(e,r){var n=e,i;if(bd(Cx,n)&&(i=Cx[n],n="%"+i[0]+"%"),bd(So,n)){var s=So[n];if(s===ca&&(s=VR(n)),typeof s>"u"&&!r)throw new Da("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new qa("intrinsic "+e+" does not exist!")},Do=function(e,r){if(typeof e!="string"||e.length===0)throw new Da("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Da('"allowMissing" argument must be a boolean');if(qR(/^%?[^%]*%?$/,e)===null)throw new qa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ZR(e),i=n.length>0?n[0]:"",s=JR("%"+i+"%",r),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],YR(n,XR([0,1],d)));for(var p=1,h=!0;p<n.length;p+=1){var f=n[p],g=Sd(f,0,1),y=Sd(f,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new qa("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",bd(So,o))a=So[o];else if(a!=null){if(!(f in a)){if(!r)throw new Da("base intrinsic for "+e+" exists, but the property is not available.");return}if(bo&&p+1>=n.length){var w=bo(a,f);h=!!w,h&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[f]}else h=bd(a,f),a=a[f];h&&!c&&(So[o]=a)}}return a},jS={exports:{}},ek=Do,jg=ek("%Object.defineProperty%",!0),Wg=function(){if(jg)try{return jg({},"a",{value:1}),!0}catch{return!1}return!1};Wg.hasArrayLengthDefineBug=function(){if(!Wg())return null;try{return jg([],"length",{value:1}).length!==1}catch{return!0}};var WS=Wg,tk=Do,Zh=tk("%Object.getOwnPropertyDescriptor%",!0);if(Zh)try{Zh([],"length")}catch{Zh=null}var VS=Zh,rk=WS(),ov=Do,lu=rk&&ov("%Object.defineProperty%",!0);if(lu)try{lu({},"a",{value:1})}catch{lu=!1}var nk=ov("%SyntaxError%"),sa=ov("%TypeError%"),Ix=VS,ik=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new sa("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new sa("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new sa("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new sa("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new sa("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new sa("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Ix&&Ix(e,r);if(lu)lu(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new nk("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},XS=Do,Rx=ik,sk=WS(),kx=VS,Mx=XS("%TypeError%"),ok=XS("%Math.floor%"),ak=function(e,r){if(typeof e!="function")throw new Mx("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ok(r)!==r)throw new Mx("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&kx){var o=kx(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(sk?Rx(e,"length",r,!0,!0):Rx(e,"length",r)),e};(function(t){var e=sv,r=Do,n=ak,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+d(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p})(jS);var lk=jS.exports,YS=Do,qS=lk,uk=qS(YS("String.prototype.indexOf")),ck=function(e,r){var n=YS(e,!!r);return typeof n=="function"&&uk(e,".prototype.")>-1?qS(n):n};const hk={},dk=Object.freeze(Object.defineProperty({__proto__:null,default:hk},Symbol.toStringTag,{value:"Module"})),fk=TS(dk);var av=typeof Map=="function"&&Map.prototype,Pm=Object.getOwnPropertyDescriptor&&av?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ed=av&&Pm&&typeof Pm.get=="function"?Pm.get:null,Nx=av&&Map.prototype.forEach,lv=typeof Set=="function"&&Set.prototype,Im=Object.getOwnPropertyDescriptor&&lv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Td=lv&&Im&&typeof Im.get=="function"?Im.get:null,Ox=lv&&Set.prototype.forEach,pk=typeof WeakMap=="function"&&WeakMap.prototype,uu=pk?WeakMap.prototype.has:null,mk=typeof WeakSet=="function"&&WeakSet.prototype,cu=mk?WeakSet.prototype.has:null,gk=typeof WeakRef=="function"&&WeakRef.prototype,Fx=gk?WeakRef.prototype.deref:null,yk=Boolean.prototype.valueOf,vk=Object.prototype.toString,_k=Function.prototype.toString,xk=String.prototype.match,uv=String.prototype.slice,_s=String.prototype.replace,wk=String.prototype.toUpperCase,Lx=String.prototype.toLowerCase,QS=RegExp.prototype.test,Dx=Array.prototype.concat,ii=Array.prototype.join,bk=Array.prototype.slice,Bx=Math.floor,Vg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Rm=Object.getOwnPropertySymbols,Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ur=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qa||"symbol")?Symbol.toStringTag:null,KS=Object.prototype.propertyIsEnumerable,Ux=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Gx(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||QS.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Bx(-t):Bx(t);if(n!==t){var i=String(n),s=uv.call(e,i.length+1);return _s.call(i,r,"$&_")+"."+_s.call(_s.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _s.call(e,r,"$&_")}var Yg=fk,zx=Yg.custom,Hx=JS(zx)?zx:null,Sk=function t(e,r,n,i){var s=r||{};if(hs(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hs(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=hs(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hs(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hs(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return tE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Gx(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return a?Gx(e,d):d}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return qg(e)?"[Array]":"[Object]";var h=zk(s,n);if(typeof i>"u")i=[];else if(eE(i,e)>=0)return"[Circular]";function f(L,V,J){if(V&&(i=bk.call(i),i.push(V)),J){var ee={depth:s.depth};return hs(s,"quoteStyle")&&(ee.quoteStyle=s.quoteStyle),t(L,ee,n+1,i)}return t(L,s,n+1,i)}if(typeof e=="function"&&!$x(e)){var g=Mk(e),y=oh(e,f);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+ii.call(y,", ")+" }":"")}if(JS(e)){var w=Qa?_s.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Xg.call(e);return typeof e=="object"&&!Qa?Ol(w):w}if(Bk(e)){for(var E="<"+Lx.call(String(e.nodeName)),_=e.attributes||[],b=0;b<_.length;b++)E+=" "+_[b].name+"="+ZS(Ek(_[b].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+Lx.call(String(e.nodeName))+">",E}if(qg(e)){if(e.length===0)return"[]";var S=oh(e,f);return h&&!Gk(S)?"["+Qg(S,h)+"]":"[ "+ii.call(S,", ")+" ]"}if(Ak(e)){var A=oh(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!KS.call(e,"cause")?"{ ["+String(e)+"] "+ii.call(Dx.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ii.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Hx&&typeof e[Hx]=="function"&&Yg)return Yg(e,{depth:p-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Nk(e)){var P=[];return Nx&&Nx.call(e,function(L,V){P.push(f(V,e,!0)+" => "+f(L,e))}),jx("Map",Ed.call(e),P,h)}if(Lk(e)){var N=[];return Ox&&Ox.call(e,function(L){N.push(f(L,e))}),jx("Set",Td.call(e),N,h)}if(Ok(e))return km("WeakMap");if(Dk(e))return km("WeakSet");if(Fk(e))return km("WeakRef");if(Pk(e))return Ol(f(Number(e)));if(Rk(e))return Ol(f(Vg.call(e)));if(Ik(e))return Ol(yk.call(e));if(Ck(e))return Ol(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ni)return"{ [object globalThis] }";if(!Tk(e)&&!$x(e)){var k=oh(e,f),R=Ux?Ux(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",W=!R&&ur&&Object(e)===e&&ur in e?uv.call(Gs(e),8,-1):U?"Object":"",q=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=q+(W||U?"["+ii.call(Dx.call([],W||[],U||[]),": ")+"] ":"");return k.length===0?$+"{}":h?$+"{"+Qg(k,h)+"}":$+"{ "+ii.call(k,", ")+" }"}return String(e)};function ZS(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ek(t){return _s.call(String(t),/"/g,"&quot;")}function qg(t){return Gs(t)==="[object Array]"&&(!ur||!(typeof t=="object"&&ur in t))}function Tk(t){return Gs(t)==="[object Date]"&&(!ur||!(typeof t=="object"&&ur in t))}function $x(t){return Gs(t)==="[object RegExp]"&&(!ur||!(typeof t=="object"&&ur in t))}function Ak(t){return Gs(t)==="[object Error]"&&(!ur||!(typeof t=="object"&&ur in t))}function Ck(t){return Gs(t)==="[object String]"&&(!ur||!(typeof t=="object"&&ur in t))}function Pk(t){return Gs(t)==="[object Number]"&&(!ur||!(typeof t=="object"&&ur in t))}function Ik(t){return Gs(t)==="[object Boolean]"&&(!ur||!(typeof t=="object"&&ur in t))}function JS(t){if(Qa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Xg)return!1;try{return Xg.call(t),!0}catch{}return!1}function Rk(t){if(!t||typeof t!="object"||!Vg)return!1;try{return Vg.call(t),!0}catch{}return!1}var kk=Object.prototype.hasOwnProperty||function(t){return t in this};function hs(t,e){return kk.call(t,e)}function Gs(t){return vk.call(t)}function Mk(t){if(t.name)return t.name;var e=xk.call(_k.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function eE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Nk(t){if(!Ed||!t||typeof t!="object")return!1;try{Ed.call(t);try{Td.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ok(t){if(!uu||!t||typeof t!="object")return!1;try{uu.call(t,uu);try{cu.call(t,cu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Fk(t){if(!Fx||!t||typeof t!="object")return!1;try{return Fx.call(t),!0}catch{}return!1}function Lk(t){if(!Td||!t||typeof t!="object")return!1;try{Td.call(t);try{Ed.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Dk(t){if(!cu||!t||typeof t!="object")return!1;try{cu.call(t,cu);try{uu.call(t,uu)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Bk(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function tE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tE(uv.call(t,0,e.maxStringLength),e)+n}var i=_s.call(_s.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Uk);return ZS(i,"single",e)}function Uk(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+wk.call(e.toString(16))}function Ol(t){return"Object("+t+")"}function km(t){return t+" { ? }"}function jx(t,e,r,n){var i=n?Qg(r,n):ii.call(r,", ");return t+" ("+e+") {"+i+"}"}function Gk(t){for(var e=0;e<t.length;e++)if(eE(t[e],`
`)>=0)return!1;return!0}function zk(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ii.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ii.call(Array(e+1),r)}}function Qg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ii.call(t,","+r)+`
`+e.prev}function oh(t,e){var r=qg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=hs(t,i)?e(t[i],t):""}var s=typeof Rm=="function"?Rm(t):[],o;if(Qa){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)hs(t,c)&&(r&&String(Number(c))===c&&c<t.length||Qa&&o["$"+c]instanceof Symbol||(QS.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Rm=="function")for(var d=0;d<s.length;d++)KS.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var cv=Do,ll=ck,Hk=Sk,$k=cv("%TypeError%"),ah=cv("%WeakMap%",!0),lh=cv("%Map%",!0),jk=ll("WeakMap.prototype.get",!0),Wk=ll("WeakMap.prototype.set",!0),Vk=ll("WeakMap.prototype.has",!0),Xk=ll("Map.prototype.get",!0),Yk=ll("Map.prototype.set",!0),qk=ll("Map.prototype.has",!0),hv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Qk=function(t,e){var r=hv(t,e);return r&&r.value},Kk=function(t,e,r){var n=hv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Zk=function(t,e){return!!hv(t,e)},Jk=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new $k("Side channel does not contain "+Hk(s))},get:function(s){if(ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return jk(e,s)}else if(lh){if(r)return Xk(r,s)}else if(n)return Qk(n,s)},has:function(s){if(ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Vk(e,s)}else if(lh){if(r)return qk(r,s)}else if(n)return Zk(n,s);return!1},set:function(s,o){ah&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ah),Wk(e,s,o)):lh?(r||(r=new lh),Yk(r,s,o)):(n||(n={key:{},next:null}),Kk(n,s,o))}};return i},eM=String.prototype.replace,tM=/%20/g,Mm={RFC1738:"RFC1738",RFC3986:"RFC3986"},dv={default:Mm.RFC3986,formatters:{RFC1738:function(t){return eM.call(t,tM,"+")},RFC3986:function(t){return String(t)}},RFC1738:Mm.RFC1738,RFC3986:Mm.RFC3986},rM=dv,Nm=Object.prototype.hasOwnProperty,yo=Array.isArray,Qn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),nM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(yo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},rE=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},iM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(yo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Nm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return yo(e)&&!yo(r)&&(i=rE(e,n)),yo(e)&&yo(r)?(r.forEach(function(s,o){if(Nm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Nm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},sM=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},oM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},aM=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var d=o.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===rM.RFC1738&&(d===40||d===41)){a+=o.charAt(c);continue}if(d<128){a=a+Qn[d];continue}if(d<2048){a=a+(Qn[192|d>>6]+Qn[128|d&63]);continue}if(d<55296||d>=57344){a=a+(Qn[224|d>>12]+Qn[128|d>>6&63]+Qn[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|o.charCodeAt(c)&1023),a+=Qn[240|d>>18]+Qn[128|d>>12&63]+Qn[128|d>>6&63]+Qn[128|d&63]}return a},lM=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var d=a[c],p=o[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:d}),n.push(p))}return nM(r),e},uM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},cM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},hM=function(e,r){return[].concat(e,r)},dM=function(e,r){if(yo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},nE={arrayToObject:rE,assign:sM,combine:hM,compact:lM,decode:oM,encode:aM,isBuffer:cM,isRegExp:uM,maybeMap:dM,merge:iM},iE=Jk,Jh=nE,hu=dv,fM=Object.prototype.hasOwnProperty,Wx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ki=Array.isArray,pM=Array.prototype.push,sE=function(t,e){pM.apply(t,ki(e)?e:[e])},mM=Date.prototype.toISOString,Vx=hu.default,ar={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Jh.encode,encodeValuesOnly:!1,format:Vx,formatter:hu.formatters[Vx],indices:!1,serializeDate:function(e){return mM.call(e)},skipNulls:!1,strictNullHandling:!1},gM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Om={},yM=function t(e,r,n,i,s,o,a,c,d,p,h,f,g,y,w,E){for(var _=e,b=E,S=0,A=!1;(b=b.get(Om))!==void 0&&!A;){var P=b.get(e);if(S+=1,typeof P<"u"){if(P===S)throw new RangeError("Cyclic object value");A=!0}typeof b.get(Om)>"u"&&(S=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=h(_):n==="comma"&&ki(_)&&(_=Jh.maybeMap(_,function(ee){return ee instanceof Date?h(ee):ee})),_===null){if(s)return a&&!y?a(r,ar.encoder,w,"key",f):r;_=""}if(gM(_)||Jh.isBuffer(_)){if(a){var N=y?r:a(r,ar.encoder,w,"key",f);return[g(N)+"="+g(a(_,ar.encoder,w,"value",f))]}return[g(r)+"="+g(String(_))]}var k=[];if(typeof _>"u")return k;var R;if(n==="comma"&&ki(_))y&&a&&(_=Jh.maybeMap(_,a)),R=[{value:_.length>0?_.join(",")||null:void 0}];else if(ki(c))R=c;else{var U=Object.keys(_);R=d?U.sort(d):U}for(var W=i&&ki(_)&&_.length===1?r+"[]":r,q=0;q<R.length;++q){var $=R[q],L=typeof $=="object"&&typeof $.value<"u"?$.value:_[$];if(!(o&&L===null)){var V=ki(_)?typeof n=="function"?n(W,$):W:W+(p?"."+$:"["+$+"]");E.set(e,S);var J=iE();J.set(Om,E),sE(k,t(L,V,n,i,s,o,n==="comma"&&y&&ki(_)?null:a,c,d,p,h,f,g,y,w,J))}}return k},vM=function(e){if(!e)return ar;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ar.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=hu.default;if(typeof e.format<"u"){if(!fM.call(hu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=hu.formatters[n],s=ar.filter;return(typeof e.filter=="function"||ki(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ar.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ar.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ar.charsetSentinel,delimiter:typeof e.delimiter>"u"?ar.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ar.encode,encoder:typeof e.encoder=="function"?e.encoder:ar.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ar.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ar.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ar.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ar.strictNullHandling}},_M=function(t,e){var r=t,n=vM(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ki(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Wx?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Wx[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=iE(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||sE(o,yM(r[f],f,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var g=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""},Ka=nE,Kg=Object.prototype.hasOwnProperty,xM=Array.isArray,zt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ka.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},wM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},oE=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bM="utf8=%26%2310003%3B",SM="utf8=%E2%9C%93",EM=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===SM?d="utf-8":o[c]===bM&&(d="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],h=p.indexOf("]="),f=h===-1?p.indexOf("="):h+1,g,y;f===-1?(g=r.decoder(p,zt.decoder,d,"key"),y=r.strictNullHandling?null:""):(g=r.decoder(p.slice(0,f),zt.decoder,d,"key"),y=Ka.maybeMap(oE(p.slice(f+1),r),function(w){return r.decoder(w,zt.decoder,d,"value")})),y&&r.interpretNumericEntities&&d==="iso-8859-1"&&(y=wM(y)),p.indexOf("[]=")>-1&&(y=xM(y)?[y]:y),Kg.call(n,g)?n[g]=Ka.combine(n[g],y):n[g]=y}return n},TM=function(t,e,r,n){for(var i=n?e:oE(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},AM=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),d=c?s.slice(0,c.index):s,p=[];if(d){if(!n.plainObjects&&Kg.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&Kg.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),TM(p,r,n,i)}},CM=function(e){if(!e)return zt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?zt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?zt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:zt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:zt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:zt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:zt.comma,decoder:typeof e.decoder=="function"?e.decoder:zt.decoder,delimiter:typeof e.delimiter=="string"||Ka.isRegExp(e.delimiter)?e.delimiter:zt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:zt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:zt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:zt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:zt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zt.strictNullHandling}},PM=function(t,e){var r=CM(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?EM(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=AM(a,n[a],r,typeof t=="string");i=Ka.merge(i,c,r)}return r.allowSparse===!0?i:Ka.compact(i)},IM=_M,RM=PM,kM=dv,MM={formats:kM,parse:RM,stringify:IM},NM=ER;function zi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var OM=/^([a-z0-9.+-]+:)/i,FM=/:[0-9]*$/,LM=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,DM=["<",">",'"',"`"," ","\r",`
`,"	"],BM=["{","}","|","\\","^","`"].concat(DM),Zg=["'"].concat(BM),Xx=["%","/","?",";","#"].concat(Zg),Yx=["/","?","#"],UM=255,qx=/^[+a-z0-9A-Z_-]{0,63}$/,GM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zM={javascript:!0,"javascript:":!0},Jg={javascript:!0,"javascript:":!0},Ba={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},e0=MM;function HM(t,e,r){if(t&&typeof t=="object"&&t instanceof zi)return t;var n=new zi;return n.parse(t,e,r),n}zi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=LM.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=e0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=OM.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(d&&Jg[d])&&(a=a.substr(2),this.slashes=!0)}if(!Jg[d]&&(h||d&&!Ba[d])){for(var f=-1,g=0;g<Yx.length;g++){var y=a.indexOf(Yx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}var w,E;f===-1?E=a.lastIndexOf("@"):E=a.lastIndexOf("@",f),E!==-1&&(w=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(w)),f=-1;for(var g=0;g<Xx.length;g++){var y=a.indexOf(Xx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var b=this.hostname.split(/\./),g=0,S=b.length;g<S;g++){var A=b[g];if(A&&!A.match(qx)){for(var P="",N=0,k=A.length;N<k;N++)A.charCodeAt(N)>127?P+="x":P+=A[N];if(!P.match(qx)){var R=b.slice(0,g),U=b.slice(g+1),W=A.match(GM);W&&(R.push(W[1]),U.unshift(W[2])),U.length&&(a="/"+U.join(".")+a),this.hostname=R.join(".");break}}}this.hostname.length>UM?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=NM.toASCII(this.hostname));var q=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+q,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!zM[p])for(var g=0,S=Zg.length;g<S;g++){var L=Zg[g];if(a.indexOf(L)!==-1){var V=encodeURIComponent(L);V===L&&(V=escape(L)),a=a.split(L).join(V)}}var J=a.indexOf("#");J!==-1&&(this.hash=a.substr(J),a=a.slice(0,J));var ee=a.indexOf("?");if(ee!==-1?(this.search=a.substr(ee),this.query=a.substr(ee+1),e&&(this.query=e0.parse(this.query)),a=a.slice(0,ee)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ba[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",oe=this.search||"";this.path=q+oe}return this.href=this.format(),this};zi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=e0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ba[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};zi.prototype.resolve=function(t){return this.resolveObject(HM(t,!1,!0)).format()};zi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new zi;e.parse(t,!1,!0),t=e}for(var r=new zi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return Ba[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ba[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var h=d[p];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Jg[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",g=r.search||"";r.path=f+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=w||y||r.host&&t.pathname,_=E,b=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!Ba[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),E=E&&(S[0]===""||b[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=S;else if(S.length)b||(b=[]),b.pop(),b=b.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=b.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=b.slice(-1)[0],k=(r.host||t.host||b.length>1)&&(N==="."||N==="..")||N==="",R=0,U=b.length;U>=0;U--)N=b[U],N==="."?b.splice(U,1):N===".."?(b.splice(U,1),R++):R&&(b.splice(U,1),R--);if(!E&&!_)for(;R--;R)b.unshift("..");E&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),k&&b.join("/").substr(-1)!=="/"&&b.push("");var W=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(A){r.hostname=W?"":b.length?b.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return E=E||r.host&&b.length,E&&!W&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};zi.prototype.parseHost=function(){var t=this.host,e=FM.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Qx={};function Ne(t,e,r=3){if(Qx[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Qx[e]=!0}function wn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Fl(t){return t.split("?")[0].split("#")[0]}function $M(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jM(t,e,r){return t.replace(new RegExp($M(e),"g"),r)}function WM(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ft={toPosix(t){return jM(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){wn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(wn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Fl(this.toPosix(e??he.ADAPTER.getBaseUrl())),i=Fl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ft.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(wn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=WM(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return wn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(wn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(wn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){wn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){wn(t),e&&wn(e),t=Fl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){wn(t),t=Fl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){wn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Fl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,d=t.length-1,p=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}a===-1&&(c=!1,a=d+1),r===46?s===-1?s=d:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||a===-1||p===0||p===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Fm;async function VM(){return Fm??(Fm=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Ar.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Ar.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Ar.PMA:Ar.UNPACK})()),Fm}let Lm;function XM(){return typeof Lm>"u"&&(Lm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!he.ADAPTER.getWebGLRenderingContext())return!1;const r=he.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Lm}var YM={grad:.9,turn:360,rad:360/(2*Math.PI)},Ci=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},$t=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},hn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},aE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Kx=function(t){return{r:hn(t.r,0,255),g:hn(t.g,0,255),b:hn(t.b,0,255),a:hn(t.a)}},Dm=function(t){return{r:$t(t.r),g:$t(t.g),b:$t(t.b),a:$t(t.a,3)}},qM=/^#([0-9a-f]{3,8})$/i,uh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},lE=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},uE=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,a,o,o,c,n][d],g:255*[c,n,n,a,o,o][d],b:255*[o,o,c,n,n,a][d],a:i}},Zx=function(t){return{h:aE(t.h),s:hn(t.s,0,100),l:hn(t.l,0,100),a:hn(t.a)}},Jx=function(t){return{h:$t(t.h),s:$t(t.s),l:$t(t.l),a:$t(t.a,3)}},ew=function(t){return uE((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},du=function(t){return{h:(e=lE(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},QM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,KM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ZM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,JM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t0={string:[[function(t){var e=qM.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?$t(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?$t(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ZM.exec(t)||JM.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Kx({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=QM.exec(t)||KM.exec(t);if(!e)return null;var r,n,i=Zx({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(YM[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ew(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Ci(e)&&Ci(r)&&Ci(n)?Kx({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Ci(e)||!Ci(r)||!Ci(n))return null;var o=Zx({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return ew(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Ci(e)||!Ci(r)||!Ci(n))return null;var o=function(a){return{h:aE(a.h),s:hn(a.s,0,100),v:hn(a.v,0,100),a:hn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return uE(o)},"hsv"]]},tw=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},e3=function(t){return typeof t=="string"?tw(t.trim(),t0.string):typeof t=="object"&&t!==null?tw(t,t0.object):[null,void 0]},Bm=function(t,e){var r=du(t);return{h:r.h,s:hn(r.s+100*e,0,100),l:r.l,a:r.a}},Um=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},rw=function(t,e){var r=du(t);return{h:r.h,s:r.s,l:hn(r.l+100*e,0,100),a:r.a}},r0=function(){function t(e){this.parsed=e3(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return $t(Um(this.rgba),2)},t.prototype.isDark=function(){return Um(this.rgba)<.5},t.prototype.isLight=function(){return Um(this.rgba)>=.5},t.prototype.toHex=function(){return e=Dm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?uh($t(255*s)):"","#"+uh(r)+uh(n)+uh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Dm(this.rgba)},t.prototype.toRgbString=function(){return e=Dm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return Jx(du(this.rgba))},t.prototype.toHslString=function(){return e=Jx(du(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=lE(this.rgba),{h:$t(e.h),s:$t(e.s),v:$t(e.v),a:$t(e.a,3)};var e},t.prototype.invert=function(){return Zn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Zn(Bm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Zn(Bm(this.rgba,-e))},t.prototype.grayscale=function(){return Zn(Bm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Zn(rw(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Zn(rw(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Zn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):$t(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=du(this.rgba);return typeof e=="number"?Zn({h:e,s:r.s,l:r.l,a:r.a}):$t(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Zn(e).toHex()},t}(),Zn=function(t){return t instanceof r0?t:new r0(t)},nw=[],t3=function(t){t.forEach(function(e){nw.indexOf(e)<0&&(e(r0,t0),nw.push(e))})};function r3(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var p=this.toRgb(),h=1/0,f="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var y in r){var w=(a=p,c=s[y],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));w<h&&(h=w,f=y)}return f}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}t3([r3]);const ha=class ed{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof ed)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=ed.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=ed.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Zn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};ha.shared=new ha,ha.temp=new ha,ha.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let et=ha;function n3(t){return Ne("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),et.shared.setValue(t).toHex()}function i3(t){return Ne("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),et.shared.setValue(t).toNumber()}function s3(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[we.NORMAL_NPM]=we.NORMAL,t[we.ADD_NPM]=we.ADD,t[we.SCREEN_NPM]=we.SCREEN,e[we.NORMAL]=we.NORMAL_NPM,e[we.ADD]=we.ADD_NPM,e[we.SCREEN]=we.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const cE=s3();function hE(t,e){return cE[e?1:0][t]}function o3(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function dE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Ad(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function iw(t){return!(t&t-1)&&!!t}function sw(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ua(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function xs(t){return t===0?0:t<0?-1:1}let a3=0;function Po(){return++a3}const n0=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};n0.EMPTY=new n0(0,0,0,0);let ow=n0;const aw={},Jn=Object.create(null),as=Object.create(null);class l3{constructor(e,r,n){this._canvas=he.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||he.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function lw(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function uw(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function u3(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&lw(i,e,o);)++o;if(o===r)return ow.EMPTY;for(;lw(i,e,c);)--c;for(;uw(i,e,s,o,c);)++s;for(;uw(i,e,a,o,c);)--a;return++a,++c,new ow(s,o,a,c)}function c3(t){const e=u3(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function h3(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function $i(t,e=1){var n;const r=(n=he.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var le=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(le||{});const i0=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},cw=(t,e)=>i0(t).priority??e,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(i0).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(i0).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>cw(s,r)-cw(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class s0{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const d3=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function f3(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function p3(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=d3.replace(/%forloop%/gi,f3(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Gm=0,zm=1,Hm=2,$m=3,jm=4,Wm=5;class _i{constructor(){this.data=0,this.blendMode=we.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Gm)}set blend(e){!!(this.data&1<<Gm)!==e&&(this.data^=1<<Gm)}get offsets(){return!!(this.data&1<<zm)}set offsets(e){!!(this.data&1<<zm)!==e&&(this.data^=1<<zm)}get culling(){return!!(this.data&1<<Hm)}set culling(e){!!(this.data&1<<Hm)!==e&&(this.data^=1<<Hm)}get depthTest(){return!!(this.data&1<<$m)}set depthTest(e){!!(this.data&1<<$m)!==e&&(this.data^=1<<$m)}get depthMask(){return!!(this.data&1<<Wm)}set depthMask(e){!!(this.data&1<<Wm)!==e&&(this.data^=1<<Wm)}get clockwiseFrontFace(){return!!(this.data&1<<jm)}set clockwiseFrontFace(e){!!(this.data&1<<jm)!==e&&(this.data^=1<<jm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==we.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new _i;return e.depthTest=!1,e.blend=!0,e}}_i.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const o0=[];function fE(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=o0.length-1;n>=0;--n){const i=o0[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Nn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let h=0,f=p.length;h<f;h++)p[h][d](e,r,n,i,s,o,a,c);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Nn.prototype,{dispatch:{value:Nn.prototype.emit},run:{value:Nn.prototype.emit}});class Mu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Nn("setRealSize"),this.onUpdate=new Nn("update"),this.onError=new Nn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Af extends Mu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ar.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const m3={scaleMode:Oi.NEAREST,alphaMode:Ar.NPM},a0=class da extends ic{constructor(e=null,r=null){super(),r=Object.assign({},da.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:d,format:p,type:h,target:f,resolution:g,resourceOptions:y}=r;e&&!(e instanceof Mu)&&(e=fE(e,y),e.internal=!0),this.resolution=g||he.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=p,this.type=h,this.target=f,this.alphaMode=n,this.uid=Po(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=iw(this.realWidth)&&iw(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete as[this.cacheId],delete Jn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),da.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Po()}`}s=e._pixiId}let o=as[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new da(e,r),o.cacheId=s,da.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Af(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=se.RGBA,a=ve.FLOAT):e instanceof Int32Array?(o=se.RGBA_INTEGER,a=ve.INT):e instanceof Uint32Array?(o=se.RGBA_INTEGER,a=ve.UNSIGNED_INT):e instanceof Int16Array?(o=se.RGBA_INTEGER,a=ve.SHORT):e instanceof Uint16Array?(o=se.RGBA_INTEGER,a=ve.UNSIGNED_SHORT):e instanceof Int8Array?(o=se.RGBA,a=ve.BYTE):(o=se.RGBA,a=ve.UNSIGNED_BYTE),s.internal=!0,new da(s,Object.assign({},m3,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),as[r]&&as[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),as[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=as[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete as[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete as[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};a0.defaultOptions={mipmap:di.POW2,anisotropicLevel:0,scaleMode:Oi.LINEAR,wrapMode:Gi.CLAMP,alphaMode:Ar.UNPACK,target:La.TEXTURE_2D,format:se.RGBA,type:ve.UNSIGNED_BYTE},a0._globalBatch=0;let Pe=a0;class l0{constructor(){this.texArray=null,this.blend=0,this.type=Rn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let g3=0;class Tt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=g3++,this.disposeRunner=new Nn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?li.ELEMENT_ARRAY_BUFFER:li.ARRAY_BUFFER}get index(){return this.type===li.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Tt(e)}}class Cd{constructor(e,r=0,n=!1,i=ve.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Cd(e,r,n,i,s)}}const y3={Float32Array,Uint32Array,Int32Array,Uint8Array};function v3(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],p=t[c],h=dE(p);i[h]||(i[h]=new y3[h](s)),o=i[h];for(let f=0;f<p.length;f++){const g=(f/d|0)*n+a,y=f%d;o[g+y]=p[f]}a+=d}return new Float32Array(s)}const hw={5126:4,5123:2,5121:1};let _3=0;const x3={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Os{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=_3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Nn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Tt||(r instanceof Array&&(r=new Float32Array(r)),r=new Tt(r));const d=e.split("|");if(d.length>1){for(let h=0;h<d.length;h++)this.addAttribute(d[h],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new Cd(p,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Tt||(e instanceof Array&&(e=new Uint16Array(e)),e=new Tt(e)),e.type=li.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Tt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*hw[s.type]/4),s.buffer=0}for(n.data=v3(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Os;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Tt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Cd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=li.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Os,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new x3[dE(o.buffers[a].data)](i[a]),r.buffers[a]=new Tt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=li.ELEMENT_ARRAY_BUFFER;let a=0,c=0,d=0,p=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){p=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===p&&(c+=f.size*hw[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let g=0;g<f.length;g++)r.indexBuffer.data[g+d]+=a;a+=e[h].buffers[p].data.length/c,d+=f.length}}return r}}class pE extends Os{constructor(e=!1){super(),this._buffer=new Tt(null,e,!1),this._indexBuffer=new Tt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ve.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ve.FLOAT).addAttribute("aColor",this._buffer,4,!0,ve.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ve.FLOAT).addIndex(this._indexBuffer)}}const Pd=Math.PI*2,w3=180/Math.PI,b3=Math.PI/180;var Kt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Kt||{});class Fe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Fe.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ch=[new Fe,new Fe,new Fe,new Fe];let Ie=class u0{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Kt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new u0(0,0,0,0)}clone(){return new u0(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const U=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>U}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=ch[0].set(e.left,e.top),c=ch[1].set(e.left,e.bottom),d=ch[2].set(e.right,e.top),p=ch[3].set(e.right,e.bottom);if(d.x<=a.x||c.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(c,c),r.apply(d,d),r.apply(p,p),Math.max(a.x,c.x,d.x,p.x)<=n||Math.min(a.x,c.x,d.x,p.x)>=i||Math.max(a.y,c.y,d.y,p.y)<=s||Math.min(a.y,c.y,d.y,p.y)>=o))return!1;const f=h*(c.y-a.y),g=h*(a.x-c.x),y=f*n+g*s,w=f*i+g*s,E=f*n+g*o,_=f*i+g*o;if(Math.max(y,w,E,_)<=f*a.x+g*a.y||Math.min(y,w,E,_)>=f*p.x+g*p.y)return!1;const b=h*(a.y-d.y),S=h*(d.x-a.x),A=b*n+S*s,P=b*i+S*s,N=b*n+S*o,k=b*i+S*o;return!(Math.max(A,P,N,k)<=b*a.x+S*a.y||Math.min(A,P,N,k)>=b*p.x+S*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}};Ie.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Cf{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Kt.CIRC}clone(){return new Cf(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ie(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Cf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Pf{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Kt.ELIP}clone(){return new Pf(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ie(this.x-this.width,this.y-this.height,this.width,this.height)}}Pf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let fu=class mE{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Kt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new mE(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],p=this.points[o*2+1];c>r!=p>r&&e<(d-a)*((r-c)/(p-c))+a&&(n=!n)}return n}};fu.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class If{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Kt.RREC}clone(){return new If(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}If.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ot{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Fe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Fe;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,d){return this.a=Math.cos(a+d)*s,this.b=Math.sin(a+d)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(a+c);return d<1e-5||Math.abs(Pd-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ot;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new ot}static get TEMP_MATRIX(){return new ot}}ot.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ao=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],lo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],uo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],co=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c0=[],gE=[],hh=Math.sign;function S3(){for(let t=0;t<16;t++){const e=[];c0.push(e);for(let r=0;r<16;r++){const n=hh(ao[t]*ao[r]+uo[t]*lo[r]),i=hh(lo[t]*ao[r]+co[t]*lo[r]),s=hh(ao[t]*uo[r]+uo[t]*co[r]),o=hh(lo[t]*uo[r]+co[t]*co[r]);for(let a=0;a<16;a++)if(ao[a]===n&&lo[a]===i&&uo[a]===s&&co[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ot;e.set(ao[t],lo[t],uo[t],co[t],0,0),gE.push(e)}}S3();const ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ao[t],uY:t=>lo[t],vX:t=>uo[t],vY:t=>co[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>c0[t][e],sub:(t,e)=>c0[t][ft.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=gE[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class oi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new oi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}oi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const h0=class{constructor(){this.worldTransform=new ot,this.localTransform=new ot,this.position=new oi(this.onChange,this,0,0),this.scale=new oi(this.onChange,this,1,1),this.pivot=new oi(this.onChange,this,0,0),this.skew=new oi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};h0.IDENTITY=new h0;let Rf=h0;Rf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var E3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,T3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function dw(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Vm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function yE(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Vm(2*e);case"bvec3":return Vm(3*e);case"bvec4":return Vm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ga=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],A3={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},C3={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function P3(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<Ga.length;c++)if(Ga[c].test(s,o)){r.push(Ga[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?A3:C3)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const vE={};let oa=vE;function I3(){if(oa===vE||oa!=null&&oa.isContextLost()){const t=he.ADAPTER.createCanvas();let e;he.PREFER_ENV>=Lo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),oa=e}return oa}let dh;function R3(){if(!dh){dh=un.MEDIUM;const t=I3();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(dh=e.precision?un.HIGH:un.MEDIUM)}}return dh}function fw(t,e){const r=t.getShaderSource(e).split(`
`).map((d,p)=>`${p}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),a=[""];o.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function k3(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||fw(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||fw(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const M3={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _E(t){return M3[t]}let fh=null;const pw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function xE(t,e){if(!fh){const r=Object.keys(pw);fh={};for(let n=0;n<r.length;++n){const i=r[n];fh[t[i]]=pw[i]}}return fh[e]}function mw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===un.HIGH&&r!==un.HIGH&&(n=un.MEDIUM),`precision ${n} float;
${t}`}else if(r!==un.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ll;function N3(){if(typeof Ll=="boolean")return Ll;try{Ll=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ll=!1}return Ll}let O3=0;const ph={},d0=class fa{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=O3++,this.vertexSrc=e||fa.defaultVertexSrc,this.fragmentSrc=r||fa.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ph[n]?(ph[n]++,n+=`-${ph[n]}`):ph[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=mw(this.vertexSrc,fa.defaultVertexPrecision,un.HIGH),this.fragmentSrc=mw(this.fragmentSrc,fa.defaultFragmentPrecision,R3())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return T3}static get defaultFragmentSrc(){return E3}static from(e,r,n){const i=e+r;let s=aw[i];return s||(aw[i]=s=new fa(e,r,n)),s}};d0.defaultVertexPrecision=un.HIGH,d0.defaultFragmentPrecision=cn.apple.device?un.HIGH:un.MEDIUM;let Fi=d0,F3=0;class On{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=F3++,this.static=!!r,this.ubo=!!n,e instanceof Tt?(this.buffer=e,this.buffer.type=li.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Tt(new Float32Array(1)),this.buffer.type=li.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new On(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new On(e,r,n)}static uboFrom(e,r){return new On(e,r??!0,!0)}}class ui{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof On?this.uniformGroup=r:this.uniformGroup=new On(r):this.uniformGroup=new On({}),this.disposeRunner=new Nn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Fi.from(e,r);return new ui(i,n)}}class L3{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=On.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Fi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ot,default:this.defaultGroupCache[e]};return new ui(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class f0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function D3(){return!cn.apple.device}function B3(t){let e=!0;const r=he.ADAPTER.getNavigator();if(cn.tablet||cn.phone){if(cn.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(cn.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class kf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var U3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,G3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Yl=class En extends kf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=pE,this.vertexSize=6,this.state=_i.for2d(),this.size=En.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??B3(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??D3(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ne("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return G3}static get defaultFragmentTemplate(){return U3}setShaderGenerator({vertex:e=En.defaultVertexSrc,fragment:r=En.defaultFragmentTemplate}={}){this.shaderGenerator=new L3(e,r)}contextChange(){const e=this.renderer.gl;he.PREFER_ENV===Lo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),En.defaultMaxTextures),this.maxTextures=p3(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=En,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new l0);for(;r.length<i;)r.push(new f0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=En._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Pe._globalBatch,c=0,d=n[0],p=0;i.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const f=e[h];e[h]=null,f._batchEnabled!==a&&(d.count>=r&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,h),p=h,d=n[++c],++a),f._batchEnabled=a,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,this._bufferSize),++c,++a);for(let h=0;h<s.length;h++)s[h]=null;Pe._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=En._drawCallPool;let d=this._dcIndex,p=this._aIndex,h=this._iIndex,f=c[d];f.start=this._iIndex,f.texArray=e;for(let g=r;g<n;++g){const y=i[g],w=y._texture.baseTexture,E=cE[w.alphaMode?1:0][y.blendMode];i[g]=null,r<g&&f.blend!==E&&(f.size=h-f.start,r=g,f=c[++d],f.texArray=e,f.start=h),this.packInterleavedGeometry(y,s,o,p,h),p+=y.vertexData.length/2*a,h+=y.indices.length,f.blend=E}r<n&&(f.size=h-f.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;En.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=En._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:d,start:p,blend:h}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),En.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Ad(Math.ceil(e/8)),n=sw(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new s0(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Ad(Math.ceil(e/12)),n=sw(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,d=e.uvs,p=e.indices,h=e.vertexData,f=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),y=et.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let w=0;w<h.length;w+=2)a[i++]=h[w],a[i++]=h[w+1],a[i++]=d[w],a[i++]=d[w+1],o[i++]=y,a[i++]=f;for(let w=0;w<p.length;w++)n[s++]=c+p[w]}};Yl.defaultBatchSize=4096,Yl.extension={name:"batch",type:le.RendererPlugin},Yl._drawCallPool=[],Yl._textureArrayPool=[];let ho=Yl;me.add(ho);var z3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,H3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const p0=class ql extends ui{constructor(e,r,n){const i=Fi.from(e||ql.defaultVertexSrc,r||ql.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=ql.defaultResolution,this.multisample=ql.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new _i}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return H3}static get defaultFragmentSrc(){return z3}};p0.defaultResolution=1,p0.defaultMultisample=Pt.NONE;let gr=p0;class Id{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new et(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Id.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Id.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"background"};me.add(Id);class wE{constructor(e){this.renderer=e,this.emptyRenderer=new kf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let d=0;d<a;d++){const p=s[d],h=p._batchLocation;if(h>=0&&h<i&&r[h]===p){o[d]=h;continue}for(;c<i;){const f=r[c];if(f&&f._batchEnabled===n&&f._batchLocation===c){c++;continue}o[d]=c,p._batchLocation=c,r[c]=p;break}}}destroy(){this.renderer=null}}wE.extension={type:le.RendererSystem,name:"batch"};me.add(wE);let gw=0;class Rd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=gw++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=gw++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(he.PREFER_ENV>=Lo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Rd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Rd.extension={type:le.RendererSystem,name:"context"};me.add(Rd);class m0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Nn("disposeFramebuffer"),this.multisample=Pt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Pe(null,{scaleMode:Oi.NEAREST,resolution:1,mipmap:di.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Pe(null,{scaleMode:Oi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:di.OFF,format:se.DEPTH_COMPONENT,type:ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class bE extends Pe{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Pt.NONE),super(null,e),this.mipmap=di.OFF,this.valid=!0,this._clear=new et([0,0,0,0]),this.framebuffer=new m0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Fs extends Mu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=h3(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ar.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class SE extends Fs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Fs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??he.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ar.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class fv{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,d=e.y/s+a;n=ft.add(n,ft.NW),this.x0=c+o*ft.uX(n),this.y0=d+a*ft.uY(n),n=ft.add(n,2),this.x1=c+o*ft.uX(n),this.y1=d+a*ft.uY(n),n=ft.add(n,2),this.x2=c+o*ft.uX(n),this.y2=d+a*ft.uY(n),n=ft.add(n,2),this.x3=c+o*ft.uX(n),this.y3=d+a*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}fv.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const yw=new fv;function mh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ue extends ic{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ie(0,0,1,1)),e instanceof ue&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=yw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Fe(o.x,o.y):new Fe(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Jn[r.url]&&ue.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ue.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ue(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===yw&&(this._uvs=new fv),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Pe){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Po()}`,Pe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Po()}`}s=e._pixiId}let o=Jn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Pe)?(r.resolution||(r.resolution=$i(e)),o=new ue(new Pe(e,r)),o.baseTexture.cacheId=s,Pe.addToCache(o.baseTexture,s),ue.addToCache(o,s)):!o&&e instanceof Pe&&(o=new ue(e),ue.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ue.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ue(Pe.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Pe(e,Object.assign({scaleMode:Pe.defaultOptions.scaleMode,resolution:$i(r)},i)),{resource:o}=s;o instanceof SE&&(o.url=r);const a=new ue(s);return n||(n=r),Pe.addToCache(a.baseTexture,n),ue.addToCache(a,n),n!==r&&(Pe.addToCache(a.baseTexture,r),ue.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Jn[r]&&Jn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Jn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Jn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Jn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Jn[e.textureCacheIds[r]]===e&&delete Jn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ue._EMPTY||(ue._EMPTY=new ue(new Pe),mh(ue._EMPTY),mh(ue._EMPTY.baseTexture)),ue._EMPTY}static get WHITE(){if(!ue._WHITE){const e=he.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ue._WHITE=new ue(Pe.from(e)),mh(ue._WHITE),mh(ue._WHITE.baseTexture)}return ue._WHITE}}class Bo extends ue{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Bo(new bE(e))}}class EE{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Pt.NONE){const i=new bE(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Bo(i)}getOptimalTexture(e,r,n=1,i=Pt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Ad(e),r=Ad(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}EE.SCREEN_KEY=-1;class $3 extends Os{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class TE extends Os{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Tt(this.vertices),this.uvBuffer=new Tt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class j3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pt.NONE,this.sourceFrame=new Ie,this.destinationFrame=new Ie,this.bindingSourceFrame=new Ie,this.bindingDestinationFrame=new Ie,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const gh=[new Fe,new Fe,new Fe,new Fe],Xm=new ot;class AE{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new EE,this.statePool=[],this.quad=new $3,this.quadUv=new TE,this.tempRect=new Ie,this.activeState={},this.globalUniforms=new On({outputFrame:new Ie,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new j3,o=n.renderTexture;let a,c;if(o.current){const E=o.current;a=E.resolution,c=E.multisample}else a=n.resolution,c=n.multisample;let d=r[0].resolution||a,p=r[0].multisample??c,h=r[0].padding,f=r[0].autoFit,g=r[0].legacy??!0;for(let E=1;E<r.length;E++){const _=r[E];d=Math.min(d,_.resolution||a),p=Math.min(p,_.multisample??c),h=this.useMaxPadding?Math.max(h,_.padding):h+_.padding,f=f&&_.autoFit,g=g||(_.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=p,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Xm.copyFrom(n.projection.transform).invert(),y),f?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,p),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=s.sourceFrame.width,w.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,ni.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[h].apply(this,d,p,ni.CLEAR,r);const f=d;d=p,p=f}n[h].apply(this,d,c.renderTexture,ni.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ni.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ni.CLEAR||r===ni.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Rn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Rn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(ot.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Pt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=gh[0],i=gh[1],s=gh[2],o=gh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),p=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=d-a,r.height=p-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?Xm.copyFrom(s):Xm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}AE.extension={type:le.RendererSystem,name:"filter"};me.add(AE);class W3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const V3=new Ie;class CE{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new m0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ie,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;he.PREFER_ENV===Lo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Gg.COLOR|Gg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new W3(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,p._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Pt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Pt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;c.blitFramebuffer||(c.blitFramebuffer=new m0(i.width,i.height),c.blitFramebuffer.addColorTexture(0,p)),e=c.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=V3,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ie}destroy(){this.renderer=null}}CE.extension={type:le.RendererSystem,name:"framebuffer"};me.add(CE);const Ym={5126:4,5123:2,5121:1};class PE{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;he.PREFER_ENV===Lo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),d=e.glVertexArrayObjects[this.CONTEXT_UID];let p=d[c];if(p)return d[a.id]=p,p;const h=e.buffers,f=e.attributes,g={},y={};for(const w in h)g[w]=0,y[w]=0;for(const w in f)!f[w].size&&a.attributeData[w]?f[w].size=a.attributeData[w].size:f[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),g[f[w].buffer]+=f[w].size*Ym[f[w].type];for(const w in f){const E=f[w],_=E.size;E.stride===void 0&&(g[E.buffer]===_*Ym[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=y[E.buffer],y[E.buffer]+=_*Ym[E.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let w=0;w<h.length;w++){const E=h[w];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),d[a.id]=p,d[c]=p,i.bindVertexArray(null),o.unbind(li.ARRAY_BUFFER),p}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in a){const p=a[d],h=o[p.buffer],f=h._glBuffers[i];if(r.attributeData[d]){c!==f&&(s.bind(h),c=f);const g=r.attributeData[d].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(g,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}PE.extension={type:le.RendererSystem,name:"geometry"};me.add(PE);const vw=new ot;class pv{constructor(e,r){this._texture=e,this.mapCoord=new ot,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(vw.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(vw));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return a[0]=(r._frame.x+c+d)/o.width,a[1]=(r._frame.y+c+d)/o.height,a[2]=(r._frame.x+r._frame.width-c+d)/o.width,a[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var X3=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Y3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class q3 extends gr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||Y3,r||X3,n),this.maskSprite=i,this.maskMatrix=new ot}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new pv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class Q3{constructor(e=null){this.type=kt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=kt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class IE{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new Q3;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==kt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case kt.SCISSOR:this.renderer.scissor.push(n);break;case kt.STENCIL:this.renderer.stencil.push(n);break;case kt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case kt.COLOR:this.pushColorMask(n);break}n.type===kt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case kt.SCISSOR:this.renderer.scissor.pop(r);break;case kt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case kt.SPRITE:this.popSpriteMask(r);break;case kt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===kt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=kt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=kt.SCISSOR:e.type=kt.STENCIL:e.type=kt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new q3])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}IE.extension={type:le.RendererSystem,name:"mask"};me.add(IE);class RE{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const _w=new ot,xw=[],kE=class td extends RE{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,xw.pop()??new Ie);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||td.isMatrixRotated(r.worldTransform)||td.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){td.isMatrixRotated(s)||(s=s?_w.copyFrom(s):_w.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&xw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};kE.extension={type:le.RendererSystem,name:"scissor"};let K3=kE;me.add(K3);class ME extends RE{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}ME.extension={type:le.RendererSystem,name:"stencil"};me.add(ME);class NE{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}NE.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_plugin"};me.add(NE);class OE{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ot,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}OE.extension={type:le.RendererSystem,name:"projection"};me.add(OE);const Z3=new Rf,ww=new Ie;class FE{constructor(e){this.renderer=e,this._tempMatrix=new ot}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(ww))||e.getLocalBounds(ww,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Bo.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=Z3,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}FE.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"textureGenerator"};me.add(FE);const no=new Ie,Dl=new Ie;class LE{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ie,this.destinationFrame=new Ie,this.viewportFrame=new Ie}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(no.width=e.frame.width,no.height=e.frame.height,r=no),n||(Dl.x=e.frame.x,Dl.y=e.frame.y,Dl.width=r.width,Dl.height=r.height,n=Dl),o=s.framebuffer):(a=i.resolution,r||(no.width=i._view.screen.width,no.height=i._view.screen.height,r=no),n||(n=no,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=et.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:d,width:p,height:h}=this.viewportFrame;c=Math.round(c),d=Math.round(d),p=Math.round(p),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,p,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}LE.extension={type:le.RendererSystem,name:"renderTexture"};me.add(LE);class J3{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function eN(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=xE(e,s.type),a={type:o,name:s.name,size:_E(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function tN(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=xE(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:yE(c,s.size)}}return r}function rN(t,e){var a;const r=dw(t,t.VERTEX_SHADER,e.vertexSrc),n=dw(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||k3(t,i,r,n),e.attributeData=eN(i,t),e.uniformData=tN(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:yE(d.type,d.size)}}return new J3(i,o)}function nN(t,e,r,n,i){r.buffer.update(i)}const iN={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},DE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function sN(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=DE[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function oN(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function aN(t,e){if(!t.autoManage)return{size:0,syncFunc:nN};const r=oN(t.uniforms,e),{uboElements:n,size:i}=sN(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],d=a.data.name;let p=!1;for(let h=0;h<Ga.length;h++){const f=Ga[h];if(f.codeUbo&&f.test(a.data,c)){s.push(`offset = ${a.offset/4};`,Ga[h].codeUbo(a.data.name,c)),p=!0;break}}if(!p)if(a.data.size>1){const h=_E(a.data.type),f=Math.max(DE[a.data.type]/16,1),g=h/f,y=(4-g%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const h=iN[a.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let lN=0;const yh={textureCount:0,uboCount:0};class BE{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=lN++}systemCheck(){if(!N3())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(yh.textureCount=0,yh.uboCount=0,this.syncUniformGroup(e.uniformGroup,yh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=P3(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,yh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=aN(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=rN(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}BE.extension={type:le.RendererSystem,name:"shader"};me.add(BE);class kd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}kd.defaultOptions={hello:!1},kd.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"startup"};me.add(kd);function uN(t,e=[]){return e[we.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.ADD]=[t.ONE,t.ONE],e[we.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.NONE]=[0,0],e[we.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[we.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[we.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[we.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[we.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[we.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[we.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[we.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[we.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[we.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const cN=0,hN=1,dN=2,fN=3,pN=4,mN=5,UE=class g0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=we.NONE,this._blendEq=!1,this.map=[],this.map[cN]=this.setBlend,this.map[hN]=this.setOffset,this.map[dN]=this.setCullFace,this.map[fN]=this.setDepthTest,this.map[pN]=this.setFrontFace,this.map[mN]=this.setDepthMask,this.checks=[],this.defaultState=new _i,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=uN(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(g0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(g0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};UE.extension={type:le.RendererSystem,name:"state"};let gN=UE;me.add(gN);class yN extends ic{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Nn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ql=class rd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=rd.defaultMaxIdle,this.checkCountMax=rd.defaultCheckCountMax,this.mode=rd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==nv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Ql.defaultMode=nv.AUTO,Ql.defaultMaxIdle=60*60,Ql.defaultCheckCountMax=60*10,Ql.extension={type:le.RendererSystem,name:"textureGC"};let fo=Ql;me.add(fo);class qm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ve.UNSIGNED_BYTE,this.internalFormat=se.RGBA,this.samplerType=0}}function vN(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ce.FLOAT,[t.RGBA]:ce.FLOAT,[t.ALPHA]:ce.FLOAT,[t.LUMINANCE]:ce.FLOAT,[t.LUMINANCE_ALPHA]:ce.FLOAT,[t.R8]:ce.FLOAT,[t.R8_SNORM]:ce.FLOAT,[t.RG8]:ce.FLOAT,[t.RG8_SNORM]:ce.FLOAT,[t.RGB8]:ce.FLOAT,[t.RGB8_SNORM]:ce.FLOAT,[t.RGB565]:ce.FLOAT,[t.RGBA4]:ce.FLOAT,[t.RGB5_A1]:ce.FLOAT,[t.RGBA8]:ce.FLOAT,[t.RGBA8_SNORM]:ce.FLOAT,[t.RGB10_A2]:ce.FLOAT,[t.RGB10_A2UI]:ce.FLOAT,[t.SRGB8]:ce.FLOAT,[t.SRGB8_ALPHA8]:ce.FLOAT,[t.R16F]:ce.FLOAT,[t.RG16F]:ce.FLOAT,[t.RGB16F]:ce.FLOAT,[t.RGBA16F]:ce.FLOAT,[t.R32F]:ce.FLOAT,[t.RG32F]:ce.FLOAT,[t.RGB32F]:ce.FLOAT,[t.RGBA32F]:ce.FLOAT,[t.R11F_G11F_B10F]:ce.FLOAT,[t.RGB9_E5]:ce.FLOAT,[t.R8I]:ce.INT,[t.R8UI]:ce.UINT,[t.R16I]:ce.INT,[t.R16UI]:ce.UINT,[t.R32I]:ce.INT,[t.R32UI]:ce.UINT,[t.RG8I]:ce.INT,[t.RG8UI]:ce.UINT,[t.RG16I]:ce.INT,[t.RG16UI]:ce.UINT,[t.RG32I]:ce.INT,[t.RG32UI]:ce.UINT,[t.RGB8I]:ce.INT,[t.RGB8UI]:ce.UINT,[t.RGB16I]:ce.INT,[t.RGB16UI]:ce.UINT,[t.RGB32I]:ce.INT,[t.RGB32UI]:ce.UINT,[t.RGBA8I]:ce.INT,[t.RGBA8UI]:ce.UINT,[t.RGBA16I]:ce.INT,[t.RGBA16UI]:ce.UINT,[t.RGBA32I]:ce.INT,[t.RGBA32UI]:ce.UINT,[t.DEPTH_COMPONENT16]:ce.FLOAT,[t.DEPTH_COMPONENT24]:ce.FLOAT,[t.DEPTH_COMPONENT32F]:ce.FLOAT,[t.DEPTH_STENCIL]:ce.FLOAT,[t.DEPTH24_STENCIL8]:ce.FLOAT,[t.DEPTH32F_STENCIL8]:ce.FLOAT}:e={[t.RGB]:ce.FLOAT,[t.RGBA]:ce.FLOAT,[t.ALPHA]:ce.FLOAT,[t.LUMINANCE]:ce.FLOAT,[t.LUMINANCE_ALPHA]:ce.FLOAT,[t.DEPTH_STENCIL]:ce.FLOAT},e}function _N(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ve.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA8,[se.RGB]:t.RGB8,[se.RG]:t.RG8,[se.RED]:t.R8,[se.RGBA_INTEGER]:t.RGBA8UI,[se.RGB_INTEGER]:t.RGB8UI,[se.RG_INTEGER]:t.RG8UI,[se.RED_INTEGER]:t.R8UI,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.BYTE]:{[se.RGBA]:t.RGBA8_SNORM,[se.RGB]:t.RGB8_SNORM,[se.RG]:t.RG8_SNORM,[se.RED]:t.R8_SNORM,[se.RGBA_INTEGER]:t.RGBA8I,[se.RGB_INTEGER]:t.RGB8I,[se.RG_INTEGER]:t.RG8I,[se.RED_INTEGER]:t.R8I},[ve.UNSIGNED_SHORT]:{[se.RGBA_INTEGER]:t.RGBA16UI,[se.RGB_INTEGER]:t.RGB16UI,[se.RG_INTEGER]:t.RG16UI,[se.RED_INTEGER]:t.R16UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ve.SHORT]:{[se.RGBA_INTEGER]:t.RGBA16I,[se.RGB_INTEGER]:t.RGB16I,[se.RG_INTEGER]:t.RG16I,[se.RED_INTEGER]:t.R16I},[ve.UNSIGNED_INT]:{[se.RGBA_INTEGER]:t.RGBA32UI,[se.RGB_INTEGER]:t.RGB32UI,[se.RG_INTEGER]:t.RG32UI,[se.RED_INTEGER]:t.R32UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ve.INT]:{[se.RGBA_INTEGER]:t.RGBA32I,[se.RGB_INTEGER]:t.RGB32I,[se.RG_INTEGER]:t.RG32I,[se.RED_INTEGER]:t.R32I},[ve.FLOAT]:{[se.RGBA]:t.RGBA32F,[se.RGB]:t.RGB32F,[se.RG]:t.RG32F,[se.RED]:t.R32F,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ve.HALF_FLOAT]:{[se.RGBA]:t.RGBA16F,[se.RGB]:t.RGB16F,[se.RG]:t.RG16F,[se.RED]:t.R16F},[ve.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB565},[ve.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA4},[ve.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGB5_A1},[ve.UNSIGNED_INT_2_10_10_10_REV]:{[se.RGBA]:t.RGB10_A2,[se.RGBA_INTEGER]:t.RGB10_A2UI},[ve.UNSIGNED_INT_10F_11F_11F_REV]:{[se.RGB]:t.R11F_G11F_B10F},[ve.UNSIGNED_INT_5_9_9_9_REV]:{[se.RGB]:t.RGB9_E5},[ve.UNSIGNED_INT_24_8]:{[se.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ve.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[se.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ve.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA,[se.RGB]:t.RGB,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB},[ve.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA},[ve.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGBA}},e}class GE{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Pe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=_N(e),this.samplerTypes=vN(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new qm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new qm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==ce.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new qm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ce.FLOAT,this.webGLVersion===2&&e.type===ve.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==ce.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ua(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===di.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Gi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==di.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Oi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}GE.extension={type:le.RendererSystem,name:"texture"};me.add(GE);class zE{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}zE.extension={type:le.RendererSystem,name:"transformFeedback"};me.add(zE);class Md{constructor(e){this.renderer=e}init(e){this.screen=new Ie(0,0,e.width,e.height),this.element=e.view||he.ADAPTER.createCanvas(),this.resolution=e.resolution||he.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Md.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Md.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_view"};me.add(Md);he.PREFER_ENV=Lo.WEBGL2;he.STRICT_TEXTURE_CACHE=!1;he.RENDER_OPTIONS={...Rd.defaultOptions,...Id.defaultOptions,...Md.defaultOptions,...kd.defaultOptions};Object.defineProperties(he,{WRAP_MODE:{get(){return Pe.defaultOptions.wrapMode},set(t){Ne("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Pe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Pe.defaultOptions.scaleMode},set(t){Ne("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Pe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Pe.defaultOptions.mipmap},set(t){Ne("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Pe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Pe.defaultOptions.anisotropicLevel},set(t){Ne("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Pe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ne("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gr.defaultResolution},set(t){gr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ne("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gr.defaultMultisample},set(t){gr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return ho.defaultMaxTextures},set(t){Ne("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ho.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return ho.defaultBatchSize},set(t){Ne("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ho.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return ho.canUploadSameBuffer},set(t){Ne("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ho.canUploadSameBuffer=t}},GC_MODE:{get(){return fo.defaultMode},set(t){Ne("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),fo.defaultMode=t}},GC_MAX_IDLE:{get(){return fo.defaultMaxIdle},set(t){Ne("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),fo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return fo.defaultCheckCountMax},set(t){Ne("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),fo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Fi.defaultVertexPrecision},set(t){Ne("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Fi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Fi.defaultFragmentPrecision},set(t){Ne("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Fi.defaultFragmentPrecision=t}}});var Ls=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ls||{});class Qm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const HE=class Dr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qm(null,null,1/0),this.deltaMS=1/Dr.targetFPMS,this.elapsedMS=1/Dr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Ls.NORMAL){return this._addListener(new Qm(e,r,n))}addOnce(e,r,n=Ls.NORMAL){return this._addListener(new Qm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Dr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Dr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Dr._shared){const e=Dr._shared=new Dr;e.autoStart=!0,e._protected=!0}return Dr._shared}static get system(){if(!Dr._system){const e=Dr._system=new Dr;e.autoStart=!0,e._protected=!0}return Dr._system}};HE.targetFPMS=.06;let Wt=HE;Object.defineProperties(he,{TARGET_FPMS:{get(){return Wt.targetFPMS},set(t){Ne("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Wt.targetFPMS=t}}});class $E{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ls.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Wt.shared:new Wt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}$E.extension=le.Application;me.add($E);const jE=[];me.handleByList(le.Renderer,jE);function xN(t){for(const e of jE)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var wN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const SN=wN,WE=bN;class VE{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Pt.HIGH?this.multisample=Pt.HIGH:r>=Pt.MEDIUM?this.multisample=Pt.MEDIUM:r>=Pt.LOW?this.multisample=Pt.LOW:this.multisample=Pt.NONE}destroy(){}}VE.extension={type:le.RendererSystem,name:"_multisample"};me.add(VE);class EN{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class XE{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new EN(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}XE.extension={type:le.RendererSystem,name:"buffer"};me.add(XE);class YE{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}YE.extension={type:le.RendererSystem,name:"objectRenderer"};me.add(YE);const nd=class y0 extends yN{constructor(e){super(),this.type=BS.WEBGL,e=Object.assign({},he.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new On({projectionMatrix:new ot},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:y0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ne("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=y0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:XM()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ne("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ne("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ne("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ne("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};nd.extension={type:le.Renderer,priority:1},nd.__plugins={},nd.__systems={};let mv=nd;me.handleByMap(le.RendererPlugin,mv.__plugins);me.handleByMap(le.RendererSystem,mv.__systems);me.add(mv);class qE extends Mu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Pe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Mu?this.addResourceAt(e[n],n):this.addResourceAt(fE(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class TN extends qE{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=La.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class AN extends Fs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const QE=class Kl extends qE{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Kl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Kl.SIDES;a++)this.items[a].target=La.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=La.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=La.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Kl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Kl.SIDES}};QE.SIDES=6;let CN=QE;class xa extends Fs{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=xa.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await he.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ar.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return xa._EMPTY=xa._EMPTY??he.ADAPTER.createCanvas(0,0),xa._EMPTY}}const v0=class id extends Fs{constructor(e,r){r=r||{},super(he.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},id.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Fs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Po()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=id.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&id.SVG_XML.test(e)}};v0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,v0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let _0=v0;const x0=class w0 extends Fs{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Fs.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const d=a.split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);c=c||w0.MIME_TYPES[p]||`video/${p}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Wt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Wt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||w0.TYPES.includes(r)}};x0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],x0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let KE=x0;o0.push(xa,SE,AN,KE,_0,Af,CN,TN);class Nd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ie.EMPTY:(e=e||new Ie(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,d=n*r.x+s*r.y+a,p=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,d=e.d,p=e.tx,h=e.ty;let f=this.minX,g=this.minY,y=this.maxX,w=this.maxY,E=o*r+c*n+p,_=a*r+d*n+h;f=E<f?E:f,g=_<g?_:g,y=E>y?E:y,w=_>w?_:w,E=o*i+c*n+p,_=a*i+d*n+h,f=E<f?E:f,g=_<g?_:g,y=E>y?E:y,w=_>w?_:w,E=o*r+c*s+p,_=a*r+d*s+h,f=E<f?E:f,g=_<g?_:g,y=E>y?E:y,w=_>w?_:w,E=o*i+c*s+p,_=a*i+d*s+h,f=E<f?E:f,g=_<g?_:g,y=E>y?E:y,w=_>w?_:w,this.minX=f,this.minY=g,this.maxX=y,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],p=e[c+1];i=d<i?d:i,s=p<s?p:s,o=d>o?d:o,a=p>a?p:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,d=e.c,p=e.d,h=e.tx,f=e.ty;let g=this.minX,y=this.minY,w=this.maxX,E=this.maxY;for(let _=n;_<i;_+=2){const b=r[_],S=r[_+1],A=a*b+d*S+h,P=p*S+c*b+f;g=Math.min(g,A-s),w=Math.max(w,A+s),y=Math.min(y,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=y,this.maxX=w,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ht extends ic{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Rf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Nd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ht.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ie),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Nd);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new PN),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*w3}set angle(e){this.transform.rotation=e*b3}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class PN extends ht{constructor(){super(...arguments),this.sortDirty=null}}ht.prototype.displayObjectUpdateTransform=ht.prototype.updateTransform;const IN=new ot;function RN(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const ZE=class b0 extends ht{constructor(){super(),this.children=[],this.sortableChildren=b0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Ua(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Ua(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Ua(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(RN),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==b0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=IN.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==kt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};ZE.defaultSortableChildren=!1;let vr=ZE;vr.prototype.containerUpdateTransform=vr.prototype.updateTransform;Object.defineProperties(he,{SORTABLE_CHILDREN:{get(){return vr.defaultSortableChildren},set(t){Ne("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),vr.defaultSortableChildren=t}}});const Bl=new Fe,kN=new Uint16Array([0,1,2,0,2,3]);class xi extends vr{constructor(e){super(),this._anchor=new oi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new et(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=we.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ue.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=kN,this.pluginName="batch",this.isSprite=!0,this._roundPixels=he.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this.vertexData,p=e.trim,h=e.orig,f=this._anchor;let g=0,y=0,w=0,E=0;if(p?(y=p.x-f._x*h.width,g=y+p.width,E=p.y-f._y*h.height,w=E+p.height):(y=-f._x*h.width,g=y+h.width,E=-f._y*h.height,w=E+h.height),d[0]=n*y+s*E+a,d[1]=o*E+i*y+c,d[2]=n*g+s*E+a,d[3]=o*E+i*g+c,d[4]=n*g+s*w+a,d[5]=o*w+i*g+c,d[6]=n*y+s*w+a,d[7]=o*w+i*y+c,this._roundPixels){const _=he.RESOLUTION;for(let b=0;b<d.length;++b)d[b]=Math.round(d[b]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,d=s.d,p=s.tx,h=s.ty,f=-i._x*n.width,g=f+n.width,y=-i._y*n.height,w=y+n.height;if(r[0]=o*f+c*y+p,r[1]=d*y+a*f+h,r[2]=o*g+c*y+p,r[3]=d*y+a*g+h,r[4]=o*g+c*w+p,r[5]=d*w+a*g+h,r[6]=o*f+c*w+p,r[7]=d*w+a*f+h,this._roundPixels){const E=he.RESOLUTION;for(let _=0;_<r.length;++_)r[_]=Math.round(r[_]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Nd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Bl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Bl.x>=i&&Bl.x<i+r&&(s=-n*this.anchor.y,Bl.y>=s&&Bl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new xi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=xs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=xs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ue.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const JE=new ot;ht.prototype._cacheAsBitmap=!1;ht.prototype._cacheData=null;ht.prototype._cacheAsBitmapResolution=null;ht.prototype._cacheAsBitmapMultisample=null;class MN{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ht.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new MN),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ht.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ht.prototype._initCachedDisplayObject=function(t){var f,g;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Ie,!0);if((g=this.filters)!=null&&g.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=Bo.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),d=`cacheAsBitmap_${Po()}`;this._cacheData.textureCacheId=d,Pe.addToCache(c.baseTexture,d),ue.addToCache(c,d);const p=this.transform.localTransform.copyTo(JE).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new xi(c);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};ht.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ht.prototype._initCachedDisplayObjectCanvas=function(t){var p;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.getLocalBounds(new Ie,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Bo.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${Po()}`;this._cacheData.textureCacheId=a,Pe.addToCache(o.baseTexture,a),ue.addToCache(o,a);const c=JE;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new xi(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};ht.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ht.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ht.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Pe.removeFromCache(this._cacheData.textureCacheId),ue.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ht.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ht.prototype.name=null;vr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};ht.prototype.getGlobalPosition=function(t=new Fe,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var NN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class ON extends gr{constructor(e=1){super(SN,NN,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const FN={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},LN=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function DN(t){const e=FN[t],r=e.length;let n=LN,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const BN=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function UN(t,e){const r=Math.ceil(t/2);let n=BN,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class S0 extends gr{constructor(e,r=8,n=4,i=gr.defaultResolution,s=5){const o=UN(s,e),a=DN(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,ni.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(a,ni.BLIT),this.uniforms.uSampler=c;const p=c;c=a,a=p,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class GN extends gr{constructor(e=8,r=4,n=gr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new S0(!0,e,r,n,i),this.blurYFilter=new S0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,ni.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var zN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class E0 extends gr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(WE,zN,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=et.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,d=o*(1-n)-a*i,p=o*(1-n)+a*i,h=o*(1-n)+a*i,f=n+o*(1-n),g=o*(1-n)-a*i,y=o*(1-n)-a*i,w=o*(1-n)+a*i,E=n+o*(1-n),_=[c,d,p,0,0,h,f,g,0,0,y,w,E,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=et.shared,[a,c,d]=o.setValue(n).toArray(),[p,h,f]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,c,d,e,0,p,h,f,r,0,a-p,c-h,d-f,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}E0.prototype.grayscale=E0.prototype.greyscale;var HN=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,$N=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class jN extends gr{constructor(e,r){const n=new ot;e.renderable=!1,super($N,HN,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Fe(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var WN=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,VN=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class XN extends gr{constructor(){super(VN,WN)}}var YN=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class qN extends gr{constructor(e=.5,r=Math.random()){super(WE,YN,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const bw={AlphaFilter:ON,BlurFilter:GN,BlurFilterPass:S0,ColorMatrixFilter:E0,DisplacementFilter:jN,FXAAFilter:XN,NoiseFilter:qN};Object.entries(bw).forEach(([t,e])=>{Object.defineProperty(bw,t,{get(){return Ne("7.1.0",`filters.${t} has moved to ${t}`),e}})});class QN{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Wt.system.add(this.tickerUpdate,this,Ls.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Wt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const gs=new QN;class oc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=oc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Fe,this.page=new Fe,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Od extends oc{constructor(){super(...arguments),this.client=new Fe,this.movement=new Fe,this.offset=new Fe,this.global=new Fe,this.screen=new Fe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,d,p,h,f,g,y,w){throw new Error("Method not implemented.")}}class Tn extends Od{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class za extends Od{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}za.DOM_DELTA_PIXEL=0,za.DOM_DELTA_LINE=1,za.DOM_DELTA_PAGE=2;const KN=2048,ZN=new Fe,Km=new Fe;class JN{constructor(e){this.dispatch=new ic,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){gs.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,ZN.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<KN&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(gs.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let h=p.length-1;h>=0;h--){const f=p[h],g=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const y=e.isInteractive();(g.length>0||y)&&(y&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(gs.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const p=c[d],h=this.hitTestRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Km),!e.hitArea.contains(Km.x,Km.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d;if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const p=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,p,s);if(this.dispatchEvent(h,"pointerout"),n&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const p=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,p);this.dispatchEvent(h,"pointerover"),n&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(h)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(d=r.target)==null?void 0:d.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const d=a.button===2;this.dispatchEvent(a,d?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Tn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof za)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Tn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(za);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Tn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Tn&&r instanceof Tn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Od&&r instanceof Od&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const eO=1,tO={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},T0=class A0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new JN(null),gs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Tn(null),this.rootWheelEvent=new za(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...A0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,A0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,gs.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,gs.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;gs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;gs.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=eO),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=tO[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};T0.extension={name:"events",type:[le.RendererSystem,le.CanvasRendererSystem]},T0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let C0=T0;me.add(C0);function Sw(t){return t==="dynamic"||t==="static"}const rO={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Sw(C0.defaultEventMode)},set interactive(t){Ne("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??C0.defaultEventMode},set eventMode(t){this._internalInteractive=Sw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof oc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ht.mixin(rO);const nO={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ht.mixin(nO);const iO=9,vh=100,sO=0,oO=0,Ew=2,Tw=1,aO=-1e3,lO=-1e3,uO=2;class eT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(cn.tablet||cn.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${vh}px`,r.style.height=`${vh}px`,r.style.position="absolute",r.style.top=`${sO}px`,r.style.left=`${oO}px`,r.style.zIndex=Ew.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Tw}px`,e.style.height=`${Tw}px`,e.style.position="absolute",e.style.top=`${aO}px`,e.style.left=`${lO}px`,e.style.zIndex=uO.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(cn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,d=i/o*c,p=s/a*c;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const g=this.children[f];if(g.renderId!==this.renderId)g._accessibleActive=!1,Ua(this.children,f,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,f--;else{h=g._accessibleDiv;let y=g.hitArea;const w=g.worldTransform;g.hitArea?(h.style.left=`${(w.tx+y.x*w.a)*d}px`,h.style.top=`${(w.ty+y.y*w.d)*p}px`,h.style.width=`${y.width*w.a*d}px`,h.style.height=`${y.height*w.d*p}px`):(y=g.getBounds(),this.capHitArea(y),h.style.left=`${y.x*d}px`,h.style.top=`${y.y*p}px`,h.style.width=`${y.width*d}px`,h.style.height=`${y.height*p}px`,h.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(h.title=g.accessibleTitle),h.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&h.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==h.title||g.tabIndex!==h.tabIndex)&&(h.title=g.accessibleTitle,h.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${vh}px`,r.style.height=`${vh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Ew.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new oc(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===iO&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}eT.extension={name:"accessibility",type:[le.RendererPlugin,le.CanvasRendererPlugin]};me.add(eT);const tT=class P0{constructor(e){this.stage=new vr,e=Object.assign({forceCanvas:!1},e),this.renderer=xN(e),P0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=P0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};tT._plugins=[];let Mf=tT;me.handleByList(le.Application,Mf._plugins);class rT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}rT.extension=le.Application;me.add(rT);const Aw={loader:le.LoadParser,resolver:le.ResolveParser,cache:le.CacheParser,detection:le.DetectionParser};me.handle(le.Asset,t=>{const e=t.ref;Object.entries(Aw).filter(([r])=>!!e[r]).forEach(([r,n])=>me.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(Aw).filter(r=>!!e[r]).forEach(r=>me.remove(e[r]))});class cO{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ul(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function zs(t,e){const r=t.split("?")[0],n=Ft.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const In=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),I0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function nT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?nT(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function hO(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),nT(t,i,0,r,n)}else n.push(t);return n}const Fd=t=>!Array.isArray(t);class dO{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=In(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ue){const a=r;n.forEach(c=>{a.baseTexture!==ue.EMPTY.baseTexture&&Pe.addToCache(a.baseTexture,c),ue.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const vo=new dO;class fO{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((a=d.testParse)==null?void 0:a.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Fd(e),o=In(e,d=>({alias:[d],src:d})),a=o.length,c=o.map(async d=>{const p=Ft.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),i[d.src]=await this.promiseCache[p].promise,r&&r(++n/a)}catch(h){throw delete this.promiseCache[p],delete i[d.src],new Error(`[Loader.load] Failed to load ${p}.
${h}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=In(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Ft.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Un=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Un||{});const pO=".json",mO="application/json",gO={extension:{type:le.LoadParser,priority:Un.Low},name:"loadJson",test(t){return ul(t,mO)||zs(t,pO)},async load(t){return await(await he.ADAPTER.fetch(t)).json()}};me.add(gO);const yO=".txt",vO="text/plain",_O={name:"loadTxt",extension:{type:le.LoadParser,priority:Un.Low},test(t){return ul(t,vO)||zs(t,yO)},async load(t){return await(await he.ADAPTER.fetch(t)).text()}};me.add(_O);const xO=["normal","bold","100","200","300","400","500","600","700","800","900"],wO=[".ttf",".otf",".woff",".woff2"],bO=["font/ttf","font/otf","font/woff","font/woff2"],SO=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function EO(t){const e=Ft.extname(t),r=Ft.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(SO)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const TO=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function AO(t){return TO.test(t)?t:encodeURI(t)}const CO={extension:{type:le.LoadParser,priority:Un.Low},name:"loadWebFont",test(t){return ul(t,bO)||zs(t,wO)},async load(t,e){var n,i,s;const r=he.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??EO(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>xO.includes(p)))??["normal"],d=e.data??{};for(let p=0;p<c.length;p++){const h=c[p],f=new FontFace(a,`url(${AO(t)})`,{...d,weight:h});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>he.ADAPTER.getFontFaceSet().delete(e))}};me.add(CO);let Cw=0,Zm;const PO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",IO={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${PO}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},RO={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Jm;class kO{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([IO.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Zm===void 0&&(Zm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Zm&&(Jm||(Jm=URL.createObjectURL(new Blob([RO.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Jm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[Cw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Cw++,id:n})}}const Pw=new kO;function ac(t,e,r){t.resource.internal=!0;const n=new ue(t),i=()=>{delete e.promiseCache[r],vo.has(r)&&vo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const MO=[".jpeg",".jpg",".png",".webp",".avif"],NO=["image/jpeg","image/png","image/webp","image/avif"];async function OO(t){const e=await he.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Nf={name:"loadTextures",extension:{type:le.LoadParser,priority:Un.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ul(t,NO)||zs(t,MO)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await Pw.isImageBitmapSupported()?i=await Pw.loadImageBitmap(t):i=await OO(t):i=await new Promise((c,d)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=t,p.complete?c(p):(p.onload=()=>c(p),p.onerror=h=>d(h))});const s={...e.data};s.resolution??(s.resolution=$i(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Pe(i,s);return o.resource.src=t,ac(o,r,t)},unload(t){t.destroy(!0)}};me.add(Nf);const FO=".svg",LO="image/svg+xml",DO={extension:{type:le.LoadParser,priority:Un.High},name:"loadSVG",test(t){return ul(t,LO)||zs(t,FO)},async testParse(t){return _0.test(t)},async parse(t,e,r){var s;const n=new _0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Pe(n,{resolution:$i(t),...e==null?void 0:e.data});return i.resource.src=e.src,ac(i,r,e.src)},async load(t,e){return(await he.ADAPTER.fetch(t)).text()},unload:Nf.unload};me.add(DO);const BO=[".mp4",".m4v",".webm",".ogv"],UO=["video/mp4","video/webm","video/ogg"],GO={name:"loadVideo",extension:{type:le.LoadParser,priority:Un.High},config:{defaultAutoPlay:!0},test(t){return ul(t,UO)||zs(t,BO)},async load(t,e,r){var o;let n;const i=await(await he.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new KE(s,a);await c.load();const d=new Pe(c,{alphaMode:await VM(),resolution:$i(t),...e==null?void 0:e.data});d.resource.src=t,n=ac(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};me.add(GO);class zO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return In(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(d=>this._createBundleAssetId(e,d));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ne("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},In(o).forEach(c=>{const{src:d,srcs:p}=c;let{data:h,format:f,loadParser:g}=c;const y=In(d||p).map(_=>typeof _=="string"?hO(_):Array.isArray(_)?_:[_]),w=this.getAlias(c);Array.isArray(w)?w.forEach(a):a(w);const E=[];y.forEach(_=>{_.forEach(b=>{let S={};if(typeof b!="object"){S.src=b;for(let A=0;A<this._parsers.length;A++){const P=this._parsers[A];if(P.test(b)){S=P.parse(b);break}}}else h=b.data??h,f=b.format??f,g=b.loadParser??g,S={...S,...b};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:w,data:h,format:f,loadParser:g}),E.push(S)})}),w.forEach(_=>{this._assetMap[_]=E})})}resolveBundle(e){const r=Fd(e);e=In(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const d=o[c];a[this._extractAssetIdFromBundle(i,c)]=d}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Fd(e);e=In(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(d=>{const p=s.filter(h=>h[c]?h[c]===d:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ft.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Ft.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class HO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new zO,this.loader=new fO,this.cache=vo,this._backgroundLoader=new cO(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Fd(e),i=In(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(d=>!this.resolver.hasKey(d))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const d=()=>{r==null||r(++a/c)},p=o.map(h=>{const f=i[h];return c+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(g=>{s[h]=g})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=vo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const d=s[a.src],p=[a.src];a.alias&&p.push(...a.alias),o[i[c]]=d,vo.set(p,d)}),o}async unload(e){this._initialized||await this.init();const r=In(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=In(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{vo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Nf.config.preferWorkers}set preferWorkers(e){Ne("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const ai=new HO;me.handleByList(le.LoadParser,ai.loader.parsers).handleByList(le.ResolveParser,ai.resolver.parsers).handleByList(le.CacheParser,ai.cache.parsers).handleByList(le.DetectionParser,ai.detections);const $O={extension:le.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ue),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};me.add($O);async function iT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const sT={extension:{type:le.DetectionParser,priority:1},test:async()=>iT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};me.add(sT);const oT={extension:{type:le.DetectionParser,priority:0},test:async()=>iT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};me.add(oT);const Iw=["png","jpg","jpeg"],jO={extension:{type:le.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Iw],remove:async t=>t.filter(e=>!Iw.includes(e))};me.add(jO);const WO="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function gv(t){return WO?!1:document.createElement("video").canPlayType(t)!==""}const VO={extension:{type:le.DetectionParser,priority:0},test:async()=>gv("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};me.add(VO);const XO={extension:{type:le.DetectionParser,priority:0},test:async()=>gv("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};me.add(XO);const YO={extension:{type:le.DetectionParser,priority:0},test:async()=>gv("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};me.add(YO);const qO={extension:le.ResolveParser,test:Nf.test,parse:t=>{var e;return{resolution:parseFloat(((e=he.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ft.extname(t).slice(1),src:t}}};me.add(qO);var Br=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Br||{});const Ld={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Pi,pa;function Rw(){pa={s3tc:Pi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Pi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Pi.getExtension("WEBGL_compressed_texture_etc"),etc1:Pi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Pi.getExtension("WEBGL_compressed_texture_pvrtc")||Pi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Pi.getExtension("WEBGL_compressed_texture_atc"),astc:Pi.getExtension("WEBGL_compressed_texture_astc")}}const QO={extension:{type:le.DetectionParser,priority:2},test:async()=>{const t=he.ADAPTER.createCanvas().getContext("webgl");return t?(Pi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{pa||Rw();const e=[];for(const r in pa)pa[r]&&e.push(r);return[...e,...t]},remove:async t=>(pa||Rw(),t.filter(e=>!(e in pa)))};me.add(QO);class KO extends Af{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new s0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new s0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Eo extends KO{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Eo._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Eo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:d,levelBuffer:p}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,d,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Eo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let d=e.byteOffset,p=o,h=a,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*Ld[r];for(let w=0;w<n;w++)c[w]={levelID:w,levelWidth:n>1?p:f,levelHeight:n>1?h:g,levelBuffer:new Uint8Array(e.buffer,d,y)},d+=y,p=p>>1||1,h=h>>1||1,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*Ld[r];return c}}const eg=4,_h=124,ZO=32,kw=20,JO=542327876,xh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},eF={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},wh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},tF=1,rF=2,nF=4,iF=64,sF=512,oF=131072,aF=827611204,lF=861165636,uF=894720068,cF=808540228,hF=4,dF={[aF]:Br.COMPRESSED_RGBA_S3TC_DXT1_EXT,[lF]:Br.COMPRESSED_RGBA_S3TC_DXT3_EXT,[uF]:Br.COMPRESSED_RGBA_S3TC_DXT5_EXT},fF={70:Br.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Br.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Br.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Br.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Br.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Br.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Br.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Br.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Br.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function pF(t){const e=new Uint32Array(t);if(e[0]!==JO)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,_h/Uint32Array.BYTES_PER_ELEMENT),n=r[xh.HEIGHT],i=r[xh.WIDTH],s=r[xh.MIPMAP_COUNT],o=new Uint32Array(t,xh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,ZO/Uint32Array.BYTES_PER_ELEMENT),a=o[tF];if(a&nF){const c=o[eF.FOURCC];if(c!==cF){const b=dF[c],S=eg+_h,A=new Uint8Array(t,S);return[new Eo(A,{format:b,width:i,height:n,levels:s})]}const d=eg+_h,p=new Uint32Array(e.buffer,d,kw/Uint32Array.BYTES_PER_ELEMENT),h=p[wh.DXGI_FORMAT],f=p[wh.RESOURCE_DIMENSION],g=p[wh.MISC_FLAG],y=p[wh.ARRAY_SIZE],w=fF[h];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(g===hF)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,_=eg+_h+kw;if(y===1)E.push(new Uint8Array(t,_));else{const b=Ld[w];let S=0,A=i,P=n;for(let k=0;k<s;k++){const R=Math.max(1,A+3&-4),U=Math.max(1,P+3&-4),W=R*U*b;S+=W,A=A>>>1,P=P>>>1}let N=_;for(let k=0;k<y;k++)E.push(new Uint8Array(t,N,S)),N+=S}return E.map(b=>new Eo(b,{format:w,width:i,height:n,levels:s}))}throw a&iF?new Error("DDSParser does not support uncompressed texture data."):a&sF?new Error("DDSParser does not supported YUV uncompressed texture data."):a&oF?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&rF?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Mw=[171,75,84,88,32,49,49,187,13,10,26,10],mF=67305985,bn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},R0=64,Nw={[ve.UNSIGNED_BYTE]:1,[ve.UNSIGNED_SHORT]:2,[ve.INT]:4,[ve.UNSIGNED_INT]:4,[ve.FLOAT]:4,[ve.HALF_FLOAT]:8},gF={[se.RGBA]:4,[se.RGB]:3,[se.RG]:2,[se.RED]:1,[se.LUMINANCE]:1,[se.LUMINANCE_ALPHA]:2,[se.ALPHA]:1},yF={[ve.UNSIGNED_SHORT_4_4_4_4]:2,[ve.UNSIGNED_SHORT_5_5_5_1]:2,[ve.UNSIGNED_SHORT_5_6_5]:2};function vF(t,e,r=!1){const n=new DataView(e);if(!_F(t,n))return null;const i=n.getUint32(bn.ENDIANNESS,!0)===mF,s=n.getUint32(bn.GL_TYPE,i),o=n.getUint32(bn.GL_FORMAT,i),a=n.getUint32(bn.GL_INTERNAL_FORMAT,i),c=n.getUint32(bn.PIXEL_WIDTH,i),d=n.getUint32(bn.PIXEL_HEIGHT,i)||1,p=n.getUint32(bn.PIXEL_DEPTH,i)||1,h=n.getUint32(bn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(bn.NUMBER_OF_FACES,i),g=n.getUint32(bn.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(bn.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const w=4,E=4,_=c+3&-4,b=d+3&-4,S=new Array(h);let A=c*d;s===0&&(A=_*b);let P;if(s!==0?Nw[s]?P=Nw[s]*gF[o]:P=yF[s]:P=Ld[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const N=r?wF(n,y,i):null;let k=A*P,R=c,U=d,W=_,q=b,$=R0+y;for(let L=0;L<g;L++){const V=n.getUint32($,i);let J=$+4;for(let ee=0;ee<h;ee++){let oe=S[ee];oe||(oe=S[ee]=new Array(g)),oe[L]={levelID:L,levelWidth:g>1||s!==0?R:W,levelHeight:g>1||s!==0?U:q,levelBuffer:new Uint8Array(e,J,k)},J+=k}$+=V+4,$=$%4!==0?$+4-$%4:$,R=R>>1||1,U=U>>1||1,W=R+w-1&~(w-1),q=U+E-1&~(E-1),k=W*q*P}return s!==0?{uncompressed:S.map(L=>{let V=L[0].levelBuffer,J=!1;return s===ve.FLOAT?V=new Float32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4):s===ve.UNSIGNED_INT?(J=!0,V=new Uint32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)):s===ve.INT&&(J=!0,V=new Int32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)),{resource:new Af(V,{width:L[0].levelWidth,height:L[0].levelHeight}),type:s,format:J?xF(o):o}}),kvData:N}:{compressed:S.map(L=>new Eo(null,{format:a,width:c,height:d,levels:g,levelBuffers:L})),kvData:N}}function _F(t,e){for(let r=0;r<Mw.length;r++)if(e.getUint8(r)!==Mw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function xF(t){switch(t){case se.RGBA:return se.RGBA_INTEGER;case se.RGB:return se.RGB_INTEGER;case se.RG:return se.RG_INTEGER;case se.RED:return se.RED_INTEGER;default:return t}}function wF(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(R0+i,r),o=R0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),p=new DataView(t.buffer,o+c+1,s-c-1);n.set(d,p),i+=4+s+a}return n}const bF={extension:{type:le.LoadParser,priority:Un.High},name:"loadDDS",test(t){return zs(t,".dds")},async load(t,e,r){const n=await(await he.ADAPTER.fetch(t)).arrayBuffer(),i=pF(n).map(s=>{const o=new Pe(s,{mipmap:di.OFF,alphaMode:Ar.NO_PREMULTIPLIED_ALPHA,resolution:$i(t),...e.data});return ac(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(bF);const SF={extension:{type:le.LoadParser,priority:Un.High},name:"loadKTX",test(t){return zs(t,".ktx")},async load(t,e,r){const n=await(await he.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=vF(t,n),a=i??s,c={mipmap:di.OFF,alphaMode:Ar.NO_PREMULTIPLIED_ALPHA,resolution:$i(t),...e.data},d=a.map(p=>{a===s&&Object.assign(c,{type:p.type,format:p.format});const h=p.resource??p,f=new Pe(h,c);return f.ktxKeyValueData=o,ac(f,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(SF);const EF={extension:le.ResolveParser,test:t=>{const e=Ft.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Ft.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=he.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=he.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};me.add(EF);const bh=new Ie,TF=4,aT=class Zl{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=a,d.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const d=new FileReader;d.onload=()=>a(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Zl._flipY(n,i,s),a&&Zl._unpremultiplyAlpha(n);const c=new l3(i,s,1),d=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Zl._flipY(n,i,s),a&&Zl._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof Bo?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(bh.width=r.width,bh.height=r.height,r=bh)));const d=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===se.RGBA,!c){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=bh,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const p=Math.max(Math.round(r.width*i),1),h=Math.max(Math.round(r.height*i),1),f=new Uint8Array(TF*p*h);return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),p,h,d.RGBA,d.UNSIGNED_BYTE,f),c&&(a==null||a.destroy(!0)),{pixels:f,width:p,height:h,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,d=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,d,d+i),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};aT.extension={name:"extract",type:le.RendererSystem};let AF=aT;me.add(AF);const Dd={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Kt.CIRC){const y=t.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(t.type===Kt.ELIP){const y=t.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=t.shape,w=y.width/2,E=y.height/2;r=y.x+w,n=y.y+E,o=a=Math.max(0,Math.min(y.radius,Math.min(w,E))),i=w-o,s=E-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,h=c*4+(i?2:0)+2,f=h,g=d;{const y=i+o,w=s,E=r+y,_=r-y,b=n+w;if(e[p++]=E,e[p++]=b,e[--h]=b,e[--h]=_,s){const S=n-w;e[f++]=_,e[f++]=S,e[--g]=S,e[--g]=E}}for(let y=1;y<c;y++){const w=Math.PI/2*(y/c),E=i+Math.cos(w)*o,_=s+Math.sin(w)*a,b=r+E,S=r-E,A=n+_,P=n-_;e[p++]=b,e[p++]=A,e[--h]=A,e[--h]=S,e[f++]=S,e[f++]=P,e[--g]=P,e[--g]=b}{const y=i,w=s+a,E=r+y,_=r-y,b=n+w,S=n-w;e[p++]=E,e[p++]=b,e[--g]=S,e[--g]=E,i&&(e[p++]=_,e[p++]=b,e[--g]=S,e[--g]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==Kt.RREC){const p=t.shape;a=p.x,c=p.y}else{const p=t.shape;a=p.x+p.width/2,c=p.y+p.height/2}const d=t.matrix;n.push(t.matrix?d.a*a+d.c*c+d.tx:a,t.matrix?d.b*a+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Ow(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[d]]=[t[d],t[a]]}}}const lT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Ow(r,!1);const o=[];for(let d=0;d<n.length;d++){const p=n[d];Ow(p.points,!0),o.push(r.length/2),r=r.concat(p.points)}const a=SR(r,o,2);if(!a)return;const c=i.length/2;for(let d=0;d<a.length;d+=3)s.push(a[d]+c),s.push(a[d+1]+c),s.push(a[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},CF={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},PF={build(t){Dd.build(t)},triangulate(t,e){Dd.triangulate(t,e)}};var sn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(sn||{}),ws=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(ws||{});const Za={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Fw{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,d=a-e,p=i-r,h=n-e,f=Math.abs(c*h-d*p);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=c*c+d*d,y=p*p+h*h,w=c*p+d*h,E=s*Math.sqrt(g)/f,_=s*Math.sqrt(y)/f,b=E*w/g,S=_*w/y,A=E*h+_*d,P=E*p+_*c,N=d*(_+b),k=c*(_+b),R=h*(E+S),U=p*(E+S),W=Math.atan2(k-P,N-A),q=Math.atan2(U-P,R-A);return{cx:A+e,cy:P+r,radius:s,startAngle:W,endAngle:q,anticlockwise:d*p>h*c}}static arc(e,r,n,i,s,o,a,c,d){const p=a-o,h=Za._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/Pd)*40),f=p/(h*2),g=f*2,y=Math.cos(f),w=Math.sin(f),E=h-1,_=E%1/E;for(let b=0;b<=E;++b){const S=b+_*b,A=f+o+g*S,P=Math.cos(A),N=-Math.sin(A);d.push((y*P+w*N)*s+n,(y*-N+w*P)*s+i)}}}class IF{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class yv{static curveLength(e,r,n,i,s,o,a,c){let d=0,p=0,h=0,f=0,g=0,y=0,w=0,E=0,_=0,b=0,S=0,A=e,P=r;for(let N=1;N<=10;++N)p=N/10,h=p*p,f=h*p,g=1-p,y=g*g,w=y*g,E=w*e+3*y*p*n+3*g*h*s+f*a,_=w*r+3*y*p*i+3*g*h*o+f*c,b=A-E,S=P-_,A=E,P=_,d+=Math.sqrt(b*b+S*S);return d}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],d=a[a.length-1];a.length-=2;const p=Za._segmentsCount(yv.curveLength(c,d,e,r,n,i,s,o));let h=0,f=0,g=0,y=0,w=0;a.push(c,d);for(let E=1,_=0;E<=p;++E)_=E/p,h=1-_,f=h*h,g=f*h,y=_*_,w=y*_,a.push(g*c+3*f*_*e+3*h*y*n+w*s,g*d+3*f*_*r+3*h*y*i+w*o)}}function Lw(t,e,r,n,i,s,o,a){const c=t-r*i,d=e-n*i,p=t+r*s,h=e+n*s;let f,g;o?(f=n,g=-r):(f=-n,g=r);const y=c+f,w=d+g,E=p+f,_=h+g;return a.push(y,w,E,_),2}function io(t,e,r,n,i,s,o,a){const c=r-t,d=n-e;let p=Math.atan2(c,d),h=Math.atan2(i-t,s-e);a&&p<h?p+=Math.PI*2:!a&&p>h&&(h+=Math.PI*2);let f=p;const g=h-p,y=Math.abs(g),w=Math.sqrt(c*c+d*d),E=(15*y*Math.sqrt(w)/Math.PI>>0)+1,_=g/E;if(f+=_,a){o.push(t,e,r,n);for(let b=1,S=f;b<E;b++,S+=_)o.push(t,e,t+Math.sin(S)*w,e+Math.cos(S)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,S=f;b<E;b++,S+=_)o.push(t+Math.sin(S)*w,e+Math.cos(S)*w,t,e);o.push(i,s,t,e)}return E*2}function RF(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Fe(n[0],n[1]),a=new Fe(n[n.length-2],n[n.length-1]),c=r.type!==Kt.POLY||r.closeStroke,d=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const oe=(o.x+a.x)*.5,M=(a.y+o.y)*.5;n.unshift(oe,M),n.push(oe,M)}const p=e.points,h=n.length/2;let f=n.length;const g=p.length/2,y=s.width/2,w=y*y,E=s.miterLimit*s.miterLimit;let _=n[0],b=n[1],S=n[2],A=n[3],P=0,N=0,k=-(b-A),R=_-S,U=0,W=0,q=Math.sqrt(k*k+R*R);k/=q,R/=q,k*=y,R*=y;const $=s.alignment,L=(1-$)*2,V=$*2;c||(s.cap===ws.ROUND?f+=io(_-k*(L-V)*.5,b-R*(L-V)*.5,_-k*L,b-R*L,_+k*V,b+R*V,p,!0)+2:s.cap===ws.SQUARE&&(f+=Lw(_,b,k,R,L,V,!0,p))),p.push(_-k*L,b-R*L,_+k*V,b+R*V);for(let oe=1;oe<h-1;++oe){_=n[(oe-1)*2],b=n[(oe-1)*2+1],S=n[oe*2],A=n[oe*2+1],P=n[(oe+1)*2],N=n[(oe+1)*2+1],k=-(b-A),R=_-S,q=Math.sqrt(k*k+R*R),k/=q,R/=q,k*=y,R*=y,U=-(A-N),W=S-P,q=Math.sqrt(U*U+W*W),U/=q,W/=q,U*=y,W*=y;const M=S-_,X=b-A,D=S-P,z=N-A,te=M*D+X*z,Ce=X*D-z*M,Ee=Ce<0;if(Math.abs(Ce)<.001*Math.abs(te)){p.push(S-k*L,A-R*L,S+k*V,A+R*V),te>=0&&(s.join===sn.ROUND?f+=io(S,A,S-k*L,A-R*L,S-U*L,A-W*L,p,!1)+4:f+=2,p.push(S-U*V,A-W*V,S+U*L,A+W*L));continue}const We=(-k+_)*(-R+A)-(-k+S)*(-R+b),ke=(-U+P)*(-W+A)-(-U+S)*(-W+N),je=(M*ke-D*We)/Ce,Lt=(z*We-X*ke)/Ce,Xt=(je-S)*(je-S)+(Lt-A)*(Lt-A),vt=S+(je-S)*L,Me=A+(Lt-A)*L,rt=S-(je-S)*V,ze=A-(Lt-A)*V,Xr=Math.min(M*M+X*X,D*D+z*z),Yr=Ee?L:V,Xs=Xr+Yr*Yr*w,lp=Xt<=Xs;let zo=s.join;if(zo===sn.MITER&&Xt/w>E&&(zo=sn.BEVEL),lp)switch(zo){case sn.MITER:{p.push(vt,Me,rt,ze);break}case sn.BEVEL:{Ee?p.push(vt,Me,S+k*V,A+R*V,vt,Me,S+U*V,A+W*V):p.push(S-k*L,A-R*L,rt,ze,S-U*L,A-W*L,rt,ze),f+=2;break}case sn.ROUND:{Ee?(p.push(vt,Me,S+k*V,A+R*V),f+=io(S,A,S+k*V,A+R*V,S+U*V,A+W*V,p,!0)+4,p.push(vt,Me,S+U*V,A+W*V)):(p.push(S-k*L,A-R*L,rt,ze),f+=io(S,A,S-k*L,A-R*L,S-U*L,A-W*L,p,!1)+4,p.push(S-U*L,A-W*L,rt,ze));break}}else{switch(p.push(S-k*L,A-R*L,S+k*V,A+R*V),zo){case sn.MITER:{Ee?p.push(rt,ze,rt,ze):p.push(vt,Me,vt,Me),f+=2;break}case sn.ROUND:{Ee?f+=io(S,A,S+k*V,A+R*V,S+U*V,A+W*V,p,!0)+2:f+=io(S,A,S-k*L,A-R*L,S-U*L,A-W*L,p,!1)+2;break}}p.push(S-U*L,A-W*L,S+U*V,A+W*V),f+=2}}_=n[(h-2)*2],b=n[(h-2)*2+1],S=n[(h-1)*2],A=n[(h-1)*2+1],k=-(b-A),R=_-S,q=Math.sqrt(k*k+R*R),k/=q,R/=q,k*=y,R*=y,p.push(S-k*L,A-R*L,S+k*V,A+R*V),c||(s.cap===ws.ROUND?f+=io(S-k*(L-V)*.5,A-R*(L-V)*.5,S-k*L,A-R*L,S+k*V,A+R*V,p,!1)+2:s.cap===ws.SQUARE&&(f+=Lw(S,A,k,R,L,V,!1,p)));const J=e.indices,ee=Za.epsilon*Za.epsilon;for(let oe=g;oe<f+g-2;++oe)_=p[oe*2],b=p[oe*2+1],S=p[(oe+1)*2],A=p[(oe+1)*2+1],P=p[(oe+2)*2],N=p[(oe+2)*2+1],!(Math.abs(_*(A-N)+S*(N-b)+P*(b-A))<ee)&&J.push(oe,oe+1,oe+2)}function kF(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Kt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,d=o.length/2;let p=d;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(p,p+1),p++;s&&a.push(p,d)}function Dw(t,e){t.lineStyle.native?kF(t,e):RF(t,e)}class vv{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,d=2*n-2*e,p=2*i-2*r,h=4*(a*a+c*c),f=4*(a*d+c*p),g=d*d+p*p,y=2*Math.sqrt(h+f+g),w=Math.sqrt(h),E=2*h*w,_=2*Math.sqrt(g),b=f/w;return(E*y+w*f*(y-_)+(4*g*h-f*f)*Math.log((2*w+b+y)/(b+_)))/(4*E)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=Za._segmentsCount(vv.curveLength(o,a,e,r,n,i));let d=0,p=0;for(let h=1;h<=c;++h){const f=h/c;d=o+(e-o)*f,p=a+(r-a)*f,s.push(d+(e+(n-e)*f-d)*f,p+(r+(i-r)*f-p)*f)}}}const tg={[Kt.POLY]:lT,[Kt.CIRC]:Dd,[Kt.ELIP]:Dd,[Kt.RECT]:CF,[Kt.RREC]:PF},Bw=[],Sh=[];class Bd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Bd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const aa=new Fe,uT=class cT extends pE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Nd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Sh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Bw.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Bd(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Bd(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,aa):aa.copyFrom(e),i.shape.contains(aa.x,aa.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(aa.x,aa.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],p=d.fillStyle,h=d.lineStyle;tg[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(p.visible||h.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const g=f===0?p:h;if(!g.visible)continue;const y=g.texture.baseTexture,w=this.indices.length,E=this.points.length/2;y.wrapMode=Gi.REPEAT,f===0?this.processFill(d):this.processLine(d);const _=this.points.length/2-E;_!==0&&(n&&!this._compareStyles(i,g)&&(n.end(w,E),n=null),n||(n=Bw.pop()||new IF,n.begin(g,w,E),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,E,_,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<cT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Pe._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Sh.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Sh.pop();i||(i=new l0,i.texArray=new f0),i.texArray.count=0,i.start=0,i.size=0,i.type=Rn.TRIANGLES;let s=0,o=null,a=0,c=!1,d=Rn.TRIANGLES,p=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],g=8,y=f.style,w=y.texture.baseTexture;c!==!!y.native&&(c=!!y.native,d=c?Rn.LINES:Rn.TRIANGLES,o=null,s=g,e++),o!==w&&(o=w,w._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=Sh.pop(),i||(i=new l0,i.texArray=new f0),this.drawCalls.push(i)),i.start=p,i.size=0,i.texArray.count=0,i.type=d),w.touched=1,w._batchEnabled=e,w._batchLocation=s,w.wrapMode=Gi.REPEAT,i.texArray.elements[i.texArray.count++]=w,s++)),i.size+=f.size,p+=f.size,a=w._batchLocation,this.addColors(r,y.color,y.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,a,f.attribSize,f.attribStart)}Pe._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],a[c++]=n[d],o[c++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?lT.triangulate(e,this):tg[e.type].triangulate(e,this)}processLine(e){Dw(e,this);for(let r=0;r<e.holes.length;r++)Dw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];tg[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=et.shared.setValue(r).toLittleEndianNumber(),a=et.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,d=n.frame;for(;a<s;){let h=e[(i+a)*2],f=e[(i+a)*2+1];if(o){const g=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty,h=g}a++,r.push(h/d.width,f/d.height)}const p=n.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,d=c.width/s.width,p=c.height/s.height;let h=c.x/c.width,f=c.y/c.height,g=Math.floor(e[n]+o),y=Math.floor(e[n+1]+o);for(let w=n+2;w<a;w+=2)g=Math.min(g,Math.floor(e[w]+o)),y=Math.min(y,Math.floor(e[w+1]+o));h-=g,f-=y;for(let w=n;w<a;w+=2)e[w]=(e[w]+h)*d,e[w+1]=(e[w+1]+f)*p}};uT.BATCHABLE_SIZE=100;let MF=uT;class Of{constructor(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Of;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class _v extends Of{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ws.BUTT,this.join=sn.MITER,this.miterLimit=10}clone(){const e=new _v;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ws.BUTT,this.join=sn.MITER,this.miterLimit=10}}const rg={},k0=class sd extends vr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Of,this._lineStyle=new _v,this._matrix=null,this._holeMode=!1,this.state=_i.for2d(),this._geometry=e||new MF,this._geometry.refCount++,this._transformID=-1,this._tintColor=new et(16777215),this.blendMode=we.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new sd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ue.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ws.BUTT,join:sn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new fu,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new fu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),vv.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),yv.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=Fw.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:d,radius:p,startAngle:h,endAngle:f,anticlockwise:g}=a;this.arc(c,d,p,h,f,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Pd:o&&i<=s&&(i+=Pd),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const h=Math.abs(p[p.length-2]-a),f=Math.abs(p[p.length-1]-c);h<d&&f<d||p.push(a,c)}else this.moveTo(a,c),p=this.currentPath.points;return Fw.arc(a,c,e,r,n,i,s,o,p),this}beginFill(e=0,r){return this.beginTextureFill({texture:ue.WHITE,color:e,alpha:r})}normalizeColor(e){const r=et.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ue.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ie(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new If(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Cf(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Pf(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new fu(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Kt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),p={vertexData:a,blendMode:r,indices:d,uvs:c,_batchRGB:et.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=p}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,et.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!rg[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new ot,default:On.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;rg[n]=new ui(a,o)}r=rg[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,sd._TEMP_POINT),this._geometry.containsPoint(sd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=et.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this._geometry.points,p=this.vertexData;let h=0;for(let f=0;f<d.length;f+=2){const g=d[f],y=d[f+1];p[h++]=n*g+s*y+a,p[h++]=o*y+i*g+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};k0.curves=Za,k0._TEMP_POINT=new Fe;let pu=k0;class NF{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const ng=new Fe,Uw=new fu,hT=class dT extends vr{constructor(e,r,n,i=Rn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||_i.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=he.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Rn.TRIANGLES&&r.length<dT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,d=i.tx,p=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const g=r[f*2],y=r[f*2+1];h[f*2]=s*g+a*y+d,h[f*2+1]=o*g+c*y+p}if(this._roundPixels){const f=he.RESOLUTION;for(let g=0;g<h.length;++g)h[g]=Math.round(h[g]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new NF(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,ng);const r=this.geometry.getBuffer("aVertexPosition").data,n=Uw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,d=i[a+1]*2,p=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[p],n[5]=r[p+1],Uw.contains(ng.x,ng.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};hT.BATCHABLE_SIZE=100;let Nu=hT;class Ff extends Os{constructor(e,r,n){super();const i=new Tt(e),s=new Tt(r,!0),o=new Tt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ve.FLOAT).addAttribute("aTextureCoord",s,2,!1,ve.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var OF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,FF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Ou extends ui{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ot.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Fi.from(FF,OF),n),this._colorDirty=!1,this.uvMatrix=new pv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new et(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;et.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class LF extends Ff{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let p=0;p<e;p++){const h=p%this.segWidth,f=p/this.segWidth|0;r.push(h*a,f*c),n.push(h/s,f/o)}const d=s*o;for(let p=0;p<d;p++){const h=p%s,f=p/s|0,g=f*this.segWidth+h,y=f*this.segWidth+h+1,w=(f+1)*this.segWidth+h,E=(f+1)*this.segWidth+h+1;i.push(g,y,w,y,E,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class DF extends Ff{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const d=this._width*this.textureScale,p=e.length;for(let f=0;f<p;f++){const g=f*4;if(this.textureScale>0){const y=c.x-e[f].x,w=c.y-e[f].y,E=Math.sqrt(y*y+w*w);c=e[f],a+=E/d}else a=f/(p-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let h=0;for(let f=0;f<p-1;f++){const g=f*2;o[h++]=g,o[h++]=g+1,o[h++]=g+2,o[h++]=g+2,o[h++]=g+1,o[h++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<a;d++){const p=e[d],h=d*4;d<e.length-1?n=e[d+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=c,s*=c),o[h]=p.x+i,o[h+1]=p.y+s,o[h+2]=p.x-i,o[h+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class BF extends Nu{constructor(e,r,n){const i=new LF(e.width,e.height,r,n),s=new Ou(ue.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Eh=10;class UF extends BF{constructor(e,r,n,i,s){var o,a,c,d;super(ue.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Eh,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Eh,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Eh,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??Eh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class GF extends Nu{constructor(e=ue.EMPTY,r,n,i,s){const o=new Ff(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Ou(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class zF extends Nu{constructor(e,r,n=0){const i=new DF(e.height,r,n),s=new Ou(e);n>0&&(e.baseTexture.wrapMode=Gi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class HF extends vr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=we.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new et(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Gw{constructor(e,r,n){this.geometry=new Os,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ve.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Tt(o3(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Tt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Tt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ve.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ve.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var $F=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,jF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class fT extends kf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ot,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ve.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ui.from(jF,$F,{}),this.state=_i.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=hE(e.blendMode,d),s.state.set(this.state);const p=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=et.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let f=!1;for(let g=0,y=0;g<o;g+=i,y+=1){let w=o-g;w>i&&(w=i),y>=a.length&&a.push(this._generateOneMoreBuffer(e));const E=a[y];E.uploadDynamic(r,g,w);const _=e._bufferUpdateIDs[y]||0;f=f||E._updateID<_,f&&(E._updateID=e._updateID,E.uploadStatic(r,g,w)),s.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,w*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Gw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Gw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,d=0,p=0;for(let h=0;h<n;++h){const f=e[r+h],g=f._texture,y=f.scale.x,w=f.scale.y,E=g.trim,_=g.orig;E?(c=E.x-f.anchor.x*_.width,a=c+E.width,p=E.y-f.anchor.y*_.height,d=p+E.height):(a=_.width*(1-f.anchor.x),c=_.width*-f.anchor.x,d=_.height*(1-f.anchor.y),p=_.height*-f.anchor.y),i[o]=c*y,i[o+1]=p*w,i[o+s]=a*y,i[o+s+1]=p*w,i[o+s*2]=a*y,i[o+s*2+1]=d*w,i[o+s*3]=c*y,i[o+s*3+1]=d*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],d=et.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}fT.extension={name:"particle",type:le.RendererPlugin};me.add(fT);var Lf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Lf||{});const Th={willReadFrequently:!0},ei=class ye{static get experimentalLetterSpacingSupported(){let e=ye._experimentalLetterSpacingSupported;if(e!==void 0){const r=he.ADAPTER.getCanvasRenderingContext2D().prototype;e=ye._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,i=ye._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ye.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",Th);a.font=s;const c=(n?ye.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let p=0;for(let y=0;y<c.length;y++){const w=ye._measureText(c[y],r.letterSpacing,a);d[y]=w,p=Math.max(p,w)}let h=p+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const f=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(f,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(f+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new ye(e,r,h,g,c,d,f+r.leading,p,o)}static _measureText(e,r,n){let i=!1;ye.experimentalLetterSpacingSupported&&(ye.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ye.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ye._canvas){const i=n.getContext("2d",Th);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:d,whiteSpace:p}=r,h=ye.collapseSpaces(p),f=ye.collapseNewlines(p);let g=!h;const y=r.wordWrapWidth+d,w=ye.tokenize(e);for(let E=0;E<w.length;E++){let _=w[E];if(ye.isNewline(_)){if(!f){a+=ye.addLine(o),g=!h,o="",s=0;continue}_=" "}if(h){const S=ye.isBreakingSpace(_),A=ye.isBreakingSpace(o[o.length-1]);if(S&&A)continue}const b=ye.getFromCache(_,d,c,i);if(b>y)if(o!==""&&(a+=ye.addLine(o),o="",s=0),ye.canBreakWords(_,r.breakWords)){const S=ye.wordWrapSplit(_);for(let A=0;A<S.length;A++){let P=S[A],N=P,k=1;for(;S[A+k];){const U=S[A+k];if(!ye.canBreakChars(N,U,_,A,r.breakWords))P+=U;else break;N=U,k++}A+=k-1;const R=ye.getFromCache(P,d,c,i);R+s>y&&(a+=ye.addLine(o),g=!1,o="",s=0),o+=P,s+=R}}else{o.length>0&&(a+=ye.addLine(o),o="",s=0);const S=E===w.length-1;a+=ye.addLine(_,!S),g=!1,o="",s=0}else b+s>y&&(g=!1,a+=ye.addLine(o),o="",s=0),(o.length>0||!ye.isBreakingSpace(_)||g)&&(o+=_,s+=b)}return a+=ye.addLine(o,!1),a}static addLine(e,r=!0){return e=ye.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ye._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ye.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ye._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ye._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ye.isBreakingSpace(s,o)||ye.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ye.graphemeSegmenter(e)}static measureFont(e){if(ye._fonts[e])return ye._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ye._canvas,i=ye._context;i.font=e;const s=ye.METRICS_STRING+ye.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ye.BASELINE_SYMBOL).width);const c=Math.ceil(ye.HEIGHT_MULTIPLIER*a);if(a=a*ye.BASELINE_MULTIPLIER|0,o===0||c===0)return ye._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const d=i.getImageData(0,0,o,c).data,p=d.length,h=o*4;let f=0,g=0,y=!1;for(f=0;f<a;++f){for(let w=0;w<h;w+=4)if(d[g+w]!==255){y=!0;break}if(!y)g+=h;else break}for(r.ascent=a-f,g=p-h,y=!1,f=c;f>a;--f){for(let w=0;w<h;w+=4)if(d[g+w]!==255){y=!0;break}if(!y)g-=h;else break}return r.descent=f-a,r.fontSize=r.ascent+r.descent,ye._fonts[e]=r,r}static clearMetrics(e=""){e?delete ye._fonts[e]:ye._fonts={}}static get _canvas(){var e;if(!ye.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Th))!=null&&e.measureText)return ye.__canvas=n,n;r=he.ADAPTER.createCanvas()}catch{r=he.ADAPTER.createCanvas()}r.width=r.height=10,ye.__canvas=r}return ye.__canvas}static get _context(){return ye.__context||(ye.__context=ye._canvas.getContext("2d",Th)),ye.__context}};ei.METRICS_STRING="|q",ei.BASELINE_SYMBOL="M",ei.BASELINE_MULTIPLIER=1.4,ei.HEIGHT_MULTIPLIER=2,ei.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ei.experimentalLetterSpacing=!1,ei._fonts={},ei._newlines=[10,13],ei._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ds=ei;const WF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],pT=class Jl{constructor(e){this.styleID=0,this.reset(),sg(this,e,e)}clone(){const e={};return sg(e,this,Jl.defaultStyle),new Jl(e)}reset(){sg(this,Jl.defaultStyle,Jl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=ig(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=ig(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){VF(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=ig(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!WF.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};pT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Lf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let fi=pT;function ig(t){const e=et.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function VF(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function sg(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const XF={texture:!0,children:!1,baseTexture:!0},mT=class M0 extends xi{constructor(e,r,n){let i=!1;n||(n=he.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ue.from(n);s.orig=new Ie,s.trim=new Ie,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=M0.defaultResolution??he.RESOLUTION,this._autoResolution=M0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ds.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ne("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ds.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=ds.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,d=i.lineWidths,p=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let f,g;const y=r.dropShadow?2:1;for(let w=0;w<y;++w){const E=r.dropShadow&&w===0,_=E?Math.ceil(Math.max(1,o)+r.padding*2):0,b=_*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,N=r.dropShadowDistance*this._resolution;n.shadowColor=et.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*N,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*N+b}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(c-h.fontSize)/2;c-h.fontSize<0&&(S=0);for(let A=0;A<a.length;A++)f=r.strokeThickness/2,g=r.strokeThickness/2+A*c+h.ascent+S,r.align==="right"?f+=p-d[A]:r.align==="center"&&(f+=(p-d[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-_,!0),r.fill&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-_)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(ds.experimentalLetterSpacingSupported&&(ds.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=ds.graphemeSegmenter(e);let d=this.context.measureText(e).width,p=0;for(let h=0;h<c.length;++h){const f=c[h];i?this.context.strokeText(f,a,n):this.context.fillText(f,a,n);let g="";for(let y=h+1;y<c.length;++y)g+=c[y];p=this.context.measureText(g).width,a+=d-p+s,d=p}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=c3(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,d=this.canvas.height/this._resolution-o-a*2,p=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const f=p.length+1;for(let g=1;g<f;++g)h.push(g/f)}if(p.unshift(i[0]),h.unshift(0),p.push(i[i.length-1]),h.push(1),e.fillGradientType===Lf.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,d+a);const f=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const y=n.lineHeight*(g-1)+f,w=n.lineHeight*g;let E=w;g>0&&y>w&&(E=(w+y)/2);const _=w+f,b=n.lineHeight*(g+1);let S=_;g+1<r.length&&b<_&&(S=(_+b)/2);const A=(S-E)/d;for(let P=0;P<p.length;P++){let N=0;typeof h[P]=="number"?N=h[P]:N=P/p.length;let k=Math.min(1,Math.max(0,E/d+N*A));k=Number(k.toFixed(5)),s.addColorStop(k,p[P])}}}else{s=this.context.createLinearGradient(a,d/2,c+a,d/2);const f=p.length+1;let g=1;for(let y=0;y<p.length;y++){let w;typeof h[y]=="number"?w=h[y]:w=g/f,s.addColorStop(w,p[y]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},XF,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=xs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=xs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof fi?this._style=e:this._style=new fi(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};mT.defaultAutoResolution=!0;let xv=mT;class YF{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function qF(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ue){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function QF(t,e){if(t.baseTexture instanceof Pe){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function KF(t,e){if(t._texture&&t._texture instanceof ue){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ZF(t,e){return e instanceof xv?(e.updateText(!0),!0):!1}function JF(t,e){if(e instanceof fi){const r=e.toFontString();return ds.measureFont(r),!0}return!1}function eL(t,e){if(t instanceof xv){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function tL(t,e){return t instanceof fi?(e.includes(t)||e.push(t),!0):!1}const gT=class yT{constructor(e){this.limiter=new YF(yT.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(eL),this.registerFindHook(tL),this.registerFindHook(qF),this.registerFindHook(QF),this.registerFindHook(KF),this.registerUploadHook(ZF),this.registerUploadHook(JF)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Wt.system.addOnce(this.tick,this,Ls.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Wt.system.addOnce(this.tick,this,Ls.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof vr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Wt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};gT.uploadsPerFrame=4;let N0=gT;Object.defineProperties(he,{UPLOADS_PER_FRAME:{get(){return N0.uploadsPerFrame},set(t){Ne("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),N0.uploadsPerFrame=t}}});function vT(t,e){return e instanceof Pe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function rL(t,e){if(!(e instanceof pu))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&vT(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function nL(t,e){return t instanceof pu?(e.push(t),!0):!1}class _T extends N0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(nL),this.registerUploadHook(vT),this.registerUploadHook(rL)}}_T.extension={name:"prepare",type:le.RendererSystem};me.add(_T);class Fu extends xi{constructor(e,r=!0){super(e[0]instanceof ue?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Wt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Wt.shared.add(this.update,this,Ls.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Fu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Fu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ue)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Wt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Wt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ul=new Fe;class wv extends xi{constructor(e,r=100,n=100){super(e),this.tileTransform=new Rf,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new pv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ul);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Ul.x>=i&&Ul.x<i+r){const s=-n*this.anchor._y;if(Ul.y>=s&&Ul.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new wv(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var iL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,sL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,oL=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,aL=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Ah=new ot;class xT extends kf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new TE,this.state=_i.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ui.from(zw,aL,r),this.shader=e.context.webGLVersion>1?ui.from(sL,iL,r):ui.from(zw,oL,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,h=e.uvMatrix;let f=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;f&&(c._glTextures[r.CONTEXT_UID]?f=c.wrapMode!==Gi.CLAMP:c.wrapMode===Gi.CLAMP&&(c.wrapMode=Gi.REPEAT));const g=f?this.simpleShader:this.shader,y=a.width,w=a.height,E=e._width,_=e._height;Ah.set(p.a*y/E,p.b*y/_,p.c*w/E,p.d*w/_,p.tx/E,p.ty/_),Ah.invert(),f?Ah.prepend(h.mapCoord):(g.uniforms.uMapCoord=h.mapCoord.toArray(!0),g.uniforms.uClampFrame=h.uClampFrame,g.uniforms.uClampOffset=h.uClampOffset),g.uniforms.uTransform=Ah.toArray(!0),g.uniforms.uColor=et.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=hE(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}xT.extension={name:"tilingSprite",type:le.RendererPlugin};me.add(xT);const wT=class eu{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof ue?e:null,this.baseTexture=e instanceof Pe?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=$i(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=eu.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=eu.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,p=new Ie(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?a=new Ie(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ie(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Ie(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ue(this.baseTexture,a,p,c,s.rotated?2:0,s.anchor,s.borders),ue.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*eu.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*eu.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};wT.BATCH_SIZE=1e3;let Hw=wT;const lL=["jpg","png","jpeg","avif","webp"];function bT(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Ft.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=bT([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const uL={extension:le.Asset,cache:{test:t=>t instanceof Hw,getCacheableAssets:(t,e)=>bT(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&lL.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=he.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:le.LoadParser,priority:Un.Normal},async testParse(t,e){return Ft.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=Ft.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=I0(i,e.src);const s=(await r.load([i]))[i],o=new Hw(s.baseTexture,t,e.src);await o.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const p=[];for(const f of a){if(typeof f!="string")continue;let g=n+f;(d=e.data)!=null&&d.ignoreMultiPack||(g=I0(g,e.src),p.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(p);o.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==f))})}return o},unload(t){t.destroy(!0)}}};me.add(uL);class Ud{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class od{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in a){const p=a[d].split("="),h=p[0],f=p[1].replace(/"/gm,""),g=parseFloat(f),y=isNaN(g)?f:g;c[h]=y}n[o].push(c)}const i=new Ud;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class O0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Ud,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const p=o[d];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<a.length;d++)r.kerning.push({first:parseInt(a[d].getAttribute("first"),10),second:parseInt(a[d].getAttribute("second"),10),amount:parseInt(a[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class F0{static test(e){return typeof e=="string"&&e.includes("<font>")?O0.test(he.ADAPTER.parseXML(e)):!1}static parse(e){return O0.parse(he.ADAPTER.parseXML(e))}}const og=[od,O0,F0];function cL(t){for(let e=0;e<og.length;e++)if(og[e].test(t))return og[e];return null}function hL(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,p=t.width/n-c-d*2,h=t.height/n-c-d*2,f=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const y=f.length+1;for(let w=1;w<y;++w)g.push(w/y)}if(f.unshift(o[0]),g.unshift(0),f.push(o[o.length-1]),g.push(1),r.fillGradientType===Lf.LINEAR_VERTICAL){a=e.createLinearGradient(p/2,d,p/2,h+d);let y=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let E=0;E<i.length;E++){const _=s.lineHeight*E;for(let b=0;b<f.length;b++){let S=0;typeof g[b]=="number"?S=g[b]:S=b/f.length;const A=_/h+S*w;let P=Math.max(y,A);P=Math.min(P,1),a.addColorStop(P,f[b]),y=P}}}else{a=e.createLinearGradient(d,h/2,p+d,h/2);const y=f.length+1;let w=1;for(let E=0;E<f.length;E++){let _;typeof g[E]=="number"?_=g[E]:_=w/y,a.addColorStop(_,f[E]),w++}}return a}function dL(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,p=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=hL(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=et.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,d,p+r.lineHeight-c.descent),o.fill&&e.fillText(a,d,p+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ad(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function ST(t){return Array.from?Array.from(t):t.split("")}function fL(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...ST(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const us=class ti{constructor(e,r,n){var p;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=$i(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=d;for(let h=0;h<e.page.length;h++){const{id:f,file:g}=e.page[h];d[f]=r instanceof Array?r[h]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(d[f].baseTexture.alphaMode=Ar.NO_PREMULTIPLIED_ALPHA,d[f].baseTexture.mipmap=di.OFF)}for(let h=0;h<e.char.length;h++){const{id:f,page:g}=e.char[h];let{x:y,y:w,width:E,height:_,xoffset:b,yoffset:S,xadvance:A}=e.char[h];y/=c,w/=c,E/=c,_/=c,b/=c,S/=c,A/=c;const P=new Ie(y+d[g].frame.x/c,w+d[g].frame.y/c,E,_);this.chars[f]={xOffset:b,yOffset:S,xAdvance:A,kerning:{},texture:new ue(d[g].baseTexture,P),page:g}}for(let h=0;h<e.kerning.length;h++){let{first:f,second:g,amount:y}=e.kerning[h];f/=c,g/=c,y/=c,this.chars[g]&&(this.chars[g].kerning[f]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((p=a==null?void 0:a.fieldType)==null?void 0:p.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Ud)i=e;else{const o=cL(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ue&&(r=[r]);const s=new ti(i,r,n);return ti.available[s.font]=s,s}static uninstall(e){const r=ti.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete ti.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...d}=Object.assign({},ti.defaultOptions,n),p=fL(i),h=r instanceof fi?r:new fi(r),f=a,g=new Ud;g.info[0]={face:h.fontFamily,size:h.fontSize},g.common[0]={lineHeight:h.fontSize};let y=0,w=0,E,_,b,S=0;const A=[];for(let N=0;N<p.length;N++){E||(E=he.ADAPTER.createCanvas(),E.width=a,E.height=c,_=E.getContext("2d"),b=new Pe(E,{resolution:o,...d}),A.push(new ue(b)),g.page.push({id:A.length-1,file:""}));const k=p[N],R=ds.measureText(k,h,!1,E),U=R.width,W=Math.ceil(R.height),q=Math.ceil((h.fontStyle==="italic"?2:1)*U);if(w>=c-W*o){if(w===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--N,E=null,_=null,b=null,w=0,y=0,S=0;continue}if(S=Math.max(W+R.fontProperties.descent,S),q*o+y>=f){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--N,w+=S*o,w=Math.ceil(w),y=0,S=0;continue}dL(E,_,R,y,w,o,h);const $=ad(R.text);g.char.push({id:$,page:A.length-1,x:y/o,y:w/o,width:q,height:W,xoffset:0,yoffset:0,xadvance:U-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),y+=(q+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let N=0,k=p.length;N<k;N++){const R=p[N];for(let U=0;U<k;U++){const W=p[U],q=_.measureText(R).width,$=_.measureText(W).width,L=_.measureText(R+W).width-(q+$);L&&g.kerning.push({first:ad(R),second:ad(W),amount:L})}}const P=new ti(g,A,!0);return ti.available[e]!==void 0&&ti.uninstall(e),ti.available[e]=P,P}};us.ALPHA=[["a","z"],["A","Z"]," "],us.NUMERIC=[["0","9"]],us.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],us.ASCII=[[" ","~"]],us.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:us.ALPHANUMERIC},us.available={};let cs=us;var pL=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,mL=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const $w=[],jw=[],Ww=[],ET=class TT extends vr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},TT.styleDefaults,r);if(!cs.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new et(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new oi(()=>{this.dirty=!0},this,0,0),this._roundPixels=he.ROUND_PIXELS,this.dirty=!0,this._resolution=he.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var q;const e=cs.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Fe,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=ST(c),p=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?$w:jw;let f=null,g=0,y=0,w=0,E=-1,_=0,b=0,S=0,A=0;for(let $=0;$<d.length;$++){const L=d[$],V=ad(L);if(/(?:\s)/.test(L)&&(E=$,_=g,A++),L==="\r"||L===`
`){o.push(g),a.push(-1),y=Math.max(y,g),++w,++b,i.x=0,i.y+=e.lineHeight,f=null,A=0;continue}const J=e.chars[V];if(!J)continue;f&&J.kerning[f]&&(i.x+=J.kerning[f]);const ee=Ww.pop()||{texture:ue.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Fe};ee.texture=J.texture,ee.line=w,ee.charCode=V,ee.position.x=Math.round(i.x+J.xOffset+this._letterSpacing/2),ee.position.y=Math.round(i.y+J.yOffset),ee.prevSpaces=A,s.push(ee),g=ee.position.x+Math.max(J.xAdvance-J.xOffset,J.texture.orig.width),i.x+=J.xAdvance+this._letterSpacing,S=Math.max(S,J.yOffset+J.texture.height),f=V,E!==-1&&p>0&&i.x>p&&(++b,Ua(s,1+E-b,1+$-E),$=E,E=-1,o.push(_),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,_),w++,i.x=0,i.y+=e.lineHeight,f=null,A=0)}const P=d[d.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(g=_),o.push(g),y=Math.max(y,g),a.push(-1));const N=[];for(let $=0;$<=w;$++){let L=0;this._align==="right"?L=y-o[$]:this._align==="center"?L=(y-o[$])/2:this._align==="justify"&&(L=a[$]<0?0:(y-o[$])/a[$]),N.push(L)}const k=s.length,R={},U=[],W=this._activePagesMeshData;h.push(...W);for(let $=0;$<k;$++){const L=s[$].texture,V=L.baseTexture.uid;if(!R[V]){let J=h.pop();if(!J){const oe=new Ff;let M,X;e.distanceFieldType==="none"?(M=new Ou(ue.EMPTY),X=we.NORMAL):(M=new Ou(ue.EMPTY,{program:Fi.from(mL,pL),uniforms:{uFWidth:0}}),X=we.NORMAL_NPM);const D=new Nu(oe,M);D.blendMode=X,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;const{_textureCache:ee}=this;ee[V]=ee[V]||new ue(L.baseTexture),J.mesh.texture=ee[V],J.mesh.tint=this._tintColor.value,U.push(J),R[V]=J}R[V].total++}for(let $=0;$<W.length;$++)U.includes(W[$])||this.removeChild(W[$].mesh);for(let $=0;$<U.length;$++)U[$].mesh.parent!==this&&this.addChild(U[$].mesh);this._activePagesMeshData=U;for(const $ in R){const L=R[$],V=L.total;if(!(((q=L.indices)==null?void 0:q.length)>6*V)||L.vertices.length<Nu.BATCHABLE_SIZE*2)L.vertices=new Float32Array(4*2*V),L.uvs=new Float32Array(4*2*V),L.indices=new Uint16Array(6*V);else{const J=L.total,ee=L.vertices;for(let oe=J*4*2;oe<ee.length;oe++)ee[oe]=0}L.mesh.size=6*V}for(let $=0;$<k;$++){const L=s[$];let V=L.position.x+N[L.line]*(this._align==="justify"?L.prevSpaces:1);this._roundPixels&&(V=Math.round(V));const J=V*n,ee=L.position.y*n,oe=L.texture,M=R[oe.baseTexture.uid],X=oe.frame,D=oe._uvs,z=M.index++;M.indices[z*6+0]=0+z*4,M.indices[z*6+1]=1+z*4,M.indices[z*6+2]=2+z*4,M.indices[z*6+3]=0+z*4,M.indices[z*6+4]=2+z*4,M.indices[z*6+5]=3+z*4,M.vertices[z*8+0]=J,M.vertices[z*8+1]=ee,M.vertices[z*8+2]=J+X.width*n,M.vertices[z*8+3]=ee,M.vertices[z*8+4]=J+X.width*n,M.vertices[z*8+5]=ee+X.height*n,M.vertices[z*8+6]=J,M.vertices[z*8+7]=ee+X.height*n,M.uvs[z*8+0]=D.x0,M.uvs[z*8+1]=D.y0,M.uvs[z*8+2]=D.x1,M.uvs[z*8+3]=D.y1,M.uvs[z*8+4]=D.x2,M.uvs[z*8+5]=D.y2,M.uvs[z*8+6]=D.x3,M.uvs[z*8+7]=D.y3}this._textWidth=y*n,this._textHeight=(i.y+e.lineHeight)*n;for(const $ in R){const L=R[$];if(this.anchor.x!==0||this.anchor.y!==0){let oe=0;const M=this._textWidth*this.anchor.x,X=this._textHeight*this.anchor.y;for(let D=0;D<L.total;D++)L.vertices[oe++]-=M,L.vertices[oe++]-=X,L.vertices[oe++]-=M,L.vertices[oe++]-=X,L.vertices[oe++]-=M,L.vertices[oe++]-=X,L.vertices[oe++]-=M,L.vertices[oe++]-=X}this._maxLineHeight=S*n;const V=L.mesh.geometry.getBuffer("aVertexPosition"),J=L.mesh.geometry.getBuffer("aTextureCoord"),ee=L.mesh.geometry.getIndex();V.data=L.vertices,J.data=L.uvs,ee.data=L.indices,V.update(),J.update(),ee.update()}for(let $=0;$<s.length;$++)Ww.push(s[$]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=cs.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,d=Math.sqrt(s*s+o*o),p=Math.sqrt(a*a+c*c),h=(Math.abs(d)+Math.abs(p))/2,f=this.fontSize/i,g=e._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=h*r*f*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=cs.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!cs.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??cs.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=cs.available[this._fontName].distanceFieldType==="none"?$w:jw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ue.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};ET.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let gL=ET;const yL=[".xml",".fnt"],vL={extension:{type:le.LoadParser,priority:Un.Normal},name:"loadBitmapFont",test(t){return yL.includes(Ft.extname(t).toLowerCase())},async testParse(t){return od.test(t)||F0.test(t)},async parse(t,e,r){const n=od.test(t)?od.parse(t):F0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const p=s[d].file;let h=Ft.join(Ft.dirname(i),p);h=I0(h,i),o.push(h)}const a=await r.load(o),c=o.map(d=>a[d]);return cs.install(n,c,!0)},async load(t,e){return(await he.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};me.add(vL);const L0=class ma extends fi{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new ma(Object.keys(ma.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete ma.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=ma;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return he.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ft.basename(e,Ft.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=i3(e)),typeof e=="number"?n3(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,ma.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=he.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};L0.availableFonts={},L0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ag=L0;const Ch=class ga extends xi{constructor(e="",r={}){super(ue.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ue.from(n,{scaleMode:he.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ie,i.trim=new Ie,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),d=document.createElementNS(o,"div"),p=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=ga.defaultMaxWidth,this.maxHeight=ga.defaultMaxHeight,this._domElement=d,this._styleElement=p,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(p),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=ga.defaultAutoResolution,this._resolution=ga.defaultResolution??he.RESOLUTION,this.text=e,this.style=r}measureText(e){var p,h;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(p=this._style)==null?void 0:p.toCSS(i)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},ga.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=xs(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=xs(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof ag?(this.ownsStyle=!1,this._style=e):e instanceof fi?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ag.from(e)):(this.ownsStyle=!0,this._style=new ag(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ch.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ch.defaultMaxWidth=2024,Ch.defaultMaxHeight=2024,Ch.defaultAutoResolution=!0;const _L={Random:(t,e=0)=>Math.floor(Math.random()*(t-e))+e};function xL(t){return t[_L.Random(t.length)]}class wL{constructor(){Te(this,"urlOptions");Te(this,"tableOptions");Te(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.tableOptions=va("table")||{},this.configOptions=va("gameconfig")||{}}configureLanguage(){let e=nn("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;default:e="en"}return e}getUrlConfig(){const e={operator:nn("op",""),funPLay:nn("fun","0")=="1",showLog:nn("log","0")=="1",loginUrl:nn("loginUrl",""),lobbyUrl:nn("lobbyUrl",""),fundsUrl:nn("fundsUrl",""),livechatUrl:nn("livechatUrl",""),token:nn("token")||nn("s"),lang:this.configureLanguage(),platform:nn("p")||(cn.any?"mobile":"web")};return!e.token&&!e.loginUrl&&(e.funPLay=!0),e}getSymbolColumnRowKey(e,r){return`${e}_${r}`}loopForReels(e){const r=this.tableOptions.column,n=this.tableOptions.row;for(let i=0;i<r;i++){const s=GI(n)?n:n[i];for(let o=0;o<s;o++)e(i,o)}}randomSymbols(e){const r=[];return this.loopForReels((n,i)=>{let s=r[n];const o=xL(e);s?s.push(o):r[n]=[o]}),r}getLoginUrl(){return this.urlOptions.loginUrl?`${this.urlOptions.loginUrl}?url=${encodeURIComponent(rR("fun","0"))}`:this.getLobbyUrl()}getLobbyUrl(){return this.urlOptions.lobbyUrl||""}}function bL(t){let e={};for(let r in t){let n=t[r];e[r]=n.map((i,s)=>[s,i])}return e}function SL(t){let e={};for(let r in t){let n=t[r],i=n.length,s=[];for(let c=0;c<i;c++){let d=n[c];s.push([c+.5,d+.5])}let o=n[0];s.unshift([0,o+.5]);let a=n[i-1];s.push([i,a+.5]),e[r]=s}return e}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var wa=9e15,Hs=1e9,D0="0123456789abcdef",Gd="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zd="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",B0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-wa,maxE:wa,crypto:!1},AT,Li,Ae=!0,Df="[DecimalError] ",Ds=Df+"Invalid argument: ",CT=Df+"Precision limit exceeded",PT=Df+"crypto unavailable",IT="[object Decimal]",cr=Math.floor,Mt=Math.pow,EL=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,TL=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,AL=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,RT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn=1e7,be=7,CL=9007199254740991,PL=Gd.length-1,U0=zd.length-1,Z={toStringTag:IT};Z.absoluteValue=Z.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),_e(t)};Z.ceil=function(){return _e(new this.constructor(this),this.e+1,2)};Z.clampedTo=Z.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ds+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Z.comparedTo=Z.cmp=function(t){var e,r,n,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,c=s.s,d=t.s;if(!o||!a)return!c||!d?NaN:c!==d?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-d:0;if(c!==d)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(n=o.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==a[e])return o[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};Z.cosine=Z.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+be,n.rounding=1,r=IL(n,FT(n,r)),n.precision=t,n.rounding=e,_e(Li==2||Li==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Z.cubeRoot=Z.cbrt=function(){var t,e,r,n,i,s,o,a,c,d,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);for(Ae=!1,s=p.s*Mt(p.s*p,1/3),!s||Math.abs(s)==1/0?(r=Zt(p.d),t=p.e,(s=(t-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=Mt(r,1/3),t=cr((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new h(r),n.s=p.s):n=new h(s.toString()),o=(t=h.precision)+3;;)if(a=n,c=a.times(a).times(a),d=c.plus(p),n=Ke(d.plus(p).times(a),d.plus(c),o+2,1),Zt(a.d).slice(0,o)===(r=Zt(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(_e(a,t+1,0),a.times(a).times(a).eq(p))){n=a;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(_e(n,t+1,1),e=!n.times(n).times(n).eq(p));break}return Ae=!0,_e(n,t,h.rounding,e)};Z.decimalPlaces=Z.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-cr(this.e/be))*be,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Z.dividedBy=Z.div=function(t){return Ke(this,new this.constructor(t))};Z.dividedToIntegerBy=Z.divToInt=function(t){var e=this,r=e.constructor;return _e(Ke(e,new r(t),0,1,1),r.precision,r.rounding)};Z.equals=Z.eq=function(t){return this.cmp(t)===0};Z.floor=function(){return _e(new this.constructor(this),this.e+1,3)};Z.greaterThan=Z.gt=function(t){return this.cmp(t)>0};Z.greaterThanOrEqualTo=Z.gte=function(t){var e=this.cmp(t);return e==1||e===0};Z.hyperbolicCosine=Z.cosh=function(){var t,e,r,n,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/Uf(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=Ja(o,1,s.times(e),new o(1),!0);for(var c,d=t,p=new o(8);d--;)c=s.times(s),s=a.minus(c.times(p.minus(c.times(p))));return _e(s,o.precision=r,o.rounding=n,!0)};Z.hyperbolicSine=Z.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=Ja(s,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Uf(5,t)),i=Ja(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),d=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(d))))}return s.precision=e,s.rounding=r,_e(i,e,r,!0)};Z.hyperbolicTangent=Z.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Ke(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Z.inverseCosine=Z.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return n!==-1?n===0?e.isNeg()?kn(r,i,s):new r(0):new r(NaN):e.isZero()?kn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=kn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))};Z.inverseHyperbolicCosine=Z.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Ae=!1,r=r.times(r).minus(1).sqrt().plus(r),Ae=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Z.inverseHyperbolicSine=Z.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Ae=!1,r=r.times(r).plus(1).sqrt().plus(r),Ae=!0,n.precision=t,n.rounding=e,r.ln())};Z.inverseHyperbolicTangent=Z.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?_e(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Ke(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};Z.inverseSine=Z.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,e!==-1?e===0?(t=kn(s,r+4,n).times(.5),t.s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};Z.inverseTangent=Z.atan=function(){var t,e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&h+4<=U0)return o=kn(p,h+4,f).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(h+4<=U0)return o=kn(p,h+4,f).times(.5),o.s=d.s,o}for(p.precision=a=h+10,p.rounding=1,r=Math.min(28,a/be+2|0),t=r;t;--t)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ae=!1,e=Math.ceil(a/be),n=1,c=d.times(d),o=new p(d),i=d;t!==-1;)if(i=i.times(c),s=o.minus(i.div(n+=2)),i=i.times(c),o=s.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===s.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),Ae=!0,_e(o,p.precision=h,p.rounding=f,!0)};Z.isFinite=function(){return!!this.d};Z.isInteger=Z.isInt=function(){return!!this.d&&cr(this.e/be)>this.d.length-2};Z.isNaN=function(){return!this.s};Z.isNegative=Z.isNeg=function(){return this.s<0};Z.isPositive=Z.isPos=function(){return this.s>0};Z.isZero=function(){return!!this.d&&this.d[0]===0};Z.lessThan=Z.lt=function(t){return this.cmp(t)<0};Z.lessThanOrEqualTo=Z.lte=function(t){return this.cmp(t)<1};Z.logarithm=Z.log=function(t){var e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding,g=5;if(t==null)t=new p(10),e=!0;else{if(t=new p(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new p(NaN);e=t.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new p(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(Ae=!1,a=h+g,o=bs(d,a),n=e?Hd(p,a+10):bs(t,a),c=Ke(o,n,a,1),Lu(c.d,i=h,f))do if(a+=10,o=bs(d,a),n=e?Hd(p,a+10):bs(t,a),c=Ke(o,n,a,1),!s){+Zt(c.d).slice(i+1,i+15)+1==1e14&&(c=_e(c,h+1,0));break}while(Lu(c.d,i+=10,f));return Ae=!0,_e(c,h,f)};Z.minus=Z.sub=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.constructor;if(t=new y(t),!g.d||!t.d)return!g.s||!t.s?t=new y(NaN):g.d?t.s=-t.s:t=new y(t.d||g.s!==t.s?g:NaN),t;if(g.s!=t.s)return t.s=-t.s,g.plus(t);if(d=g.d,f=t.d,a=y.precision,c=y.rounding,!d[0]||!f[0]){if(f[0])t.s=-t.s;else if(d[0])t=new y(g);else return new y(c===3?-0:0);return Ae?_e(t,a,c):t}if(r=cr(t.e/be),p=cr(g.e/be),d=d.slice(),s=p-r,s){for(h=s<0,h?(e=d,s=-s,o=f.length):(e=f,r=p,o=d.length),n=Math.max(Math.ceil(a/be),o)+2,s>n&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse()}else{for(n=d.length,o=f.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}s=0}for(h&&(e=d,d=f,f=e,t.s=-t.s),o=d.length,n=f.length-o;n>0;--n)d[o++]=0;for(n=f.length;n>s;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Fn-1;--d[i],d[n]+=Fn}d[n]-=f[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=Bf(d,r),Ae?_e(t,a,c):t):new y(c===3?-0:0)};Z.modulo=Z.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?_e(new n(r),n.precision,n.rounding):(Ae=!1,n.modulo==9?(e=Ke(r,t.abs(),0,3,1),e.s*=t.s):e=Ke(r,t,0,n.modulo,1),e=e.times(t),Ae=!0,r.minus(e))};Z.naturalExponential=Z.exp=function(){return G0(this)};Z.naturalLogarithm=Z.ln=function(){return bs(this)};Z.negated=Z.neg=function(){var t=new this.constructor(this);return t.s=-t.s,_e(t)};Z.plus=Z.add=function(t){var e,r,n,i,s,o,a,c,d,p,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return!h.s||!t.s?t=new f(NaN):h.d||(t=new f(t.d||h.s===t.s?h:NaN)),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(d=h.d,p=t.d,a=f.precision,c=f.rounding,!d[0]||!p[0])return p[0]||(t=new f(h)),Ae?_e(t,a,c):t;if(s=cr(h.e/be),n=cr(t.e/be),d=d.slice(),i=s-n,i){for(i<0?(r=d,i=-i,o=p.length):(r=p,n=s,o=d.length),s=Math.ceil(a/be),o=s>o?s+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=d.length,i=p.length,o-i<0&&(i=o,r=p,p=d,d=r),e=0;i;)e=(d[--i]=d[i]+p[i]+e)/Fn|0,d[i]%=Fn;for(e&&(d.unshift(e),++n),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=Bf(d,n),Ae?_e(t,a,c):t};Z.precision=Z.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ds+t);return r.d?(e=kT(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Z.round=function(){var t=this,e=t.constructor;return _e(new e(t),t.e+1,e.rounding)};Z.sine=Z.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+be,n.rounding=1,r=kL(n,FT(n,r)),n.precision=t,n.rounding=e,_e(Li>2?r.neg():r,t,e,!0)):new n(NaN)};Z.squareRoot=Z.sqrt=function(){var t,e,r,n,i,s,o=this,a=o.d,c=o.e,d=o.s,p=o.constructor;if(d!==1||!a||!a[0])return new p(!d||d<0&&(!a||a[0])?NaN:a?o:1/0);for(Ae=!1,d=Math.sqrt(+o),d==0||d==1/0?(e=Zt(a),(e.length+c)%2==0&&(e+="0"),d=Math.sqrt(e),c=cr((c+1)/2)-(c<0||c%2),d==1/0?e="5e"+c:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new p(e)):n=new p(d.toString()),r=(c=p.precision)+3;;)if(s=n,n=s.plus(Ke(o,s,r+2,1)).times(.5),Zt(s.d).slice(0,r)===(e=Zt(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(_e(s,c+1,0),s.times(s).eq(o))){n=s;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(_e(n,c+1,1),t=!n.times(n).eq(o));break}return Ae=!0,_e(n,c,p.rounding,t)};Z.tangent=Z.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Ke(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,_e(Li==2||Li==4?r.neg():r,t,e,!0)):new n(NaN)};Z.times=Z.mul=function(t){var e,r,n,i,s,o,a,c,d,p=this,h=p.constructor,f=p.d,g=(t=new h(t)).d;if(t.s*=p.s,!f||!f[0]||!g||!g[0])return new h(!t.s||f&&!f[0]&&!g||g&&!g[0]&&!f?NaN:!f||!g?t.s/0:t.s*0);for(r=cr(p.e/be)+cr(t.e/be),c=f.length,d=g.length,c<d&&(s=f,f=g,g=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)a=s[i]+g[n]*f[i-n-1]+e,s[i--]=a%Fn|0,e=a/Fn|0;s[i]=(s[i]+e)%Fn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=Bf(s,r),Ae?_e(t,h.precision,h.rounding):t};Z.toBinary=function(t,e){return bv(this,2,t,e)};Z.toDecimalPlaces=Z.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(kr(t,0,Hs),e===void 0?e=n.rounding:kr(e,0,8),_e(r,t+r.e+1,e))};Z.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=pi(n,!0):(kr(t,0,Hs),e===void 0?e=i.rounding:kr(e,0,8),n=_e(new i(n),t+1,e),r=pi(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Z.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?r=pi(i):(kr(t,0,Hs),e===void 0?e=s.rounding:kr(e,0,8),n=_e(new s(i),t+i.e+1,e),r=pi(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Z.toFraction=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.d,w=g.constructor;if(!y)return new w(g);if(d=r=new w(1),n=c=new w(0),e=new w(n),s=e.e=kT(y)-g.e-1,o=s%be,e.d[0]=Mt(10,o<0?be+o:o),t==null)t=s>0?e:d;else{if(a=new w(t),!a.isInt()||a.lt(d))throw Error(Ds+a);t=a.gt(e)?s>0?e:d:a}for(Ae=!1,a=new w(Zt(y)),p=w.precision,w.precision=s=y.length*be*2;h=Ke(a,e,0,1,1),i=r.plus(h.times(n)),i.cmp(t)!=1;)r=n,n=i,i=d,d=c.plus(h.times(i)),c=i,i=e,e=a.minus(h.times(i)),a=i;return i=Ke(t.minus(r),n,0,1,1),c=c.plus(i.times(d)),r=r.plus(i.times(n)),c.s=d.s=g.s,f=Ke(d,n,s,1).minus(g).abs().cmp(Ke(c,r,s,1).minus(g).abs())<1?[d,n]:[c,r],w.precision=p,Ae=!0,f};Z.toHexadecimal=Z.toHex=function(t,e){return bv(this,16,t,e)};Z.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:kr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Ae=!1,r=Ke(r,t,0,e,1).times(t),Ae=!0,_e(r)):(t.s=r.s,r=t),r};Z.toNumber=function(){return+this};Z.toOctal=function(t,e){return bv(this,8,t,e)};Z.toPower=Z.pow=function(t){var e,r,n,i,s,o,a=this,c=a.constructor,d=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Mt(+a,d));if(a=new c(a),a.eq(1))return a;if(n=c.precision,s=c.rounding,t.eq(1))return _e(a,n,s);if(e=cr(t.e/be),e>=t.d.length-1&&(r=d<0?-d:d)<=CL)return i=MT(c,a,r,n),t.s<0?new c(1).div(i):_e(i,n,s);if(o=a.s,o<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Mt(+a,d),e=r==0||!isFinite(r)?cr(d*(Math.log("0."+Zt(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?o/0:0):(Ae=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=G0(t.times(bs(a,n+r)),n),i.d&&(i=_e(i,n+5,1),Lu(i.d,n,s)&&(e=n+10,i=_e(G0(t.times(bs(a,e+r)),e),e+5,1),+Zt(i.d).slice(n+1,n+15)+1==1e14&&(i=_e(i,n+1,0)))),i.s=o,Ae=!0,c.rounding=s,_e(i,n,s))};Z.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=pi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(kr(t,1,Hs),e===void 0?e=i.rounding:kr(e,0,8),n=_e(new i(n),t,e),r=pi(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Z.toSignificantDigits=Z.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(kr(t,1,Hs),e===void 0?e=n.rounding:kr(e,0,8)),_e(new n(r),t,e)};Z.toString=function(){var t=this,e=t.constructor,r=pi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Z.truncated=Z.trunc=function(){return _e(new this.constructor(this),this.e+1,1)};Z.valueOf=Z.toJSON=function(){var t=this,e=t.constructor,r=pi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Zt(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=be-n.length,r&&(s+=fs(r)),s+=n;o=t[e],n=o+"",r=be-n.length,r&&(s+=fs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function kr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ds+t)}function Lu(t,e,r,n){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=be,i=0):(i=Math.ceil((e+1)/be),e%=be),s=Mt(10,be-e),a=t[i]%s|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==s||r>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Mt(10,e-2)-1||(a==s/2||a==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==s||!n&&r>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Mt(10,e-3)-1,o}function ld(t,e,r){for(var n,i=[0],s,o=0,a=t.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=D0.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function IL(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Uf(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Ja(t,1,e.times(i),new t(1));for(var s=r;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Ke=function(){function t(n,i,s){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*i+a,n[c]=o%s|0,a=o/s|0;return a&&n.unshift(a),n}function e(n,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,s,o){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*o+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o,a,c){var d,p,h,f,g,y,w,E,_,b,S,A,P,N,k,R,U,W,q,$,L=n.constructor,V=n.s==i.s?1:-1,J=n.d,ee=i.d;if(!J||!J[0]||!ee||!ee[0])return new L(!n.s||!i.s||(J?ee&&J[0]==ee[0]:!ee)?NaN:J&&J[0]==0||!ee?V*0:V/0);for(c?(g=1,p=n.e-i.e):(c=Fn,g=be,p=cr(n.e/g)-cr(i.e/g)),q=ee.length,U=J.length,_=new L(V),b=_.d=[],h=0;ee[h]==(J[h]||0);h++);if(ee[h]>(J[h]||0)&&p--,s==null?(N=s=L.precision,o=L.rounding):a?N=s+(n.e-i.e)+1:N=s,N<0)b.push(1),y=!0;else{if(N=N/g+2|0,h=0,q==1){for(f=0,ee=ee[0],N++;(h<U||f)&&N--;h++)k=f*c+(J[h]||0),b[h]=k/ee|0,f=k%ee|0;y=f||h<U}else{for(f=c/(ee[0]+1)|0,f>1&&(ee=t(ee,f,c),J=t(J,f,c),q=ee.length,U=J.length),R=q,S=J.slice(0,q),A=S.length;A<q;)S[A++]=0;$=ee.slice(),$.unshift(0),W=ee[0],ee[1]>=c/2&&++W;do f=0,d=e(ee,S,q,A),d<0?(P=S[0],q!=A&&(P=P*c+(S[1]||0)),f=P/W|0,f>1?(f>=c&&(f=c-1),w=t(ee,f,c),E=w.length,A=S.length,d=e(w,S,E,A),d==1&&(f--,r(w,q<E?$:ee,E,c))):(f==0&&(d=f=1),w=ee.slice()),E=w.length,E<A&&w.unshift(0),r(S,w,A,c),d==-1&&(A=S.length,d=e(ee,S,q,A),d<1&&(f++,r(S,q<A?$:ee,A,c))),A=S.length):d===0&&(f++,S=[0]),b[h++]=f,d&&S[0]?S[A++]=J[R]||0:(S=[J[R]],A=1);while((R++<U||S[0]!==void 0)&&N--);y=S[0]!==void 0}b[0]||b.shift()}if(g==1)_.e=p,AT=y;else{for(h=1,f=b[0];f>=10;f/=10)h++;_.e=h+p*g-1,_e(_,a?s+_.e+1:s,o,y)}return _}}();function _e(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor;e:if(e!=null){if(h=t.d,!h)return t;for(i=1,a=h[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=be,o=e,p=h[f=0],c=p/Mt(10,i-o-1)%10|0;else if(f=Math.ceil((s+1)/be),a=h.length,f>=a)if(n){for(;a++<=f;)h.push(0);p=c=0,i=1,s%=be,o=s-be+1}else break e;else{for(p=a=h[f],i=1;a>=10;a/=10)i++;s%=be,o=s-be+i,c=o<0?0:p/Mt(10,i-o-1)%10|0}if(n=n||e<0||h[f+1]!==void 0||(o<0?p:p%Mt(10,i-o-1)),d=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(s>0?o>0?p/Mt(10,i-o):0:h[f-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,d?(e-=t.e+1,h[0]=Mt(10,(be-e%be)%be),t.e=-e||0):h[0]=t.e=0,t;if(s==0?(h.length=f,a=1,f--):(h.length=f+1,a=Mt(10,be-s),h[f]=o>0?(p/Mt(10,i-o)%Mt(10,o)|0)*a:0),d)for(;;)if(f==0){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,h[0]==Fn&&(h[0]=1));break}else{if(h[f]+=a,h[f]!=Fn)break;h[f--]=0,a=1}for(s=h.length;h[--s]===0;)h.pop()}return Ae&&(t.e>g.maxE?(t.d=null,t.e=NaN):t.e<g.minE&&(t.e=0,t.d=[0])),t}function pi(t,e,r){if(!t.isFinite())return OT(t);var n,i=t.e,s=Zt(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+fs(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+fs(-i-1)+s,r&&(n=r-o)>0&&(s+=fs(n))):i>=o?(s+=fs(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+fs(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=fs(n))),s}function Bf(t,e){var r=t[0];for(e*=be;r>=10;r/=10)e++;return e}function Hd(t,e,r){if(e>PL)throw Ae=!0,r&&(t.precision=r),Error(CT);return _e(new t(Gd),e,1,!0)}function kn(t,e,r){if(e>U0)throw Error(CT);return _e(new t(zd),e,r,!0)}function kT(t){var e=t.length-1,r=e*be+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function fs(t){for(var e="";t--;)e+="0";return e}function MT(t,e,r,n){var i,s=new t(1),o=Math.ceil(n/be+4);for(Ae=!1;;){if(r%2&&(s=s.times(e),Xw(s.d,o)&&(i=!0)),r=cr(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}e=e.times(e),Xw(e.d,o)}return Ae=!0,s}function Vw(t){return t.d[t.d.length-1]&1}function NT(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;)if(n=new t(e[s]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function G0(t,e){var r,n,i,s,o,a,c,d=0,p=0,h=0,f=t.constructor,g=f.rounding,y=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Ae=!1,c=y):c=e,a=new f(.03125);t.e>-2;)t=t.times(a),h+=5;for(n=Math.log(Mt(2,h))/Math.LN10*2+5|0,c+=n,r=s=o=new f(1),f.precision=c;;){if(s=_e(s.times(t),c,1),r=r.times(++p),a=o.plus(Ke(s,r,c,1)),Zt(a.d).slice(0,c)===Zt(o.d).slice(0,c)){for(i=h;i--;)o=_e(o.times(o),c,1);if(e==null)if(d<3&&Lu(o.d,c-n,g,d))f.precision=c+=10,r=s=a=new f(1),p=0,d++;else return _e(o,f.precision=y,g,Ae=!0);else return f.precision=y,o}o=a}}function bs(t,e){var r,n,i,s,o,a,c,d,p,h,f,g=1,y=10,w=t,E=w.d,_=w.constructor,b=_.rounding,S=_.precision;if(w.s<0||!E||!E[0]||!w.e&&E[0]==1&&E.length==1)return new _(E&&!E[0]?-1/0:w.s!=1?NaN:E?0:w);if(e==null?(Ae=!1,p=S):p=e,_.precision=p+=y,r=Zt(E),n=r.charAt(0),Math.abs(s=w.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=Zt(w.d),n=r.charAt(0),g++;s=w.e,n>1?(w=new _("0."+r),s++):w=new _(n+"."+r.slice(1))}else return d=Hd(_,p+2,S).times(s+""),w=bs(new _(n+"."+r.slice(1)),p-y).plus(d),_.precision=S,e==null?_e(w,S,b,Ae=!0):w;for(h=w,c=o=w=Ke(w.minus(1),w.plus(1),p,1),f=_e(w.times(w),p,1),i=3;;){if(o=_e(o.times(f),p,1),d=c.plus(Ke(o,new _(i),p,1)),Zt(d.d).slice(0,p)===Zt(c.d).slice(0,p))if(c=c.times(2),s!==0&&(c=c.plus(Hd(_,p+2,S).times(s+""))),c=Ke(c,new _(g),p,1),e==null)if(Lu(c.d,p-y,b,a))_.precision=p+=y,d=o=w=Ke(h.minus(1),h.plus(1),p,1),f=_e(w.times(w),p,1),i=a=1;else return _e(c,_.precision=S,b,Ae=!0);else return _.precision=S,c;c=d,i+=2}}function OT(t){return String(t.s*t.s/0)}function z0(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%be,r<0&&(n+=be),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=be;n<i;)t.d.push(+e.slice(n,n+=be));e=e.slice(n),n=be-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Ae&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function RL(t,e){var r,n,i,s,o,a,c,d,p;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),RT.test(e))return z0(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(TL.test(e))r=16,e=e.toLowerCase();else if(EL.test(e))r=2;else if(AL.test(e))r=8;else throw Error(Ds+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,n=t.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=MT(n,new n(r),s,s*2)),d=ld(e,r,Fn),p=d.length-1,s=p;d[s]===0;--s)d.pop();return s<0?new n(t.s*0):(t.e=Bf(d,p),t.d=d,Ae=!1,o&&(t=Ke(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Mt(2,c):Ue.pow(2,c))),Ae=!0,t)}function kL(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Ja(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Uf(5,r)),e=Ja(t,2,e,e);for(var i,s=new t(5),o=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function Ja(t,e,r,n,i){var s,o,a,c,d=t.precision,p=Math.ceil(d/be);for(Ae=!1,c=r.times(r),a=new t(n);;){if(o=Ke(a.times(c),new t(e++*e++),d,1),a=i?n.plus(o):n.minus(o),n=Ke(o.times(c),new t(e++*e++),d,1),o=a.plus(n),o.d[p]!==void 0){for(s=p;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=n,n=o,o=s}return Ae=!0,o.d.length=p+1,o}function Uf(t,e){for(var r=t;--e;)r*=t;return r}function FT(t,e){var r,n=e.s<0,i=kn(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return Li=n?4:1,e;if(r=e.divToInt(i),r.isZero())Li=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(s))return Li=Vw(r)?n?2:3:n?4:1,e;Li=Vw(r)?n?1:4:n?3:2}return e.minus(i).abs()}function bv(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor,y=r!==void 0;if(y?(kr(r,1,Hs),n===void 0?n=g.rounding:kr(n,0,8)):(r=g.precision,n=g.rounding),!t.isFinite())p=OT(t);else{for(p=pi(t),o=p.indexOf("."),y?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(p=p.replace(".",""),f=new g(1),f.e=p.length-o,f.d=ld(pi(f),10,i),f.e=f.d.length),h=ld(p,10,i),s=c=h.length;h[--c]==0;)h.pop();if(!h[0])p=y?"0p+0":"0";else{if(o<0?s--:(t=new g(t),t.d=h,t.e=s,t=Ke(t,f,r,n,0,i),h=t.d,s=t.e,d=AT),o=h[r],a=i/2,d=d||h[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(t.s<0?3:2)):o>a||o===a&&(n===4||d||n===6&&h[r-1]&1||n===(t.s<0?8:7)),h.length=r,d)for(;++h[--r]>i-1;)h[r]=0,r||(++s,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,p="";o<c;o++)p+=D0.charAt(h[o]);if(y){if(c>1)if(e==16||e==8){for(o=e==16?4:3,--c;c%o;c++)p+="0";for(h=ld(p,i,e),c=h.length;!h[c-1];--c);for(o=1,p="1.";o<c;o++)p+=D0.charAt(h[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>c)for(s-=c;s--;)p+="0";else s<c&&(p=p.slice(0,s)+"."+p.slice(s))}p=(e==16?"0x":e==2?"0b":e==8?"0o":"")+p}return t.s<0?"-"+p:p}function Xw(t,e){if(t.length>e)return t.length=e,!0}function ML(t){return new this(t).abs()}function NL(t){return new this(t).acos()}function OL(t){return new this(t).acosh()}function FL(t,e){return new this(t).plus(e)}function LL(t){return new this(t).asin()}function DL(t){return new this(t).asinh()}function BL(t){return new this(t).atan()}function UL(t){return new this(t).atanh()}function GL(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=kn(this,s,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?kn(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=kn(this,s,1).times(.5),r.s=t.s):e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Ke(t,e,s,1)),e=kn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Ke(t,e,s,1)),r}function zL(t){return new this(t).cbrt()}function HL(t){return _e(t=new this(t),t.e+1,2)}function $L(t,e,r){return new this(t).clamp(e,r)}function jL(t){if(!t||typeof t!="object")throw Error(Df+"Object expected");var e,r,n,i=t.defaults===!0,s=["precision",1,Hs,"rounding",0,8,"toExpNeg",-wa,0,"toExpPos",0,wa,"maxE",0,wa,"minE",-wa,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=B0[r]),(n=t[r])!==void 0)if(cr(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Ds+r+": "+n);if(r="crypto",i&&(this[r]=B0[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(PT);else this[r]=!1;else throw Error(Ds+r+": "+n);return this}function WL(t){return new this(t).cos()}function VL(t){return new this(t).cosh()}function LT(t){var e,r,n;function i(s){var o,a,c,d=this;if(!(d instanceof i))return new i(s);if(d.constructor=i,Yw(s)){d.s=s.s,Ae?!s.d||s.e>i.maxE?(d.e=NaN,d.d=null):s.e<i.minE?(d.e=0,d.d=[0]):(d.e=s.e,d.d=s.d.slice()):(d.e=s.e,d.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){d.s=1/s<0?-1:1,d.e=0,d.d=[0];return}if(s<0?(s=-s,d.s=-1):d.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;Ae?o>i.maxE?(d.e=NaN,d.d=null):o<i.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[s]):(d.e=o,d.d=[s]);return}else if(s*0!==0){s||(d.s=NaN),d.e=NaN,d.d=null;return}return z0(d,s.toString())}else if(c!=="string")throw Error(Ds+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),d.s=-1):(a===43&&(s=s.slice(1)),d.s=1),RT.test(s)?z0(d,s):RL(d,s)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=jL,i.clone=LT,i.isDecimal=Yw,i.abs=ML,i.acos=NL,i.acosh=OL,i.add=FL,i.asin=LL,i.asinh=DL,i.atan=BL,i.atanh=UL,i.atan2=GL,i.cbrt=zL,i.ceil=HL,i.clamp=$L,i.cos=WL,i.cosh=VL,i.div=XL,i.exp=YL,i.floor=qL,i.hypot=QL,i.ln=KL,i.log=ZL,i.log10=eD,i.log2=JL,i.max=tD,i.min=rD,i.mod=nD,i.mul=iD,i.pow=sD,i.random=oD,i.round=aD,i.sign=lD,i.sin=uD,i.sinh=cD,i.sqrt=hD,i.sub=dD,i.sum=fD,i.tan=pD,i.tanh=mD,i.trunc=gD,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function XL(t,e){return new this(t).div(e)}function YL(t){return new this(t).exp()}function qL(t){return _e(t=new this(t),t.e+1,3)}function QL(){var t,e,r=new this(0);for(Ae=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Ae=!0,new this(1/0);r=e}return Ae=!0,r.sqrt()}function Yw(t){return t instanceof Ue||t&&t.toStringTag===IT||!1}function KL(t){return new this(t).ln()}function ZL(t,e){return new this(t).log(e)}function JL(t){return new this(t).log(2)}function eD(t){return new this(t).log(10)}function tD(){return NT(this,arguments,"lt")}function rD(){return NT(this,arguments,"gt")}function nD(t,e){return new this(t).mod(e)}function iD(t,e){return new this(t).mul(e)}function sD(t,e){return new this(t).pow(e)}function oD(t){var e,r,n,i,s=0,o=new this(1),a=[];if(t===void 0?t=this.precision:kr(t,1,Hs),n=Math.ceil(t/be),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);s<n;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=n/4}else throw Error(PT);else for(;s<n;)a[s++]=Math.random()*1e7|0;for(n=a[--s],t%=be,n&&t&&(i=Mt(10,be-t),a[s]=(n/i|0)*i);a[s]===0;s--)a.pop();if(s<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=be)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<be&&(r-=be-n)}return o.e=r,o.d=a,o}function aD(t){return _e(t=new this(t),t.e+1,this.rounding)}function lD(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function uD(t){return new this(t).sin()}function cD(t){return new this(t).sinh()}function hD(t){return new this(t).sqrt()}function dD(t,e){return new this(t).sub(e)}function fD(){var t=0,e=arguments,r=new this(e[t]);for(Ae=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Ae=!0,_e(r,this.precision,this.rounding)}function pD(t){return new this(t).tan()}function mD(t){return new this(t).tanh()}function gD(t){return _e(t=new this(t),t.e+1,1)}Z[Symbol.for("nodejs.util.inspect.custom")]=Z.toString;Z[Symbol.toStringTag]="Decimal";var Ue=Z.constructor=LT(B0);Gd=new Ue(Gd);zd=new Ue(zd);let qw={};const yD={row:3,column:5,paylineMap:bL(qw),paylinePathMap:SL(qw),symbolSize:[104,102],symbolFrame:[104,102]};Jy("table",yD);const vD={id:2,title:"cyberpunkLora",layoutMap:{l:{safeArea:[0,220,1100,658.125],displayArea:[0,0,1100,1100]},p:{safeArea:[280,70,540,960],displayArea:[0,0,1100,1100]}}};Jy("gameconfig",Object.assign(vD,ZI));const _D={spin:{betLevel:new Ue(10),betAmount:new Ue(.01)}};Jy("spin",_D);var Sv={exports:{}},Ha=typeof Reflect=="object"?Reflect:null,Qw=Ha&&typeof Ha.apply=="function"?Ha.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ud;Ha&&typeof Ha.ownKeys=="function"?ud=Ha.ownKeys:Object.getOwnPropertySymbols?ud=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ud=function(e){return Object.getOwnPropertyNames(e)};function xD(t){console&&console.warn&&console.warn(t)}var DT=Number.isNaN||function(e){return e!==e};function Qe(){Qe.init.call(this)}Sv.exports=Qe;Sv.exports.once=ED;Qe.EventEmitter=Qe;Qe.prototype._events=void 0;Qe.prototype._eventsCount=0;Qe.prototype._maxListeners=void 0;var Kw=10;function Gf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Qe,"defaultMaxListeners",{enumerable:!0,get:function(){return Kw},set:function(t){if(typeof t!="number"||t<0||DT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Kw=t}});Qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||DT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function BT(t){return t._maxListeners===void 0?Qe.defaultMaxListeners:t._maxListeners}Qe.prototype.getMaxListeners=function(){return BT(this)};Qe.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Qw(c,this,r);else for(var d=c.length,p=$T(c,d),n=0;n<d;++n)Qw(p[n],this,r);return!0};function UT(t,e,r,n){var i,s,o;if(Gf(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=BT(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,xD(a)}return t}Qe.prototype.addListener=function(e,r){return UT(this,e,r,!1)};Qe.prototype.on=Qe.prototype.addListener;Qe.prototype.prependListener=function(e,r){return UT(this,e,r,!0)};function wD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function GT(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=wD.bind(n);return i.listener=r,n.wrapFn=i,i}Qe.prototype.once=function(e,r){return Gf(r),this.on(e,GT(this,e,r)),this};Qe.prototype.prependOnceListener=function(e,r){return Gf(r),this.prependListener(e,GT(this,e,r)),this};Qe.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Gf(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():bD(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Qe.prototype.off=Qe.prototype.removeListener;Qe.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function zT(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?SD(i):$T(i,i.length)}Qe.prototype.listeners=function(e){return zT(this,e,!0)};Qe.prototype.rawListeners=function(e){return zT(this,e,!1)};Qe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):HT.call(t,e)};Qe.prototype.listenerCount=HT;function HT(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Qe.prototype.eventNames=function(){return this._eventsCount>0?ud(this._events):[]};function $T(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function bD(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function SD(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function ED(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}jT(t,e,s,{once:!0}),e!=="error"&&TD(t,i,{once:!0})})}function TD(t,e,r){typeof t.on=="function"&&jT(t,"error",e,r)}function jT(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var AD=Sv.exports;class CD extends wL{constructor(){super(...arguments);Te(this,"_tweenTime",0)}set tweenTime(r){this._tweenTime=r}get tweenTime(){return this._tweenTime}}class PD extends CD{constructor(){super(...arguments);Te(this,"eventEmitter",new AD.EventEmitter)}get notice(){return this.eventEmitter}}class ID extends PD{constructor(){super(...arguments);Te(this,"_viewport");Te(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(r,n,i,s){this._viewport=[r,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}getOrientationType(){const r=this.configOptions.layoutMap;return r.p&&r.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":r.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class RD extends ID{constructor(){super(...arguments);Te(this,"_isSupportAvif",!1);Te(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(r,n){this._isSupportAvif=n,this._isSupportWebp=r}filterImageFormat(r){return this.isSupportAvif||r.splice(r.indexOf("avif"),1),this.isSupportWebp||r.splice(r.indexOf("webp"),1),r[0]}}const xf=class xf extends RD{static get Obj(){return this._Obj||(this._Obj=new xf),this._Obj}};Te(xf,"_Obj");let qe=xf;const kD="action_sign_in",WT="action_get_player_info",VT="action_balance_change",XT="action_sound_open",MD="action_volume_changed",YT="action_menu_open",qT="action_paytable_open",ND="action_betpanel_open",OD="action_auto_panel_open",QT="action_orientation_changed",FD="action_force_update",KT="action_history_list_open",LD="action_history_detail_open",ZT="action_error_detail",JT="action_spin",eA="action_loaded",tA="action_spin_stopping",rA="action_spin_stop",nA="action_set_bet_amount",iA="action_set_bet_level",sA="action_set_auto_spin_detail",DD="action_do_auto_spin",BD="action_stop_auto_spin",oA="action_set_spin_speed",aA="action_linebets_loaded",UD="action_scene_push",GD="action_scene_pop",lA="action_scene_replace",zD="action_scene_to_root",uA="action_assets_loading",HD=(t={},e)=>{switch(e.type){case XT:return{...t,soundOn:e.value};case MD:return{...t};case YT:return{...t,menuOn:e.value};case qT:return{...t,payTableOn:e.value};case ND:return{...t,betPanelOn:e.value};case OD:return{...t,autoSpinPanelOn:e.value};case QT:return{...t,orientation:e.value};case FD:return{...t,forceUpdate:!t.forceUpdate};case KT:return{...t,historyListOn:e.value};case LD:return{...t,historyDetail:{...e.value}};case ZT:return{...t,error:{...e.value}};default:return t}},$D={setting:{soundOn:nn("mute",!0)=="1",volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1,orientation:"l",forceUpdate:!1,historyListOn:!1,historyDetail:{on:!1,data:null},error:{code:0,show:!1,allowClose:!0}}};function jD(t){return{type:XT,value:t}}function cA(t){return{type:YT,value:t}}function WD(t){return{type:qT,value:t}}function VD(t){return{type:QT,value:t}}function XD(t){return{type:KT,value:t}}function Gr(t,e=!1,r=!0){return{type:ZT,value:{code:t,show:e,allowClose:r}}}const wt=G.createContext({}),lg="authorization",YD="https://dev-crescendo-real.gpistudios.com",qD="https://dev-crescendo-slot-api.gpistudios.com";class QD{constructor(){Te(this,"context",qe.Obj);Te(this,"authorization",sessionStorage.getItem(lg));Te(this,"canReAuth",!!this.authorization);Te(this,"_dispatch")}get domain(){return this.context.urlOptions.funPLay?qD:YD}setDispatch(e){this._dispatch=e}authAndCanReTry(){this.authorization="",sessionStorage.setItem(lg,"");const e=this.canReAuth;return this.canReAuth=!1,e}request(e,r="GET",n="json",i=null){const s=this.authorization?{Authorization:`${this.authorization}`}:{};return navigator.onLine==!1?(this._dispatch(Gr("000")),Promise.reject()):new Promise((o,a)=>{const c=new AbortController,d=setTimeout(()=>{clearTimeout(d),c.abort(),this._dispatch(Gr("001")),a()},1e4);fetch(e,{method:r,headers:s,signal:c.signal}).then(p=>{clearTimeout(d),p.status==200?p[n]().then(f=>{if(i){const g=new i(f);g.code&&this._dispatch(Gr(g.code)),o(g)}else o(f)}).catch(()=>{this._dispatch(Gr("000")),a()}):(this._dispatch(Gr(p.status)),o({code:p.status}))}).catch(p=>{clearTimeout(d),this._dispatch(Gr("000")),a()})})}auth(){const{operator:e,token:r}=this.context.urlOptions,n=r||Math.random().toFixed(8),i=`${this.domain}/auth/${e}/${n}`;return!r&&this.authorization?Promise.resolve(this.authorization):this.request(i,"GET","text").then(s=>{UI(s)&&(s=`Bearer ${s}`,this.authorization=s,sessionStorage.setItem(lg,s))})}player(){const e=Ti("player"),r=`${this.domain}/s/player`;return this.request(r,"GET","json",e)}meta(){const e=Ti("meta"),r=this.context.configOptions.id,n=`${this.domain}/s/meta/${r}`;return this.request(n,"GET","json",e)}spin(e){const r=Ti("spin"),n=this.context.configOptions.id,i=`${this.domain}/s/spin/${n}?lineBet=${e}`;return this.request(i,"GET","json",r)}spin2(e,r){const n=Ti("spin"),i=this.context.configOptions.id,s=`${this.domain}/s/spin/${i}?lineBet=${e}&level=${r}`;return this.request(s,"GET","json",n)}load(){const e=Ti("load"),r=this.context.configOptions.id,n=`${this.domain}/s/load/${r}`;return this.request(n,"GET","json",e)}start(e){const r=Ti("start"),n=this.context.configOptions.id,i=`${this.domain}/s/start/${n}/${e}`;return this.request(i,"GET","json",r)}continue(){const e=Ti("continue"),r=this.context.configOptions.id,n=`${this.domain}/s/cont/${r}`;return this.request(n,"GET","json",e)}history(e,r,n,i,s){const o=Ti("history"),a=this.context.configOptions.id,c=`${this.domain}/s/list/${a}/${e}/${r}/${n}/${i}/${s}`;return this.request(c,"GET","json",o)}lineBets(){const e=Ti("lineBets"),r=this.context.configOptions.id,n=`${this.domain}/s/lineBets/${r}`;return this.request(n,"GET","json",e)}}function KD(){const{state:t,dispatch:e}=G.useContext(wt);return G.useEffect(()=>{ev().setDispatch(e)},[]),O(vi,{})}class zf{constructor(e){Te(this,"data");Te(this,"code");Te(this,"message");this.data=e,e.code&&(this.code=e.code,this.message=e.message)}static Init(e,r){return new zf({code:e,message:r})}}class ZD extends zf{constructor(r){super(r);Te(this,"name");Te(this,"test");Te(this,"currency");Te(this,"balance");!this.code&&(this.name=r.name,this.test=r.test,this.currency=r.currency,this.balance=new Ue(r.balance))}}class JD extends zf{constructor(r){super(r);Te(this,"credit");Te(this,"cost");Te(this,"payout");Te(this,"balance");!this.code&&(this.credit=new Ue(r.credit||0),this.cost=new Ue(r.cost||0),this.payout=new Ue(r.payout||0),this.balance=new Ue(r.balance||0))}}class hA extends JD{constructor(r){super(r);Te(this,"columnSymbolsMap");Te(this,"linewins");Te(this,"wildReels");Te(this,"wildReelMap");Te(this,"totalMultiplier");if(this.code)return;this.totalMultiplier=new Ue(r.spin.tm||0),this.wildReels=r.spin.wildReels||[];const n={},i={};for(let o of r.spin.ss)n[o[0]]=o[1];for(let o of this.wildReels)n[o]&&(i[o]=n[o]);this.columnSymbolsMap=n,this.wildReelMap=i;const s=[];if(r.spin.wins)for(let o of r.spin.wins)for(let a of o.cls){const c={},d=a.c.map((h,f)=>{let g=h[0],y=h[1],w=this.columnSymbolsMap[g],E=w?w[y]:null;const _=c[g]||{};return _[y]=E,c[g]=_,[g,y,E]});let p={type:o.s,multiplier:new Ue(a.m||0),columnRowSymbolArr:d,columnMapRowSymbolMap:c};s.push(p)}this.linewins=s}get existWild(){for(let r in this.wildReelMap)return!0;return!1}}class eB extends hA{constructor(e){super(e),this.code}}qI(QD);tv("spin",hA);tv("player",ZD);tv("load",eB);var dA={exports:{}},Wr={},fA={exports:{}},pA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,X){var D=M.length;M.push(X);e:for(;0<D;){var z=D-1>>>1,te=M[z];if(0<i(te,X))M[z]=X,M[D]=te,D=z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var X=M[0],D=M.pop();if(D!==X){M[0]=D;e:for(var z=0,te=M.length,Ce=te>>>1;z<Ce;){var Ee=2*(z+1)-1,We=M[Ee],ke=Ee+1,je=M[ke];if(0>i(We,D))ke<te&&0>i(je,We)?(M[z]=je,M[ke]=D,z=ke):(M[z]=We,M[Ee]=D,z=Ee);else if(ke<te&&0>i(je,D))M[z]=je,M[ke]=D,z=ke;else break e}}return X}function i(M,X){var D=M.sortIndex-X.sortIndex;return D!==0?D:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=M)n(d),X.sortIndex=X.expirationTime,e(c,X);else break;X=r(d)}}function A(M){if(w=!1,S(M),!y)if(r(c)!==null)y=!0,ee(P);else{var X=r(d);X!==null&&oe(A,X.startTime-M)}}function P(M,X){y=!1,w&&(w=!1,_(R),R=-1),g=!0;var D=f;try{for(S(X),h=r(c);h!==null&&(!(h.expirationTime>X)||M&&!q());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var te=z(h.expirationTime<=X);X=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),S(X)}else n(c);h=r(c)}if(h!==null)var Ce=!0;else{var Ee=r(d);Ee!==null&&oe(A,Ee.startTime-X),Ce=!1}return Ce}finally{h=null,f=D,g=!1}}var N=!1,k=null,R=-1,U=5,W=-1;function q(){return!(t.unstable_now()-W<U)}function $(){if(k!==null){var M=t.unstable_now();W=M;var X=!0;try{X=k(!0,M)}finally{X?L():(N=!1,k=null)}}else N=!1}var L;if(typeof b=="function")L=function(){b($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=$,L=function(){J.postMessage(null)}}else L=function(){E($,0)};function ee(M){k=M,N||(N=!0,L())}function oe(M,X){R=E(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ee(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var D=f;f=X;try{return M()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=f;f=M;try{return X()}finally{f=D}},t.unstable_scheduleCallback=function(M,X,D){var z=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=D+te,M={id:p++,callback:X,priorityLevel:M,startTime:D,expirationTime:te,sortIndex:-1},D>z?(M.sortIndex=D,e(d,M),r(c)===null&&M===r(d)&&(w?(_(R),R=-1):w=!0,oe(A,D-z))):(M.sortIndex=te,e(c,M),y||g||(y=!0,ee(P))),M},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(M){var X=f;return function(){var D=f;f=X;try{return M.apply(this,arguments)}finally{f=D}}}})(pA);fA.exports=pA;var tB=fA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA=G,jr=tB;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gA=new Set,Du={};function Uo(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(Du[t]=e,t=0;t<e.length;t++)gA.add(e[t])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H0=Object.prototype.hasOwnProperty,rB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zw={},Jw={};function nB(t){return H0.call(Jw,t)?!0:H0.call(Zw,t)?!1:rB.test(t)?Jw[t]=!0:(Zw[t]=!0,!1)}function iB(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sB(t,e,r,n){if(e===null||typeof e>"u"||iB(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){er[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];er[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){er[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){er[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){er[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){er[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){er[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){er[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){er[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ev=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);er[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);er[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ev,Tv);er[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){er[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});er.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){er[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,r,n){var i=er.hasOwnProperty(e)?er[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sB(e,r,i,n)&&(r=null),n||i===null?nB(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var qi=mA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ph=Symbol.for("react.element"),ba=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),yA=Symbol.for("react.provider"),vA=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),W0=Symbol.for("react.suspense_list"),Iv=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),_A=Symbol.for("react.offscreen"),eb=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=eb&&t[eb]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,ug;function tu(t){if(ug===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ug=e&&e[1]||""}return`
`+ug+t}var cg=!1;function hg(t,e){if(!t||cg)return"";cg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{cg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?tu(t):""}function oB(t){switch(t.tag){case 5:return tu(t.type);case 16:return tu("Lazy");case 13:return tu("Suspense");case 19:return tu("SuspenseList");case 0:case 2:case 15:return t=hg(t.type,!1),t;case 11:return t=hg(t.type.render,!1),t;case 1:return t=hg(t.type,!0),t;default:return""}}function V0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sa:return"Fragment";case ba:return"Portal";case $0:return"Profiler";case Cv:return"StrictMode";case j0:return"Suspense";case W0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vA:return(t.displayName||"Context")+".Consumer";case yA:return(t._context.displayName||"Context")+".Provider";case Pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iv:return e=t.displayName||null,e!==null?e:V0(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return V0(t(e))}catch{}}return null}function aB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V0(e);case 8:return e===Cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lB(t){var e=xA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ih(t){t._valueTracker||(t._valueTracker=lB(t))}function wA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=xA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X0(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Bs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bA(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function Y0(t,e){bA(t,e);var r=Bs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?q0(t,e.type,r):e.hasOwnProperty("defaultValue")&&q0(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function q0(t,e,r){(e!=="number"||$d(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ru=Array.isArray;function $a(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Bs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Q0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ne(92));if(ru(r)){if(1<r.length)throw Error(ne(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Bs(r)}}function SA(t,e){var r=Bs(e.value),n=Bs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ib(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rh,TA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uB=["Webkit","ms","Moz","O"];Object.keys(mu).forEach(function(t){uB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mu[e]=mu[t]})});function AA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||mu.hasOwnProperty(t)&&mu[t]?(""+e).trim():e+"px"}function CA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=AA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var cB=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z0(t,e){if(e){if(cB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function J0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function Rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,ja=null,Wa=null;function sb(t){if(t=cc(t)){if(typeof ty!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Vf(e),ty(t.stateNode,t.type,e))}}function PA(t){ja?Wa?Wa.push(t):Wa=[t]:ja=t}function IA(){if(ja){var t=ja,e=Wa;if(Wa=ja=null,sb(t),e)for(t=0;t<e.length;t++)sb(e[t])}}function RA(t,e){return t(e)}function kA(){}var dg=!1;function MA(t,e,r){if(dg)return t(e,r);dg=!0;try{return RA(t,e,r)}finally{dg=!1,(ja!==null||Wa!==null)&&(kA(),IA())}}function Uu(t,e){var r=t.stateNode;if(r===null)return null;var n=Vf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ne(231,e,typeof r));return r}var ry=!1;if(ji)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){ry=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{ry=!1}function hB(t,e,r,n,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var gu=!1,jd=null,Wd=!1,ny=null,dB={onError:function(t){gu=!0,jd=t}};function fB(t,e,r,n,i,s,o,a,c){gu=!1,jd=null,hB.apply(dB,arguments)}function pB(t,e,r,n,i,s,o,a,c){if(fB.apply(this,arguments),gu){if(gu){var d=jd;gu=!1,jd=null}else throw Error(ne(198));Wd||(Wd=!0,ny=d)}}function Go(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function NA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ob(t){if(Go(t)!==t)throw Error(ne(188))}function mB(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ob(i),t;if(s===n)return ob(i),e;s=s.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?t:e}function OA(t){return t=mB(t),t!==null?FA(t):null}function FA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FA(t);if(e!==null)return e;t=t.sibling}return null}var LA=jr.unstable_scheduleCallback,ab=jr.unstable_cancelCallback,gB=jr.unstable_shouldYield,yB=jr.unstable_requestPaint,At=jr.unstable_now,vB=jr.unstable_getCurrentPriorityLevel,kv=jr.unstable_ImmediatePriority,DA=jr.unstable_UserBlockingPriority,Vd=jr.unstable_NormalPriority,_B=jr.unstable_LowPriority,BA=jr.unstable_IdlePriority,Hf=null,ci=null;function xB(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Hf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:SB,wB=Math.log,bB=Math.LN2;function SB(t){return t>>>=0,t===0?32:31-(wB(t)/bB|0)|0}var kh=64,Mh=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=nu(a):(s&=o,s!==0&&(n=nu(s)))}else o=r&~i,o!==0?n=nu(o):s!==0&&(n=nu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ln(e),i=1<<r,n|=t[r],e&=~i;return n}function EB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TB(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=EB(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UA(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function fg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function lc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=r}function AB(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ln(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Mv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ln(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ye=0;function GA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zA,Nv,HA,$A,jA,sy=!1,Nh=[],Ts=null,As=null,Cs=null,Gu=new Map,zu=new Map,ys=[],CB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function Hl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cc(e),e!==null&&Nv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PB(t,e,r,n,i){switch(e){case"focusin":return Ts=Hl(Ts,t,e,r,n,i),!0;case"dragenter":return As=Hl(As,t,e,r,n,i),!0;case"mouseover":return Cs=Hl(Cs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Gu.set(s,Hl(Gu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,Hl(zu.get(s)||null,t,e,r,n,i)),!0}return!1}function WA(t){var e=_o(t.target);if(e!==null){var r=Go(e);if(r!==null){if(e=r.tag,e===13){if(e=NA(r),e!==null){t.blockedOn=e,jA(t.priority,function(){HA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ey=n,r.target.dispatchEvent(n),ey=null}else return e=cc(r),e!==null&&Nv(e),t.blockedOn=r,!1;e.shift()}return!0}function ub(t,e,r){cd(t)&&r.delete(e)}function IB(){sy=!1,Ts!==null&&cd(Ts)&&(Ts=null),As!==null&&cd(As)&&(As=null),Cs!==null&&cd(Cs)&&(Cs=null),Gu.forEach(ub),zu.forEach(ub)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,IB)))}function Hu(t){function e(i){return $l(i,t)}if(0<Nh.length){$l(Nh[0],t);for(var r=1;r<Nh.length;r++){var n=Nh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ts!==null&&$l(Ts,t),As!==null&&$l(As,t),Cs!==null&&$l(Cs,t),Gu.forEach(e),zu.forEach(e),r=0;r<ys.length;r++)n=ys[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ys.length&&(r=ys[0],r.blockedOn===null);)WA(r),r.blockedOn===null&&ys.shift()}var Va=qi.ReactCurrentBatchConfig,Yd=!0;function RB(t,e,r,n){var i=Ye,s=Va.transition;Va.transition=null;try{Ye=1,Ov(t,e,r,n)}finally{Ye=i,Va.transition=s}}function kB(t,e,r,n){var i=Ye,s=Va.transition;Va.transition=null;try{Ye=4,Ov(t,e,r,n)}finally{Ye=i,Va.transition=s}}function Ov(t,e,r,n){if(Yd){var i=oy(t,e,r,n);if(i===null)Sg(t,e,n,qd,r),lb(t,n);else if(PB(i,t,e,r,n))n.stopPropagation();else if(lb(t,n),e&4&&-1<CB.indexOf(t)){for(;i!==null;){var s=cc(i);if(s!==null&&zA(s),s=oy(t,e,r,n),s===null&&Sg(t,e,n,qd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sg(t,e,n,null,r)}}var qd=null;function oy(t,e,r,n){if(qd=null,t=Rv(n),t=_o(t),t!==null)if(e=Go(t),e===null)t=null;else if(r=e.tag,r===13){if(t=NA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qd=t,null}function VA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vB()){case kv:return 1;case DA:return 4;case Vd:case _B:return 16;case BA:return 536870912;default:return 16}default:return 16}}var Ss=null,Fv=null,hd=null;function XA(){if(hd)return hd;var t,e=Fv,r=e.length,n,i="value"in Ss?Ss.value:Ss.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return hd=i.slice(t,1<n?1-n:void 0)}function dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oh(){return!0}function cb(){return!1}function Vr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oh:cb,this.isPropagationStopped=cb,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=Vr(cl),uc=yt({},cl,{view:0,detail:0}),MB=Vr(uc),pg,mg,jl,$f=yt({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(pg=t.screenX-jl.screenX,mg=t.screenY-jl.screenY):mg=pg=0,jl=t),pg)},movementY:function(t){return"movementY"in t?t.movementY:mg}}),hb=Vr($f),NB=yt({},$f,{dataTransfer:0}),OB=Vr(NB),FB=yt({},uc,{relatedTarget:0}),gg=Vr(FB),LB=yt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),DB=Vr(LB),BB=yt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UB=Vr(BB),GB=yt({},cl,{data:0}),db=Vr(GB),zB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$B={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$B[t])?!!e[t]:!1}function Dv(){return jB}var WB=yt({},uc,{key:function(t){if(t.key){var e=zB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(t){return t.type==="keypress"?dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VB=Vr(WB),XB=yt({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fb=Vr(XB),YB=yt({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),qB=Vr(YB),QB=yt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KB=Vr(QB),ZB=yt({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JB=Vr(ZB),e4=[9,13,27,32],Bv=ji&&"CompositionEvent"in window,yu=null;ji&&"documentMode"in document&&(yu=document.documentMode);var t4=ji&&"TextEvent"in window&&!yu,YA=ji&&(!Bv||yu&&8<yu&&11>=yu),pb=String.fromCharCode(32),mb=!1;function qA(t,e){switch(t){case"keyup":return e4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function r4(t,e){switch(t){case"compositionend":return QA(e);case"keypress":return e.which!==32?null:(mb=!0,pb);case"textInput":return t=e.data,t===pb&&mb?null:t;default:return null}}function n4(t,e){if(Ea)return t==="compositionend"||!Bv&&qA(t,e)?(t=XA(),hd=Fv=Ss=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YA&&e.locale!=="ko"?null:e.data;default:return null}}var i4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i4[t.type]:e==="textarea"}function KA(t,e,r,n){PA(n),e=Qd(e,"onChange"),0<e.length&&(r=new Lv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vu=null,$u=null;function s4(t){lC(t,0)}function jf(t){var e=Ca(t);if(wA(e))return t}function o4(t,e){if(t==="change")return e}var ZA=!1;if(ji){var yg;if(ji){var vg="oninput"in document;if(!vg){var yb=document.createElement("div");yb.setAttribute("oninput","return;"),vg=typeof yb.oninput=="function"}yg=vg}else yg=!1;ZA=yg&&(!document.documentMode||9<document.documentMode)}function vb(){vu&&(vu.detachEvent("onpropertychange",JA),$u=vu=null)}function JA(t){if(t.propertyName==="value"&&jf($u)){var e=[];KA(e,$u,t,Rv(t)),MA(s4,e)}}function a4(t,e,r){t==="focusin"?(vb(),vu=e,$u=r,vu.attachEvent("onpropertychange",JA)):t==="focusout"&&vb()}function l4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jf($u)}function u4(t,e){if(t==="click")return jf(e)}function c4(t,e){if(t==="input"||t==="change")return jf(e)}function h4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:h4;function ju(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!H0.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function _b(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xb(t,e){var r=_b(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_b(r)}}function eC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tC(){for(var t=window,e=$d();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$d(t.document)}return e}function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d4(t){var e=tC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eC(r.ownerDocument.documentElement,r)){if(n!==null&&Uv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=xb(r,s);var o=xb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f4=ji&&"documentMode"in document&&11>=document.documentMode,Ta=null,ay=null,_u=null,ly=!1;function wb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ly||Ta==null||Ta!==$d(n)||(n=Ta,"selectionStart"in n&&Uv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_u&&ju(_u,n)||(_u=n,n=Qd(ay,"onSelect"),0<n.length&&(e=new Lv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ta)))}function Fh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Aa={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},_g={},rC={};ji&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Wf(t){if(_g[t])return _g[t];if(!Aa[t])return t;var e=Aa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rC)return _g[t]=e[r];return t}var nC=Wf("animationend"),iC=Wf("animationiteration"),sC=Wf("animationstart"),oC=Wf("transitionend"),aC=new Map,bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(t,e){aC.set(t,e),Uo(e,[t])}for(var xg=0;xg<bb.length;xg++){var wg=bb[xg],p4=wg.toLowerCase(),m4=wg[0].toUpperCase()+wg.slice(1);$s(p4,"on"+m4)}$s(nC,"onAnimationEnd");$s(iC,"onAnimationIteration");$s(sC,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(oC,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function Sb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pB(n,e,void 0,t),t.currentTarget=null}function lC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Sb(i,a,d),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Sb(i,a,d),s=c}}}if(Wd)throw t=ny,Wd=!1,ny=null,t}function nt(t,e){var r=e[fy];r===void 0&&(r=e[fy]=new Set);var n=t+"__bubble";r.has(n)||(uC(e,t,2,!1),r.add(n))}function bg(t,e,r){var n=0;e&&(n|=4),uC(r,t,n,e)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Wu(t){if(!t[Lh]){t[Lh]=!0,gA.forEach(function(r){r!=="selectionchange"&&(g4.has(r)||bg(r,!1,t),bg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lh]||(e[Lh]=!0,bg("selectionchange",!1,e))}}function uC(t,e,r,n){switch(VA(e)){case 1:var i=RB;break;case 4:i=kB;break;default:i=Ov}r=i.bind(null,e,r,t),i=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Sg(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_o(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}MA(function(){var d=s,p=Rv(r),h=[];e:{var f=aC.get(t);if(f!==void 0){var g=Lv,y=t;switch(t){case"keypress":if(dd(r)===0)break e;case"keydown":case"keyup":g=VB;break;case"focusin":y="focus",g=gg;break;case"focusout":y="blur",g=gg;break;case"beforeblur":case"afterblur":g=gg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qB;break;case nC:case iC:case sC:g=DB;break;case oC:g=KB;break;case"scroll":g=MB;break;case"wheel":g=JB;break;case"copy":case"cut":case"paste":g=UB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fb}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var b=d,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,_!==null&&(A=Uu(b,_),A!=null&&w.push(Vu(b,A,S)))),E)break;b=b.return}0<w.length&&(f=new g(f,y,null,r,p),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ey&&(y=r.relatedTarget||r.fromElement)&&(_o(y)||y[Wi]))break e;if((g||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?_o(y):null,y!==null&&(E=Go(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(w=hb,A="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=fb,A="onPointerLeave",_="onPointerEnter",b="pointer"),E=g==null?f:Ca(g),S=y==null?f:Ca(y),f=new w(A,b+"leave",g,r,p),f.target=E,f.relatedTarget=S,A=null,_o(p)===d&&(w=new w(_,b+"enter",y,r,p),w.target=S,w.relatedTarget=E,A=w),E=A,g&&y)t:{for(w=g,_=y,b=0,S=w;S;S=la(S))b++;for(S=0,A=_;A;A=la(A))S++;for(;0<b-S;)w=la(w),b--;for(;0<S-b;)_=la(_),S--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=la(w),_=la(_)}w=null}else w=null;g!==null&&Eb(h,f,g,w,!1),y!==null&&E!==null&&Eb(h,E,y,w,!0)}}e:{if(f=d?Ca(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=o4;else if(gb(f))if(ZA)P=c4;else{P=l4;var N=a4}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=u4);if(P&&(P=P(t,d))){KA(h,P,r,p);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&q0(f,"number",f.value)}switch(N=d?Ca(d):window,t){case"focusin":(gb(N)||N.contentEditable==="true")&&(Ta=N,ay=d,_u=null);break;case"focusout":_u=ay=Ta=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,wb(h,r,p);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":wb(h,r,p)}var k;if(Bv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ea?qA(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(YA&&r.locale!=="ko"&&(Ea||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ea&&(k=XA()):(Ss=p,Fv="value"in Ss?Ss.value:Ss.textContent,Ea=!0)),N=Qd(d,R),0<N.length&&(R=new db(R,t,null,r,p),h.push({event:R,listeners:N}),k?R.data=k:(k=QA(r),k!==null&&(R.data=k)))),(k=t4?r4(t,r):n4(t,r))&&(d=Qd(d,"onBeforeInput"),0<d.length&&(p=new db("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:d}),p.data=k))}lC(h,e)})}function Vu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Uu(t,r),s!=null&&n.unshift(Vu(t,s,i)),s=Uu(t,e),s!=null&&n.push(Vu(t,s,i))),t=t.return}return n}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=Uu(r,s),c!=null&&o.unshift(Vu(r,c,a))):i||(c=Uu(r,s),c!=null&&o.push(Vu(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var y4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function Tb(t){return(typeof t=="string"?t:""+t).replace(y4,`
`).replace(v4,"")}function Dh(t,e,r){if(e=Tb(e),Tb(t)!==e&&r)throw Error(ne(425))}function Kd(){}var uy=null,cy=null;function hy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=typeof setTimeout=="function"?setTimeout:void 0,_4=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,x4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(t){return Ab.resolve(null).then(t).catch(w4)}:dy;function w4(t){setTimeout(function(){throw t})}function Eg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hu(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),si="__reactFiber$"+hl,Xu="__reactProps$"+hl,Wi="__reactContainer$"+hl,fy="__reactEvents$"+hl,b4="__reactListeners$"+hl,S4="__reactHandles$"+hl;function _o(t){var e=t[si];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wi]||r[si]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Cb(t);t!==null;){if(r=t[si])return r;t=Cb(t)}return e}t=r,r=t.parentNode}return null}function cc(t){return t=t[si]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Vf(t){return t[Xu]||null}var py=[],Pa=-1;function js(t){return{current:t}}function st(t){0>Pa||(t.current=py[Pa],py[Pa]=null,Pa--)}function tt(t,e){Pa++,py[Pa]=t.current,t.current=e}var Us={},hr=js(Us),Pr=js(!1),Io=Us;function tl(t,e){var r=t.type.contextTypes;if(!r)return Us;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return t=t.childContextTypes,t!=null}function Zd(){st(Pr),st(hr)}function Pb(t,e,r){if(hr.current!==Us)throw Error(ne(168));tt(hr,e),tt(Pr,r)}function cC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ne(108,aB(t)||"Unknown",i));return yt({},r,n)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Io=hr.current,tt(hr,t),tt(Pr,Pr.current),!0}function Ib(t,e,r){var n=t.stateNode;if(!n)throw Error(ne(169));r?(t=cC(t,e,Io),n.__reactInternalMemoizedMergedChildContext=t,st(Pr),st(hr),tt(hr,t)):st(Pr),tt(Pr,r)}var Mi=null,Xf=!1,Tg=!1;function hC(t){Mi===null?Mi=[t]:Mi.push(t)}function E4(t){Xf=!0,hC(t)}function Ws(){if(!Tg&&Mi!==null){Tg=!0;var t=0,e=Ye;try{var r=Mi;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Mi=null,Xf=!1}catch(i){throw Mi!==null&&(Mi=Mi.slice(t+1)),LA(kv,Ws),i}finally{Ye=e,Tg=!1}}return null}var Ia=[],Ra=0,ef=null,tf=0,on=[],an=0,Ro=null,Di=1,Bi="";function po(t,e){Ia[Ra++]=tf,Ia[Ra++]=ef,ef=t,tf=e}function dC(t,e,r){on[an++]=Di,on[an++]=Bi,on[an++]=Ro,Ro=t;var n=Di;t=Bi;var i=32-Ln(n)-1;n&=~(1<<i),r+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Di=1<<32-Ln(e)+i|r<<i|n,Bi=s+t}else Di=1<<s|r<<i|n,Bi=t}function Gv(t){t.return!==null&&(po(t,1),dC(t,1,0))}function zv(t){for(;t===ef;)ef=Ia[--Ra],Ia[Ra]=null,tf=Ia[--Ra],Ia[Ra]=null;for(;t===Ro;)Ro=on[--an],on[an]=null,Bi=on[--an],on[an]=null,Di=on[--an],on[an]=null}var Hr=null,zr=null,ct=!1,Pn=null;function fC(t,e){var r=dn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,zr=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ro!==null?{id:Di,overflow:Bi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,zr=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if(ct){var e=zr;if(e){var r=e;if(!Rb(t,e)){if(my(t))throw Error(ne(418));e=Ps(r.nextSibling);var n=Hr;e&&Rb(t,e)?fC(n,r):(t.flags=t.flags&-4097|2,ct=!1,Hr=t)}}else{if(my(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ct=!1,Hr=t}}}function kb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function Bh(t){if(t!==Hr)return!1;if(!ct)return kb(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hy(t.type,t.memoizedProps)),e&&(e=zr)){if(my(t))throw pC(),Error(ne(418));for(;e;)fC(t,e),e=Ps(e.nextSibling)}if(kb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=Ps(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Hr?Ps(t.stateNode.nextSibling):null;return!0}function pC(){for(var t=zr;t;)t=Ps(t.nextSibling)}function rl(){zr=Hr=null,ct=!1}function Hv(t){Pn===null?Pn=[t]:Pn.push(t)}var T4=qi.ReactCurrentBatchConfig;function An(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var rf=js(null),nf=null,ka=null,$v=null;function jv(){$v=ka=nf=null}function Wv(t){var e=rf.current;st(rf),t._currentValue=e}function yy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xa(t,e){nf=t,$v=ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if($v!==t)if(t={context:t,memoizedValue:e,next:null},ka===null){if(nf===null)throw Error(ne(308));ka=t,nf.dependencies={lanes:0,firstContext:t}}else ka=ka.next=t;return e}var xo=null;function Vv(t){xo===null?xo=[t]:xo.push(t)}function mC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Vv(e)):(r.next=i.next,i.next=r),e.interleaved=r,Vi(t,n)}function Vi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ms=!1;function Xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Vi(t,r)}return i=n.interleaved,i===null?(e.next=e,Vv(n)):(e.next=i.next,i.next=e),n.interleaved=e,Vi(t,r)}function fd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Mv(t,r)}}function Mb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sf(t,e,r,n){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,p=d=c=null,a=s;do{var f=a.lane,g=a.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,g=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=yt({},h,f);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=g,c=h):p=p.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(p===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=h}}function Nb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var yC=new mA.Component().refs;function vy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yf={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ks(t),s=Hi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Is(t,s,i),e!==null&&(Dn(e,t,i,n),fd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ks(t),s=Hi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Is(t,s,i),e!==null&&(Dn(e,t,i,n),fd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yr(),n=ks(t),i=Hi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,n),e!==null&&(Dn(e,t,n,r),fd(e,t,n))}};function Ob(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!ju(r,n)||!ju(i,s):!0}function vC(t,e,r){var n=!1,i=Us,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=Ir(e)?Io:hr.current,n=e.contextTypes,s=(n=n!=null)?tl(t,i):Us),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function _y(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=yC,Xv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=Ir(e)?Io:hr.current,i.context=tl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vy(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),sf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,t))}return t}function Uh(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lb(t){var e=t._init;return e(t._payload)}function _C(t){function e(_,b){if(t){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Ms(_,b),_.index=0,_.sibling=null,_}function s(_,b,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,S,A){return b===null||b.tag!==6?(b=Mg(S,_.mode,A),b.return=_,b):(b=i(b,S),b.return=_,b)}function c(_,b,S,A){var P=S.type;return P===Sa?p(_,b,S.props.children,A,S.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ps&&Lb(P)===b.type)?(A=i(b,S.props),A.ref=Wl(_,b,S),A.return=_,A):(A=_d(S.type,S.key,S.props,null,_.mode,A),A.ref=Wl(_,b,S),A.return=_,A)}function d(_,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Ng(S,_.mode,A),b.return=_,b):(b=i(b,S.children||[]),b.return=_,b)}function p(_,b,S,A,P){return b===null||b.tag!==7?(b=Ao(S,_.mode,A,P),b.return=_,b):(b=i(b,S),b.return=_,b)}function h(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mg(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:return S=_d(b.type,b.key,b.props,null,_.mode,S),S.ref=Wl(_,null,b),S.return=_,S;case ba:return b=Ng(b,_.mode,S),b.return=_,b;case ps:var A=b._init;return h(_,A(b._payload),S)}if(ru(b)||Gl(b))return b=Ao(b,_.mode,S,null),b.return=_,b;Uh(_,b)}return null}function f(_,b,S,A){var P=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(_,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ph:return S.key===P?c(_,b,S,A):null;case ba:return S.key===P?d(_,b,S,A):null;case ps:return P=S._init,f(_,b,P(S._payload),A)}if(ru(S)||Gl(S))return P!==null?null:p(_,b,S,A,null);Uh(_,S)}return null}function g(_,b,S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(S)||null,a(b,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ph:return _=_.get(A.key===null?S:A.key)||null,c(b,_,A,P);case ba:return _=_.get(A.key===null?S:A.key)||null,d(b,_,A,P);case ps:var N=A._init;return g(_,b,S,N(A._payload),P)}if(ru(A)||Gl(A))return _=_.get(S)||null,p(b,_,A,P,null);Uh(b,A)}return null}function y(_,b,S,A){for(var P=null,N=null,k=b,R=b=0,U=null;k!==null&&R<S.length;R++){k.index>R?(U=k,k=null):U=k.sibling;var W=f(_,k,S[R],A);if(W===null){k===null&&(k=U);break}t&&k&&W.alternate===null&&e(_,k),b=s(W,b,R),N===null?P=W:N.sibling=W,N=W,k=U}if(R===S.length)return r(_,k),ct&&po(_,R),P;if(k===null){for(;R<S.length;R++)k=h(_,S[R],A),k!==null&&(b=s(k,b,R),N===null?P=k:N.sibling=k,N=k);return ct&&po(_,R),P}for(k=n(_,k);R<S.length;R++)U=g(k,_,R,S[R],A),U!==null&&(t&&U.alternate!==null&&k.delete(U.key===null?R:U.key),b=s(U,b,R),N===null?P=U:N.sibling=U,N=U);return t&&k.forEach(function(q){return e(_,q)}),ct&&po(_,R),P}function w(_,b,S,A){var P=Gl(S);if(typeof P!="function")throw Error(ne(150));if(S=P.call(S),S==null)throw Error(ne(151));for(var N=P=null,k=b,R=b=0,U=null,W=S.next();k!==null&&!W.done;R++,W=S.next()){k.index>R?(U=k,k=null):U=k.sibling;var q=f(_,k,W.value,A);if(q===null){k===null&&(k=U);break}t&&k&&q.alternate===null&&e(_,k),b=s(q,b,R),N===null?P=q:N.sibling=q,N=q,k=U}if(W.done)return r(_,k),ct&&po(_,R),P;if(k===null){for(;!W.done;R++,W=S.next())W=h(_,W.value,A),W!==null&&(b=s(W,b,R),N===null?P=W:N.sibling=W,N=W);return ct&&po(_,R),P}for(k=n(_,k);!W.done;R++,W=S.next())W=g(k,_,R,W.value,A),W!==null&&(t&&W.alternate!==null&&k.delete(W.key===null?R:W.key),b=s(W,b,R),N===null?P=W:N.sibling=W,N=W);return t&&k.forEach(function($){return e(_,$)}),ct&&po(_,R),P}function E(_,b,S,A){if(typeof S=="object"&&S!==null&&S.type===Sa&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ph:e:{for(var P=S.key,N=b;N!==null;){if(N.key===P){if(P=S.type,P===Sa){if(N.tag===7){r(_,N.sibling),b=i(N,S.props.children),b.return=_,_=b;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ps&&Lb(P)===N.type){r(_,N.sibling),b=i(N,S.props),b.ref=Wl(_,N,S),b.return=_,_=b;break e}r(_,N);break}else e(_,N);N=N.sibling}S.type===Sa?(b=Ao(S.props.children,_.mode,A,S.key),b.return=_,_=b):(A=_d(S.type,S.key,S.props,null,_.mode,A),A.ref=Wl(_,b,S),A.return=_,_=A)}return o(_);case ba:e:{for(N=S.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(_,b.sibling),b=i(b,S.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=Ng(S,_.mode,A),b.return=_,_=b}return o(_);case ps:return N=S._init,E(_,b,N(S._payload),A)}if(ru(S))return y(_,b,S,A);if(Gl(S))return w(_,b,S,A);Uh(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,S),b.return=_,_=b):(r(_,b),b=Mg(S,_.mode,A),b.return=_,_=b),o(_)):r(_,b)}return E}var nl=_C(!0),xC=_C(!1),hc={},hi=js(hc),Yu=js(hc),qu=js(hc);function wo(t){if(t===hc)throw Error(ne(174));return t}function Yv(t,e){switch(tt(qu,e),tt(Yu,t),tt(hi,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K0(e,t)}st(hi),tt(hi,e)}function il(){st(hi),st(Yu),st(qu)}function wC(t){wo(qu.current);var e=wo(hi.current),r=K0(e,t.type);e!==r&&(tt(Yu,t),tt(hi,r))}function qv(t){Yu.current===t&&(st(hi),st(Yu))}var pt=js(0);function of(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ag=[];function Qv(){for(var t=0;t<Ag.length;t++)Ag[t]._workInProgressVersionPrimary=null;Ag.length=0}var pd=qi.ReactCurrentDispatcher,Cg=qi.ReactCurrentBatchConfig,ko=0,gt=null,Nt=null,jt=null,af=!1,xu=!1,Qu=0,A4=0;function sr(){throw Error(ne(321))}function Kv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Bn(t[r],e[r]))return!1;return!0}function Zv(t,e,r,n,i,s){if(ko=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?R4:k4,t=r(n,i),xu){s=0;do{if(xu=!1,Qu=0,25<=s)throw Error(ne(301));s+=1,jt=Nt=null,e.updateQueue=null,pd.current=M4,t=r(n,i)}while(xu)}if(pd.current=lf,e=Nt!==null&&Nt.next!==null,ko=0,jt=Nt=gt=null,af=!1,e)throw Error(ne(300));return t}function Jv(){var t=Qu!==0;return Qu=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?gt.memoizedState=jt=t:jt=jt.next=t,jt}function mn(){if(Nt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=jt===null?gt.memoizedState:jt.next;if(e!==null)jt=e,Nt=t;else{if(t===null)throw Error(ne(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?gt.memoizedState=jt=t:jt=jt.next=t}return jt}function Ku(t,e){return typeof e=="function"?e(t):e}function Pg(t){var e=mn(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=Nt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,d=s;do{var p=d.lane;if((ko&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,gt.lanes|=p,Mo|=p}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=a,Bn(n,e.memoizedState)||(Cr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,Mo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ig(t){var e=mn(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(Cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bC(){}function SC(t,e){var r=gt,n=mn(),i=e(),s=!Bn(n.memoizedState,i);if(s&&(n.memoizedState=i,Cr=!0),n=n.queue,e_(AC.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Zu(9,TC.bind(null,r,n,i,e),void 0,null),Vt===null)throw Error(ne(349));ko&30||EC(r,e,i)}return i}function EC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function TC(t,e,r,n){e.value=r,e.getSnapshot=n,CC(e)&&PC(t)}function AC(t,e,r){return r(function(){CC(e)&&PC(t)})}function CC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Bn(t,r)}catch{return!0}}function PC(t){var e=Vi(t,1);e!==null&&Dn(e,t,1,-1)}function Db(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=I4.bind(null,gt,t),[e.memoizedState,t]}function Zu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function IC(){return mn().memoizedState}function md(t,e,r,n){var i=ri();gt.flags|=t,i.memoizedState=Zu(1|e,r,void 0,n===void 0?null:n)}function qf(t,e,r,n){var i=mn();n=n===void 0?null:n;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,n!==null&&Kv(n,o.deps)){i.memoizedState=Zu(e,r,s,n);return}}gt.flags|=t,i.memoizedState=Zu(1|e,r,s,n)}function Bb(t,e){return md(8390656,8,t,e)}function e_(t,e){return qf(2048,8,t,e)}function RC(t,e){return qf(4,2,t,e)}function kC(t,e){return qf(4,4,t,e)}function MC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NC(t,e,r){return r=r!=null?r.concat([t]):null,qf(4,4,MC.bind(null,e,t),r)}function t_(){}function OC(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function FC(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function LC(t,e,r){return ko&21?(Bn(r,e)||(r=UA(),gt.lanes|=r,Mo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=r)}function C4(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=Cg.transition;Cg.transition={};try{t(!1),e()}finally{Ye=r,Cg.transition=n}}function DC(){return mn().memoizedState}function P4(t,e,r){var n=ks(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BC(t))UC(e,r);else if(r=mC(t,e,r,n),r!==null){var i=yr();Dn(r,t,n,i),GC(r,e,n)}}function I4(t,e,r){var n=ks(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BC(t))UC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var c=e.interleaved;c===null?(i.next=i,Vv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=mC(t,e,i,n),r!==null&&(i=yr(),Dn(r,t,n,i),GC(r,e,n))}}function BC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function UC(t,e){xu=af=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Mv(t,r)}}var lf={readContext:pn,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},R4={readContext:pn,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Bb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,md(4194308,4,MC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return md(4194308,4,t,e)},useInsertionEffect:function(t,e){return md(4,2,t,e)},useMemo:function(t,e){var r=ri();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ri();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P4.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:Db,useDebugValue:t_,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=Db(!1),e=t[0];return t=C4.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=ri();if(ct){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=e(),Vt===null)throw Error(ne(349));ko&30||EC(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Bb(AC.bind(null,n,s,t),[t]),n.flags|=2048,Zu(9,TC.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ri(),e=Vt.identifierPrefix;if(ct){var r=Bi,n=Di;r=(n&~(1<<32-Ln(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k4={readContext:pn,useCallback:OC,useContext:pn,useEffect:e_,useImperativeHandle:NC,useInsertionEffect:RC,useLayoutEffect:kC,useMemo:FC,useReducer:Pg,useRef:IC,useState:function(){return Pg(Ku)},useDebugValue:t_,useDeferredValue:function(t){var e=mn();return LC(e,Nt.memoizedState,t)},useTransition:function(){var t=Pg(Ku)[0],e=mn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:SC,useId:DC,unstable_isNewReconciler:!1},M4={readContext:pn,useCallback:OC,useContext:pn,useEffect:e_,useImperativeHandle:NC,useInsertionEffect:RC,useLayoutEffect:kC,useMemo:FC,useReducer:Ig,useRef:IC,useState:function(){return Ig(Ku)},useDebugValue:t_,useDeferredValue:function(t){var e=mn();return Nt===null?e.memoizedState=t:LC(e,Nt.memoizedState,t)},useTransition:function(){var t=Ig(Ku)[0],e=mn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:SC,useId:DC,unstable_isNewReconciler:!1};function sl(t,e){try{var r="",n=e;do r+=oB(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var N4=typeof WeakMap=="function"?WeakMap:Map;function zC(t,e,r){r=Hi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cf||(cf=!0,Ry=n),xy(t,e)},r}function HC(t,e,r){r=Hi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xy(t,e),typeof n!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ub(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new N4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=X4.bind(null,t,e,r),e.then(t,t))}function Gb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hi(-1,1),e.tag=2,Is(r,e,1))),r.lanes|=1),t)}var O4=qi.ReactCurrentOwner,Cr=!1;function mr(t,e,r,n){e.child=t===null?xC(e,null,r,n):nl(e,t.child,r,n)}function Hb(t,e,r,n,i){r=r.render;var s=e.ref;return Xa(e,i),n=Zv(t,e,r,n,s,i),r=Jv(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(ct&&r&&Gv(e),e.flags|=1,mr(t,e,n,i),e.child)}function $b(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!u_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,$C(t,e,s,n,i)):(t=_d(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ju,r(o,n)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Ms(s,n),t.ref=e.ref,t.return=e,e.child=t}function $C(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ju(s,n)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return wy(t,e,r,n,i)}function jC(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Na,Ur),Ur|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Na,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tt(Na,Ur),Ur|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tt(Na,Ur),Ur|=n;return mr(t,e,i,r),e.child}function WC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wy(t,e,r,n,i){var s=Ir(r)?Io:hr.current;return s=tl(e,s),Xa(e,i),r=Zv(t,e,r,n,s,i),n=Jv(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(ct&&n&&Gv(e),e.flags|=1,mr(t,e,r,i),e.child)}function jb(t,e,r,n,i){if(Ir(r)){var s=!0;Jd(e)}else s=!1;if(Xa(e,i),e.stateNode===null)gd(t,e),vC(e,r,n),_y(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Ir(r)?Io:hr.current,d=tl(e,d));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==d)&&Fb(e,o,n,d),ms=!1;var f=e.memoizedState;o.state=f,sf(e,n,o,i),c=e.memoizedState,a!==n||f!==c||Pr.current||ms?(typeof p=="function"&&(vy(e,r,p,n),c=e.memoizedState),(a=ms||Ob(e,r,a,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,gC(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:An(e.type,a),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Ir(r)?Io:hr.current,c=tl(e,c));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Fb(e,o,n,c),ms=!1,f=e.memoizedState,o.state=f,sf(e,n,o,i);var y=e.memoizedState;a!==h||f!==y||Pr.current||ms?(typeof g=="function"&&(vy(e,r,g,n),y=e.memoizedState),(d=ms||Ob(e,r,d,n,f,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return by(t,e,r,n,s,i)}function by(t,e,r,n,i,s){WC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ib(e,r,!1),Xi(t,e,s);n=e.stateNode,O4.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=nl(e,t.child,null,s),e.child=nl(e,null,a,s)):mr(t,e,a,s),e.memoizedState=n.state,i&&Ib(e,r,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?Pb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pb(t,e.context,!1),Yv(t,e.containerInfo)}function Wb(t,e,r,n,i){return rl(),Hv(i),e.flags|=256,mr(t,e,r,n),e.child}var Sy={dehydrated:null,treeContext:null,retryLane:0};function Ey(t){return{baseLanes:t,cachePool:null,transitions:null}}function XC(t,e,r){var n=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(pt,i&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zf(o,n,0,null),t=Ao(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ey(r),e.memoizedState=Sy,t):r_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return F4(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ms(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ms(a,s):(s=Ao(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ey(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Sy,n}return s=t.child,t=s.sibling,n=Ms(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function r_(t,e){return e=Zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,r,n){return n!==null&&Hv(n),nl(e,t.child,null,r),t=r_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F4(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Rg(Error(ne(422))),Gh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Zf({mode:"visible",children:n.children},i,0,null),s=Ao(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&nl(e,t.child,null,o),e.child.memoizedState=Ey(o),e.memoizedState=Sy,s);if(!(e.mode&1))return Gh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ne(419)),n=Rg(s,n,void 0),Gh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Cr||a){if(n=Vt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vi(t,i),Dn(n,t,i,-1))}return l_(),n=Rg(Error(ne(421))),Gh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zr=Ps(i.nextSibling),Hr=e,ct=!0,Pn=null,t!==null&&(on[an++]=Di,on[an++]=Bi,on[an++]=Ro,Di=t.id,Bi=t.overflow,Ro=e),e=r_(e,n.children),e.flags|=4096,e)}function Vb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yy(t.return,e,r)}function kg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function YC(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(mr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vb(t,r,e);else if(t.tag===19)Vb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&of(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),kg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&of(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}kg(e,!0,r,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,r=Ms(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ms(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function L4(t,e,r){switch(e.tag){case 3:VC(e),rl();break;case 5:wC(e);break;case 1:Ir(e.type)&&Jd(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tt(rf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?XC(t,e,r):(tt(pt,pt.current&1),t=Xi(t,e,r),t!==null?t.sibling:null);tt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return YC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,jC(t,e,r)}return Xi(t,e,r)}var qC,Ty,QC,KC;qC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ty=function(){};QC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,wo(hi.current);var s=null;switch(r){case"input":i=X0(t,i),n=X0(t,n),s=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),s=[];break;case"textarea":i=Q0(t,i),n=Q0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Kd)}Z0(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Du.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Du.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};KC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function D4(t,e,r){var n=e.pendingProps;switch(zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Ir(e.type)&&Zd(),or(e),null;case 3:return n=e.stateNode,il(),st(Pr),st(hr),Qv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Ny(Pn),Pn=null))),Ty(t,e),or(e),null;case 5:qv(e);var i=wo(qu.current);if(r=e.type,t!==null&&e.stateNode!=null)QC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ne(166));return or(e),null}if(t=wo(hi.current),Bh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[si]=e,n[Xu]=s,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<iu.length;i++)nt(iu[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":tb(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":nb(n,s),nt("invalid",n)}Z0(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,a,t),i=["children",""+a]):Du.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":Ih(n),rb(n,s,!0);break;case"textarea":Ih(n),ib(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Kd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[si]=e,t[Xu]=n,qC(t,e,!1,!1),e.stateNode=t;e:{switch(o=J0(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<iu.length;i++)nt(iu[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":tb(t,n),i=X0(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":nb(t,n),i=Q0(t,n),nt("invalid",t);break;default:i=n}Z0(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?CA(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TA(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bu(t,c):typeof c=="number"&&Bu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Du.hasOwnProperty(s)?c!=null&&s==="onScroll"&&nt("scroll",t):c!=null&&Av(t,s,c,o))}switch(r){case"input":Ih(t),rb(t,n,!1);break;case"textarea":Ih(t),ib(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Bs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?$a(t,!!n.multiple,s,!1):n.defaultValue!=null&&$a(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)KC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ne(166));if(r=wo(qu.current),wo(hi.current),Bh(e)){if(n=e.stateNode,r=e.memoizedProps,n[si]=e,(s=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:Dh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[si]=e,e.stateNode=n}return or(e),null;case 13:if(st(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&zr!==null&&e.mode&1&&!(e.flags&128))pC(),rl(),e.flags|=98560,s=!1;else if(s=Bh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[si]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else Pn!==null&&(Ny(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ot===0&&(Ot=3):l_())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return il(),Ty(t,e),t===null&&Wu(e.stateNode.containerInfo),or(e),null;case 10:return Wv(e.type._context),or(e),null;case 17:return Ir(e.type)&&Zd(),or(e),null;case 19:if(st(pt),s=e.memoizedState,s===null)return or(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Vl(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=of(t),o!==null){for(e.flags|=128,Vl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>ol&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304)}else{if(!n)if(t=of(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return or(e),null}else 2*At()-s.renderingStartTime>ol&&r!==1073741824&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,r=pt.current,tt(pt,n?r&1|2:r&1),e):(or(e),null);case 22:case 23:return a_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ur&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function B4(t,e){switch(zv(e),e.tag){case 1:return Ir(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),st(Pr),st(hr),Qv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qv(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return il(),null;case 10:return Wv(e.type._context),null;case 22:case 23:return a_(),null;case 24:return null;default:return null}}var zh=!1,lr=!1,U4=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ma(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Ay(t,e,r){try{r()}catch(n){xt(t,e,n)}}var Xb=!1;function G4(t,e){if(uy=Yd,t=tC(),Uv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,d=0,p=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===i&&(a=o),f===s&&++p===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cy={focusedElem:t,selectionRange:r},Yd=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:An(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(A){xt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return y=Xb,Xb=!1,y}function wu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ay(e,r,s)}i=i.next}while(i!==n)}}function Qf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Cy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZC(t){var e=t.alternate;e!==null&&(t.alternate=null,ZC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[Xu],delete e[fy],delete e[b4],delete e[S4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JC(t){return t.tag===5||t.tag===3||t.tag===4}function Yb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Py(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kd));else if(n!==4&&(t=t.child,t!==null))for(Py(t,e,r),t=t.sibling;t!==null;)Py(t,e,r),t=t.sibling}function Iy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Iy(t,e,r),t=t.sibling;t!==null;)Iy(t,e,r),t=t.sibling}var Qt=null,Cn=!1;function ls(t,e,r){for(r=r.child;r!==null;)eP(t,e,r),r=r.sibling}function eP(t,e,r){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Hf,r)}catch{}switch(r.tag){case 5:lr||Ma(r,e);case 6:var n=Qt,i=Cn;Qt=null,ls(t,e,r),Qt=n,Cn=i,Qt!==null&&(Cn?(t=Qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Qt.removeChild(r.stateNode));break;case 18:Qt!==null&&(Cn?(t=Qt,r=r.stateNode,t.nodeType===8?Eg(t.parentNode,r):t.nodeType===1&&Eg(t,r),Hu(t)):Eg(Qt,r.stateNode));break;case 4:n=Qt,i=Cn,Qt=r.stateNode.containerInfo,Cn=!0,ls(t,e,r),Qt=n,Cn=i;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ay(r,e,o),i=i.next}while(i!==n)}ls(t,e,r);break;case 1:if(!lr&&(Ma(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xt(r,e,a)}ls(t,e,r);break;case 21:ls(t,e,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,ls(t,e,r),lr=n):ls(t,e,r);break;default:ls(t,e,r)}}function qb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new U4),e.forEach(function(n){var i=q4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Sn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Cn=!1;break e;case 3:Qt=a.stateNode.containerInfo,Cn=!0;break e;case 4:Qt=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(Qt===null)throw Error(ne(160));eP(s,o,i),Qt=null,Cn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){xt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tP(e,t),e=e.sibling}function tP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Kn(t),n&4){try{wu(3,t,t.return),Qf(3,t)}catch(w){xt(t,t.return,w)}try{wu(5,t,t.return)}catch(w){xt(t,t.return,w)}}break;case 1:Sn(e,t),Kn(t),n&512&&r!==null&&Ma(r,r.return);break;case 5:if(Sn(e,t),Kn(t),n&512&&r!==null&&Ma(r,r.return),t.flags&32){var i=t.stateNode;try{Bu(i,"")}catch(w){xt(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bA(i,s),J0(a,o);var d=J0(a,s);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?CA(i,h):p==="dangerouslySetInnerHTML"?TA(i,h):p==="children"?Bu(i,h):Av(i,p,h,d)}switch(a){case"input":Y0(i,s);break;case"textarea":SA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?$a(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?$a(i,!!s.multiple,s.defaultValue,!0):$a(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xu]=s}catch(w){xt(t,t.return,w)}}break;case 6:if(Sn(e,t),Kn(t),n&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){xt(t,t.return,w)}}break;case 3:if(Sn(e,t),Kn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hu(e.containerInfo)}catch(w){xt(t,t.return,w)}break;case 4:Sn(e,t),Kn(t);break;case 13:Sn(e,t),Kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s_=At())),n&4&&qb(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(lr=(d=lr)||p,Sn(e,t),lr=d):Sn(e,t),Kn(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(fe=t,p=t.child;p!==null;){for(h=fe=p;fe!==null;){switch(f=fe,g=f.child,f.tag){case 0:case 11:case 14:case 15:wu(4,f,f.return);break;case 1:Ma(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){xt(n,r,w)}}break;case 5:Ma(f,f.return);break;case 22:if(f.memoizedState!==null){Kb(h);continue}}g!==null?(g.return=f,fe=g):Kb(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=AA("display",o))}catch(w){xt(t,t.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){xt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),Kn(t),n&4&&qb(t);break;case 21:break;default:Sn(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(JC(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bu(i,""),n.flags&=-33);var s=Yb(t);Iy(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yb(t);Py(t,a,o);break;default:throw Error(ne(161))}}catch(c){xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z4(t,e,r){fe=t,rP(t)}function rP(t,e,r){for(var n=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||zh;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||lr;a=zh;var d=lr;if(zh=o,(lr=c)&&!d)for(fe=i;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?Zb(i):c!==null?(c.return=o,fe=c):Zb(i);for(;s!==null;)fe=s,rP(s),s=s.sibling;fe=i,zh=a,lr=d}Qb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):Qb(t)}}function Qb(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lr||Qf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!lr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:An(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nb(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Nb(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Hu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}lr||e.flags&512&&Cy(e)}catch(f){xt(e,e.return,f)}}if(e===t){fe=null;break}if(r=e.sibling,r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Kb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Zb(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qf(4,e)}catch(c){xt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){xt(e,i,c)}}var s=e.return;try{Cy(e)}catch(c){xt(e,s,c)}break;case 5:var o=e.return;try{Cy(e)}catch(c){xt(e,o,c)}}}catch(c){xt(e,e.return,c)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var H4=Math.ceil,uf=qi.ReactCurrentDispatcher,n_=qi.ReactCurrentOwner,fn=qi.ReactCurrentBatchConfig,Ge=0,Vt=null,It=null,Jt=0,Ur=0,Na=js(0),Ot=0,Ju=null,Mo=0,Kf=0,i_=0,bu=null,Tr=null,s_=0,ol=1/0,Ri=null,cf=!1,Ry=null,Rs=null,Hh=!1,Es=null,hf=0,Su=0,ky=null,yd=-1,vd=0;function yr(){return Ge&6?At():yd!==-1?yd:yd=At()}function ks(t){return t.mode&1?Ge&2&&Jt!==0?Jt&-Jt:T4.transition!==null?(vd===0&&(vd=UA()),vd):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:VA(t.type)),t):1}function Dn(t,e,r,n){if(50<Su)throw Su=0,ky=null,Error(ne(185));lc(t,r,n),(!(Ge&2)||t!==Vt)&&(t===Vt&&(!(Ge&2)&&(Kf|=r),Ot===4&&vs(t,Jt)),Rr(t,n),r===1&&Ge===0&&!(e.mode&1)&&(ol=At()+500,Xf&&Ws()))}function Rr(t,e){var r=t.callbackNode;TB(t,e);var n=Xd(t,t===Vt?Jt:0);if(n===0)r!==null&&ab(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ab(r),e===1)t.tag===0?E4(Jb.bind(null,t)):hC(Jb.bind(null,t)),x4(function(){!(Ge&6)&&Ws()}),r=null;else{switch(GA(n)){case 1:r=kv;break;case 4:r=DA;break;case 16:r=Vd;break;case 536870912:r=BA;break;default:r=Vd}r=cP(r,nP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function nP(t,e){if(yd=-1,vd=0,Ge&6)throw Error(ne(327));var r=t.callbackNode;if(Ya()&&t.callbackNode!==r)return null;var n=Xd(t,t===Vt?Jt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=df(t,n);else{e=n;var i=Ge;Ge|=2;var s=sP();(Vt!==t||Jt!==e)&&(Ri=null,ol=At()+500,To(t,e));do try{W4();break}catch(a){iP(t,a)}while(1);jv(),uf.current=s,Ge=i,It!==null?e=0:(Vt=null,Jt=0,e=Ot)}if(e!==0){if(e===2&&(i=iy(t),i!==0&&(n=i,e=My(t,i))),e===1)throw r=Ju,To(t,0),vs(t,n),Rr(t,At()),r;if(e===6)vs(t,n);else{if(i=t.current.alternate,!(n&30)&&!$4(i)&&(e=df(t,n),e===2&&(s=iy(t),s!==0&&(n=s,e=My(t,s))),e===1))throw r=Ju,To(t,0),vs(t,n),Rr(t,At()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ne(345));case 2:mo(t,Tr,Ri);break;case 3:if(vs(t,n),(n&130023424)===n&&(e=s_+500-At(),10<e)){if(Xd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dy(mo.bind(null,t,Tr,Ri),e);break}mo(t,Tr,Ri);break;case 4:if(vs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ln(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H4(n/1960))-n,10<n){t.timeoutHandle=dy(mo.bind(null,t,Tr,Ri),n);break}mo(t,Tr,Ri);break;case 5:mo(t,Tr,Ri);break;default:throw Error(ne(329))}}}return Rr(t,At()),t.callbackNode===r?nP.bind(null,t):null}function My(t,e){var r=bu;return t.current.memoizedState.isDehydrated&&(To(t,e).flags|=256),t=df(t,e),t!==2&&(e=Tr,Tr=r,e!==null&&Ny(e)),t}function Ny(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function $4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~i_,e&=~Kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ln(e),n=1<<r;t[r]=-1,e&=~n}}function Jb(t){if(Ge&6)throw Error(ne(327));Ya();var e=Xd(t,0);if(!(e&1))return Rr(t,At()),null;var r=df(t,e);if(t.tag!==0&&r===2){var n=iy(t);n!==0&&(e=n,r=My(t,n))}if(r===1)throw r=Ju,To(t,0),vs(t,e),Rr(t,At()),r;if(r===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mo(t,Tr,Ri),Rr(t,At()),null}function o_(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(ol=At()+500,Xf&&Ws())}}function No(t){Es!==null&&Es.tag===0&&!(Ge&6)&&Ya();var e=Ge;Ge|=1;var r=fn.transition,n=Ye;try{if(fn.transition=null,Ye=1,t)return t()}finally{Ye=n,fn.transition=r,Ge=e,!(Ge&6)&&Ws()}}function a_(){Ur=Na.current,st(Na)}function To(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_4(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(zv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zd();break;case 3:il(),st(Pr),st(hr),Qv();break;case 5:qv(n);break;case 4:il();break;case 13:st(pt);break;case 19:st(pt);break;case 10:Wv(n.type._context);break;case 22:case 23:a_()}r=r.return}if(Vt=t,It=t=Ms(t.current,null),Jt=Ur=e,Ot=0,Ju=null,i_=Kf=Mo=0,Tr=bu=null,xo!==null){for(e=0;e<xo.length;e++)if(r=xo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}xo=null}return t}function iP(t,e){do{var r=It;try{if(jv(),pd.current=lf,af){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}af=!1}if(ko=0,jt=Nt=gt=null,xu=!1,Qu=0,n_.current=null,r===null||r.return===null){Ot=1,Ju=e,It=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=Jt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Gb(o);if(g!==null){g.flags&=-257,zb(g,o,a,s,e),g.mode&1&&Ub(s,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){Ub(s,d,e),l_();break e}c=Error(ne(426))}}else if(ct&&a.mode&1){var E=Gb(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),zb(E,o,a,s,e),Hv(sl(c,a));break e}}s=c=sl(c,a),Ot!==4&&(Ot=2),bu===null?bu=[s]:bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=zC(s,c,e);Mb(s,_);break e;case 1:a=c;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Rs===null||!Rs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=HC(s,a,e);Mb(s,A);break e}}s=s.return}while(s!==null)}aP(r)}catch(P){e=P,It===r&&r!==null&&(It=r=r.return);continue}break}while(1)}function sP(){var t=uf.current;return uf.current=lf,t===null?lf:t}function l_(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Vt===null||!(Mo&268435455)&&!(Kf&268435455)||vs(Vt,Jt)}function df(t,e){var r=Ge;Ge|=2;var n=sP();(Vt!==t||Jt!==e)&&(Ri=null,To(t,e));do try{j4();break}catch(i){iP(t,i)}while(1);if(jv(),Ge=r,uf.current=n,It!==null)throw Error(ne(261));return Vt=null,Jt=0,Ot}function j4(){for(;It!==null;)oP(It)}function W4(){for(;It!==null&&!gB();)oP(It)}function oP(t){var e=uP(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?aP(t):It=e,n_.current=null}function aP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=B4(r,e),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(r=D4(r,e,Ur),r!==null){It=r;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function mo(t,e,r){var n=Ye,i=fn.transition;try{fn.transition=null,Ye=1,V4(t,e,r,n)}finally{fn.transition=i,Ye=n}return null}function V4(t,e,r,n){do Ya();while(Es!==null);if(Ge&6)throw Error(ne(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(AB(t,s),t===Vt&&(It=Vt=null,Jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hh||(Hh=!0,cP(Vd,function(){return Ya(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fn.transition,fn.transition=null;var o=Ye;Ye=1;var a=Ge;Ge|=4,n_.current=null,G4(t,r),tP(r,t),d4(cy),Yd=!!uy,cy=uy=null,t.current=r,z4(r),yB(),Ge=a,Ye=o,fn.transition=s}else t.current=r;if(Hh&&(Hh=!1,Es=t,hf=i),s=t.pendingLanes,s===0&&(Rs=null),xB(r.stateNode),Rr(t,At()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cf)throw cf=!1,t=Ry,Ry=null,t;return hf&1&&t.tag!==0&&Ya(),s=t.pendingLanes,s&1?t===ky?Su++:(Su=0,ky=t):Su=0,Ws(),null}function Ya(){if(Es!==null){var t=GA(hf),e=fn.transition,r=Ye;try{if(fn.transition=null,Ye=16>t?16:t,Es===null)var n=!1;else{if(t=Es,Es=null,hf=0,Ge&6)throw Error(ne(331));var i=Ge;for(Ge|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(fe=d;fe!==null;){var p=fe;switch(p.tag){case 0:case 11:case 15:wu(8,p,s)}var h=p.child;if(h!==null)h.return=p,fe=h;else for(;fe!==null;){p=fe;var f=p.sibling,g=p.return;if(ZC(p),p===d){fe=null;break}if(f!==null){f.return=g,fe=f;break}fe=g}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,fe=_;break e}fe=s.return}}var b=t.current;for(fe=b;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qf(9,a)}}catch(P){xt(a,a.return,P)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(Ge=i,Ws(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Hf,t)}catch{}n=!0}return n}finally{Ye=r,fn.transition=e}}return!1}function eS(t,e,r){e=sl(r,e),e=zC(t,e,1),t=Is(t,e,1),e=yr(),t!==null&&(lc(t,1,e),Rr(t,e))}function xt(t,e,r){if(t.tag===3)eS(t,t,r);else for(;e!==null;){if(e.tag===3){eS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rs===null||!Rs.has(n))){t=sl(r,t),t=HC(e,t,1),e=Is(e,t,1),t=yr(),e!==null&&(lc(e,1,t),Rr(e,t));break}}e=e.return}}function X4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&r,Vt===t&&(Jt&r)===r&&(Ot===4||Ot===3&&(Jt&130023424)===Jt&&500>At()-s_?To(t,0):i_|=r),Rr(t,e)}function lP(t,e){e===0&&(t.mode&1?(e=Mh,Mh<<=1,!(Mh&130023424)&&(Mh=4194304)):e=1);var r=yr();t=Vi(t,e),t!==null&&(lc(t,e,r),Rr(t,r))}function Y4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lP(t,r)}function q4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(e),lP(t,r)}var uP;uP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Cr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cr=!1,L4(t,e,r);Cr=!!(t.flags&131072)}else Cr=!1,ct&&e.flags&1048576&&dC(e,tf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gd(t,e),t=e.pendingProps;var i=tl(e,hr.current);Xa(e,r),i=Zv(null,e,n,t,i,r);var s=Jv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(n)?(s=!0,Jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xv(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,_y(e,n,t,r),e=by(null,e,n,!0,s,r)):(e.tag=0,ct&&s&&Gv(e),mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=K4(n),t=An(n,t),i){case 0:e=wy(null,e,n,t,r);break e;case 1:e=jb(null,e,n,t,r);break e;case 11:e=Hb(null,e,n,t,r);break e;case 14:e=$b(null,e,n,An(n.type,t),r);break e}throw Error(ne(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),wy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),jb(t,e,n,i,r);case 3:e:{if(VC(e),t===null)throw Error(ne(387));n=e.pendingProps,s=e.memoizedState,i=s.element,gC(t,e),sf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sl(Error(ne(423)),e),e=Wb(t,e,n,r,i);break e}else if(n!==i){i=sl(Error(ne(424)),e),e=Wb(t,e,n,r,i);break e}else for(zr=Ps(e.stateNode.containerInfo.firstChild),Hr=e,ct=!0,Pn=null,r=xC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rl(),n===i){e=Xi(t,e,r);break e}mr(t,e,n,r)}e=e.child}return e;case 5:return wC(e),t===null&&gy(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hy(n,i)?o=null:s!==null&&hy(n,s)&&(e.flags|=32),WC(t,e),mr(t,e,o,r),e.child;case 6:return t===null&&gy(e),null;case 13:return XC(t,e,r);case 4:return Yv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nl(e,null,n,r):mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),Hb(t,e,n,i,r);case 7:return mr(t,e,e.pendingProps,r),e.child;case 8:return mr(t,e,e.pendingProps.children,r),e.child;case 12:return mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(rf,n._currentValue),n._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!Pr.current){e=Xi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Hi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),yy(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),yy(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xa(e,r),i=pn(i),n=n(i),e.flags|=1,mr(t,e,n,r),e.child;case 14:return n=e.type,i=An(n,e.pendingProps),i=An(n.type,i),$b(t,e,n,i,r);case 15:return $C(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),gd(t,e),e.tag=1,Ir(n)?(t=!0,Jd(e)):t=!1,Xa(e,r),vC(e,n,i),_y(e,n,i,r),by(null,e,n,!0,t,r);case 19:return YC(t,e,r);case 22:return jC(t,e,r)}throw Error(ne(156,e.tag))};function cP(t,e){return LA(t,e)}function Q4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,r,n){return new Q4(t,e,r,n)}function u_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K4(t){if(typeof t=="function")return u_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pv)return 11;if(t===Iv)return 14}return 2}function Ms(t,e){var r=t.alternate;return r===null?(r=dn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _d(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")u_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sa:return Ao(r.children,i,s,e);case Cv:o=8,i|=8;break;case $0:return t=dn(12,r,e,i|2),t.elementType=$0,t.lanes=s,t;case j0:return t=dn(13,r,e,i),t.elementType=j0,t.lanes=s,t;case W0:return t=dn(19,r,e,i),t.elementType=W0,t.lanes=s,t;case _A:return Zf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yA:o=10;break e;case vA:o=9;break e;case Pv:o=11;break e;case Iv:o=14;break e;case ps:o=16,n=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=dn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ao(t,e,r,n){return t=dn(7,t,n,e),t.lanes=r,t}function Zf(t,e,r,n){return t=dn(22,t,n,e),t.elementType=_A,t.lanes=r,t.stateNode={isHidden:!1},t}function Mg(t,e,r){return t=dn(6,t,null,e),t.lanes=r,t}function Ng(t,e,r){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fg(0),this.expirationTimes=fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c_(t,e,r,n,i,s,o,a,c){return t=new Z4(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(s),t}function J4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ba,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hP(t){if(!t)return Us;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var r=t.type;if(Ir(r))return cC(t,r,e)}return e}function dP(t,e,r,n,i,s,o,a,c){return t=c_(r,n,!0,t,i,s,o,a,c),t.context=hP(null),r=t.current,n=yr(),i=ks(r),s=Hi(n,i),s.callback=e??null,Is(r,s,i),t.current.lanes=i,lc(t,i,n),Rr(t,n),t}function Jf(t,e,r,n){var i=e.current,s=yr(),o=ks(i);return r=hP(r),e.context===null?e.context=r:e.pendingContext=r,e=Hi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Is(i,e,o),t!==null&&(Dn(t,i,o,s),fd(t,i,o)),o}function ff(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function h_(t,e){tS(t,e),(t=t.alternate)&&tS(t,e)}function e5(){return null}var fP=typeof reportError=="function"?reportError:function(t){console.error(t)};function d_(t){this._internalRoot=t}ep.prototype.render=d_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Jf(t,e,null,null)};ep.prototype.unmount=d_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){Jf(null,t,null,null)}),e[Wi]=null}};function ep(t){this._internalRoot=t}ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=$A();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ys.length&&e!==0&&e<ys[r].priority;r++);ys.splice(r,0,t),r===0&&WA(t)}};function f_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rS(){}function t5(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=ff(o);s.call(d)}}var o=dP(e,n,t,0,null,!1,!1,"",rS);return t._reactRootContainer=o,t[Wi]=o.current,Wu(t.nodeType===8?t.parentNode:t),No(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=ff(c);a.call(d)}}var c=c_(t,0,!1,null,null,!1,!1,"",rS);return t._reactRootContainer=c,t[Wi]=c.current,Wu(t.nodeType===8?t.parentNode:t),No(function(){Jf(e,c,r,n)}),c}function rp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=ff(o);a.call(c)}}Jf(e,o,t,i)}else o=t5(r,e,t,i,n);return ff(o)}zA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nu(e.pendingLanes);r!==0&&(Mv(e,r|1),Rr(e,At()),!(Ge&6)&&(ol=At()+500,Ws()))}break;case 13:No(function(){var n=Vi(t,1);if(n!==null){var i=yr();Dn(n,t,1,i)}}),h_(t,1)}};Nv=function(t){if(t.tag===13){var e=Vi(t,134217728);if(e!==null){var r=yr();Dn(e,t,134217728,r)}h_(t,134217728)}};HA=function(t){if(t.tag===13){var e=ks(t),r=Vi(t,e);if(r!==null){var n=yr();Dn(r,t,e,n)}h_(t,e)}};$A=function(){return Ye};jA=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};ty=function(t,e,r){switch(e){case"input":if(Y0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Vf(n);if(!i)throw Error(ne(90));wA(n),Y0(n,i)}}}break;case"textarea":SA(t,r);break;case"select":e=r.value,e!=null&&$a(t,!!r.multiple,e,!1)}};RA=o_;kA=No;var r5={usingClientEntryPoint:!1,Events:[cc,Ca,Vf,PA,IA,o_]},Xl={findFiberByHostInstance:_o,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},n5={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OA(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||e5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Hf=$h.inject(n5),ci=$h}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r5;Wr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f_(e))throw Error(ne(200));return J4(t,e,null,r)};Wr.createRoot=function(t,e){if(!f_(t))throw Error(ne(299));var r=!1,n="",i=fP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c_(t,1,!1,null,null,r,!1,n,i),t[Wi]=e.current,Wu(t.nodeType===8?t.parentNode:t),new d_(e)};Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=OA(e),t=t===null?null:t.stateNode,t};Wr.flushSync=function(t){return No(t)};Wr.hydrate=function(t,e,r){if(!tp(e))throw Error(ne(200));return rp(null,t,e,!0,r)};Wr.hydrateRoot=function(t,e,r){if(!f_(t))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=fP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=dP(e,null,t,1,r??null,i,!1,s,o),t[Wi]=e.current,Wu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ep(e)};Wr.render=function(t,e,r){if(!tp(e))throw Error(ne(200));return rp(null,t,e,!1,r)};Wr.unmountComponentAtNode=function(t){if(!tp(t))throw Error(ne(40));return t._reactRootContainer?(No(function(){rp(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};Wr.unstable_batchedUpdates=o_;Wr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tp(r))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return rp(t,e,r,!1,n)};Wr.version="18.2.0-next-9e3b772b8-20220608";function pP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pP)}catch(t){console.error(t)}}pP(),dA.exports=Wr;var i5=dA.exports,mP,nS=i5;mP=nS.createRoot,nS.hydrateRoot;var gP={exports:{}};(function(t){(function(){function e(w,E){document.addEventListener?w.addEventListener("scroll",E,!1):w.attachEvent("scroll",E)}function r(w){document.body?w():document.addEventListener?document.addEventListener("DOMContentLoaded",function E(){document.removeEventListener("DOMContentLoaded",E),w()}):document.attachEvent("onreadystatechange",function E(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",E),w())})}function n(w){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(w)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(w,E){w.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+E+";"}function s(w){var E=w.g.offsetWidth,_=E+100;return w.j.style.width=_+"px",w.i.scrollLeft=_,w.h.scrollLeft=w.h.scrollWidth+100,w.l!==E?(w.l=E,!0):!1}function o(w,E){function _(){var S=b;s(S)&&S.g.parentNode!==null&&E(S.l)}var b=w;e(w.h,_),e(w.i,_),s(w)}function a(w,E,_){E=E||{},_=_||window,this.family=w,this.style=E.style||"normal",this.weight=E.weight||"normal",this.stretch=E.stretch||"normal",this.context=_}var c=null,d=null,p=null,h=null;function f(w){return d===null&&(g(w)&&/Apple/.test(window.navigator.vendor)?(w=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!w&&603>parseInt(w[1],10)):d=!1),d}function g(w){return h===null&&(h=!!w.document.fonts),h}function y(w,E){var _=w.style,b=w.weight;if(p===null){var S=document.createElement("div");try{S.style.font="condensed 100px sans-serif"}catch{}p=S.style.font!==""}return[_,b,p?w.stretch:"","100px",E].join(" ")}a.prototype.load=function(w,E){var _=this,b=w||"BESbswy",S=0,A=E||3e3,P=new Date().getTime();return new Promise(function(N,k){if(g(_.context)&&!f(_.context)){var R=new Promise(function(W,q){function $(){new Date().getTime()-P>=A?q(Error(""+A+"ms timeout exceeded")):_.context.document.fonts.load(y(_,'"'+_.family+'"'),b).then(function(L){1<=L.length?W():setTimeout($,25)},q)}$()}),U=new Promise(function(W,q){S=setTimeout(function(){q(Error(""+A+"ms timeout exceeded"))},A)});Promise.race([U,R]).then(function(){clearTimeout(S),N(_)},k)}else r(function(){function W(){var te;(te=J!=-1&&ee!=-1||J!=-1&&oe!=-1||ee!=-1&&oe!=-1)&&((te=J!=ee&&J!=oe&&ee!=oe)||(c===null&&(te=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!te&&(536>parseInt(te[1],10)||parseInt(te[1],10)===536&&11>=parseInt(te[2],10))),te=c&&(J==M&&ee==M&&oe==M||J==X&&ee==X&&oe==X||J==D&&ee==D&&oe==D)),te=!te),te&&(z.parentNode!==null&&z.parentNode.removeChild(z),clearTimeout(S),N(_))}function q(){if(new Date().getTime()-P>=A)z.parentNode!==null&&z.parentNode.removeChild(z),k(Error(""+A+"ms timeout exceeded"));else{var te=_.context.document.hidden;(te===!0||te===void 0)&&(J=$.g.offsetWidth,ee=L.g.offsetWidth,oe=V.g.offsetWidth,W()),S=setTimeout(q,50)}}var $=new n(b),L=new n(b),V=new n(b),J=-1,ee=-1,oe=-1,M=-1,X=-1,D=-1,z=document.createElement("div");z.dir="ltr",i($,y(_,"sans-serif")),i(L,y(_,"serif")),i(V,y(_,"monospace")),z.appendChild($.g),z.appendChild(L.g),z.appendChild(V.g),_.context.document.body.appendChild(z),M=$.g.offsetWidth,X=L.g.offsetWidth,D=V.g.offsetWidth,q(),o($,function(te){J=te,W()}),i($,y(_,'"'+_.family+'",sans-serif')),o(L,function(te){ee=te,W()}),i(L,y(_,'"'+_.family+'",serif')),o(V,function(te){oe=te,W()}),i(V,y(_,'"'+_.family+'",monospace'))})})},t.exports=a})()})(gP);var s5=gP.exports;const o5=rc(s5);function a5({children:t}){return O("div",{id:"App",className:"app-mod",children:t})}function l5(){window.oncontextmenu=function(t){t.preventDefault()}}function u5(){return Promise.all([sT.test(),oT.test()]).then(([t,e])=>{qe.Obj.setSupportImagesFormat(e,t);const r=document.getElementById("blur-bg");r.className=r.className+" "+qe.Obj.filterImageFormat(["avif","webp","jpg"])})}function c5(t,e=[]){l5();const r=qe.Obj,{operator:n,token:i,loginUrl:s,funPLay:o}=r.urlOptions;if(n)if(!o&&!i&&s)window.open(r.getLoginUrl(),"_self");else{let a=0;const c=d=>{d==e.length&&u5().then(()=>{mP(document.getElementById("root")).render(O(a5,{children:t}))})};c(a);for(let d of e)new o5(d).load().then(()=>{a++,c(a)})}else alert("The operator parameter is missing!")}var np={exports:{}},yP={exports:{}},h5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",d5=h5,f5=d5;function vP(){}function _P(){}_P.resetWarningCache=vP;var p5=function(){function t(n,i,s,o,a,c){if(c!==f5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_P,resetWarningCache:vP};return r.PropTypes=r,r};yP.exports=p5();var m5=yP.exports;const it=rc(m5);function $r(t){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(t)}function xP(t){var e=function(r,n){if($r(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if($r(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return $r(e)==="symbol"?e:String(e)}function Et(t,e,r){return(e=xP(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yi(t){return function(e){if(Array.isArray(e))return Og(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Og(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Og(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var g5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v5=function(t){return t==null};function su(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Yi(t);else{if(t===null||$r(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!v5(r)&&!isNaN(r)}).map(Number)}function iS(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Fg(t){return t instanceof Fe||t instanceof oi}var pf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Lg(t,e,r){if(Fg(t[e])&&Fg(r))t[e].copyFrom(r);else if(Fg(t[e])){var n=su(r);bt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),$r(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var ua,wP=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},bP=function(t){return function(){return!t.apply(void 0,arguments)}},Oy="children",_5=(Et(ua={},Oy,!0),Et(ua,"parent",!0),Et(ua,"worldAlpha",!0),Et(ua,"worldTransform",!0),Et(ua,"worldVisible",!0),ua),Fy={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},mi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,d;a==null||(c=a.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return bt(c.typeofs.some(function(d){return $r(r[a])===d})||c.instanceofs.some(function(d){return r[a]instanceof d}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return bt(r.texture instanceof ue,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ue]});bt(!!s,"".concat(t," could not get texture from props"));var o=ue.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},x5=bP(wP([].concat(Yi(Object.keys(_5)),Yi(pf))));function gi(t,e,r){var n=!1;if(bt(ht.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",$r(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<pf.length;o++){var a=pf[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var p=c[d];e[p]!==r[p]&&(n=!0,Lg(t,p,r[p]))}return n}for(var h=c.filter(x5),f=0;f<h.length;f++){var g=h[f],y=r[g];r[g]!==e[g]&&(n=!0),y!==void 0?Lg(t,g,y):g in Fy?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(y," for"),t),n=!0,Lg(t,g,Fy[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(y," for"),t)}return n}var w5=function(t,e){var r=e.text,n=e.style;return new gL(r,n)},b5=function(){return new vr};function Vs(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,d,p={},h=Object.keys(o);for(d=0;d<h.length;d++)c=h[d],a.indexOf(c)>=0||(p[c]=o[c]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var S5=["draw","geometry"],E5=function(t,e){var r=e.geometry;bt(!r||r instanceof pu,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new pu(r.geometry):new pu;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=gi(i,s,Vs(o,S5));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},T5=["image","texture"],A5=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,p=mi("NineSlicePlane",t,e),h=new UF(p,n,s,a,d);return h.applyProps=function(f,g,y){var w=y.image,E=y.texture,_=gi(f,g,Vs(y,T5));return(w||E)&&(E!==g.texture&&(_=!0),f.texture=mi("NineSlicePlane",t,y)),_},h};function sS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var C5=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=jh(jh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=jh(jh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new HF(n,c,s,a);return p.willUnmount=function(h,f,g){h.destroy(d)},p},P5=["image","texture"],I5=function(t,e){var r=new xi(mi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=gi(n,i,Vs(s,P5));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=mi("Sprite",t,s)),c},r},R5=["textures","isPlaying","initialFrame","images"],k5=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(d){return d.map(function(p){return bt(p instanceof ue||(p==null?void 0:p.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),p})},c=n?Fu.fromImages(n):new Fu(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,p,h){var f=h.textures,g=h.isPlaying,y=h.initialFrame,w=h.images,E=gi(d,p,Vs(h,R5));if(w&&p.images!==w){for(var _=[],b=0;b<w.length;++b)_.push(ue.from(w[b]));d.textures=_,E=!0}if(f&&p.textures!==f&&(d.textures=a(f),E=!0),g!==p.isPlaying||y!==p.initialFrame){var S=typeof y=="number"?y:c.currentFrame||0;c[g?"gotoAndPlay":"gotoAndStop"](S),E=!0}return E},c},M5=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new xv(n,s);return o?(a.updateText(),new xi(a.texture)):a},N5=["tileScale","tilePosition","image","texture"],O5=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=mi("TilingSprite",t,e),a=new wv(o,n,s);return a.applyProps=function(c,d,p){var h=p.tileScale,f=p.tilePosition,g=p.image,y=p.texture,w=gi(c,d,Vs(p,N5));if(f){var E,_=su(f);(E=c.tilePosition).set.apply(E,Yi(_)),w=!iS(su(d.tilePosition),_)||w}if(h){var b,S=su(h);(b=c.tileScale).set.apply(b,Yi(S)),w=!iS(su(d.tileScale),S)||w}return(g||y)&&(y!==d.texture&&(w=!0),c.texture=mi("Sprite",t,p)),w},a},F5=["image","texture"],L5=function(t,e){var r=mi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Rn.TRIANGLES:o,c=new GF(r,n,i,s,a);return c.applyProps=function(d,p,h){var f=h.image,g=h.texture,y=gi(d,p,Vs(h,F5));return(f||g)&&(g!==p.texture&&(y=!0),d.texture=mi("Mesh",t,h)),y},c},D5=["image","texture"],B5=function(t,e){var r=mi("SimpleRope",t,e),n=e.points,i=new zF(r,n);return i.applyProps=function(s,o,a){var c=a.image,d=a.texture,p=Vs(a,D5);bt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var h=gi(s,o,p);return(c||d)&&(d!==o.texture&&(h=!0),s.texture=mi("SimpleRope",t,a)),h},i},U5=Object.freeze({__proto__:null,BitmapText:w5,Container:b5,Graphics:E5,NineSlicePlane:A5,ParticleContainer:C5,Sprite:I5,Text:M5,TilingSprite:O5,SimpleMesh:L5,SimpleRope:B5,AnimatedSprite:k5});function oS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},G5=Object.keys(Mr).reduce(function(t,e){return aS(aS({},t),{},Et({},e,U5[e]))},{}),SP={};function z5(t,e){return bt(!!t,"Expect type to be defined, got `%s`",t),bt(!Mr[t],"Component `%s` could not be created, already exists in default components.",t),SP[t]=e,t}var lS,uS,cS,hS,Ly={},Dy={},H5={get exports(){return Dy},set exports(t){Dy=t}},dS={};function $5(){return uS||(uS=1,H5.exports=(lS||(lS=1,function(t){function e(M,X){var D=M.length;M.push(X);e:for(;0<D;){var z=D-1>>>1,te=M[z];if(!(0<i(te,X)))break e;M[z]=X,M[D]=te,D=z}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var X=M[0],D=M.pop();if(D!==X){M[0]=D;e:for(var z=0,te=M.length,Ce=te>>>1;z<Ce;){var Ee=2*(z+1)-1,We=M[Ee],ke=Ee+1,je=M[ke];if(0>i(We,D))ke<te&&0>i(je,We)?(M[z]=je,M[ke]=D,z=ke):(M[z]=We,M[Ee]=D,z=Ee);else{if(!(ke<te&&0>i(je,D)))break e;M[z]=je,M[ke]=D,z=ke}}}return X}function i(M,X){var D=M.sortIndex-X.sortIndex;return D!==0?D:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(M){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else{if(!(X.startTime<=M))break;n(d),X.sortIndex=X.expirationTime,e(c,X)}X=r(d)}}function A(M){if(w=!1,S(M),!y)if(r(c)!==null)y=!0,ee(P);else{var X=r(d);X!==null&&oe(A,X.startTime-M)}}function P(M,X){y=!1,w&&(w=!1,_(U),U=-1),g=!0;var D=f;try{for(S(X),h=r(c);h!==null&&(!(h.expirationTime>X)||M&&!$());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var te=z(h.expirationTime<=X);X=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),S(X)}else n(c);h=r(c)}if(h!==null)var Ce=!0;else{var Ee=r(d);Ee!==null&&oe(A,Ee.startTime-X),Ce=!1}return Ce}finally{h=null,f=D,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,R=null,U=-1,W=5,q=-1;function $(){return!(t.unstable_now()-q<W)}function L(){if(R!==null){var M=t.unstable_now();q=M;var X=!0;try{X=R(!0,M)}finally{X?N():(k=!1,R=null)}}else k=!1}if(typeof b=="function")N=function(){b(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=L,N=function(){J.postMessage(null)}}else N=function(){E(L,0)};function ee(M){R=M,k||(k=!0,N())}function oe(M,X){U=E(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ee(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var D=f;f=X;try{return M()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=f;f=M;try{return X()}finally{f=D}},t.unstable_scheduleCallback=function(M,X,D){var z=t.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?z+D:z,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return M={id:p++,callback:X,priorityLevel:M,startTime:D,expirationTime:te=D+te,sortIndex:-1},D>z?(M.sortIndex=D,e(d,M),r(c)===null&&M===r(d)&&(w?(_(U),U=-1):w=!0,oe(A,D-z))):(M.sortIndex=te,e(c,M),y||g||(y=!0,ee(P))),M},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(M){var X=f;return function(){var D=f;f=X;try{return M.apply(this,arguments)}finally{f=D}}}}(dS)),dS)),Dy}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function j5(){return hS||(hS=1,cS=function(t){var e={},r=Ui,n=$5(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=A&&l[A]||l["@@iterator"])=="function"?l:null}function N(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case f:return(l._context.displayName||"Context")+".Provider";case y:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case _:return(u=l.displayName||null)!==null?u:N(l.type)||"Memo";case b:u=l._payload,l=l._init;try{return N(l(u))}catch{}}return null}function k(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(u);case 8:return u===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function U(l){if(R(l)!==l)throw Error(s(188))}function W(l){var u=l.alternate;if(!u){if((u=R(l))===null)throw Error(s(188));return u!==l?null:l}for(var m=l,v=u;;){var x=m.return;if(x===null)break;var T=x.alternate;if(T===null){if((v=x.return)!==null){m=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===m)return U(x),l;if(T===v)return U(x),u;T=T.sibling}throw Error(s(188))}if(m.return!==v.return)m=x,v=T;else{for(var C=!1,I=x.child;I;){if(I===m){C=!0,m=x,v=T;break}if(I===v){C=!0,v=x,m=T;break}I=I.sibling}if(!C){for(I=T.child;I;){if(I===m){C=!0,m=T,v=x;break}if(I===v){C=!0,v=T,m=x;break}I=I.sibling}if(!C)throw Error(s(189))}}if(m.alternate!==v)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:u}function q(l){return(l=W(l))!==null?$(l):null}function $(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=$(l);if(u!==null)return u;l=l.sibling}return null}function L(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=L(l);if(u!==null)return u}l=l.sibling}return null}var V,J=Array.isArray,ee=t.getPublicInstance,oe=t.getRootHostContext,M=t.getChildHostContext,X=t.prepareForCommit,D=t.resetAfterCommit,z=t.createInstance,te=t.appendInitialChild,Ce=t.finalizeInitialChildren,Ee=t.prepareUpdate,We=t.shouldSetTextContent,ke=t.createTextInstance,je=t.scheduleTimeout,Lt=t.cancelTimeout,Xt=t.noTimeout,vt=t.isPrimaryRenderer,Me=t.supportsMutation,rt=t.supportsPersistence,ze=t.supportsHydration,Xr=t.getInstanceFromNode,Yr=t.preparePortalMount,Xs=t.getCurrentEventPriority,lp=t.detachDeletedInstance,zo=t.supportsMicrotasks,XP=t.scheduleMicrotask,dl=t.supportsTestSelectors,YP=t.findFiberRoot,qP=t.getBoundingRect,QP=t.getTextContent,fl=t.isHiddenSubtree,KP=t.matchAccessibilityRole,ZP=t.setFocusIfFocusable,JP=t.setupIntersectionObserver,e2=t.appendChild,t2=t.appendChildToContainer,r2=t.commitTextUpdate,n2=t.commitMount,i2=t.commitUpdate,s2=t.insertBefore,o2=t.insertInContainerBefore,a2=t.removeChild,l2=t.removeChildFromContainer,v_=t.resetTextContent,u2=t.hideInstance,c2=t.hideTextInstance,h2=t.unhideInstance,d2=t.unhideTextInstance,f2=t.clearContainer,p2=t.cloneInstance,__=t.createContainerChildSet,x_=t.appendChildToContainerChildSet,m2=t.finalizeContainerChildren,up=t.replaceContainerChildren,w_=t.cloneHiddenInstance,b_=t.cloneHiddenTextInstance,g2=t.canHydrateInstance,y2=t.canHydrateTextInstance,v2=t.canHydrateSuspenseInstance,S_=t.isSuspenseInstancePending,cp=t.isSuspenseInstanceFallback,_2=t.getSuspenseInstanceFallbackErrorDetails,x2=t.registerSuspenseInstanceRetry,fc=t.getNextHydratableSibling,w2=t.getFirstHydratableChild,b2=t.getFirstHydratableChildWithinContainer,S2=t.getFirstHydratableChildWithinSuspenseInstance,E2=t.hydrateInstance,T2=t.hydrateTextInstance,A2=t.hydrateSuspenseInstance,C2=t.getNextHydratableInstanceAfterSuspenseInstance,P2=t.commitHydratedContainer,I2=t.commitHydratedSuspenseInstance,R2=t.clearSuspenseBoundary,k2=t.clearSuspenseBoundaryFromContainer,M2=t.shouldDeleteUnhydratedTailInstances,N2=t.didNotMatchHydratedContainerTextInstance,O2=t.didNotMatchHydratedTextInstance;function pl(l){if(V===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);V=u&&u[1]||""}return`
`+V+l}var hp=!1;function dp(l,u){if(!l||hp)return"";hp=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var v=j}Reflect.construct(l,[],u)}else{try{u.call()}catch(j){v=j}l.call(u.prototype)}else{try{throw Error()}catch(j){v=j}l()}}catch(j){if(j&&v&&typeof j.stack=="string"){for(var x=j.stack.split(`
`),T=v.stack.split(`
`),C=x.length-1,I=T.length-1;1<=C&&0<=I&&x[C]!==T[I];)I--;for(;1<=C&&0<=I;C--,I--)if(x[C]!==T[I]){if(C!==1||I!==1)do if(C--,0>--I||x[C]!==T[I]){var B=`
`+x[C].replace(" at new "," at ");return l.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",l.displayName)),B}while(1<=C&&0<=I);break}}}finally{hp=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?pl(l):""}var F2=Object.prototype.hasOwnProperty,fp=[],Ho=-1;function Qi(l){return{current:l}}function at(l){0>Ho||(l.current=fp[Ho],fp[Ho]=null,Ho--)}function Ze(l,u){Ho++,fp[Ho]=l.current,l.current=u}var Ki={},tr=Qi(Ki),wr=Qi(!1),Ys=Ki;function $o(l,u){var m=l.type.contextTypes;if(!m)return Ki;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in m)T[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Nr(l){return(l=l.childContextTypes)!=null}function pp(){at(wr),at(tr)}function E_(l,u,m){if(tr.current!==Ki)throw Error(s(168));Ze(tr,u),Ze(wr,m)}function T_(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var x in v=v.getChildContext())if(!(x in u))throw Error(s(108,k(l)||"Unknown",x));return i({},m,v)}function pc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ki,Ys=tr.current,Ze(tr,l),Ze(wr,wr.current),!0}function A_(l,u,m){var v=l.stateNode;if(!v)throw Error(s(169));m?(l=T_(l,u,Ys),v.__reactInternalMemoizedMergedChildContext=l,at(wr),at(tr),Ze(tr,l)):at(wr),Ze(wr,m)}var gn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(L2(l)/D2|0)|0},L2=Math.log,D2=Math.LN2,mp=64,gp=4194304;function ml(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function mc(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes,C=268435455&m;if(C!==0){var I=C&~x;I!==0?v=ml(I):(T&=C)!==0&&(v=ml(T))}else(C=m&~x)!==0?v=ml(C):T!==0&&(v=ml(T));if(v===0)return 0;if(u!==0&&u!==v&&!(u&x)&&((x=v&-v)>=(T=u&-u)||x===16&&4194240&T))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(m=31-gn(u)),v|=l[m],u&=~x;return v}function B2(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function yp(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function C_(){var l=mp;return!(4194240&(mp<<=1))&&(mp=64),l}function vp(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function gl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-gn(u)]=m}function _p(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-gn(m),x=1<<v;x&u|l[v]&u&&(l[v]|=u),m&=~x}}var He=0;function P_(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var xp=n.unstable_scheduleCallback,I_=n.unstable_cancelCallback,U2=n.unstable_shouldYield,G2=n.unstable_requestPaint,Dt=n.unstable_now,wp=n.unstable_ImmediatePriority,z2=n.unstable_UserBlockingPriority,R_=n.unstable_NormalPriority,H2=n.unstable_IdlePriority,gc=null,Gn=null,yn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},wi=null,yc=!1,bp=!1;function k_(l){wi===null?wi=[l]:wi.push(l)}function zn(){if(!bp&&wi!==null){bp=!0;var l=0,u=He;try{var m=wi;for(He=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}wi=null,yc=!1}catch(x){throw wi!==null&&(wi=wi.slice(l+1)),xp(wp,zn),x}finally{He=u,bp=!1}}return null}var jo=[],Wo=0,vc=null,_c=0,qr=[],Qr=0,qs=null,Hn=1,bi="";function Qs(l,u){jo[Wo++]=_c,jo[Wo++]=vc,vc=l,_c=u}function M_(l,u,m){qr[Qr++]=Hn,qr[Qr++]=bi,qr[Qr++]=qs,qs=l;var v=Hn;l=bi;var x=32-gn(v)-1;v&=~(1<<x),m+=1;var T=32-gn(u)+x;if(30<T){var C=x-x%5;T=(v&(1<<C)-1).toString(32),v>>=C,x-=C,Hn=1<<32-gn(u)+x|m<<x|v,bi=T+l}else Hn=1<<T|m<<x|v,bi=l}function Sp(l){l.return!==null&&(Qs(l,1),M_(l,1,0))}function Ep(l){for(;l===vc;)vc=jo[--Wo],jo[Wo]=null,_c=jo[--Wo],jo[Wo]=null;for(;l===qs;)qs=qr[--Qr],qr[Qr]=null,bi=qr[--Qr],qr[Qr]=null,Hn=qr[--Qr],qr[Qr]=null}var Or=null,Kr=null,lt=!1,yl=!1,vn=null;function N_(l,u){var m=rn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function O_(l,u){switch(l.tag){case 5:return(u=g2(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Or=l,Kr=w2(u),!0);case 6:return(u=y2(u,l.pendingProps))!==null&&(l.stateNode=u,Or=l,Kr=null,!0);case 13:if((u=v2(u))!==null){var m=qs!==null?{id:Hn,overflow:bi}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=rn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Or=l,Kr=null,!0}return!1;default:return!1}}function Tp(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Ap(l){if(lt){var u=Kr;if(u){var m=u;if(!O_(l,u)){if(Tp(l))throw Error(s(418));u=fc(m);var v=Or;u&&O_(l,u)?N_(v,m):(l.flags=-4097&l.flags|2,lt=!1,Or=l)}}else{if(Tp(l))throw Error(s(418));l.flags=-4097&l.flags|2,lt=!1,Or=l}}}function F_(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Or=l}function xc(l){if(!ze||l!==Or)return!1;if(!lt)return F_(l),lt=!0,!1;if(l.tag!==3&&(l.tag!==5||M2(l.type)&&!We(l.type,l.memoizedProps))){var u=Kr;if(u){if(Tp(l))throw L_(),Error(s(418));for(;u;)N_(l,u),u=fc(u)}}if(F_(l),l.tag===13){if(!ze)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));Kr=C2(l)}else Kr=Or?fc(l.stateNode):null;return!0}function L_(){for(var l=Kr;l;)l=fc(l)}function Vo(){ze&&(Kr=Or=null,yl=lt=!1)}function Cp(l){vn===null?vn=[l]:vn.push(l)}var $2=o.ReactCurrentBatchConfig;function wc(l,u){if(yn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var x=m[v];if(!F2.call(u,x)||!yn(l[x],u[x]))return!1}return!0}function j2(l){switch(l.tag){case 5:return pl(l.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return l=dp(l.type,!1);case 11:return l=dp(l.type.render,!1);case 1:return l=dp(l.type,!0);default:return""}}function _n(l,u){if(l&&l.defaultProps){for(var m in u=i({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var bc=Qi(null),Sc=null,Xo=null,Pp=null;function Ip(){Pp=Xo=Sc=null}function D_(l,u,m){vt?(Ze(bc,u._currentValue),u._currentValue=m):(Ze(bc,u._currentValue2),u._currentValue2=m)}function Rp(l){var u=bc.current;at(bc),vt?l._currentValue=u:l._currentValue2=u}function kp(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function Yo(l,u){Sc=l,Pp=Xo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(br=!0),l.firstContext=null)}function Zr(l){var u=vt?l._currentValue:l._currentValue2;if(Pp!==l)if(l={context:l,memoizedValue:u,next:null},Xo===null){if(Sc===null)throw Error(s(308));Xo=l,Sc.dependencies={lanes:0,firstContext:l}}else Xo=Xo.next=l;return u}var Ks=null;function Mp(l){Ks===null?Ks=[l]:Ks.push(l)}function B_(l,u,m,v){var x=u.interleaved;return x===null?(m.next=m,Mp(u)):(m.next=x.next,x.next=m),u.interleaved=m,$n(l,v)}function $n(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Zi=!1;function Np(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Si(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ji(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&De)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,$n(l,m)}return(x=v.interleaved)===null?(u.next=u,Mp(v)):(u.next=x.next,x.next=u),v.interleaved=u,$n(l,m)}function Ec(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,_p(l,m)}}function G_(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var x=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var C={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?x=T=C:T=T.next=C,m=m.next}while(m!==null);T===null?x=T=u:T=T.next=u}else x=T=u;return m={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Tc(l,u,m,v){var x=l.updateQueue;Zi=!1;var T=x.firstBaseUpdate,C=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var B=I,j=B.next;B.next=null,C===null?T=j:C.next=j,C=B;var Q=l.alternate;Q!==null&&(I=(Q=Q.updateQueue).lastBaseUpdate)!==C&&(I===null?Q.firstBaseUpdate=j:I.next=j,Q.lastBaseUpdate=B)}if(T!==null){var ae=x.baseState;for(C=0,Q=j=B=null,I=T;;){var Y=I.lane,ie=I.eventTime;if((v&Y)===Y){Q!==null&&(Q=Q.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=l,Re=I;switch(Y=u,ie=m,Re.tag){case 1:if(typeof(pe=Re.payload)=="function"){ae=pe.call(ie,ae,Y);break e}ae=pe;break e;case 3:pe.flags=-65537&pe.flags|128;case 0:if((Y=typeof(pe=Re.payload)=="function"?pe.call(ie,ae,Y):pe)==null)break e;ae=i({},ae,Y);break e;case 2:Zi=!0}}I.callback!==null&&I.lane!==0&&(l.flags|=64,(Y=x.effects)===null?x.effects=[I]:Y.push(I))}else ie={eventTime:ie,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Q===null?(j=Q=ie,B=ae):Q=Q.next=ie,C|=Y;if((I=I.next)===null){if((I=x.shared.pending)===null)break;I=(Y=I).next,Y.next=null,x.lastBaseUpdate=Y,x.shared.pending=null}}if(Q===null&&(B=ae),x.baseState=B,x.firstBaseUpdate=j,x.lastBaseUpdate=Q,(u=x.shared.interleaved)!==null){x=u;do C|=x.lane,x=x.next;while(x!==u)}else T===null&&(x.shared.lanes=0);Js|=C,l.lanes=C,l.memoizedState=ae}}function z_(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=m,typeof x!="function")throw Error(s(191,x));x.call(v)}}}var H_=new r.Component().refs;function Op(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:i({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ac={isMounted:function(l){return!!(l=l._reactInternals)&&R(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=ir(),x=ns(l),T=Si(v,x);T.payload=u,m!=null&&(T.callback=m),(u=Ji(l,T,x))!==null&&(tn(u,l,x,v),Ec(u,l,x))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=ir(),x=ns(l),T=Si(v,x);T.tag=1,T.payload=u,m!=null&&(T.callback=m),(u=Ji(l,T,x))!==null&&(tn(u,l,x,v),Ec(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ir(),v=ns(l),x=Si(m,v);x.tag=2,u!=null&&(x.callback=u),(u=Ji(l,x,v))!==null&&(tn(u,l,v,m),Ec(u,l,v))}};function $_(l,u,m,v,x,T,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,C):!u.prototype||!u.prototype.isPureReactComponent||!wc(m,v)||!wc(x,T)}function j_(l,u,m){var v=!1,x=Ki,T=u.contextType;return typeof T=="object"&&T!==null?T=Zr(T):(x=Nr(u)?Ys:tr.current,T=(v=(v=u.contextTypes)!=null)?$o(l,x):Ki),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ac,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=T),u}function W_(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Ac.enqueueReplaceState(u,u.state,null)}function Fp(l,u,m,v){var x=l.stateNode;x.props=m,x.state=l.memoizedState,x.refs=H_,Np(l);var T=u.contextType;typeof T=="object"&&T!==null?x.context=Zr(T):(T=Nr(u)?Ys:tr.current,x.context=$o(l,T)),x.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(Op(l,u,T,m),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ac.enqueueReplaceState(x,x.state,null),Tc(l,m,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function vl(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(s(309));var v=m.stateNode}if(!v)throw Error(s(147,l));var x=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(C){var I=x.refs;I===H_&&(I=x.refs={}),C===null?delete I[T]:I[T]=C},u._stringRef=T,u)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function Cc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function V_(l){return(0,l._init)(l._payload)}function X_(l){function u(K,F){if(l){var H=K.deletions;H===null?(K.deletions=[F],K.flags|=16):H.push(F)}}function m(K,F){if(!l)return null;for(;F!==null;)u(K,F),F=F.sibling;return null}function v(K,F){for(K=new Map;F!==null;)F.key!==null?K.set(F.key,F):K.set(F.index,F),F=F.sibling;return K}function x(K,F){return(K=ss(K,F)).index=0,K.sibling=null,K}function T(K,F,H){return K.index=H,l?(H=K.alternate)!==null?(H=H.index)<F?(K.flags|=2,F):H:(K.flags|=2,F):(K.flags|=1048576,F)}function C(K){return l&&K.alternate===null&&(K.flags|=2),K}function I(K,F,H,re){return F===null||F.tag!==6?((F=wm(H,K.mode,re)).return=K,F):((F=x(F,H)).return=K,F)}function B(K,F,H,re){var xe=H.type;return xe===d?Q(K,F,H.props.children,re,H.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===b&&V_(xe)===F.type)?((re=x(F,H.props)).ref=vl(K,F,H),re.return=K,re):((re=Jc(H.type,H.key,H.props,null,K.mode,re)).ref=vl(K,F,H),re.return=K,re)}function j(K,F,H,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?((F=bm(H,K.mode,re)).return=K,F):((F=x(F,H.children||[])).return=K,F)}function Q(K,F,H,re,xe){return F===null||F.tag!==7?((F=ro(H,K.mode,re,xe)).return=K,F):((F=x(F,H)).return=K,F)}function ae(K,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return(F=wm(""+F,K.mode,H)).return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case a:return(H=Jc(F.type,F.key,F.props,null,K.mode,H)).ref=vl(K,null,F),H.return=K,H;case c:return(F=bm(F,K.mode,H)).return=K,F;case b:return ae(K,(0,F._init)(F._payload),H)}if(J(F)||P(F))return(F=ro(F,K.mode,H,null)).return=K,F;Cc(K,F)}return null}function Y(K,F,H,re){var xe=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return xe!==null?null:I(K,F,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case a:return H.key===xe?B(K,F,H,re):null;case c:return H.key===xe?j(K,F,H,re):null;case b:return Y(K,F,(xe=H._init)(H._payload),re)}if(J(H)||P(H))return xe!==null?null:Q(K,F,H,re,null);Cc(K,H)}return null}function ie(K,F,H,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number")return I(F,K=K.get(H)||null,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case a:return B(F,K=K.get(re.key===null?H:re.key)||null,re,xe);case c:return j(F,K=K.get(re.key===null?H:re.key)||null,re,xe);case b:return ie(K,F,H,(0,re._init)(re._payload),xe)}if(J(re)||P(re))return Q(F,K=K.get(H)||null,re,xe,null);Cc(F,re)}return null}function pe(K,F,H,re){for(var xe=null,Ve=null,ge=F,$e=F=0,qt=null;ge!==null&&$e<H.length;$e++){ge.index>$e?(qt=ge,ge=null):qt=ge.sibling;var Xe=Y(K,ge,H[$e],re);if(Xe===null){ge===null&&(ge=qt);break}l&&ge&&Xe.alternate===null&&u(K,ge),F=T(Xe,F,$e),Ve===null?xe=Xe:Ve.sibling=Xe,Ve=Xe,ge=qt}if($e===H.length)return m(K,ge),lt&&Qs(K,$e),xe;if(ge===null){for(;$e<H.length;$e++)(ge=ae(K,H[$e],re))!==null&&(F=T(ge,F,$e),Ve===null?xe=ge:Ve.sibling=ge,Ve=ge);return lt&&Qs(K,$e),xe}for(ge=v(K,ge);$e<H.length;$e++)(qt=ie(ge,K,$e,H[$e],re))!==null&&(l&&qt.alternate!==null&&ge.delete(qt.key===null?$e:qt.key),F=T(qt,F,$e),Ve===null?xe=qt:Ve.sibling=qt,Ve=qt);return l&&ge.forEach(function(os){return u(K,os)}),lt&&Qs(K,$e),xe}function Re(K,F,H,re){var xe=P(H);if(typeof xe!="function")throw Error(s(150));if((H=xe.call(H))==null)throw Error(s(151));for(var Ve=xe=null,ge=F,$e=F=0,qt=null,Xe=H.next();ge!==null&&!Xe.done;$e++,Xe=H.next()){ge.index>$e?(qt=ge,ge=null):qt=ge.sibling;var os=Y(K,ge,Xe.value,re);if(os===null){ge===null&&(ge=qt);break}l&&ge&&os.alternate===null&&u(K,ge),F=T(os,F,$e),Ve===null?xe=os:Ve.sibling=os,Ve=os,ge=qt}if(Xe.done)return m(K,ge),lt&&Qs(K,$e),xe;if(ge===null){for(;!Xe.done;$e++,Xe=H.next())(Xe=ae(K,Xe.value,re))!==null&&(F=T(Xe,F,$e),Ve===null?xe=Xe:Ve.sibling=Xe,Ve=Xe);return lt&&Qs(K,$e),xe}for(ge=v(K,ge);!Xe.done;$e++,Xe=H.next())(Xe=ie(ge,K,$e,Xe.value,re))!==null&&(l&&Xe.alternate!==null&&ge.delete(Xe.key===null?$e:Xe.key),F=T(Xe,F,$e),Ve===null?xe=Xe:Ve.sibling=Xe,Ve=Xe);return l&&ge.forEach(function(pI){return u(K,pI)}),lt&&Qs(K,$e),xe}return function K(F,H,re,xe){if(typeof re=="object"&&re!==null&&re.type===d&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case a:e:{for(var Ve=re.key,ge=H;ge!==null;){if(ge.key===Ve){if((Ve=re.type)===d){if(ge.tag===7){m(F,ge.sibling),(H=x(ge,re.props.children)).return=F,F=H;break e}}else if(ge.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===b&&V_(Ve)===ge.type){m(F,ge.sibling),(H=x(ge,re.props)).ref=vl(F,ge,re),H.return=F,F=H;break e}m(F,ge);break}u(F,ge),ge=ge.sibling}re.type===d?((H=ro(re.props.children,F.mode,xe,re.key)).return=F,F=H):((xe=Jc(re.type,re.key,re.props,null,F.mode,xe)).ref=vl(F,H,re),xe.return=F,F=xe)}return C(F);case c:e:{for(ge=re.key;H!==null;){if(H.key===ge){if(H.tag===4&&H.stateNode.containerInfo===re.containerInfo&&H.stateNode.implementation===re.implementation){m(F,H.sibling),(H=x(H,re.children||[])).return=F,F=H;break e}m(F,H);break}u(F,H),H=H.sibling}(H=bm(re,F.mode,xe)).return=F,F=H}return C(F);case b:return K(F,H,(ge=re._init)(re._payload),xe)}if(J(re))return pe(F,H,re,xe);if(P(re))return Re(F,H,re,xe);Cc(F,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,H!==null&&H.tag===6?(m(F,H.sibling),(H=x(H,re)).return=F,F=H):(m(F,H),(H=wm(re,F.mode,xe)).return=F,F=H),C(F)):m(F,H)}}var qo=X_(!0),Y_=X_(!1),_l={},Jr=Qi(_l),xl=Qi(_l),Qo=Qi(_l);function jn(l){if(l===_l)throw Error(s(174));return l}function Lp(l,u){Ze(Qo,u),Ze(xl,l),Ze(Jr,_l),l=oe(u),at(Jr),Ze(Jr,l)}function Ko(){at(Jr),at(xl),at(Qo)}function q_(l){var u=jn(Qo.current),m=jn(Jr.current);m!==(u=M(m,l.type,u))&&(Ze(xl,l),Ze(Jr,u))}function Dp(l){xl.current===l&&(at(Jr),at(xl))}var _t=Qi(0);function Pc(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||S_(m)||cp(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bp=[];function Up(){for(var l=0;l<Bp.length;l++){var u=Bp[l];vt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Bp.length=0}var Ic=o.ReactCurrentDispatcher,Gp=o.ReactCurrentBatchConfig,Zs=0,dt=null,Bt=null,Ut=null,Rc=!1,wl=!1,bl=0,W2=0;function rr(){throw Error(s(321))}function zp(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!yn(l[m],u[m]))return!1;return!0}function Hp(l,u,m,v,x,T){if(Zs=T,dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ic.current=l===null||l.memoizedState===null?q2:Q2,l=m(v,x),wl){T=0;do{if(wl=!1,bl=0,25<=T)throw Error(s(301));T+=1,Ut=Bt=null,u.updateQueue=null,Ic.current=K2,l=m(v,x)}while(wl)}if(Ic.current=Nc,u=Bt!==null&&Bt.next!==null,Zs=0,Ut=Bt=dt=null,Rc=!1,u)throw Error(s(300));return l}function $p(){var l=bl!==0;return bl=0,l}function Wn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?dt.memoizedState=Ut=l:Ut=Ut.next=l,Ut}function en(){if(Bt===null){var l=dt.alternate;l=l!==null?l.memoizedState:null}else l=Bt.next;var u=Ut===null?dt.memoizedState:Ut.next;if(u!==null)Ut=u,Bt=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Bt=l).memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Ut===null?dt.memoizedState=Ut=l:Ut=Ut.next=l}return Ut}function Sl(l,u){return typeof u=="function"?u(l):u}function jp(l){var u=en(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=Bt,x=v.baseQueue,T=m.pending;if(T!==null){if(x!==null){var C=x.next;x.next=T.next,T.next=C}v.baseQueue=x=T,m.pending=null}if(x!==null){T=x.next,v=v.baseState;var I=C=null,B=null,j=T;do{var Q=j.lane;if((Zs&Q)===Q)B!==null&&(B=B.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),v=j.hasEagerState?j.eagerState:l(v,j.action);else{var ae={lane:Q,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};B===null?(I=B=ae,C=v):B=B.next=ae,dt.lanes|=Q,Js|=Q}j=j.next}while(j!==null&&j!==T);B===null?C=v:B.next=I,yn(v,u.memoizedState)||(br=!0),u.memoizedState=v,u.baseState=C,u.baseQueue=B,m.lastRenderedState=v}if((l=m.interleaved)!==null){x=l;do T=x.lane,dt.lanes|=T,Js|=T,x=x.next;while(x!==l)}else x===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Wp(l){var u=en(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=m.dispatch,x=m.pending,T=u.memoizedState;if(x!==null){m.pending=null;var C=x=x.next;do T=l(T,C.action),C=C.next;while(C!==x);yn(T,u.memoizedState)||(br=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,v]}function Q_(){}function K_(l,u){var m=dt,v=en(),x=u(),T=!yn(v.memoizedState,x);if(T&&(v.memoizedState=x,br=!0),v=v.queue,Vp(e1.bind(null,m,v,l),[l]),v.getSnapshot!==u||T||Ut!==null&&1&Ut.memoizedState.tag){if(m.flags|=2048,El(9,J_.bind(null,m,v,x,u),void 0,null),Gt===null)throw Error(s(349));30&Zs||Z_(m,u,x)}return x}function Z_(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function J_(l,u,m,v){u.value=m,u.getSnapshot=v,t1(u)&&r1(l)}function e1(l,u,m){return m(function(){t1(u)&&r1(l)})}function t1(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!yn(l,m)}catch{return!0}}function r1(l){var u=$n(l,1);u!==null&&tn(u,l,1,-1)}function n1(l){var u=Wn();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:l},u.queue=l,l=l.dispatch=Y2.bind(null,dt,l),[u.memoizedState,l]}function El(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function i1(){return en().memoizedState}function kc(l,u,m,v){var x=Wn();dt.flags|=l,x.memoizedState=El(1|u,m,void 0,v===void 0?null:v)}function Mc(l,u,m,v){var x=en();v=v===void 0?null:v;var T=void 0;if(Bt!==null){var C=Bt.memoizedState;if(T=C.destroy,v!==null&&zp(v,C.deps))return void(x.memoizedState=El(u,m,T,v))}dt.flags|=l,x.memoizedState=El(1|u,m,T,v)}function s1(l,u){return kc(8390656,8,l,u)}function Vp(l,u){return Mc(2048,8,l,u)}function o1(l,u){return Mc(4,2,l,u)}function a1(l,u){return Mc(4,4,l,u)}function l1(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function u1(l,u,m){return m=m!=null?m.concat([l]):null,Mc(4,4,l1.bind(null,u,l),m)}function Xp(){}function c1(l,u){var m=en();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&zp(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function h1(l,u){var m=en();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&zp(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function d1(l,u,m){return 21&Zs?(yn(m,u)||(m=C_(),dt.lanes|=m,Js|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,br=!0),l.memoizedState=m)}function V2(l,u){var m=He;He=m!==0&&4>m?m:4,l(!0);var v=Gp.transition;Gp.transition={};try{l(!1),u()}finally{He=m,Gp.transition=v}}function f1(){return en().memoizedState}function X2(l,u,m){var v=ns(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},p1(l)?m1(u,m):(m=B_(l,u,m,v))!==null&&(tn(m,l,v,ir()),g1(m,u,v))}function Y2(l,u,m){var v=ns(l),x={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(p1(l))m1(u,x);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=T(C,m);if(x.hasEagerState=!0,x.eagerState=I,yn(I,C)){var B=u.interleaved;return B===null?(x.next=x,Mp(u)):(x.next=B.next,B.next=x),void(u.interleaved=x)}}catch{}(m=B_(l,u,x,v))!==null&&(tn(m,l,v,x=ir()),g1(m,u,v))}}function p1(l){var u=l.alternate;return l===dt||u!==null&&u===dt}function m1(l,u){wl=Rc=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function g1(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,_p(l,m)}}var Nc={readContext:Zr,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},q2={readContext:Zr,useCallback:function(l,u){return Wn().memoizedState=[l,u===void 0?null:u],l},useContext:Zr,useEffect:s1,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,kc(4194308,4,l1.bind(null,u,l),m)},useLayoutEffect:function(l,u){return kc(4194308,4,l,u)},useInsertionEffect:function(l,u){return kc(4,2,l,u)},useMemo:function(l,u){var m=Wn();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Wn();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=X2.bind(null,dt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Wn().memoizedState=l},useState:n1,useDebugValue:Xp,useDeferredValue:function(l){return Wn().memoizedState=l},useTransition:function(){var l=n1(!1),u=l[0];return l=V2.bind(null,l[1]),Wn().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=dt,x=Wn();if(lt){if(m===void 0)throw Error(s(407));m=m()}else{if(m=u(),Gt===null)throw Error(s(349));30&Zs||Z_(v,u,m)}x.memoizedState=m;var T={value:m,getSnapshot:u};return x.queue=T,s1(e1.bind(null,v,T,l),[l]),v.flags|=2048,El(9,J_.bind(null,v,T,m,u),void 0,null),m},useId:function(){var l=Wn(),u=Gt.identifierPrefix;if(lt){var m=bi;u=":"+u+"R"+(m=(Hn&~(1<<32-gn(Hn)-1)).toString(32)+m),0<(m=bl++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=W2++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Q2={readContext:Zr,useCallback:c1,useContext:Zr,useEffect:Vp,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:h1,useReducer:jp,useRef:i1,useState:function(){return jp(Sl)},useDebugValue:Xp,useDeferredValue:function(l){return d1(en(),Bt.memoizedState,l)},useTransition:function(){return[jp(Sl)[0],en().memoizedState]},useMutableSource:Q_,useSyncExternalStore:K_,useId:f1,unstable_isNewReconciler:!1},K2={readContext:Zr,useCallback:c1,useContext:Zr,useEffect:Vp,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:h1,useReducer:Wp,useRef:i1,useState:function(){return Wp(Sl)},useDebugValue:Xp,useDeferredValue:function(l){var u=en();return Bt===null?u.memoizedState=l:d1(u,Bt.memoizedState,l)},useTransition:function(){return[Wp(Sl)[0],en().memoizedState]},useMutableSource:Q_,useSyncExternalStore:K_,useId:f1,unstable_isNewReconciler:!1};function Zo(l,u){try{var m="",v=u;do m+=j2(v),v=v.return;while(v);var x=m}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:x,digest:null}}function Yp(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function qp(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function y1(l,u,m){(m=Si(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Xc||(Xc=!0,pm=v),qp(0,u)},m}function v1(l,u,m){(m=Si(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;m.payload=function(){return v(x)},m.callback=function(){qp(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){qp(0,u),typeof v!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),m}function _1(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new Z2;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(m)||(x.add(m),l=aI.bind(null,l,u,m),u.then(l,l))}function x1(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function w1(l,u,m,v,x){return 1&l.mode?(l.flags|=65536,l.lanes=x,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Si(-1,1)).tag=2,Ji(m,u,1))),m.lanes|=1),l)}var J2=o.ReactCurrentOwner,br=!1;function Sr(l,u,m,v){u.child=l===null?Y_(u,null,m,v):qo(u,l.child,m,v)}function b1(l,u,m,v,x){m=m.render;var T=u.ref;return Yo(u,x),v=Hp(l,u,m,v,T,x),m=$p(),l===null||br?(lt&&m&&Sp(u),u.flags|=1,Sr(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,Ei(l,u,x))}function S1(l,u,m,v,x){if(l===null){var T=m.type;return typeof T!="function"||xm(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=Jc(m.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,E1(l,u,T,v,x))}if(T=l.child,(l.lanes&x)==0){var C=T.memoizedProps;if((m=(m=m.compare)!==null?m:wc)(C,v)&&l.ref===u.ref)return Ei(l,u,x)}return u.flags|=1,(l=ss(T,v)).ref=u.ref,l.return=u,u.child=l}function E1(l,u,m,v,x){if(l!==null){var T=l.memoizedProps;if(wc(T,v)&&l.ref===u.ref){if(br=!1,u.pendingProps=v=T,(l.lanes&x)==0)return u.lanes=l.lanes,Ei(l,u,x);131072&l.flags&&(br=!0)}}return Qp(l,u,m,v,x)}function T1(l,u,m){var v=u.pendingProps,x=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ea,Fr),Fr|=m;else{if(!(1073741824&m))return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ze(ea,Fr),Fr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:m,Ze(ea,Fr),Fr|=v}else T!==null?(v=T.baseLanes|m,u.memoizedState=null):v=m,Ze(ea,Fr),Fr|=v;return Sr(l,u,x,m),u.child}function A1(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Qp(l,u,m,v,x){var T=Nr(m)?Ys:tr.current;return T=$o(u,T),Yo(u,x),m=Hp(l,u,m,v,T,x),v=$p(),l===null||br?(lt&&v&&Sp(u),u.flags|=1,Sr(l,u,m,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,Ei(l,u,x))}function C1(l,u,m,v,x){if(Nr(m)){var T=!0;pc(u)}else T=!1;if(Yo(u,x),u.stateNode===null)Dc(l,u),j_(u,m,v),Fp(u,m,v,x),v=!0;else if(l===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var B=C.context,j=m.contextType;typeof j=="object"&&j!==null?j=Zr(j):j=$o(u,j=Nr(m)?Ys:tr.current);var Q=m.getDerivedStateFromProps,ae=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==v||B!==j)&&W_(u,C,v,j),Zi=!1;var Y=u.memoizedState;C.state=Y,Tc(u,v,C,x),B=u.memoizedState,I!==v||Y!==B||wr.current||Zi?(typeof Q=="function"&&(Op(u,m,Q,v),B=u.memoizedState),(I=Zi||$_(u,m,I,v,Y,B,j))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=B),C.props=v,C.state=B,C.context=j,v=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,U_(l,u),I=u.memoizedProps,j=u.type===u.elementType?I:_n(u.type,I),C.props=j,ae=u.pendingProps,Y=C.context,typeof(B=m.contextType)=="object"&&B!==null?B=Zr(B):B=$o(u,B=Nr(m)?Ys:tr.current);var ie=m.getDerivedStateFromProps;(Q=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==ae||Y!==B)&&W_(u,C,v,B),Zi=!1,Y=u.memoizedState,C.state=Y,Tc(u,v,C,x);var pe=u.memoizedState;I!==ae||Y!==pe||wr.current||Zi?(typeof ie=="function"&&(Op(u,m,ie,v),pe=u.memoizedState),(j=Zi||$_(u,m,j,v,Y,pe,B)||!1)?(Q||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,pe,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,pe,B)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&Y===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&Y===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=pe),C.props=v,C.state=pe,C.context=B,v=j):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&Y===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&Y===l.memoizedState||(u.flags|=1024),v=!1)}return Kp(l,u,m,v,T,x)}function Kp(l,u,m,v,x,T){A1(l,u);var C=(128&u.flags)!=0;if(!v&&!C)return x&&A_(u,m,!1),Ei(l,u,T);v=u.stateNode,J2.current=u;var I=C&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&C?(u.child=qo(u,l.child,null,T),u.child=qo(u,null,I,T)):Sr(l,u,I,T),u.memoizedState=v.state,x&&A_(u,m,!0),u.child}function P1(l){var u=l.stateNode;u.pendingContext?E_(0,u.pendingContext,u.pendingContext!==u.context):u.context&&E_(0,u.context,!1),Lp(l,u.containerInfo)}function I1(l,u,m,v,x){return Vo(),Cp(x),u.flags|=256,Sr(l,u,m,v),u.child}var Tl,Al,Oc,Fc,Zp={dehydrated:null,treeContext:null,retryLane:0};function Jp(l){return{baseLanes:l,cachePool:null,transitions:null}}function R1(l,u,m){var v,x=u.pendingProps,T=_t.current,C=!1,I=(128&u.flags)!=0;if((v=I)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),Ze(_t,1&T),l===null)return Ap(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?cp(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=x.children,l=x.fallback,C?(x=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&x)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=eh(I,x,0,null),l=ro(l,x,m,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=Jp(m),u.memoizedState=Zp,l):em(u,I));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return function(j,Q,ae,Y,ie,pe,Re){if(ae)return 256&Q.flags?(Q.flags&=-257,Lc(j,Q,Re,Y=Yp(Error(s(422))))):Q.memoizedState!==null?(Q.child=j.child,Q.flags|=128,null):(pe=Y.fallback,ie=Q.mode,Y=eh({mode:"visible",children:Y.children},ie,0,null),(pe=ro(pe,ie,Re,null)).flags|=2,Y.return=Q,pe.return=Q,Y.sibling=pe,Q.child=Y,1&Q.mode&&qo(Q,j.child,null,Re),Q.child.memoizedState=Jp(Re),Q.memoizedState=Zp,pe);if(!(1&Q.mode))return Lc(j,Q,Re,null);if(cp(ie))return Y=_2(ie).digest,pe=Error(s(419)),Y=Yp(pe,Y,void 0),Lc(j,Q,Re,Y);if(ae=(Re&j.childLanes)!=0,br||ae){if((Y=Gt)!==null){switch(Re&-Re){case 4:ie=2;break;case 16:ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ie=32;break;case 536870912:ie=268435456;break;default:ie=0}(ie=ie&(Y.suspendedLanes|Re)?0:ie)!==0&&ie!==pe.retryLane&&(pe.retryLane=ie,$n(j,ie),tn(Y,j,ie,-1))}return _m(),Lc(j,Q,Re,Y=Yp(Error(s(421))))}return S_(ie)?(Q.flags|=128,Q.child=j.child,Q=lI.bind(null,j),x2(ie,Q),null):(j=pe.treeContext,ze&&(Kr=S2(ie),Or=Q,lt=!0,vn=null,yl=!1,j!==null&&(qr[Qr++]=Hn,qr[Qr++]=bi,qr[Qr++]=qs,Hn=j.id,bi=j.overflow,qs=Q)),Q=em(Q,Y.children),Q.flags|=4096,Q)}(l,u,I,x,v,T,m);if(C){C=x.fallback,I=u.mode,v=(T=l.child).sibling;var B={mode:"hidden",children:x.children};return!(1&I)&&u.child!==T?((x=u.child).childLanes=0,x.pendingProps=B,u.deletions=null):(x=ss(T,B)).subtreeFlags=14680064&T.subtreeFlags,v!==null?C=ss(v,C):(C=ro(C,I,m,null)).flags|=2,C.return=u,x.return=u,x.sibling=C,u.child=x,x=C,C=u.child,I=(I=l.child.memoizedState)===null?Jp(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~m,u.memoizedState=Zp,x}return l=(C=l.child).sibling,x=ss(C,{mode:"visible",children:x.children}),!(1&u.mode)&&(x.lanes=m),x.return=u,x.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=x,u.memoizedState=null,x}function em(l,u){return(u=eh({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Lc(l,u,m,v){return v!==null&&Cp(v),qo(u,l.child,null,m),(l=em(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function k1(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),kp(l.return,u,m)}function tm(l,u,m,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=x)}function M1(l,u,m){var v=u.pendingProps,x=v.revealOrder,T=v.tail;if(Sr(l,u,v.children,m),(2&(v=_t.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&k1(l,m,u);else if(l.tag===19)k1(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Ze(_t,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(m=u.child,x=null;m!==null;)(l=m.alternate)!==null&&Pc(l)===null&&(x=m),m=m.sibling;(m=x)===null?(x=u.child,u.child=null):(x=m.sibling,m.sibling=null),tm(u,!1,x,m,T);break;case"backwards":for(m=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&Pc(l)===null){u.child=x;break}l=x.sibling,x.sibling=m,m=x,x=l}tm(u,!0,m,null,T);break;case"together":tm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Dc(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ei(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Js|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(m=ss(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=ss(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Vn(l){l.flags|=4}function N1(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Me)Tl=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)te(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Al=function(){},Oc=function(l,u,m,v,x){if((l=l.memoizedProps)!==v){var T=u.stateNode,C=jn(Jr.current);m=Ee(T,m,l,v,x,C),(u.updateQueue=m)&&Vn(u)}},Fc=function(l,u,m,v){m!==v&&Vn(u)};else if(rt){Tl=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=w_(T,x.type,x.memoizedProps,x)),te(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=b_(T,x.memoizedProps,x)),te(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Tl(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var O1=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=w_(T,x.type,x.memoizedProps,x)),x_(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=b_(T,x.memoizedProps,x)),x_(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),O1(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Al=function(l,u){var m=u.stateNode;if(!N1(l,u)){l=m.containerInfo;var v=__(l);O1(v,u,!1,!1),m.pendingChildren=v,Vn(u),m2(l,v)}},Oc=function(l,u,m,v,x){var T=l.stateNode,C=l.memoizedProps;if((l=N1(l,u))&&C===v)u.stateNode=T;else{var I=u.stateNode,B=jn(Jr.current),j=null;C!==v&&(j=Ee(I,m,C,v,x,B)),l&&j===null?u.stateNode=T:(T=p2(T,j,m,C,v,u,l,I),Ce(T,m,v,x,B)&&Vn(u),u.stateNode=T,l?Vn(u):Tl(T,u,!1,!1))}},Fc=function(l,u,m,v){m!==v?(l=jn(Qo.current),m=jn(Jr.current),u.stateNode=ke(v,l,m,u),Vn(u)):u.stateNode=l.stateNode}}else Al=function(){},Oc=function(){},Fc=function(){};function Cl(l,u){if(!lt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function fr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function eI(l,u,m){var v=u.pendingProps;switch(Ep(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(u),null;case 1:case 17:return Nr(u.type)&&pp(),fr(u),null;case 3:return m=u.stateNode,Ko(),at(wr),at(tr),Up(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(xc(u)?Vn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,vn!==null&&(ym(vn),vn=null))),Al(l,u),fr(u),null;case 5:Dp(u),m=jn(Qo.current);var x=u.type;if(l!==null&&u.stateNode!=null)Oc(l,u,x,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(s(166));return fr(u),null}if(l=jn(Jr.current),xc(u)){if(!ze)throw Error(s(175));l=E2(u.stateNode,u.type,u.memoizedProps,m,l,u,!yl),u.updateQueue=l,l!==null&&Vn(u)}else{var T=z(x,v,m,l,u);Tl(T,u,!1,!1),u.stateNode=T,Ce(T,x,v,m,l)&&Vn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return fr(u),null;case 6:if(l&&u.stateNode!=null)Fc(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(s(166));if(l=jn(Qo.current),m=jn(Jr.current),xc(u)){if(!ze)throw Error(s(176));if(l=u.stateNode,m=u.memoizedProps,(v=T2(l,m,u,!yl))&&(x=Or)!==null)switch(x.tag){case 3:N2(x.stateNode.containerInfo,l,m,(1&x.mode)!=0);break;case 5:O2(x.type,x.memoizedProps,x.stateNode,l,m,(1&x.mode)!=0)}v&&Vn(u)}else u.stateNode=ke(v,l,m,u)}return fr(u),null;case 13:if(at(_t),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(lt&&Kr!==null&&1&u.mode&&!(128&u.flags))L_(),Vo(),u.flags|=98560,x=!1;else if(x=xc(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(s(318));if(!ze)throw Error(s(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(s(317));A2(x,u)}else Vo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;fr(u),x=!1}else vn!==null&&(ym(vn),vn=null),x=!0;if(!x)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&_t.current?Rt===0&&(Rt=3):_m())),u.updateQueue!==null&&(u.flags|=4),fr(u),null);case 4:return Ko(),Al(l,u),l===null&&Yr(u.stateNode.containerInfo),fr(u),null;case 10:return Rp(u.type._context),fr(u),null;case 19:if(at(_t),(x=u.memoizedState)===null)return fr(u),null;if(v=(128&u.flags)!=0,(T=x.rendering)===null)if(v)Cl(x,!1);else{if(Rt!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((T=Pc(l))!==null){for(u.flags|=128,Cl(x,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)x=l,(v=m).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return Ze(_t,1&_t.current|2),u.child}l=l.sibling}x.tail!==null&&Dt()>fm&&(u.flags|=128,v=!0,Cl(x,!1),u.lanes=4194304)}else{if(!v)if((l=Pc(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Cl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!lt)return fr(u),null}else 2*Dt()-x.renderingStartTime>fm&&m!==1073741824&&(u.flags|=128,v=!0,Cl(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):((l=x.last)!==null?l.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Dt(),u.sibling=null,l=_t.current,Ze(_t,v?1&l|2:1&l),u):(fr(u),null);case 22:case 23:return vm(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&Fr&&(fr(u),Me&&6&u.subtreeFlags&&(u.flags|=8192)):fr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function tI(l,u){switch(Ep(u),u.tag){case 1:return Nr(u.type)&&pp(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Ko(),at(wr),at(tr),Up(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Dp(u),null;case 13:if(at(_t),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Vo()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return at(_t),null;case 4:return Ko(),null;case 10:return Rp(u.type._context),null;case 22:case 23:return vm(),null;default:return null}}var Bc=!1,nr=!1,rI=typeof WeakSet=="function"?WeakSet:Set,de=null;function Jo(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){ut(l,u,v)}else m.current=null}function F1(l,u,m){try{m()}catch(v){ut(l,u,v)}}var L1=!1;function Pl(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var T=x.destroy;x.destroy=void 0,T!==void 0&&F1(u,m,T)}x=x.next}while(x!==v)}}function Uc(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function rm(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=ee(m):l=m,typeof u=="function"?u(l):u.current=l}}function D1(l){var u=l.alternate;u!==null&&(l.alternate=null,D1(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&lp(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function B1(l){return l.tag===5||l.tag===3||l.tag===4}function U1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||B1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function nm(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?o2(m,l,u):t2(m,l);else if(v!==4&&(l=l.child)!==null)for(nm(l,u,m),l=l.sibling;l!==null;)nm(l,u,m),l=l.sibling}function im(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?s2(m,l,u):e2(m,l);else if(v!==4&&(l=l.child)!==null)for(im(l,u,m),l=l.sibling;l!==null;)im(l,u,m),l=l.sibling}var pr=null,Xn=!1;function Yn(l,u,m){for(m=m.child;m!==null;)sm(l,u,m),m=m.sibling}function sm(l,u,m){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(gc,m)}catch{}switch(m.tag){case 5:nr||Jo(m,u);case 6:if(Me){var v=pr,x=Xn;pr=null,Yn(l,u,m),Xn=x,(pr=v)!==null&&(Xn?l2(pr,m.stateNode):a2(pr,m.stateNode))}else Yn(l,u,m);break;case 18:Me&&pr!==null&&(Xn?k2(pr,m.stateNode):R2(pr,m.stateNode));break;case 4:Me?(v=pr,x=Xn,pr=m.stateNode.containerInfo,Xn=!0,Yn(l,u,m),pr=v,Xn=x):(rt&&(v=m.stateNode.containerInfo,x=__(v),up(v,x)),Yn(l,u,m));break;case 0:case 11:case 14:case 15:if(!nr&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var T=x,C=T.destroy;T=T.tag,C!==void 0&&(2&T||4&T)&&F1(m,u,C),x=x.next}while(x!==v)}Yn(l,u,m);break;case 1:if(!nr&&(Jo(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(I){ut(m,u,I)}Yn(l,u,m);break;case 21:Yn(l,u,m);break;case 22:1&m.mode?(nr=(v=nr)||m.memoizedState!==null,Yn(l,u,m),nr=v):Yn(l,u,m);break;default:Yn(l,u,m)}}function G1(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new rI),u.forEach(function(v){var x=uI.bind(null,l,v);m.has(v)||(m.add(v),v.then(x,x))})}}function xn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var x=m[v];try{var T=l,C=u;if(Me){var I=C;e:for(;I!==null;){switch(I.tag){case 5:pr=I.stateNode,Xn=!1;break e;case 3:case 4:pr=I.stateNode.containerInfo,Xn=!0;break e}I=I.return}if(pr===null)throw Error(s(160));sm(T,C,x),pr=null,Xn=!1}else sm(T,C,x);var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(j){ut(x,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)z1(u,l),u=u.sibling}function z1(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(xn(u,l),qn(l),4&v){try{Pl(3,l,l.return),Uc(3,l)}catch(Y){ut(l,l.return,Y)}try{Pl(5,l,l.return)}catch(Y){ut(l,l.return,Y)}}break;case 1:xn(u,l),qn(l),512&v&&m!==null&&Jo(m,m.return);break;case 5:if(xn(u,l),qn(l),512&v&&m!==null&&Jo(m,m.return),Me){if(32&l.flags){var x=l.stateNode;try{v_(x)}catch(Y){ut(l,l.return,Y)}}if(4&v&&(x=l.stateNode)!=null){var T=l.memoizedProps;if(m=m!==null?m.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{i2(x,u,v,m,T,l)}catch(Y){ut(l,l.return,Y)}}}break;case 6:if(xn(u,l),qn(l),4&v&&Me){if(l.stateNode===null)throw Error(s(162));x=l.stateNode,T=l.memoizedProps,m=m!==null?m.memoizedProps:T;try{r2(x,m,T)}catch(Y){ut(l,l.return,Y)}}break;case 3:if(xn(u,l),qn(l),4&v){if(Me&&ze&&m!==null&&m.memoizedState.isDehydrated)try{P2(u.containerInfo)}catch(Y){ut(l,l.return,Y)}if(rt){x=u.containerInfo,T=u.pendingChildren;try{up(x,T)}catch(Y){ut(l,l.return,Y)}}}break;case 4:if(xn(u,l),qn(l),4&v&&rt){x=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{up(x,T)}catch(Y){ut(l,l.return,Y)}}break;case 13:xn(u,l),qn(l),8192&(x=l.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(dm=Dt())),4&v&&G1(l);break;case 22:var C=m!==null&&m.memoizedState!==null;if(1&l.mode?(nr=(m=nr)||C,xn(u,l),nr=m):xn(u,l),qn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!C&&(1&l.mode)!=0)for(de=l,v=l.child;v!==null;){for(u=de=v;de!==null;){var I=(C=de).child;switch(C.tag){case 0:case 11:case 14:case 15:Pl(4,C,C.return);break;case 1:Jo(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){var j=C,Q=C.return;try{var ae=j;B.props=ae.memoizedProps,B.state=ae.memoizedState,B.componentWillUnmount()}catch(Y){ut(j,Q,Y)}}break;case 5:Jo(C,C.return);break;case 22:if(C.memoizedState!==null){j1(u);continue}}I!==null?(I.return=C,de=I):j1(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,m?u2(x):h2(u.stateNode,u.memoizedProps)}catch(Y){ut(l,l.return,Y)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,m?c2(T):d2(T,u.memoizedProps)}catch(Y){ut(l,l.return,Y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:xn(u,l),qn(l),4&v&&G1(l);break;case 21:break;default:xn(u,l),qn(l)}}function qn(l){var u=l.flags;if(2&u){try{if(Me){e:{for(var m=l.return;m!==null;){if(B1(m)){var v=m;break e}m=m.return}throw Error(s(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(v_(x),v.flags&=-33),im(l,U1(l),x);break;case 3:case 4:var T=v.stateNode.containerInfo;nm(l,U1(l),T);break;default:throw Error(s(161))}}}catch(C){ut(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function nI(l,u,m){de=l,H1(l)}function H1(l,u,m){for(var v=(1&l.mode)!=0;de!==null;){var x=de,T=x.child;if(x.tag===22&&v){var C=x.memoizedState!==null||Bc;if(!C){var I=x.alternate,B=I!==null&&I.memoizedState!==null||nr;I=Bc;var j=nr;if(Bc=C,(nr=B)&&!j)for(de=x;de!==null;)B=(C=de).child,C.tag===22&&C.memoizedState!==null?W1(x):B!==null?(B.return=C,de=B):W1(x);for(;T!==null;)de=T,H1(T),T=T.sibling;de=x,Bc=I,nr=j}$1(l)}else 8772&x.subtreeFlags&&T!==null?(T.return=x,de=T):$1(l)}}function $1(l){for(;de!==null;){var u=de;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:nr||Uc(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!nr)if(m===null)v.componentDidMount();else{var x=u.elementType===u.type?m.memoizedProps:_n(u.type,m.memoizedProps);v.componentDidUpdate(x,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&z_(u,T,v);break;case 3:var C=u.updateQueue;if(C!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=ee(u.child.stateNode);break;case 1:m=u.child.stateNode}z_(u,C,m)}break;case 5:var I=u.stateNode;m===null&&4&u.flags&&n2(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ze&&u.memoizedState===null){var B=u.alternate;if(B!==null){var j=B.memoizedState;if(j!==null){var Q=j.dehydrated;Q!==null&&I2(Q)}}}break;default:throw Error(s(163))}nr||512&u.flags&&rm(u)}catch(ae){ut(u,u.return,ae)}}if(u===l){de=null;break}if((m=u.sibling)!==null){m.return=u.return,de=m;break}de=u.return}}function j1(l){for(;de!==null;){var u=de;if(u===l){de=null;break}var m=u.sibling;if(m!==null){m.return=u.return,de=m;break}de=u.return}}function W1(l){for(;de!==null;){var u=de;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Uc(4,u)}catch(B){ut(u,m,B)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(B){ut(u,x,B)}}var T=u.return;try{rm(u)}catch(B){ut(u,T,B)}break;case 5:var C=u.return;try{rm(u)}catch(B){ut(u,C,B)}}}catch(B){ut(u,u.return,B)}if(u===l){de=null;break}var I=u.sibling;if(I!==null){I.return=u.return,de=I;break}de=u.return}}var Gc=0,zc=1,Hc=2,$c=3,jc=4;if(typeof Symbol=="function"&&Symbol.for){var Il=Symbol.for;Gc=Il("selector.component"),zc=Il("selector.has_pseudo_class"),Hc=Il("selector.role"),$c=Il("selector.test_id"),jc=Il("selector.text")}function om(l){var u=Xr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=YP(l))===null)throw Error(s(362));return l.stateNode.current}function am(l,u){switch(u.$$typeof){case Gc:if(l.type===u.value)return!0;break;case zc:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],x=l[m++],T=u[x];if(v.tag!==5||!fl(v)){for(;T!=null&&am(v,T);)T=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case Hc:if(l.tag===5&&KP(l.stateNode,u.value))return!0;break;case jc:if((l.tag===5||l.tag===6)&&(l=QP(l))!==null&&0<=l.indexOf(u.value))return!0;break;case $c:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function lm(l){switch(l.$$typeof){case Gc:return"<"+(N(l.value)||"Unknown")+">";case zc:return":has("+(lm(l)||"")+")";case Hc:return'[role="'+l.value+'"]';case jc:return'"'+l.value+'"';case $c:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function V1(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],T=l[v++],C=u[T];if(x.tag!==5||!fl(x)){for(;C!=null&&am(x,C);)C=u[++T];if(T===u.length)m.push(x);else for(x=x.child;x!==null;)l.push(x,T),x=x.sibling}}return m}function um(l,u){if(!dl)throw Error(s(363));l=V1(l=om(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)fl(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var iI=Math.ceil,Wc=o.ReactCurrentDispatcher,cm=o.ReactCurrentOwner,St=o.ReactCurrentBatchConfig,De=0,Gt=null,Ct=null,Yt=0,Fr=0,ea=Qi(0),Rt=0,Rl=null,Js=0,Vc=0,hm=0,kl=null,Lr=null,dm=0,fm=1/0,es=null;function ta(){fm=Dt()+500}var X1,Xc=!1,pm=null,ts=null,Yc=!1,rs=null,qc=0,Ml=0,mm=null,Qc=-1,Kc=0;function ir(){return 6&De?Dt():Qc!==-1?Qc:Qc=Dt()}function ns(l){return 1&l.mode?2&De&&Yt!==0?Yt&-Yt:$2.transition!==null?(Kc===0&&(Kc=C_()),Kc):(l=He)!==0?l:Xs():1}function tn(l,u,m,v){if(50<Ml)throw Ml=0,mm=null,Error(s(185));gl(l,m,v),2&De&&l===Gt||(l===Gt&&(!(2&De)&&(Vc|=m),Rt===4&&is(l,Yt)),Er(l,v),m===1&&De===0&&!(1&u.mode)&&(ta(),yc&&zn()))}function Er(l,u){var m=l.callbackNode;(function(x,T){for(var C=x.suspendedLanes,I=x.pingedLanes,B=x.expirationTimes,j=x.pendingLanes;0<j;){var Q=31-gn(j),ae=1<<Q,Y=B[Q];Y===-1?ae&C&&!(ae&I)||(B[Q]=B2(ae,T)):Y<=T&&(x.expiredLanes|=ae),j&=~ae}})(l,u);var v=mc(l,l===Gt?Yt:0);if(v===0)m!==null&&I_(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&I_(m),u===1)l.tag===0?function(x){yc=!0,k_(x)}(q1.bind(null,l)):k_(q1.bind(null,l)),zo?XP(function(){!(6&De)&&zn()}):xp(wp,zn),m=null;else{switch(P_(v)){case 1:m=wp;break;case 4:m=z2;break;case 16:default:m=R_;break;case 536870912:m=H2}m=nx(m,Y1.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function Y1(l,u){if(Qc=-1,Kc=0,(6&De)!=0)throw Error(s(327));var m=l.callbackNode;if(to()&&l.callbackNode!==m)return null;var v=mc(l,l===Gt?Yt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=Zc(l,v);else{u=v;var x=De;De|=2;var T=Z1();for(Gt===l&&Yt===u||(es=null,ta(),eo(l,u));;)try{oI();break}catch(I){K1(l,I)}Ip(),Wc.current=T,De=x,Ct!==null?u=0:(Gt=null,Yt=0,u=Rt)}if(u!==0){if(u===2&&(x=yp(l))!==0&&(v=x,u=gm(l,x)),u===1)throw m=Rl,eo(l,0),is(l,v),Er(l,Dt()),m;if(u===6)is(l,v);else{if(x=l.current.alternate,(30&v)==0&&!function(I){for(var B=I;;){if(16384&B.flags){var j=B.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var Q=0;Q<j.length;Q++){var ae=j[Q],Y=ae.getSnapshot;ae=ae.value;try{if(!yn(Y(),ae))return!1}catch{return!1}}}if(j=B.child,16384&B.subtreeFlags&&j!==null)j.return=B,B=j;else{if(B===I)break;for(;B.sibling===null;){if(B.return===null||B.return===I)return!0;B=B.return}B.sibling.return=B.return,B=B.sibling}}return!0}(x)&&((u=Zc(l,v))===2&&(T=yp(l))!==0&&(v=T,u=gm(l,T)),u===1))throw m=Rl,eo(l,0),is(l,v),Er(l,Dt()),m;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(s(345));case 2:case 5:ra(l,Lr,es);break;case 3:if(is(l,v),(130023424&v)===v&&10<(u=dm+500-Dt())){if(mc(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){ir(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=je(ra.bind(null,l,Lr,es),u);break}ra(l,Lr,es);break;case 4:if(is(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var C=31-gn(v);T=1<<C,(C=u[C])>x&&(x=C),v&=~T}if(v=x,10<(v=(120>(v=Dt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*iI(v/1960))-v)){l.timeoutHandle=je(ra.bind(null,l,Lr,es),v);break}ra(l,Lr,es);break;default:throw Error(s(329))}}}return Er(l,Dt()),l.callbackNode===m?Y1.bind(null,l):null}function gm(l,u){var m=kl;return l.current.memoizedState.isDehydrated&&(eo(l,u).flags|=256),(l=Zc(l,u))!==2&&(u=Lr,Lr=m,u!==null&&ym(u)),l}function ym(l){Lr===null?Lr=l:Lr.push.apply(Lr,l)}function is(l,u){for(u&=~hm,u&=~Vc,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-gn(u),v=1<<m;l[m]=-1,u&=~v}}function q1(l){if(6&De)throw Error(s(327));to();var u=mc(l,0);if(!(1&u))return Er(l,Dt()),null;var m=Zc(l,u);if(l.tag!==0&&m===2){var v=yp(l);v!==0&&(u=v,m=gm(l,v))}if(m===1)throw m=Rl,eo(l,0),is(l,u),Er(l,Dt()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ra(l,Lr,es),Er(l,Dt()),null}function Q1(l){rs!==null&&rs.tag===0&&!(6&De)&&to();var u=De;De|=1;var m=St.transition,v=He;try{if(St.transition=null,He=1,l)return l()}finally{He=v,St.transition=m,!(6&(De=u))&&zn()}}function vm(){Fr=ea.current,at(ea)}function eo(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Xt&&(l.timeoutHandle=Xt,Lt(m)),Ct!==null)for(m=Ct.return;m!==null;){var v=m;switch(Ep(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&pp();break;case 3:Ko(),at(wr),at(tr),Up();break;case 5:Dp(v);break;case 4:Ko();break;case 13:case 19:at(_t);break;case 10:Rp(v.type._context);break;case 22:case 23:vm()}m=m.return}if(Gt=l,Ct=l=ss(l.current,null),Yt=Fr=u,Rt=0,Rl=null,hm=Vc=Js=0,Lr=kl=null,Ks!==null){for(u=0;u<Ks.length;u++)if((v=(m=Ks[u]).interleaved)!==null){m.interleaved=null;var x=v.next,T=m.pending;if(T!==null){var C=T.next;T.next=x,v.next=C}m.pending=v}Ks=null}return l}function K1(l,u){for(;;){var m=Ct;try{if(Ip(),Ic.current=Nc,Rc){for(var v=dt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}Rc=!1}if(Zs=0,Ut=Bt=dt=null,wl=!1,bl=0,cm.current=null,m===null||m.return===null){Rt=1,Rl=u,Ct=null;break}e:{var T=l,C=m.return,I=m,B=u;if(u=Yt,I.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var j=B,Q=I,ae=Q.tag;if(!(1&Q.mode)&&(ae===0||ae===11||ae===15)){var Y=Q.alternate;Y?(Q.updateQueue=Y.updateQueue,Q.memoizedState=Y.memoizedState,Q.lanes=Y.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ie=x1(C);if(ie!==null){ie.flags&=-257,w1(ie,C,I,0,u),1&ie.mode&&_1(T,j,u),B=j;var pe=(u=ie).updateQueue;if(pe===null){var Re=new Set;Re.add(B),u.updateQueue=Re}else pe.add(B);break e}if(!(1&u)){_1(T,j,u),_m();break e}B=Error(s(426))}else if(lt&&1&I.mode){var K=x1(C);if(K!==null){!(65536&K.flags)&&(K.flags|=256),w1(K,C,I,0,u),Cp(Zo(B,I));break e}}T=B=Zo(B,I),Rt!==4&&(Rt=2),kl===null?kl=[T]:kl.push(T),T=C;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,G_(T,y1(0,B,u));break e;case 1:I=B;var F=T.type,H=T.stateNode;if(!(128&T.flags)&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ts===null||!ts.has(H)))){T.flags|=65536,u&=-u,T.lanes|=u,G_(T,v1(T,I,u));break e}}T=T.return}while(T!==null)}ex(m)}catch(re){u=re,Ct===m&&m!==null&&(Ct=m=m.return);continue}break}}function Z1(){var l=Wc.current;return Wc.current=Nc,l===null?Nc:l}function _m(){Rt!==0&&Rt!==3&&Rt!==2||(Rt=4),Gt===null||!(268435455&Js)&&!(268435455&Vc)||is(Gt,Yt)}function Zc(l,u){var m=De;De|=2;var v=Z1();for(Gt===l&&Yt===u||(es=null,eo(l,u));;)try{sI();break}catch(x){K1(l,x)}if(Ip(),De=m,Wc.current=v,Ct!==null)throw Error(s(261));return Gt=null,Yt=0,Rt}function sI(){for(;Ct!==null;)J1(Ct)}function oI(){for(;Ct!==null&&!U2();)J1(Ct)}function J1(l){var u=X1(l.alternate,l,Fr);l.memoizedProps=l.pendingProps,u===null?ex(l):Ct=u,cm.current=null}function ex(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=eI(m,u,Fr))!==null)return void(Ct=m)}else{if((m=tI(m,u))!==null)return m.flags&=32767,void(Ct=m);if(l===null)return Rt=6,void(Ct=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Ct=u);Ct=u=l}while(u!==null);Rt===0&&(Rt=5)}function ra(l,u,m){var v=He,x=St.transition;try{St.transition=null,He=1,function(T,C,I,B){do to();while(rs!==null);if(6&De)throw Error(s(327));I=T.finishedWork;var j=T.finishedLanes;if(I===null)return null;if(T.finishedWork=null,T.finishedLanes=0,I===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var Q=I.lanes|I.childLanes;if(function(ie,pe){var Re=ie.pendingLanes&~pe;ie.pendingLanes=pe,ie.suspendedLanes=0,ie.pingedLanes=0,ie.expiredLanes&=pe,ie.mutableReadLanes&=pe,ie.entangledLanes&=pe,pe=ie.entanglements;var K=ie.eventTimes;for(ie=ie.expirationTimes;0<Re;){var F=31-gn(Re),H=1<<F;pe[F]=0,K[F]=-1,ie[F]=-1,Re&=~H}}(T,Q),T===Gt&&(Ct=Gt=null,Yt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Yc||(Yc=!0,nx(R_,function(){return to(),null})),Q=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||Q){Q=St.transition,St.transition=null;var ae=He;He=1;var Y=De;De|=4,cm.current=null,function(ie,pe){for(X(ie.containerInfo),de=pe;de!==null;)if(pe=(ie=de).child,(1028&ie.subtreeFlags)!=0&&pe!==null)pe.return=ie,de=pe;else for(;de!==null;){ie=de;try{var Re=ie.alternate;if(1024&ie.flags)switch(ie.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Re!==null){var K=Re.memoizedProps,F=Re.memoizedState,H=ie.stateNode,re=H.getSnapshotBeforeUpdate(ie.elementType===ie.type?K:_n(ie.type,K),F);H.__reactInternalSnapshotBeforeUpdate=re}break;case 3:Me&&f2(ie.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(xe){ut(ie,ie.return,xe)}if((pe=ie.sibling)!==null){pe.return=ie.return,de=pe;break}de=ie.return}Re=L1,L1=!1}(T,I),z1(I,T),D(T.containerInfo),T.current=I,nI(I),G2(),De=Y,He=ae,St.transition=Q}else T.current=I;if(Yc&&(Yc=!1,rs=T,qc=j),Q=T.pendingLanes,Q===0&&(ts=null),function(ie){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(gc,ie,void 0,(128&ie.current.flags)==128)}catch{}}(I.stateNode),Er(T,Dt()),C!==null)for(B=T.onRecoverableError,I=0;I<C.length;I++)j=C[I],B(j.value,{componentStack:j.stack,digest:j.digest});if(Xc)throw Xc=!1,T=pm,pm=null,T;1&qc&&T.tag!==0&&to(),Q=T.pendingLanes,1&Q?T===mm?Ml++:(Ml=0,mm=T):Ml=0,zn()}(l,u,m,v)}finally{St.transition=x,He=v}return null}function to(){if(rs!==null){var l=P_(qc),u=St.transition,m=He;try{if(St.transition=null,He=16>l?16:l,rs===null)var v=!1;else{if(l=rs,rs=null,qc=0,(6&De)!=0)throw Error(s(331));var x=De;for(De|=4,de=l.current;de!==null;){var T=de,C=T.child;if(16&de.flags){var I=T.deletions;if(I!==null){for(var B=0;B<I.length;B++){var j=I[B];for(de=j;de!==null;){var Q=de;switch(Q.tag){case 0:case 11:case 15:Pl(8,Q,T)}var ae=Q.child;if(ae!==null)ae.return=Q,de=ae;else for(;de!==null;){var Y=(Q=de).sibling,ie=Q.return;if(D1(Q),Q===j){de=null;break}if(Y!==null){Y.return=ie,de=Y;break}de=ie}}}var pe=T.alternate;if(pe!==null){var Re=pe.child;if(Re!==null){pe.child=null;do{var K=Re.sibling;Re.sibling=null,Re=K}while(Re!==null)}}de=T}}if(2064&T.subtreeFlags&&C!==null)C.return=T,de=C;else e:for(;de!==null;){if(2048&(T=de).flags)switch(T.tag){case 0:case 11:case 15:Pl(9,T,T.return)}var F=T.sibling;if(F!==null){F.return=T.return,de=F;break e}de=T.return}}var H=l.current;for(de=H;de!==null;){var re=(C=de).child;if(2064&C.subtreeFlags&&re!==null)re.return=C,de=re;else e:for(C=H;de!==null;){if(2048&(I=de).flags)try{switch(I.tag){case 0:case 11:case 15:Uc(9,I)}}catch(Ve){ut(I,I.return,Ve)}if(I===C){de=null;break e}var xe=I.sibling;if(xe!==null){xe.return=I.return,de=xe;break e}de=I.return}}if(De=x,zn(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(gc,l)}catch{}v=!0}return v}finally{He=m,St.transition=u}}return!1}function tx(l,u,m){l=Ji(l,u=y1(0,u=Zo(m,u),1),1),u=ir(),l!==null&&(gl(l,1,u),Er(l,u))}function ut(l,u,m){if(l.tag===3)tx(l,l,m);else for(;u!==null;){if(u.tag===3){tx(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ts===null||!ts.has(v))){u=Ji(u,l=v1(u,l=Zo(m,l),1),1),l=ir(),u!==null&&(gl(u,1,l),Er(u,l));break}}u=u.return}}function aI(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=ir(),l.pingedLanes|=l.suspendedLanes&m,Gt===l&&(Yt&m)===m&&(Rt===4||Rt===3&&(130023424&Yt)===Yt&&500>Dt()-dm?eo(l,0):hm|=m),Er(l,u)}function rx(l,u){u===0&&(1&l.mode?(u=gp,!(130023424&(gp<<=1))&&(gp=4194304)):u=1);var m=ir();(l=$n(l,u))!==null&&(gl(l,u,m),Er(l,m))}function lI(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),rx(l,m)}function uI(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(m=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(s(314))}v!==null&&v.delete(u),rx(l,m)}function nx(l,u){return xp(l,u)}function cI(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(l,u,m,v){return new cI(l,u,m,v)}function xm(l){return!(!(l=l.prototype)||!l.isReactComponent)}function ss(l,u){var m=l.alternate;return m===null?((m=rn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Jc(l,u,m,v,x,T){var C=2;if(v=l,typeof l=="function")xm(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case d:return ro(m.children,x,T,u);case p:C=8,x|=8;break;case h:return(l=rn(12,m,u,2|x)).elementType=h,l.lanes=T,l;case w:return(l=rn(13,m,u,x)).elementType=w,l.lanes=T,l;case E:return(l=rn(19,m,u,x)).elementType=E,l.lanes=T,l;case S:return eh(m,x,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case f:C=10;break e;case g:C=9;break e;case y:C=11;break e;case _:C=14;break e;case b:C=16,v=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=rn(C,m,u,x)).elementType=l,u.type=v,u.lanes=T,u}function ro(l,u,m,v){return(l=rn(7,l,v,u)).lanes=m,l}function eh(l,u,m,v){return(l=rn(22,l,v,u)).elementType=S,l.lanes=m,l.stateNode={isHidden:!1},l}function wm(l,u,m){return(l=rn(6,l,null,u)).lanes=m,l}function bm(l,u,m){return(u=rn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function hI(l,u,m,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=v,this.onRecoverableError=x,ze&&(this.mutableSourceEagerHydrationData=null)}function ix(l,u,m,v,x,T,C,I,B){return l=new hI(l,u,m,I,B),u===1?(u=1,T===!0&&(u|=8)):u=0,T=rn(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(T),l}function sx(l){if(!l)return Ki;e:{if(R(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Nr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if(Nr(m))return T_(l,m,u)}return u}function ox(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=q(u))===null?null:l.stateNode}function ax(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function th(l,u){ax(l,u),(l=l.alternate)&&ax(l,u)}function dI(l){return(l=q(l))===null?null:l.stateNode}function fI(){return null}return X1=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||wr.current)br=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return br=!1,function(ae,Y,ie){switch(Y.tag){case 3:P1(Y),Vo();break;case 5:q_(Y);break;case 1:Nr(Y.type)&&pc(Y);break;case 4:Lp(Y,Y.stateNode.containerInfo);break;case 10:D_(0,Y.type._context,Y.memoizedProps.value);break;case 13:var pe=Y.memoizedState;if(pe!==null)return pe.dehydrated!==null?(Ze(_t,1&_t.current),Y.flags|=128,null):ie&Y.child.childLanes?R1(ae,Y,ie):(Ze(_t,1&_t.current),(ae=Ei(ae,Y,ie))!==null?ae.sibling:null);Ze(_t,1&_t.current);break;case 19:if(pe=(ie&Y.childLanes)!=0,(128&ae.flags)!=0){if(pe)return M1(ae,Y,ie);Y.flags|=128}var Re=Y.memoizedState;if(Re!==null&&(Re.rendering=null,Re.tail=null,Re.lastEffect=null),Ze(_t,_t.current),pe)break;return null;case 22:case 23:return Y.lanes=0,T1(ae,Y,ie)}return Ei(ae,Y,ie)}(l,u,m);br=(131072&l.flags)!=0}else br=!1,lt&&1048576&u.flags&&M_(u,_c,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Dc(l,u),l=u.pendingProps;var x=$o(u,tr.current);Yo(u,m),x=Hp(null,u,v,l,x,m);var T=$p();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Nr(v)?(T=!0,pc(u)):T=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Np(u),x.updater=Ac,u.stateNode=x,x._reactInternals=u,Fp(u,v,l,m),u=Kp(null,u,v,!0,T,m)):(u.tag=0,lt&&T&&Sp(u),Sr(null,u,x,m),u=u.child),u;case 16:v=u.elementType;e:{switch(Dc(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=function(ae){if(typeof ae=="function")return xm(ae)?1:0;if(ae!=null){if((ae=ae.$$typeof)===y)return 11;if(ae===_)return 14}return 2}(v),l=_n(v,l),x){case 0:u=Qp(null,u,v,l,m);break e;case 1:u=C1(null,u,v,l,m);break e;case 11:u=b1(null,u,v,l,m);break e;case 14:u=S1(null,u,v,_n(v.type,l),m);break e}throw Error(s(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,Qp(l,u,v,x=u.elementType===v?x:_n(v,x),m);case 1:return v=u.type,x=u.pendingProps,C1(l,u,v,x=u.elementType===v?x:_n(v,x),m);case 3:e:{if(P1(u),l===null)throw Error(s(387));v=u.pendingProps,x=(T=u.memoizedState).element,U_(l,u),Tc(u,v,null,m);var C=u.memoizedState;if(v=C.element,ze&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=I1(l,u,v,m,x=Zo(Error(s(423)),u));break e}if(v!==x){u=I1(l,u,v,m,x=Zo(Error(s(424)),u));break e}for(ze&&(Kr=b2(u.stateNode.containerInfo),Or=u,lt=!0,vn=null,yl=!1),m=Y_(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Vo(),v===x){u=Ei(l,u,m);break e}Sr(l,u,v,m)}u=u.child}return u;case 5:return q_(u),l===null&&Ap(u),v=u.type,x=u.pendingProps,T=l!==null?l.memoizedProps:null,C=x.children,We(v,x)?C=null:T!==null&&We(v,T)&&(u.flags|=32),A1(l,u),Sr(l,u,C,m),u.child;case 6:return l===null&&Ap(u),null;case 13:return R1(l,u,m);case 4:return Lp(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=qo(u,null,v,m):Sr(l,u,v,m),u.child;case 11:return v=u.type,x=u.pendingProps,b1(l,u,v,x=u.elementType===v?x:_n(v,x),m);case 7:return Sr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Sr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,T=u.memoizedProps,D_(0,v,C=x.value),T!==null)if(yn(T.value,C)){if(T.children===x.children&&!wr.current){u=Ei(l,u,m);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var I=T.dependencies;if(I!==null){C=T.child;for(var B=I.firstContext;B!==null;){if(B.context===v){if(T.tag===1){(B=Si(-1,m&-m)).tag=2;var j=T.updateQueue;if(j!==null){var Q=(j=j.shared).pending;Q===null?B.next=B:(B.next=Q.next,Q.next=B),j.pending=B}}T.lanes|=m,(B=T.alternate)!==null&&(B.lanes|=m),kp(T.return,m,u),I.lanes|=m;break}B=B.next}}else if(T.tag===10)C=T.type===u.type?null:T.child;else if(T.tag===18){if((C=T.return)===null)throw Error(s(341));C.lanes|=m,(I=C.alternate)!==null&&(I.lanes|=m),kp(C,m,u),C=T.sibling}else C=T.child;if(C!==null)C.return=T;else for(C=T;C!==null;){if(C===u){C=null;break}if((T=C.sibling)!==null){T.return=C.return,C=T;break}C=C.return}T=C}Sr(l,u,x.children,m),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,Yo(u,m),v=v(x=Zr(x)),u.flags|=1,Sr(l,u,v,m),u.child;case 14:return x=_n(v=u.type,u.pendingProps),S1(l,u,v,x=_n(v.type,x),m);case 15:return E1(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:_n(v,x),Dc(l,u),u.tag=1,Nr(v)?(l=!0,pc(u)):l=!1,Yo(u,m),j_(u,v,x),Fp(u,v,x,m),Kp(null,u,v,!0,l,m);case 19:return M1(l,u,m);case 22:return T1(l,u,m)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=$n(l,134217728);u!==null&&tn(u,l,134217728,ir()),th(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=$n(l,1);u!==null&&tn(u,l,1,ir()),th(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=ns(l),m=$n(l,u);m!==null&&tn(m,l,u,ir()),th(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=ml(u.pendingLanes);m!==0&&(_p(u,1|m),Er(u,Dt()),!(6&De)&&(ta(),zn()))}break;case 13:Q1(function(){var v=$n(l,1);if(v!==null){var x=ir();tn(v,l,1,x)}}),th(l,1)}},e.batchedUpdates=function(l,u){var m=De;De|=1;try{return l(u)}finally{(De=m)===0&&(ta(),yc&&zn())}},e.createComponentSelector=function(l){return{$$typeof:Gc,value:l}},e.createContainer=function(l,u,m,v,x,T,C){return ix(l,u,!1,null,0,v,0,T,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:zc,value:l}},e.createHydrationContainer=function(l,u,m,v,x,T,C,I,B){return(l=ix(m,v,!0,l,0,T,0,I,B)).context=sx(null),m=l.current,(T=Si(v=ir(),x=ns(m))).callback=u??null,Ji(m,T,x),l.current.lanes=x,gl(l,x,v),Er(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Hc,value:l}},e.createTestNameSelector=function(l){return{$$typeof:$c,value:l}},e.createTextSelector=function(l){return{$$typeof:jc,value:l}},e.deferredUpdates=function(l){var u=He,m=St.transition;try{return St.transition=null,He=16,l()}finally{He=u,St.transition=m}},e.discreteUpdates=function(l,u,m,v,x){var T=He,C=St.transition;try{return St.transition=null,He=1,l(u,m,v,x)}finally{He=T,St.transition=C,De===0&&ta()}},e.findAllNodes=um,e.findBoundingRects=function(l,u){if(!dl)throw Error(s(363));u=um(l,u),l=[];for(var m=0;m<u.length;m++)l.push(qP(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,x=v+m.width,T=m.y,C=T+m.height,I=u-1;0<=I;I--)if(u!==I){var B=l[I],j=B.x,Q=j+B.width,ae=B.y,Y=ae+B.height;if(v>=j&&T>=ae&&x<=Q&&C<=Y){l.splice(u,1);break}if(!(v!==j||m.width!==B.width||Y<T||ae>C)){ae>T&&(B.height+=ae-T,B.y=T),Y<C&&(B.height=C-ae),l.splice(u,1);break}if(!(T!==ae||m.height!==B.height||Q<v||j>x)){j>v&&(B.width+=j-v,B.x=v),Q<x&&(B.width=x-j),l.splice(u,1);break}}return l},e.findHostInstance=ox,e.findHostInstanceWithNoPortals=function(l){return(l=(l=W(l))!==null?L(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return ox(l)},e.flushControlled=function(l){var u=De;De|=1;var m=St.transition,v=He;try{St.transition=null,He=1,l()}finally{He=v,St.transition=m,(De=u)===0&&(ta(),zn())}},e.flushPassiveEffects=to,e.flushSync=Q1,e.focusWithin=function(l,u){if(!dl)throw Error(s(363));for(u=V1(l=om(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!fl(m)){if(m.tag===5&&ZP(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return He},e.getFindAllNodesFailureDescription=function(l,u){if(!dl)throw Error(s(363));var m=0,v=[];l=[om(l),0];for(var x=0;x<l.length;){var T=l[x++],C=l[x++],I=u[C];if((T.tag!==5||!fl(T))&&(am(T,I)&&(v.push(lm(I)),++C>m&&(m=C)),C<u.length))for(T=T.child;T!==null;)l.push(T,C),T=T.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(lm(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?ee(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:dI,findFiberByHostInstance:l.findFiberByHostInstance||fI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{gc=u.inject(l),Gn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!dl)throw Error(s(363));l=um(l,u);var x=JP(l,m,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=He;try{return He=l,u()}finally{He=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var x=u.current,T=ir(),C=ns(x);return m=sx(m),u.context===null?u.context=m:u.pendingContext=m,(u=Si(T,C)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=Ji(x,u,C))!==null&&(tn(l,x,C,T),Ec(l,x,C)),C},e}),cS}({get exports(){return Ly},set exports(t){Ly=t}}).exports=j5();var W5=y5(Ly),EP={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},By={},Wh={get exports(){return By},set exports(t){By=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Wh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Wh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Wh.exports=function(){return Date.now()-r},r=Date.now()):(Wh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(g5);var fS,Oa={},so={};({get exports(){return Oa},set exports(t){Oa=t}}).exports=(fS||(fS=1,so.ConcurrentRoot=1,so.ContinuousEventPriority=4,so.DefaultEventPriority=16,so.DiscreteEventPriority=1,so.IdleEventPriority=536870912,so.LegacyRoot=0),so);var V5={};function Dg(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function TP(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Yi(t.children).forEach(function(s){TP(s,t)})}function pS(t,e){var r;TP(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,d=c!==void 0&&c,p=n.destroyBaseTexture,h=p!==void 0&&p;s&&e.destroy({children:a,texture:d,baseTexture:h})}function mS(t,e,r){bt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var gS=null,Mn=W5({getRootHostContext:function(){return V5},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Oa.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Oa.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Oa.ContinuousEventPriority;default:return Oa.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=G5[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=SP[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:gi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return gS=function(o,a,c,d){var p=null;for(var h in c)!d.hasOwnProperty(h)&&c.hasOwnProperty(h)&&c[h]!==null&&(h===Oy||(p||(p=[]),p.push(h,null)));for(var f in d){var g=d[f],y=c!==null?c[f]:void 0;!d.hasOwnProperty(f)||g===y||g===null&&y===null||f===Oy||(p||(p=[]),p.push(f,g))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){bt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:By,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=pS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=pS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:mS,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=mS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=gi),(a(t,n,i)||gS)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),X5=EP.dependencies["react-dom"].replace(/[^0-9.]/g,""),Y5=EP.name;Mn.injectIntoDevTools({bundleType:0,version:X5,rendererPackageName:Y5,findHostInstanceByFiber:Mn.findHostInstance});var Ns=new Map;function AP(t){if(bt(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Ns.has(t)){var e=Ns.get(t).pixiFiberContainer;Mn.updateContainer(null,e,void 0,function(){Ns.delete(t)})}}function CP(t){bt(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Ns.get(t);if(bt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Mn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Mn.updateContainer(n,r,void 0),Mn.getPublicRootInstance(r)},unmount:function(){AP(t),Ns.delete(t)}}},Ns.set(t,e)}return e.reactRoot}function q5(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ns.has(e)?n=Ns.get(e).reactRoot:n=CP(e),n.render(t)}function Q5(t){AP(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function K5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xP(n.key),n)}}function Ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mf(t,e){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mf(t,e)}function J5(t,e){if(e&&($r(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ii(t)}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gf(t)}var ip=Ui.createContext(null),PP=ip.Provider,IP=ip.Consumer,eU=function(t){var e=Ui.forwardRef(function(r,n){return Ui.createElement(IP,null,function(i){return Ui.createElement(t,ec({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function tU(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=gf(t);if(e){var i=gf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return J5(this,r)}}function yS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vS=function(){},RP={width:it.number,height:it.number,onMount:it.func,onUnmount:it.func,raf:it.bool,renderOnComponentChange:it.bool,children:it.node,options:it.shape({autoStart:it.bool,width:it.number,height:it.number,useContextAlpha:it.bool,backgroundAlpha:it.number,autoDensity:it.bool,antialias:it.bool,preserveDrawingBuffer:it.bool,resolution:it.number,forceCanvas:it.bool,backgroundColor:it.number,clearBeforeRender:it.bool,powerPreference:it.string,sharedTicker:it.bool,sharedLoader:it.bool,resizeTo:function(t,e){var r=t[e];r&&bt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat($r(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&bt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat($r(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},rU={width:800,height:600,onMount:vS,onUnmount:vS,raf:!0,renderOnComponentChange:!0},Uy=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&mf(s,o)})(i,Ui.Component);var e,r,n=tU(i);function i(){var s;K5(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Et(Ii(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Et(Ii(s),"_mediaQuery",null),Et(Ii(s),"_ticker",null),Et(Ii(s),"_needsUpdate",!0),Et(Ii(s),"app",null),Et(Ii(s),"updateSize",function(){var d=s.props,p=d.width,h=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,h)}),Et(Ii(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Et(Ii(s),"renderStage",function(){var d=s.props,p=d.renderOnComponentChange;!d.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,d=s.options,p=s.raf,h=s.renderOnComponentChange;this.app=new Mf(Vh(Vh({width:a,height:c,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Mn.createContainer(this.app.stage),Mn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),h&&!p&&(this._ticker=new Wt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,d=this.props,p=d.width,h=d.height,f=d.raf,g=d.renderOnComponentChange,y=d.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===h&&s.width===p&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),Mn.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===h&&s.raf===f&&s.renderOnComponentChange===g&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Ui.createElement(PP,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Mn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(bt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Ui.createElement("canvas",ec({},(s=this.props,o=[].concat(Yi(Object.keys(RP)),Yi(Object.keys(Fy))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,p){return Vh(Vh({},d),{},Et({},p,s[p]))},{})),{ref:function(d){return a._canvas=d}}))}}])&&Z5(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Uy.propTypes=RP,Uy.defaultProps=rU;var nU=Uy;function kP(){var t=G.useContext(ip);return bt(t instanceof Mf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function iU(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=kP();bt(typeof t=="function","`useTick` needs a callback function."),bt(r instanceof Mf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=G.useRef(null);G.useEffect(function(){n.current=t},[t]),G.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function sU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gy(t,e,r){return Gy=sU()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&mf(a,s.prototype),a},Gy.apply(null,arguments)}var oU=["children","apply"];function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aU=function(t,e){bt($r(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Vs(i,oU),c=G.useRef(G.useMemo(function(){return r.map(function(h){var f,g=(a==null||(f=a[h])===null||f===void 0?void 0:f.construct)||[];return Gy(e[h],Yi(g))})},[r])),d=G.useMemo(function(){return r.reduce(function(h,f,g){return Xh(Xh({},h),{},Et({},f,c.current[g]))},{})},[r]),p=G.useMemo(function(){return Object.keys(a).filter(bP(wP(r))).reduce(function(h,f){return Xh(Xh({},h),{},Et({},f,a[f]))},{})},[a,r]);return r.forEach(function(h,f){return Object.assign(c.current[f],a[h])}),o&&function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return f.every(function(y){return typeof y=="function"})}(o)&&o.call(t,d),Ui.createElement(t,ec({},p,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:it.node,apply:it.func},n},lU=Mr.BitmapText,uU=Mr.Container,cU=Mr.Graphics,hU=Mr.NineSlicePlane,dU=Mr.ParticleContainer,fU=Mr.Sprite,pU=Mr.AnimatedSprite,mU=Mr.Text,gU=Mr.TilingSprite,yU=Mr.SimpleMesh,vU=Mr.SimpleRope;const _U=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:pU,AppConsumer:IP,AppContext:ip,AppProvider:PP,BitmapText:lU,Container:uU,Graphics:cU,NineSlicePlane:hU,ParticleContainer:dU,PixiComponent:z5,PixiFiber:Mn,SimpleMesh:yU,SimpleRope:vU,Sprite:fU,Stage:nU,TYPES:Mr,Text:mU,TilingSprite:gU,applyDefaultProps:gi,createRoot:CP,eventHandlers:pf,render:q5,unmountComponentAtNode:Q5,useApp:kP,useTick:iU,withFilters:aU,withPixiApp:eU},Symbol.toStringTag,{value:"Module"})),xU=TS(_U);np.exports=xU;var dr=np.exports,Eu={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Eu.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?Eu.Bounce.In(t*2)*.5:Eu.Bounce.Out(t*2-1)*.5+.5}}},ou;typeof self>"u"&&typeof process<"u"&&process.hrtime?ou=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?ou=self.performance.now.bind(self.performance):Date.now!==void 0?ou=Date.now:ou=function(){return new Date().getTime()};var ya=ou,wU=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=ya()),r===void 0&&(r=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!r;s&&s.update(e,o)===!1&&!r&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),au={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=au.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[r],t[r-1],r-n):s(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,s=au.Utils.Bernstein,o=0;o<=n;o++)r+=i(1-e,n-o)*i(e,o)*t[o]*s(n,o);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=au.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),s(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):s(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=au.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var n=e;n>1;n--)r*=n;return t[e]=r,r}}(),CatmullRom:function(t,e,r,n,i){var s=(r-t)*.5,o=(n-e)*.5,a=i*i,c=i*a;return(2*e-2*r+s+o)*c+(-3*e+3*r-2*s-o)*a+s*i+e}}},bU=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),MP=new wU,NP=function(){function t(e,r){r===void 0&&(r=MP),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Eu.Linear.None,this._interpolationFunction=au.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=bU.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?ya()+parseFloat(e):e:ya(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,r,n,i){for(var s in n){var o=e[s],a=Array.isArray(o),c=a?"array":typeof o,d=!a&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(d){var p=n[s];if(p.length===0)continue;p=p.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(p)}if((c==="object"||a)&&o&&!d){r[s]=a?[]:{};for(var h in o)r[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,r[s],n[s],i[s])}else typeof r[s]>"u"&&(r[s]=o),a||(r[s]*=1),d?i[s]=n[s].slice().reverse():i[s]=r[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ya()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ya()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=ya()),r===void 0&&(r=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,n,i){for(var s in n)if(r[s]!==void 0){var o=r[s]||0,a=n[s],c=Array.isArray(e[s]),d=Array.isArray(a),p=!c&&d;p?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}(),yi=MP;yi.getAll.bind(yi);yi.removeAll.bind(yi);yi.add.bind(yi);yi.remove.bind(yi);var SU=yi.update.bind(yi);function zy(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Bg=function(){return Math.random().toString(36).substring(7).split("").join(".")},xS={INIT:"@@redux/INIT"+Bg(),REPLACE:"@@redux/REPLACE"+Bg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Bg()}};function EU(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:xS.INIT});if(typeof n>"u")throw new Error(zy(12));if(typeof r(void 0,{type:xS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zy(13))})}function TU(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{EU(r)}catch(a){o=a}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var p=!1,h={},f=0;f<s.length;f++){var g=s[f],y=r[g],w=c[g],E=y(w,d);if(typeof E>"u")throw d&&d.type,new Error(zy(14));h[g]=E,p=p||E!==w}return p=p||s.length!==Object.keys(c).length,p?h:c}}const AU=(t={},e)=>{switch(e.type){case kD:return{};case WT:const r=e.value;return{...t,loggingIn:!0,memberName:r.name,isTestAccount:r.test,balance:r.balance,currency:r.currency};case VT:return{...t,balance:e.value.balance};default:return t}},CU={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,balance:new Ue(0)}};function PU(t){return{type:WT,value:t}}function IU(t){return{type:VT,value:{balance:new Ue(t)}}}const Hy="",RU=(t={},e)=>{switch(e.type){case JT:let r=t.status;return t.status=="idle"?r="spin":t.status=="stopping"&&(r="idle"),{...t,status:r};case eA:return{...t,spinModel:e.value};case tA:return{...t,status:"stopping",spinModel:e.value};case rA:return{...t,status:"idle"};case nA:return{...t,betAmount:e.value};case iA:return{...t,betLevel:e.value};case sA:return{...t,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit};case DD:{let n=t.autoSpinCount;return n!=Hy&&--n,{...t,status:"spin",autoSpinCount:n}}case BD:return{...t,autoSpinCount:0};case oA:return{...t,speedModel:e.value};case aA:return{...t,lineBetsModel:e.value};default:return t}},kU={spin:{betLevel:new Ue(1),status:"idle",autoSpinCount:0,lineBetsModel:null,betAmount:new Ue(.01),speedModel:"normal",stopAutoSpinLimit:{totalBetTimes:new Ue(0),signleWin:new Ue(0),balanceTo:new Ue(0)}}};function MU(){return{type:JT}}function NU(t){return{type:eA,value:t}}function OU(t){return{type:tA,value:t}}function FU(){return{type:rA}}function Tu(t){return{type:nA,value:new Ue(t)}}function LU(t){return{type:iA,value:new Ue(t)}}function wS(t,e,r,n){return{type:sA,value:{autoSpinCount:t,stopAutoSpinLimit:{totalBetTimes:e==Hy?Hy:new Ue(e),signleWin:new Ue(r),balanceTo:new Ue(n)}}}}function DU(t){return{type:oA,value:t}}function BU(t){return{type:aA,value:t}}const UU=(t={},e)=>{let r=[].concat(t.scenes);switch(e.type){case UD:return r.push(e.value),{...t,scenes:r};case GD:return r.pop(),{...t,scenes:r};case lA:return r.pop(),r.push(e.value),{...t,scenes:r};case zD:return{...t};case uA:return{...t,assetsLoadingProgress:e.value};default:return t}},GU={sceneManager:{scenes:["preload"],assetsLoadingProgress:0}};function p_(t){return{type:lA,value:t}}function $y(t){return{type:uA,value:t}}function zU(){let t=Nl("user")||AU,e=Nl("setting")||HD,r=Nl("spin")||RU,n=Nl("scene")||UU,i=Nl("reducers");return TU({user:t,setting:e,spin:r,sceneManager:n,...i})}function Yh(t,e={},r){const n=Object.assign(t[r],e[r]||{});return t[r]=n,t}function HU(){let t=Yh(CU,va("user"),"user"),e=Yh($D,va("setting"),"setting"),r=Yh(kU,va("spin"),"spin"),n=Yh(GU,va("scene"),"sceneManager");return HI(t,e,r,n)}var jy={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var h=this||r;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var f=this||r;if(h=parseFloat(h),f.ctx||p(),typeof h<"u"&&h>=0&&h<=1){if(f._volume=h,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),w=0;w<y.length;w++){var E=f._howls[g]._soundById(y[w]);E&&E._node&&(E._node.volume=E._volume*h)}return f}return f._volume},mute:function(h){var f=this||r;f.ctx||p(),f._muted=h,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h?0:f._volume,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),w=0;w<y.length;w++){var E=f._howls[g]._soundById(y[w]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return f},stop:function(){for(var h=this||r,f=0;f<h._howls.length;f++)h._howls[f].stop();return h},unload:function(){for(var h=this||r,f=h._howls.length-1;f>=0;f--)h._howls[f].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,p()),h},codecs:function(h){return(this||r)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||r;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var f=new Audio;f.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return h}if(!f||typeof f.canPlayType!="function")return h;var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),y=h._navigator?h._navigator.userAgent:"",w=y.match(/OPR\/(\d+)/g),E=w&&parseInt(w[0].split("/")[1],10)<33,_=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,b=y.match(/Version\/(.*?) /),S=_&&b&&parseInt(b[1],10)<15;return h._codecs={mp3:!!(!E&&(g||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||r;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var f=function(g){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,h._releaseHtml5Audio(y)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var E=h._howls[w]._getSoundIds(),_=0;_<E.length;_++){var b=h._howls[w]._soundById(E[_]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}h._autoResume();var S=h.ctx.createBufferSource();S.buffer=h._scratchBuffer,S.connect(h.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),S.onended=function(){S.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<h._howls.length;A++)h._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),h}},_obtainHtml5Audio:function(){var h=this||r;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var f=this||r;return h._unlocked&&f._html5AudioPool.push(h),f},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<h._howls.length;f++)if(h._howls[f]._webAudio){for(var g=0;g<h._howls[f]._sounds.length;g++)if(!h._howls[f]._sounds[g]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var y=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(y,y)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!r.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var f=0;f<h._howls.length;f++)h._howls[f]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var r=new e,n=function(h){var f=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(h)};n.prototype={init:function(h){var f=this;return r.ctx||p(),f._autoplay=h.autoplay||!1,f._format=typeof h.format!="string"?h.format:[h.format],f._html5=h.html5||!1,f._muted=h.mute||!1,f._loop=h.loop||!1,f._pool=h.pool||5,f._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,f._rate=h.rate||1,f._sprite=h.sprite||{},f._src=typeof h.src!="string"?h.src:[h.src],f._volume=h.volume!==void 0?h.volume:1,f._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=h.onend?[{fn:h.onend}]:[],f._onfade=h.onfade?[{fn:h.onfade}]:[],f._onload=h.onload?[{fn:h.onload}]:[],f._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],f._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],f._onpause=h.onpause?[{fn:h.onpause}]:[],f._onplay=h.onplay?[{fn:h.onplay}]:[],f._onstop=h.onstop?[{fn:h.onstop}]:[],f._onmute=h.onmute?[{fn:h.onmute}]:[],f._onvolume=h.onvolume?[{fn:h.onvolume}]:[],f._onrate=h.onrate?[{fn:h.onrate}]:[],f._onseek=h.onseek?[{fn:h.onseek}]:[],f._onunlock=h.onunlock?[{fn:h.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var h=this,f=null;if(r.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var g=0;g<h._src.length;g++){var y,w;if(h._format&&h._format[g])y=h._format[g];else{if(w=h._src[g],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(w),y||(y=/\.([^.]+)$/.exec(w.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&r.codecs(y)){f=h._src[g];break}}if(!f){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=f,h._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new i(h),h._webAudio&&o(h),h},play:function(h,f){var g=this,y=null;if(typeof h=="number")y=h,h=null;else{if(typeof h=="string"&&g._state==="loaded"&&!g._sprite[h])return null;if(typeof h>"u"&&(h="__default",!g._playLock)){for(var w=0,E=0;E<g._sounds.length;E++)g._sounds[E]._paused&&!g._sounds[E]._ended&&(w++,y=g._sounds[E]._id);w===1?h=null:y=null}}var _=y?g._soundById(y):g._inactiveSound();if(!_)return null;if(y&&!h&&(h=_._sprite||"__default"),g._state!=="loaded"){_._sprite=h,_._ended=!1;var b=_._id;return g._queue.push({event:"play",action:function(){g.play(b)}}),b}if(y&&!_._paused)return f||g._loadQueue("play"),_._id;g._webAudio&&r._autoResume();var S=Math.max(0,_._seek>0?_._seek:g._sprite[h][0]/1e3),A=Math.max(0,(g._sprite[h][0]+g._sprite[h][1])/1e3-S),P=A*1e3/Math.abs(_._rate),N=g._sprite[h][0]/1e3,k=(g._sprite[h][0]+g._sprite[h][1])/1e3;_._sprite=h,_._ended=!1;var R=function(){_._paused=!1,_._seek=S,_._start=N,_._stop=k,_._loop=!!(_._loop||g._sprite[h][2])};if(S>=k){g._ended(_);return}var U=_._node;if(g._webAudio){var W=function(){g._playLock=!1,R(),g._refreshBuffer(_);var V=_._muted||g._muted?0:_._volume;U.gain.setValueAtTime(V,r.ctx.currentTime),_._playStart=r.ctx.currentTime,typeof U.bufferSource.start>"u"?_._loop?U.bufferSource.noteGrainOn(0,S,86400):U.bufferSource.noteGrainOn(0,S,A):_._loop?U.bufferSource.start(0,S,86400):U.bufferSource.start(0,S,A),P!==1/0&&(g._endTimers[_._id]=setTimeout(g._ended.bind(g,_),P)),f||setTimeout(function(){g._emit("play",_._id),g._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?W():(g._playLock=!0,g.once("resume",W),g._clearTimer(_._id))}else{var q=function(){U.currentTime=S,U.muted=_._muted||g._muted||r._muted||U.muted,U.volume=_._volume*r.volume(),U.playbackRate=_._rate;try{var V=U.play();if(V&&typeof Promise<"u"&&(V instanceof Promise||typeof V.then=="function")?(g._playLock=!0,R(),V.then(function(){g._playLock=!1,U._unlocked=!0,f?g._loadQueue():g._emit("play",_._id)}).catch(function(){g._playLock=!1,g._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):f||(g._playLock=!1,R(),g._emit("play",_._id)),U.playbackRate=_._rate,U.paused){g._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||_._loop?g._endTimers[_._id]=setTimeout(g._ended.bind(g,_),P):(g._endTimers[_._id]=function(){g._ended(_),U.removeEventListener("ended",g._endTimers[_._id],!1)},U.addEventListener("ended",g._endTimers[_._id],!1))}catch(J){g._emit("playerror",_._id,J)}};U.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(U.src=g._src,U.load());var $=window&&window.ejecta||!U.readyState&&r._navigator.isCocoonJS;if(U.readyState>=3||$)q();else{g._playLock=!0,g._state="loading";var L=function(){g._state="loaded",q(),U.removeEventListener(r._canPlayEvent,L,!1)};U.addEventListener(r._canPlayEvent,L,!1),g._clearTimer(_._id)}}return _._id},pause:function(h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(h)}}),f;for(var g=f._getSoundIds(h),y=0;y<g.length;y++){f._clearTimer(g[y]);var w=f._soundById(g[y]);if(w&&!w._paused&&(w._seek=f.seek(g[y]),w._rateSeek=0,w._paused=!0,f._stopFade(g[y]),w._node))if(f._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||f._emit("pause",w?w._id:null)}return f},stop:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(h)}}),g;for(var y=g._getSoundIds(h),w=0;w<y.length;w++){g._clearTimer(y[w]);var E=g._soundById(y[w]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,g._stopFade(y[w]),E._node&&(g._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),g._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&g._clearSound(E._node))),f||g._emit("stop",E._id))}return g},mute:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(h,f)}}),g;if(typeof f>"u")if(typeof h=="boolean")g._muted=h;else return g._muted;for(var y=g._getSoundIds(f),w=0;w<y.length;w++){var E=g._soundById(y[w]);E&&(E._muted=h,E._interval&&g._stopFade(E._id),g._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,r.ctx.currentTime):E._node&&(E._node.muted=r._muted?!0:h),g._emit("mute",E._id))}return g},volume:function(){var h=this,f=arguments,g,y;if(f.length===0)return h._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length>=2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var _;if(typeof g<"u"&&g>=0&&g<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,f)}}),h;typeof y>"u"&&(h._volume=g),y=h._getSoundIds(y);for(var b=0;b<y.length;b++)_=h._soundById(y[b]),_&&(_._volume=g,f[2]||h._stopFade(y[b]),h._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(g,r.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=g*r.volume()),h._emit("volume",_._id))}else return _=y?h._soundById(y):h._sounds[0],_?_._volume:0;return h},fade:function(h,f,g,y){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,f,g,y)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),w.volume(h,y);for(var E=w._getSoundIds(y),_=0;_<E.length;_++){var b=w._soundById(E[_]);if(b){if(y||w._stopFade(E[_]),w._webAudio&&!b._muted){var S=r.ctx.currentTime,A=S+g/1e3;b._volume=h,b._node.gain.setValueAtTime(h,S),b._node.gain.linearRampToValueAtTime(f,A)}w._startFadeInterval(b,h,f,g,E[_],typeof y>"u")}}return w},_startFadeInterval:function(h,f,g,y,w,E){var _=this,b=f,S=g-f,A=Math.abs(S/.01),P=Math.max(4,A>0?y/A:y),N=Date.now();h._fadeTo=g,h._interval=setInterval(function(){var k=(Date.now()-N)/y;N=Date.now(),b+=S*k,b=Math.round(b*100)/100,S<0?b=Math.max(g,b):b=Math.min(g,b),_._webAudio?h._volume=b:_.volume(b,h._id,!0),E&&(_._volume=b),(g<f&&b<=g||g>f&&b>=g)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,_.volume(g,h._id),_._emit("fade",h._id))},P)},_stopFade:function(h){var f=this,g=f._soundById(h);return g&&g._interval&&(f._webAudio&&g._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(g._interval),g._interval=null,f.volume(g._fadeTo,h),g._fadeTo=null,f._emit("fade",h)),f},loop:function(){var h=this,f=arguments,g,y,w;if(f.length===0)return h._loop;if(f.length===1)if(typeof f[0]=="boolean")g=f[0],h._loop=g;else return w=h._soundById(parseInt(f[0],10)),w?w._loop:!1;else f.length===2&&(g=f[0],y=parseInt(f[1],10));for(var E=h._getSoundIds(y),_=0;_<E.length;_++)w=h._soundById(E[_]),w&&(w._loop=g,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=g,g&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(E[_])&&(h.pause(E[_],!0),h.play(E[_],!0)))));return h},rate:function(){var h=this,f=arguments,g,y;if(f.length===0)y=h._sounds[0]._id;else if(f.length===1){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var _;if(typeof g=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,f)}}),h;typeof y>"u"&&(h._rate=g),y=h._getSoundIds(y);for(var b=0;b<y.length;b++)if(_=h._soundById(y[b]),_){h.playing(y[b])&&(_._rateSeek=h.seek(y[b]),_._playStart=h._webAudio?r.ctx.currentTime:_._playStart),_._rate=g,h._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(g,r.ctx.currentTime):_._node&&(_._node.playbackRate=g);var S=h.seek(y[b]),A=(h._sprite[_._sprite][0]+h._sprite[_._sprite][1])/1e3-S,P=A*1e3/Math.abs(_._rate);(h._endTimers[y[b]]||!_._paused)&&(h._clearTimer(y[b]),h._endTimers[y[b]]=setTimeout(h._ended.bind(h,_),P)),h._emit("rate",_._id)}}else return _=h._soundById(y),_?_._rate:h._rate;return h},seek:function(){var h=this,f=arguments,g,y;if(f.length===0)h._sounds.length&&(y=h._sounds[0]._id);else if(f.length===1){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):h._sounds.length&&(y=h._sounds[0]._id,g=parseFloat(f[0]))}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));if(typeof y>"u")return 0;if(typeof g=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,f)}}),h;var _=h._soundById(y);if(_)if(typeof g=="number"&&g>=0){var b=h.playing(y);b&&h.pause(y,!0),_._seek=g,_._ended=!1,h._clearTimer(y),!h._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=g);var S=function(){b&&h.play(y,!0),h._emit("seek",y)};if(b&&!h._webAudio){var A=function(){h._playLock?setTimeout(A,0):S()};setTimeout(A,0)}else S()}else if(h._webAudio){var P=h.playing(y)?r.ctx.currentTime-_._playStart:0,N=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(N+P*Math.abs(_._rate))}else return _._node.currentTime;return h},playing:function(h){var f=this;if(typeof h=="number"){var g=f._soundById(h);return g?!g._paused:!1}for(var y=0;y<f._sounds.length;y++)if(!f._sounds[y]._paused)return!0;return!1},duration:function(h){var f=this,g=f._duration,y=f._soundById(h);return y&&(g=f._sprite[y._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var h=this,f=h._sounds,g=0;g<f.length;g++)f[g]._paused||h.stop(f[g]._id),h._webAudio||(h._clearSound(f[g]._node),f[g]._node.removeEventListener("error",f[g]._errorFn,!1),f[g]._node.removeEventListener(r._canPlayEvent,f[g]._loadFn,!1),f[g]._node.removeEventListener("ended",f[g]._endFn,!1),r._releaseHtml5Audio(f[g]._node)),delete f[g]._node,h._clearTimer(f[g]._id);var y=r._howls.indexOf(h);y>=0&&r._howls.splice(y,1);var w=!0;for(g=0;g<r._howls.length;g++)if(r._howls[g]._src===h._src||h._src.indexOf(r._howls[g]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],r.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,f,g,y){var w=this,E=w["_on"+h];return typeof f=="function"&&E.push(y?{id:g,fn:f,once:y}:{id:g,fn:f}),w},off:function(h,f,g){var y=this,w=y["_on"+h],E=0;if(typeof f=="number"&&(g=f,f=null),f||g)for(E=0;E<w.length;E++){var _=g===w[E].id;if(f===w[E].fn&&_||!f&&_){w.splice(E,1);break}}else if(h)y["_on"+h]=[];else{var b=Object.keys(y);for(E=0;E<b.length;E++)b[E].indexOf("_on")===0&&Array.isArray(y[b[E]])&&(y[b[E]]=[])}return y},once:function(h,f,g){var y=this;return y.on(h,f,g,1),y},_emit:function(h,f,g){for(var y=this,w=y["_on"+h],E=w.length-1;E>=0;E--)(!w[E].id||w[E].id===f||h==="load")&&(setTimeout((function(_){_.call(this,f,g)}).bind(y,w[E].fn),0),w[E].once&&y.off(h,w[E].fn,w[E].id));return y._loadQueue(h),y},_loadQueue:function(h){var f=this;if(f._queue.length>0){var g=f._queue[0];g.event===h&&(f._queue.shift(),f._loadQueue()),h||g.action()}return f},_ended:function(h){var f=this,g=h._sprite;if(!f._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(f._ended.bind(f,h),100),f;var y=!!(h._loop||f._sprite[g][2]);if(f._emit("end",h._id),!f._webAudio&&y&&f.stop(h._id,!0).play(h._id),f._webAudio&&y){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=r.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),w)}return f._webAudio&&!y&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),r._autoSuspend()),!f._webAudio&&!y&&f.stop(h._id,!0),f},_clearTimer:function(h){var f=this;if(f._endTimers[h]){if(typeof f._endTimers[h]!="function")clearTimeout(f._endTimers[h]);else{var g=f._soundById(h);g&&g._node&&g._node.removeEventListener("ended",f._endTimers[h],!1)}delete f._endTimers[h]}return f},_soundById:function(h){for(var f=this,g=0;g<f._sounds.length;g++)if(h===f._sounds[g]._id)return f._sounds[g];return null},_inactiveSound:function(){var h=this;h._drain();for(var f=0;f<h._sounds.length;f++)if(h._sounds[f]._ended)return h._sounds[f].reset();return new i(h)},_drain:function(){var h=this,f=h._pool,g=0,y=0;if(!(h._sounds.length<f)){for(y=0;y<h._sounds.length;y++)h._sounds[y]._ended&&g++;for(y=h._sounds.length-1;y>=0;y--){if(g<=f)return;h._sounds[y]._ended&&(h._webAudio&&h._sounds[y]._node&&h._sounds[y]._node.disconnect(0),h._sounds.splice(y,1),g--)}}},_getSoundIds:function(h){var f=this;if(typeof h>"u"){for(var g=[],y=0;y<f._sounds.length;y++)g.push(f._sounds[y]._id);return g}else return[h]},_refreshBuffer:function(h){var f=this;return h._node.bufferSource=r.ctx.createBufferSource(),h._node.bufferSource.buffer=s[f._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,r.ctx.currentTime),f},_cleanBuffer:function(h){var f=this,g=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return f;if(r._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),g))try{h.bufferSource.buffer=r._scratchBuffer}catch{}return h.bufferSource=null,f},_clearSound:function(h){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(h){this._parent=h,this.init()};i.prototype={init:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,f._sounds.push(h),h.create(),h},create:function(){var h=this,f=h._parent,g=r._muted||h._muted||h._parent._muted?0:h._volume;return f._webAudio?(h._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),h._node.gain.setValueAtTime(g,r.ctx.currentTime),h._node.paused=!0,h._node.connect(r.masterGain)):r.noAudio||(h._node=r._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(r._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=f._src,h._node.preload=f._preload===!0?"auto":f._preload,h._node.volume=g*r.volume(),h._node.load()),h},reset:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,f=h._parent;f._duration=Math.ceil(h._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),h._node.removeEventListener(r._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,f=h._parent;f._duration===1/0&&(f._duration=Math.ceil(h._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},o=function(h){var f=h._src;if(s[f]){h._duration=s[f].duration,d(h);return}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),y=new Uint8Array(g.length),w=0;w<g.length;++w)y[w]=g.charCodeAt(w);c(y.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,f,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(_){E.setRequestHeader(_,h._xhr.headers[_])}),E.onload=function(){var _=(E.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}c(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[f],h.load())},a(E)}},a=function(h){try{h.send()}catch{h.onerror()}},c=function(h,f){var g=function(){f._emit("loaderror",null,"Decoding audio data failed.")},y=function(w){w&&f._sounds.length>0?(s[f._src]=w,d(f,w)):g()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(h).then(y).catch(g):r.ctx.decodeAudioData(h,y,g)},d=function(h,f){f&&!h._duration&&(h._duration=f.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},p=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=f?parseInt(f[1],10):null;if(h&&g&&g<9){var y=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!y&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof Ni<"u"?(Ni.HowlerGlobal=e,Ni.Howler=r,Ni.Howl=n,Ni.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,a){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,a=typeof a!="number"?d[5]:a,typeof r=="number")c._orientation=[r,n,i,s,o,a],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(r,n,i,s,o,a);else return d;return c},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var c=i._soundById(o[a]);if(c)if(typeof r=="number")c._stereo=r,c._pos=[r,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&e(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(r,0,0):c._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var a=r._getSoundIds(s),c=0;c<a.length;c++)if(o=r._soundById(a[c]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var p=o._panner;p||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),p=o._panner),p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(jy);function $U(t,e){return`./assets/${t}${e?`?v=${e}`:""}`}function jU(t,e){const r=t.match(/\[(.+)\]/);if(r){let n=r[1].split(",");t=t.replace(r[0],qe.Obj.filterImageFormat(n))}return $U(t,e)}function OP(t,e,r){let n=[];function i(s,o,a={}){ai.add({src:jU(o,e),alias:s,...a})}for(let s of t)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return ai.load(n,r)}function WU(t){return ai.get(t)}function VU(t,e){let r=ai.get(t),n=r.textures[e];if(!n){for(let i of r.linkedSheets)if(n=i.textures[e],n)break}return n}function XU(t){return ai.get(t)}function Wy(t,e){return(ai.get(t)||{})[e]||e}class YU{constructor(){Te(this,"channels",{})}exist(e,r){let n=this.channels[e];return Fa(e)&&Fa(n[r])}add(e,r,n,i=1,s=!1,o){let a=this.channels[e];Pu(a)&&(a={},this.channels[e]=a),Fa(a[r])&&console.warn(`sound "${r}" is existing in channel "${e}"`);let c={channelId:e,name:r,soundId:n,volume:i,softBgm:s,onComplete:o};return a[r]=c,c}getPlaybackBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(r=>r.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(r=>r.name==e)}removeBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n){let s=n[i];e(s)&&(delete n[i],zI(n)&&delete this.channels[r])}}}removeBySoundId(e){return this.removeBy(r=>r.soundId==e)}removeBySoundName(e){return this.removeBy(r=>r.name==e)}getSoundIds(e){const r=[],n=this.channels[e];for(let i in n)r.push(n[i].soundId);return r}}const wf=class wf{constructor(){Te(this,"howlers",{});Te(this,"_muted",!1);Te(this,"_volume",1);Te(this,"bgm");Te(this,"channelManager");Te(this,"_pause");this.channelManager=new YU}static get Obj(){return this._Obj||(this._Obj=new wf),this._Obj}getSoundIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.soundId}getChannelIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.channelId}play(e,r,n=1,i=!1,s,o){let a=this.channelManager.getPlaybackBySoundName(r),c=this.getVolumn(n),d=this.getSoundPlayer(e);if(a&&a.channelId==e)d.stop(a.soundId),d.play(a.soundId),d.volume(c,a.soundId);else{let p=d.play(r);d.volume(c,p),a=this.channelManager.add(e,r,p,n,i,h=>{o&&o(h)})}i&&this.softBgm(!0)}plays(e,r,n=1,i=!1,s){const[o,...a]=r;o?this.play(e,o,n,i,!1,()=>{this.plays(e,a,n,i,s)}):s&&s(o)}playBgm(e,r,n=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(r),o=this.getSoundPlayer(e),a=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(a,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let c=o.play(r);o.volume(a,c),this.channelManager.add(e,r,c,n),this.bgm={soundId:c,channelId:e,name:r,soft:i}}}isReady(e){return Fa(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let r=XU(e);if(Fa(r)){r.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){let s=this.channelManager.getPlaybackBySoundId(i);s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};let n=new jy.Howl(r);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(let r in this.howlers)if(e)this.howlers[r].pause();else{const n=this.channelManager.getSoundIds(r),i=this.howlers[r];for(let s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,r){let n=this.getSoundIdBySoundName(r);n&&this.getSoundPlayer(e).pause(n)}stop(e,r){let n=this.getSoundIdBySoundName(r);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,r){r.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){let r=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(r){let n=this.getVolumn(e?this.bgm.soft:1,r.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,r.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,r,n){let i=this.getSoundIdBySoundName(r);if(i){const s=this.channelManager.getPlaybackBySoundId(i);s.volume=n,this.getSoundPlayer(e).volume(n)}}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let r in this.channelManager.channels){let n=this.channelManager.channels[r],i=this.getSoundPlayer(r);for(let s in n){let o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,jy.Howler.mute(e)}};Te(wf,"_Obj");let Oo=wf;const qU=document.querySelector("html"),tc="resize",QU=()=>{const t=dr.useApp(),{state:e,dispatch:r}=G.useContext(wt),n=qe.Obj,[i,s]=G.useState([0,0]),o=G.useMemo(()=>document.getElementById("App"),[]),[a,c]=G.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]),d=()=>{qe.Obj.updateOrientation();const h=n.orientation;let{displayArea:f,safeArea:g}=n.layoutOptions;const[y,w,E,_]=f,b=_/E;g=g||[0,0,E,_];const[S,A,P,N]=g,k=N/P,R=document.documentElement.clientWidth,U=document.documentElement.clientHeight,W=U/R;let q,$,L,V,J,ee,oe;h=="l"?W<=k?($=U*(_/N),q=$/b,$=Math.min(_,$),q=Math.min(E,q),oe=U,ee=q):(R<=P?q=R*(E/P):R<=E?q=E:q=R,$=q*b,$=Math.min(_,$),q=Math.min(E,q),oe=$,ee=R):W>=k?(q=R*(E/P),$=q*b,$=Math.min(_,$),q=Math.min(E,q),ee=R,oe=$):(U<=N?$=U*(_/N):U<=_?$=_:$=U,q=$/b,$=Math.min(_,$),q=Math.min(E,q),ee=q,oe=U),J=q/E,V=(R-q)/2,L=(U-$)/2;const M=Math.round(Math.min(V,0)),X=Math.round(Math.min(L,0));t.stage.scale.set(J),qU.style.fontSize=`${20*J}px`,t.renderer.resize(q,$),t.view.style.top=`${X}px`,t.view.style.left=`${M}px`;const D=Math.round(Math.min(R,ee,q)),z=Math.round(Math.min(U,oe,$)),te=Math.round(Math.max(0,L)),Ce=Math.round(Math.max(0,V));o.style.width=`${D}px`,o.style.height=`${z}px`,o.style.top=`${te}px`,o.style.left=`${Ce}px`,e.setting.orientation!=h&&r(VD(h)),qe.Obj.updateViewport(M/J,X/J,Math.round(D/J),Math.round(z/J)),n.notice.emit(tc)};function p(){document[a]?(Oo.Obj.pauses(!0),t.ticker.stop()):(Oo.Obj.pauses(!1),t.ticker.start())}return dr.useTick((h,f)=>((i[0]!=document.documentElement.clientWidth||i[1]!=document.documentElement.clientHeight)&&(d(),s([document.documentElement.clientWidth,document.documentElement.clientHeight])),document.addEventListener(c,p),()=>{document.removeEventListener(c,p)}),!0),O(vi,{})};function KU(){const{state:t}=G.useContext(wt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="preload";return O("div",{className:`page-mod ${r?"db":"dn"}`,children:O("div",{className:"scene-preload-mod",children:Se("div",{className:"loading-animation-default-mod",children:[O("div",{}),O("div",{}),O("div",{}),O("div",{}),O("div",{}),O("div",{}),O("div",{}),O("div",{})]})})})}const ZU=()=>{const{state:t}=G.useContext(wt),{soundOn:e,volume:r}=t.setting;return G.useEffect(()=>{Oo.Obj.muted=!e},[e]),G.useEffect(()=>{},[r]),O(vi,{})};function JU(){const t=document.getElementById("context");t.style.setProperty("opacity","1"),t.className="context-fadein",document.getElementById("logo").style.setProperty("display","none","important")}const e6=()=>{const{state:t}=G.useContext(wt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="load";return G.useMemo(()=>{r&&JU()},[r]),O(vi,{})},t6=()=>{const{state:t,dispatch:e}=G.useContext(wt),{code:r}=t.setting.error;return G.useEffect(()=>{r&&(r==="000"?e(Gr(r,!0,!1)):r==="001"||r==1e3?e(Gr(r,!0,!0)):r==1005?e(Gr("",!1,!0)):e(Gr(r,!0,!1)))},[r]),O(vi,{})},r6=({children:t,Context:e,render:r})=>O(e.Consumer,{children:n=>r(Se(e.Provider,{value:n,children:[O(KD,{}),O(o6,{}),O(QU,{}),O(ZU,{}),O(e6,{}),O(t6,{}),t]}))}),n6=zU(),i6=HU(),s6=({children:t,maxResolution:e=1,...r})=>{const[n,i]=G.useReducer(n6,i6);let[s,...o]=G.Children.map(t,c=>c),a=cn.any?window.devicePixelRatio:1;return a=Math.min(a>=2?2:a,e),Se(wt.Provider,{value:{state:n,dispatch:i},children:[O(r6,{Context:wt,render:c=>O(dr.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:a,antialias:!0,autoDensity:!0},...r,children:c}),children:s}),O(KU,{}),O(wt.Consumer,{children:({state:c})=>c.sceneManager.scenes[0]=="preload"?O(vi,{}):o})]})};function o6(){const t=qe.Obj;return dr.useTick((e,r)=>{SU(t.tweenTime),t.tweenTime+=r.elapsedMS},!0),O(vi,{})}const a6=({children:t})=>{const{state:e}=G.useContext(wt),{scenes:r}=e.sceneManager;return G.useMemo(()=>{let i=[];return G.Children.forEach(t,s=>{r.indexOf(s.props.id)!=-1&&i.push(s)}),i},[r])};function FP(t,e){function r(n){if(n&&n.props){const i={},s=n.props;for(let o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=FP(n.props.children,e)),G.cloneElement(n,i)}return n}return Array.isArray(t)?G.Children.map(t,n=>r(n)):r(t)}function l6(t,e=[]){const{state:r}=G.useContext(wt),n=r.setting.orientation;return FP(t,`${n}-`)}function u6(t){return G.useMemo(()=>t,[])}function c6(t,e,r){const n=G.useMemo(()=>qe.Obj.tweenTime,[r]);dr.useTick(()=>{qe.Obj.tweenTime-n>e&&t()},r)}function h6(t,e,r){const{current:n}=G.useRef({timer:null});dr.useTick((i,s)=>{n.timer+=s.elapsedMS,n.timer>=e&&(n.timer=0,t())},r)}const Be=G.forwardRef(({hitFrame:t,children:e,...r},n)=>{const i=G.useMemo(()=>t?new Ie(...t):null,[]);return O(dr.Container,{hitArea:i,...r,ref:n,children:e})}),sp=({children:t})=>l6(t),op=t=>{const{children:e,...r}=t,{l:n,p:i}=qe.Obj.configOptions.layoutMap,s=G.useMemo(()=>!!(n&&i),[]),[o,a,c,d]=G.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const p=n??i;return[-p.displayArea[0],-p.displayArea[1],0,0]}},[]);return O(Be,{...r,children:s?O(sp,{children:O(Be,{"l-x":o,"l-y":a,"p-x":c,"p-y":d,children:e})}):O(Be,{x:o,y:a,children:e})})},ap=G.forwardRef(({dep:t=[],children:e,id:r,from:n={},to:i={},playing:s=!1,duration:o,yoyo:a,repeat:c,repeatDelay:d,delay:p=0,easing:h=_=>_,onStart:f,onComplete:g,onRepeat:y,onUpdate:w},E)=>{var P,N;const[_,b]=G.useState(!1),{current:S}=G.useRef({tween:null});function A(){var k;(k=S.tween)==null||k.stop(),S.tween=null}return G.useMemo(()=>{A(),s&&(S.tween=new NP({...n}).to({...i},o).repeat(c).repeatDelay(d).delay(p).yoyo(a).start(qe.Obj.tweenTime))},[s,...t]),G.useMemo(()=>{var k;(k=S.tween)==null||k.repeat(c)},[c]),(P=S.tween)==null||P.easing(h).onStart(f).onUpdate((k,R)=>{w&&w(k,R),b(!_)}).onRepeat(y).onComplete(g),G.useImperativeHandle(E,()=>({get repeated(){return S.tween._initialRepeat-S.tween._repeat},get repeat(){return S.tween._repeat}})),G.useEffect(()=>{},[s,...t]),e(S.tween?S.tween._object:n,((N=S.tween)==null?void 0:N.isPlaying())||!1)});function d6({children:t,progress:e,onComplete:r,...n}){const{current:i}=G.useRef({percent:0,oldPercent:0});return G.useMemo(()=>{i.oldPercent=i.percent},[e]),O(Be,{...n,children:O(ap,{dep:[e],from:{k:0},to:{k:1},playing:!0,duration:500,onComplete:()=>{r&&r(e)},children:({k:s})=>{const o=i.oldPercent+(e-i.oldPercent)*s;return i.percent=o,t(o)}})})}const f6=({assets:t,next:e,...r})=>{const n=qe.Obj.configOptions.assetVersion,{state:i,dispatch:s}=G.useContext(wt),{current:o}=G.useRef({loaded:!1,loggingIn:!1});return G.useEffect(()=>{s($y(0)),OP(t,n,a=>{s($y(Math.floor(a*100)))}).then(()=>{o.loaded=!0,s(p_(e))})},[]),O(op,{...r})},p6=({children:t,assets:e,next:r,...n})=>{const i=qe.Obj.configOptions.assetVersion,{state:s,dispatch:o}=G.useContext(wt),{current:a}=G.useRef({loaded:!1,loggingIn:!1}),{loggingIn:c}=s.user,[d,p]=G.useState(0),[h,f]=G.useState(0);function g(){a.loggingIn&&a.loaded&&r&&o(p_(r))}function y(E){d==100&&(a.loaded=!0,g())}G.useEffect(()=>{c&&(a.loggingIn=!0),g()},[c]);const w=G.useMemo(()=>d==100?["auth.","auth..","auth..."][h]:["loading.","loading..","loading..."][h],[h,d]);return G.useEffect(()=>{o($y(0)),OP(e,i,E=>{p(Math.floor(E*100))})},[]),h6(()=>{f((h+1)%3)},400,!0),O(op,{...n,children:O(d6,{progress:d,onComplete:y,children:E=>t(E,w)})})};function LP(...t){let e={};for(let r of t)for(let n of r)e[n.id]=n;return Object.values(e)}const yf="message",DP="lang_components";function m6(t){return[{id:yf,src:`text/${t}.json`},{id:DP,src:`compress/lang/${t}@1x.[avif,webp,png].json`}]}function g6(t,...e){return LP(m6(t),...e)}const m_="sounds",BP="components",xd="preload_component";function y6(t){return[{id:m_,src:"sound/sounds.json"},{id:BP,src:"compress/components-_default@1x.[avif,webp,png].json"}]}function v6(t,...e){return LP(y6(),...e)}const g_="preview_Bg";function _6(t){return g6(t,[{id:g_,src:"compress/bg-preview@1x.[jpg,avif,webp]"},{id:xd,src:"compress/preload@1x.[png,webp,avif].json"}])}const UP="bg_game";function x6(t){return v6(t,[{id:UP,src:"compress/bg-game@1x.[jpg,avif,webp]"}])}const w6=({...t})=>{const e=G.useMemo(()=>_6(qe.Obj.urlOptions.lang),[]);return O(f6,{assets:e,...t})};function GP(t){return G.forwardRef(({res:e=t,name:r,...n},i)=>{const s=G.useMemo(()=>VU(e,r),[r]);return O(dr.Sprite,{ref:i,texture:s,...n})})}const Je=GP(BP),b6=GP(DP),y_=G.forwardRef(({name:t,...e},r)=>{const n=G.useMemo(()=>WU(t),[t]);return O(dr.Sprite,{ref:r,texture:n,...e})}),ln=G.forwardRef(({style:t,maxScaleLength:e,...r},n)=>{const i=G.useRef(),s=G.useMemo(()=>t instanceof fi?t:new fi(t),[]);return G.useEffect(()=>{if(e&&i.current){const o=setTimeout(()=>{const a=i.current.width,c=i.current.scale.x,d=e/a*c,p=c>0?1:-1,h=i.current.scale.y>0?1:-1;d<1?i.current.scale.set(d*p,d*h):i.current.scale.x!=1&&i.current.scale.set(1*p,1*h),clearTimeout(o)},1)}},[r.text]),G.useImperativeHandle(n,()=>i.current,[i]),O(dr.Text,{ref:i,...r,style:s})}),S6=G.forwardRef(({maxScaleLength:t,...e},r)=>{const n=G.useRef();return G.useEffect(()=>{if(t&&n.current){const i=setTimeout(()=>{const s=n.current.width,o=n.current.scale.x,a=t/s*o,c=o>0?1:-1,d=n.current.scale.y>0?1:-1;a<1?n.current.scale.set(a*c,a*d):n.current.scale.x!=1&&n.current.scale.set(1*c,1*d),clearTimeout(i)},1)}},[e.text]),G.useImperativeHandle(r,()=>n.current,[n]),O(dr.BitmapText,{ref:n,...e})}),E6=G.forwardRef(({text:t,...e},r)=>{const n=G.useMemo(()=>Wy(yf,t),[t]);return O(ln,{ref:r,text:n,...e})});function zP({children:t,active:e=!0,...r}){const[n,i]=G.useState(!1),s=G.useRef(null);return G.useEffect(()=>{i(!n)},[]),Se(Be,{...r,children:[G.cloneElement(t[0],{mask:e?s.current:null}),G.cloneElement(t[1],{ref:s,visible:e})]})}const T6=({...t})=>{const e=G.useMemo(()=>x6(qe.Obj.urlOptions.lang),[]);return O(p6,{assets:e,...t,children:(r,n)=>{const i=-450+450*(r/100);return Se(sp,{children:[O(y_,{name:g_}),Se(Be,{"l-x":400,"l-y":620,"p-x":25,"p-y":770,children:[O(Je,{res:xd,name:"LoadConatiner.png"}),Se(zP,{x:18,y:4.5,children:[O(Je,{res:xd,name:"LoadMeter.png"}),O(Je,{x:i,res:xd,name:"LoadMetermask.png"})]}),O(ln,{x:246,y:15,text:`${n}`,anchor:.5,style:{align:"center",fill:"#FFFFFF",fontSize:20,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})]})}})};function A6(t){return e=>{const{dispatch:r}=G.useContext(wt);return G.useMemo(()=>O(t,{dispatch:r,...e}),[e])}}const bf=class bf{constructor(){Te(this,"keys",[]);Te(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new bf),this._Obj}onKeyDownHandler(e){if(e&&e.key){let r=e.key.toLowerCase();this.keys.indexOf(r)==-1&&this.keys.push(r)}}onKeyUpHandler(e){if(e&&e.key){let r=e.key.toLowerCase(),n=this.keys.indexOf(r);if(n>-1){let i=`onKey${r==" "?"Space":r}`;const s=this.keysChangedFCMap[i];for(let o of s||[])o();this.keys.splice(n,1)}}}setKeysFCMap(e,r){const n=this.keysChangedFCMap[e];n?n.push(r):this.keysChangedFCMap[e]=[r]}removeFc(e,r){const n=this.keysChangedFCMap[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}};Te(bf,"_Obj");let Vy=bf;function HP({enable:t=!0,...e}){return G.useEffect(()=>{let r=Vy.Obj;const n=[];if(t){for(let i in e)i.match(/onKey[A-Z]\w+/)&&n.push(i);for(let i of n)r.setKeysFCMap(i,e[i]);return()=>{for(let i of n)r.removeFc(i,e[i])}}},[e]),O(vi,{})}const C6=Oo.Obj;function $P(t,e="onpointerup",r="click"){function n(i){const s={};return s[e]=i,s}return({channelId:i=m_,sound:s,volum:o=1,softBgm:a,onSoundEnd:c,...d})=>{const p=d[e];function h(f){C6.play(i,s||r,o,a,!1),p&&p(f)}return O(t,{...d,...n(h)})}}const vf=G.forwardRef(({children:t,enable:e=!0,...r},n)=>O(Be,{cursor:"pointer",interactive:e,...r,ref:n,children:t})),P6=1e3;function jP({children:t,enable:e=!0,onpointerup:r,onLongPress:n,...i}){const[s,o]=G.useState(0),[a,c]=G.useState(!1),[d,p]=G.useState(!1);function h(){c(!0),o(Date.now())}function f(){p(!1),o(0),c(!1)}function g(y){(!n||!d)&&r&&r(y),f()}return dr.useTick(()=>{!d&&Date.now()-s>=P6&&(p(!0),n&&n())},s>0&&!d),O(Be,{cursor:"pointer",interactive:e,...i,scale:a?.9:1,onpointerdown:h,onpointerup:g,onpointerout:f,children:t})}const WP=$P(vf),Au=$P(jP),I6=A6(({dispatch:t,...e})=>{function r(){t(p_("main"))}return O(op,{...e,children:Se(Be,{children:[O(HP,{onKeySpace:r,enable:!0}),O(y_,{name:g_}),O(WP,{"l-x":562.5,"l-y":520,"p-x":162.5,"p-y":820,onpointerup:r,children:O(ln,{text:"continue",style:{align:"center",fill:"#FF0000",fontSize:60}})})]})})});var VP=(t=>(t[t.showWin=0]="showWin",t[t.collapsing=1]="collapsing",t[t.showWinFS=2]="showWinFS",t[t.intoFS=3]="intoFS",t[t.outFS=4]="outFS",t))(VP||{});const R6=({dataSource:t,children:e})=>{const{state:r,dispatch:n}=G.useContext(wt),{status:i,spinModel:s}=r.spin,[o,a]=G.useState(!1),{current:c}=G.useRef({status:"idle",statusOrder:[],inFreeSpin:!1});function d(f,g=!0){c.status!=f&&(c.status=f,g&&a(!o))}function p(){const f=c.statusOrder.shift();f&&d(f,!0)}G.useMemo(()=>{let f;if(i=="spin")s&&s.totalLines.length>0?f="reSpin":f="spin";else if(i=="stopping")c.status=="spin"?f="stopping":f="reSpinStoping";else if(i=="idle")if(c.status=="stopping"||c.status=="reSpinStoping"){const g=r.spin.spinModel;c.statusOrder=[],g.existWin&&c.statusOrder.push(VP.collapsing),c.statusOrder.push("idle"),f=c.statusOrder.shift()}else f="idle";d(f,!1)},[i]),console.log(c.status);const h={base:{state:r,dispatch:n,nextGameStatus:p,gameStatus:c.status},...t};return G.cloneElement(e,{dataSource:h})};function k6({children:t,...e}){return t(e)}new Ue(0);new Ue(1);new Ue(-1);function M6(t){let e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function Xy(t=new Ue(0),e=2,r=0){return t instanceof Ue||(t=new Ue(t)),M6(t.toFixed(e,Ue.ROUND_FLOOR))}function dc(t){return G.forwardRef(({text:e=new Ue(0),tweenOptions:r={},tmp:n="{}",...i},s)=>{const{current:o}=G.useRef({amount:0,id:0}),a=Number(e.toString()),[c,d]=G.useMemo(()=>{const p=o.amount;return o.amount=a,[o.id++,p]},[a]);return O(ap,{dep:[c],playing:!0,from:{text:d},to:{text:a},duration:1e3,...r,children:p=>O(t,{ref:s,...i,text:n.replace("{}",Xy(p.text))})})})}const bS=dc(ln);dc(E6);dc(S6);dc(({text:t,...e})=>O("div",{...e,children:t}));dc(({text:t,cb:e,...r})=>O("div",{...r,children:e(t)}));function N6({children:t,speed:e}){const[r,n]=G.useState(0);return dr.useTick((i,s)=>{n((s.elapsedMS/1e3*(e*360)+r)%360)},!0),t(Math.PI*2*(r/360))}const O6=({dataSource:t})=>{const{dispatch:e,gameStatus:r,state:n}=t.base,{speedModel:i,betAmount:s,betLevel:o}=n.spin,{balance:a}=n.user,{code:c}=n.setting.error,[d,p]=G.useState("idle"),h=n.spin.autoSpinCount==""||n.spin.autoSpinCount>0,f=d=="idle",g=d=="fast",y=d=="stop",w=d=="skip",E=i=="fast",_=r=="idle",b=!c&&a.greaterThanOrEqualTo(s.mul(o));function S(q=null){if(b){e(MU());const $=s.mul(o);e(IU(a.sub($)))}}function A(){e(h?wS(0,0,0,0):wS("","",0,0))}function P(){_&&e(DU(E?"normal":"fast"))}G.useEffect(()=>{r=="spin"?p("fast"):_?p("idle"):r!="stopping"&&d!="fast"&&p("skip")},[r]),c6(()=>{r=="stopping"?p("stop"):_?p("idle"):r!="spin"&&p("skip")},1500,d=="fast"),G.useEffect(()=>{if(h&&_){let q=setTimeout(()=>{clearTimeout(q),S(null)},500)}},[r,h]);const{historyListOn:N,historyDetail:{on:k},payTableOn:R,menuOn:U}=n.setting;return O(sp,{children:Se(Be,{"l-x":845,"l-y":-28,"p-x":585,"p-y":-90,"l-scale":1,"p-scale":1.2,children:[O(HP,{onKeySpace:S,enable:!N&&!k&&!R&&!U}),Se(jP,{hitFrame:[55,35,90,90],"l-x":91,"l-y":23,"p-x":0,"p-y":0,onpointerup:S,pivot:[98,94],children:[O(Je,{name:"spin_light.png"}),O(N6,{speed:d!="idle"?2:.1,children:q=>Se(Be,{children:[O(Je,{visible:g||f&&!h,x:72,y:55,anchor:.5,name:"Spin.png",rotation:q}),O(Je,{visible:y,x:72,y:55,anchor:.5,name:"stop.png"}),O(Je,{visible:w,x:72,y:55,anchor:.5,name:"skip.png"}),Se(Be,{visible:h&&f,children:[O(Je,{x:72,y:55,anchor:.5,scale:1,name:"auto.png"}),O(ln,{x:72,y:55,anchor:.5,text:"",style:{fill:"#FFFFFF",fontSize:55}})]})]})})]}),Se(Au,{"l-x":2,"l-y":77,"p-x":-120,"p-y":-10,onpointerup:A,"l-scale":1,"p-scale":.8,children:[O(Je,{name:"autospin_disable.png",anchor:.5,visible:h}),O(Je,{name:"autospin_enable.png",anchor:.5,visible:!h}),O(Be,{visible:h,y:-3,children:O(Je,{anchor:.5,scale:1,name:"infinite.png"})})]}),Se(Au,{"l-x":129,"l-y":77,"p-x":120,"p-y":-10,onpointerup:P,"l-scale":1,"p-scale":.8,interactive:_,children:[O(Je,{name:"turbo_disable.png",anchor:.5,visible:E||!_}),O(Je,{name:"turbo_enable.png",anchor:.5,visible:!E&&_}),O(ap,{from:{k:0},to:{k:1},playing:E,duration:2e3,repeat:1e6,children:({k:q})=>O(Je,{visible:E,alpha:.5+Math.sin(Math.PI*2*q)*.5,name:"turbo_activate.png",anchor:.5,y:-2})})]})]})})},F6=({frame:t=[0,0,100,100],color:e,radius:r,...n},i)=>{const s=G.useCallback(o=>{o.clear(),o.beginFill(e),r?o.drawRoundedRect(...t,r):o.drawRect(...t),o.endFill()},[...t,e,r]);return O(dr.Graphics,{ref:i,draw:s,...n})},qh=G.forwardRef(F6),L6=({path:t,color:e,bColor:r,border:n=0,...i},s)=>{const o=G.useCallback(a=>{a.clear(),a.beginFill(e),a.lineStyle(n,r,1),a.moveTo(...t[0]);for(let c=1;c<t.length;c++)a.lineTo(...t[c]);a.lineTo(...t[0]),a.endFill()},[t,e]);return O(dr.Graphics,{ref:s,draw:o,...i})},SS=G.forwardRef(L6);function D6({children:t,selected:e=0,cellHeight:r,onSelectedChange:n,...i}){const[s,o]=G.useState(!1),{current:a}=G.useRef({startPoint:null,movement:{x:0,y:0},page:e,update:!1}),c=G.Children.count(t),d=Math.floor(c/2);function p(b){return(b+d+c)%c-d}function h(){let b=a.movement.y/r;return(a.page+b+c)%c}function f(b,S=!0,A=a.page){S&&A!=b?new NP({page:A}).to({page:b},200).onUpdate(P=>{a.page=P.page,a.update=!0}).onComplete(()=>{const P=(b+c)%c;n&&n(P),a.page=P,a.update=!0}).start(qe.Obj.tweenTime):a.page=b}function g(b){a.startPoint={x:b.x,y:b.y}}function y(b){a.startPoint&&(a.update=!0,a.movement={x:-(b.x-a.startPoint.x),y:-(b.y-a.startPoint.y)})}function w(b){if(a.startPoint){let S=a.movement.y/r;const A=a.page+S;S=Math.round(S+(S>0?.25:-.25));const P=a.page+S;a.startPoint=null,a.movement={x:0,y:0},a.page=A,f(P,!0,A)}}const E=G.useMemo(()=>h(),[a.movement.x,a.movement.y,a.page]);G.useEffect(()=>{a.page!=e&&f(e,!0,a.page)},[e]),dr.useTick(()=>{a.update&&(o(!s),a.update=!1)},!0);function _(b){const S=r,A=Math.abs(b),P=Math.max(0,3-A),N=A<2.5?.4+P*.2:0,k=A<.5?16691720:16777215;return{y:b*S,scale:N,tint:k}}return O(Be,{interactive:!0,cursor:"pointer",onpointerdown:g,onpointermove:y,onpointerup:w,onpointerout:w,...i,children:G.Children.map(t,(b,S)=>{const A=p(-E+S);return G.cloneElement(b,_(A))})})}function B6({on:t,onClose:e,onSelectedChange:r,lineBets:n}){const[i,s]=G.useState(0),o=qe.Obj;return G.useEffect(()=>{const a=()=>{const[c,d,p,h]=o.viewport,{displayArea:[f,g,y,w],safeArea:E}=o.layoutOptions;s(-d+h+g)};return a(),o.notice.on(tc,a),()=>{o.notice.off(tc,a)}},[]),Se(Be,{children:[O(vf,{onpointerup:e,hitFrame:[0,0,1170,1170],visible:t}),O(ap,{dep:[t],from:{k:0},to:{k:1},playing:!0,duration:300,easing:Eu.Cubic.In,children:({k:a})=>{const c=(t?-380*a:1e3)+i;return Se(Be,{y:c,children:[O(qh,{frame:[0,0,1170,380],color:1908791,alpha:.9,interactive:!0}),O(Be,{children:O(ln,{x:585,y:20,anchor:.5,text:"Bet Amount",style:{fill:"#ffffff",fontFamily:"Verdana",fontWeight:"bold",fontSize:23}})}),Se(Be,{y:173,children:[O(qh,{frame:[0,0,1170,60],alpha:.72}),O(qh,{frame:[0,0,1170,1],color:16691720}),O(qh,{frame:[0,0,1170,1],color:16691720,y:57}),O(SS,{x:775,y:15,path:[[0,0],[0,30],[-15,15]],color:16691720}),O(SS,{x:400,y:15,path:[[0,0],[0,30],[15,15]],color:16691720})]}),Se(zP,{children:[O(D6,{hitFrame:[0,-270,1170,500],cellHeight:60,y:203,onSelectedChange:r,children:n.map((d,p)=>O(ln,{x:585,y:25,anchor:.5,text:`${d}`,style:{fill:"#ffffff",fontWeight:"500",fontSize:50}},`selecterItem${p}`))}),O(Je,{name:"selecter_mask.png",scale:[234,2],y:35})]})]})}})]})}function U6({dataSource:t}){const{state:e,dispatch:r,gameStatus:n}=t.base,{menuOn:i}=e.setting,{betLevel:s,betAmount:o}=e.spin,[a,c]=G.useState(!1),{lineBets:d}=e.spin.lineBetsModel,p=G.useRef(null),h=G.useRef(null),f=qe.Obj,g=cn.any,y=n=="idle";function w(){const b=d.indexOf(o.toFixed(2))+1;b<d.length&&r(Tu(d[b]))}function E(){const b=d.indexOf(o.toFixed(2))-1;b>=0&&r(Tu(d[b]))}function _(){r(cA(!i))}return G.useEffect(()=>{if(p.current,h.current){const b=()=>{const[S,A,P,N]=f.viewport,k=f.orientation;let{displayArea:[R,U,W,q],safeArea:$}=f.layoutOptions;p.current.y=N-A+U,k=="l"||h.current.position.set(-S+50+R,-A+50+U)};return b(),f.notice.on(tc,b),()=>{f.notice.off(tc,b)}}},[p]),Se(Be,{children:[Se(sp,{children:[Se(Be,{"l-x":585,"p-x":585,"l-pivot":[585,95],"p-pivot":[585,82],ref:p,children:[O(Je,{name:"UI_Container.png","l-y":0,"p-y":-160}),O(Au,{interactive:y,"l-x":73,"l-y":50,"p-x":330,"p-y":-97,"l-visible":!0,"p-visible":!0,onpointerup:_,children:O(Je,{name:"menu-on.png",anchor:.5,tint:y?16777215:8947848})}),Se(Be,{"l-x":230,"l-y":16,"p-x":383,"p-y":15,children:[Se(Be,{x:0,children:[O(ln,{y:9,anchor:.5,text:"Balance",style:{fill:"#eeeeee",fontFamily:"Figtree",fontWeight:"500",fontSize:24,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),O(Be,{y:37,children:O(bS,{anchor:.5,text:e.user.balance.toNumber(),style:{fontSize:26,fill:"#eeeeee",fontFamily:"Figtree",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]}),Se(Be,{"l-x":250,"l-y":-15,"p-x":202,"p-y":-15,children:[O(ln,{"l-x":-4,"p-x":0,"l-y":23,"p-y":0,anchor:.5,text:"Bet Amount",style:{fill:"#7f00ff",fontFamily:"Figtree",fontWeight:"500",fontSize:24,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),g?O(Be,{children:Se(vf,{y:52,interactive:y,onpointerup:c.bind(null,!0),children:[O(Je,{name:"bet_amount_bg.png",anchor:.5,tint:y?16777215:8947848}),O(ln,{anchor:.5,y:-2,text:Xy(o),style:{fill:"#7f00ff",fontFamily:"Figtree",fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})}):Se(Be,{children:[O(Be,{y:52,children:O(ln,{anchor:.5,x:-4,y:-1,text:Xy(o),style:{fill:"#7f00ff",fontFamily:"Figtree",fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})}),Se(Be,{y:49,children:[O(Au,{"l-x":-95,"p-x":-75,onpointerup:E,interactive:y,children:O(Je,{name:"bet_minus.png",anchor:.5,tint:y?16777215:8947848})}),O(Au,{"l-x":82,"p-x":75,onpointerup:w,interactive:y,children:O(Je,{name:"bet_plus.png",anchor:.5,tint:y?16777215:8947848})})]})]})]}),Se(Be,{"l-x":465,"p-x":404,children:[O(ln,{y:9,anchor:.5,text:"Total Bet",style:{fill:"#eeeeee",fontFamily:"Figtree",fontWeight:"500",fontSize:24,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),O(Be,{y:37,children:O(bS,{anchor:.5,text:s==null?void 0:s.mul(o),style:{fontSize:26,fill:"#eeeeee",fontFamily:"Figtree",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]})]}),O(Be,{children:O(O6,{dataSource:t})})]}),O(vf,{ref:h,"l-visible":!1,"p-visible":!1,onpointerup:_,children:O(Je,{name:"menu-on.png",anchor:.5})})]}),O(B6,{on:a,onClose:c.bind(null,!1),lineBets:d,onSelectedChange:b=>{r(Tu(d[b]))}})]})}function G6({...t}){const{state:e,dispatch:r}=G.useContext(wt);let{betLevel:n}=e.spin;const i=n.toNumber();return O(Be,{...t,children:[10,15,20].map((s,o)=>Se(WP,{x:o*60,onpointerup:()=>{r(LU(s))},scale:.8,children:[O(Je,{anchor:.5,name:`${s}.png`,visible:i!=s}),O(Je,{anchor:.5,name:`${s} selected.png`,visible:i==s})]},`bet_level_${o}`))})}const z6=({...t})=>O(R6,{children:O(k6,{children:({dataSource:e})=>Se(op,{...t,children:[Se(Be,{children:[O(y_,{name:UP}),O(Je,{x:129,y:0,name:"cyberpunkingamebackground2.png"}),Se(Be,{x:266,y:258,children:[O(Je,{name:"cyberpunk35reel.png"}),O(b6,{x:293,y:52,anchor:.5,name:"logo.png"})]}),O(Je,{x:55,y:330,name:"side ui panel.png"})]}),O(G6,{x:95,y:700}),O(U6,{dataSource:e})]})})});function go({children:t,tmp:e,...r}){const n=G.useMemo(()=>e?G.Children.map(e,i=>Wy(yf,i)).reduce((i,s)=>i+s,""):Wy(yf,t),[e,t]);return O("div",{...r,children:n})}const ES=()=>{const{state:t,dispatch:e}=G.useContext(wt),{code:r,show:n,allowClose:i}=t.setting.error;function s(){i?e(Gr("",!1,!0)):location.reload()}return O("div",{className:`page-mod ${n?"db":"dn"}`,children:Se("div",{className:`error-mod ${t.setting.orientation}`,children:[Se("div",{className:"top",children:[O("div",{className:"dib info-icon"}),O("div",{className:"title",children:r})]}),Se("div",{className:"bottom",children:[O(go,{className:"detail",children:`error_${r}`}),O("div",{className:"ok btn-mod dib",onClick:s,children:i?"ok":"refresh"})]}),O("div",{className:"close"})]})})},Cu=ev(),H6=({children:t})=>{const{state:e,dispatch:r}=G.useContext(wt),[n,i]=G.useState(!1),{loggingIn:s}=e.user,[o,a]=G.useState(null),{current:c}=G.useRef({httpDoneCount:0}),[d,p]=G.useState(!1);G.useEffect(()=>{n?!s&&!o&&Cu.player().then(f=>{f.code?(f.code==500||f.code==404||f.code==401)&&Cu.authAndCanReTry()&&(r(Gr("")),i(!1)):a(f)}):Cu.auth().then(f=>{i(!0)})},[n]),G.useEffect(()=>{G.Children.count(t)==c.httpDoneCount&&o&&!o.code&&r(PU(o))},[o,c.httpDoneCount]);function h(){c.httpDoneCount++,p(!d)}return O(vi,{children:G.Children.map(t,f=>G.cloneElement(f,{on:n&&!!o&&!o.code,onComplete:h}))})};function $6({on:t,onComplete:e}){const{state:r,dispatch:n}=G.useContext(wt);G.useEffect(()=>{t&&Cu.load().then(i=>{i.code||(n(NU(i)),i.credit.isZero()||n(Tu(i.credit))),e(i)})},[t])}function j6({on:t,onComplete:e}){const{state:r,dispatch:n}=G.useContext(wt);G.useEffect(()=>{t&&Cu.lineBets().then(i=>{i.code||(n(BU(i)),n(Tu(i.lineBets[0])),e(i))})},[t])}function W6(){const{state:t,dispatch:e}=G.useContext(wt),{status:r,betAmount:n,betLevel:i}=t.spin;return G.useEffect(()=>{const s=ev();r=="spin"&&s.spin2(n.toNumber(),i.toNumber()).then(o=>{o.code?e(FU()):e(OU(o))})},[r]),O(vi,{})}const V6=Oo.Obj,oo=({children:t,onClick:e,channelId:r=m_,sound:n="click",volum:i=1,playing:s,softBgm:o=!0,soft:a,...c})=>{function d(p){e&&(e(p),V6.play(r,n,i,o))}return O("div",{...c,onClick:d,children:t})};function X6({cls:t="menu-mod",style:e,...r}){const{state:n,dispatch:i}=G.useContext(wt),{menuOn:s,soundOn:o}=n.setting;function a(w){i(cA(!1)),w&&w.stopPropagation()}function c(w){a(),i(WD(!0)),w.stopPropagation()}function d(w){i(jD(!o)),w.stopPropagation()}function p(){window.open(qe.Obj.urlOptions.fundsUrl,"_self")}function h(){a(),i(XD(!0))}function f(){window.open(qe.Obj.urlOptions.fundsUrl,"fund")}function g(){window.open(qe.Obj.urlOptions.livechatUrl,"LiveChat")}const y=u6(qe.Obj.filterImageFormat(["avif","webp","png"]));return O(oo,{className:`page-mod ${s?"db":"dn"}`,onClick:a,children:O("div",{className:`${t} ${s?"open":"close"}`,style:e,onClick:w=>w.stopPropagation(),children:Se("div",{className:"list",children:[Se("div",{className:`cell ${qe.Obj.urlOptions.funPLay?"fun-play":""}`,children:[Se(oo,{className:"item w-33 btn-mod",onClick:c,children:[O("div",{className:`icon-mod icon paytable ${y}`}),O(go,{className:"title",children:"paytable"})]}),Se(oo,{className:"item w-33 btn-mod",onClick:d,children:[O("div",{className:`icon-mod icon ${o?"sound-on":"sound-off"} ${y}`}),O(go,{className:"title",children:"sound"})]}),Se(oo,{className:"item w-33 btn-mod",onClick:p,children:[O("div",{className:`icon-mod icon lobby ${y}`}),O(go,{className:"title",children:"lobby"})]})]}),Se("div",{className:`cell ${qe.Obj.urlOptions.funPLay?"hidden":"visible"}`,children:[Se(oo,{className:"item w-33 btn-mod",onClick:h,children:[O("div",{className:`icon-mod icon history ${y}`}),O(go,{className:"title",children:"History"})]}),Se(oo,{className:"item w-33 btn-mod",onClick:f,children:[O("div",{className:`icon-mod icon transfer ${y}`}),O(go,{className:"title",children:"Transfer"})]}),Se(oo,{className:"item w-33 btn-mod",onClick:g,children:[O("div",{className:`icon-mod icon chat ${y}`}),O(go,{className:"title",children:"Customer Service"})]})]})]})})})}const Y6=()=>Se(s6,{id:"game-canvas",className:"game-context-mod",children:[O(Be,{children:Se(a6,{children:[O(w6,{id:"preload",next:"load"}),O(T6,{id:"load",next:"premain"}),O(I6,{id:"premain"}),O(z6,{id:"main"})]})}),O(X6,{}),O(ES,{}),O(ES,{}),O(W6,{}),Se(H6,{children:[O(j6,{}),O($6,{})]})]});c5(O(Y6,{}),["Figtree"])});export default q6();
