var FI=Object.defineProperty;var LI=(t,e,r)=>e in t?FI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var DI=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ce=(t,e,r)=>(LI(t,typeof e!="symbol"?e+"":e,r),r);var y6=DI((x6,Wf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var uE={exports:{}},ff={},cE={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Symbol.for("react.element"),BI=Symbol.for("react.portal"),UI=Symbol.for("react.fragment"),GI=Symbol.for("react.strict_mode"),zI=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),jI=Symbol.for("react.forward_ref"),VI=Symbol.for("react.suspense"),WI=Symbol.for("react.memo"),XI=Symbol.for("react.lazy"),Q1=Symbol.iterator;function YI(t){return t===null||typeof t!="object"?null:(t=Q1&&t[Q1]||t["@@iterator"],typeof t=="function"?t:null)}var hE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,fE={};function il(t,e,r){this.props=t,this.context=e,this.refs=fE,this.updater=r||hE}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pE(){}pE.prototype=il.prototype;function Lv(t,e,r){this.props=t,this.context=e,this.refs=fE,this.updater=r||hE}var Dv=Lv.prototype=new pE;Dv.constructor=Lv;dE(Dv,il.prototype);Dv.isPureReactComponent=!0;var K1=Array.isArray,mE=Object.prototype.hasOwnProperty,Bv={current:null},gE={key:!0,ref:!0,__self:!0,__source:!0};function vE(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mE.call(e,n)&&!gE.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:qu,type:t,key:s,ref:o,props:i,_owner:Bv.current}}function qI(t,e){return{$$typeof:qu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===qu}function QI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Z1=/\/+/g;function hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QI(""+t.key):e.toString(36)}function Gh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qu:case BI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+hm(o,0):n,K1(i)?(r="",t!=null&&(r=t.replace(Z1,"$&/")+"/"),Gh(i,e,r,"",function(d){return d})):i!=null&&(Uv(i)&&(i=qI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Z1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",K1(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+hm(s,a);o+=Gh(s,e,r,c,i)}else if(c=YI(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+hm(s,a++),o+=Gh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xc(t,e,r){if(t==null)return t;var n=[],i=0;return Gh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function KI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},zh={transition:null},ZI={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:zh,ReactCurrentOwner:Bv};Fe.Children={map:Xc,forEach:function(t,e,r){Xc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xc(t,function(){e++}),e},toArray:function(t){return Xc(t,function(e){return e})||[]},only:function(t){if(!Uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=il;Fe.Fragment=UI;Fe.Profiler=zI;Fe.PureComponent=Lv;Fe.StrictMode=GI;Fe.Suspense=VI;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;Fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)mE.call(e,c)&&!gE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:qu,type:t.type,key:i,ref:s,props:n,_owner:o}};Fe.createContext=function(t){return t={$$typeof:$I,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HI,_context:t},t.Consumer=t};Fe.createElement=vE;Fe.createFactory=function(t){var e=vE.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:jI,render:t}};Fe.isValidElement=Uv;Fe.lazy=function(t){return{$$typeof:XI,_payload:{_status:-1,_result:t},_init:KI}};Fe.memo=function(t,e){return{$$typeof:WI,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=zh.transition;zh.transition={};try{t()}finally{zh.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return gr.current.useCallback(t,e)};Fe.useContext=function(t){return gr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return gr.current.useEffect(t,e)};Fe.useId=function(){return gr.current.useId()};Fe.useImperativeHandle=function(t,e,r){return gr.current.useImperativeHandle(t,e,r)};Fe.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return gr.current.useMemo(t,e)};Fe.useReducer=function(t,e,r){return gr.current.useReducer(t,e,r)};Fe.useRef=function(t){return gr.current.useRef(t)};Fe.useState=function(t){return gr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,r){return gr.current.useSyncExternalStore(t,e,r)};Fe.useTransition=function(){return gr.current.useTransition()};Fe.version="18.2.0";cE.exports=Fe;var V=cE.exports;const Di=Yu(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=V,e2=Symbol.for("react.element"),t2=Symbol.for("react.fragment"),r2=Object.prototype.hasOwnProperty,n2=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i2={key:!0,ref:!0,__self:!0,__source:!0};function yE(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)r2.call(e,n)&&!i2.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:e2,type:t,key:s,ref:o,props:i,_owner:n2.current}}ff.Fragment=t2;ff.jsx=yE;ff.jsxs=yE;uE.exports=ff;var Gv=uE.exports;const Dn=Gv.Fragment,ne=Gv.jsx,qt=Gv.jsxs;function Ma(t){return t!=null}function wu(t){return t==null}function s2(t){return typeof t=="string"}function o2(t){return typeof t=="number"}function a2(t){return Object.keys(t).length===0&&t.constructor===Object}function l2(...t){let e={};for(let r=0;r<t.length;r++){let n=t[r];if(n!=null)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const uf=class uf{constructor(){Ce(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new uf),this._Obj}map(e,r){let n=new p2(e,r);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...r){let n=this.mappings[e];if(!wu(n))return n.get(r)}resolve(){console.warn("Injector.resolve() is not implement yet")}};Ce(uf,"_Obj");let Ig=uf;class u2{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class c2{constructor(e){this.type=e}get(e){return _E(this.type,e)}destroy(){this.type=void 0}}class h2{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class d2{constructor(e){Ce(this,"instance");this.type=e}get(e){return wu(this.instance)&&(this.instance=_E(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class f2{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class p2{constructor(e,r){Ce(this,"provider");this.name=e,this.type=r}get(e){return wu(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new u2(e)}toType(e){this.destroy(),this.provider=new c2(e)}toSingleton(e){this.destroy(),this.provider=new d2(e)}asSingleton(){if(this.destroy(),wu(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new f2(e)}toFunction(e){this.destroy(),this.provider=new h2(e)}destroy(){Ma(this.provider)&&this.provider.destroy()}}function _E(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const Mo=Ig.Obj;function Rl(t){return Mo.get(`action_fc:${t}`)}function zv(t,e){Mo.map(`action_init:${t}`).toValue(e)}function pa(t){return Mo.get(`action_init:${t}`)}const xE="apiService";function m2(t){return Mo.map(xE).toSingleton(t)}function Hv(){return Mo.get(xE)}function g2(t,e){return Mo.map(`parser:${t}`).toValue(e)}function Ei(t){return Mo.get(`parser:${t}`)}const v2="geisha",y2=1702019862915,_2={title:v2,assetVersion:y2};function x2(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(r=>{let n=r.replace(/\+/g," ").split("="),i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function w2(t){let e="",r=0;for(let n in t)t[n]&&(r++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function b2(t){return t===void 0&&(t=$v()),`${location.protocol}//${location.host}${location.pathname}?`+w2(t)}function $v(){return x2(location.search)}function E2(t,e){let r=$v();return r[t]=e,b2(r)}function Fr(t,e){let r=$v();return r[t]?r[t]:e}var ko=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ko||{}),wE=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(wE||{}),Rg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Rg||{}),we=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(we||{}),Cn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Cn||{}),se=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(se||{}),ka=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ka||{}),ye=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ye||{}),ce=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ce||{}),ki=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ki||{}),Bi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Bi||{}),hi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(hi||{}),Er=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Er||{}),ri=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ri||{}),jv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(jv||{}),sn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(sn||{}),Ct=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ct||{}),Et=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Et||{}),ai=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ai||{});const S2={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},he={ADAPTER:S2,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var dm=/iPhone/i,J1=/iPod/i,ex=/iPad/i,tx=/\biOS-universal(?:.+)Mac\b/i,fm=/\bAndroid(?:.+)Mobile\b/i,rx=/Android/i,Jo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yc=/Silk/i,Si=/Windows Phone/i,nx=/\bWindows(?:.+)ARM\b/i,ix=/BlackBerry/i,sx=/BB10/i,ox=/Opera Mini/i,ax=/\b(CriOS|Chrome)(?:.+)Mobile/i,lx=/Mobile(?:.+)Firefox\b/i,ux=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function T2(t){return function(e){return e.test(t)}}function cx(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=T2(r),s={apple:{phone:i(dm)&&!i(Si),ipod:i(J1),tablet:!i(dm)&&(i(ex)||ux(e))&&!i(Si),universal:i(tx),device:(i(dm)||i(J1)||i(ex)||i(tx)||ux(e))&&!i(Si)},amazon:{phone:i(Jo),tablet:!i(Jo)&&i(Yc),device:i(Jo)||i(Yc)},android:{phone:!i(Si)&&i(Jo)||!i(Si)&&i(fm),tablet:!i(Si)&&!i(Jo)&&!i(fm)&&(i(Yc)||i(rx)),device:!i(Si)&&(i(Jo)||i(Yc)||i(fm)||i(rx))||i(/\bokhttp\b/i)},windows:{phone:i(Si),tablet:i(nx),device:i(Si)||i(nx)},other:{blackberry:i(ix),blackberry10:i(sx),opera:i(ox),firefox:i(lx),chrome:i(ax),device:i(ix)||i(sx)||i(ox)||i(lx)||i(ax)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const A2=cx.default??cx,Pn=A2(globalThis.navigator);he.RETINA_PREFIX=/@([0-9\.]+)x/;he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var bE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function s(c,d,p,h,f){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,h||c,f),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,g=h.length,y=new Array(g);f<g;f++)y[f]=h[f].fn;return y},a.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},a.prototype.emit=function(d,p,h,f,g,y){var w=r?r+d:d;if(!this._events[w])return!1;var E=this._events[w],x=arguments.length,S,b;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,h),!0;case 4:return E.fn.call(E.context,p,h,f),!0;case 5:return E.fn.call(E.context,p,h,f,g),!0;case 6:return E.fn.call(E.context,p,h,f,g,y),!0}for(b=1,S=new Array(x-1);b<x;b++)S[b-1]=arguments[b];E.fn.apply(E.context,S)}else{var A=E.length,P;for(b=0;b<A;b++)switch(E[b].once&&this.removeListener(d,E[b].fn,void 0,!0),x){case 1:E[b].fn.call(E[b].context);break;case 2:E[b].fn.call(E[b].context,p);break;case 3:E[b].fn.call(E[b].context,p,h);break;case 4:E[b].fn.call(E[b].context,p,h,f);break;default:if(!S)for(P=1,S=new Array(x-1);P<x;P++)S[P-1]=arguments[P];E[b].fn.apply(E[b].context,S)}}return!0},a.prototype.on=function(d,p,h){return s(this,d,p,h,!1)},a.prototype.once=function(d,p,h){return s(this,d,p,h,!0)},a.prototype.removeListener=function(d,p,h,f){var g=r?r+d:d;if(!this._events[g])return this;if(!p)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===p&&(!f||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var w=0,E=[],x=y.length;w<x;w++)(y[w].fn!==p||f&&!y[w].once||h&&y[w].context!==h)&&E.push(y[w]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(bE);var C2=bE.exports;const Qu=Yu(C2);var Vv={exports:{}};Vv.exports=pf;Vv.exports.default=pf;function pf(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=EE(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,d,p,h,f,g;if(n&&(s=k2(t,e,s,r)),t.length>80*r){a=d=t[0],c=p=t[1];for(var y=r;y<i;y+=r)h=t[y],f=t[y+1],h<a&&(a=h),f<c&&(c=f),h>d&&(d=h),f>p&&(p=f);g=Math.max(d-a,p-c),g=g!==0?32767/g:0}return bu(s,o,r,a,c,g,0),o}function EE(t,e,r,n,i){var s,o;if(i===Ng(t,e,r,n)>0)for(s=e;s<r;s+=n)o=hx(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=hx(s,t[s],t[s+1],o);return o&&mf(o,o.next)&&(Su(o),o=o.next),o}function So(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(mf(r,r.next)||ct(r.prev,r,r.next)===0)){if(Su(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function bu(t,e,r,n,i,s,o){if(t){!o&&s&&D2(t,n,i,s);for(var a=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?I2(t,n,i,s):P2(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Su(t),t=d.next,a=d.next;continue}if(t=d,t===a){o?o===1?(t=R2(So(t),e,r),bu(t,e,r,n,i,s,2)):o===2&&M2(t,e,r,n,i,s):bu(So(t),e,r,n,i,s,1);break}}}}function P2(t){var e=t.prev,r=t,n=t.next;if(ct(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,d=n.y,p=i<s?i<o?i:o:s<o?s:o,h=a<c?a<d?a:d:c<d?c:d,f=i>s?i>o?i:o:s>o?s:o,g=a>c?a>d?a:d:c>d?c:d,y=n.next;y!==e;){if(y.x>=p&&y.x<=f&&y.y>=h&&y.y<=g&&ma(i,a,s,c,o,d,y.x,y.y)&&ct(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function I2(t,e,r,n){var i=t.prev,s=t,o=t.next;if(ct(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,d=o.x,p=i.y,h=s.y,f=o.y,g=a<c?a<d?a:d:c<d?c:d,y=p<h?p<f?p:f:h<f?h:f,w=a>c?a>d?a:d:c>d?c:d,E=p>h?p>f?p:f:h>f?h:f,x=Mg(g,y,e,r,n),S=Mg(w,E,e,r,n),b=t.prevZ,A=t.nextZ;b&&b.z>=x&&A&&A.z<=S;){if(b.x>=g&&b.x<=w&&b.y>=y&&b.y<=E&&b!==i&&b!==o&&ma(a,p,c,h,d,f,b.x,b.y)&&ct(b.prev,b,b.next)>=0||(b=b.prevZ,A.x>=g&&A.x<=w&&A.y>=y&&A.y<=E&&A!==i&&A!==o&&ma(a,p,c,h,d,f,A.x,A.y)&&ct(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;b&&b.z>=x;){if(b.x>=g&&b.x<=w&&b.y>=y&&b.y<=E&&b!==i&&b!==o&&ma(a,p,c,h,d,f,b.x,b.y)&&ct(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=S;){if(A.x>=g&&A.x<=w&&A.y>=y&&A.y<=E&&A!==i&&A!==o&&ma(a,p,c,h,d,f,A.x,A.y)&&ct(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function R2(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!mf(i,s)&&SE(i,n,n.next,s)&&Eu(i,s)&&Eu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Su(n),Su(n.next),n=t=s),n=n.next}while(n!==t);return So(n)}function M2(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&G2(o,a)){var c=TE(o,a);o=So(o,o.next),c=So(c,c.next),bu(o,e,r,n,i,s,0),bu(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function k2(t,e,r,n){var i=[],s,o,a,c,d;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,d=EE(t,a,c,n,!1),d===d.next&&(d.steiner=!0),i.push(U2(d));for(i.sort(N2),s=0;s<i.length;s++)r=O2(i[s],r);return r}function N2(t,e){return t.x-e.x}function O2(t,e){var r=F2(t,e);if(!r)return e;var n=TE(r,t);return So(n,n.next),So(r,r.next)}function F2(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,p=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&ma(i<p?n:s,i,d,p,i<p?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Eu(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&L2(o,r)))&&(o=r,h=f)),r=r.next;while(r!==c);return o}function L2(t,e){return ct(t.prev,t,e.prev)<0&&ct(e.next,t,t.next)<0}function D2(t,e,r,n){var i=t;do i.z===0&&(i.z=Mg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,B2(i)}function B2(t){var e,r,n,i,s,o,a,c,d=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<d&&(a++,n=n.nextZ,!!n);e++);for(c=d;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(o>1);return t}function Mg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function U2(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ma(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function G2(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!z2(t,e)&&(Eu(t,e)&&Eu(e,t)&&H2(t,e)&&(ct(t.prev,t,e.prev)||ct(t,e.prev,e))||mf(t,e)&&ct(t.prev,t,t.next)>0&&ct(e.prev,e,e.next)>0)}function ct(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function mf(t,e){return t.x===e.x&&t.y===e.y}function SE(t,e,r,n){var i=Qc(ct(t,e,r)),s=Qc(ct(t,e,n)),o=Qc(ct(r,n,t)),a=Qc(ct(r,n,e));return!!(i!==s&&o!==a||i===0&&qc(t,r,e)||s===0&&qc(t,n,e)||o===0&&qc(r,t,n)||a===0&&qc(r,e,n))}function qc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Qc(t){return t>0?1:t<0?-1:0}function z2(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&SE(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Eu(t,e){return ct(t.prev,t,t.next)<0?ct(t,e,t.next)>=0&&ct(t,t.prev,e)>=0:ct(t,e,t.prev)<0||ct(t,t.next,e)<0}function H2(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function TE(t,e){var r=new kg(t.i,t.x,t.y),n=new kg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function hx(t,e,r,n){var i=new kg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Su(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}pf.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Ng(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var d=e[a]*r,p=a<c-1?e[a+1]*r:t.length;o-=Math.abs(Ng(t,d,p,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,g=n[a+1]*r,y=n[a+2]*r;h+=Math.abs((t[f]-t[y])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[y+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Ng(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}pf.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var $2=Vv.exports;const j2=Yu($2);var dd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */dd.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Mi=="object"&&Mi;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,d=1,p=26,h=38,f=700,g=72,y=128,w="-",E=/^xn--/,x=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-d,P=Math.floor,N=String.fromCharCode,k;function R(L){throw new RangeError(b[L])}function B(L,U){for(var ee=L.length,Te=[];ee--;)Te[ee]=U(L[ee]);return Te}function $(L,U){var ee=L.split("@"),Te="";ee.length>1&&(Te=ee[0]+"@",L=ee[1]),L=L.replace(S,".");var Ee=L.split("."),He=B(Ee,U).join(".");return Te+He}function K(L){for(var U=[],ee=0,Te=L.length,Ee,He;ee<Te;)Ee=L.charCodeAt(ee++),Ee>=55296&&Ee<=56319&&ee<Te?(He=L.charCodeAt(ee++),(He&64512)==56320?U.push(((Ee&1023)<<10)+(He&1023)+65536):(U.push(Ee),ee--)):U.push(Ee);return U}function z(L){return B(L,function(U){var ee="";return U>65535&&(U-=65536,ee+=N(U>>>10&1023|55296),U=56320|U&1023),ee+=N(U),ee}).join("")}function F(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:c}function j(L,U){return L+22+75*(L<26)-((U!=0)<<5)}function Z(L,U,ee){var Te=0;for(L=ee?P(L/f):L>>1,L+=P(L/U);L>A*p>>1;Te+=c)L=P(L/A);return P(Te+(A+1)*L/(L+h))}function J(L){var U=[],ee=L.length,Te,Ee=0,He=y,Re=g,ze,kt,jt,ft,Me,Ke,Be,Vr,Wr;for(ze=L.lastIndexOf(w),ze<0&&(ze=0),kt=0;kt<ze;++kt)L.charCodeAt(kt)>=128&&R("not-basic"),U.push(L.charCodeAt(kt));for(jt=ze>0?ze+1:0;jt<ee;){for(ft=Ee,Me=1,Ke=c;jt>=ee&&R("invalid-input"),Be=F(L.charCodeAt(jt++)),(Be>=c||Be>P((a-Ee)/Me))&&R("overflow"),Ee+=Be*Me,Vr=Ke<=Re?d:Ke>=Re+p?p:Ke-Re,!(Be<Vr);Ke+=c)Wr=c-Vr,Me>P(a/Wr)&&R("overflow"),Me*=Wr;Te=U.length+1,Re=Z(Ee-ft,Te,ft==0),P(Ee/Te)>a-He&&R("overflow"),He+=P(Ee/Te),Ee%=Te,U.splice(Ee++,0,He)}return z(U)}function oe(L){var U,ee,Te,Ee,He,Re,ze,kt,jt,ft,Me,Ke=[],Be,Vr,Wr,Vs;for(L=K(L),Be=L.length,U=y,ee=0,He=g,Re=0;Re<Be;++Re)Me=L[Re],Me<128&&Ke.push(N(Me));for(Te=Ee=Ke.length,Ee&&Ke.push(w);Te<Be;){for(ze=a,Re=0;Re<Be;++Re)Me=L[Re],Me>=U&&Me<ze&&(ze=Me);for(Vr=Te+1,ze-U>P((a-ee)/Vr)&&R("overflow"),ee+=(ze-U)*Vr,U=ze,Re=0;Re<Be;++Re)if(Me=L[Re],Me<U&&++ee>a&&R("overflow"),Me==U){for(kt=ee,jt=c;ft=jt<=He?d:jt>=He+p?p:jt-He,!(kt<ft);jt+=c)Vs=kt-ft,Wr=c-ft,Ke.push(N(j(ft+Vs%Wr,0))),kt=P(Vs/Wr);Ke.push(N(j(kt,0))),He=Z(ee,Vr,Te==Ee),ee=0,++Te}++ee,++U}return Ke.join("")}function M(L){return $(L,function(U){return E.test(U)?J(U.slice(4).toLowerCase()):U})}function W(L){return $(L,function(U){return x.test(U)?"xn--"+oe(U):U})}if(o={version:"1.4.1",ucs2:{decode:K,encode:z},decode:J,encode:oe,toASCII:W,toUnicode:M},n&&i)if(t.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else r.punycode=o})(Mi)})(dd,dd.exports);var V2=dd.exports,W2=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},dx=typeof Symbol<"u"&&Symbol,X2=W2,Y2=function(){return typeof dx!="function"||typeof Symbol!="function"||typeof dx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:X2()},fx={foo:{}},q2=Object,Q2=function(){return{__proto__:fx}.foo===fx.foo&&!({__proto__:null}instanceof q2)},K2="Function.prototype.bind called on incompatible ",Z2=Object.prototype.toString,J2=Math.max,eR="[object Function]",px=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},tR=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},rR=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},nR=function(e){var r=this;if(typeof r!="function"||Z2.apply(r)!==eR)throw new TypeError(K2+r);for(var n=tR(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,px(n,arguments));return Object(p)===p?p:this}return r.apply(e,px(n,arguments))},o=J2(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+rR(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},iR=nR,Wv=Function.prototype.bind||iR,sR=Function.prototype.call,oR=Object.prototype.hasOwnProperty,aR=Wv,lR=aR.call(sR,oR),Ne,Va=SyntaxError,AE=Function,Na=TypeError,pm=function(t){try{return AE('"use strict"; return ('+t+").constructor;")()}catch{}},yo=Object.getOwnPropertyDescriptor;if(yo)try{yo({},"")}catch{yo=null}var mm=function(){throw new Na},uR=yo?function(){try{return arguments.callee,mm}catch{try{return yo(arguments,"callee").get}catch{return mm}}}():mm,ea=Y2(),cR=Q2(),Bt=Object.getPrototypeOf||(cR?function(t){return t.__proto__}:null),oa={},hR=typeof Uint8Array>"u"||!Bt?Ne:Bt(Uint8Array),_o={"%AggregateError%":typeof AggregateError>"u"?Ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ne:ArrayBuffer,"%ArrayIteratorPrototype%":ea&&Bt?Bt([][Symbol.iterator]()):Ne,"%AsyncFromSyncIteratorPrototype%":Ne,"%AsyncFunction%":oa,"%AsyncGenerator%":oa,"%AsyncGeneratorFunction%":oa,"%AsyncIteratorPrototype%":oa,"%Atomics%":typeof Atomics>"u"?Ne:Atomics,"%BigInt%":typeof BigInt>"u"?Ne:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ne:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ne:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ne:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ne:FinalizationRegistry,"%Function%":AE,"%GeneratorFunction%":oa,"%Int8Array%":typeof Int8Array>"u"?Ne:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ne:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ea&&Bt?Bt(Bt([][Symbol.iterator]())):Ne,"%JSON%":typeof JSON=="object"?JSON:Ne,"%Map%":typeof Map>"u"?Ne:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ea||!Bt?Ne:Bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ne:Promise,"%Proxy%":typeof Proxy>"u"?Ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ne:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ea||!Bt?Ne:Bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ea&&Bt?Bt(""[Symbol.iterator]()):Ne,"%Symbol%":ea?Symbol:Ne,"%SyntaxError%":Va,"%ThrowTypeError%":uR,"%TypedArray%":hR,"%TypeError%":Na,"%Uint8Array%":typeof Uint8Array>"u"?Ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ne:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ne:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ne:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ne:WeakSet};if(Bt)try{null.error}catch(t){var dR=Bt(Bt(t));_o["%Error.prototype%"]=dR}var fR=function t(e){var r;if(e==="%AsyncFunction%")r=pm("async function () {}");else if(e==="%GeneratorFunction%")r=pm("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=pm("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Bt&&(r=Bt(i.prototype))}return _o[e]=r,r},mx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ku=Wv,fd=lR,pR=Ku.call(Function.call,Array.prototype.concat),mR=Ku.call(Function.apply,Array.prototype.splice),gx=Ku.call(Function.call,String.prototype.replace),pd=Ku.call(Function.call,String.prototype.slice),gR=Ku.call(Function.call,RegExp.prototype.exec),vR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yR=/\\(\\)?/g,_R=function(e){var r=pd(e,0,1),n=pd(e,-1);if(r==="%"&&n!=="%")throw new Va("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Va("invalid intrinsic syntax, expected opening `%`");var i=[];return gx(e,vR,function(s,o,a,c){i[i.length]=a?gx(c,yR,"$1"):o||s}),i},xR=function(e,r){var n=e,i;if(fd(mx,n)&&(i=mx[n],n="%"+i[0]+"%"),fd(_o,n)){var s=_o[n];if(s===oa&&(s=fR(n)),typeof s>"u"&&!r)throw new Na("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Va("intrinsic "+e+" does not exist!")},No=function(e,r){if(typeof e!="string"||e.length===0)throw new Na("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Na('"allowMissing" argument must be a boolean');if(gR(/^%?[^%]*%?$/,e)===null)throw new Va("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_R(e),i=n.length>0?n[0]:"",s=xR("%"+i+"%",r),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],mR(n,pR([0,1],d)));for(var p=1,h=!0;p<n.length;p+=1){var f=n[p],g=pd(f,0,1),y=pd(f,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new Va("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",fd(_o,o))a=_o[o];else if(a!=null){if(!(f in a)){if(!r)throw new Na("base intrinsic for "+e+" exists, but the property is not available.");return}if(yo&&p+1>=n.length){var w=yo(a,f);h=!!w,h&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[f]}else h=fd(a,f),a=a[f];h&&!c&&(_o[o]=a)}}return a},CE={exports:{}},wR=No,Og=wR("%Object.defineProperty%",!0),Fg=function(){if(Og)try{return Og({},"a",{value:1}),!0}catch{return!1}return!1};Fg.hasArrayLengthDefineBug=function(){if(!Fg())return null;try{return Og([],"length",{value:1}).length!==1}catch{return!0}};var PE=Fg,bR=No,Hh=bR("%Object.getOwnPropertyDescriptor%",!0);if(Hh)try{Hh([],"length")}catch{Hh=null}var IE=Hh,ER=PE(),Xv=No,su=ER&&Xv("%Object.defineProperty%",!0);if(su)try{su({},"a",{value:1})}catch{su=!1}var SR=Xv("%SyntaxError%"),ta=Xv("%TypeError%"),vx=IE,TR=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ta("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ta("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ta("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ta("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ta("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ta("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!vx&&vx(e,r);if(su)su(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new SR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},RE=No,yx=TR,AR=PE(),_x=IE,xx=RE("%TypeError%"),CR=RE("%Math.floor%"),PR=function(e,r){if(typeof e!="function")throw new xx("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||CR(r)!==r)throw new xx("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&_x){var o=_x(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(AR?yx(e,"length",r,!0,!0):yx(e,"length",r)),e};(function(t){var e=Wv,r=No,n=PR,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+d(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p})(CE);var IR=CE.exports,ME=No,kE=IR,RR=kE(ME("String.prototype.indexOf")),MR=function(e,r){var n=ME(e,!!r);return typeof n=="function"&&RR(e,".prototype.")>-1?kE(n):n};const kR={},NR=Object.freeze(Object.defineProperty({__proto__:null,default:kR},Symbol.toStringTag,{value:"Module"})),OR=lE(NR);var Yv=typeof Map=="function"&&Map.prototype,gm=Object.getOwnPropertyDescriptor&&Yv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,md=Yv&&gm&&typeof gm.get=="function"?gm.get:null,wx=Yv&&Map.prototype.forEach,qv=typeof Set=="function"&&Set.prototype,vm=Object.getOwnPropertyDescriptor&&qv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gd=qv&&vm&&typeof vm.get=="function"?vm.get:null,bx=qv&&Set.prototype.forEach,FR=typeof WeakMap=="function"&&WeakMap.prototype,ou=FR?WeakMap.prototype.has:null,LR=typeof WeakSet=="function"&&WeakSet.prototype,au=LR?WeakSet.prototype.has:null,DR=typeof WeakRef=="function"&&WeakRef.prototype,Ex=DR?WeakRef.prototype.deref:null,BR=Boolean.prototype.valueOf,UR=Object.prototype.toString,GR=Function.prototype.toString,zR=String.prototype.match,Qv=String.prototype.slice,vs=String.prototype.replace,HR=String.prototype.toUpperCase,Sx=String.prototype.toLowerCase,NE=RegExp.prototype.test,Tx=Array.prototype.concat,ni=Array.prototype.join,$R=Array.prototype.slice,Ax=Math.floor,Lg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ym=Object.getOwnPropertySymbols,Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ar=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Wa||"symbol")?Symbol.toStringTag:null,OE=Object.prototype.propertyIsEnumerable,Cx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Px(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||NE.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Ax(-t):Ax(t);if(n!==t){var i=String(n),s=Qv.call(e,i.length+1);return vs.call(i,r,"$&_")+"."+vs.call(vs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return vs.call(e,r,"$&_")}var Bg=OR,Ix=Bg.custom,Rx=LE(Ix)?Ix:null,jR=function t(e,r,n,i){var s=r||{};if(us(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(us(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=us(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(us(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(us(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return BE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Px(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return a?Px(e,d):d}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return Ug(e)?"[Array]":"[Object]";var h=lM(s,n);if(typeof i>"u")i=[];else if(DE(i,e)>=0)return"[Circular]";function f(F,j,Z){if(j&&(i=$R.call(i),i.push(j)),Z){var J={depth:s.depth};return us(s,"quoteStyle")&&(J.quoteStyle=s.quoteStyle),t(F,J,n+1,i)}return t(F,s,n+1,i)}if(typeof e=="function"&&!Mx(e)){var g=JR(e),y=Kc(e,f);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+ni.call(y,", ")+" }":"")}if(LE(e)){var w=Wa?vs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dg.call(e);return typeof e=="object"&&!Wa?Ml(w):w}if(sM(e)){for(var E="<"+Sx.call(String(e.nodeName)),x=e.attributes||[],S=0;S<x.length;S++)E+=" "+x[S].name+"="+FE(VR(x[S].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+Sx.call(String(e.nodeName))+">",E}if(Ug(e)){if(e.length===0)return"[]";var b=Kc(e,f);return h&&!aM(b)?"["+Gg(b,h)+"]":"[ "+ni.call(b,", ")+" ]"}if(XR(e)){var A=Kc(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!OE.call(e,"cause")?"{ ["+String(e)+"] "+ni.call(Tx.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ni.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Rx&&typeof e[Rx]=="function"&&Bg)return Bg(e,{depth:p-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(eM(e)){var P=[];return wx&&wx.call(e,function(F,j){P.push(f(j,e,!0)+" => "+f(F,e))}),kx("Map",md.call(e),P,h)}if(nM(e)){var N=[];return bx&&bx.call(e,function(F){N.push(f(F,e))}),kx("Set",gd.call(e),N,h)}if(tM(e))return _m("WeakMap");if(iM(e))return _m("WeakSet");if(rM(e))return _m("WeakRef");if(qR(e))return Ml(f(Number(e)));if(KR(e))return Ml(f(Lg.call(e)));if(QR(e))return Ml(BR.call(e));if(YR(e))return Ml(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Mi)return"{ [object globalThis] }";if(!WR(e)&&!Mx(e)){var k=Kc(e,f),R=Cx?Cx(e)===Object.prototype:e instanceof Object||e.constructor===Object,B=e instanceof Object?"":"null prototype",$=!R&&ar&&Object(e)===e&&ar in e?Qv.call(Bs(e),8,-1):B?"Object":"",K=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=K+($||B?"["+ni.call(Tx.call([],$||[],B||[]),": ")+"] ":"");return k.length===0?z+"{}":h?z+"{"+Gg(k,h)+"}":z+"{ "+ni.call(k,", ")+" }"}return String(e)};function FE(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function VR(t){return vs.call(String(t),/"/g,"&quot;")}function Ug(t){return Bs(t)==="[object Array]"&&(!ar||!(typeof t=="object"&&ar in t))}function WR(t){return Bs(t)==="[object Date]"&&(!ar||!(typeof t=="object"&&ar in t))}function Mx(t){return Bs(t)==="[object RegExp]"&&(!ar||!(typeof t=="object"&&ar in t))}function XR(t){return Bs(t)==="[object Error]"&&(!ar||!(typeof t=="object"&&ar in t))}function YR(t){return Bs(t)==="[object String]"&&(!ar||!(typeof t=="object"&&ar in t))}function qR(t){return Bs(t)==="[object Number]"&&(!ar||!(typeof t=="object"&&ar in t))}function QR(t){return Bs(t)==="[object Boolean]"&&(!ar||!(typeof t=="object"&&ar in t))}function LE(t){if(Wa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Dg)return!1;try{return Dg.call(t),!0}catch{}return!1}function KR(t){if(!t||typeof t!="object"||!Lg)return!1;try{return Lg.call(t),!0}catch{}return!1}var ZR=Object.prototype.hasOwnProperty||function(t){return t in this};function us(t,e){return ZR.call(t,e)}function Bs(t){return UR.call(t)}function JR(t){if(t.name)return t.name;var e=zR.call(GR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function DE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function eM(t){if(!md||!t||typeof t!="object")return!1;try{md.call(t);try{gd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function tM(t){if(!ou||!t||typeof t!="object")return!1;try{ou.call(t,ou);try{au.call(t,au)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function rM(t){if(!Ex||!t||typeof t!="object")return!1;try{return Ex.call(t),!0}catch{}return!1}function nM(t){if(!gd||!t||typeof t!="object")return!1;try{gd.call(t);try{md.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function iM(t){if(!au||!t||typeof t!="object")return!1;try{au.call(t,au);try{ou.call(t,ou)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function sM(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function BE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return BE(Qv.call(t,0,e.maxStringLength),e)+n}var i=vs.call(vs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,oM);return FE(i,"single",e)}function oM(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+HR.call(e.toString(16))}function Ml(t){return"Object("+t+")"}function _m(t){return t+" { ? }"}function kx(t,e,r,n){var i=n?Gg(r,n):ni.call(r,", ");return t+" ("+e+") {"+i+"}"}function aM(t){for(var e=0;e<t.length;e++)if(DE(t[e],`
`)>=0)return!1;return!0}function lM(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ni.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ni.call(Array(e+1),r)}}function Gg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ni.call(t,","+r)+`
`+e.prev}function Kc(t,e){var r=Ug(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=us(t,i)?e(t[i],t):""}var s=typeof ym=="function"?ym(t):[],o;if(Wa){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)us(t,c)&&(r&&String(Number(c))===c&&c<t.length||Wa&&o["$"+c]instanceof Symbol||(NE.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof ym=="function")for(var d=0;d<s.length;d++)OE.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var Kv=No,sl=MR,uM=jR,cM=Kv("%TypeError%"),Zc=Kv("%WeakMap%",!0),Jc=Kv("%Map%",!0),hM=sl("WeakMap.prototype.get",!0),dM=sl("WeakMap.prototype.set",!0),fM=sl("WeakMap.prototype.has",!0),pM=sl("Map.prototype.get",!0),mM=sl("Map.prototype.set",!0),gM=sl("Map.prototype.has",!0),Zv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},vM=function(t,e){var r=Zv(t,e);return r&&r.value},yM=function(t,e,r){var n=Zv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},_M=function(t,e){return!!Zv(t,e)},xM=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new cM("Side channel does not contain "+uM(s))},get:function(s){if(Zc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return hM(e,s)}else if(Jc){if(r)return pM(r,s)}else if(n)return vM(n,s)},has:function(s){if(Zc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return fM(e,s)}else if(Jc){if(r)return gM(r,s)}else if(n)return _M(n,s);return!1},set:function(s,o){Zc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Zc),dM(e,s,o)):Jc?(r||(r=new Jc),mM(r,s,o)):(n||(n={key:{},next:null}),yM(n,s,o))}};return i},wM=String.prototype.replace,bM=/%20/g,xm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Jv={default:xm.RFC3986,formatters:{RFC1738:function(t){return wM.call(t,bM,"+")},RFC3986:function(t){return String(t)}},RFC1738:xm.RFC1738,RFC3986:xm.RFC3986},EM=Jv,wm=Object.prototype.hasOwnProperty,fo=Array.isArray,qn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),SM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(fo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},UE=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},TM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(fo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return fo(e)&&!fo(r)&&(i=UE(e,n)),fo(e)&&fo(r)?(r.forEach(function(s,o){if(wm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return wm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},AM=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},CM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},PM=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var d=o.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===EM.RFC1738&&(d===40||d===41)){a+=o.charAt(c);continue}if(d<128){a=a+qn[d];continue}if(d<2048){a=a+(qn[192|d>>6]+qn[128|d&63]);continue}if(d<55296||d>=57344){a=a+(qn[224|d>>12]+qn[128|d>>6&63]+qn[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|o.charCodeAt(c)&1023),a+=qn[240|d>>18]+qn[128|d>>12&63]+qn[128|d>>6&63]+qn[128|d&63]}return a},IM=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var d=a[c],p=o[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:d}),n.push(p))}return SM(r),e},RM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},MM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},kM=function(e,r){return[].concat(e,r)},NM=function(e,r){if(fo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},GE={arrayToObject:UE,assign:AM,combine:kM,compact:IM,decode:CM,encode:PM,isBuffer:MM,isRegExp:RM,maybeMap:NM,merge:TM},zE=xM,$h=GE,lu=Jv,OM=Object.prototype.hasOwnProperty,Nx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ii=Array.isArray,FM=Array.prototype.push,HE=function(t,e){FM.apply(t,Ii(e)?e:[e])},LM=Date.prototype.toISOString,Ox=lu.default,sr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:$h.encode,encodeValuesOnly:!1,format:Ox,formatter:lu.formatters[Ox],indices:!1,serializeDate:function(e){return LM.call(e)},skipNulls:!1,strictNullHandling:!1},DM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},bm={},BM=function t(e,r,n,i,s,o,a,c,d,p,h,f,g,y,w,E){for(var x=e,S=E,b=0,A=!1;(S=S.get(bm))!==void 0&&!A;){var P=S.get(e);if(b+=1,typeof P<"u"){if(P===b)throw new RangeError("Cyclic object value");A=!0}typeof S.get(bm)>"u"&&(b=0)}if(typeof c=="function"?x=c(r,x):x instanceof Date?x=h(x):n==="comma"&&Ii(x)&&(x=$h.maybeMap(x,function(J){return J instanceof Date?h(J):J})),x===null){if(s)return a&&!y?a(r,sr.encoder,w,"key",f):r;x=""}if(DM(x)||$h.isBuffer(x)){if(a){var N=y?r:a(r,sr.encoder,w,"key",f);return[g(N)+"="+g(a(x,sr.encoder,w,"value",f))]}return[g(r)+"="+g(String(x))]}var k=[];if(typeof x>"u")return k;var R;if(n==="comma"&&Ii(x))y&&a&&(x=$h.maybeMap(x,a)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(Ii(c))R=c;else{var B=Object.keys(x);R=d?B.sort(d):B}for(var $=i&&Ii(x)&&x.length===1?r+"[]":r,K=0;K<R.length;++K){var z=R[K],F=typeof z=="object"&&typeof z.value<"u"?z.value:x[z];if(!(o&&F===null)){var j=Ii(x)?typeof n=="function"?n($,z):$:$+(p?"."+z:"["+z+"]");E.set(e,b);var Z=zE();Z.set(bm,E),HE(k,t(F,j,n,i,s,o,n==="comma"&&y&&Ii(x)?null:a,c,d,p,h,f,g,y,w,Z))}}return k},UM=function(e){if(!e)return sr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||sr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=lu.default;if(typeof e.format<"u"){if(!OM.call(lu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=lu.formatters[n],s=sr.filter;return(typeof e.filter=="function"||Ii(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:sr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?sr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:sr.charsetSentinel,delimiter:typeof e.delimiter>"u"?sr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:sr.encode,encoder:typeof e.encoder=="function"?e.encoder:sr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:sr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:sr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:sr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:sr.strictNullHandling}},GM=function(t,e){var r=t,n=UM(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Ii(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Nx?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Nx[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=zE(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||HE(o,BM(r[f],f,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var g=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""},Xa=GE,zg=Object.prototype.hasOwnProperty,zM=Array.isArray,Dt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Xa.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},HM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$E=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},$M="utf8=%26%2310003%3B",jM="utf8=%E2%9C%93",VM=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===jM?d="utf-8":o[c]===$M&&(d="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],h=p.indexOf("]="),f=h===-1?p.indexOf("="):h+1,g,y;f===-1?(g=r.decoder(p,Dt.decoder,d,"key"),y=r.strictNullHandling?null:""):(g=r.decoder(p.slice(0,f),Dt.decoder,d,"key"),y=Xa.maybeMap($E(p.slice(f+1),r),function(w){return r.decoder(w,Dt.decoder,d,"value")})),y&&r.interpretNumericEntities&&d==="iso-8859-1"&&(y=HM(y)),p.indexOf("[]=")>-1&&(y=zM(y)?[y]:y),zg.call(n,g)?n[g]=Xa.combine(n[g],y):n[g]=y}return n},WM=function(t,e,r,n){for(var i=n?e:$E(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},XM=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),d=c?s.slice(0,c.index):s,p=[];if(d){if(!n.plainObjects&&zg.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&zg.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),WM(p,r,n,i)}},YM=function(e){if(!e)return Dt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Dt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Dt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Dt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Dt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Dt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Dt.comma,decoder:typeof e.decoder=="function"?e.decoder:Dt.decoder,delimiter:typeof e.delimiter=="string"||Xa.isRegExp(e.delimiter)?e.delimiter:Dt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Dt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Dt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Dt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Dt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dt.strictNullHandling}},qM=function(t,e){var r=YM(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?VM(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=XM(a,n[a],r,typeof t=="string");i=Xa.merge(i,c,r)}return r.allowSparse===!0?i:Xa.compact(i)},QM=GM,KM=qM,ZM=Jv,JM={formats:ZM,parse:KM,stringify:QM},ek=V2;function Ui(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var tk=/^([a-z0-9.+-]+:)/i,rk=/:[0-9]*$/,nk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,ik=["<",">",'"',"`"," ","\r",`
`,"	"],sk=["{","}","|","\\","^","`"].concat(ik),Hg=["'"].concat(sk),Fx=["%","/","?",";","#"].concat(Hg),Lx=["/","?","#"],ok=255,Dx=/^[+a-z0-9A-Z_-]{0,63}$/,ak=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lk={javascript:!0,"javascript:":!0},$g={javascript:!0,"javascript:":!0},Oa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},jg=JM;function uk(t,e,r){if(t&&typeof t=="object"&&t instanceof Ui)return t;var n=new Ui;return n.parse(t,e,r),n}Ui.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=nk.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=jg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=tk.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(d&&$g[d])&&(a=a.substr(2),this.slashes=!0)}if(!$g[d]&&(h||d&&!Oa[d])){for(var f=-1,g=0;g<Lx.length;g++){var y=a.indexOf(Lx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}var w,E;f===-1?E=a.lastIndexOf("@"):E=a.lastIndexOf("@",f),E!==-1&&(w=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(w)),f=-1;for(var g=0;g<Fx.length;g++){var y=a.indexOf(Fx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var S=this.hostname.split(/\./),g=0,b=S.length;g<b;g++){var A=S[g];if(A&&!A.match(Dx)){for(var P="",N=0,k=A.length;N<k;N++)A.charCodeAt(N)>127?P+="x":P+=A[N];if(!P.match(Dx)){var R=S.slice(0,g),B=S.slice(g+1),$=A.match(ak);$&&(R.push($[1]),B.unshift($[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=R.join(".");break}}}this.hostname.length>ok?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=ek.toASCII(this.hostname));var K=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+K,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!lk[p])for(var g=0,b=Hg.length;g<b;g++){var F=Hg[g];if(a.indexOf(F)!==-1){var j=encodeURIComponent(F);j===F&&(j=escape(F)),a=a.split(F).join(j)}}var Z=a.indexOf("#");Z!==-1&&(this.hash=a.substr(Z),a=a.slice(0,Z));var J=a.indexOf("?");if(J!==-1?(this.search=a.substr(J),this.query=a.substr(J+1),e&&(this.query=jg.parse(this.query)),a=a.slice(0,J)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Oa[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",oe=this.search||"";this.path=K+oe}return this.href=this.format(),this};Ui.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=jg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Oa[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Ui.prototype.resolve=function(t){return this.resolveObject(uk(t,!1,!0)).format()};Ui.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ui;e.parse(t,!1,!0),t=e}for(var r=new Ui,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return Oa[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Oa[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var h=d[p];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!$g[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",g=r.search||"";r.path=f+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=w||y||r.host&&t.pathname,x=E,S=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!Oa[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),E=E&&(b[0]===""||S[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=b;else if(b.length)S||(S=[]),S.pop(),S=S.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=S.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=S.slice(-1)[0],k=(r.host||t.host||S.length>1)&&(N==="."||N==="..")||N==="",R=0,B=S.length;B>=0;B--)N=S[B],N==="."?S.splice(B,1):N===".."?(S.splice(B,1),R++):R&&(S.splice(B,1),R--);if(!E&&!x)for(;R--;R)S.unshift("..");E&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),k&&S.join("/").substr(-1)!=="/"&&S.push("");var $=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(A){r.hostname=$?"":S.length?S.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return E=E||r.host&&S.length,E&&!$&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ui.prototype.parseHost=function(){var t=this.host,e=rk.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Bx={};function ke(t,e,r=3){if(Bx[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Bx[e]=!0}function yn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function kl(t){return t.split("?")[0].split("#")[0]}function ck(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function hk(t,e,r){return t.replace(new RegExp(ck(e),"g"),r)}function dk(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Mt={toPosix(t){return hk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){yn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(yn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=kl(this.toPosix(e??he.ADAPTER.getBaseUrl())),i=kl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Mt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(yn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=dk(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return yn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(yn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(yn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){yn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){yn(t),e&&yn(e),t=kl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){yn(t),t=kl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){yn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=kl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,d=t.length-1,p=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}a===-1&&(c=!1,a=d+1),r===46?s===-1?s=d:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||a===-1||p===0||p===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Em;async function fk(){return Em??(Em=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Er.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Er.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Er.PMA:Er.UNPACK})()),Em}let Sm;function pk(){return typeof Sm>"u"&&(Sm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!he.ADAPTER.getWebGLRenderingContext())return!1;const r=he.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Sm}var mk={grad:.9,turn:360,rad:360/(2*Math.PI)},Ti=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ut=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},on=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},jE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Ux=function(t){return{r:on(t.r,0,255),g:on(t.g,0,255),b:on(t.b,0,255),a:on(t.a)}},Tm=function(t){return{r:Ut(t.r),g:Ut(t.g),b:Ut(t.b),a:Ut(t.a,3)}},gk=/^#([0-9a-f]{3,8})$/i,eh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},VE=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},WE=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,a,o,o,c,n][d],g:255*[c,n,n,a,o,o][d],b:255*[o,o,c,n,n,a][d],a:i}},Gx=function(t){return{h:jE(t.h),s:on(t.s,0,100),l:on(t.l,0,100),a:on(t.a)}},zx=function(t){return{h:Ut(t.h),s:Ut(t.s),l:Ut(t.l),a:Ut(t.a,3)}},Hx=function(t){return WE((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},uu=function(t){return{h:(e=VE(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},vk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_k=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vg={string:[[function(t){var e=gk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ut(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ut(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=_k.exec(t)||xk.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Ux({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=vk.exec(t)||yk.exec(t);if(!e)return null;var r,n,i=Gx({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(mk[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Hx(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Ti(e)&&Ti(r)&&Ti(n)?Ux({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Ti(e)||!Ti(r)||!Ti(n))return null;var o=Gx({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return Hx(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Ti(e)||!Ti(r)||!Ti(n))return null;var o=function(a){return{h:jE(a.h),s:on(a.s,0,100),v:on(a.v,0,100),a:on(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return WE(o)},"hsv"]]},$x=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},wk=function(t){return typeof t=="string"?$x(t.trim(),Vg.string):typeof t=="object"&&t!==null?$x(t,Vg.object):[null,void 0]},Am=function(t,e){var r=uu(t);return{h:r.h,s:on(r.s+100*e,0,100),l:r.l,a:r.a}},Cm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},jx=function(t,e){var r=uu(t);return{h:r.h,s:r.s,l:on(r.l+100*e,0,100),a:r.a}},Wg=function(){function t(e){this.parsed=wk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ut(Cm(this.rgba),2)},t.prototype.isDark=function(){return Cm(this.rgba)<.5},t.prototype.isLight=function(){return Cm(this.rgba)>=.5},t.prototype.toHex=function(){return e=Tm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?eh(Ut(255*s)):"","#"+eh(r)+eh(n)+eh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Tm(this.rgba)},t.prototype.toRgbString=function(){return e=Tm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return zx(uu(this.rgba))},t.prototype.toHslString=function(){return e=zx(uu(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=VE(this.rgba),{h:Ut(e.h),s:Ut(e.s),v:Ut(e.v),a:Ut(e.a,3)};var e},t.prototype.invert=function(){return Kn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Kn(Am(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Kn(Am(this.rgba,-e))},t.prototype.grayscale=function(){return Kn(Am(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Kn(jx(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Kn(jx(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Kn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ut(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=uu(this.rgba);return typeof e=="number"?Kn({h:e,s:r.s,l:r.l,a:r.a}):Ut(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Kn(e).toHex()},t}(),Kn=function(t){return t instanceof Wg?t:new Wg(t)},Vx=[],bk=function(t){t.forEach(function(e){Vx.indexOf(e)<0&&(e(Wg,Vg),Vx.push(e))})};function Ek(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var p=this.toRgb(),h=1/0,f="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var y in r){var w=(a=p,c=s[y],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));w<h&&(h=w,f=y)}return f}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}bk([Ek]);const aa=class jh{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof jh)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=jh.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=jh.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Kn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};aa.shared=new aa,aa.temp=new aa,aa.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let qe=aa;function Sk(t){return ke("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),qe.shared.setValue(t).toHex()}function Tk(t){return ke("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),qe.shared.setValue(t).toNumber()}function Ak(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[we.NORMAL_NPM]=we.NORMAL,t[we.ADD_NPM]=we.ADD,t[we.SCREEN_NPM]=we.SCREEN,e[we.NORMAL]=we.NORMAL_NPM,e[we.ADD]=we.ADD_NPM,e[we.SCREEN]=we.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const XE=Ak();function YE(t,e){return XE[e?1:0][t]}function Ck(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function qE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function vd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Wx(t){return!(t&t-1)&&!!t}function Xx(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Fa(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function ys(t){return t===0?0:t<0?-1:1}let Pk=0;function To(){return++Pk}const Xg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Xg.EMPTY=new Xg(0,0,0,0);let Yx=Xg;const qx={},Zn=Object.create(null),ss=Object.create(null);class Ik{constructor(e,r,n){this._canvas=he.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||he.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Qx(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Kx(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function Rk(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&Qx(i,e,o);)++o;if(o===r)return Yx.EMPTY;for(;Qx(i,e,c);)--c;for(;Kx(i,e,s,o,c);)++s;for(;Kx(i,e,a,o,c);)--a;return++a,++c,new Yx(s,o,a,c)}function Mk(t){const e=Rk(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function kk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function zi(t,e=1){var n;const r=(n=he.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var le=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(le||{});const Yg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Zx=(t,e)=>Yg(t).priority??e,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Yg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Yg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Zx(s,r)-Zx(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class qg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Nk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ok(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Fk(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Nk.replace(/%forloop%/gi,Ok(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Pm=0,Im=1,Rm=2,Mm=3,km=4,Nm=5;class vi{constructor(){this.data=0,this.blendMode=we.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Pm)}set blend(e){!!(this.data&1<<Pm)!==e&&(this.data^=1<<Pm)}get offsets(){return!!(this.data&1<<Im)}set offsets(e){!!(this.data&1<<Im)!==e&&(this.data^=1<<Im)}get culling(){return!!(this.data&1<<Rm)}set culling(e){!!(this.data&1<<Rm)!==e&&(this.data^=1<<Rm)}get depthTest(){return!!(this.data&1<<Mm)}set depthTest(e){!!(this.data&1<<Mm)!==e&&(this.data^=1<<Mm)}get depthMask(){return!!(this.data&1<<Nm)}set depthMask(e){!!(this.data&1<<Nm)!==e&&(this.data^=1<<Nm)}get clockwiseFrontFace(){return!!(this.data&1<<km)}set clockwiseFrontFace(e){!!(this.data&1<<km)!==e&&(this.data^=1<<km)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==we.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new vi;return e.depthTest=!1,e.blend=!0,e}}vi.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Qg=[];function QE(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Qg.length-1;n>=0;--n){const i=Qg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Mn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let h=0,f=p.length;h<f;h++)p[h][d](e,r,n,i,s,o,a,c);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Mn.prototype,{dispatch:{value:Mn.prototype.emit},run:{value:Mn.prototype.emit}});class Tu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Mn("setRealSize"),this.onUpdate=new Mn("update"),this.onError=new Mn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class gf extends Tu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Er.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Lk={scaleMode:ki.NEAREST,alphaMode:Er.NPM},Kg=class la extends Qu{constructor(e=null,r=null){super(),r=Object.assign({},la.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:d,format:p,type:h,target:f,resolution:g,resourceOptions:y}=r;e&&!(e instanceof Tu)&&(e=QE(e,y),e.internal=!0),this.resolution=g||he.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=p,this.type=h,this.target=f,this.alphaMode=n,this.uid=To(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Wx(this.realWidth)&&Wx(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ss[this.cacheId],delete Zn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),la.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${To()}`}s=e._pixiId}let o=ss[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new la(e,r),o.cacheId=s,la.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new gf(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=se.RGBA,a=ye.FLOAT):e instanceof Int32Array?(o=se.RGBA_INTEGER,a=ye.INT):e instanceof Uint32Array?(o=se.RGBA_INTEGER,a=ye.UNSIGNED_INT):e instanceof Int16Array?(o=se.RGBA_INTEGER,a=ye.SHORT):e instanceof Uint16Array?(o=se.RGBA_INTEGER,a=ye.UNSIGNED_SHORT):e instanceof Int8Array?(o=se.RGBA,a=ye.BYTE):(o=se.RGBA,a=ye.UNSIGNED_BYTE),s.internal=!0,new la(s,Object.assign({},Lk,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ss[r]&&ss[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),ss[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ss[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ss[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ss[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Kg.defaultOptions={mipmap:hi.POW2,anisotropicLevel:0,scaleMode:ki.LINEAR,wrapMode:Bi.CLAMP,alphaMode:Er.UNPACK,target:ka.TEXTURE_2D,format:se.RGBA,type:ye.UNSIGNED_BYTE},Kg._globalBatch=0;let Ae=Kg;class Zg{constructor(){this.texArray=null,this.blend=0,this.type=Cn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Dk=0;class _t{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Dk++,this.disposeRunner=new Mn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ai.ELEMENT_ARRAY_BUFFER:ai.ARRAY_BUFFER}get index(){return this.type===ai.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new _t(e)}}class yd{constructor(e,r=0,n=!1,i=ye.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new yd(e,r,n,i,s)}}const Bk={Float32Array,Uint32Array,Int32Array,Uint8Array};function Uk(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],p=t[c],h=qE(p);i[h]||(i[h]=new Bk[h](s)),o=i[h];for(let f=0;f<p.length;f++){const g=(f/d|0)*n+a,y=f%d;o[g+y]=p[f]}a+=d}return new Float32Array(s)}const Jx={5126:4,5123:2,5121:1};let Gk=0;const zk={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ks{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Gk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Mn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof _t||(r instanceof Array&&(r=new Float32Array(r)),r=new _t(r));const d=e.split("|");if(d.length>1){for(let h=0;h<d.length;h++)this.addAttribute(d[h],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new yd(p,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof _t||(e instanceof Array&&(e=new Uint16Array(e)),e=new _t(e)),e.type=ai.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new _t;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*Jx[s.type]/4),s.buffer=0}for(n.data=Uk(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ks;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new _t(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new yd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ai.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ks,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new zk[qE(o.buffers[a].data)](i[a]),r.buffers[a]=new _t(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ai.ELEMENT_ARRAY_BUFFER;let a=0,c=0,d=0,p=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){p=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===p&&(c+=f.size*Jx[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let g=0;g<f.length;g++)r.indexBuffer.data[g+d]+=a;a+=e[h].buffers[p].data.length/c,d+=f.length}}return r}}class KE extends ks{constructor(e=!1){super(),this._buffer=new _t(null,e,!1),this._indexBuffer=new _t(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ye.FLOAT).addIndex(this._indexBuffer)}}const _d=Math.PI*2,Hk=180/Math.PI,$k=Math.PI/180;var Yt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Yt||{});class Oe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Oe.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const th=[new Oe,new Oe,new Oe,new Oe];let Pe=class Jg{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Yt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Jg(0,0,0,0)}clone(){return new Jg(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const B=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>B}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=th[0].set(e.left,e.top),c=th[1].set(e.left,e.bottom),d=th[2].set(e.right,e.top),p=th[3].set(e.right,e.bottom);if(d.x<=a.x||c.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(c,c),r.apply(d,d),r.apply(p,p),Math.max(a.x,c.x,d.x,p.x)<=n||Math.min(a.x,c.x,d.x,p.x)>=i||Math.max(a.y,c.y,d.y,p.y)<=s||Math.min(a.y,c.y,d.y,p.y)>=o))return!1;const f=h*(c.y-a.y),g=h*(a.x-c.x),y=f*n+g*s,w=f*i+g*s,E=f*n+g*o,x=f*i+g*o;if(Math.max(y,w,E,x)<=f*a.x+g*a.y||Math.min(y,w,E,x)>=f*p.x+g*p.y)return!1;const S=h*(a.y-d.y),b=h*(d.x-a.x),A=S*n+b*s,P=S*i+b*s,N=S*n+b*o,k=S*i+b*o;return!(Math.max(A,P,N,k)<=S*a.x+b*a.y||Math.min(A,P,N,k)>=S*p.x+b*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}};Pe.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class vf{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Yt.CIRC}clone(){return new vf(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Pe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}vf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class yf{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Yt.ELIP}clone(){return new yf(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Pe(this.x-this.width,this.y-this.height,this.width,this.height)}}yf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class xo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Yt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new xo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],p=this.points[o*2+1];c>r!=p>r&&e<(d-a)*((r-c)/(p-c))+a&&(n=!n)}return n}}xo.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class _f{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Yt.RREC}clone(){return new _f(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}_f.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class tt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Oe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Oe;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,d){return this.a=Math.cos(a+d)*s,this.b=Math.sin(a+d)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(a+c);return d<1e-5||Math.abs(_d-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new tt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new tt}static get TEMP_MATRIX(){return new tt}}tt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const io=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],so=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],oo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ao=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],e0=[],ZE=[],rh=Math.sign;function jk(){for(let t=0;t<16;t++){const e=[];e0.push(e);for(let r=0;r<16;r++){const n=rh(io[t]*io[r]+oo[t]*so[r]),i=rh(so[t]*io[r]+ao[t]*so[r]),s=rh(io[t]*oo[r]+oo[t]*ao[r]),o=rh(so[t]*oo[r]+ao[t]*ao[r]);for(let a=0;a<16;a++)if(io[a]===n&&so[a]===i&&oo[a]===s&&ao[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new tt;e.set(io[t],so[t],oo[t],ao[t],0,0),ZE.push(e)}}jk();const lt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>io[t],uY:t=>so[t],vX:t=>oo[t],vY:t=>ao[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>e0[t][e],sub:(t,e)=>e0[t][lt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?lt.S:lt.N:Math.abs(e)*2<=Math.abs(t)?t>0?lt.E:lt.W:e>0?t>0?lt.SE:lt.SW:t>0?lt.NE:lt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=ZE[lt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class si{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new si(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}si.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const t0=class{constructor(){this.worldTransform=new tt,this.localTransform=new tt,this.position=new si(this.onChange,this,0,0),this.scale=new si(this.onChange,this,1,1),this.pivot=new si(this.onChange,this,0,0),this.skew=new si(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};t0.IDENTITY=new t0;let xf=t0;xf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Vk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Wk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function ew(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Om(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function JE(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Om(2*e);case"bvec3":return Om(3*e);case"bvec4":return Om(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const La=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Xk={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Yk={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function qk(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<La.length;c++)if(La[c].test(s,o)){r.push(La[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?Xk:Yk)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const eS={};let ra=eS;function Qk(){if(ra===eS||ra!=null&&ra.isContextLost()){const t=he.ADAPTER.createCanvas();let e;he.PREFER_ENV>=ko.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ra=e}return ra}let nh;function Kk(){if(!nh){nh=sn.MEDIUM;const t=Qk();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(nh=e.precision?sn.HIGH:sn.MEDIUM)}}return nh}function tw(t,e){const r=t.getShaderSource(e).split(`
`).map((d,p)=>`${p}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),a=[""];o.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Zk(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||tw(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||tw(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Jk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function tS(t){return Jk[t]}let ih=null;const rw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function rS(t,e){if(!ih){const r=Object.keys(rw);ih={};for(let n=0;n<r.length;++n){const i=r[n];ih[t[i]]=rw[i]}}return ih[e]}function nw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===sn.HIGH&&r!==sn.HIGH&&(n=sn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==sn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Nl;function e3(){if(typeof Nl=="boolean")return Nl;try{Nl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Nl=!1}return Nl}let t3=0;const sh={},r0=class ua{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=t3++,this.vertexSrc=e||ua.defaultVertexSrc,this.fragmentSrc=r||ua.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),sh[n]?(sh[n]++,n+=`-${sh[n]}`):sh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=nw(this.vertexSrc,ua.defaultVertexPrecision,sn.HIGH),this.fragmentSrc=nw(this.fragmentSrc,ua.defaultFragmentPrecision,Kk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Wk}static get defaultFragmentSrc(){return Vk}static from(e,r,n){const i=e+r;let s=qx[i];return s||(qx[i]=s=new ua(e,r,n)),s}};r0.defaultVertexPrecision=sn.HIGH,r0.defaultFragmentPrecision=Pn.apple.device?sn.HIGH:sn.MEDIUM;let Ni=r0,r3=0;class kn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=r3++,this.static=!!r,this.ubo=!!n,e instanceof _t?(this.buffer=e,this.buffer.type=ai.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new _t(new Float32Array(1)),this.buffer.type=ai.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new kn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new kn(e,r,n)}static uboFrom(e,r){return new kn(e,r??!0,!0)}}class li{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof kn?this.uniformGroup=r:this.uniformGroup=new kn(r):this.uniformGroup=new kn({}),this.disposeRunner=new Mn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Ni.from(e,r);return new li(i,n)}}class n3{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=kn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ni(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new tt,default:this.defaultGroupCache[e]};return new li(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class n0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function i3(){return!Pn.apple.device}function s3(t){let e=!0;const r=he.ADAPTER.getNavigator();if(Pn.tablet||Pn.phone){if(Pn.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Pn.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class wf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var o3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,a3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Vl=class wn extends wf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=KE,this.vertexSize=6,this.state=vi.for2d(),this.size=wn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??s3(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??i3(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ke("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return a3}static get defaultFragmentTemplate(){return o3}setShaderGenerator({vertex:e=wn.defaultVertexSrc,fragment:r=wn.defaultFragmentTemplate}={}){this.shaderGenerator=new n3(e,r)}contextChange(){const e=this.renderer.gl;he.PREFER_ENV===ko.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),wn.defaultMaxTextures),this.maxTextures=Fk(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=wn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Zg);for(;r.length<i;)r.push(new n0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=wn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Ae._globalBatch,c=0,d=n[0],p=0;i.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const f=e[h];e[h]=null,f._batchEnabled!==a&&(d.count>=r&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,h),p=h,d=n[++c],++a),f._batchEnabled=a,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,this._bufferSize),++c,++a);for(let h=0;h<s.length;h++)s[h]=null;Ae._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=wn._drawCallPool;let d=this._dcIndex,p=this._aIndex,h=this._iIndex,f=c[d];f.start=this._iIndex,f.texArray=e;for(let g=r;g<n;++g){const y=i[g],w=y._texture.baseTexture,E=XE[w.alphaMode?1:0][y.blendMode];i[g]=null,r<g&&f.blend!==E&&(f.size=h-f.start,r=g,f=c[++d],f.texArray=e,f.start=h),this.packInterleavedGeometry(y,s,o,p,h),p+=y.vertexData.length/2*a,h+=y.indices.length,f.blend=E}r<n&&(f.size=h-f.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;wn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=wn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:d,start:p,blend:h}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),wn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=vd(Math.ceil(e/8)),n=Xx(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new qg(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=vd(Math.ceil(e/12)),n=Xx(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,d=e.uvs,p=e.indices,h=e.vertexData,f=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),y=qe.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let w=0;w<h.length;w+=2)a[i++]=h[w],a[i++]=h[w+1],a[i++]=d[w],a[i++]=d[w+1],o[i++]=y,a[i++]=f;for(let w=0;w<p.length;w++)n[s++]=c+p[w]}};Vl.defaultBatchSize=4096,Vl.extension={name:"batch",type:le.RendererPlugin},Vl._drawCallPool=[],Vl._textureArrayPool=[];let lo=Vl;me.add(lo);var l3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,u3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const i0=class Wl extends li{constructor(e,r,n){const i=Ni.from(e||Wl.defaultVertexSrc,r||Wl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Wl.defaultResolution,this.multisample=Wl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new vi}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return u3}static get defaultFragmentSrc(){return l3}};i0.defaultResolution=1,i0.defaultMultisample=Et.NONE;let fr=i0;class xd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new qe(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}xd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},xd.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"background"};me.add(xd);class nS{constructor(e){this.renderer=e,this.emptyRenderer=new wf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let d=0;d<a;d++){const p=s[d],h=p._batchLocation;if(h>=0&&h<i&&r[h]===p){o[d]=h;continue}for(;c<i;){const f=r[c];if(f&&f._batchEnabled===n&&f._batchLocation===c){c++;continue}o[d]=c,p._batchLocation=c,r[c]=p;break}}}destroy(){this.renderer=null}}nS.extension={type:le.RendererSystem,name:"batch"};me.add(nS);let iw=0;class wd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=iw++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=iw++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(he.PREFER_ENV>=ko.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}wd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},wd.extension={type:le.RendererSystem,name:"context"};me.add(wd);class s0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Mn("disposeFramebuffer"),this.multisample=Et.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ae(null,{scaleMode:ki.NEAREST,resolution:1,mipmap:hi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ae(null,{scaleMode:ki.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:hi.OFF,format:se.DEPTH_COMPONENT,type:ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class iS extends Ae{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Et.NONE),super(null,e),this.mipmap=hi.OFF,this.valid=!0,this._clear=new qe([0,0,0,0]),this.framebuffer=new s0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ns extends Tu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=kk(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Er.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class sS extends Ns{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Ns.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??he.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Er.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ey{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,d=e.y/s+a;n=lt.add(n,lt.NW),this.x0=c+o*lt.uX(n),this.y0=d+a*lt.uY(n),n=lt.add(n,2),this.x1=c+o*lt.uX(n),this.y1=d+a*lt.uY(n),n=lt.add(n,2),this.x2=c+o*lt.uX(n),this.y2=d+a*lt.uY(n),n=lt.add(n,2),this.x3=c+o*lt.uX(n),this.y3=d+a*lt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}ey.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const sw=new ey;function oh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ue extends Qu{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Pe(0,0,1,1)),e instanceof ue&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=sw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Oe(o.x,o.y):new Oe(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Zn[r.url]&&ue.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ue.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ue(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===sw&&(this._uvs=new ey),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ae){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${To()}`,Ae.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${To()}`}s=e._pixiId}let o=Zn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ae)?(r.resolution||(r.resolution=zi(e)),o=new ue(new Ae(e,r)),o.baseTexture.cacheId=s,Ae.addToCache(o.baseTexture,s),ue.addToCache(o,s)):!o&&e instanceof Ae&&(o=new ue(e),ue.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ue.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ue(Ae.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ae(e,Object.assign({scaleMode:Ae.defaultOptions.scaleMode,resolution:zi(r)},i)),{resource:o}=s;o instanceof sS&&(o.url=r);const a=new ue(s);return n||(n=r),Ae.addToCache(a.baseTexture,n),ue.addToCache(a,n),n!==r&&(Ae.addToCache(a.baseTexture,r),ue.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Zn[r]&&Zn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Zn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Zn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Zn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Zn[e.textureCacheIds[r]]===e&&delete Zn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ue._EMPTY||(ue._EMPTY=new ue(new Ae),oh(ue._EMPTY),oh(ue._EMPTY.baseTexture)),ue._EMPTY}static get WHITE(){if(!ue._WHITE){const e=he.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ue._WHITE=new ue(Ae.from(e)),oh(ue._WHITE),oh(ue._WHITE.baseTexture)}return ue._WHITE}}class Oo extends ue{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Oo(new iS(e))}}class oS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Et.NONE){const i=new iS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Oo(i)}getOptimalTexture(e,r,n=1,i=Et.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=vd(e),r=vd(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Et.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}oS.SCREEN_KEY=-1;class c3 extends ks{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class aS extends ks{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new _t(this.vertices),this.uvBuffer=new _t(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class h3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Et.NONE,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.bindingSourceFrame=new Pe,this.bindingDestinationFrame=new Pe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ah=[new Oe,new Oe,new Oe,new Oe],Fm=new tt;class lS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new oS,this.statePool=[],this.quad=new c3,this.quadUv=new aS,this.tempRect=new Pe,this.activeState={},this.globalUniforms=new kn({outputFrame:new Pe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new h3,o=n.renderTexture;let a,c;if(o.current){const E=o.current;a=E.resolution,c=E.multisample}else a=n.resolution,c=n.multisample;let d=r[0].resolution||a,p=r[0].multisample??c,h=r[0].padding,f=r[0].autoFit,g=r[0].legacy??!0;for(let E=1;E<r.length;E++){const x=r[E];d=Math.min(d,x.resolution||a),p=Math.min(p,x.multisample??c),h=this.useMaxPadding?Math.max(h,x.padding):h+x.padding,f=f&&x.autoFit,g=g||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=p,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Fm.copyFrom(n.projection.transform).invert(),y),f?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,p),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=s.sourceFrame.width,w.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,ri.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[h].apply(this,d,p,ri.CLEAR,r);const f=d;d=p,p=f}n[h].apply(this,d,c.renderTexture,ri.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ri.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ri.CLEAR||r===ri.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Cn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Cn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(tt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Et.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Et.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=ah[0],i=ah[1],s=ah[2],o=ah[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),p=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=d-a,r.height=p-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?Fm.copyFrom(s):Fm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}lS.extension={type:le.RendererSystem,name:"filter"};me.add(lS);class d3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Et.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const f3=new Pe;class uS{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new s0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;he.PREFER_ENV===ko.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Rg.COLOR|Rg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new d3(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,p._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Et.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Et.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;c.blitFramebuffer||(c.blitFramebuffer=new s0(i.width,i.height),c.blitFramebuffer.addColorTexture(0,p)),e=c.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=f3,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Pe}destroy(){this.renderer=null}}uS.extension={type:le.RendererSystem,name:"framebuffer"};me.add(uS);const Lm={5126:4,5123:2,5121:1};class cS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;he.PREFER_ENV===ko.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),d=e.glVertexArrayObjects[this.CONTEXT_UID];let p=d[c];if(p)return d[a.id]=p,p;const h=e.buffers,f=e.attributes,g={},y={};for(const w in h)g[w]=0,y[w]=0;for(const w in f)!f[w].size&&a.attributeData[w]?f[w].size=a.attributeData[w].size:f[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),g[f[w].buffer]+=f[w].size*Lm[f[w].type];for(const w in f){const E=f[w],x=E.size;E.stride===void 0&&(g[E.buffer]===x*Lm[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=y[E.buffer],y[E.buffer]+=x*Lm[E.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let w=0;w<h.length;w++){const E=h[w];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),d[a.id]=p,d[c]=p,i.bindVertexArray(null),o.unbind(ai.ARRAY_BUFFER),p}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in a){const p=a[d],h=o[p.buffer],f=h._glBuffers[i];if(r.attributeData[d]){c!==f&&(s.bind(h),c=f);const g=r.attributeData[d].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(g,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}cS.extension={type:le.RendererSystem,name:"geometry"};me.add(cS);const ow=new tt;class ty{constructor(e,r){this._texture=e,this.mapCoord=new tt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ow.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ow));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return a[0]=(r._frame.x+c+d)/o.width,a[1]=(r._frame.y+c+d)/o.height,a[2]=(r._frame.x+r._frame.width-c+d)/o.width,a[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var p3=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,m3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class g3 extends fr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||m3,r||p3,n),this.maskSprite=i,this.maskMatrix=new tt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ty(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class v3{constructor(e=null){this.type=Ct.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ct.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class hS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new v3;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ct.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ct.SCISSOR:this.renderer.scissor.push(n);break;case Ct.STENCIL:this.renderer.stencil.push(n);break;case Ct.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ct.COLOR:this.pushColorMask(n);break}n.type===Ct.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ct.SCISSOR:this.renderer.scissor.pop(r);break;case Ct.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ct.SPRITE:this.popSpriteMask(r);break;case Ct.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ct.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ct.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ct.SCISSOR:e.type=Ct.STENCIL:e.type=Ct.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new g3])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}hS.extension={type:le.RendererSystem,name:"mask"};me.add(hS);class dS{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const aw=new tt,lw=[],fS=class Vh extends dS{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,lw.pop()??new Pe);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Vh.isMatrixRotated(r.worldTransform)||Vh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Vh.isMatrixRotated(s)||(s=s?aw.copyFrom(s):aw.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&lw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};fS.extension={type:le.RendererSystem,name:"scissor"};let y3=fS;me.add(y3);class pS extends dS{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}pS.extension={type:le.RendererSystem,name:"stencil"};me.add(pS);class mS{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}mS.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_plugin"};me.add(mS);class gS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new tt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}gS.extension={type:le.RendererSystem,name:"projection"};me.add(gS);const _3=new xf,uw=new Pe;class vS{constructor(e){this.renderer=e,this._tempMatrix=new tt}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(uw))||e.getLocalBounds(uw,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Oo.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=_3,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}vS.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"textureGenerator"};me.add(vS);const to=new Pe,Ol=new Pe;class yS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.viewportFrame=new Pe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(to.width=e.frame.width,to.height=e.frame.height,r=to),n||(Ol.x=e.frame.x,Ol.y=e.frame.y,Ol.width=r.width,Ol.height=r.height,n=Ol),o=s.framebuffer):(a=i.resolution,r||(to.width=i._view.screen.width,to.height=i._view.screen.height,r=to),n||(n=to,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=qe.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:d,width:p,height:h}=this.viewportFrame;c=Math.round(c),d=Math.round(d),p=Math.round(p),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,p,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}yS.extension={type:le.RendererSystem,name:"renderTexture"};me.add(yS);class x3{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function w3(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=rS(e,s.type),a={type:o,name:s.name,size:tS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function b3(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=rS(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:JE(c,s.size)}}return r}function E3(t,e){var a;const r=ew(t,t.VERTEX_SHADER,e.vertexSrc),n=ew(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Zk(t,i,r,n),e.attributeData=w3(i,t),e.uniformData=b3(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:JE(d.type,d.size)}}return new x3(i,o)}function S3(t,e,r,n,i){r.buffer.update(i)}const T3={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},_S={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function A3(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=_S[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function C3(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function P3(t,e){if(!t.autoManage)return{size:0,syncFunc:S3};const r=C3(t.uniforms,e),{uboElements:n,size:i}=A3(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],d=a.data.name;let p=!1;for(let h=0;h<La.length;h++){const f=La[h];if(f.codeUbo&&f.test(a.data,c)){s.push(`offset = ${a.offset/4};`,La[h].codeUbo(a.data.name,c)),p=!0;break}}if(!p)if(a.data.size>1){const h=tS(a.data.type),f=Math.max(_S[a.data.type]/16,1),g=h/f,y=(4-g%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const h=T3[a.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let I3=0;const lh={textureCount:0,uboCount:0};class xS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=I3++}systemCheck(){if(!e3())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(lh.textureCount=0,lh.uboCount=0,this.syncUniformGroup(e.uniformGroup,lh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=qk(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,lh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=P3(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=E3(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}xS.extension={type:le.RendererSystem,name:"shader"};me.add(xS);class bd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}bd.defaultOptions={hello:!1},bd.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"startup"};me.add(bd);function R3(t,e=[]){return e[we.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.ADD]=[t.ONE,t.ONE],e[we.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.NONE]=[0,0],e[we.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[we.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[we.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[we.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[we.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[we.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[we.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[we.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[we.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[we.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[we.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const M3=0,k3=1,N3=2,O3=3,F3=4,L3=5,wS=class o0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=we.NONE,this._blendEq=!1,this.map=[],this.map[M3]=this.setBlend,this.map[k3]=this.setOffset,this.map[N3]=this.setCullFace,this.map[O3]=this.setDepthTest,this.map[F3]=this.setFrontFace,this.map[L3]=this.setDepthMask,this.checks=[],this.defaultState=new vi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=R3(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(o0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(o0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};wS.extension={type:le.RendererSystem,name:"state"};let D3=wS;me.add(D3);class B3 extends Qu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Mn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Xl=class Wh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Wh.defaultMaxIdle,this.checkCountMax=Wh.defaultCheckCountMax,this.mode=Wh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==jv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Xl.defaultMode=jv.AUTO,Xl.defaultMaxIdle=60*60,Xl.defaultCheckCountMax=60*10,Xl.extension={type:le.RendererSystem,name:"textureGC"};let uo=Xl;me.add(uo);class Dm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ye.UNSIGNED_BYTE,this.internalFormat=se.RGBA,this.samplerType=0}}function U3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ce.FLOAT,[t.RGBA]:ce.FLOAT,[t.ALPHA]:ce.FLOAT,[t.LUMINANCE]:ce.FLOAT,[t.LUMINANCE_ALPHA]:ce.FLOAT,[t.R8]:ce.FLOAT,[t.R8_SNORM]:ce.FLOAT,[t.RG8]:ce.FLOAT,[t.RG8_SNORM]:ce.FLOAT,[t.RGB8]:ce.FLOAT,[t.RGB8_SNORM]:ce.FLOAT,[t.RGB565]:ce.FLOAT,[t.RGBA4]:ce.FLOAT,[t.RGB5_A1]:ce.FLOAT,[t.RGBA8]:ce.FLOAT,[t.RGBA8_SNORM]:ce.FLOAT,[t.RGB10_A2]:ce.FLOAT,[t.RGB10_A2UI]:ce.FLOAT,[t.SRGB8]:ce.FLOAT,[t.SRGB8_ALPHA8]:ce.FLOAT,[t.R16F]:ce.FLOAT,[t.RG16F]:ce.FLOAT,[t.RGB16F]:ce.FLOAT,[t.RGBA16F]:ce.FLOAT,[t.R32F]:ce.FLOAT,[t.RG32F]:ce.FLOAT,[t.RGB32F]:ce.FLOAT,[t.RGBA32F]:ce.FLOAT,[t.R11F_G11F_B10F]:ce.FLOAT,[t.RGB9_E5]:ce.FLOAT,[t.R8I]:ce.INT,[t.R8UI]:ce.UINT,[t.R16I]:ce.INT,[t.R16UI]:ce.UINT,[t.R32I]:ce.INT,[t.R32UI]:ce.UINT,[t.RG8I]:ce.INT,[t.RG8UI]:ce.UINT,[t.RG16I]:ce.INT,[t.RG16UI]:ce.UINT,[t.RG32I]:ce.INT,[t.RG32UI]:ce.UINT,[t.RGB8I]:ce.INT,[t.RGB8UI]:ce.UINT,[t.RGB16I]:ce.INT,[t.RGB16UI]:ce.UINT,[t.RGB32I]:ce.INT,[t.RGB32UI]:ce.UINT,[t.RGBA8I]:ce.INT,[t.RGBA8UI]:ce.UINT,[t.RGBA16I]:ce.INT,[t.RGBA16UI]:ce.UINT,[t.RGBA32I]:ce.INT,[t.RGBA32UI]:ce.UINT,[t.DEPTH_COMPONENT16]:ce.FLOAT,[t.DEPTH_COMPONENT24]:ce.FLOAT,[t.DEPTH_COMPONENT32F]:ce.FLOAT,[t.DEPTH_STENCIL]:ce.FLOAT,[t.DEPTH24_STENCIL8]:ce.FLOAT,[t.DEPTH32F_STENCIL8]:ce.FLOAT}:e={[t.RGB]:ce.FLOAT,[t.RGBA]:ce.FLOAT,[t.ALPHA]:ce.FLOAT,[t.LUMINANCE]:ce.FLOAT,[t.LUMINANCE_ALPHA]:ce.FLOAT,[t.DEPTH_STENCIL]:ce.FLOAT},e}function G3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ye.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA8,[se.RGB]:t.RGB8,[se.RG]:t.RG8,[se.RED]:t.R8,[se.RGBA_INTEGER]:t.RGBA8UI,[se.RGB_INTEGER]:t.RGB8UI,[se.RG_INTEGER]:t.RG8UI,[se.RED_INTEGER]:t.R8UI,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.BYTE]:{[se.RGBA]:t.RGBA8_SNORM,[se.RGB]:t.RGB8_SNORM,[se.RG]:t.RG8_SNORM,[se.RED]:t.R8_SNORM,[se.RGBA_INTEGER]:t.RGBA8I,[se.RGB_INTEGER]:t.RGB8I,[se.RG_INTEGER]:t.RG8I,[se.RED_INTEGER]:t.R8I},[ye.UNSIGNED_SHORT]:{[se.RGBA_INTEGER]:t.RGBA16UI,[se.RGB_INTEGER]:t.RGB16UI,[se.RG_INTEGER]:t.RG16UI,[se.RED_INTEGER]:t.R16UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ye.SHORT]:{[se.RGBA_INTEGER]:t.RGBA16I,[se.RGB_INTEGER]:t.RGB16I,[se.RG_INTEGER]:t.RG16I,[se.RED_INTEGER]:t.R16I},[ye.UNSIGNED_INT]:{[se.RGBA_INTEGER]:t.RGBA32UI,[se.RGB_INTEGER]:t.RGB32UI,[se.RG_INTEGER]:t.RG32UI,[se.RED_INTEGER]:t.R32UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ye.INT]:{[se.RGBA_INTEGER]:t.RGBA32I,[se.RGB_INTEGER]:t.RGB32I,[se.RG_INTEGER]:t.RG32I,[se.RED_INTEGER]:t.R32I},[ye.FLOAT]:{[se.RGBA]:t.RGBA32F,[se.RGB]:t.RGB32F,[se.RG]:t.RG32F,[se.RED]:t.R32F,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ye.HALF_FLOAT]:{[se.RGBA]:t.RGBA16F,[se.RGB]:t.RGB16F,[se.RG]:t.RG16F,[se.RED]:t.R16F},[ye.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB565},[ye.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA4},[ye.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGB5_A1},[ye.UNSIGNED_INT_2_10_10_10_REV]:{[se.RGBA]:t.RGB10_A2,[se.RGBA_INTEGER]:t.RGB10_A2UI},[ye.UNSIGNED_INT_10F_11F_11F_REV]:{[se.RGB]:t.R11F_G11F_B10F},[ye.UNSIGNED_INT_5_9_9_9_REV]:{[se.RGB]:t.RGB9_E5},[ye.UNSIGNED_INT_24_8]:{[se.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[se.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ye.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA,[se.RGB]:t.RGB,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB},[ye.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA},[ye.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGBA}},e}class bS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ae,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=G3(e),this.samplerTypes=U3(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Dm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Dm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==ce.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Dm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ce.FLOAT,this.webGLVersion===2&&e.type===ye.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==ce.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Fa(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===hi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Bi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==hi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ki.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ki.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ki.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ki.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}bS.extension={type:le.RendererSystem,name:"texture"};me.add(bS);class ES{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}ES.extension={type:le.RendererSystem,name:"transformFeedback"};me.add(ES);class Ed{constructor(e){this.renderer=e}init(e){this.screen=new Pe(0,0,e.width,e.height),this.element=e.view||he.ADAPTER.createCanvas(),this.resolution=e.resolution||he.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Ed.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Ed.extension={type:[le.RendererSystem,le.CanvasRendererSystem],name:"_view"};me.add(Ed);he.PREFER_ENV=ko.WEBGL2;he.STRICT_TEXTURE_CACHE=!1;he.RENDER_OPTIONS={...wd.defaultOptions,...xd.defaultOptions,...Ed.defaultOptions,...bd.defaultOptions};Object.defineProperties(he,{WRAP_MODE:{get(){return Ae.defaultOptions.wrapMode},set(t){ke("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ae.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ae.defaultOptions.scaleMode},set(t){ke("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ae.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ae.defaultOptions.mipmap},set(t){ke("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ae.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ae.defaultOptions.anisotropicLevel},set(t){ke("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ae.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ke("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fr.defaultResolution},set(t){fr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ke("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fr.defaultMultisample},set(t){fr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return lo.defaultMaxTextures},set(t){ke("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),lo.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return lo.defaultBatchSize},set(t){ke("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),lo.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return lo.canUploadSameBuffer},set(t){ke("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),lo.canUploadSameBuffer=t}},GC_MODE:{get(){return uo.defaultMode},set(t){ke("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),uo.defaultMode=t}},GC_MAX_IDLE:{get(){return uo.defaultMaxIdle},set(t){ke("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),uo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return uo.defaultCheckCountMax},set(t){ke("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),uo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ni.defaultVertexPrecision},set(t){ke("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ni.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ni.defaultFragmentPrecision},set(t){ke("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ni.defaultFragmentPrecision=t}}});var Os=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Os||{});class Bm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const SS=class Or{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Bm(null,null,1/0),this.deltaMS=1/Or.targetFPMS,this.elapsedMS=1/Or.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Os.NORMAL){return this._addListener(new Bm(e,r,n))}addOnce(e,r,n=Os.NORMAL){return this._addListener(new Bm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Or.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Or.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Or._shared){const e=Or._shared=new Or;e.autoStart=!0,e._protected=!0}return Or._shared}static get system(){if(!Or._system){const e=Or._system=new Or;e.autoStart=!0,e._protected=!0}return Or._system}};SS.targetFPMS=.06;let zt=SS;Object.defineProperties(he,{TARGET_FPMS:{get(){return zt.targetFPMS},set(t){ke("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),zt.targetFPMS=t}}});class TS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Os.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?zt.shared:new zt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}TS.extension=le.Application;me.add(TS);const AS=[];me.handleByList(le.Renderer,AS);function z3(t){for(const e of AS)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var H3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const j3=H3,CS=$3;class PS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Et.HIGH?this.multisample=Et.HIGH:r>=Et.MEDIUM?this.multisample=Et.MEDIUM:r>=Et.LOW?this.multisample=Et.LOW:this.multisample=Et.NONE}destroy(){}}PS.extension={type:le.RendererSystem,name:"_multisample"};me.add(PS);class V3{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class IS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new V3(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}IS.extension={type:le.RendererSystem,name:"buffer"};me.add(IS);class RS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}RS.extension={type:le.RendererSystem,name:"objectRenderer"};me.add(RS);const Xh=class a0 extends B3{constructor(e){super(),this.type=wE.WEBGL,e=Object.assign({},he.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new kn({projectionMatrix:new tt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:a0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(ke("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=a0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:pk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ke("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ke("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ke("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ke("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Xh.extension={type:le.Renderer,priority:1},Xh.__plugins={},Xh.__systems={};let ry=Xh;me.handleByMap(le.RendererPlugin,ry.__plugins);me.handleByMap(le.RendererSystem,ry.__systems);me.add(ry);class MS extends Tu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ae;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Tu?this.addResourceAt(e[n],n):this.addResourceAt(QE(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class W3 extends MS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ka.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class X3 extends Ns{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const kS=class Yl extends MS{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Yl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Yl.SIDES;a++)this.items[a].target=ka.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ka.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ka.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Yl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Yl.SIDES}};kS.SIDES=6;let Y3=kS;class ga extends Ns{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=ga.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await he.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Er.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ga._EMPTY=ga._EMPTY??he.ADAPTER.createCanvas(0,0),ga._EMPTY}}const l0=class Yh extends Ns{constructor(e,r){r=r||{},super(he.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Yh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Ns.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${To()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Yh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Yh.SVG_XML.test(e)}};l0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,l0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let u0=l0;const c0=class h0 extends Ns{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Ns.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const d=a.split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);c=c||h0.MIME_TYPES[p]||`video/${p}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(zt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||h0.TYPES.includes(r)}};c0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],c0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let NS=c0;Qg.push(ga,sS,X3,NS,u0,gf,Y3,W3);class Sd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Pe.EMPTY:(e=e||new Pe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,d=n*r.x+s*r.y+a,p=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,d=e.d,p=e.tx,h=e.ty;let f=this.minX,g=this.minY,y=this.maxX,w=this.maxY,E=o*r+c*n+p,x=a*r+d*n+h;f=E<f?E:f,g=x<g?x:g,y=E>y?E:y,w=x>w?x:w,E=o*i+c*n+p,x=a*i+d*n+h,f=E<f?E:f,g=x<g?x:g,y=E>y?E:y,w=x>w?x:w,E=o*r+c*s+p,x=a*r+d*s+h,f=E<f?E:f,g=x<g?x:g,y=E>y?E:y,w=x>w?x:w,E=o*i+c*s+p,x=a*i+d*s+h,f=E<f?E:f,g=x<g?x:g,y=E>y?E:y,w=x>w?x:w,this.minX=f,this.minY=g,this.maxX=y,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],p=e[c+1];i=d<i?d:i,s=p<s?p:s,o=d>o?d:o,a=p>a?p:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,d=e.c,p=e.d,h=e.tx,f=e.ty;let g=this.minX,y=this.minY,w=this.maxX,E=this.maxY;for(let x=n;x<i;x+=2){const S=r[x],b=r[x+1],A=a*S+d*b+h,P=p*b+c*S+f;g=Math.min(g,A-s),w=Math.max(w,A+s),y=Math.min(y,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=y,this.maxX=w,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ot extends Qu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new xf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Sd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ot.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Pe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Sd);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new q3),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Hk}set angle(e){this.transform.rotation=e*$k}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class q3 extends ot{constructor(){super(...arguments),this.sortDirty=null}}ot.prototype.displayObjectUpdateTransform=ot.prototype.updateTransform;const Q3=new tt;function K3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const OS=class d0 extends ot{constructor(){super(),this.children=[],this.sortableChildren=d0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Fa(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Fa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Fa(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(K3),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==d0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=Q3.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ct.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};OS.defaultSortableChildren=!1;let mr=OS;mr.prototype.containerUpdateTransform=mr.prototype.updateTransform;Object.defineProperties(he,{SORTABLE_CHILDREN:{get(){return mr.defaultSortableChildren},set(t){ke("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),mr.defaultSortableChildren=t}}});const Fl=new Oe,Z3=new Uint16Array([0,1,2,0,2,3]);class yi extends mr{constructor(e){super(),this._anchor=new si(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new qe(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=we.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ue.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Z3,this.pluginName="batch",this.isSprite=!0,this._roundPixels=he.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ys(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ys(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this.vertexData,p=e.trim,h=e.orig,f=this._anchor;let g=0,y=0,w=0,E=0;if(p?(y=p.x-f._x*h.width,g=y+p.width,E=p.y-f._y*h.height,w=E+p.height):(y=-f._x*h.width,g=y+h.width,E=-f._y*h.height,w=E+h.height),d[0]=n*y+s*E+a,d[1]=o*E+i*y+c,d[2]=n*g+s*E+a,d[3]=o*E+i*g+c,d[4]=n*g+s*w+a,d[5]=o*w+i*g+c,d[6]=n*y+s*w+a,d[7]=o*w+i*y+c,this._roundPixels){const x=he.RESOLUTION;for(let S=0;S<d.length;++S)d[S]=Math.round(d[S]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,d=s.d,p=s.tx,h=s.ty,f=-i._x*n.width,g=f+n.width,y=-i._y*n.height,w=y+n.height;if(r[0]=o*f+c*y+p,r[1]=d*y+a*f+h,r[2]=o*g+c*y+p,r[3]=d*y+a*g+h,r[4]=o*g+c*w+p,r[5]=d*w+a*g+h,r[6]=o*f+c*w+p,r[7]=d*w+a*f+h,this._roundPixels){const E=he.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Sd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Fl.x>=i&&Fl.x<i+r&&(s=-n*this.anchor.y,Fl.y>=s&&Fl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new yi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ys(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ys(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ue.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const FS=new tt;ot.prototype._cacheAsBitmap=!1;ot.prototype._cacheData=null;ot.prototype._cacheAsBitmapResolution=null;ot.prototype._cacheAsBitmapMultisample=null;class J3{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ot.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new J3),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ot.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ot.prototype._initCachedDisplayObject=function(t){var f,g;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Pe,!0);if((g=this.filters)!=null&&g.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=Oo.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),d=`cacheAsBitmap_${To()}`;this._cacheData.textureCacheId=d,Ae.addToCache(c.baseTexture,d),ue.addToCache(c,d);const p=this.transform.localTransform.copyTo(FS).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new yi(c);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};ot.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ot.prototype._initCachedDisplayObjectCanvas=function(t){var p;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.getLocalBounds(new Pe,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Oo.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${To()}`;this._cacheData.textureCacheId=a,Ae.addToCache(o.baseTexture,a),ue.addToCache(o,a);const c=FS;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new yi(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};ot.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ot.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ot.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ae.removeFromCache(this._cacheData.textureCacheId),ue.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ot.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ot.prototype.name=null;mr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};ot.prototype.getGlobalPosition=function(t=new Oe,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var eN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class tN extends fr{constructor(e=1){super(j3,eN,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const rN={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},nN=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function iN(t){const e=rN[t],r=e.length;let n=nN,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const sN=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function oN(t,e){const r=Math.ceil(t/2);let n=sN,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class f0 extends fr{constructor(e,r=8,n=4,i=fr.defaultResolution,s=5){const o=oN(s,e),a=iN(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,ri.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(a,ri.BLIT),this.uniforms.uSampler=c;const p=c;c=a,a=p,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class aN extends fr{constructor(e=8,r=4,n=fr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new f0(!0,e,r,n,i),this.blurYFilter=new f0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,ri.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var lN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class p0 extends fr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(CS,lN,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=qe.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,d=o*(1-n)-a*i,p=o*(1-n)+a*i,h=o*(1-n)+a*i,f=n+o*(1-n),g=o*(1-n)-a*i,y=o*(1-n)-a*i,w=o*(1-n)+a*i,E=n+o*(1-n),x=[c,d,p,0,0,h,f,g,0,0,y,w,E,0,0,0,0,0,1,0];this._loadMatrix(x,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=qe.shared,[a,c,d]=o.setValue(n).toArray(),[p,h,f]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,c,d,e,0,p,h,f,r,0,a-p,c-h,d-f,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}p0.prototype.grayscale=p0.prototype.greyscale;var uN=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,cN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class hN extends fr{constructor(e,r){const n=new tt;e.renderable=!1,super(cN,uN,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Oe(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var dN=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,fN=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class pN extends fr{constructor(){super(fN,dN)}}var mN=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class gN extends fr{constructor(e=.5,r=Math.random()){super(CS,mN,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const cw={AlphaFilter:tN,BlurFilter:aN,BlurFilterPass:f0,ColorMatrixFilter:p0,DisplacementFilter:hN,FXAAFilter:pN,NoiseFilter:gN};Object.entries(cw).forEach(([t,e])=>{Object.defineProperty(cw,t,{get(){return ke("7.1.0",`filters.${t} has moved to ${t}`),e}})});class vN{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(zt.system.add(this.tickerUpdate,this,Os.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(zt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ps=new vN;class Zu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Zu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Oe,this.page=new Oe,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Td extends Zu{constructor(){super(...arguments),this.client=new Oe,this.movement=new Oe,this.offset=new Oe,this.global=new Oe,this.screen=new Oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,d,p,h,f,g,y,w){throw new Error("Method not implemented.")}}class bn extends Td{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Da extends Td{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Da.DOM_DELTA_PIXEL=0,Da.DOM_DELTA_LINE=1,Da.DOM_DELTA_PAGE=2;const yN=2048,_N=new Oe,Um=new Oe;class xN{constructor(e){this.dispatch=new Qu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){ps.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,_N.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<yN&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ps.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let h=p.length-1;h>=0;h--){const f=p[h],g=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const y=e.isInteractive();(g.length>0||y)&&(y&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ps.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const p=c[d],h=this.hitTestRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Um),!e.hitArea.contains(Um.x,Um.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d;if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const p=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,p,s);if(this.dispatchEvent(h,"pointerout"),n&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const p=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,p);this.dispatchEvent(h,"pointerover"),n&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(h)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(d=r.target)==null?void 0:d.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const d=a.button===2;this.dispatchEvent(a,d?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof bn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Da)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(bn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Da);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(bn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof bn&&r instanceof bn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Td&&r instanceof Td&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const wN=1,bN={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},m0=class g0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new xN(null),ps.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new bn(null),this.rootWheelEvent=new Da(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...g0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,g0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ps.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,ps.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ps.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ps.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=wN),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=bN[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};m0.extension={name:"events",type:[le.RendererSystem,le.CanvasRendererSystem]},m0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let v0=m0;me.add(v0);function hw(t){return t==="dynamic"||t==="static"}const EN={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??hw(v0.defaultEventMode)},set interactive(t){ke("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??v0.defaultEventMode},set eventMode(t){this._internalInteractive=hw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Zu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ot.mixin(EN);const SN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ot.mixin(SN);const TN=9,uh=100,AN=0,CN=0,dw=2,fw=1,PN=-1e3,IN=-1e3,RN=2;class LS{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Pn.tablet||Pn.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${uh}px`,r.style.height=`${uh}px`,r.style.position="absolute",r.style.top=`${AN}px`,r.style.left=`${CN}px`,r.style.zIndex=dw.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${fw}px`,e.style.height=`${fw}px`,e.style.position="absolute",e.style.top=`${PN}px`,e.style.left=`${IN}px`,e.style.zIndex=RN.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Pn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,d=i/o*c,p=s/a*c;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const g=this.children[f];if(g.renderId!==this.renderId)g._accessibleActive=!1,Fa(this.children,f,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,f--;else{h=g._accessibleDiv;let y=g.hitArea;const w=g.worldTransform;g.hitArea?(h.style.left=`${(w.tx+y.x*w.a)*d}px`,h.style.top=`${(w.ty+y.y*w.d)*p}px`,h.style.width=`${y.width*w.a*d}px`,h.style.height=`${y.height*w.d*p}px`):(y=g.getBounds(),this.capHitArea(y),h.style.left=`${y.x*d}px`,h.style.top=`${y.y*p}px`,h.style.width=`${y.width*d}px`,h.style.height=`${y.height*p}px`,h.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(h.title=g.accessibleTitle),h.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&h.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==h.title||g.tabIndex!==h.tabIndex)&&(h.title=g.accessibleTitle,h.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${uh}px`,r.style.height=`${uh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=dw.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Zu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===TN&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}LS.extension={name:"accessibility",type:[le.RendererPlugin,le.CanvasRendererPlugin]};me.add(LS);const DS=class y0{constructor(e){this.stage=new mr,e=Object.assign({forceCanvas:!1},e),this.renderer=z3(e),y0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=y0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};DS._plugins=[];let bf=DS;me.handleByList(le.Application,bf._plugins);class BS{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}BS.extension=le.Application;me.add(BS);const pw={loader:le.LoadParser,resolver:le.ResolveParser,cache:le.CacheParser,detection:le.DetectionParser};me.handle(le.Asset,t=>{const e=t.ref;Object.entries(pw).filter(([r])=>!!e[r]).forEach(([r,n])=>me.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(pw).filter(r=>!!e[r]).forEach(r=>me.remove(e[r]))});class MN{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ol(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Us(t,e){const r=t.split("?")[0],n=Mt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const An=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),_0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function US(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?US(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function kN(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),US(t,i,0,r,n)}else n.push(t);return n}const Ad=t=>!Array.isArray(t);class NN{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=An(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ue){const a=r;n.forEach(c=>{a.baseTexture!==ue.EMPTY.baseTexture&&Ae.addToCache(a.baseTexture,c),ue.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const po=new NN;class ON{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((a=d.testParse)==null?void 0:a.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Ad(e),o=An(e,d=>({alias:[d],src:d})),a=o.length,c=o.map(async d=>{const p=Mt.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),i[d.src]=await this.promiseCache[p].promise,r&&r(++n/a)}catch(h){throw delete this.promiseCache[p],delete i[d.src],new Error(`[Loader.load] Failed to load ${p}.
${h}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=An(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Mt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Bn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Bn||{});const FN=".json",LN="application/json",DN={extension:{type:le.LoadParser,priority:Bn.Low},name:"loadJson",test(t){return ol(t,LN)||Us(t,FN)},async load(t){return await(await he.ADAPTER.fetch(t)).json()}};me.add(DN);const BN=".txt",UN="text/plain",GN={name:"loadTxt",extension:{type:le.LoadParser,priority:Bn.Low},test(t){return ol(t,UN)||Us(t,BN)},async load(t){return await(await he.ADAPTER.fetch(t)).text()}};me.add(GN);const zN=["normal","bold","100","200","300","400","500","600","700","800","900"],HN=[".ttf",".otf",".woff",".woff2"],$N=["font/ttf","font/otf","font/woff","font/woff2"],jN=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function VN(t){const e=Mt.extname(t),r=Mt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(jN)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const WN=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function XN(t){return WN.test(t)?t:encodeURI(t)}const YN={extension:{type:le.LoadParser,priority:Bn.Low},name:"loadWebFont",test(t){return ol(t,$N)||Us(t,HN)},async load(t,e){var n,i,s;const r=he.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??VN(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>zN.includes(p)))??["normal"],d=e.data??{};for(let p=0;p<c.length;p++){const h=c[p],f=new FontFace(a,`url(${XN(t)})`,{...d,weight:h});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>he.ADAPTER.getFontFaceSet().delete(e))}};me.add(YN);let mw=0,Gm;const qN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",QN={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${qN}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},KN={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let zm;class ZN{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([QN.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Gm===void 0&&(Gm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Gm&&(zm||(zm=URL.createObjectURL(new Blob([KN.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(zm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[mw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:mw++,id:n})}}const gw=new ZN;function Ju(t,e,r){t.resource.internal=!0;const n=new ue(t),i=()=>{delete e.promiseCache[r],po.has(r)&&po.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const JN=[".jpeg",".jpg",".png",".webp",".avif"],eO=["image/jpeg","image/png","image/webp","image/avif"];async function tO(t){const e=await he.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Ef={name:"loadTextures",extension:{type:le.LoadParser,priority:Bn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ol(t,eO)||Us(t,JN)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await gw.isImageBitmapSupported()?i=await gw.loadImageBitmap(t):i=await tO(t):i=await new Promise((c,d)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=t,p.complete?c(p):(p.onload=()=>c(p),p.onerror=h=>d(h))});const s={...e.data};s.resolution??(s.resolution=zi(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ae(i,s);return o.resource.src=t,Ju(o,r,t)},unload(t){t.destroy(!0)}};me.add(Ef);const rO=".svg",nO="image/svg+xml",iO={extension:{type:le.LoadParser,priority:Bn.High},name:"loadSVG",test(t){return ol(t,nO)||Us(t,rO)},async testParse(t){return u0.test(t)},async parse(t,e,r){var s;const n=new u0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ae(n,{resolution:zi(t),...e==null?void 0:e.data});return i.resource.src=e.src,Ju(i,r,e.src)},async load(t,e){return(await he.ADAPTER.fetch(t)).text()},unload:Ef.unload};me.add(iO);const sO=[".mp4",".m4v",".webm",".ogv"],oO=["video/mp4","video/webm","video/ogg"],aO={name:"loadVideo",extension:{type:le.LoadParser,priority:Bn.High},config:{defaultAutoPlay:!0},test(t){return ol(t,oO)||Us(t,sO)},async load(t,e,r){var o;let n;const i=await(await he.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new NS(s,a);await c.load();const d=new Ae(c,{alphaMode:await fk(),resolution:zi(t),...e==null?void 0:e.data});d.resource.src=t,n=Ju(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};me.add(aO);class lO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return An(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(d=>this._createBundleAssetId(e,d));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(ke("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},An(o).forEach(c=>{const{src:d,srcs:p}=c;let{data:h,format:f,loadParser:g}=c;const y=An(d||p).map(x=>typeof x=="string"?kN(x):Array.isArray(x)?x:[x]),w=this.getAlias(c);Array.isArray(w)?w.forEach(a):a(w);const E=[];y.forEach(x=>{x.forEach(S=>{let b={};if(typeof S!="object"){b.src=S;for(let A=0;A<this._parsers.length;A++){const P=this._parsers[A];if(P.test(S)){b=P.parse(S);break}}}else h=S.data??h,f=S.format??f,g=S.loadParser??g,b={...b,...S};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:w,data:h,format:f,loadParser:g}),E.push(b)})}),w.forEach(x=>{this._assetMap[x]=E})})}resolveBundle(e){const r=Ad(e);e=An(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const d=o[c];a[this._extractAssetIdFromBundle(i,c)]=d}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Ad(e);e=An(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(d=>{const p=s.filter(h=>h[c]?h[c]===d:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Mt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Mt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class uO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new lO,this.loader=new ON,this.cache=po,this._backgroundLoader=new MN(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Ad(e),i=An(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(d=>!this.resolver.hasKey(d))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const d=()=>{r==null||r(++a/c)},p=o.map(h=>{const f=i[h];return c+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(g=>{s[h]=g})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return po.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=po.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const d=s[a.src],p=[a.src];a.alias&&p.push(...a.alias),o[i[c]]=d,po.set(p,d)}),o}async unload(e){this._initialized||await this.init();const r=An(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=An(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{po.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Ef.config.preferWorkers}set preferWorkers(e){ke("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const oi=new uO;me.handleByList(le.LoadParser,oi.loader.parsers).handleByList(le.ResolveParser,oi.resolver.parsers).handleByList(le.CacheParser,oi.cache.parsers).handleByList(le.DetectionParser,oi.detections);const cO={extension:le.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ue),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};me.add(cO);async function GS(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const zS={extension:{type:le.DetectionParser,priority:1},test:async()=>GS("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};me.add(zS);const HS={extension:{type:le.DetectionParser,priority:0},test:async()=>GS("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};me.add(HS);const vw=["png","jpg","jpeg"],hO={extension:{type:le.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...vw],remove:async t=>t.filter(e=>!vw.includes(e))};me.add(hO);const dO="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ny(t){return dO?!1:document.createElement("video").canPlayType(t)!==""}const fO={extension:{type:le.DetectionParser,priority:0},test:async()=>ny("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};me.add(fO);const pO={extension:{type:le.DetectionParser,priority:0},test:async()=>ny("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};me.add(pO);const mO={extension:{type:le.DetectionParser,priority:0},test:async()=>ny("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};me.add(mO);const gO={extension:le.ResolveParser,test:Ef.test,parse:t=>{var e;return{resolution:parseFloat(((e=he.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Mt.extname(t).slice(1),src:t}}};me.add(gO);var Lr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Lr||{});const Cd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ai,ca;function yw(){ca={s3tc:Ai.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ai.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ai.getExtension("WEBGL_compressed_texture_etc"),etc1:Ai.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ai.getExtension("WEBGL_compressed_texture_pvrtc")||Ai.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ai.getExtension("WEBGL_compressed_texture_atc"),astc:Ai.getExtension("WEBGL_compressed_texture_astc")}}const vO={extension:{type:le.DetectionParser,priority:2},test:async()=>{const t=he.ADAPTER.createCanvas().getContext("webgl");return t?(Ai=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{ca||yw();const e=[];for(const r in ca)ca[r]&&e.push(r);return[...e,...t]},remove:async t=>(ca||yw(),t.filter(e=>!(e in ca)))};me.add(vO);class yO extends gf{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new qg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class wo extends yO{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=wo._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||wo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:d,levelBuffer:p}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,d,0,p)}return!0}onBlobLoaded(){this._levelBuffers=wo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let d=e.byteOffset,p=o,h=a,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*Cd[r];for(let w=0;w<n;w++)c[w]={levelID:w,levelWidth:n>1?p:f,levelHeight:n>1?h:g,levelBuffer:new Uint8Array(e.buffer,d,y)},d+=y,p=p>>1||1,h=h>>1||1,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*Cd[r];return c}}const Hm=4,ch=124,_O=32,_w=20,xO=542327876,hh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},wO={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},dh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},bO=1,EO=2,SO=4,TO=64,AO=512,CO=131072,PO=827611204,IO=861165636,RO=894720068,MO=808540228,kO=4,NO={[PO]:Lr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[IO]:Lr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[RO]:Lr.COMPRESSED_RGBA_S3TC_DXT5_EXT},OO={70:Lr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Lr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Lr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Lr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Lr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Lr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Lr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Lr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Lr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function FO(t){const e=new Uint32Array(t);if(e[0]!==xO)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,ch/Uint32Array.BYTES_PER_ELEMENT),n=r[hh.HEIGHT],i=r[hh.WIDTH],s=r[hh.MIPMAP_COUNT],o=new Uint32Array(t,hh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,_O/Uint32Array.BYTES_PER_ELEMENT),a=o[bO];if(a&SO){const c=o[wO.FOURCC];if(c!==MO){const S=NO[c],b=Hm+ch,A=new Uint8Array(t,b);return[new wo(A,{format:S,width:i,height:n,levels:s})]}const d=Hm+ch,p=new Uint32Array(e.buffer,d,_w/Uint32Array.BYTES_PER_ELEMENT),h=p[dh.DXGI_FORMAT],f=p[dh.RESOURCE_DIMENSION],g=p[dh.MISC_FLAG],y=p[dh.ARRAY_SIZE],w=OO[h];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(g===kO)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,x=Hm+ch+_w;if(y===1)E.push(new Uint8Array(t,x));else{const S=Cd[w];let b=0,A=i,P=n;for(let k=0;k<s;k++){const R=Math.max(1,A+3&-4),B=Math.max(1,P+3&-4),$=R*B*S;b+=$,A=A>>>1,P=P>>>1}let N=x;for(let k=0;k<y;k++)E.push(new Uint8Array(t,N,b)),N+=b}return E.map(S=>new wo(S,{format:w,width:i,height:n,levels:s}))}throw a&TO?new Error("DDSParser does not support uncompressed texture data."):a&AO?new Error("DDSParser does not supported YUV uncompressed texture data."):a&CO?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&EO?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const xw=[171,75,84,88,32,49,49,187,13,10,26,10],LO=67305985,_n={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},x0=64,ww={[ye.UNSIGNED_BYTE]:1,[ye.UNSIGNED_SHORT]:2,[ye.INT]:4,[ye.UNSIGNED_INT]:4,[ye.FLOAT]:4,[ye.HALF_FLOAT]:8},DO={[se.RGBA]:4,[se.RGB]:3,[se.RG]:2,[se.RED]:1,[se.LUMINANCE]:1,[se.LUMINANCE_ALPHA]:2,[se.ALPHA]:1},BO={[ye.UNSIGNED_SHORT_4_4_4_4]:2,[ye.UNSIGNED_SHORT_5_5_5_1]:2,[ye.UNSIGNED_SHORT_5_6_5]:2};function UO(t,e,r=!1){const n=new DataView(e);if(!GO(t,n))return null;const i=n.getUint32(_n.ENDIANNESS,!0)===LO,s=n.getUint32(_n.GL_TYPE,i),o=n.getUint32(_n.GL_FORMAT,i),a=n.getUint32(_n.GL_INTERNAL_FORMAT,i),c=n.getUint32(_n.PIXEL_WIDTH,i),d=n.getUint32(_n.PIXEL_HEIGHT,i)||1,p=n.getUint32(_n.PIXEL_DEPTH,i)||1,h=n.getUint32(_n.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(_n.NUMBER_OF_FACES,i),g=n.getUint32(_n.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(_n.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const w=4,E=4,x=c+3&-4,S=d+3&-4,b=new Array(h);let A=c*d;s===0&&(A=x*S);let P;if(s!==0?ww[s]?P=ww[s]*DO[o]:P=BO[s]:P=Cd[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const N=r?HO(n,y,i):null;let k=A*P,R=c,B=d,$=x,K=S,z=x0+y;for(let F=0;F<g;F++){const j=n.getUint32(z,i);let Z=z+4;for(let J=0;J<h;J++){let oe=b[J];oe||(oe=b[J]=new Array(g)),oe[F]={levelID:F,levelWidth:g>1||s!==0?R:$,levelHeight:g>1||s!==0?B:K,levelBuffer:new Uint8Array(e,Z,k)},Z+=k}z+=j+4,z=z%4!==0?z+4-z%4:z,R=R>>1||1,B=B>>1||1,$=R+w-1&~(w-1),K=B+E-1&~(E-1),k=$*K*P}return s!==0?{uncompressed:b.map(F=>{let j=F[0].levelBuffer,Z=!1;return s===ye.FLOAT?j=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===ye.UNSIGNED_INT?(Z=!0,j=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===ye.INT&&(Z=!0,j=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new gf(j,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:Z?zO(o):o}}),kvData:N}:{compressed:b.map(F=>new wo(null,{format:a,width:c,height:d,levels:g,levelBuffers:F})),kvData:N}}function GO(t,e){for(let r=0;r<xw.length;r++)if(e.getUint8(r)!==xw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function zO(t){switch(t){case se.RGBA:return se.RGBA_INTEGER;case se.RGB:return se.RGB_INTEGER;case se.RG:return se.RG_INTEGER;case se.RED:return se.RED_INTEGER;default:return t}}function HO(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(x0+i,r),o=x0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),p=new DataView(t.buffer,o+c+1,s-c-1);n.set(d,p),i+=4+s+a}return n}const $O={extension:{type:le.LoadParser,priority:Bn.High},name:"loadDDS",test(t){return Us(t,".dds")},async load(t,e,r){const n=await(await he.ADAPTER.fetch(t)).arrayBuffer(),i=FO(n).map(s=>{const o=new Ae(s,{mipmap:hi.OFF,alphaMode:Er.NO_PREMULTIPLIED_ALPHA,resolution:zi(t),...e.data});return Ju(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add($O);const jO={extension:{type:le.LoadParser,priority:Bn.High},name:"loadKTX",test(t){return Us(t,".ktx")},async load(t,e,r){const n=await(await he.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=UO(t,n),a=i??s,c={mipmap:hi.OFF,alphaMode:Er.NO_PREMULTIPLIED_ALPHA,resolution:zi(t),...e.data},d=a.map(p=>{a===s&&Object.assign(c,{type:p.type,format:p.format});const h=p.resource??p,f=new Ae(h,c);return f.ktxKeyValueData=o,Ju(f,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(jO);const VO={extension:le.ResolveParser,test:t=>{const e=Mt.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Mt.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=he.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=he.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};me.add(VO);const fh=new Pe,WO=4,$S=class ql{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=a,d.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const d=new FileReader;d.onload=()=>a(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&ql._flipY(n,i,s),a&&ql._unpremultiplyAlpha(n);const c=new Ik(i,s,1),d=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&ql._flipY(n,i,s),a&&ql._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof Oo?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(fh.width=r.width,fh.height=r.height,r=fh)));const d=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===se.RGBA,!c){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=fh,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const p=Math.max(Math.round(r.width*i),1),h=Math.max(Math.round(r.height*i),1),f=new Uint8Array(WO*p*h);return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),p,h,d.RGBA,d.UNSIGNED_BYTE,f),c&&(a==null||a.destroy(!0)),{pixels:f,width:p,height:h,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,d=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,d,d+i),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};$S.extension={name:"extract",type:le.RendererSystem};let XO=$S;me.add(XO);const Pd={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Yt.CIRC){const y=t.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(t.type===Yt.ELIP){const y=t.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=t.shape,w=y.width/2,E=y.height/2;r=y.x+w,n=y.y+E,o=a=Math.max(0,Math.min(y.radius,Math.min(w,E))),i=w-o,s=E-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,h=c*4+(i?2:0)+2,f=h,g=d;{const y=i+o,w=s,E=r+y,x=r-y,S=n+w;if(e[p++]=E,e[p++]=S,e[--h]=S,e[--h]=x,s){const b=n-w;e[f++]=x,e[f++]=b,e[--g]=b,e[--g]=E}}for(let y=1;y<c;y++){const w=Math.PI/2*(y/c),E=i+Math.cos(w)*o,x=s+Math.sin(w)*a,S=r+E,b=r-E,A=n+x,P=n-x;e[p++]=S,e[p++]=A,e[--h]=A,e[--h]=b,e[f++]=b,e[f++]=P,e[--g]=P,e[--g]=S}{const y=i,w=s+a,E=r+y,x=r-y,S=n+w,b=n-w;e[p++]=E,e[p++]=S,e[--g]=b,e[--g]=E,i&&(e[p++]=x,e[p++]=S,e[--g]=b,e[--g]=x)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==Yt.RREC){const p=t.shape;a=p.x,c=p.y}else{const p=t.shape;a=p.x+p.width/2,c=p.y+p.height/2}const d=t.matrix;n.push(t.matrix?d.a*a+d.c*c+d.tx:a,t.matrix?d.b*a+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function bw(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[d]]=[t[d],t[a]]}}}const jS={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){bw(r,!1);const o=[];for(let d=0;d<n.length;d++){const p=n[d];bw(p.points,!0),o.push(r.length/2),r=r.concat(p.points)}const a=j2(r,o,2);if(!a)return;const c=i.length/2;for(let d=0;d<a.length;d+=3)s.push(a[d]+c),s.push(a[d+1]+c),s.push(a[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},YO={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},qO={build(t){Pd.build(t)},triangulate(t,e){Pd.triangulate(t,e)}};var tn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(tn||{}),_s=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(_s||{});const Ya={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Ew{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,d=a-e,p=i-r,h=n-e,f=Math.abs(c*h-d*p);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=c*c+d*d,y=p*p+h*h,w=c*p+d*h,E=s*Math.sqrt(g)/f,x=s*Math.sqrt(y)/f,S=E*w/g,b=x*w/y,A=E*h+x*d,P=E*p+x*c,N=d*(x+S),k=c*(x+S),R=h*(E+b),B=p*(E+b),$=Math.atan2(k-P,N-A),K=Math.atan2(B-P,R-A);return{cx:A+e,cy:P+r,radius:s,startAngle:$,endAngle:K,anticlockwise:d*p>h*c}}static arc(e,r,n,i,s,o,a,c,d){const p=a-o,h=Ya._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/_d)*40),f=p/(h*2),g=f*2,y=Math.cos(f),w=Math.sin(f),E=h-1,x=E%1/E;for(let S=0;S<=E;++S){const b=S+x*S,A=f+o+g*b,P=Math.cos(A),N=-Math.sin(A);d.push((y*P+w*N)*s+n,(y*-N+w*P)*s+i)}}}class QO{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class iy{static curveLength(e,r,n,i,s,o,a,c){let d=0,p=0,h=0,f=0,g=0,y=0,w=0,E=0,x=0,S=0,b=0,A=e,P=r;for(let N=1;N<=10;++N)p=N/10,h=p*p,f=h*p,g=1-p,y=g*g,w=y*g,E=w*e+3*y*p*n+3*g*h*s+f*a,x=w*r+3*y*p*i+3*g*h*o+f*c,S=A-E,b=P-x,A=E,P=x,d+=Math.sqrt(S*S+b*b);return d}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],d=a[a.length-1];a.length-=2;const p=Ya._segmentsCount(iy.curveLength(c,d,e,r,n,i,s,o));let h=0,f=0,g=0,y=0,w=0;a.push(c,d);for(let E=1,x=0;E<=p;++E)x=E/p,h=1-x,f=h*h,g=f*h,y=x*x,w=y*x,a.push(g*c+3*f*x*e+3*h*y*n+w*s,g*d+3*f*x*r+3*h*y*i+w*o)}}function Sw(t,e,r,n,i,s,o,a){const c=t-r*i,d=e-n*i,p=t+r*s,h=e+n*s;let f,g;o?(f=n,g=-r):(f=-n,g=r);const y=c+f,w=d+g,E=p+f,x=h+g;return a.push(y,w,E,x),2}function ro(t,e,r,n,i,s,o,a){const c=r-t,d=n-e;let p=Math.atan2(c,d),h=Math.atan2(i-t,s-e);a&&p<h?p+=Math.PI*2:!a&&p>h&&(h+=Math.PI*2);let f=p;const g=h-p,y=Math.abs(g),w=Math.sqrt(c*c+d*d),E=(15*y*Math.sqrt(w)/Math.PI>>0)+1,x=g/E;if(f+=x,a){o.push(t,e,r,n);for(let S=1,b=f;S<E;S++,b+=x)o.push(t,e,t+Math.sin(b)*w,e+Math.cos(b)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let S=1,b=f;S<E;S++,b+=x)o.push(t+Math.sin(b)*w,e+Math.cos(b)*w,t,e);o.push(i,s,t,e)}return E*2}function KO(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Oe(n[0],n[1]),a=new Oe(n[n.length-2],n[n.length-1]),c=r.type!==Yt.POLY||r.closeStroke,d=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const oe=(o.x+a.x)*.5,M=(a.y+o.y)*.5;n.unshift(oe,M),n.push(oe,M)}const p=e.points,h=n.length/2;let f=n.length;const g=p.length/2,y=s.width/2,w=y*y,E=s.miterLimit*s.miterLimit;let x=n[0],S=n[1],b=n[2],A=n[3],P=0,N=0,k=-(S-A),R=x-b,B=0,$=0,K=Math.sqrt(k*k+R*R);k/=K,R/=K,k*=y,R*=y;const z=s.alignment,F=(1-z)*2,j=z*2;c||(s.cap===_s.ROUND?f+=ro(x-k*(F-j)*.5,S-R*(F-j)*.5,x-k*F,S-R*F,x+k*j,S+R*j,p,!0)+2:s.cap===_s.SQUARE&&(f+=Sw(x,S,k,R,F,j,!0,p))),p.push(x-k*F,S-R*F,x+k*j,S+R*j);for(let oe=1;oe<h-1;++oe){x=n[(oe-1)*2],S=n[(oe-1)*2+1],b=n[oe*2],A=n[oe*2+1],P=n[(oe+1)*2],N=n[(oe+1)*2+1],k=-(S-A),R=x-b,K=Math.sqrt(k*k+R*R),k/=K,R/=K,k*=y,R*=y,B=-(A-N),$=b-P,K=Math.sqrt(B*B+$*$),B/=K,$/=K,B*=y,$*=y;const M=b-x,W=S-A,L=b-P,U=N-A,ee=M*L+W*U,Te=W*L-U*M,Ee=Te<0;if(Math.abs(Te)<.001*Math.abs(ee)){p.push(b-k*F,A-R*F,b+k*j,A+R*j),ee>=0&&(s.join===tn.ROUND?f+=ro(b,A,b-k*F,A-R*F,b-B*F,A-$*F,p,!1)+4:f+=2,p.push(b-B*j,A-$*j,b+B*F,A+$*F));continue}const He=(-k+x)*(-R+A)-(-k+b)*(-R+S),Re=(-B+P)*(-$+A)-(-B+b)*(-$+N),ze=(M*Re-L*He)/Te,kt=(U*He-W*Re)/Te,jt=(ze-b)*(ze-b)+(kt-A)*(kt-A),ft=b+(ze-b)*F,Me=A+(kt-A)*F,Ke=b-(ze-b)*j,Be=A-(kt-A)*j,Vr=Math.min(M*M+W*W,L*L+U*U),Wr=Ee?F:j,Vs=Vr+Wr*Wr*w,Qf=jt<=Vs;let Do=s.join;if(Do===tn.MITER&&jt/w>E&&(Do=tn.BEVEL),Qf)switch(Do){case tn.MITER:{p.push(ft,Me,Ke,Be);break}case tn.BEVEL:{Ee?p.push(ft,Me,b+k*j,A+R*j,ft,Me,b+B*j,A+$*j):p.push(b-k*F,A-R*F,Ke,Be,b-B*F,A-$*F,Ke,Be),f+=2;break}case tn.ROUND:{Ee?(p.push(ft,Me,b+k*j,A+R*j),f+=ro(b,A,b+k*j,A+R*j,b+B*j,A+$*j,p,!0)+4,p.push(ft,Me,b+B*j,A+$*j)):(p.push(b-k*F,A-R*F,Ke,Be),f+=ro(b,A,b-k*F,A-R*F,b-B*F,A-$*F,p,!1)+4,p.push(b-B*F,A-$*F,Ke,Be));break}}else{switch(p.push(b-k*F,A-R*F,b+k*j,A+R*j),Do){case tn.MITER:{Ee?p.push(Ke,Be,Ke,Be):p.push(ft,Me,ft,Me),f+=2;break}case tn.ROUND:{Ee?f+=ro(b,A,b+k*j,A+R*j,b+B*j,A+$*j,p,!0)+2:f+=ro(b,A,b-k*F,A-R*F,b-B*F,A-$*F,p,!1)+2;break}}p.push(b-B*F,A-$*F,b+B*j,A+$*j),f+=2}}x=n[(h-2)*2],S=n[(h-2)*2+1],b=n[(h-1)*2],A=n[(h-1)*2+1],k=-(S-A),R=x-b,K=Math.sqrt(k*k+R*R),k/=K,R/=K,k*=y,R*=y,p.push(b-k*F,A-R*F,b+k*j,A+R*j),c||(s.cap===_s.ROUND?f+=ro(b-k*(F-j)*.5,A-R*(F-j)*.5,b-k*F,A-R*F,b+k*j,A+R*j,p,!1)+2:s.cap===_s.SQUARE&&(f+=Sw(b,A,k,R,F,j,!1,p)));const Z=e.indices,J=Ya.epsilon*Ya.epsilon;for(let oe=g;oe<f+g-2;++oe)x=p[oe*2],S=p[oe*2+1],b=p[(oe+1)*2],A=p[(oe+1)*2+1],P=p[(oe+2)*2],N=p[(oe+2)*2+1],!(Math.abs(x*(A-N)+b*(N-S)+P*(S-A))<J)&&Z.push(oe,oe+1,oe+2)}function ZO(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Yt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,d=o.length/2;let p=d;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(p,p+1),p++;s&&a.push(p,d)}function Tw(t,e){t.lineStyle.native?ZO(t,e):KO(t,e)}class sy{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,d=2*n-2*e,p=2*i-2*r,h=4*(a*a+c*c),f=4*(a*d+c*p),g=d*d+p*p,y=2*Math.sqrt(h+f+g),w=Math.sqrt(h),E=2*h*w,x=2*Math.sqrt(g),S=f/w;return(E*y+w*f*(y-x)+(4*g*h-f*f)*Math.log((2*w+S+y)/(S+x)))/(4*E)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=Ya._segmentsCount(sy.curveLength(o,a,e,r,n,i));let d=0,p=0;for(let h=1;h<=c;++h){const f=h/c;d=o+(e-o)*f,p=a+(r-a)*f,s.push(d+(e+(n-e)*f-d)*f,p+(r+(i-r)*f-p)*f)}}}const $m={[Yt.POLY]:jS,[Yt.CIRC]:Pd,[Yt.ELIP]:Pd,[Yt.RECT]:YO,[Yt.RREC]:qO},Aw=[],ph=[];class Id{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Id(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const na=new Oe,VS=class WS extends KE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Sd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ph.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Aw.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Id(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Id(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,na):na.copyFrom(e),i.shape.contains(na.x,na.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(na.x,na.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],p=d.fillStyle,h=d.lineStyle;$m[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(p.visible||h.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const g=f===0?p:h;if(!g.visible)continue;const y=g.texture.baseTexture,w=this.indices.length,E=this.points.length/2;y.wrapMode=Bi.REPEAT,f===0?this.processFill(d):this.processLine(d);const x=this.points.length/2-E;x!==0&&(n&&!this._compareStyles(i,g)&&(n.end(w,E),n=null),n||(n=Aw.pop()||new QO,n.begin(g,w,E),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,E,x,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<WS.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ae._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),ph.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=ph.pop();i||(i=new Zg,i.texArray=new n0),i.texArray.count=0,i.start=0,i.size=0,i.type=Cn.TRIANGLES;let s=0,o=null,a=0,c=!1,d=Cn.TRIANGLES,p=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],g=8,y=f.style,w=y.texture.baseTexture;c!==!!y.native&&(c=!!y.native,d=c?Cn.LINES:Cn.TRIANGLES,o=null,s=g,e++),o!==w&&(o=w,w._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=ph.pop(),i||(i=new Zg,i.texArray=new n0),this.drawCalls.push(i)),i.start=p,i.size=0,i.texArray.count=0,i.type=d),w.touched=1,w._batchEnabled=e,w._batchLocation=s,w.wrapMode=Bi.REPEAT,i.texArray.elements[i.texArray.count++]=w,s++)),i.size+=f.size,p+=f.size,a=w._batchLocation,this.addColors(r,y.color,y.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,a,f.attribSize,f.attribStart)}Ae._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],a[c++]=n[d],o[c++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?jS.triangulate(e,this):$m[e.type].triangulate(e,this)}processLine(e){Tw(e,this);for(let r=0;r<e.holes.length;r++)Tw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];$m[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=qe.shared.setValue(r).toLittleEndianNumber(),a=qe.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,d=n.frame;for(;a<s;){let h=e[(i+a)*2],f=e[(i+a)*2+1];if(o){const g=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty,h=g}a++,r.push(h/d.width,f/d.height)}const p=n.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,d=c.width/s.width,p=c.height/s.height;let h=c.x/c.width,f=c.y/c.height,g=Math.floor(e[n]+o),y=Math.floor(e[n+1]+o);for(let w=n+2;w<a;w+=2)g=Math.min(g,Math.floor(e[w]+o)),y=Math.min(y,Math.floor(e[w+1]+o));h-=g,f-=y;for(let w=n;w<a;w+=2)e[w]=(e[w]+h)*d,e[w+1]=(e[w+1]+f)*p}};VS.BATCHABLE_SIZE=100;let JO=VS;class Sf{constructor(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Sf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class oy extends Sf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=_s.BUTT,this.join=tn.MITER,this.miterLimit=10}clone(){const e=new oy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=_s.BUTT,this.join=tn.MITER,this.miterLimit=10}}const jm={},w0=class qh extends mr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Sf,this._lineStyle=new oy,this._matrix=null,this._holeMode=!1,this.state=vi.for2d(),this._geometry=e||new JO,this._geometry.refCount++,this._transformID=-1,this._tintColor=new qe(16777215),this.blendMode=we.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new qh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ue.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:_s.BUTT,join:tn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new xo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new xo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),sy.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),iy.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=Ew.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:d,radius:p,startAngle:h,endAngle:f,anticlockwise:g}=a;this.arc(c,d,p,h,f,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=_d:o&&i<=s&&(i+=_d),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const h=Math.abs(p[p.length-2]-a),f=Math.abs(p[p.length-1]-c);h<d&&f<d||p.push(a,c)}else this.moveTo(a,c),p=this.currentPath.points;return Ew.arc(a,c,e,r,n,i,s,o,p),this}beginFill(e=0,r){return this.beginTextureFill({texture:ue.WHITE,color:e,alpha:r})}normalizeColor(e){const r=qe.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ue.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Pe(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new _f(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new vf(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new yf(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new xo(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Yt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),p={vertexData:a,blendMode:r,indices:d,uvs:c,_batchRGB:qe.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=p}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,qe.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!jm[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new tt,default:kn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;jm[n]=new li(a,o)}r=jm[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,qh._TEMP_POINT),this._geometry.containsPoint(qh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=qe.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this._geometry.points,p=this.vertexData;let h=0;for(let f=0;f<d.length;f+=2){const g=d[f],y=d[f+1];p[h++]=n*g+s*y+a,p[h++]=o*y+i*g+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};w0.curves=Ya,w0._TEMP_POINT=new Oe;let cu=w0;class eF{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Vm=new Oe,Cw=new xo,XS=class YS extends mr{constructor(e,r,n,i=Cn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||vi.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=he.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Cn.TRIANGLES&&r.length<YS.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,d=i.tx,p=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const g=r[f*2],y=r[f*2+1];h[f*2]=s*g+a*y+d,h[f*2+1]=o*g+c*y+p}if(this._roundPixels){const f=he.RESOLUTION;for(let g=0;g<h.length;++g)h[g]=Math.round(h[g]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new eF(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Vm);const r=this.geometry.getBuffer("aVertexPosition").data,n=Cw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,d=i[a+1]*2,p=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[p],n[5]=r[p+1],Cw.contains(Vm.x,Vm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};XS.BATCHABLE_SIZE=100;let Au=XS;class Tf extends ks{constructor(e,r,n){super();const i=new _t(e),s=new _t(r,!0),o=new _t(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ye.FLOAT).addAttribute("aTextureCoord",s,2,!1,ye.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var tF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,rF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Cu extends li{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:tt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ni.from(rF,tF),n),this._colorDirty=!1,this.uvMatrix=new ty(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new qe(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;qe.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class nF extends Tf{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let p=0;p<e;p++){const h=p%this.segWidth,f=p/this.segWidth|0;r.push(h*a,f*c),n.push(h/s,f/o)}const d=s*o;for(let p=0;p<d;p++){const h=p%s,f=p/s|0,g=f*this.segWidth+h,y=f*this.segWidth+h+1,w=(f+1)*this.segWidth+h,E=(f+1)*this.segWidth+h+1;i.push(g,y,w,y,E,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class iF extends Tf{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const d=this._width*this.textureScale,p=e.length;for(let f=0;f<p;f++){const g=f*4;if(this.textureScale>0){const y=c.x-e[f].x,w=c.y-e[f].y,E=Math.sqrt(y*y+w*w);c=e[f],a+=E/d}else a=f/(p-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let h=0;for(let f=0;f<p-1;f++){const g=f*2;o[h++]=g,o[h++]=g+1,o[h++]=g+2,o[h++]=g+2,o[h++]=g+1,o[h++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<a;d++){const p=e[d],h=d*4;d<e.length-1?n=e[d+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=c,s*=c),o[h]=p.x+i,o[h+1]=p.y+s,o[h+2]=p.x-i,o[h+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class sF extends Au{constructor(e,r,n){const i=new nF(e.width,e.height,r,n),s=new Cu(ue.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const mh=10;class oF extends sF{constructor(e,r,n,i,s){var o,a,c,d;super(ue.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??mh,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??mh,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??mh,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??mh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class aF extends Au{constructor(e=ue.EMPTY,r,n,i,s){const o=new Tf(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Cu(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class lF extends Au{constructor(e,r,n=0){const i=new iF(e.height,r,n),s=new Cu(e);n>0&&(e.baseTexture.wrapMode=Bi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class uF extends mr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=we.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new qe(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Pw{constructor(e,r,n){this.geometry=new ks,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ye.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new _t(Ck(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new _t(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new _t(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ye.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ye.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var cF=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,hF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class qS extends wf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new tt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=li.from(hF,cF,{}),this.state=vi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=YE(e.blendMode,d),s.state.set(this.state);const p=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=qe.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let f=!1;for(let g=0,y=0;g<o;g+=i,y+=1){let w=o-g;w>i&&(w=i),y>=a.length&&a.push(this._generateOneMoreBuffer(e));const E=a[y];E.uploadDynamic(r,g,w);const x=e._bufferUpdateIDs[y]||0;f=f||E._updateID<x,f&&(E._updateID=e._updateID,E.uploadStatic(r,g,w)),s.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,w*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Pw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Pw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,d=0,p=0;for(let h=0;h<n;++h){const f=e[r+h],g=f._texture,y=f.scale.x,w=f.scale.y,E=g.trim,x=g.orig;E?(c=E.x-f.anchor.x*x.width,a=c+E.width,p=E.y-f.anchor.y*x.height,d=p+E.height):(a=x.width*(1-f.anchor.x),c=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),p=x.height*-f.anchor.y),i[o]=c*y,i[o+1]=p*w,i[o+s]=a*y,i[o+s+1]=p*w,i[o+s*2]=a*y,i[o+s*2+1]=d*w,i[o+s*3]=c*y,i[o+s*3+1]=d*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],d=qe.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}qS.extension={name:"particle",type:le.RendererPlugin};me.add(qS);var Af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Af||{});const gh={willReadFrequently:!0},Jn=class ve{static get experimentalLetterSpacingSupported(){let e=ve._experimentalLetterSpacingSupported;if(e!==void 0){const r=he.ADAPTER.getCanvasRenderingContext2D().prototype;e=ve._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,i=ve._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ve.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",gh);a.font=s;const c=(n?ve.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let p=0;for(let y=0;y<c.length;y++){const w=ve._measureText(c[y],r.letterSpacing,a);d[y]=w,p=Math.max(p,w)}let h=p+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const f=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(f,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(f+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new ve(e,r,h,g,c,d,f+r.leading,p,o)}static _measureText(e,r,n){let i=!1;ve.experimentalLetterSpacingSupported&&(ve.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ve.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ve._canvas){const i=n.getContext("2d",gh);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:d,whiteSpace:p}=r,h=ve.collapseSpaces(p),f=ve.collapseNewlines(p);let g=!h;const y=r.wordWrapWidth+d,w=ve.tokenize(e);for(let E=0;E<w.length;E++){let x=w[E];if(ve.isNewline(x)){if(!f){a+=ve.addLine(o),g=!h,o="",s=0;continue}x=" "}if(h){const b=ve.isBreakingSpace(x),A=ve.isBreakingSpace(o[o.length-1]);if(b&&A)continue}const S=ve.getFromCache(x,d,c,i);if(S>y)if(o!==""&&(a+=ve.addLine(o),o="",s=0),ve.canBreakWords(x,r.breakWords)){const b=ve.wordWrapSplit(x);for(let A=0;A<b.length;A++){let P=b[A],N=P,k=1;for(;b[A+k];){const B=b[A+k];if(!ve.canBreakChars(N,B,x,A,r.breakWords))P+=B;else break;N=B,k++}A+=k-1;const R=ve.getFromCache(P,d,c,i);R+s>y&&(a+=ve.addLine(o),g=!1,o="",s=0),o+=P,s+=R}}else{o.length>0&&(a+=ve.addLine(o),o="",s=0);const b=E===w.length-1;a+=ve.addLine(x,!b),g=!1,o="",s=0}else S+s>y&&(g=!1,a+=ve.addLine(o),o="",s=0),(o.length>0||!ve.isBreakingSpace(x)||g)&&(o+=x,s+=S)}return a+=ve.addLine(o,!1),a}static addLine(e,r=!0){return e=ve.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ve._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ve.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ve._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ve._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ve.isBreakingSpace(s,o)||ve.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ve.graphemeSegmenter(e)}static measureFont(e){if(ve._fonts[e])return ve._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ve._canvas,i=ve._context;i.font=e;const s=ve.METRICS_STRING+ve.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ve.BASELINE_SYMBOL).width);const c=Math.ceil(ve.HEIGHT_MULTIPLIER*a);if(a=a*ve.BASELINE_MULTIPLIER|0,o===0||c===0)return ve._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const d=i.getImageData(0,0,o,c).data,p=d.length,h=o*4;let f=0,g=0,y=!1;for(f=0;f<a;++f){for(let w=0;w<h;w+=4)if(d[g+w]!==255){y=!0;break}if(!y)g+=h;else break}for(r.ascent=a-f,g=p-h,y=!1,f=c;f>a;--f){for(let w=0;w<h;w+=4)if(d[g+w]!==255){y=!0;break}if(!y)g-=h;else break}return r.descent=f-a,r.fontSize=r.ascent+r.descent,ve._fonts[e]=r,r}static clearMetrics(e=""){e?delete ve._fonts[e]:ve._fonts={}}static get _canvas(){var e;if(!ve.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",gh))!=null&&e.measureText)return ve.__canvas=n,n;r=he.ADAPTER.createCanvas()}catch{r=he.ADAPTER.createCanvas()}r.width=r.height=10,ve.__canvas=r}return ve.__canvas}static get _context(){return ve.__context||(ve.__context=ve._canvas.getContext("2d",gh)),ve.__context}};Jn.METRICS_STRING="|q",Jn.BASELINE_SYMBOL="M",Jn.BASELINE_MULTIPLIER=1.4,Jn.HEIGHT_MULTIPLIER=2,Jn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Jn.experimentalLetterSpacing=!1,Jn._fonts={},Jn._newlines=[10,13],Jn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let cs=Jn;const dF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],QS=class Ql{constructor(e){this.styleID=0,this.reset(),Xm(this,e,e)}clone(){const e={};return Xm(e,this,Ql.defaultStyle),new Ql(e)}reset(){Xm(this,Ql.defaultStyle,Ql.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Wm(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Wm(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){fF(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Wm(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!dF.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};QS.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let di=QS;function Wm(t){const e=qe.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function fF(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Xm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const pF={texture:!0,children:!1,baseTexture:!0},KS=class b0 extends yi{constructor(e,r,n){let i=!1;n||(n=he.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ue.from(n);s.orig=new Pe,s.trim=new Pe,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=b0.defaultResolution??he.RESOLUTION,this._autoResolution=b0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return cs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ke("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),cs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=cs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,d=i.lineWidths,p=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let f,g;const y=r.dropShadow?2:1;for(let w=0;w<y;++w){const E=r.dropShadow&&w===0,x=E?Math.ceil(Math.max(1,o)+r.padding*2):0,S=x*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,N=r.dropShadowDistance*this._resolution;n.shadowColor=qe.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*N,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*N+S}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(c-h.fontSize)/2;c-h.fontSize<0&&(b=0);for(let A=0;A<a.length;A++)f=r.strokeThickness/2,g=r.strokeThickness/2+A*c+h.ascent+b,r.align==="right"?f+=p-d[A]:r.align==="center"&&(f+=(p-d[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-x,!0),r.fill&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(cs.experimentalLetterSpacingSupported&&(cs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=cs.graphemeSegmenter(e);let d=this.context.measureText(e).width,p=0;for(let h=0;h<c.length;++h){const f=c[h];i?this.context.strokeText(f,a,n):this.context.fillText(f,a,n);let g="";for(let y=h+1;y<c.length;++y)g+=c[y];p=this.context.measureText(g).width,a+=d-p+s,d=p}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=Mk(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,d=this.canvas.height/this._resolution-o-a*2,p=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const f=p.length+1;for(let g=1;g<f;++g)h.push(g/f)}if(p.unshift(i[0]),h.unshift(0),p.push(i[i.length-1]),h.push(1),e.fillGradientType===Af.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,d+a);const f=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const y=n.lineHeight*(g-1)+f,w=n.lineHeight*g;let E=w;g>0&&y>w&&(E=(w+y)/2);const x=w+f,S=n.lineHeight*(g+1);let b=x;g+1<r.length&&S<x&&(b=(x+S)/2);const A=(b-E)/d;for(let P=0;P<p.length;P++){let N=0;typeof h[P]=="number"?N=h[P]:N=P/p.length;let k=Math.min(1,Math.max(0,E/d+N*A));k=Number(k.toFixed(5)),s.addColorStop(k,p[P])}}}else{s=this.context.createLinearGradient(a,d/2,c+a,d/2);const f=p.length+1;let g=1;for(let y=0;y<p.length;y++){let w;typeof h[y]=="number"?w=h[y]:w=g/f,s.addColorStop(w,p[y]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},pF,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=ys(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=ys(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof di?this._style=e:this._style=new di(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};KS.defaultAutoResolution=!0;let ay=KS;class mF{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function gF(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ue){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function vF(t,e){if(t.baseTexture instanceof Ae){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function yF(t,e){if(t._texture&&t._texture instanceof ue){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function _F(t,e){return e instanceof ay?(e.updateText(!0),!0):!1}function xF(t,e){if(e instanceof di){const r=e.toFontString();return cs.measureFont(r),!0}return!1}function wF(t,e){if(t instanceof ay){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function bF(t,e){return t instanceof di?(e.includes(t)||e.push(t),!0):!1}const ZS=class JS{constructor(e){this.limiter=new mF(JS.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(wF),this.registerFindHook(bF),this.registerFindHook(gF),this.registerFindHook(vF),this.registerFindHook(yF),this.registerUploadHook(_F),this.registerUploadHook(xF)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,zt.system.addOnce(this.tick,this,Os.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)zt.system.addOnce(this.tick,this,Os.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof mr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};ZS.uploadsPerFrame=4;let E0=ZS;Object.defineProperties(he,{UPLOADS_PER_FRAME:{get(){return E0.uploadsPerFrame},set(t){ke("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),E0.uploadsPerFrame=t}}});function eT(t,e){return e instanceof Ae?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function EF(t,e){if(!(e instanceof cu))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&eT(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function SF(t,e){return t instanceof cu?(e.push(t),!0):!1}class tT extends E0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(SF),this.registerUploadHook(eT),this.registerUploadHook(EF)}}tT.extension={name:"prepare",type:le.RendererSystem};me.add(tT);class Pu extends yi{constructor(e,r=!0){super(e[0]instanceof ue?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(zt.shared.add(this.update,this,Os.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Pu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Pu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ue)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ll=new Oe;class ly extends yi{constructor(e,r=100,n=100){super(e),this.tileTransform=new xf,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new ty(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ll);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Ll.x>=i&&Ll.x<i+r){const s=-n*this.anchor._y;if(Ll.y>=s&&Ll.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new ly(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var TF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,AF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,CF=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Iw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,PF=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const vh=new tt;class rT extends wf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new aS,this.state=vi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=li.from(Iw,PF,r),this.shader=e.context.webGLVersion>1?li.from(AF,TF,r):li.from(Iw,CF,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,h=e.uvMatrix;let f=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;f&&(c._glTextures[r.CONTEXT_UID]?f=c.wrapMode!==Bi.CLAMP:c.wrapMode===Bi.CLAMP&&(c.wrapMode=Bi.REPEAT));const g=f?this.simpleShader:this.shader,y=a.width,w=a.height,E=e._width,x=e._height;vh.set(p.a*y/E,p.b*y/x,p.c*w/E,p.d*w/x,p.tx/E,p.ty/x),vh.invert(),f?vh.prepend(h.mapCoord):(g.uniforms.uMapCoord=h.mapCoord.toArray(!0),g.uniforms.uClampFrame=h.uClampFrame,g.uniforms.uClampOffset=h.uClampOffset),g.uniforms.uTransform=vh.toArray(!0),g.uniforms.uColor=qe.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=YE(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}rT.extension={name:"tilingSprite",type:le.RendererPlugin};me.add(rT);const nT=class Kl{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof ue?e:null,this.baseTexture=e instanceof Ae?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=zi(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Kl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Kl.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,p=new Pe(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?a=new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Pe(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ue(this.baseTexture,a,p,c,s.rotated?2:0,s.anchor,s.borders),ue.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Kl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Kl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};nT.BATCH_SIZE=1e3;let Rw=nT;const IF=["jpg","png","jpeg","avif","webp"];function iT(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Mt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=iT([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const RF={extension:le.Asset,cache:{test:t=>t instanceof Rw,getCacheableAssets:(t,e)=>iT(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&IF.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=he.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:le.LoadParser,priority:Bn.Normal},async testParse(t,e){return Mt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=Mt.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=_0(i,e.src);const s=(await r.load([i]))[i],o=new Rw(s.baseTexture,t,e.src);await o.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const p=[];for(const f of a){if(typeof f!="string")continue;let g=n+f;(d=e.data)!=null&&d.ignoreMultiPack||(g=_0(g,e.src),p.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(p);o.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==f))})}return o},unload(t){t.destroy(!0)}}};me.add(RF);class Rd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Qh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in a){const p=a[d].split("="),h=p[0],f=p[1].replace(/"/gm,""),g=parseFloat(f),y=isNaN(g)?f:g;c[h]=y}n[o].push(c)}const i=new Rd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class S0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Rd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const p=o[d];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<a.length;d++)r.kerning.push({first:parseInt(a[d].getAttribute("first"),10),second:parseInt(a[d].getAttribute("second"),10),amount:parseInt(a[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class T0{static test(e){return typeof e=="string"&&e.includes("<font>")?S0.test(he.ADAPTER.parseXML(e)):!1}static parse(e){return S0.parse(he.ADAPTER.parseXML(e))}}const Ym=[Qh,S0,T0];function MF(t){for(let e=0;e<Ym.length;e++)if(Ym[e].test(t))return Ym[e];return null}function kF(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,p=t.width/n-c-d*2,h=t.height/n-c-d*2,f=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const y=f.length+1;for(let w=1;w<y;++w)g.push(w/y)}if(f.unshift(o[0]),g.unshift(0),f.push(o[o.length-1]),g.push(1),r.fillGradientType===Af.LINEAR_VERTICAL){a=e.createLinearGradient(p/2,d,p/2,h+d);let y=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let E=0;E<i.length;E++){const x=s.lineHeight*E;for(let S=0;S<f.length;S++){let b=0;typeof g[S]=="number"?b=g[S]:b=S/f.length;const A=x/h+b*w;let P=Math.max(y,A);P=Math.min(P,1),a.addColorStop(P,f[S]),y=P}}}else{a=e.createLinearGradient(d,h/2,p+d,h/2);const y=f.length+1;let w=1;for(let E=0;E<f.length;E++){let x;typeof g[E]=="number"?x=g[E]:x=w/y,a.addColorStop(x,f[E]),w++}}return a}function NF(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,p=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=kF(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=qe.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,d,p+r.lineHeight-c.descent),o.fill&&e.fillText(a,d,p+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Kh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function sT(t){return Array.from?Array.from(t):t.split("")}function OF(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...sT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const as=class ei{constructor(e,r,n){var p;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=zi(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=d;for(let h=0;h<e.page.length;h++){const{id:f,file:g}=e.page[h];d[f]=r instanceof Array?r[h]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(d[f].baseTexture.alphaMode=Er.NO_PREMULTIPLIED_ALPHA,d[f].baseTexture.mipmap=hi.OFF)}for(let h=0;h<e.char.length;h++){const{id:f,page:g}=e.char[h];let{x:y,y:w,width:E,height:x,xoffset:S,yoffset:b,xadvance:A}=e.char[h];y/=c,w/=c,E/=c,x/=c,S/=c,b/=c,A/=c;const P=new Pe(y+d[g].frame.x/c,w+d[g].frame.y/c,E,x);this.chars[f]={xOffset:S,yOffset:b,xAdvance:A,kerning:{},texture:new ue(d[g].baseTexture,P),page:g}}for(let h=0;h<e.kerning.length;h++){let{first:f,second:g,amount:y}=e.kerning[h];f/=c,g/=c,y/=c,this.chars[g]&&(this.chars[g].kerning[f]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((p=a==null?void 0:a.fieldType)==null?void 0:p.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Rd)i=e;else{const o=MF(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ue&&(r=[r]);const s=new ei(i,r,n);return ei.available[s.font]=s,s}static uninstall(e){const r=ei.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete ei.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...d}=Object.assign({},ei.defaultOptions,n),p=OF(i),h=r instanceof di?r:new di(r),f=a,g=new Rd;g.info[0]={face:h.fontFamily,size:h.fontSize},g.common[0]={lineHeight:h.fontSize};let y=0,w=0,E,x,S,b=0;const A=[];for(let N=0;N<p.length;N++){E||(E=he.ADAPTER.createCanvas(),E.width=a,E.height=c,x=E.getContext("2d"),S=new Ae(E,{resolution:o,...d}),A.push(new ue(S)),g.page.push({id:A.length-1,file:""}));const k=p[N],R=cs.measureText(k,h,!1,E),B=R.width,$=Math.ceil(R.height),K=Math.ceil((h.fontStyle==="italic"?2:1)*B);if(w>=c-$*o){if(w===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--N,E=null,x=null,S=null,w=0,y=0,b=0;continue}if(b=Math.max($+R.fontProperties.descent,b),K*o+y>=f){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--N,w+=b*o,w=Math.ceil(w),y=0,b=0;continue}NF(E,x,R,y,w,o,h);const z=Kh(R.text);g.char.push({id:z,page:A.length-1,x:y/o,y:w/o,width:K,height:$,xoffset:0,yoffset:0,xadvance:B-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),y+=(K+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let N=0,k=p.length;N<k;N++){const R=p[N];for(let B=0;B<k;B++){const $=p[B],K=x.measureText(R).width,z=x.measureText($).width,F=x.measureText(R+$).width-(K+z);F&&g.kerning.push({first:Kh(R),second:Kh($),amount:F})}}const P=new ei(g,A,!0);return ei.available[e]!==void 0&&ei.uninstall(e),ei.available[e]=P,P}};as.ALPHA=[["a","z"],["A","Z"]," "],as.NUMERIC=[["0","9"]],as.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],as.ASCII=[[" ","~"]],as.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:as.ALPHANUMERIC},as.available={};let ls=as;var FF=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,LF=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Mw=[],kw=[],Nw=[],oT=class aT extends mr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},aT.styleDefaults,r);if(!ls.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new qe(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new si(()=>{this.dirty=!0},this,0,0),this._roundPixels=he.ROUND_PIXELS,this.dirty=!0,this._resolution=he.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var K;const e=ls.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Oe,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=sT(c),p=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?Mw:kw;let f=null,g=0,y=0,w=0,E=-1,x=0,S=0,b=0,A=0;for(let z=0;z<d.length;z++){const F=d[z],j=Kh(F);if(/(?:\s)/.test(F)&&(E=z,x=g,A++),F==="\r"||F===`
`){o.push(g),a.push(-1),y=Math.max(y,g),++w,++S,i.x=0,i.y+=e.lineHeight,f=null,A=0;continue}const Z=e.chars[j];if(!Z)continue;f&&Z.kerning[f]&&(i.x+=Z.kerning[f]);const J=Nw.pop()||{texture:ue.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Oe};J.texture=Z.texture,J.line=w,J.charCode=j,J.position.x=Math.round(i.x+Z.xOffset+this._letterSpacing/2),J.position.y=Math.round(i.y+Z.yOffset),J.prevSpaces=A,s.push(J),g=J.position.x+Math.max(Z.xAdvance-Z.xOffset,Z.texture.orig.width),i.x+=Z.xAdvance+this._letterSpacing,b=Math.max(b,Z.yOffset+Z.texture.height),f=j,E!==-1&&p>0&&i.x>p&&(++S,Fa(s,1+E-S,1+z-E),z=E,E=-1,o.push(x),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,x),w++,i.x=0,i.y+=e.lineHeight,f=null,A=0)}const P=d[d.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(g=x),o.push(g),y=Math.max(y,g),a.push(-1));const N=[];for(let z=0;z<=w;z++){let F=0;this._align==="right"?F=y-o[z]:this._align==="center"?F=(y-o[z])/2:this._align==="justify"&&(F=a[z]<0?0:(y-o[z])/a[z]),N.push(F)}const k=s.length,R={},B=[],$=this._activePagesMeshData;h.push(...$);for(let z=0;z<k;z++){const F=s[z].texture,j=F.baseTexture.uid;if(!R[j]){let Z=h.pop();if(!Z){const oe=new Tf;let M,W;e.distanceFieldType==="none"?(M=new Cu(ue.EMPTY),W=we.NORMAL):(M=new Cu(ue.EMPTY,{program:Ni.from(LF,FF),uniforms:{uFWidth:0}}),W=we.NORMAL_NPM);const L=new Au(oe,M);L.blendMode=W,Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;const{_textureCache:J}=this;J[j]=J[j]||new ue(F.baseTexture),Z.mesh.texture=J[j],Z.mesh.tint=this._tintColor.value,B.push(Z),R[j]=Z}R[j].total++}for(let z=0;z<$.length;z++)B.includes($[z])||this.removeChild($[z].mesh);for(let z=0;z<B.length;z++)B[z].mesh.parent!==this&&this.addChild(B[z].mesh);this._activePagesMeshData=B;for(const z in R){const F=R[z],j=F.total;if(!(((K=F.indices)==null?void 0:K.length)>6*j)||F.vertices.length<Au.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*j),F.uvs=new Float32Array(4*2*j),F.indices=new Uint16Array(6*j);else{const Z=F.total,J=F.vertices;for(let oe=Z*4*2;oe<J.length;oe++)J[oe]=0}F.mesh.size=6*j}for(let z=0;z<k;z++){const F=s[z];let j=F.position.x+N[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(j=Math.round(j));const Z=j*n,J=F.position.y*n,oe=F.texture,M=R[oe.baseTexture.uid],W=oe.frame,L=oe._uvs,U=M.index++;M.indices[U*6+0]=0+U*4,M.indices[U*6+1]=1+U*4,M.indices[U*6+2]=2+U*4,M.indices[U*6+3]=0+U*4,M.indices[U*6+4]=2+U*4,M.indices[U*6+5]=3+U*4,M.vertices[U*8+0]=Z,M.vertices[U*8+1]=J,M.vertices[U*8+2]=Z+W.width*n,M.vertices[U*8+3]=J,M.vertices[U*8+4]=Z+W.width*n,M.vertices[U*8+5]=J+W.height*n,M.vertices[U*8+6]=Z,M.vertices[U*8+7]=J+W.height*n,M.uvs[U*8+0]=L.x0,M.uvs[U*8+1]=L.y0,M.uvs[U*8+2]=L.x1,M.uvs[U*8+3]=L.y1,M.uvs[U*8+4]=L.x2,M.uvs[U*8+5]=L.y2,M.uvs[U*8+6]=L.x3,M.uvs[U*8+7]=L.y3}this._textWidth=y*n,this._textHeight=(i.y+e.lineHeight)*n;for(const z in R){const F=R[z];if(this.anchor.x!==0||this.anchor.y!==0){let oe=0;const M=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y;for(let L=0;L<F.total;L++)F.vertices[oe++]-=M,F.vertices[oe++]-=W,F.vertices[oe++]-=M,F.vertices[oe++]-=W,F.vertices[oe++]-=M,F.vertices[oe++]-=W,F.vertices[oe++]-=M,F.vertices[oe++]-=W}this._maxLineHeight=b*n;const j=F.mesh.geometry.getBuffer("aVertexPosition"),Z=F.mesh.geometry.getBuffer("aTextureCoord"),J=F.mesh.geometry.getIndex();j.data=F.vertices,Z.data=F.uvs,J.data=F.indices,j.update(),Z.update(),J.update()}for(let z=0;z<s.length;z++)Nw.push(s[z]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=ls.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,d=Math.sqrt(s*s+o*o),p=Math.sqrt(a*a+c*c),h=(Math.abs(d)+Math.abs(p))/2,f=this.fontSize/i,g=e._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=h*r*f*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ls.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ls.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ls.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=ls.available[this._fontName].distanceFieldType==="none"?Mw:kw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ue.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};oT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let DF=oT;const BF=[".xml",".fnt"],UF={extension:{type:le.LoadParser,priority:Bn.Normal},name:"loadBitmapFont",test(t){return BF.includes(Mt.extname(t).toLowerCase())},async testParse(t){return Qh.test(t)||T0.test(t)},async parse(t,e,r){const n=Qh.test(t)?Qh.parse(t):T0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const p=s[d].file;let h=Mt.join(Mt.dirname(i),p);h=_0(h,i),o.push(h)}const a=await r.load(o),c=o.map(d=>a[d]);return ls.install(n,c,!0)},async load(t,e){return(await he.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};me.add(UF);const A0=class ha extends di{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new ha(Object.keys(ha.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete ha.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=ha;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return he.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Mt.basename(e,Mt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Tk(e)),typeof e=="number"?Sk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,ha.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=he.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};A0.availableFonts={},A0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let qm=A0;const yh=class da extends yi{constructor(e="",r={}){super(ue.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ue.from(n,{scaleMode:he.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Pe,i.trim=new Pe,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),d=document.createElementNS(o,"div"),p=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=da.defaultMaxWidth,this.maxHeight=da.defaultMaxHeight,this._domElement=d,this._styleElement=p,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(p),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=da.defaultAutoResolution,this._resolution=da.defaultResolution??he.RESOLUTION,this.text=e,this.style=r}measureText(e){var p,h;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(p=this._style)==null?void 0:p.toCSS(i)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},da.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=ys(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=ys(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof qm?(this.ownsStyle=!1,this._style=e):e instanceof di?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=qm.from(e)):(this.ownsStyle=!0,this._style=new qm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};yh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},yh.defaultMaxWidth=2024,yh.defaultMaxHeight=2024,yh.defaultAutoResolution=!0;const GF={Random:(t,e=0)=>Math.floor(Math.random()*(t-e))+e};function zF(t,e){let r=[];for(let n=0;n<t;n++)r.push(e(n));return r}function HF(t){return t[GF.Random(t.length)]}class $F{constructor(){Ce(this,"urlOptions");Ce(this,"tableOptions");Ce(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.tableOptions=pa("table")||{},this.configOptions=pa("gameconfig")||{}}configureLanguage(){let e=Fr("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;default:e="en"}return e}getUrlConfig(){const e={operator:Fr("op",""),funPLay:Fr("fun","0")=="1",showLog:Fr("log","0")=="1",loginUrl:Fr("loginUrl",""),lobbyUrl:Fr("lobbyUrl",""),fundsUrl:Fr("fundsUrl",""),livechatUrl:Fr("livechatUrl",""),token:Fr("token")||Fr("s"),lang:this.configureLanguage(),platform:Fr("p")||(Pn.any?"mobile":"web")};return!e.token&&!e.loginUrl&&(e.funPLay=!0),e}getSymbolColumnRowKey(e,r){return`${e}_${r}`}loopForReels(e){const r=this.tableOptions.column,n=this.tableOptions.row;for(let i=0;i<r;i++){const s=o2(n)?n:n[i];for(let o=0;o<s;o++)e(i,o)}}randomSymbols(e){const r=[];return this.loopForReels((n,i)=>{let s=r[n];const o=HF(e);s?s.push(o):r[n]=[o]}),r}getLoginUrl(){return this.urlOptions.loginUrl?`${this.urlOptions.loginUrl}?url=${encodeURIComponent(E2("fun","0"))}`:this.getLobbyUrl()}getLobbyUrl(){return this.urlOptions.lobbyUrl||""}}function jF(t){let e={};for(let r in t){let n=t[r];e[r]=n.map((i,s)=>[s,i])}return e}function VF(t){let e={};for(let r in t){let n=t[r],i=n.length,s=[];for(let c=0;c<i;c++){let d=n[c];s.push([c+.5,d+.5])}let o=n[0];s.unshift([0,o+.5]);let a=n[i-1];s.push([i,a+.5]),e[r]=s}return e}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var va=9e15,Gs=1e9,C0="0123456789abcdef",Md="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",kd="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",P0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-va,maxE:va,crypto:!1},lT,Oi,Se=!0,Cf="[DecimalError] ",Fs=Cf+"Invalid argument: ",uT=Cf+"Precision limit exceeded",cT=Cf+"crypto unavailable",hT="[object Decimal]",lr=Math.floor,Pt=Math.pow,WF=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,XF=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,YF=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,dT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn=1e7,be=7,qF=9007199254740991,QF=Md.length-1,I0=kd.length-1,Q={toStringTag:hT};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),_e(t)};Q.ceil=function(){return _e(new this.constructor(this),this.e+1,2)};Q.clampedTo=Q.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Fs+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Q.comparedTo=Q.cmp=function(t){var e,r,n,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,c=s.s,d=t.s;if(!o||!a)return!c||!d?NaN:c!==d?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-d:0;if(c!==d)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(n=o.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==a[e])return o[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};Q.cosine=Q.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+be,n.rounding=1,r=KF(n,vT(n,r)),n.precision=t,n.rounding=e,_e(Oi==2||Oi==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Q.cubeRoot=Q.cbrt=function(){var t,e,r,n,i,s,o,a,c,d,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);for(Se=!1,s=p.s*Pt(p.s*p,1/3),!s||Math.abs(s)==1/0?(r=Qt(p.d),t=p.e,(s=(t-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=Pt(r,1/3),t=lr((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new h(r),n.s=p.s):n=new h(s.toString()),o=(t=h.precision)+3;;)if(a=n,c=a.times(a).times(a),d=c.plus(p),n=Xe(d.plus(p).times(a),d.plus(c),o+2,1),Qt(a.d).slice(0,o)===(r=Qt(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(_e(a,t+1,0),a.times(a).times(a).eq(p))){n=a;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(_e(n,t+1,1),e=!n.times(n).times(n).eq(p));break}return Se=!0,_e(n,t,h.rounding,e)};Q.decimalPlaces=Q.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-lr(this.e/be))*be,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Q.dividedBy=Q.div=function(t){return Xe(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.divToInt=function(t){var e=this,r=e.constructor;return _e(Xe(e,new r(t),0,1,1),r.precision,r.rounding)};Q.equals=Q.eq=function(t){return this.cmp(t)===0};Q.floor=function(){return _e(new this.constructor(this),this.e+1,3)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){var e=this.cmp(t);return e==1||e===0};Q.hyperbolicCosine=Q.cosh=function(){var t,e,r,n,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/If(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=qa(o,1,s.times(e),new o(1),!0);for(var c,d=t,p=new o(8);d--;)c=s.times(s),s=a.minus(c.times(p.minus(c.times(p))));return _e(s,o.precision=r,o.rounding=n,!0)};Q.hyperbolicSine=Q.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=qa(s,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/If(5,t)),i=qa(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),d=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(d))))}return s.precision=e,s.rounding=r,_e(i,e,r,!0)};Q.hyperbolicTangent=Q.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Xe(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Q.inverseCosine=Q.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return n!==-1?n===0?e.isNeg()?In(r,i,s):new r(0):new r(NaN):e.isZero()?In(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=In(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))};Q.inverseHyperbolicCosine=Q.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Se=!1,r=r.times(r).minus(1).sqrt().plus(r),Se=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Q.inverseHyperbolicSine=Q.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Se=!1,r=r.times(r).plus(1).sqrt().plus(r),Se=!0,n.precision=t,n.rounding=e,r.ln())};Q.inverseHyperbolicTangent=Q.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?_e(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Xe(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};Q.inverseSine=Q.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,e!==-1?e===0?(t=In(s,r+4,n).times(.5),t.s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};Q.inverseTangent=Q.atan=function(){var t,e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&h+4<=I0)return o=In(p,h+4,f).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(h+4<=I0)return o=In(p,h+4,f).times(.5),o.s=d.s,o}for(p.precision=a=h+10,p.rounding=1,r=Math.min(28,a/be+2|0),t=r;t;--t)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Se=!1,e=Math.ceil(a/be),n=1,c=d.times(d),o=new p(d),i=d;t!==-1;)if(i=i.times(c),s=o.minus(i.div(n+=2)),i=i.times(c),o=s.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===s.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),Se=!0,_e(o,p.precision=h,p.rounding=f,!0)};Q.isFinite=function(){return!!this.d};Q.isInteger=Q.isInt=function(){return!!this.d&&lr(this.e/be)>this.d.length-2};Q.isNaN=function(){return!this.s};Q.isNegative=Q.isNeg=function(){return this.s<0};Q.isPositive=Q.isPos=function(){return this.s>0};Q.isZero=function(){return!!this.d&&this.d[0]===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding,g=5;if(t==null)t=new p(10),e=!0;else{if(t=new p(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new p(NaN);e=t.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new p(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(Se=!1,a=h+g,o=xs(d,a),n=e?Nd(p,a+10):xs(t,a),c=Xe(o,n,a,1),Iu(c.d,i=h,f))do if(a+=10,o=xs(d,a),n=e?Nd(p,a+10):xs(t,a),c=Xe(o,n,a,1),!s){+Qt(c.d).slice(i+1,i+15)+1==1e14&&(c=_e(c,h+1,0));break}while(Iu(c.d,i+=10,f));return Se=!0,_e(c,h,f)};Q.minus=Q.sub=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.constructor;if(t=new y(t),!g.d||!t.d)return!g.s||!t.s?t=new y(NaN):g.d?t.s=-t.s:t=new y(t.d||g.s!==t.s?g:NaN),t;if(g.s!=t.s)return t.s=-t.s,g.plus(t);if(d=g.d,f=t.d,a=y.precision,c=y.rounding,!d[0]||!f[0]){if(f[0])t.s=-t.s;else if(d[0])t=new y(g);else return new y(c===3?-0:0);return Se?_e(t,a,c):t}if(r=lr(t.e/be),p=lr(g.e/be),d=d.slice(),s=p-r,s){for(h=s<0,h?(e=d,s=-s,o=f.length):(e=f,r=p,o=d.length),n=Math.max(Math.ceil(a/be),o)+2,s>n&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse()}else{for(n=d.length,o=f.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}s=0}for(h&&(e=d,d=f,f=e,t.s=-t.s),o=d.length,n=f.length-o;n>0;--n)d[o++]=0;for(n=f.length;n>s;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Nn-1;--d[i],d[n]+=Nn}d[n]-=f[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=Pf(d,r),Se?_e(t,a,c):t):new y(c===3?-0:0)};Q.modulo=Q.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?_e(new n(r),n.precision,n.rounding):(Se=!1,n.modulo==9?(e=Xe(r,t.abs(),0,3,1),e.s*=t.s):e=Xe(r,t,0,n.modulo,1),e=e.times(t),Se=!0,r.minus(e))};Q.naturalExponential=Q.exp=function(){return R0(this)};Q.naturalLogarithm=Q.ln=function(){return xs(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s,_e(t)};Q.plus=Q.add=function(t){var e,r,n,i,s,o,a,c,d,p,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return!h.s||!t.s?t=new f(NaN):h.d||(t=new f(t.d||h.s===t.s?h:NaN)),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(d=h.d,p=t.d,a=f.precision,c=f.rounding,!d[0]||!p[0])return p[0]||(t=new f(h)),Se?_e(t,a,c):t;if(s=lr(h.e/be),n=lr(t.e/be),d=d.slice(),i=s-n,i){for(i<0?(r=d,i=-i,o=p.length):(r=p,n=s,o=d.length),s=Math.ceil(a/be),o=s>o?s+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=d.length,i=p.length,o-i<0&&(i=o,r=p,p=d,d=r),e=0;i;)e=(d[--i]=d[i]+p[i]+e)/Nn|0,d[i]%=Nn;for(e&&(d.unshift(e),++n),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=Pf(d,n),Se?_e(t,a,c):t};Q.precision=Q.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fs+t);return r.d?(e=fT(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Q.round=function(){var t=this,e=t.constructor;return _e(new e(t),t.e+1,e.rounding)};Q.sine=Q.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+be,n.rounding=1,r=JF(n,vT(n,r)),n.precision=t,n.rounding=e,_e(Oi>2?r.neg():r,t,e,!0)):new n(NaN)};Q.squareRoot=Q.sqrt=function(){var t,e,r,n,i,s,o=this,a=o.d,c=o.e,d=o.s,p=o.constructor;if(d!==1||!a||!a[0])return new p(!d||d<0&&(!a||a[0])?NaN:a?o:1/0);for(Se=!1,d=Math.sqrt(+o),d==0||d==1/0?(e=Qt(a),(e.length+c)%2==0&&(e+="0"),d=Math.sqrt(e),c=lr((c+1)/2)-(c<0||c%2),d==1/0?e="5e"+c:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new p(e)):n=new p(d.toString()),r=(c=p.precision)+3;;)if(s=n,n=s.plus(Xe(o,s,r+2,1)).times(.5),Qt(s.d).slice(0,r)===(e=Qt(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(_e(s,c+1,0),s.times(s).eq(o))){n=s;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(_e(n,c+1,1),t=!n.times(n).eq(o));break}return Se=!0,_e(n,c,p.rounding,t)};Q.tangent=Q.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Xe(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,_e(Oi==2||Oi==4?r.neg():r,t,e,!0)):new n(NaN)};Q.times=Q.mul=function(t){var e,r,n,i,s,o,a,c,d,p=this,h=p.constructor,f=p.d,g=(t=new h(t)).d;if(t.s*=p.s,!f||!f[0]||!g||!g[0])return new h(!t.s||f&&!f[0]&&!g||g&&!g[0]&&!f?NaN:!f||!g?t.s/0:t.s*0);for(r=lr(p.e/be)+lr(t.e/be),c=f.length,d=g.length,c<d&&(s=f,f=g,g=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)a=s[i]+g[n]*f[i-n-1]+e,s[i--]=a%Nn|0,e=a/Nn|0;s[i]=(s[i]+e)%Nn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=Pf(s,r),Se?_e(t,h.precision,h.rounding):t};Q.toBinary=function(t,e){return uy(this,2,t,e)};Q.toDecimalPlaces=Q.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Pr(t,0,Gs),e===void 0?e=n.rounding:Pr(e,0,8),_e(r,t+r.e+1,e))};Q.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=fi(n,!0):(Pr(t,0,Gs),e===void 0?e=i.rounding:Pr(e,0,8),n=_e(new i(n),t+1,e),r=fi(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Q.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?r=fi(i):(Pr(t,0,Gs),e===void 0?e=s.rounding:Pr(e,0,8),n=_e(new s(i),t+i.e+1,e),r=fi(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Q.toFraction=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.d,w=g.constructor;if(!y)return new w(g);if(d=r=new w(1),n=c=new w(0),e=new w(n),s=e.e=fT(y)-g.e-1,o=s%be,e.d[0]=Pt(10,o<0?be+o:o),t==null)t=s>0?e:d;else{if(a=new w(t),!a.isInt()||a.lt(d))throw Error(Fs+a);t=a.gt(e)?s>0?e:d:a}for(Se=!1,a=new w(Qt(y)),p=w.precision,w.precision=s=y.length*be*2;h=Xe(a,e,0,1,1),i=r.plus(h.times(n)),i.cmp(t)!=1;)r=n,n=i,i=d,d=c.plus(h.times(i)),c=i,i=e,e=a.minus(h.times(i)),a=i;return i=Xe(t.minus(r),n,0,1,1),c=c.plus(i.times(d)),r=r.plus(i.times(n)),c.s=d.s=g.s,f=Xe(d,n,s,1).minus(g).abs().cmp(Xe(c,r,s,1).minus(g).abs())<1?[d,n]:[c,r],w.precision=p,Se=!0,f};Q.toHexadecimal=Q.toHex=function(t,e){return uy(this,16,t,e)};Q.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Pr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Se=!1,r=Xe(r,t,0,e,1).times(t),Se=!0,_e(r)):(t.s=r.s,r=t),r};Q.toNumber=function(){return+this};Q.toOctal=function(t,e){return uy(this,8,t,e)};Q.toPower=Q.pow=function(t){var e,r,n,i,s,o,a=this,c=a.constructor,d=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Pt(+a,d));if(a=new c(a),a.eq(1))return a;if(n=c.precision,s=c.rounding,t.eq(1))return _e(a,n,s);if(e=lr(t.e/be),e>=t.d.length-1&&(r=d<0?-d:d)<=qF)return i=pT(c,a,r,n),t.s<0?new c(1).div(i):_e(i,n,s);if(o=a.s,o<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Pt(+a,d),e=r==0||!isFinite(r)?lr(d*(Math.log("0."+Qt(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?o/0:0):(Se=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=R0(t.times(xs(a,n+r)),n),i.d&&(i=_e(i,n+5,1),Iu(i.d,n,s)&&(e=n+10,i=_e(R0(t.times(xs(a,e+r)),e),e+5,1),+Qt(i.d).slice(n+1,n+15)+1==1e14&&(i=_e(i,n+1,0)))),i.s=o,Se=!0,c.rounding=s,_e(i,n,s))};Q.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=fi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Pr(t,1,Gs),e===void 0?e=i.rounding:Pr(e,0,8),n=_e(new i(n),t,e),r=fi(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Q.toSignificantDigits=Q.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Pr(t,1,Gs),e===void 0?e=n.rounding:Pr(e,0,8)),_e(new n(r),t,e)};Q.toString=function(){var t=this,e=t.constructor,r=fi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Q.truncated=Q.trunc=function(){return _e(new this.constructor(this),this.e+1,1)};Q.valueOf=Q.toJSON=function(){var t=this,e=t.constructor,r=fi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Qt(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=be-n.length,r&&(s+=hs(r)),s+=n;o=t[e],n=o+"",r=be-n.length,r&&(s+=hs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function Pr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fs+t)}function Iu(t,e,r,n){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=be,i=0):(i=Math.ceil((e+1)/be),e%=be),s=Pt(10,be-e),a=t[i]%s|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==s||r>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Pt(10,e-2)-1||(a==s/2||a==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==s||!n&&r>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Pt(10,e-3)-1,o}function Zh(t,e,r){for(var n,i=[0],s,o=0,a=t.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=C0.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function KF(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/If(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=qa(t,1,e.times(i),new t(1));for(var s=r;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Xe=function(){function t(n,i,s){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*i+a,n[c]=o%s|0,a=o/s|0;return a&&n.unshift(a),n}function e(n,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,s,o){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*o+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o,a,c){var d,p,h,f,g,y,w,E,x,S,b,A,P,N,k,R,B,$,K,z,F=n.constructor,j=n.s==i.s?1:-1,Z=n.d,J=i.d;if(!Z||!Z[0]||!J||!J[0])return new F(!n.s||!i.s||(Z?J&&Z[0]==J[0]:!J)?NaN:Z&&Z[0]==0||!J?j*0:j/0);for(c?(g=1,p=n.e-i.e):(c=Nn,g=be,p=lr(n.e/g)-lr(i.e/g)),K=J.length,B=Z.length,x=new F(j),S=x.d=[],h=0;J[h]==(Z[h]||0);h++);if(J[h]>(Z[h]||0)&&p--,s==null?(N=s=F.precision,o=F.rounding):a?N=s+(n.e-i.e)+1:N=s,N<0)S.push(1),y=!0;else{if(N=N/g+2|0,h=0,K==1){for(f=0,J=J[0],N++;(h<B||f)&&N--;h++)k=f*c+(Z[h]||0),S[h]=k/J|0,f=k%J|0;y=f||h<B}else{for(f=c/(J[0]+1)|0,f>1&&(J=t(J,f,c),Z=t(Z,f,c),K=J.length,B=Z.length),R=K,b=Z.slice(0,K),A=b.length;A<K;)b[A++]=0;z=J.slice(),z.unshift(0),$=J[0],J[1]>=c/2&&++$;do f=0,d=e(J,b,K,A),d<0?(P=b[0],K!=A&&(P=P*c+(b[1]||0)),f=P/$|0,f>1?(f>=c&&(f=c-1),w=t(J,f,c),E=w.length,A=b.length,d=e(w,b,E,A),d==1&&(f--,r(w,K<E?z:J,E,c))):(f==0&&(d=f=1),w=J.slice()),E=w.length,E<A&&w.unshift(0),r(b,w,A,c),d==-1&&(A=b.length,d=e(J,b,K,A),d<1&&(f++,r(b,K<A?z:J,A,c))),A=b.length):d===0&&(f++,b=[0]),S[h++]=f,d&&b[0]?b[A++]=Z[R]||0:(b=[Z[R]],A=1);while((R++<B||b[0]!==void 0)&&N--);y=b[0]!==void 0}S[0]||S.shift()}if(g==1)x.e=p,lT=y;else{for(h=1,f=S[0];f>=10;f/=10)h++;x.e=h+p*g-1,_e(x,a?s+x.e+1:s,o,y)}return x}}();function _e(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor;e:if(e!=null){if(h=t.d,!h)return t;for(i=1,a=h[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=be,o=e,p=h[f=0],c=p/Pt(10,i-o-1)%10|0;else if(f=Math.ceil((s+1)/be),a=h.length,f>=a)if(n){for(;a++<=f;)h.push(0);p=c=0,i=1,s%=be,o=s-be+1}else break e;else{for(p=a=h[f],i=1;a>=10;a/=10)i++;s%=be,o=s-be+i,c=o<0?0:p/Pt(10,i-o-1)%10|0}if(n=n||e<0||h[f+1]!==void 0||(o<0?p:p%Pt(10,i-o-1)),d=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(s>0?o>0?p/Pt(10,i-o):0:h[f-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,d?(e-=t.e+1,h[0]=Pt(10,(be-e%be)%be),t.e=-e||0):h[0]=t.e=0,t;if(s==0?(h.length=f,a=1,f--):(h.length=f+1,a=Pt(10,be-s),h[f]=o>0?(p/Pt(10,i-o)%Pt(10,o)|0)*a:0),d)for(;;)if(f==0){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,h[0]==Nn&&(h[0]=1));break}else{if(h[f]+=a,h[f]!=Nn)break;h[f--]=0,a=1}for(s=h.length;h[--s]===0;)h.pop()}return Se&&(t.e>g.maxE?(t.d=null,t.e=NaN):t.e<g.minE&&(t.e=0,t.d=[0])),t}function fi(t,e,r){if(!t.isFinite())return gT(t);var n,i=t.e,s=Qt(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+hs(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+hs(-i-1)+s,r&&(n=r-o)>0&&(s+=hs(n))):i>=o?(s+=hs(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+hs(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=hs(n))),s}function Pf(t,e){var r=t[0];for(e*=be;r>=10;r/=10)e++;return e}function Nd(t,e,r){if(e>QF)throw Se=!0,r&&(t.precision=r),Error(uT);return _e(new t(Md),e,1,!0)}function In(t,e,r){if(e>I0)throw Error(uT);return _e(new t(kd),e,r,!0)}function fT(t){var e=t.length-1,r=e*be+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function hs(t){for(var e="";t--;)e+="0";return e}function pT(t,e,r,n){var i,s=new t(1),o=Math.ceil(n/be+4);for(Se=!1;;){if(r%2&&(s=s.times(e),Fw(s.d,o)&&(i=!0)),r=lr(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}e=e.times(e),Fw(e.d,o)}return Se=!0,s}function Ow(t){return t.d[t.d.length-1]&1}function mT(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;)if(n=new t(e[s]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function R0(t,e){var r,n,i,s,o,a,c,d=0,p=0,h=0,f=t.constructor,g=f.rounding,y=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Se=!1,c=y):c=e,a=new f(.03125);t.e>-2;)t=t.times(a),h+=5;for(n=Math.log(Pt(2,h))/Math.LN10*2+5|0,c+=n,r=s=o=new f(1),f.precision=c;;){if(s=_e(s.times(t),c,1),r=r.times(++p),a=o.plus(Xe(s,r,c,1)),Qt(a.d).slice(0,c)===Qt(o.d).slice(0,c)){for(i=h;i--;)o=_e(o.times(o),c,1);if(e==null)if(d<3&&Iu(o.d,c-n,g,d))f.precision=c+=10,r=s=a=new f(1),p=0,d++;else return _e(o,f.precision=y,g,Se=!0);else return f.precision=y,o}o=a}}function xs(t,e){var r,n,i,s,o,a,c,d,p,h,f,g=1,y=10,w=t,E=w.d,x=w.constructor,S=x.rounding,b=x.precision;if(w.s<0||!E||!E[0]||!w.e&&E[0]==1&&E.length==1)return new x(E&&!E[0]?-1/0:w.s!=1?NaN:E?0:w);if(e==null?(Se=!1,p=b):p=e,x.precision=p+=y,r=Qt(E),n=r.charAt(0),Math.abs(s=w.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=Qt(w.d),n=r.charAt(0),g++;s=w.e,n>1?(w=new x("0."+r),s++):w=new x(n+"."+r.slice(1))}else return d=Nd(x,p+2,b).times(s+""),w=xs(new x(n+"."+r.slice(1)),p-y).plus(d),x.precision=b,e==null?_e(w,b,S,Se=!0):w;for(h=w,c=o=w=Xe(w.minus(1),w.plus(1),p,1),f=_e(w.times(w),p,1),i=3;;){if(o=_e(o.times(f),p,1),d=c.plus(Xe(o,new x(i),p,1)),Qt(d.d).slice(0,p)===Qt(c.d).slice(0,p))if(c=c.times(2),s!==0&&(c=c.plus(Nd(x,p+2,b).times(s+""))),c=Xe(c,new x(g),p,1),e==null)if(Iu(c.d,p-y,S,a))x.precision=p+=y,d=o=w=Xe(h.minus(1),h.plus(1),p,1),f=_e(w.times(w),p,1),i=a=1;else return _e(c,x.precision=b,S,Se=!0);else return x.precision=b,c;c=d,i+=2}}function gT(t){return String(t.s*t.s/0)}function M0(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%be,r<0&&(n+=be),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=be;n<i;)t.d.push(+e.slice(n,n+=be));e=e.slice(n),n=be-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Se&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ZF(t,e){var r,n,i,s,o,a,c,d,p;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),dT.test(e))return M0(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(XF.test(e))r=16,e=e.toLowerCase();else if(WF.test(e))r=2;else if(YF.test(e))r=8;else throw Error(Fs+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,n=t.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=pT(n,new n(r),s,s*2)),d=Zh(e,r,Nn),p=d.length-1,s=p;d[s]===0;--s)d.pop();return s<0?new n(t.s*0):(t.e=Pf(d,p),t.d=d,Se=!1,o&&(t=Xe(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Pt(2,c):St.pow(2,c))),Se=!0,t)}function JF(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:qa(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/If(5,r)),e=qa(t,2,e,e);for(var i,s=new t(5),o=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function qa(t,e,r,n,i){var s,o,a,c,d=t.precision,p=Math.ceil(d/be);for(Se=!1,c=r.times(r),a=new t(n);;){if(o=Xe(a.times(c),new t(e++*e++),d,1),a=i?n.plus(o):n.minus(o),n=Xe(o.times(c),new t(e++*e++),d,1),o=a.plus(n),o.d[p]!==void 0){for(s=p;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=n,n=o,o=s}return Se=!0,o.d.length=p+1,o}function If(t,e){for(var r=t;--e;)r*=t;return r}function vT(t,e){var r,n=e.s<0,i=In(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return Oi=n?4:1,e;if(r=e.divToInt(i),r.isZero())Oi=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(s))return Oi=Ow(r)?n?2:3:n?4:1,e;Oi=Ow(r)?n?1:4:n?3:2}return e.minus(i).abs()}function uy(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor,y=r!==void 0;if(y?(Pr(r,1,Gs),n===void 0?n=g.rounding:Pr(n,0,8)):(r=g.precision,n=g.rounding),!t.isFinite())p=gT(t);else{for(p=fi(t),o=p.indexOf("."),y?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(p=p.replace(".",""),f=new g(1),f.e=p.length-o,f.d=Zh(fi(f),10,i),f.e=f.d.length),h=Zh(p,10,i),s=c=h.length;h[--c]==0;)h.pop();if(!h[0])p=y?"0p+0":"0";else{if(o<0?s--:(t=new g(t),t.d=h,t.e=s,t=Xe(t,f,r,n,0,i),h=t.d,s=t.e,d=lT),o=h[r],a=i/2,d=d||h[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(t.s<0?3:2)):o>a||o===a&&(n===4||d||n===6&&h[r-1]&1||n===(t.s<0?8:7)),h.length=r,d)for(;++h[--r]>i-1;)h[r]=0,r||(++s,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,p="";o<c;o++)p+=C0.charAt(h[o]);if(y){if(c>1)if(e==16||e==8){for(o=e==16?4:3,--c;c%o;c++)p+="0";for(h=Zh(p,i,e),c=h.length;!h[c-1];--c);for(o=1,p="1.";o<c;o++)p+=C0.charAt(h[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>c)for(s-=c;s--;)p+="0";else s<c&&(p=p.slice(0,s)+"."+p.slice(s))}p=(e==16?"0x":e==2?"0b":e==8?"0o":"")+p}return t.s<0?"-"+p:p}function Fw(t,e){if(t.length>e)return t.length=e,!0}function eL(t){return new this(t).abs()}function tL(t){return new this(t).acos()}function rL(t){return new this(t).acosh()}function nL(t,e){return new this(t).plus(e)}function iL(t){return new this(t).asin()}function sL(t){return new this(t).asinh()}function oL(t){return new this(t).atan()}function aL(t){return new this(t).atanh()}function lL(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=In(this,s,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?In(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=In(this,s,1).times(.5),r.s=t.s):e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Xe(t,e,s,1)),e=In(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Xe(t,e,s,1)),r}function uL(t){return new this(t).cbrt()}function cL(t){return _e(t=new this(t),t.e+1,2)}function hL(t,e,r){return new this(t).clamp(e,r)}function dL(t){if(!t||typeof t!="object")throw Error(Cf+"Object expected");var e,r,n,i=t.defaults===!0,s=["precision",1,Gs,"rounding",0,8,"toExpNeg",-va,0,"toExpPos",0,va,"maxE",0,va,"minE",-va,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=P0[r]),(n=t[r])!==void 0)if(lr(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Fs+r+": "+n);if(r="crypto",i&&(this[r]=P0[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(cT);else this[r]=!1;else throw Error(Fs+r+": "+n);return this}function fL(t){return new this(t).cos()}function pL(t){return new this(t).cosh()}function yT(t){var e,r,n;function i(s){var o,a,c,d=this;if(!(d instanceof i))return new i(s);if(d.constructor=i,Lw(s)){d.s=s.s,Se?!s.d||s.e>i.maxE?(d.e=NaN,d.d=null):s.e<i.minE?(d.e=0,d.d=[0]):(d.e=s.e,d.d=s.d.slice()):(d.e=s.e,d.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){d.s=1/s<0?-1:1,d.e=0,d.d=[0];return}if(s<0?(s=-s,d.s=-1):d.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;Se?o>i.maxE?(d.e=NaN,d.d=null):o<i.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[s]):(d.e=o,d.d=[s]);return}else if(s*0!==0){s||(d.s=NaN),d.e=NaN,d.d=null;return}return M0(d,s.toString())}else if(c!=="string")throw Error(Fs+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),d.s=-1):(a===43&&(s=s.slice(1)),d.s=1),dT.test(s)?M0(d,s):ZF(d,s)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=dL,i.clone=yT,i.isDecimal=Lw,i.abs=eL,i.acos=tL,i.acosh=rL,i.add=nL,i.asin=iL,i.asinh=sL,i.atan=oL,i.atanh=aL,i.atan2=lL,i.cbrt=uL,i.ceil=cL,i.clamp=hL,i.cos=fL,i.cosh=pL,i.div=mL,i.exp=gL,i.floor=vL,i.hypot=yL,i.ln=_L,i.log=xL,i.log10=bL,i.log2=wL,i.max=EL,i.min=SL,i.mod=TL,i.mul=AL,i.pow=CL,i.random=PL,i.round=IL,i.sign=RL,i.sin=ML,i.sinh=kL,i.sqrt=NL,i.sub=OL,i.sum=FL,i.tan=LL,i.tanh=DL,i.trunc=BL,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function mL(t,e){return new this(t).div(e)}function gL(t){return new this(t).exp()}function vL(t){return _e(t=new this(t),t.e+1,3)}function yL(){var t,e,r=new this(0);for(Se=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Se=!0,new this(1/0);r=e}return Se=!0,r.sqrt()}function Lw(t){return t instanceof St||t&&t.toStringTag===hT||!1}function _L(t){return new this(t).ln()}function xL(t,e){return new this(t).log(e)}function wL(t){return new this(t).log(2)}function bL(t){return new this(t).log(10)}function EL(){return mT(this,arguments,"lt")}function SL(){return mT(this,arguments,"gt")}function TL(t,e){return new this(t).mod(e)}function AL(t,e){return new this(t).mul(e)}function CL(t,e){return new this(t).pow(e)}function PL(t){var e,r,n,i,s=0,o=new this(1),a=[];if(t===void 0?t=this.precision:Pr(t,1,Gs),n=Math.ceil(t/be),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);s<n;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=n/4}else throw Error(cT);else for(;s<n;)a[s++]=Math.random()*1e7|0;for(n=a[--s],t%=be,n&&t&&(i=Pt(10,be-t),a[s]=(n/i|0)*i);a[s]===0;s--)a.pop();if(s<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=be)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<be&&(r-=be-n)}return o.e=r,o.d=a,o}function IL(t){return _e(t=new this(t),t.e+1,this.rounding)}function RL(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function ML(t){return new this(t).sin()}function kL(t){return new this(t).sinh()}function NL(t){return new this(t).sqrt()}function OL(t,e){return new this(t).sub(e)}function FL(){var t=0,e=arguments,r=new this(e[t]);for(Se=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Se=!0,_e(r,this.precision,this.rounding)}function LL(t){return new this(t).tan()}function DL(t){return new this(t).tanh()}function BL(t){return _e(t=new this(t),t.e+1,1)}Q[Symbol.for("nodejs.util.inspect.custom")]=Q.toString;Q[Symbol.toStringTag]="Decimal";var St=Q.constructor=yT(P0);Md=new St(Md);kd=new St(kd);let Qm={0:[1,1,1,1,1],1:[0,0,0,0,0],2:[2,2,2,2,2],3:[0,1,2,1,0],4:[2,1,0,1,2],5:[0,0,1,0,0],6:[2,2,1,2,2],7:[1,2,2,2,1],8:[1,0,0,0,1]};const UL={row:3,column:5,paylineMapV2:Qm,paylineMap:jF(Qm),paylinePathMap:VF(Qm),symbolSize:[104,102],symbolFrame:[104,102]};zv("table",UL);const GL={id:2,title:"superDuo",layoutMap:{l:{safeArea:[120,24,1100,618],displayArea:[0,0,1280,768]},p:{safeArea:[0,0,540,960],displayArea:[0,0,540,960]}}};zv("gameconfig",Object.assign(GL,_2));const zL={spin:{betLevel:new St(9),betAmount:new St(.01)}};zv("spin",zL);var cy={exports:{}},Ba=typeof Reflect=="object"?Reflect:null,Dw=Ba&&typeof Ba.apply=="function"?Ba.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Jh;Ba&&typeof Ba.ownKeys=="function"?Jh=Ba.ownKeys:Object.getOwnPropertySymbols?Jh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Jh=function(e){return Object.getOwnPropertyNames(e)};function HL(t){console&&console.warn&&console.warn(t)}var _T=Number.isNaN||function(e){return e!==e};function We(){We.init.call(this)}cy.exports=We;cy.exports.once=WL;We.EventEmitter=We;We.prototype._events=void 0;We.prototype._eventsCount=0;We.prototype._maxListeners=void 0;var Bw=10;function Rf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(We,"defaultMaxListeners",{enumerable:!0,get:function(){return Bw},set:function(t){if(typeof t!="number"||t<0||_T(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Bw=t}});We.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};We.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_T(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function xT(t){return t._maxListeners===void 0?We.defaultMaxListeners:t._maxListeners}We.prototype.getMaxListeners=function(){return xT(this)};We.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Dw(c,this,r);else for(var d=c.length,p=TT(c,d),n=0;n<d;++n)Dw(p[n],this,r);return!0};function wT(t,e,r,n){var i,s,o;if(Rf(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=xT(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,HL(a)}return t}We.prototype.addListener=function(e,r){return wT(this,e,r,!1)};We.prototype.on=We.prototype.addListener;We.prototype.prependListener=function(e,r){return wT(this,e,r,!0)};function $L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function bT(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=$L.bind(n);return i.listener=r,n.wrapFn=i,i}We.prototype.once=function(e,r){return Rf(r),this.on(e,bT(this,e,r)),this};We.prototype.prependOnceListener=function(e,r){return Rf(r),this.prependListener(e,bT(this,e,r)),this};We.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Rf(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():jL(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};We.prototype.off=We.prototype.removeListener;We.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ET(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?VL(i):TT(i,i.length)}We.prototype.listeners=function(e){return ET(this,e,!0)};We.prototype.rawListeners=function(e){return ET(this,e,!1)};We.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ST.call(t,e)};We.prototype.listenerCount=ST;function ST(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}We.prototype.eventNames=function(){return this._eventsCount>0?Jh(this._events):[]};function TT(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function jL(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function VL(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function WL(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}AT(t,e,s,{once:!0}),e!=="error"&&XL(t,i,{once:!0})})}function XL(t,e,r){typeof t.on=="function"&&AT(t,"error",e,r)}function AT(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var YL=cy.exports;class qL extends $F{constructor(){super(...arguments);Ce(this,"_tweenTime",0)}set tweenTime(r){this._tweenTime=r}get tweenTime(){return this._tweenTime}}class QL extends qL{constructor(){super(...arguments);Ce(this,"eventEmitter",new YL.EventEmitter)}get notice(){return this.eventEmitter}}class KL extends QL{constructor(){super(...arguments);Ce(this,"_viewport");Ce(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(r,n,i,s){this._viewport=[r,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}getOrientationType(){const r=this.configOptions.layoutMap;return r.p&&r.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":r.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class ZL extends KL{constructor(){super(...arguments);Ce(this,"_isSupportAvif",!1);Ce(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(r,n){this._isSupportAvif=n,this._isSupportWebp=r}filterImageFormat(r){return this.isSupportAvif||r.splice(r.indexOf("avif"),1),this.isSupportWebp||r.splice(r.indexOf("webp"),1),r[0]}}const cf=class cf extends ZL{static get Obj(){return this._Obj||(this._Obj=new cf),this._Obj}};Ce(cf,"_Obj");let Ht=cf;const JL="action_sign_in",CT="action_get_player_info",eD="action_balance_change",tD="action_sound_open",rD="action_volume_changed",nD="action_menu_open",iD="action_paytable_open",sD="action_betpanel_open",oD="action_auto_panel_open",PT="action_orientation_changed",aD="action_force_update",lD="action_history_list_open",uD="action_history_detail_open",IT="action_error_detail",cD="action_spin",RT="action_loaded",MT="action_spin_stopping",kT="action_spin_stop",NT="action_set_bet_amount",hD="action_set_bet_level",dD="action_set_auto_spin_detail",fD="action_do_auto_spin",pD="action_stop_auto_spin",mD="action_set_spin_speed",OT="action_linebets_loaded",gD="action_scene_push",vD="action_scene_pop",FT="action_scene_replace",yD="action_scene_to_root",LT="action_assets_loading",_D=(t={},e)=>{switch(e.type){case tD:return{...t,soundOn:e.value};case rD:return{...t};case nD:return{...t,menuOn:e.value};case iD:return{...t,payTableOn:e.value};case sD:return{...t,betPanelOn:e.value};case oD:return{...t,autoSpinPanelOn:e.value};case PT:return{...t,orientation:e.value};case aD:return{...t,forceUpdate:!t.forceUpdate};case lD:return{...t,historyListOn:e.value};case uD:return{...t,historyDetail:{...e.value}};case IT:return{...t,error:{...e.value}};default:return t}},xD={setting:{soundOn:Fr("mute",!0)=="1",volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1,orientation:"l",forceUpdate:!1,historyListOn:!1,historyDetail:{on:!1,data:null},error:{code:0,show:!1,allowClose:!0}}};function wD(t){return{type:PT,value:t}}function Br(t,e=!1,r=!0){return{type:IT,value:{code:t,show:e,allowClose:r}}}const wt=V.createContext({}),Km="authorization",bD="https://dev-crescendo-real.gpistudios.com",ED="https://dev-crescendo-slot-api.gpistudios.com";class SD{constructor(){Ce(this,"context",Ht.Obj);Ce(this,"authorization",sessionStorage.getItem(Km));Ce(this,"canReAuth",!!this.authorization);Ce(this,"_dispatch")}get domain(){return this.context.urlOptions.funPLay?ED:bD}setDispatch(e){this._dispatch=e}authAndCanReTry(){this.authorization="",sessionStorage.setItem(Km,"");const e=this.canReAuth;return this.canReAuth=!1,e}request(e,r="GET",n="json",i=null){const s=this.authorization?{Authorization:`${this.authorization}`}:{};return navigator.onLine==!1?(this._dispatch(Br("000")),Promise.reject()):new Promise((o,a)=>{const c=new AbortController,d=setTimeout(()=>{clearTimeout(d),c.abort(),this._dispatch(Br("001")),a()},1e4);fetch(e,{method:r,headers:s,signal:c.signal}).then(p=>{clearTimeout(d),p.status==200?p[n]().then(f=>{if(i){const g=new i(f);g.code&&this._dispatch(Br(g.code)),o(g)}else o(f)}).catch(()=>{this._dispatch(Br("000")),a()}):(this._dispatch(Br(p.status)),o({code:p.status}))}).catch(p=>{clearTimeout(d),this._dispatch(Br("000")),a()})})}auth(){const{operator:e,token:r}=this.context.urlOptions,n=r||Math.random().toFixed(8),i=`${this.domain}/auth/${e}/${n}`;return!r&&this.authorization?Promise.resolve(this.authorization):this.request(i,"GET","text").then(s=>{s2(s)&&(s=`Bearer ${s}`,this.authorization=s,sessionStorage.setItem(Km,s))})}player(){const e=Ei("player"),r=`${this.domain}/s/player`;return this.request(r,"GET","json",e)}meta(){const e=Ei("meta"),r=this.context.configOptions.id,n=`${this.domain}/s/meta/${r}`;return this.request(n,"GET","json",e)}spin(e){const r=Ei("spin"),n=this.context.configOptions.id,i=`${this.domain}/s/spin/${n}?lineBet=${e}`;return this.request(i,"GET","json",r)}spin2(e,r){const n=Ei("spin"),i=this.context.configOptions.id,s=`${this.domain}/s/spin/${i}?lineBet=${e}&level=${r}`;return this.request(s,"GET","json",n)}load(){const e=Ei("load"),r=this.context.configOptions.id,n=`${this.domain}/s/load/${r}`;return this.request(n,"GET","json",e)}start(e){const r=Ei("start"),n=this.context.configOptions.id,i=`${this.domain}/s/start/${n}/${e}`;return this.request(i,"GET","json",r)}continue(){const e=Ei("continue"),r=this.context.configOptions.id,n=`${this.domain}/s/cont/${r}`;return this.request(n,"GET","json",e)}history(e,r,n,i,s){const o=Ei("history"),a=this.context.configOptions.id,c=`${this.domain}/s/list/${a}/${e}/${r}/${n}/${i}/${s}`;return this.request(c,"GET","json",o)}lineBets(){const e=Ei("lineBets"),r=this.context.configOptions.id,n=`${this.domain}/s/lineBets/${r}`;return this.request(n,"GET","json",e)}}function TD(){const{state:t,dispatch:e}=V.useContext(wt);return V.useEffect(()=>{Hv().setDispatch(e)},[]),ne(Dn,{})}class hy{constructor(e){Ce(this,"data");Ce(this,"code");Ce(this,"message");this.data=e;const r=e.result||e;r.code&&(this.code=r.code,this.message=r.message)}static Init(e,r){return new hy({code:e,message:r})}}class AD extends hy{constructor(r){super(r);Ce(this,"credit");Ce(this,"cost");Ce(this,"payout");Ce(this,"balance");!this.code&&(this.credit=new St(r.credit||0),this.cost=new St(r.cost||0),this.payout=new St(r.payout||0),this.balance=new St(r.balance||0))}}class CD extends AD{constructor(r){super(r);Ce(this,"columnSymbolsMap");Ce(this,"linewins");Ce(this,"scatterLinewins");Ce(this,"scaterMultiplier");Ce(this,"lineMultiplier");if(this.code)return;const n=Ht.Obj.tableOptions,i=r.result;this.scaterMultiplier=i.sm,this.lineMultiplier=new St(i.lm);const s={};i.ss.forEach((c,d)=>s[d]=c),this.columnSymbolsMap=s;let o=[],a=[];if(i.lw)for(let c in i.lw)for(let d of i.lw[c]){let p=d[0],h=d[2],f={id:p,type:d[1],multiplier:new St(d[3]),columnRowSymbolArr:[...n.paylineMap[p]].splice(c=="l2r"?0:n.column-h,h).map(g=>[...g,this.columnSymbolsMap[g[0]][g[1]]]),columnMapRowSymbolMap:{},path:n.paylinePathMap[p],director:c};o.push(f)}if(i.sw)for(let c in i.sw)for(let d of i.sw[c]){const p=new St(d[1]),h=d[0];let f={id:null,type:10,multiplier:p,columnRowSymbolArr:zF(h,g=>{let y,w,E=11;return c=="l2r"?(y=g,w=i.ss[y].indexOf(11),w==-1&&(E=10,w=i.ss[y].indexOf(10))):(y=4-g,w=i.ss[y].indexOf(11),w==-1&&(E=10,w=i.ss[y].indexOf(10))),[y,w,E]}),columnMapRowSymbolMap:{},path:null,director:c};o.push(f),a.push(f)}this.linewins=o.sort((c,d)=>c.id>d.id||c.id==d.id&&c.director=="l2r"?1:-1),this.scatterLinewins=a}get isExist5OfAKind(){for(let r of this.linewins)if(r.columnRowSymbolArr.length==5)return!0;return!1}get totalMultiplier(){return this.lineMultiplier.add(this.scaterMultiplier)}get winType(){return this.totalMultiplier.gt(37)?"big":this.totalMultiplier.gt(25)?"high":this.totalMultiplier.gt(16)?"medium":this.totalMultiplier.gt(5)?"normal":"small"}get isBigWin(){return this.winType=="big"}}m2(SD);g2("spin",CD);var DT={exports:{}},$r={},BT={exports:{}},UT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var L=M.length;M.push(W);e:for(;0<L;){var U=L-1>>>1,ee=M[U];if(0<i(ee,W))M[U]=W,M[L]=ee,L=U;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var W=M[0],L=M.pop();if(L!==W){M[0]=L;e:for(var U=0,ee=M.length,Te=ee>>>1;U<Te;){var Ee=2*(U+1)-1,He=M[Ee],Re=Ee+1,ze=M[Re];if(0>i(He,L))Re<ee&&0>i(ze,He)?(M[U]=ze,M[Re]=L,U=Re):(M[U]=He,M[Ee]=L,U=Ee);else if(Re<ee&&0>i(ze,L))M[U]=ze,M[Re]=L,U=Re;else break e}}return W}function i(M,W){var L=M.sortIndex-W.sortIndex;return L!==0?L:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=M)n(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(d)}}function A(M){if(w=!1,b(M),!y)if(r(c)!==null)y=!0,J(P);else{var W=r(d);W!==null&&oe(A,W.startTime-M)}}function P(M,W){y=!1,w&&(w=!1,x(R),R=-1),g=!0;var L=f;try{for(b(W),h=r(c);h!==null&&(!(h.expirationTime>W)||M&&!K());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var ee=U(h.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),b(W)}else n(c);h=r(c)}if(h!==null)var Te=!0;else{var Ee=r(d);Ee!==null&&oe(A,Ee.startTime-W),Te=!1}return Te}finally{h=null,f=L,g=!1}}var N=!1,k=null,R=-1,B=5,$=-1;function K(){return!(t.unstable_now()-$<B)}function z(){if(k!==null){var M=t.unstable_now();$=M;var W=!0;try{W=k(!0,M)}finally{W?F():(N=!1,k=null)}}else N=!1}var F;if(typeof S=="function")F=function(){S(z)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=z,F=function(){Z.postMessage(null)}}else F=function(){E(z,0)};function J(M){k=M,N||(N=!0,F())}function oe(M,W){R=E(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,J(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var L=f;f=W;try{return M()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=f;f=M;try{return W()}finally{f=L}},t.unstable_scheduleCallback=function(M,W,L){var U=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=L+ee,M={id:p++,callback:W,priorityLevel:M,startTime:L,expirationTime:ee,sortIndex:-1},L>U?(M.sortIndex=L,e(d,M),r(c)===null&&M===r(d)&&(w?(x(R),R=-1):w=!0,oe(A,L-U))):(M.sortIndex=ee,e(c,M),y||g||(y=!0,J(P))),M},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(M){var W=f;return function(){var L=f;f=W;try{return M.apply(this,arguments)}finally{f=L}}}})(UT);BT.exports=UT;var PD=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=V,Hr=PD;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,Ru={};function Fo(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(Ru[t]=e,t=0;t<e.length;t++)zT.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k0=Object.prototype.hasOwnProperty,ID=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uw={},Gw={};function RD(t){return k0.call(Gw,t)?!0:k0.call(Uw,t)?!1:ID.test(t)?Gw[t]=!0:(Uw[t]=!0,!1)}function MD(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kD(t,e,r,n){if(e===null||typeof e>"u"||MD(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dy,fy);Zt[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dy,fy);Zt[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dy,fy);Zt[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,r,n){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kD(e,r,i,n)&&(r=null),n||i===null?RD(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Xi=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),ya=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),HT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),F0=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),jT=Symbol.for("react.offscreen"),zw=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Zm;function Zl(t){if(Zm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zm=e&&e[1]||""}return`
`+Zm+t}var Jm=!1;function eg(t,e){if(!t||Jm)return"";Jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Jm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zl(t):""}function ND(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=eg(t.type,!1),t;case 11:return t=eg(t.type.render,!1),t;case 1:return t=eg(t.type,!0),t;default:return""}}function L0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case ya:return"Portal";case N0:return"Profiler";case my:return"StrictMode";case O0:return"Suspense";case F0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $T:return(t.displayName||"Context")+".Consumer";case HT:return(t._context.displayName||"Context")+".Provider";case gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vy:return e=t.displayName||null,e!==null?e:L0(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return L0(t(e))}catch{}}return null}function OD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L0(e);case 8:return e===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FD(t){var e=VT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=FD(t))}function WT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=VT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function D0(t,e){var r=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ls(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XT(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function B0(t,e){XT(t,e);var r=Ls(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?U0(t,e.type,r):e.hasOwnProperty("defaultValue")&&U0(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $w(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function U0(t,e,r){(e!=="number"||Od(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Jl=Array.isArray;function Ua(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ls(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function G0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Jl(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ls(r)}}function YT(t,e){var r=Ls(e.value),n=Ls(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,QT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LD=["Webkit","ms","Moz","O"];Object.keys(hu).forEach(function(t){LD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hu[e]=hu[t]})});function KT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hu.hasOwnProperty(t)&&hu[t]?(""+e).trim():e+"px"}function ZT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var DD=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H0(t,e){if(e){if(DD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function $0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V0=null,Ga=null,za=null;function Ww(t){if(t=rc(t)){if(typeof V0!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Ff(e),V0(t.stateNode,t.type,e))}}function JT(t){Ga?za?za.push(t):za=[t]:Ga=t}function eA(){if(Ga){var t=Ga,e=za;if(za=Ga=null,Ww(t),e)for(t=0;t<e.length;t++)Ww(e[t])}}function tA(t,e){return t(e)}function rA(){}var tg=!1;function nA(t,e,r){if(tg)return t(e,r);tg=!0;try{return tA(t,e,r)}finally{tg=!1,(Ga!==null||za!==null)&&(rA(),eA())}}function ku(t,e){var r=t.stateNode;if(r===null)return null;var n=Ff(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var W0=!1;if(Hi)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){W0=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{W0=!1}function BD(t,e,r,n,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var du=!1,Fd=null,Ld=!1,X0=null,UD={onError:function(t){du=!0,Fd=t}};function GD(t,e,r,n,i,s,o,a,c){du=!1,Fd=null,BD.apply(UD,arguments)}function zD(t,e,r,n,i,s,o,a,c){if(GD.apply(this,arguments),du){if(du){var d=Fd;du=!1,Fd=null}else throw Error(re(198));Ld||(Ld=!0,X0=d)}}function Lo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function iA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xw(t){if(Lo(t)!==t)throw Error(re(188))}function HD(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Xw(i),t;if(s===n)return Xw(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function sA(t){return t=HD(t),t!==null?oA(t):null}function oA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oA(t);if(e!==null)return e;t=t.sibling}return null}var aA=Hr.unstable_scheduleCallback,Yw=Hr.unstable_cancelCallback,$D=Hr.unstable_shouldYield,jD=Hr.unstable_requestPaint,xt=Hr.unstable_now,VD=Hr.unstable_getCurrentPriorityLevel,_y=Hr.unstable_ImmediatePriority,lA=Hr.unstable_UserBlockingPriority,Dd=Hr.unstable_NormalPriority,WD=Hr.unstable_LowPriority,uA=Hr.unstable_IdlePriority,Mf=null,ui=null;function XD(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(Mf,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:QD,YD=Math.log,qD=Math.LN2;function QD(t){return t>>>=0,t===0?32:31-(YD(t)/qD|0)|0}var bh=64,Eh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=eu(a):(s&=o,s!==0&&(n=eu(s)))}else o=r&~i,o!==0?n=eu(o):s!==0&&(n=eu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-On(e),i=1<<r,n|=t[r],e&=~i;return n}function KD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZD(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=KD(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Y0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cA(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function rg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ec(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=r}function JD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-On(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function xy(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-On(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function hA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dA,wy,fA,pA,mA,q0=!1,Sh=[],Es=null,Ss=null,Ts=null,Nu=new Map,Ou=new Map,ms=[],eB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function Ul(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&wy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tB(t,e,r,n,i){switch(e){case"focusin":return Es=Ul(Es,t,e,r,n,i),!0;case"dragenter":return Ss=Ul(Ss,t,e,r,n,i),!0;case"mouseover":return Ts=Ul(Ts,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Nu.set(s,Ul(Nu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ou.set(s,Ul(Ou.get(s)||null,t,e,r,n,i)),!0}return!1}function gA(t){var e=mo(t.target);if(e!==null){var r=Lo(e);if(r!==null){if(e=r.tag,e===13){if(e=iA(r),e!==null){t.blockedOn=e,mA(t.priority,function(){fA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Q0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);j0=n,r.target.dispatchEvent(n),j0=null}else return e=rc(r),e!==null&&wy(e),t.blockedOn=r,!1;e.shift()}return!0}function Qw(t,e,r){ed(t)&&r.delete(e)}function rB(){q0=!1,Es!==null&&ed(Es)&&(Es=null),Ss!==null&&ed(Ss)&&(Ss=null),Ts!==null&&ed(Ts)&&(Ts=null),Nu.forEach(Qw),Ou.forEach(Qw)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,q0||(q0=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,rB)))}function Fu(t){function e(i){return Gl(i,t)}if(0<Sh.length){Gl(Sh[0],t);for(var r=1;r<Sh.length;r++){var n=Sh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Es!==null&&Gl(Es,t),Ss!==null&&Gl(Ss,t),Ts!==null&&Gl(Ts,t),Nu.forEach(e),Ou.forEach(e),r=0;r<ms.length;r++)n=ms[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ms.length&&(r=ms[0],r.blockedOn===null);)gA(r),r.blockedOn===null&&ms.shift()}var Ha=Xi.ReactCurrentBatchConfig,Ud=!0;function nB(t,e,r,n){var i=Ve,s=Ha.transition;Ha.transition=null;try{Ve=1,by(t,e,r,n)}finally{Ve=i,Ha.transition=s}}function iB(t,e,r,n){var i=Ve,s=Ha.transition;Ha.transition=null;try{Ve=4,by(t,e,r,n)}finally{Ve=i,Ha.transition=s}}function by(t,e,r,n){if(Ud){var i=Q0(t,e,r,n);if(i===null)dg(t,e,n,Gd,r),qw(t,n);else if(tB(i,t,e,r,n))n.stopPropagation();else if(qw(t,n),e&4&&-1<eB.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&dA(s),s=Q0(t,e,r,n),s===null&&dg(t,e,n,Gd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dg(t,e,n,null,r)}}var Gd=null;function Q0(t,e,r,n){if(Gd=null,t=yy(n),t=mo(t),t!==null)if(e=Lo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=iA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function vA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VD()){case _y:return 1;case lA:return 4;case Dd:case WD:return 16;case uA:return 536870912;default:return 16}default:return 16}}var ws=null,Ey=null,td=null;function yA(){if(td)return td;var t,e=Ey,r=e.length,n,i="value"in ws?ws.value:ws.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return td=i.slice(t,1<n?1-n:void 0)}function rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function Kw(){return!1}function jr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Th:Kw,this.isPropagationStopped=Kw,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=jr(al),tc=dt({},al,{view:0,detail:0}),sB=jr(tc),ng,ig,zl,kf=dt({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(ng=t.screenX-zl.screenX,ig=t.screenY-zl.screenY):ig=ng=0,zl=t),ng)},movementY:function(t){return"movementY"in t?t.movementY:ig}}),Zw=jr(kf),oB=dt({},kf,{dataTransfer:0}),aB=jr(oB),lB=dt({},tc,{relatedTarget:0}),sg=jr(lB),uB=dt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),cB=jr(uB),hB=dt({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dB=jr(hB),fB=dt({},al,{data:0}),Jw=jr(fB),pB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gB[t])?!!e[t]:!1}function Ty(){return vB}var yB=dt({},tc,{key:function(t){if(t.key){var e=pB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ty,charCode:function(t){return t.type==="keypress"?rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_B=jr(yB),xB=dt({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=jr(xB),wB=dt({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ty}),bB=jr(wB),EB=dt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),SB=jr(EB),TB=dt({},kf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AB=jr(TB),CB=[9,13,27,32],Ay=Hi&&"CompositionEvent"in window,fu=null;Hi&&"documentMode"in document&&(fu=document.documentMode);var PB=Hi&&"TextEvent"in window&&!fu,_A=Hi&&(!Ay||fu&&8<fu&&11>=fu),tb=String.fromCharCode(32),rb=!1;function xA(t,e){switch(t){case"keyup":return CB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function IB(t,e){switch(t){case"compositionend":return wA(e);case"keypress":return e.which!==32?null:(rb=!0,tb);case"textInput":return t=e.data,t===tb&&rb?null:t;default:return null}}function RB(t,e){if(xa)return t==="compositionend"||!Ay&&xA(t,e)?(t=yA(),td=Ey=ws=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _A&&e.locale!=="ko"?null:e.data;default:return null}}var MB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MB[t.type]:e==="textarea"}function bA(t,e,r,n){JT(n),e=zd(e,"onChange"),0<e.length&&(r=new Sy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pu=null,Lu=null;function kB(t){NA(t,0)}function Nf(t){var e=Ea(t);if(WT(e))return t}function NB(t,e){if(t==="change")return e}var EA=!1;if(Hi){var og;if(Hi){var ag="oninput"in document;if(!ag){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),ag=typeof ib.oninput=="function"}og=ag}else og=!1;EA=og&&(!document.documentMode||9<document.documentMode)}function sb(){pu&&(pu.detachEvent("onpropertychange",SA),Lu=pu=null)}function SA(t){if(t.propertyName==="value"&&Nf(Lu)){var e=[];bA(e,Lu,t,yy(t)),nA(kB,e)}}function OB(t,e,r){t==="focusin"?(sb(),pu=e,Lu=r,pu.attachEvent("onpropertychange",SA)):t==="focusout"&&sb()}function FB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Lu)}function LB(t,e){if(t==="click")return Nf(e)}function DB(t,e){if(t==="input"||t==="change")return Nf(e)}function BB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:BB;function Du(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!k0.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function ob(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ab(t,e){var r=ob(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ob(r)}}function TA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AA(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Od(t.document)}return e}function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UB(t){var e=AA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&TA(r.ownerDocument.documentElement,r)){if(n!==null&&Cy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ab(r,s);var o=ab(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GB=Hi&&"documentMode"in document&&11>=document.documentMode,wa=null,K0=null,mu=null,Z0=!1;function lb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z0||wa==null||wa!==Od(n)||(n=wa,"selectionStart"in n&&Cy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mu&&Du(mu,n)||(mu=n,n=zd(K0,"onSelect"),0<n.length&&(e=new Sy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wa)))}function Ah(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ba={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},lg={},CA={};Hi&&(CA=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Of(t){if(lg[t])return lg[t];if(!ba[t])return t;var e=ba[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in CA)return lg[t]=e[r];return t}var PA=Of("animationend"),IA=Of("animationiteration"),RA=Of("animationstart"),MA=Of("transitionend"),kA=new Map,ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){kA.set(t,e),Fo(e,[t])}for(var ug=0;ug<ub.length;ug++){var cg=ub[ug],zB=cg.toLowerCase(),HB=cg[0].toUpperCase()+cg.slice(1);zs(zB,"on"+HB)}zs(PA,"onAnimationEnd");zs(IA,"onAnimationIteration");zs(RA,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(MA,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$B=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function cb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zD(n,e,void 0,t),t.currentTarget=null}function NA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;cb(i,a,d),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;cb(i,a,d),s=c}}}if(Ld)throw t=X0,Ld=!1,X0=null,t}function Ze(t,e){var r=e[nv];r===void 0&&(r=e[nv]=new Set);var n=t+"__bubble";r.has(n)||(OA(e,t,2,!1),r.add(n))}function hg(t,e,r){var n=0;e&&(n|=4),OA(r,t,n,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[Ch]){t[Ch]=!0,zT.forEach(function(r){r!=="selectionchange"&&($B.has(r)||hg(r,!1,t),hg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,hg("selectionchange",!1,e))}}function OA(t,e,r,n){switch(vA(e)){case 1:var i=nB;break;case 4:i=iB;break;default:i=by}r=i.bind(null,e,r,t),i=void 0,!W0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dg(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mo(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}nA(function(){var d=s,p=yy(r),h=[];e:{var f=kA.get(t);if(f!==void 0){var g=Sy,y=t;switch(t){case"keypress":if(rd(r)===0)break e;case"keydown":case"keyup":g=_B;break;case"focusin":y="focus",g=sg;break;case"focusout":y="blur",g=sg;break;case"beforeblur":case"afterblur":g=sg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bB;break;case PA:case IA:case RA:g=cB;break;case MA:g=SB;break;case"scroll":g=sB;break;case"wheel":g=AB;break;case"copy":case"cut":case"paste":g=dB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eb}var w=(e&4)!==0,E=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var S=d,b;S!==null;){b=S;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,x!==null&&(A=ku(S,x),A!=null&&w.push(Uu(S,A,b)))),E)break;S=S.return}0<w.length&&(f=new g(f,y,null,r,p),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==j0&&(y=r.relatedTarget||r.fromElement)&&(mo(y)||y[$i]))break e;if((g||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?mo(y):null,y!==null&&(E=Lo(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(w=Zw,A="onMouseLeave",x="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=eb,A="onPointerLeave",x="onPointerEnter",S="pointer"),E=g==null?f:Ea(g),b=y==null?f:Ea(y),f=new w(A,S+"leave",g,r,p),f.target=E,f.relatedTarget=b,A=null,mo(p)===d&&(w=new w(x,S+"enter",y,r,p),w.target=b,w.relatedTarget=E,A=w),E=A,g&&y)t:{for(w=g,x=y,S=0,b=w;b;b=ia(b))S++;for(b=0,A=x;A;A=ia(A))b++;for(;0<S-b;)w=ia(w),S--;for(;0<b-S;)x=ia(x),b--;for(;S--;){if(w===x||x!==null&&w===x.alternate)break t;w=ia(w),x=ia(x)}w=null}else w=null;g!==null&&hb(h,f,g,w,!1),y!==null&&E!==null&&hb(h,E,y,w,!0)}}e:{if(f=d?Ea(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=NB;else if(nb(f))if(EA)P=DB;else{P=FB;var N=OB}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=LB);if(P&&(P=P(t,d))){bA(h,P,r,p);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&U0(f,"number",f.value)}switch(N=d?Ea(d):window,t){case"focusin":(nb(N)||N.contentEditable==="true")&&(wa=N,K0=d,mu=null);break;case"focusout":mu=K0=wa=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,lb(h,r,p);break;case"selectionchange":if(GB)break;case"keydown":case"keyup":lb(h,r,p)}var k;if(Ay)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else xa?xA(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(_A&&r.locale!=="ko"&&(xa||R!=="onCompositionStart"?R==="onCompositionEnd"&&xa&&(k=yA()):(ws=p,Ey="value"in ws?ws.value:ws.textContent,xa=!0)),N=zd(d,R),0<N.length&&(R=new Jw(R,t,null,r,p),h.push({event:R,listeners:N}),k?R.data=k:(k=wA(r),k!==null&&(R.data=k)))),(k=PB?IB(t,r):RB(t,r))&&(d=zd(d,"onBeforeInput"),0<d.length&&(p=new Jw("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:d}),p.data=k))}NA(h,e)})}function Uu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ku(t,r),s!=null&&n.unshift(Uu(t,s,i)),s=ku(t,e),s!=null&&n.push(Uu(t,s,i))),t=t.return}return n}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=ku(r,s),c!=null&&o.unshift(Uu(r,c,a))):i||(c=ku(r,s),c!=null&&o.push(Uu(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var jB=/\r\n?/g,VB=/\u0000|\uFFFD/g;function db(t){return(typeof t=="string"?t:""+t).replace(jB,`
`).replace(VB,"")}function Ph(t,e,r){if(e=db(e),db(t)!==e&&r)throw Error(re(425))}function Hd(){}var J0=null,ev=null;function tv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rv=typeof setTimeout=="function"?setTimeout:void 0,WB=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,XB=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(t){return fb.resolve(null).then(t).catch(YB)}:rv;function YB(t){setTimeout(function(){throw t})}function fg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fu(e)}function As(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),ii="__reactFiber$"+ll,Gu="__reactProps$"+ll,$i="__reactContainer$"+ll,nv="__reactEvents$"+ll,qB="__reactListeners$"+ll,QB="__reactHandles$"+ll;function mo(t){var e=t[ii];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$i]||r[ii]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pb(t);t!==null;){if(r=t[ii])return r;t=pb(t)}return e}t=r,r=t.parentNode}return null}function rc(t){return t=t[ii]||t[$i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Ff(t){return t[Gu]||null}var iv=[],Sa=-1;function Hs(t){return{current:t}}function et(t){0>Sa||(t.current=iv[Sa],iv[Sa]=null,Sa--)}function Qe(t,e){Sa++,iv[Sa]=t.current,t.current=e}var Ds={},ur=Hs(Ds),Tr=Hs(!1),Ao=Ds;function Ka(t,e){var r=t.type.contextTypes;if(!r)return Ds;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(t){return t=t.childContextTypes,t!=null}function $d(){et(Tr),et(ur)}function mb(t,e,r){if(ur.current!==Ds)throw Error(re(168));Qe(ur,e),Qe(Tr,r)}function FA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,OD(t)||"Unknown",i));return dt({},r,n)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,Ao=ur.current,Qe(ur,t),Qe(Tr,Tr.current),!0}function gb(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=FA(t,e,Ao),n.__reactInternalMemoizedMergedChildContext=t,et(Tr),et(ur),Qe(ur,t)):et(Tr),Qe(Tr,r)}var Ri=null,Lf=!1,pg=!1;function LA(t){Ri===null?Ri=[t]:Ri.push(t)}function KB(t){Lf=!0,LA(t)}function $s(){if(!pg&&Ri!==null){pg=!0;var t=0,e=Ve;try{var r=Ri;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ri=null,Lf=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),aA(_y,$s),i}finally{Ve=e,pg=!1}}return null}var Ta=[],Aa=0,Vd=null,Wd=0,rn=[],nn=0,Co=null,Fi=1,Li="";function co(t,e){Ta[Aa++]=Wd,Ta[Aa++]=Vd,Vd=t,Wd=e}function DA(t,e,r){rn[nn++]=Fi,rn[nn++]=Li,rn[nn++]=Co,Co=t;var n=Fi;t=Li;var i=32-On(n)-1;n&=~(1<<i),r+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Fi=1<<32-On(e)+i|r<<i|n,Li=s+t}else Fi=1<<s|r<<i|n,Li=t}function Py(t){t.return!==null&&(co(t,1),DA(t,1,0))}function Iy(t){for(;t===Vd;)Vd=Ta[--Aa],Ta[Aa]=null,Wd=Ta[--Aa],Ta[Aa]=null;for(;t===Co;)Co=rn[--nn],rn[nn]=null,Li=rn[--nn],rn[nn]=null,Fi=rn[--nn],rn[nn]=null}var Gr=null,Ur=null,st=!1,Tn=null;function BA(t,e){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,Ur=As(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,Ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Co!==null?{id:Fi,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gr=t,Ur=null,!0):!1;default:return!1}}function sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ov(t){if(st){var e=Ur;if(e){var r=e;if(!vb(t,e)){if(sv(t))throw Error(re(418));e=As(r.nextSibling);var n=Gr;e&&vb(t,e)?BA(n,r):(t.flags=t.flags&-4097|2,st=!1,Gr=t)}}else{if(sv(t))throw Error(re(418));t.flags=t.flags&-4097|2,st=!1,Gr=t}}}function yb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function Ih(t){if(t!==Gr)return!1;if(!st)return yb(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tv(t.type,t.memoizedProps)),e&&(e=Ur)){if(sv(t))throw UA(),Error(re(418));for(;e;)BA(t,e),e=As(e.nextSibling)}if(yb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ur=As(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ur=null}}else Ur=Gr?As(t.stateNode.nextSibling):null;return!0}function UA(){for(var t=Ur;t;)t=As(t.nextSibling)}function Za(){Ur=Gr=null,st=!1}function Ry(t){Tn===null?Tn=[t]:Tn.push(t)}var ZB=Xi.ReactCurrentBatchConfig;function En(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Xd=Hs(null),Yd=null,Ca=null,My=null;function ky(){My=Ca=Yd=null}function Ny(t){var e=Xd.current;et(Xd),t._currentValue=e}function av(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $a(t,e){Yd=t,My=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(My!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(Yd===null)throw Error(re(308));Ca=t,Yd.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var go=null;function Oy(t){go===null?go=[t]:go.push(t)}function GA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Oy(e)):(r.next=i.next,i.next=r),e.interleaved=r,ji(t,n)}function ji(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fs=!1;function Fy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ji(t,r)}return i=n.interleaved,i===null?(e.next=e,Oy(n)):(e.next=i.next,i.next=e),n.interleaved=e,ji(t,r)}function nd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xy(t,r)}}function _b(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qd(t,e,r,n){var i=t.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,p=d=c=null,a=s;do{var f=a.lane,g=a.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,g=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=dt({},h,f);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=g,c=h):p=p.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(p===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=h}}function xb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var HA=new GT.Component().refs;function lv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Df={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pr(),i=Is(t),s=Gi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Cs(t,s,i),e!==null&&(Fn(e,t,i,n),nd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pr(),i=Is(t),s=Gi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Cs(t,s,i),e!==null&&(Fn(e,t,i,n),nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pr(),n=Is(t),i=Gi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Cs(t,i,n),e!==null&&(Fn(e,t,n,r),nd(e,t,n))}};function wb(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Du(r,n)||!Du(i,s):!0}function $A(t,e,r){var n=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Ar(e)?Ao:ur.current,n=e.contextTypes,s=(n=n!=null)?Ka(t,i):Ds),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Df,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Df.enqueueReplaceState(e,e.state,null)}function uv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=HA,Fy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Ar(e)?Ao:ur.current,i.context=Ka(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Df.enqueueReplaceState(i,i.state,null),qd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===HA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eb(t){var e=t._init;return e(t._payload)}function jA(t){function e(x,S){if(t){var b=x.deletions;b===null?(x.deletions=[S],x.flags|=16):b.push(S)}}function r(x,S){if(!t)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function n(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=Rs(x,S),x.index=0,x.sibling=null,x}function s(x,S,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<S?(x.flags|=2,S):b):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,S,b,A){return S===null||S.tag!==6?(S=wg(b,x.mode,A),S.return=x,S):(S=i(S,b),S.return=x,S)}function c(x,S,b,A){var P=b.type;return P===_a?p(x,S,b.props.children,A,b.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ds&&Eb(P)===S.type)?(A=i(S,b.props),A.ref=Hl(x,S,b),A.return=x,A):(A=ud(b.type,b.key,b.props,null,x.mode,A),A.ref=Hl(x,S,b),A.return=x,A)}function d(x,S,b,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=bg(b,x.mode,A),S.return=x,S):(S=i(S,b.children||[]),S.return=x,S)}function p(x,S,b,A,P){return S===null||S.tag!==7?(S=Eo(b,x.mode,A,P),S.return=x,S):(S=i(S,b),S.return=x,S)}function h(x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=wg(""+S,x.mode,b),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _h:return b=ud(S.type,S.key,S.props,null,x.mode,b),b.ref=Hl(x,null,S),b.return=x,b;case ya:return S=bg(S,x.mode,b),S.return=x,S;case ds:var A=S._init;return h(x,A(S._payload),b)}if(Jl(S)||Dl(S))return S=Eo(S,x.mode,b,null),S.return=x,S;Rh(x,S)}return null}function f(x,S,b,A){var P=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(x,S,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _h:return b.key===P?c(x,S,b,A):null;case ya:return b.key===P?d(x,S,b,A):null;case ds:return P=b._init,f(x,S,P(b._payload),A)}if(Jl(b)||Dl(b))return P!==null?null:p(x,S,b,A,null);Rh(x,b)}return null}function g(x,S,b,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(b)||null,a(S,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _h:return x=x.get(A.key===null?b:A.key)||null,c(S,x,A,P);case ya:return x=x.get(A.key===null?b:A.key)||null,d(S,x,A,P);case ds:var N=A._init;return g(x,S,b,N(A._payload),P)}if(Jl(A)||Dl(A))return x=x.get(b)||null,p(S,x,A,P,null);Rh(S,A)}return null}function y(x,S,b,A){for(var P=null,N=null,k=S,R=S=0,B=null;k!==null&&R<b.length;R++){k.index>R?(B=k,k=null):B=k.sibling;var $=f(x,k,b[R],A);if($===null){k===null&&(k=B);break}t&&k&&$.alternate===null&&e(x,k),S=s($,S,R),N===null?P=$:N.sibling=$,N=$,k=B}if(R===b.length)return r(x,k),st&&co(x,R),P;if(k===null){for(;R<b.length;R++)k=h(x,b[R],A),k!==null&&(S=s(k,S,R),N===null?P=k:N.sibling=k,N=k);return st&&co(x,R),P}for(k=n(x,k);R<b.length;R++)B=g(k,x,R,b[R],A),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?R:B.key),S=s(B,S,R),N===null?P=B:N.sibling=B,N=B);return t&&k.forEach(function(K){return e(x,K)}),st&&co(x,R),P}function w(x,S,b,A){var P=Dl(b);if(typeof P!="function")throw Error(re(150));if(b=P.call(b),b==null)throw Error(re(151));for(var N=P=null,k=S,R=S=0,B=null,$=b.next();k!==null&&!$.done;R++,$=b.next()){k.index>R?(B=k,k=null):B=k.sibling;var K=f(x,k,$.value,A);if(K===null){k===null&&(k=B);break}t&&k&&K.alternate===null&&e(x,k),S=s(K,S,R),N===null?P=K:N.sibling=K,N=K,k=B}if($.done)return r(x,k),st&&co(x,R),P;if(k===null){for(;!$.done;R++,$=b.next())$=h(x,$.value,A),$!==null&&(S=s($,S,R),N===null?P=$:N.sibling=$,N=$);return st&&co(x,R),P}for(k=n(x,k);!$.done;R++,$=b.next())$=g(k,x,R,$.value,A),$!==null&&(t&&$.alternate!==null&&k.delete($.key===null?R:$.key),S=s($,S,R),N===null?P=$:N.sibling=$,N=$);return t&&k.forEach(function(z){return e(x,z)}),st&&co(x,R),P}function E(x,S,b,A){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _h:e:{for(var P=b.key,N=S;N!==null;){if(N.key===P){if(P=b.type,P===_a){if(N.tag===7){r(x,N.sibling),S=i(N,b.props.children),S.return=x,x=S;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ds&&Eb(P)===N.type){r(x,N.sibling),S=i(N,b.props),S.ref=Hl(x,N,b),S.return=x,x=S;break e}r(x,N);break}else e(x,N);N=N.sibling}b.type===_a?(S=Eo(b.props.children,x.mode,A,b.key),S.return=x,x=S):(A=ud(b.type,b.key,b.props,null,x.mode,A),A.ref=Hl(x,S,b),A.return=x,x=A)}return o(x);case ya:e:{for(N=b.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){r(x,S.sibling),S=i(S,b.children||[]),S.return=x,x=S;break e}else{r(x,S);break}else e(x,S);S=S.sibling}S=bg(b,x.mode,A),S.return=x,x=S}return o(x);case ds:return N=b._init,E(x,S,N(b._payload),A)}if(Jl(b))return y(x,S,b,A);if(Dl(b))return w(x,S,b,A);Rh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(r(x,S.sibling),S=i(S,b),S.return=x,x=S):(r(x,S),S=wg(b,x.mode,A),S.return=x,x=S),o(x)):r(x,S)}return E}var Ja=jA(!0),VA=jA(!1),nc={},ci=Hs(nc),zu=Hs(nc),Hu=Hs(nc);function vo(t){if(t===nc)throw Error(re(174));return t}function Ly(t,e){switch(Qe(Hu,e),Qe(zu,t),Qe(ci,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=z0(e,t)}et(ci),Qe(ci,e)}function el(){et(ci),et(zu),et(Hu)}function WA(t){vo(Hu.current);var e=vo(ci.current),r=z0(e,t.type);e!==r&&(Qe(zu,t),Qe(ci,r))}function Dy(t){zu.current===t&&(et(ci),et(zu))}var ut=Hs(0);function Qd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mg=[];function By(){for(var t=0;t<mg.length;t++)mg[t]._workInProgressVersionPrimary=null;mg.length=0}var id=Xi.ReactCurrentDispatcher,gg=Xi.ReactCurrentBatchConfig,Po=0,ht=null,It=null,Gt=null,Kd=!1,gu=!1,$u=0,JB=0;function nr(){throw Error(re(321))}function Uy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ln(t[r],e[r]))return!1;return!0}function Gy(t,e,r,n,i,s){if(Po=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,id.current=t===null||t.memoizedState===null?n4:i4,t=r(n,i),gu){s=0;do{if(gu=!1,$u=0,25<=s)throw Error(re(301));s+=1,Gt=It=null,e.updateQueue=null,id.current=s4,t=r(n,i)}while(gu)}if(id.current=Zd,e=It!==null&&It.next!==null,Po=0,Gt=It=ht=null,Kd=!1,e)throw Error(re(300));return t}function zy(){var t=$u!==0;return $u=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ht.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function hn(){if(It===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Gt===null?ht.memoizedState:Gt.next;if(e!==null)Gt=e,It=t;else{if(t===null)throw Error(re(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Gt===null?ht.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function ju(t,e){return typeof e=="function"?e(t):e}function vg(t){var e=hn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=It,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,d=s;do{var p=d.lane;if((Po&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,ht.lanes|=p,Io|=p}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=a,Ln(n,e.memoizedState)||(Sr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,Io|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yg(t){var e=hn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ln(s,e.memoizedState)||(Sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function XA(){}function YA(t,e){var r=ht,n=hn(),i=e(),s=!Ln(n.memoizedState,i);if(s&&(n.memoizedState=i,Sr=!0),n=n.queue,Hy(KA.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,Vu(9,QA.bind(null,r,n,i,e),void 0,null),$t===null)throw Error(re(349));Po&30||qA(r,e,i)}return i}function qA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QA(t,e,r,n){e.value=r,e.getSnapshot=n,ZA(e)&&JA(t)}function KA(t,e,r){return r(function(){ZA(e)&&JA(t)})}function ZA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ln(t,r)}catch{return!0}}function JA(t){var e=ji(t,1);e!==null&&Fn(e,t,1,-1)}function Sb(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},e.queue=t,t=t.dispatch=r4.bind(null,ht,t),[e.memoizedState,t]}function Vu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function eC(){return hn().memoizedState}function sd(t,e,r,n){var i=ti();ht.flags|=t,i.memoizedState=Vu(1|e,r,void 0,n===void 0?null:n)}function Bf(t,e,r,n){var i=hn();n=n===void 0?null:n;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,n!==null&&Uy(n,o.deps)){i.memoizedState=Vu(e,r,s,n);return}}ht.flags|=t,i.memoizedState=Vu(1|e,r,s,n)}function Tb(t,e){return sd(8390656,8,t,e)}function Hy(t,e){return Bf(2048,8,t,e)}function tC(t,e){return Bf(4,2,t,e)}function rC(t,e){return Bf(4,4,t,e)}function nC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iC(t,e,r){return r=r!=null?r.concat([t]):null,Bf(4,4,nC.bind(null,e,t),r)}function $y(){}function sC(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Uy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function oC(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Uy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function aC(t,e,r){return Po&21?(Ln(r,e)||(r=cA(),ht.lanes|=r,Io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=r)}function e4(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=gg.transition;gg.transition={};try{t(!1),e()}finally{Ve=r,gg.transition=n}}function lC(){return hn().memoizedState}function t4(t,e,r){var n=Is(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uC(t))cC(e,r);else if(r=GA(t,e,r,n),r!==null){var i=pr();Fn(r,t,n,i),hC(r,e,n)}}function r4(t,e,r){var n=Is(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uC(t))cC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ln(a,o)){var c=e.interleaved;c===null?(i.next=i,Oy(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=GA(t,e,i,n),r!==null&&(i=pr(),Fn(r,t,n,i),hC(r,e,n))}}function uC(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function cC(t,e){gu=Kd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xy(t,r)}}var Zd={readContext:cn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},n4={readContext:cn,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:Tb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sd(4194308,4,nC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var r=ti();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ti();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=t4.bind(null,ht,t),[n.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:Sb,useDebugValue:$y,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=Sb(!1),e=t[0];return t=e4.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ht,i=ti();if(st){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),$t===null)throw Error(re(349));Po&30||qA(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Tb(KA.bind(null,n,s,t),[t]),n.flags|=2048,Vu(9,QA.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ti(),e=$t.identifierPrefix;if(st){var r=Li,n=Fi;r=(n&~(1<<32-On(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$u++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=JB++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i4={readContext:cn,useCallback:sC,useContext:cn,useEffect:Hy,useImperativeHandle:iC,useInsertionEffect:tC,useLayoutEffect:rC,useMemo:oC,useReducer:vg,useRef:eC,useState:function(){return vg(ju)},useDebugValue:$y,useDeferredValue:function(t){var e=hn();return aC(e,It.memoizedState,t)},useTransition:function(){var t=vg(ju)[0],e=hn().memoizedState;return[t,e]},useMutableSource:XA,useSyncExternalStore:YA,useId:lC,unstable_isNewReconciler:!1},s4={readContext:cn,useCallback:sC,useContext:cn,useEffect:Hy,useImperativeHandle:iC,useInsertionEffect:tC,useLayoutEffect:rC,useMemo:oC,useReducer:yg,useRef:eC,useState:function(){return yg(ju)},useDebugValue:$y,useDeferredValue:function(t){var e=hn();return It===null?e.memoizedState=t:aC(e,It.memoizedState,t)},useTransition:function(){var t=yg(ju)[0],e=hn().memoizedState;return[t,e]},useMutableSource:XA,useSyncExternalStore:YA,useId:lC,unstable_isNewReconciler:!1};function tl(t,e){try{var r="",n=e;do r+=ND(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _g(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var o4=typeof WeakMap=="function"?WeakMap:Map;function dC(t,e,r){r=Gi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ef||(ef=!0,xv=n),cv(t,e)},r}function fC(t,e,r){r=Gi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cv(t,e),typeof n!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ab(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new o4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=x4.bind(null,t,e,r),e.then(t,t))}function Cb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gi(-1,1),e.tag=2,Cs(r,e,1))),r.lanes|=1),t)}var a4=Xi.ReactCurrentOwner,Sr=!1;function dr(t,e,r,n){e.child=t===null?VA(e,null,r,n):Ja(e,t.child,r,n)}function Ib(t,e,r,n,i){r=r.render;var s=e.ref;return $a(e,i),n=Gy(t,e,r,n,s,i),r=zy(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(st&&r&&Py(e),e.flags|=1,dr(t,e,n,i),e.child)}function Rb(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ky(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,pC(t,e,s,n,i)):(t=ud(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Du,r(o,n)&&t.ref===e.ref)return Vi(t,e,i)}return e.flags|=1,t=Rs(s,n),t.ref=e.ref,t.return=e,e.child=t}function pC(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Du(s,n)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,Vi(t,e,i)}return hv(t,e,r,n,i)}function mC(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ia,Dr),Dr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Ia,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Qe(Ia,Dr),Dr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Qe(Ia,Dr),Dr|=n;return dr(t,e,i,r),e.child}function gC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hv(t,e,r,n,i){var s=Ar(r)?Ao:ur.current;return s=Ka(e,s),$a(e,i),r=Gy(t,e,r,n,s,i),n=zy(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(st&&n&&Py(e),e.flags|=1,dr(t,e,r,i),e.child)}function Mb(t,e,r,n,i){if(Ar(r)){var s=!0;jd(e)}else s=!1;if($a(e,i),e.stateNode===null)od(t,e),$A(e,r,n),uv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=cn(d):(d=Ar(r)?Ao:ur.current,d=Ka(e,d));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==d)&&bb(e,o,n,d),fs=!1;var f=e.memoizedState;o.state=f,qd(e,n,o,i),c=e.memoizedState,a!==n||f!==c||Tr.current||fs?(typeof p=="function"&&(lv(e,r,p,n),c=e.memoizedState),(a=fs||wb(e,r,a,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,zA(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:En(e.type,a),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Ar(r)?Ao:ur.current,c=Ka(e,c));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&bb(e,o,n,c),fs=!1,f=e.memoizedState,o.state=f,qd(e,n,o,i);var y=e.memoizedState;a!==h||f!==y||Tr.current||fs?(typeof g=="function"&&(lv(e,r,g,n),y=e.memoizedState),(d=fs||wb(e,r,d,n,f,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return dv(t,e,r,n,s,i)}function dv(t,e,r,n,i,s){gC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&gb(e,r,!1),Vi(t,e,s);n=e.stateNode,a4.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ja(e,t.child,null,s),e.child=Ja(e,null,a,s)):dr(t,e,a,s),e.memoizedState=n.state,i&&gb(e,r,!0),e.child}function vC(t){var e=t.stateNode;e.pendingContext?mb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mb(t,e.context,!1),Ly(t,e.containerInfo)}function kb(t,e,r,n,i){return Za(),Ry(i),e.flags|=256,dr(t,e,r,n),e.child}var fv={dehydrated:null,treeContext:null,retryLane:0};function pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function yC(t,e,r){var n=e.pendingProps,i=ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ut,i&1),t===null)return ov(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zf(o,n,0,null),t=Eo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pv(r),e.memoizedState=fv,t):jy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return l4(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Rs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rs(a,s):(s=Eo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?pv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=fv,n}return s=t.child,t=s.sibling,n=Rs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jy(t,e){return e=zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mh(t,e,r,n){return n!==null&&Ry(n),Ja(e,t.child,null,r),t=jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l4(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=_g(Error(re(422))),Mh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=zf({mode:"visible",children:n.children},i,0,null),s=Eo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ja(e,t.child,null,o),e.child.memoizedState=pv(o),e.memoizedState=fv,s);if(!(e.mode&1))return Mh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(re(419)),n=_g(s,n,void 0),Mh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Sr||a){if(n=$t,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ji(t,i),Fn(n,t,i,-1))}return Qy(),n=_g(Error(re(421))),Mh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ur=As(i.nextSibling),Gr=e,st=!0,Tn=null,t!==null&&(rn[nn++]=Fi,rn[nn++]=Li,rn[nn++]=Co,Fi=t.id,Li=t.overflow,Co=e),e=jy(e,n.children),e.flags|=4096,e)}function Nb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),av(t.return,e,r)}function xg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function _C(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dr(t,e,n.children,r),n=ut.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nb(t,r,e);else if(t.tag===19)Nb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Qe(ut,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Qd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),xg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}xg(e,!0,r,null,s);break;case"together":xg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Rs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Rs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function u4(t,e,r){switch(e.tag){case 3:vC(e),Za();break;case 5:WA(e);break;case 1:Ar(e.type)&&jd(e);break;case 4:Ly(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Qe(Xd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ut,ut.current&1),e.flags|=128,null):r&e.child.childLanes?yC(t,e,r):(Qe(ut,ut.current&1),t=Vi(t,e,r),t!==null?t.sibling:null);Qe(ut,ut.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _C(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ut,ut.current),n)break;return null;case 22:case 23:return e.lanes=0,mC(t,e,r)}return Vi(t,e,r)}var xC,mv,wC,bC;xC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mv=function(){};wC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,vo(ci.current);var s=null;switch(r){case"input":i=D0(t,i),n=D0(t,n),s=[];break;case"select":i=dt({},i,{value:void 0}),n=dt({},n,{value:void 0}),s=[];break;case"textarea":i=G0(t,i),n=G0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hd)}H0(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ru.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ze("scroll",t),s||a===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};bC=function(t,e,r,n){r!==n&&(e.flags|=4)};function $l(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function c4(t,e,r){var n=e.pendingProps;switch(Iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(e),null;case 1:return Ar(e.type)&&$d(),ir(e),null;case 3:return n=e.stateNode,el(),et(Tr),et(ur),By(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Ev(Tn),Tn=null))),mv(t,e),ir(e),null;case 5:Dy(e);var i=vo(Hu.current);if(r=e.type,t!==null&&e.stateNode!=null)wC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return ir(e),null}if(t=vo(ci.current),Ih(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ii]=e,n[Gu]=s,t=(e.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<tu.length;i++)Ze(tu[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Hw(n,s),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",n);break;case"textarea":jw(n,s),Ze("invalid",n)}H0(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ph(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ph(n.textContent,a,t),i=["children",""+a]):Ru.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",n)}switch(r){case"input":xh(n),$w(n,s,!0);break;case"textarea":xh(n),Vw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Hd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ii]=e,t[Gu]=n,xC(t,e,!1,!1),e.stateNode=t;e:{switch(o=$0(r,n),r){case"dialog":Ze("cancel",t),Ze("close",t),i=n;break;case"iframe":case"object":case"embed":Ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<tu.length;i++)Ze(tu[i],t);i=n;break;case"source":Ze("error",t),i=n;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=n;break;case"details":Ze("toggle",t),i=n;break;case"input":Hw(t,n),i=D0(t,n),Ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=dt({},n,{value:void 0}),Ze("invalid",t);break;case"textarea":jw(t,n),i=G0(t,n),Ze("invalid",t);break;default:i=n}H0(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ZT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mu(t,c):typeof c=="number"&&Mu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ru.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ze("scroll",t):c!=null&&py(t,s,c,o))}switch(r){case"input":xh(t),$w(t,n,!1);break;case"textarea":xh(t),Vw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ls(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ua(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ua(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ir(e),null;case 6:if(t&&e.stateNode!=null)bC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=vo(Hu.current),vo(ci.current),Ih(e)){if(n=e.stateNode,r=e.memoizedProps,n[ii]=e,(s=n.nodeValue!==r)&&(t=Gr,t!==null))switch(t.tag){case 3:Ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ph(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ii]=e,e.stateNode=n}return ir(e),null;case 13:if(et(ut),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Ur!==null&&e.mode&1&&!(e.flags&128))UA(),Za(),e.flags|=98560,s=!1;else if(s=Ih(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[ii]=e}else Za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ir(e),s=!1}else Tn!==null&&(Ev(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Rt===0&&(Rt=3):Qy())),e.updateQueue!==null&&(e.flags|=4),ir(e),null);case 4:return el(),mv(t,e),t===null&&Bu(e.stateNode.containerInfo),ir(e),null;case 10:return Ny(e.type._context),ir(e),null;case 17:return Ar(e.type)&&$d(),ir(e),null;case 19:if(et(ut),s=e.memoizedState,s===null)return ir(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)$l(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qd(t),o!==null){for(e.flags|=128,$l(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Qe(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&xt()>rl&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304)}else{if(!n)if(t=Qd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$l(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return ir(e),null}else 2*xt()-s.renderingStartTime>rl&&r!==1073741824&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,r=ut.current,Qe(ut,n?r&1|2:r&1),e):(ir(e),null);case 22:case 23:return qy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Dr&1073741824&&(ir(e),e.subtreeFlags&6&&(e.flags|=8192)):ir(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function h4(t,e){switch(Iy(e),e.tag){case 1:return Ar(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return el(),et(Tr),et(ur),By(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(et(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ut),null;case 4:return el(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var kh=!1,or=!1,d4=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Pa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(t,e,n)}else r.current=null}function gv(t,e,r){try{r()}catch(n){mt(t,e,n)}}var Ob=!1;function f4(t,e){if(J0=Ud,t=AA(),Cy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,d=0,p=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===i&&(a=o),f===s&&++p===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ev={focusedElem:t,selectionRange:r},Ud=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:En(e.type,w),E);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(A){mt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return y=Ob,Ob=!1,y}function vu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gv(e,r,s)}i=i.next}while(i!==n)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function EC(t){var e=t.alternate;e!==null&&(t.alternate=null,EC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ii],delete e[Gu],delete e[nv],delete e[qB],delete e[QB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SC(t){return t.tag===5||t.tag===3||t.tag===4}function Fb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hd));else if(n!==4&&(t=t.child,t!==null))for(yv(t,e,r),t=t.sibling;t!==null;)yv(t,e,r),t=t.sibling}function _v(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_v(t,e,r),t=t.sibling;t!==null;)_v(t,e,r),t=t.sibling}var Xt=null,Sn=!1;function os(t,e,r){for(r=r.child;r!==null;)TC(t,e,r),r=r.sibling}function TC(t,e,r){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(Mf,r)}catch{}switch(r.tag){case 5:or||Pa(r,e);case 6:var n=Xt,i=Sn;Xt=null,os(t,e,r),Xt=n,Sn=i,Xt!==null&&(Sn?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(Sn?(t=Xt,r=r.stateNode,t.nodeType===8?fg(t.parentNode,r):t.nodeType===1&&fg(t,r),Fu(t)):fg(Xt,r.stateNode));break;case 4:n=Xt,i=Sn,Xt=r.stateNode.containerInfo,Sn=!0,os(t,e,r),Xt=n,Sn=i;break;case 0:case 11:case 14:case 15:if(!or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gv(r,e,o),i=i.next}while(i!==n)}os(t,e,r);break;case 1:if(!or&&(Pa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){mt(r,e,a)}os(t,e,r);break;case 21:os(t,e,r);break;case 22:r.mode&1?(or=(n=or)||r.memoizedState!==null,os(t,e,r),or=n):os(t,e,r);break;default:os(t,e,r)}}function Lb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new d4),e.forEach(function(n){var i=b4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function xn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Sn=!1;break e;case 3:Xt=a.stateNode.containerInfo,Sn=!0;break e;case 4:Xt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(Xt===null)throw Error(re(160));TC(s,o,i),Xt=null,Sn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){mt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Qn(t),n&4){try{vu(3,t,t.return),Uf(3,t)}catch(w){mt(t,t.return,w)}try{vu(5,t,t.return)}catch(w){mt(t,t.return,w)}}break;case 1:xn(e,t),Qn(t),n&512&&r!==null&&Pa(r,r.return);break;case 5:if(xn(e,t),Qn(t),n&512&&r!==null&&Pa(r,r.return),t.flags&32){var i=t.stateNode;try{Mu(i,"")}catch(w){mt(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XT(i,s),$0(a,o);var d=$0(a,s);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?ZT(i,h):p==="dangerouslySetInnerHTML"?QT(i,h):p==="children"?Mu(i,h):py(i,p,h,d)}switch(a){case"input":B0(i,s);break;case"textarea":YT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ua(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ua(i,!!s.multiple,s.defaultValue,!0):Ua(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gu]=s}catch(w){mt(t,t.return,w)}}break;case 6:if(xn(e,t),Qn(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){mt(t,t.return,w)}}break;case 3:if(xn(e,t),Qn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fu(e.containerInfo)}catch(w){mt(t,t.return,w)}break;case 4:xn(e,t),Qn(t);break;case 13:xn(e,t),Qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xy=xt())),n&4&&Lb(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(or=(d=or)||p,xn(e,t),or=d):xn(e,t),Qn(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(fe=t,p=t.child;p!==null;){for(h=fe=p;fe!==null;){switch(f=fe,g=f.child,f.tag){case 0:case 11:case 14:case 15:vu(4,f,f.return);break;case 1:Pa(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){mt(n,r,w)}}break;case 5:Pa(f,f.return);break;case 22:if(f.memoizedState!==null){Bb(h);continue}}g!==null?(g.return=f,fe=g):Bb(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=KT("display",o))}catch(w){mt(t,t.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){mt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xn(e,t),Qn(t),n&4&&Lb(t);break;case 21:break;default:xn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(SC(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mu(i,""),n.flags&=-33);var s=Fb(t);_v(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Fb(t);yv(t,a,o);break;default:throw Error(re(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p4(t,e,r){fe=t,CC(t)}function CC(t,e,r){for(var n=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||kh;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||or;a=kh;var d=or;if(kh=o,(or=c)&&!d)for(fe=i;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?Ub(i):c!==null?(c.return=o,fe=c):Ub(i);for(;s!==null;)fe=s,CC(s),s=s.sibling;fe=i,kh=a,or=d}Db(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):Db(t)}}function Db(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:or||Uf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:En(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xb(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xb(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Fu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}or||e.flags&512&&vv(e)}catch(f){mt(e,e.return,f)}}if(e===t){fe=null;break}if(r=e.sibling,r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Bb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Ub(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Uf(4,e)}catch(c){mt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){mt(e,i,c)}}var s=e.return;try{vv(e)}catch(c){mt(e,s,c)}break;case 5:var o=e.return;try{vv(e)}catch(c){mt(e,o,c)}}}catch(c){mt(e,e.return,c)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var m4=Math.ceil,Jd=Xi.ReactCurrentDispatcher,Vy=Xi.ReactCurrentOwner,ln=Xi.ReactCurrentBatchConfig,De=0,$t=null,Tt=null,Kt=0,Dr=0,Ia=Hs(0),Rt=0,Wu=null,Io=0,Gf=0,Wy=0,yu=null,br=null,Xy=0,rl=1/0,Pi=null,ef=!1,xv=null,Ps=null,Nh=!1,bs=null,tf=0,_u=0,wv=null,ad=-1,ld=0;function pr(){return De&6?xt():ad!==-1?ad:ad=xt()}function Is(t){return t.mode&1?De&2&&Kt!==0?Kt&-Kt:ZB.transition!==null?(ld===0&&(ld=cA()),ld):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:vA(t.type)),t):1}function Fn(t,e,r,n){if(50<_u)throw _u=0,wv=null,Error(re(185));ec(t,r,n),(!(De&2)||t!==$t)&&(t===$t&&(!(De&2)&&(Gf|=r),Rt===4&&gs(t,Kt)),Cr(t,n),r===1&&De===0&&!(e.mode&1)&&(rl=xt()+500,Lf&&$s()))}function Cr(t,e){var r=t.callbackNode;ZD(t,e);var n=Bd(t,t===$t?Kt:0);if(n===0)r!==null&&Yw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Yw(r),e===1)t.tag===0?KB(Gb.bind(null,t)):LA(Gb.bind(null,t)),XB(function(){!(De&6)&&$s()}),r=null;else{switch(hA(n)){case 1:r=_y;break;case 4:r=lA;break;case 16:r=Dd;break;case 536870912:r=uA;break;default:r=Dd}r=FC(r,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function PC(t,e){if(ad=-1,ld=0,De&6)throw Error(re(327));var r=t.callbackNode;if(ja()&&t.callbackNode!==r)return null;var n=Bd(t,t===$t?Kt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=rf(t,n);else{e=n;var i=De;De|=2;var s=RC();($t!==t||Kt!==e)&&(Pi=null,rl=xt()+500,bo(t,e));do try{y4();break}catch(a){IC(t,a)}while(1);ky(),Jd.current=s,De=i,Tt!==null?e=0:($t=null,Kt=0,e=Rt)}if(e!==0){if(e===2&&(i=Y0(t),i!==0&&(n=i,e=bv(t,i))),e===1)throw r=Wu,bo(t,0),gs(t,n),Cr(t,xt()),r;if(e===6)gs(t,n);else{if(i=t.current.alternate,!(n&30)&&!g4(i)&&(e=rf(t,n),e===2&&(s=Y0(t),s!==0&&(n=s,e=bv(t,s))),e===1))throw r=Wu,bo(t,0),gs(t,n),Cr(t,xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:ho(t,br,Pi);break;case 3:if(gs(t,n),(n&130023424)===n&&(e=Xy+500-xt(),10<e)){if(Bd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rv(ho.bind(null,t,br,Pi),e);break}ho(t,br,Pi);break;case 4:if(gs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-On(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m4(n/1960))-n,10<n){t.timeoutHandle=rv(ho.bind(null,t,br,Pi),n);break}ho(t,br,Pi);break;case 5:ho(t,br,Pi);break;default:throw Error(re(329))}}}return Cr(t,xt()),t.callbackNode===r?PC.bind(null,t):null}function bv(t,e){var r=yu;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=rf(t,e),t!==2&&(e=br,br=r,e!==null&&Ev(e)),t}function Ev(t){br===null?br=t:br.push.apply(br,t)}function g4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ln(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~Wy,e&=~Gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-On(e),n=1<<r;t[r]=-1,e&=~n}}function Gb(t){if(De&6)throw Error(re(327));ja();var e=Bd(t,0);if(!(e&1))return Cr(t,xt()),null;var r=rf(t,e);if(t.tag!==0&&r===2){var n=Y0(t);n!==0&&(e=n,r=bv(t,n))}if(r===1)throw r=Wu,bo(t,0),gs(t,e),Cr(t,xt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ho(t,br,Pi),Cr(t,xt()),null}function Yy(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(rl=xt()+500,Lf&&$s())}}function Ro(t){bs!==null&&bs.tag===0&&!(De&6)&&ja();var e=De;De|=1;var r=ln.transition,n=Ve;try{if(ln.transition=null,Ve=1,t)return t()}finally{Ve=n,ln.transition=r,De=e,!(De&6)&&$s()}}function qy(){Dr=Ia.current,et(Ia)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,WB(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(Iy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$d();break;case 3:el(),et(Tr),et(ur),By();break;case 5:Dy(n);break;case 4:el();break;case 13:et(ut);break;case 19:et(ut);break;case 10:Ny(n.type._context);break;case 22:case 23:qy()}r=r.return}if($t=t,Tt=t=Rs(t.current,null),Kt=Dr=e,Rt=0,Wu=null,Wy=Gf=Io=0,br=yu=null,go!==null){for(e=0;e<go.length;e++)if(r=go[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}go=null}return t}function IC(t,e){do{var r=Tt;try{if(ky(),id.current=Zd,Kd){for(var n=ht.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kd=!1}if(Po=0,Gt=It=ht=null,gu=!1,$u=0,Vy.current=null,r===null||r.return===null){Rt=1,Wu=e,Tt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=Kt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Cb(o);if(g!==null){g.flags&=-257,Pb(g,o,a,s,e),g.mode&1&&Ab(s,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){Ab(s,d,e),Qy();break e}c=Error(re(426))}}else if(st&&a.mode&1){var E=Cb(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Pb(E,o,a,s,e),Ry(tl(c,a));break e}}s=c=tl(c,a),Rt!==4&&(Rt=2),yu===null?yu=[s]:yu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=dC(s,c,e);_b(s,x);break e;case 1:a=c;var S=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ps===null||!Ps.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=fC(s,a,e);_b(s,A);break e}}s=s.return}while(s!==null)}kC(r)}catch(P){e=P,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(1)}function RC(){var t=Jd.current;return Jd.current=Zd,t===null?Zd:t}function Qy(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),$t===null||!(Io&268435455)&&!(Gf&268435455)||gs($t,Kt)}function rf(t,e){var r=De;De|=2;var n=RC();($t!==t||Kt!==e)&&(Pi=null,bo(t,e));do try{v4();break}catch(i){IC(t,i)}while(1);if(ky(),De=r,Jd.current=n,Tt!==null)throw Error(re(261));return $t=null,Kt=0,Rt}function v4(){for(;Tt!==null;)MC(Tt)}function y4(){for(;Tt!==null&&!$D();)MC(Tt)}function MC(t){var e=OC(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?kC(t):Tt=e,Vy.current=null}function kC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=h4(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Tt=null;return}}else if(r=c4(r,e,Dr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Rt===0&&(Rt=5)}function ho(t,e,r){var n=Ve,i=ln.transition;try{ln.transition=null,Ve=1,_4(t,e,r,n)}finally{ln.transition=i,Ve=n}return null}function _4(t,e,r,n){do ja();while(bs!==null);if(De&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(JD(t,s),t===$t&&(Tt=$t=null,Kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nh||(Nh=!0,FC(Dd,function(){return ja(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=Ve;Ve=1;var a=De;De|=4,Vy.current=null,f4(t,r),AC(r,t),UB(ev),Ud=!!J0,ev=J0=null,t.current=r,p4(r),jD(),De=a,Ve=o,ln.transition=s}else t.current=r;if(Nh&&(Nh=!1,bs=t,tf=i),s=t.pendingLanes,s===0&&(Ps=null),XD(r.stateNode),Cr(t,xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ef)throw ef=!1,t=xv,xv=null,t;return tf&1&&t.tag!==0&&ja(),s=t.pendingLanes,s&1?t===wv?_u++:(_u=0,wv=t):_u=0,$s(),null}function ja(){if(bs!==null){var t=hA(tf),e=ln.transition,r=Ve;try{if(ln.transition=null,Ve=16>t?16:t,bs===null)var n=!1;else{if(t=bs,bs=null,tf=0,De&6)throw Error(re(331));var i=De;for(De|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(fe=d;fe!==null;){var p=fe;switch(p.tag){case 0:case 11:case 15:vu(8,p,s)}var h=p.child;if(h!==null)h.return=p,fe=h;else for(;fe!==null;){p=fe;var f=p.sibling,g=p.return;if(EC(p),p===d){fe=null;break}if(f!==null){f.return=g,fe=f;break}fe=g}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,fe=x;break e}fe=s.return}}var S=t.current;for(fe=S;fe!==null;){o=fe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,fe=b;else e:for(o=S;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(P){mt(a,a.return,P)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(De=i,$s(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(Mf,t)}catch{}n=!0}return n}finally{Ve=r,ln.transition=e}}return!1}function zb(t,e,r){e=tl(r,e),e=dC(t,e,1),t=Cs(t,e,1),e=pr(),t!==null&&(ec(t,1,e),Cr(t,e))}function mt(t,e,r){if(t.tag===3)zb(t,t,r);else for(;e!==null;){if(e.tag===3){zb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ps===null||!Ps.has(n))){t=tl(r,t),t=fC(e,t,1),e=Cs(e,t,1),t=pr(),e!==null&&(ec(e,1,t),Cr(e,t));break}}e=e.return}}function x4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(Kt&r)===r&&(Rt===4||Rt===3&&(Kt&130023424)===Kt&&500>xt()-Xy?bo(t,0):Wy|=r),Cr(t,e)}function NC(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var r=pr();t=ji(t,e),t!==null&&(ec(t,e,r),Cr(t,r))}function w4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),NC(t,r)}function b4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),NC(t,r)}var OC;OC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tr.current)Sr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Sr=!1,u4(t,e,r);Sr=!!(t.flags&131072)}else Sr=!1,st&&e.flags&1048576&&DA(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;od(t,e),t=e.pendingProps;var i=Ka(e,ur.current);$a(e,r),i=Gy(null,e,n,t,i,r);var s=zy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(n)?(s=!0,jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fy(e),i.updater=Df,e.stateNode=i,i._reactInternals=e,uv(e,n,t,r),e=dv(null,e,n,!0,s,r)):(e.tag=0,st&&s&&Py(e),dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(od(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=S4(n),t=En(n,t),i){case 0:e=hv(null,e,n,t,r);break e;case 1:e=Mb(null,e,n,t,r);break e;case 11:e=Ib(null,e,n,t,r);break e;case 14:e=Rb(null,e,n,En(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),hv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),Mb(t,e,n,i,r);case 3:e:{if(vC(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,zA(t,e),qd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tl(Error(re(423)),e),e=kb(t,e,n,r,i);break e}else if(n!==i){i=tl(Error(re(424)),e),e=kb(t,e,n,r,i);break e}else for(Ur=As(e.stateNode.containerInfo.firstChild),Gr=e,st=!0,Tn=null,r=VA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Za(),n===i){e=Vi(t,e,r);break e}dr(t,e,n,r)}e=e.child}return e;case 5:return WA(e),t===null&&ov(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tv(n,i)?o=null:s!==null&&tv(n,s)&&(e.flags|=32),gC(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&ov(e),null;case 13:return yC(t,e,r);case 4:return Ly(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ja(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),Ib(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(Xd,n._currentValue),n._currentValue=o,s!==null)if(Ln(s.value,o)){if(s.children===i.children&&!Tr.current){e=Vi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Gi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),av(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),av(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,$a(e,r),i=cn(i),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return n=e.type,i=En(n,e.pendingProps),i=En(n.type,i),Rb(t,e,n,i,r);case 15:return pC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),od(t,e),e.tag=1,Ar(n)?(t=!0,jd(e)):t=!1,$a(e,r),$A(e,n,i),uv(e,n,i,r),dv(null,e,n,!0,t,r);case 19:return _C(t,e,r);case 22:return mC(t,e,r)}throw Error(re(156,e.tag))};function FC(t,e){return aA(t,e)}function E4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,r,n){return new E4(t,e,r,n)}function Ky(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S4(t){if(typeof t=="function")return Ky(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gy)return 11;if(t===vy)return 14}return 2}function Rs(t,e){var r=t.alternate;return r===null?(r=an(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ud(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ky(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return Eo(r.children,i,s,e);case my:o=8,i|=8;break;case N0:return t=an(12,r,e,i|2),t.elementType=N0,t.lanes=s,t;case O0:return t=an(13,r,e,i),t.elementType=O0,t.lanes=s,t;case F0:return t=an(19,r,e,i),t.elementType=F0,t.lanes=s,t;case jT:return zf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HT:o=10;break e;case $T:o=9;break e;case gy:o=11;break e;case vy:o=14;break e;case ds:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=an(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Eo(t,e,r,n){return t=an(7,t,n,e),t.lanes=r,t}function zf(t,e,r,n){return t=an(22,t,n,e),t.elementType=jT,t.lanes=r,t.stateNode={isHidden:!1},t}function wg(t,e,r){return t=an(6,t,null,e),t.lanes=r,t}function bg(t,e,r){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zy(t,e,r,n,i,s,o,a,c){return t=new T4(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(s),t}function A4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function LC(t){if(!t)return Ds;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(Ar(r))return FA(t,r,e)}return e}function DC(t,e,r,n,i,s,o,a,c){return t=Zy(r,n,!0,t,i,s,o,a,c),t.context=LC(null),r=t.current,n=pr(),i=Is(r),s=Gi(n,i),s.callback=e??null,Cs(r,s,i),t.current.lanes=i,ec(t,i,n),Cr(t,n),t}function Hf(t,e,r,n){var i=e.current,s=pr(),o=Is(i);return r=LC(r),e.context===null?e.context=r:e.pendingContext=r,e=Gi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Cs(i,e,o),t!==null&&(Fn(t,i,o,s),nd(t,i,o)),o}function nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jy(t,e){Hb(t,e),(t=t.alternate)&&Hb(t,e)}function C4(){return null}var BC=typeof reportError=="function"?reportError:function(t){console.error(t)};function e_(t){this._internalRoot=t}$f.prototype.render=e_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Hf(t,e,null,null)};$f.prototype.unmount=e_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){Hf(null,t,null,null)}),e[$i]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var e=pA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ms.length&&e!==0&&e<ms[r].priority;r++);ms.splice(r,0,t),r===0&&gA(t)}};function t_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $b(){}function P4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=nf(o);s.call(d)}}var o=DC(e,n,t,0,null,!1,!1,"",$b);return t._reactRootContainer=o,t[$i]=o.current,Bu(t.nodeType===8?t.parentNode:t),Ro(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=nf(c);a.call(d)}}var c=Zy(t,0,!1,null,null,!1,!1,"",$b);return t._reactRootContainer=c,t[$i]=c.current,Bu(t.nodeType===8?t.parentNode:t),Ro(function(){Hf(e,c,r,n)}),c}function Vf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=nf(o);a.call(c)}}Hf(e,o,t,i)}else o=P4(r,e,t,i,n);return nf(o)}dA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=eu(e.pendingLanes);r!==0&&(xy(e,r|1),Cr(e,xt()),!(De&6)&&(rl=xt()+500,$s()))}break;case 13:Ro(function(){var n=ji(t,1);if(n!==null){var i=pr();Fn(n,t,1,i)}}),Jy(t,1)}};wy=function(t){if(t.tag===13){var e=ji(t,134217728);if(e!==null){var r=pr();Fn(e,t,134217728,r)}Jy(t,134217728)}};fA=function(t){if(t.tag===13){var e=Is(t),r=ji(t,e);if(r!==null){var n=pr();Fn(r,t,e,n)}Jy(t,e)}};pA=function(){return Ve};mA=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};V0=function(t,e,r){switch(e){case"input":if(B0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ff(n);if(!i)throw Error(re(90));WT(n),B0(n,i)}}}break;case"textarea":YT(t,r);break;case"select":e=r.value,e!=null&&Ua(t,!!r.multiple,e,!1)}};tA=Yy;rA=Ro;var I4={usingClientEntryPoint:!1,Events:[rc,Ea,Ff,JT,eA,Yy]},jl={findFiberByHostInstance:mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},R4={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sA(t),t===null?null:t.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||C4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Mf=Oh.inject(R4),ui=Oh}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;$r.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t_(e))throw Error(re(200));return A4(t,e,null,r)};$r.createRoot=function(t,e){if(!t_(t))throw Error(re(299));var r=!1,n="",i=BC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zy(t,1,!1,null,null,r,!1,n,i),t[$i]=e.current,Bu(t.nodeType===8?t.parentNode:t),new e_(e)};$r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=sA(e),t=t===null?null:t.stateNode,t};$r.flushSync=function(t){return Ro(t)};$r.hydrate=function(t,e,r){if(!jf(e))throw Error(re(200));return Vf(null,t,e,!0,r)};$r.hydrateRoot=function(t,e,r){if(!t_(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=BC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=DC(e,null,t,1,r??null,i,!1,s,o),t[$i]=e.current,Bu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new $f(e)};$r.render=function(t,e,r){if(!jf(e))throw Error(re(200));return Vf(null,t,e,!1,r)};$r.unmountComponentAtNode=function(t){if(!jf(t))throw Error(re(40));return t._reactRootContainer?(Ro(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[$i]=null})}),!0):!1};$r.unstable_batchedUpdates=Yy;$r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jf(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Vf(t,e,r,!1,n)};$r.version="18.2.0-next-9e3b772b8-20220608";function UC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UC)}catch(t){console.error(t)}}UC(),DT.exports=$r;var M4=DT.exports,GC,jb=M4;GC=jb.createRoot,jb.hydrateRoot;var zC={exports:{}};(function(t){(function(){function e(w,E){document.addEventListener?w.addEventListener("scroll",E,!1):w.attachEvent("scroll",E)}function r(w){document.body?w():document.addEventListener?document.addEventListener("DOMContentLoaded",function E(){document.removeEventListener("DOMContentLoaded",E),w()}):document.attachEvent("onreadystatechange",function E(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",E),w())})}function n(w){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(w)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(w,E){w.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+E+";"}function s(w){var E=w.g.offsetWidth,x=E+100;return w.j.style.width=x+"px",w.i.scrollLeft=x,w.h.scrollLeft=w.h.scrollWidth+100,w.l!==E?(w.l=E,!0):!1}function o(w,E){function x(){var b=S;s(b)&&b.g.parentNode!==null&&E(b.l)}var S=w;e(w.h,x),e(w.i,x),s(w)}function a(w,E,x){E=E||{},x=x||window,this.family=w,this.style=E.style||"normal",this.weight=E.weight||"normal",this.stretch=E.stretch||"normal",this.context=x}var c=null,d=null,p=null,h=null;function f(w){return d===null&&(g(w)&&/Apple/.test(window.navigator.vendor)?(w=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!w&&603>parseInt(w[1],10)):d=!1),d}function g(w){return h===null&&(h=!!w.document.fonts),h}function y(w,E){var x=w.style,S=w.weight;if(p===null){var b=document.createElement("div");try{b.style.font="condensed 100px sans-serif"}catch{}p=b.style.font!==""}return[x,S,p?w.stretch:"","100px",E].join(" ")}a.prototype.load=function(w,E){var x=this,S=w||"BESbswy",b=0,A=E||3e3,P=new Date().getTime();return new Promise(function(N,k){if(g(x.context)&&!f(x.context)){var R=new Promise(function($,K){function z(){new Date().getTime()-P>=A?K(Error(""+A+"ms timeout exceeded")):x.context.document.fonts.load(y(x,'"'+x.family+'"'),S).then(function(F){1<=F.length?$():setTimeout(z,25)},K)}z()}),B=new Promise(function($,K){b=setTimeout(function(){K(Error(""+A+"ms timeout exceeded"))},A)});Promise.race([B,R]).then(function(){clearTimeout(b),N(x)},k)}else r(function(){function $(){var ee;(ee=Z!=-1&&J!=-1||Z!=-1&&oe!=-1||J!=-1&&oe!=-1)&&((ee=Z!=J&&Z!=oe&&J!=oe)||(c===null&&(ee=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!ee&&(536>parseInt(ee[1],10)||parseInt(ee[1],10)===536&&11>=parseInt(ee[2],10))),ee=c&&(Z==M&&J==M&&oe==M||Z==W&&J==W&&oe==W||Z==L&&J==L&&oe==L)),ee=!ee),ee&&(U.parentNode!==null&&U.parentNode.removeChild(U),clearTimeout(b),N(x))}function K(){if(new Date().getTime()-P>=A)U.parentNode!==null&&U.parentNode.removeChild(U),k(Error(""+A+"ms timeout exceeded"));else{var ee=x.context.document.hidden;(ee===!0||ee===void 0)&&(Z=z.g.offsetWidth,J=F.g.offsetWidth,oe=j.g.offsetWidth,$()),b=setTimeout(K,50)}}var z=new n(S),F=new n(S),j=new n(S),Z=-1,J=-1,oe=-1,M=-1,W=-1,L=-1,U=document.createElement("div");U.dir="ltr",i(z,y(x,"sans-serif")),i(F,y(x,"serif")),i(j,y(x,"monospace")),U.appendChild(z.g),U.appendChild(F.g),U.appendChild(j.g),x.context.document.body.appendChild(U),M=z.g.offsetWidth,W=F.g.offsetWidth,L=j.g.offsetWidth,K(),o(z,function(ee){Z=ee,$()}),i(z,y(x,'"'+x.family+'",sans-serif')),o(F,function(ee){J=ee,$()}),i(F,y(x,'"'+x.family+'",serif')),o(j,function(ee){oe=ee,$()}),i(j,y(x,'"'+x.family+'",monospace'))})})},t.exports=a})()})(zC);var k4=zC.exports;const N4=Yu(k4);function O4({children:t}){return ne("div",{id:"App",className:"app-mod",children:t})}function F4(){window.oncontextmenu=function(t){t.preventDefault()}}function L4(){return Promise.all([zS.test(),HS.test()]).then(([t,e])=>{Ht.Obj.setSupportImagesFormat(e,t);const r=document.getElementById("blur-bg");r.className=r.className+" "+Ht.Obj.filterImageFormat(["avif","webp","jpg"])})}function D4(t,e=[]){F4();const r=Ht.Obj,{operator:n,token:i,loginUrl:s,funPLay:o}=r.urlOptions;if(n)if(!o&&!i&&s)window.open(r.getLoginUrl(),"_self");else{let a=0;const c=d=>{d==e.length&&L4().then(()=>{GC(document.getElementById("root")).render(ne(O4,{children:t}))})};c(a);for(let d of e)new N4(d).load().then(()=>{a++,c(a)})}else alert("The operator parameter is missing!")}var Wf={exports:{}},HC={exports:{}},B4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U4=B4,G4=U4;function $C(){}function jC(){}jC.resetWarningCache=$C;var z4=function(){function t(n,i,s,o,a,c){if(c!==G4){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jC,resetWarningCache:$C};return r.PropTypes=r,r};HC.exports=z4();var H4=HC.exports;const Je=Yu(H4);function zr(t){return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}function VC(t){var e=function(r,n){if(zr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(zr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return zr(e)==="symbol"?e:String(e)}function yt(t,e,r){return(e=VC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wi(t){return function(e){if(Array.isArray(e))return Eg(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Eg(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eg(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var $4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V4=function(t){return t==null};function ru(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Wi(t);else{if(t===null||zr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!V4(r)&&!isNaN(r)}).map(Number)}function Vb(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Sg(t){return t instanceof Oe||t instanceof si}var sf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Tg(t,e,r){if(Sg(t[e])&&Sg(r))t[e].copyFrom(r);else if(Sg(t[e])){var n=ru(r);gt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),zr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var sa,WC=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},XC=function(t){return function(){return!t.apply(void 0,arguments)}},Sv="children",W4=(yt(sa={},Sv,!0),yt(sa,"parent",!0),yt(sa,"worldAlpha",!0),yt(sa,"worldTransform",!0),yt(sa,"worldVisible",!0),sa),Tv={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},pi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,d;a==null||(c=a.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return gt(c.typeofs.some(function(d){return zr(r[a])===d})||c.instanceofs.some(function(d){return r[a]instanceof d}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return gt(r.texture instanceof ue,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ue]});gt(!!s,"".concat(t," could not get texture from props"));var o=ue.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},X4=XC(WC([].concat(Wi(Object.keys(W4)),Wi(sf))));function mi(t,e,r){var n=!1;if(gt(ot.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",zr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<sf.length;o++){var a=sf[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var p=c[d];e[p]!==r[p]&&(n=!0,Tg(t,p,r[p]))}return n}for(var h=c.filter(X4),f=0;f<h.length;f++){var g=h[f],y=r[g];r[g]!==e[g]&&(n=!0),y!==void 0?Tg(t,g,y):g in Tv?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(y," for"),t),n=!0,Tg(t,g,Tv[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(y," for"),t)}return n}var Y4=function(t,e){var r=e.text,n=e.style;return new DF(r,n)},q4=function(){return new mr};function js(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,d,p={},h=Object.keys(o);for(d=0;d<h.length;d++)c=h[d],a.indexOf(c)>=0||(p[c]=o[c]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var Q4=["draw","geometry"],K4=function(t,e){var r=e.geometry;gt(!r||r instanceof cu,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new cu(r.geometry):new cu;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=mi(i,s,js(o,Q4));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},Z4=["image","texture"],J4=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,p=pi("NineSlicePlane",t,e),h=new oF(p,n,s,a,d);return h.applyProps=function(f,g,y){var w=y.image,E=y.texture,x=mi(f,g,js(y,Z4));return(w||E)&&(E!==g.texture&&(x=!0),f.texture=pi("NineSlicePlane",t,y)),x},h};function Wb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var e5=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=Fh(Fh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=Fh(Fh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new uF(n,c,s,a);return p.willUnmount=function(h,f,g){h.destroy(d)},p},t5=["image","texture"],r5=function(t,e){var r=new yi(pi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=mi(n,i,js(s,t5));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=pi("Sprite",t,s)),c},r},n5=["textures","isPlaying","initialFrame","images"],i5=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(d){return d.map(function(p){return gt(p instanceof ue||(p==null?void 0:p.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),p})},c=n?Pu.fromImages(n):new Pu(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,p,h){var f=h.textures,g=h.isPlaying,y=h.initialFrame,w=h.images,E=mi(d,p,js(h,n5));if(w&&p.images!==w){for(var x=[],S=0;S<w.length;++S)x.push(ue.from(w[S]));d.textures=x,E=!0}if(f&&p.textures!==f&&(d.textures=a(f),E=!0),g!==p.isPlaying||y!==p.initialFrame){var b=typeof y=="number"?y:c.currentFrame||0;c[g?"gotoAndPlay":"gotoAndStop"](b),E=!0}return E},c},s5=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new ay(n,s);return o?(a.updateText(),new yi(a.texture)):a},o5=["tileScale","tilePosition","image","texture"],a5=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=pi("TilingSprite",t,e),a=new ly(o,n,s);return a.applyProps=function(c,d,p){var h=p.tileScale,f=p.tilePosition,g=p.image,y=p.texture,w=mi(c,d,js(p,o5));if(f){var E,x=ru(f);(E=c.tilePosition).set.apply(E,Wi(x)),w=!Vb(ru(d.tilePosition),x)||w}if(h){var S,b=ru(h);(S=c.tileScale).set.apply(S,Wi(b)),w=!Vb(ru(d.tileScale),b)||w}return(g||y)&&(y!==d.texture&&(w=!0),c.texture=pi("Sprite",t,p)),w},a},l5=["image","texture"],u5=function(t,e){var r=pi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Cn.TRIANGLES:o,c=new aF(r,n,i,s,a);return c.applyProps=function(d,p,h){var f=h.image,g=h.texture,y=mi(d,p,js(h,l5));return(f||g)&&(g!==p.texture&&(y=!0),d.texture=pi("Mesh",t,h)),y},c},c5=["image","texture"],h5=function(t,e){var r=pi("SimpleRope",t,e),n=e.points,i=new lF(r,n);return i.applyProps=function(s,o,a){var c=a.image,d=a.texture,p=js(a,c5);gt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var h=mi(s,o,p);return(c||d)&&(d!==o.texture&&(h=!0),s.texture=pi("SimpleRope",t,a)),h},i},d5=Object.freeze({__proto__:null,BitmapText:Y4,Container:q4,Graphics:K4,NineSlicePlane:J4,ParticleContainer:e5,Sprite:r5,Text:s5,TilingSprite:a5,SimpleMesh:u5,SimpleRope:h5,AnimatedSprite:i5});function Xb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ir={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},f5=Object.keys(Ir).reduce(function(t,e){return Yb(Yb({},t),{},yt({},e,d5[e]))},{}),YC={};function p5(t,e){return gt(!!t,"Expect type to be defined, got `%s`",t),gt(!Ir[t],"Component `%s` could not be created, already exists in default components.",t),YC[t]=e,t}var qb,Qb,Kb,Zb,Av={},Cv={},m5={get exports(){return Cv},set exports(t){Cv=t}},Jb={};function g5(){return Qb||(Qb=1,m5.exports=(qb||(qb=1,function(t){function e(M,W){var L=M.length;M.push(W);e:for(;0<L;){var U=L-1>>>1,ee=M[U];if(!(0<i(ee,W)))break e;M[U]=W,M[L]=ee,L=U}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var W=M[0],L=M.pop();if(L!==W){M[0]=L;e:for(var U=0,ee=M.length,Te=ee>>>1;U<Te;){var Ee=2*(U+1)-1,He=M[Ee],Re=Ee+1,ze=M[Re];if(0>i(He,L))Re<ee&&0>i(ze,He)?(M[U]=ze,M[Re]=L,U=Re):(M[U]=He,M[Ee]=L,U=Ee);else{if(!(Re<ee&&0>i(ze,L)))break e;M[U]=ze,M[Re]=L,U=Re}}}return W}function i(M,W){var L=M.sortIndex-W.sortIndex;return L!==0?L:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function b(M){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else{if(!(W.startTime<=M))break;n(d),W.sortIndex=W.expirationTime,e(c,W)}W=r(d)}}function A(M){if(w=!1,b(M),!y)if(r(c)!==null)y=!0,J(P);else{var W=r(d);W!==null&&oe(A,W.startTime-M)}}function P(M,W){y=!1,w&&(w=!1,x(B),B=-1),g=!0;var L=f;try{for(b(W),h=r(c);h!==null&&(!(h.expirationTime>W)||M&&!z());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var ee=U(h.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),b(W)}else n(c);h=r(c)}if(h!==null)var Te=!0;else{var Ee=r(d);Ee!==null&&oe(A,Ee.startTime-W),Te=!1}return Te}finally{h=null,f=L,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,R=null,B=-1,$=5,K=-1;function z(){return!(t.unstable_now()-K<$)}function F(){if(R!==null){var M=t.unstable_now();K=M;var W=!0;try{W=R(!0,M)}finally{W?N():(k=!1,R=null)}}else k=!1}if(typeof S=="function")N=function(){S(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=F,N=function(){Z.postMessage(null)}}else N=function(){E(F,0)};function J(M){R=M,k||(k=!0,N())}function oe(M,W){B=E(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,J(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var L=f;f=W;try{return M()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=f;f=M;try{return W()}finally{f=L}},t.unstable_scheduleCallback=function(M,W,L){var U=t.unstable_now();switch(L=typeof L=="object"&&L!==null&&typeof(L=L.delay)=="number"&&0<L?U+L:U,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return M={id:p++,callback:W,priorityLevel:M,startTime:L,expirationTime:ee=L+ee,sortIndex:-1},L>U?(M.sortIndex=L,e(d,M),r(c)===null&&M===r(d)&&(w?(x(B),B=-1):w=!0,oe(A,L-U))):(M.sortIndex=ee,e(c,M),y||g||(y=!0,J(P))),M},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(M){var W=f;return function(){var L=f;f=W;try{return M.apply(this,arguments)}finally{f=L}}}}(Jb)),Jb)),Cv}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function v5(){return Zb||(Zb=1,Kb=function(t){var e={},r=Di,n=g5(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=A&&l[A]||l["@@iterator"])=="function"?l:null}function N(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case f:return(l._context.displayName||"Context")+".Provider";case y:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case x:return(u=l.displayName||null)!==null?u:N(l.type)||"Memo";case S:u=l._payload,l=l._init;try{return N(l(u))}catch{}}return null}function k(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(u);case 8:return u===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function B(l){if(R(l)!==l)throw Error(s(188))}function $(l){var u=l.alternate;if(!u){if((u=R(l))===null)throw Error(s(188));return u!==l?null:l}for(var m=l,v=u;;){var _=m.return;if(_===null)break;var T=_.alternate;if(T===null){if((v=_.return)!==null){m=v;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===m)return B(_),l;if(T===v)return B(_),u;T=T.sibling}throw Error(s(188))}if(m.return!==v.return)m=_,v=T;else{for(var C=!1,I=_.child;I;){if(I===m){C=!0,m=_,v=T;break}if(I===v){C=!0,v=_,m=T;break}I=I.sibling}if(!C){for(I=T.child;I;){if(I===m){C=!0,m=T,v=_;break}if(I===v){C=!0,v=T,m=_;break}I=I.sibling}if(!C)throw Error(s(189))}}if(m.alternate!==v)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:u}function K(l){return(l=$(l))!==null?z(l):null}function z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=z(l);if(u!==null)return u;l=l.sibling}return null}function F(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=F(l);if(u!==null)return u}l=l.sibling}return null}var j,Z=Array.isArray,J=t.getPublicInstance,oe=t.getRootHostContext,M=t.getChildHostContext,W=t.prepareForCommit,L=t.resetAfterCommit,U=t.createInstance,ee=t.appendInitialChild,Te=t.finalizeInitialChildren,Ee=t.prepareUpdate,He=t.shouldSetTextContent,Re=t.createTextInstance,ze=t.scheduleTimeout,kt=t.cancelTimeout,jt=t.noTimeout,ft=t.isPrimaryRenderer,Me=t.supportsMutation,Ke=t.supportsPersistence,Be=t.supportsHydration,Vr=t.getInstanceFromNode,Wr=t.preparePortalMount,Vs=t.getCurrentEventPriority,Qf=t.detachDeletedInstance,Do=t.supportsMicrotasks,fP=t.scheduleMicrotask,ul=t.supportsTestSelectors,pP=t.findFiberRoot,mP=t.getBoundingRect,gP=t.getTextContent,cl=t.isHiddenSubtree,vP=t.matchAccessibilityRole,yP=t.setFocusIfFocusable,_P=t.setupIntersectionObserver,xP=t.appendChild,wP=t.appendChildToContainer,bP=t.commitTextUpdate,EP=t.commitMount,SP=t.commitUpdate,TP=t.insertBefore,AP=t.insertInContainerBefore,CP=t.removeChild,PP=t.removeChildFromContainer,o_=t.resetTextContent,IP=t.hideInstance,RP=t.hideTextInstance,MP=t.unhideInstance,kP=t.unhideTextInstance,NP=t.clearContainer,OP=t.cloneInstance,a_=t.createContainerChildSet,l_=t.appendChildToContainerChildSet,FP=t.finalizeContainerChildren,Kf=t.replaceContainerChildren,u_=t.cloneHiddenInstance,c_=t.cloneHiddenTextInstance,LP=t.canHydrateInstance,DP=t.canHydrateTextInstance,BP=t.canHydrateSuspenseInstance,h_=t.isSuspenseInstancePending,Zf=t.isSuspenseInstanceFallback,UP=t.getSuspenseInstanceFallbackErrorDetails,GP=t.registerSuspenseInstanceRetry,ic=t.getNextHydratableSibling,zP=t.getFirstHydratableChild,HP=t.getFirstHydratableChildWithinContainer,$P=t.getFirstHydratableChildWithinSuspenseInstance,jP=t.hydrateInstance,VP=t.hydrateTextInstance,WP=t.hydrateSuspenseInstance,XP=t.getNextHydratableInstanceAfterSuspenseInstance,YP=t.commitHydratedContainer,qP=t.commitHydratedSuspenseInstance,QP=t.clearSuspenseBoundary,KP=t.clearSuspenseBoundaryFromContainer,ZP=t.shouldDeleteUnhydratedTailInstances,JP=t.didNotMatchHydratedContainerTextInstance,eI=t.didNotMatchHydratedTextInstance;function hl(l){if(j===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+l}var Jf=!1;function ep(l,u){if(!l||Jf)return"";Jf=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(H){var v=H}Reflect.construct(l,[],u)}else{try{u.call()}catch(H){v=H}l.call(u.prototype)}else{try{throw Error()}catch(H){v=H}l()}}catch(H){if(H&&v&&typeof H.stack=="string"){for(var _=H.stack.split(`
`),T=v.stack.split(`
`),C=_.length-1,I=T.length-1;1<=C&&0<=I&&_[C]!==T[I];)I--;for(;1<=C&&0<=I;C--,I--)if(_[C]!==T[I]){if(C!==1||I!==1)do if(C--,0>--I||_[C]!==T[I]){var D=`
`+_[C].replace(" at new "," at ");return l.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",l.displayName)),D}while(1<=C&&0<=I);break}}}finally{Jf=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?hl(l):""}var tI=Object.prototype.hasOwnProperty,tp=[],Bo=-1;function Yi(l){return{current:l}}function rt(l){0>Bo||(l.current=tp[Bo],tp[Bo]=null,Bo--)}function Ye(l,u){Bo++,tp[Bo]=l.current,l.current=u}var qi={},Jt=Yi(qi),yr=Yi(!1),Ws=qi;function Uo(l,u){var m=l.type.contextTypes;if(!m)return qi;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _,T={};for(_ in m)T[_]=u[_];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Rr(l){return(l=l.childContextTypes)!=null}function rp(){rt(yr),rt(Jt)}function d_(l,u,m){if(Jt.current!==qi)throw Error(s(168));Ye(Jt,u),Ye(yr,m)}function f_(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var _ in v=v.getChildContext())if(!(_ in u))throw Error(s(108,k(l)||"Unknown",_));return i({},m,v)}function sc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||qi,Ws=Jt.current,Ye(Jt,l),Ye(yr,yr.current),!0}function p_(l,u,m){var v=l.stateNode;if(!v)throw Error(s(169));m?(l=f_(l,u,Ws),v.__reactInternalMemoizedMergedChildContext=l,rt(yr),rt(Jt),Ye(Jt,l)):rt(yr),Ye(yr,m)}var fn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(rI(l)/nI|0)|0},rI=Math.log,nI=Math.LN2,np=64,ip=4194304;function dl(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function oc(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,_=l.suspendedLanes,T=l.pingedLanes,C=268435455&m;if(C!==0){var I=C&~_;I!==0?v=dl(I):(T&=C)!==0&&(v=dl(T))}else(C=m&~_)!==0?v=dl(C):T!==0&&(v=dl(T));if(v===0)return 0;if(u!==0&&u!==v&&!(u&_)&&((_=v&-v)>=(T=u&-u)||_===16&&4194240&T))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)_=1<<(m=31-fn(u)),v|=l[m],u&=~_;return v}function iI(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function sp(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function m_(){var l=np;return!(4194240&(np<<=1))&&(np=64),l}function op(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function fl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-fn(u)]=m}function ap(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-fn(m),_=1<<v;_&u|l[v]&u&&(l[v]|=u),m&=~_}}var Ue=0;function g_(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var lp=n.unstable_scheduleCallback,v_=n.unstable_cancelCallback,sI=n.unstable_shouldYield,oI=n.unstable_requestPaint,Nt=n.unstable_now,up=n.unstable_ImmediatePriority,aI=n.unstable_UserBlockingPriority,y_=n.unstable_NormalPriority,lI=n.unstable_IdlePriority,ac=null,Un=null,pn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},_i=null,lc=!1,cp=!1;function __(l){_i===null?_i=[l]:_i.push(l)}function Gn(){if(!cp&&_i!==null){cp=!0;var l=0,u=Ue;try{var m=_i;for(Ue=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}_i=null,lc=!1}catch(_){throw _i!==null&&(_i=_i.slice(l+1)),lp(up,Gn),_}finally{Ue=u,cp=!1}}return null}var Go=[],zo=0,uc=null,cc=0,Xr=[],Yr=0,Xs=null,zn=1,xi="";function Ys(l,u){Go[zo++]=cc,Go[zo++]=uc,uc=l,cc=u}function x_(l,u,m){Xr[Yr++]=zn,Xr[Yr++]=xi,Xr[Yr++]=Xs,Xs=l;var v=zn;l=xi;var _=32-fn(v)-1;v&=~(1<<_),m+=1;var T=32-fn(u)+_;if(30<T){var C=_-_%5;T=(v&(1<<C)-1).toString(32),v>>=C,_-=C,zn=1<<32-fn(u)+_|m<<_|v,xi=T+l}else zn=1<<T|m<<_|v,xi=l}function hp(l){l.return!==null&&(Ys(l,1),x_(l,1,0))}function dp(l){for(;l===uc;)uc=Go[--zo],Go[zo]=null,cc=Go[--zo],Go[zo]=null;for(;l===Xs;)Xs=Xr[--Yr],Xr[Yr]=null,xi=Xr[--Yr],Xr[Yr]=null,zn=Xr[--Yr],Xr[Yr]=null}var Mr=null,qr=null,nt=!1,pl=!1,mn=null;function w_(l,u){var m=en(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function b_(l,u){switch(l.tag){case 5:return(u=LP(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Mr=l,qr=zP(u),!0);case 6:return(u=DP(u,l.pendingProps))!==null&&(l.stateNode=u,Mr=l,qr=null,!0);case 13:if((u=BP(u))!==null){var m=Xs!==null?{id:zn,overflow:xi}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=en(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Mr=l,qr=null,!0}return!1;default:return!1}}function fp(l){return(1&l.mode)!=0&&(128&l.flags)==0}function pp(l){if(nt){var u=qr;if(u){var m=u;if(!b_(l,u)){if(fp(l))throw Error(s(418));u=ic(m);var v=Mr;u&&b_(l,u)?w_(v,m):(l.flags=-4097&l.flags|2,nt=!1,Mr=l)}}else{if(fp(l))throw Error(s(418));l.flags=-4097&l.flags|2,nt=!1,Mr=l}}}function E_(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Mr=l}function hc(l){if(!Be||l!==Mr)return!1;if(!nt)return E_(l),nt=!0,!1;if(l.tag!==3&&(l.tag!==5||ZP(l.type)&&!He(l.type,l.memoizedProps))){var u=qr;if(u){if(fp(l))throw S_(),Error(s(418));for(;u;)w_(l,u),u=ic(u)}}if(E_(l),l.tag===13){if(!Be)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));qr=XP(l)}else qr=Mr?ic(l.stateNode):null;return!0}function S_(){for(var l=qr;l;)l=ic(l)}function Ho(){Be&&(qr=Mr=null,pl=nt=!1)}function mp(l){mn===null?mn=[l]:mn.push(l)}var uI=o.ReactCurrentBatchConfig;function dc(l,u){if(pn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!tI.call(u,_)||!pn(l[_],u[_]))return!1}return!0}function cI(l){switch(l.tag){case 5:return hl(l.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return l=ep(l.type,!1);case 11:return l=ep(l.type.render,!1);case 1:return l=ep(l.type,!0);default:return""}}function gn(l,u){if(l&&l.defaultProps){for(var m in u=i({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var fc=Yi(null),pc=null,$o=null,gp=null;function vp(){gp=$o=pc=null}function T_(l,u,m){ft?(Ye(fc,u._currentValue),u._currentValue=m):(Ye(fc,u._currentValue2),u._currentValue2=m)}function yp(l){var u=fc.current;rt(fc),ft?l._currentValue=u:l._currentValue2=u}function _p(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function jo(l,u){pc=l,gp=$o=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(_r=!0),l.firstContext=null)}function Qr(l){var u=ft?l._currentValue:l._currentValue2;if(gp!==l)if(l={context:l,memoizedValue:u,next:null},$o===null){if(pc===null)throw Error(s(308));$o=l,pc.dependencies={lanes:0,firstContext:l}}else $o=$o.next=l;return u}var qs=null;function xp(l){qs===null?qs=[l]:qs.push(l)}function A_(l,u,m,v){var _=u.interleaved;return _===null?(m.next=m,xp(u)):(m.next=_.next,_.next=m),u.interleaved=m,Hn(l,v)}function Hn(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Qi=!1;function wp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function wi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ki(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&Le)!=0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,Hn(l,m)}return(_=v.interleaved)===null?(u.next=u,xp(v)):(u.next=_.next,_.next=u),v.interleaved=u,Hn(l,m)}function mc(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,ap(l,m)}}function P_(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var _=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var C={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?_=T=C:T=T.next=C,m=m.next}while(m!==null);T===null?_=T=u:T=T.next=u}else _=T=u;return m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function gc(l,u,m,v){var _=l.updateQueue;Qi=!1;var T=_.firstBaseUpdate,C=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var D=I,H=D.next;D.next=null,C===null?T=H:C.next=H,C=D;var Y=l.alternate;Y!==null&&(I=(Y=Y.updateQueue).lastBaseUpdate)!==C&&(I===null?Y.firstBaseUpdate=H:I.next=H,Y.lastBaseUpdate=D)}if(T!==null){var ae=_.baseState;for(C=0,Y=H=D=null,I=T;;){var X=I.lane,ie=I.eventTime;if((v&X)===X){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=l,Ie=I;switch(X=u,ie=m,Ie.tag){case 1:if(typeof(pe=Ie.payload)=="function"){ae=pe.call(ie,ae,X);break e}ae=pe;break e;case 3:pe.flags=-65537&pe.flags|128;case 0:if((X=typeof(pe=Ie.payload)=="function"?pe.call(ie,ae,X):pe)==null)break e;ae=i({},ae,X);break e;case 2:Qi=!0}}I.callback!==null&&I.lane!==0&&(l.flags|=64,(X=_.effects)===null?_.effects=[I]:X.push(I))}else ie={eventTime:ie,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(H=Y=ie,D=ae):Y=Y.next=ie,C|=X;if((I=I.next)===null){if((I=_.shared.pending)===null)break;I=(X=I).next,X.next=null,_.lastBaseUpdate=X,_.shared.pending=null}}if(Y===null&&(D=ae),_.baseState=D,_.firstBaseUpdate=H,_.lastBaseUpdate=Y,(u=_.shared.interleaved)!==null){_=u;do C|=_.lane,_=_.next;while(_!==u)}else T===null&&(_.shared.lanes=0);Ks|=C,l.lanes=C,l.memoizedState=ae}}function I_(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],_=v.callback;if(_!==null){if(v.callback=null,v=m,typeof _!="function")throw Error(s(191,_));_.call(v)}}}var R_=new r.Component().refs;function bp(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:i({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var vc={isMounted:function(l){return!!(l=l._reactInternals)&&R(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=rr(),_=ts(l),T=wi(v,_);T.payload=u,m!=null&&(T.callback=m),(u=Ki(l,T,_))!==null&&(Jr(u,l,_,v),mc(u,l,_))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=rr(),_=ts(l),T=wi(v,_);T.tag=1,T.payload=u,m!=null&&(T.callback=m),(u=Ki(l,T,_))!==null&&(Jr(u,l,_,v),mc(u,l,_))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=rr(),v=ts(l),_=wi(m,v);_.tag=2,u!=null&&(_.callback=u),(u=Ki(l,_,v))!==null&&(Jr(u,l,v,m),mc(u,l,v))}};function M_(l,u,m,v,_,T,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,C):!u.prototype||!u.prototype.isPureReactComponent||!dc(m,v)||!dc(_,T)}function k_(l,u,m){var v=!1,_=qi,T=u.contextType;return typeof T=="object"&&T!==null?T=Qr(T):(_=Rr(u)?Ws:Jt.current,T=(v=(v=u.contextTypes)!=null)?Uo(l,_):qi),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vc,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=T),u}function N_(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&vc.enqueueReplaceState(u,u.state,null)}function Ep(l,u,m,v){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs=R_,wp(l);var T=u.contextType;typeof T=="object"&&T!==null?_.context=Qr(T):(T=Rr(u)?Ws:Jt.current,_.context=Uo(l,T)),_.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(bp(l,u,T,m),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&vc.enqueueReplaceState(_,_.state,null),gc(l,m,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function ml(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(s(309));var v=m.stateNode}if(!v)throw Error(s(147,l));var _=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(C){var I=_.refs;I===R_&&(I=_.refs={}),C===null?delete I[T]:I[T]=C},u._stringRef=T,u)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function yc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function O_(l){return(0,l._init)(l._payload)}function F_(l){function u(q,O){if(l){var G=q.deletions;G===null?(q.deletions=[O],q.flags|=16):G.push(O)}}function m(q,O){if(!l)return null;for(;O!==null;)u(q,O),O=O.sibling;return null}function v(q,O){for(q=new Map;O!==null;)O.key!==null?q.set(O.key,O):q.set(O.index,O),O=O.sibling;return q}function _(q,O){return(q=ns(q,O)).index=0,q.sibling=null,q}function T(q,O,G){return q.index=G,l?(G=q.alternate)!==null?(G=G.index)<O?(q.flags|=2,O):G:(q.flags|=2,O):(q.flags|=1048576,O)}function C(q){return l&&q.alternate===null&&(q.flags|=2),q}function I(q,O,G,te){return O===null||O.tag!==6?((O=um(G,q.mode,te)).return=q,O):((O=_(O,G)).return=q,O)}function D(q,O,G,te){var xe=G.type;return xe===d?Y(q,O,G.props.children,te,G.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&O_(xe)===O.type)?((te=_(O,G.props)).ref=ml(q,O,G),te.return=q,te):((te=jc(G.type,G.key,G.props,null,q.mode,te)).ref=ml(q,O,G),te.return=q,te)}function H(q,O,G,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?((O=cm(G,q.mode,te)).return=q,O):((O=_(O,G.children||[])).return=q,O)}function Y(q,O,G,te,xe){return O===null||O.tag!==7?((O=eo(G,q.mode,te,xe)).return=q,O):((O=_(O,G)).return=q,O)}function ae(q,O,G){if(typeof O=="string"&&O!==""||typeof O=="number")return(O=um(""+O,q.mode,G)).return=q,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case a:return(G=jc(O.type,O.key,O.props,null,q.mode,G)).ref=ml(q,null,O),G.return=q,G;case c:return(O=cm(O,q.mode,G)).return=q,O;case S:return ae(q,(0,O._init)(O._payload),G)}if(Z(O)||P(O))return(O=eo(O,q.mode,G,null)).return=q,O;yc(q,O)}return null}function X(q,O,G,te){var xe=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:I(q,O,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case a:return G.key===xe?D(q,O,G,te):null;case c:return G.key===xe?H(q,O,G,te):null;case S:return X(q,O,(xe=G._init)(G._payload),te)}if(Z(G)||P(G))return xe!==null?null:Y(q,O,G,te,null);yc(q,G)}return null}function ie(q,O,G,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number")return I(O,q=q.get(G)||null,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case a:return D(O,q=q.get(te.key===null?G:te.key)||null,te,xe);case c:return H(O,q=q.get(te.key===null?G:te.key)||null,te,xe);case S:return ie(q,O,G,(0,te._init)(te._payload),xe)}if(Z(te)||P(te))return Y(O,q=q.get(G)||null,te,xe,null);yc(O,te)}return null}function pe(q,O,G,te){for(var xe=null,$e=null,ge=O,Ge=O=0,Wt=null;ge!==null&&Ge<G.length;Ge++){ge.index>Ge?(Wt=ge,ge=null):Wt=ge.sibling;var je=X(q,ge,G[Ge],te);if(je===null){ge===null&&(ge=Wt);break}l&&ge&&je.alternate===null&&u(q,ge),O=T(je,O,Ge),$e===null?xe=je:$e.sibling=je,$e=je,ge=Wt}if(Ge===G.length)return m(q,ge),nt&&Ys(q,Ge),xe;if(ge===null){for(;Ge<G.length;Ge++)(ge=ae(q,G[Ge],te))!==null&&(O=T(ge,O,Ge),$e===null?xe=ge:$e.sibling=ge,$e=ge);return nt&&Ys(q,Ge),xe}for(ge=v(q,ge);Ge<G.length;Ge++)(Wt=ie(ge,q,Ge,G[Ge],te))!==null&&(l&&Wt.alternate!==null&&ge.delete(Wt.key===null?Ge:Wt.key),O=T(Wt,O,Ge),$e===null?xe=Wt:$e.sibling=Wt,$e=Wt);return l&&ge.forEach(function(is){return u(q,is)}),nt&&Ys(q,Ge),xe}function Ie(q,O,G,te){var xe=P(G);if(typeof xe!="function")throw Error(s(150));if((G=xe.call(G))==null)throw Error(s(151));for(var $e=xe=null,ge=O,Ge=O=0,Wt=null,je=G.next();ge!==null&&!je.done;Ge++,je=G.next()){ge.index>Ge?(Wt=ge,ge=null):Wt=ge.sibling;var is=X(q,ge,je.value,te);if(is===null){ge===null&&(ge=Wt);break}l&&ge&&is.alternate===null&&u(q,ge),O=T(is,O,Ge),$e===null?xe=is:$e.sibling=is,$e=is,ge=Wt}if(je.done)return m(q,ge),nt&&Ys(q,Ge),xe;if(ge===null){for(;!je.done;Ge++,je=G.next())(je=ae(q,je.value,te))!==null&&(O=T(je,O,Ge),$e===null?xe=je:$e.sibling=je,$e=je);return nt&&Ys(q,Ge),xe}for(ge=v(q,ge);!je.done;Ge++,je=G.next())(je=ie(ge,q,Ge,je.value,te))!==null&&(l&&je.alternate!==null&&ge.delete(je.key===null?Ge:je.key),O=T(je,O,Ge),$e===null?xe=je:$e.sibling=je,$e=je);return l&&ge.forEach(function(OI){return u(q,OI)}),nt&&Ys(q,Ge),xe}return function q(O,G,te,xe){if(typeof te=="object"&&te!==null&&te.type===d&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case a:e:{for(var $e=te.key,ge=G;ge!==null;){if(ge.key===$e){if(($e=te.type)===d){if(ge.tag===7){m(O,ge.sibling),(G=_(ge,te.props.children)).return=O,O=G;break e}}else if(ge.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&O_($e)===ge.type){m(O,ge.sibling),(G=_(ge,te.props)).ref=ml(O,ge,te),G.return=O,O=G;break e}m(O,ge);break}u(O,ge),ge=ge.sibling}te.type===d?((G=eo(te.props.children,O.mode,xe,te.key)).return=O,O=G):((xe=jc(te.type,te.key,te.props,null,O.mode,xe)).ref=ml(O,G,te),xe.return=O,O=xe)}return C(O);case c:e:{for(ge=te.key;G!==null;){if(G.key===ge){if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){m(O,G.sibling),(G=_(G,te.children||[])).return=O,O=G;break e}m(O,G);break}u(O,G),G=G.sibling}(G=cm(te,O.mode,xe)).return=O,O=G}return C(O);case S:return q(O,G,(ge=te._init)(te._payload),xe)}if(Z(te))return pe(O,G,te,xe);if(P(te))return Ie(O,G,te,xe);yc(O,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,G!==null&&G.tag===6?(m(O,G.sibling),(G=_(G,te)).return=O,O=G):(m(O,G),(G=um(te,O.mode,xe)).return=O,O=G),C(O)):m(O,G)}}var Vo=F_(!0),L_=F_(!1),gl={},Kr=Yi(gl),vl=Yi(gl),Wo=Yi(gl);function $n(l){if(l===gl)throw Error(s(174));return l}function Sp(l,u){Ye(Wo,u),Ye(vl,l),Ye(Kr,gl),l=oe(u),rt(Kr),Ye(Kr,l)}function Xo(){rt(Kr),rt(vl),rt(Wo)}function D_(l){var u=$n(Wo.current),m=$n(Kr.current);m!==(u=M(m,l.type,u))&&(Ye(vl,l),Ye(Kr,u))}function Tp(l){vl.current===l&&(rt(Kr),rt(vl))}var pt=Yi(0);function _c(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||h_(m)||Zf(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ap=[];function Cp(){for(var l=0;l<Ap.length;l++){var u=Ap[l];ft?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ap.length=0}var xc=o.ReactCurrentDispatcher,Pp=o.ReactCurrentBatchConfig,Qs=0,at=null,Ot=null,Ft=null,wc=!1,yl=!1,_l=0,hI=0;function er(){throw Error(s(321))}function Ip(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!pn(l[m],u[m]))return!1;return!0}function Rp(l,u,m,v,_,T){if(Qs=T,at=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,xc.current=l===null||l.memoizedState===null?mI:gI,l=m(v,_),yl){T=0;do{if(yl=!1,_l=0,25<=T)throw Error(s(301));T+=1,Ft=Ot=null,u.updateQueue=null,xc.current=vI,l=m(v,_)}while(yl)}if(xc.current=Sc,u=Ot!==null&&Ot.next!==null,Qs=0,Ft=Ot=at=null,wc=!1,u)throw Error(s(300));return l}function Mp(){var l=_l!==0;return _l=0,l}function jn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?at.memoizedState=Ft=l:Ft=Ft.next=l,Ft}function Zr(){if(Ot===null){var l=at.alternate;l=l!==null?l.memoizedState:null}else l=Ot.next;var u=Ft===null?at.memoizedState:Ft.next;if(u!==null)Ft=u,Ot=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Ot=l).memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ft===null?at.memoizedState=Ft=l:Ft=Ft.next=l}return Ft}function xl(l,u){return typeof u=="function"?u(l):u}function kp(l){var u=Zr(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=Ot,_=v.baseQueue,T=m.pending;if(T!==null){if(_!==null){var C=_.next;_.next=T.next,T.next=C}v.baseQueue=_=T,m.pending=null}if(_!==null){T=_.next,v=v.baseState;var I=C=null,D=null,H=T;do{var Y=H.lane;if((Qs&Y)===Y)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),v=H.hasEagerState?H.eagerState:l(v,H.action);else{var ae={lane:Y,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(I=D=ae,C=v):D=D.next=ae,at.lanes|=Y,Ks|=Y}H=H.next}while(H!==null&&H!==T);D===null?C=v:D.next=I,pn(v,u.memoizedState)||(_r=!0),u.memoizedState=v,u.baseState=C,u.baseQueue=D,m.lastRenderedState=v}if((l=m.interleaved)!==null){_=l;do T=_.lane,at.lanes|=T,Ks|=T,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Np(l){var u=Zr(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=m.dispatch,_=m.pending,T=u.memoizedState;if(_!==null){m.pending=null;var C=_=_.next;do T=l(T,C.action),C=C.next;while(C!==_);pn(T,u.memoizedState)||(_r=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,v]}function B_(){}function U_(l,u){var m=at,v=Zr(),_=u(),T=!pn(v.memoizedState,_);if(T&&(v.memoizedState=_,_r=!0),v=v.queue,Op(H_.bind(null,m,v,l),[l]),v.getSnapshot!==u||T||Ft!==null&&1&Ft.memoizedState.tag){if(m.flags|=2048,wl(9,z_.bind(null,m,v,_,u),void 0,null),Lt===null)throw Error(s(349));30&Qs||G_(m,u,_)}return _}function G_(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=at.updateQueue)===null?(u={lastEffect:null,stores:null},at.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function z_(l,u,m,v){u.value=m,u.getSnapshot=v,$_(u)&&j_(l)}function H_(l,u,m){return m(function(){$_(u)&&j_(l)})}function $_(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!pn(l,m)}catch{return!0}}function j_(l){var u=Hn(l,1);u!==null&&Jr(u,l,1,-1)}function V_(l){var u=jn();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:l},u.queue=l,l=l.dispatch=pI.bind(null,at,l),[u.memoizedState,l]}function wl(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=at.updateQueue)===null?(u={lastEffect:null,stores:null},at.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function W_(){return Zr().memoizedState}function bc(l,u,m,v){var _=jn();at.flags|=l,_.memoizedState=wl(1|u,m,void 0,v===void 0?null:v)}function Ec(l,u,m,v){var _=Zr();v=v===void 0?null:v;var T=void 0;if(Ot!==null){var C=Ot.memoizedState;if(T=C.destroy,v!==null&&Ip(v,C.deps))return void(_.memoizedState=wl(u,m,T,v))}at.flags|=l,_.memoizedState=wl(1|u,m,T,v)}function X_(l,u){return bc(8390656,8,l,u)}function Op(l,u){return Ec(2048,8,l,u)}function Y_(l,u){return Ec(4,2,l,u)}function q_(l,u){return Ec(4,4,l,u)}function Q_(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function K_(l,u,m){return m=m!=null?m.concat([l]):null,Ec(4,4,Q_.bind(null,u,l),m)}function Fp(){}function Z_(l,u){var m=Zr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Ip(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function J_(l,u){var m=Zr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Ip(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function e1(l,u,m){return 21&Qs?(pn(m,u)||(m=m_(),at.lanes|=m,Ks|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,_r=!0),l.memoizedState=m)}function dI(l,u){var m=Ue;Ue=m!==0&&4>m?m:4,l(!0);var v=Pp.transition;Pp.transition={};try{l(!1),u()}finally{Ue=m,Pp.transition=v}}function t1(){return Zr().memoizedState}function fI(l,u,m){var v=ts(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},r1(l)?n1(u,m):(m=A_(l,u,m,v))!==null&&(Jr(m,l,v,rr()),i1(m,u,v))}function pI(l,u,m){var v=ts(l),_={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(r1(l))n1(u,_);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=T(C,m);if(_.hasEagerState=!0,_.eagerState=I,pn(I,C)){var D=u.interleaved;return D===null?(_.next=_,xp(u)):(_.next=D.next,D.next=_),void(u.interleaved=_)}}catch{}(m=A_(l,u,_,v))!==null&&(Jr(m,l,v,_=rr()),i1(m,u,v))}}function r1(l){var u=l.alternate;return l===at||u!==null&&u===at}function n1(l,u){yl=wc=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function i1(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,ap(l,m)}}var Sc={readContext:Qr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},mI={readContext:Qr,useCallback:function(l,u){return jn().memoizedState=[l,u===void 0?null:u],l},useContext:Qr,useEffect:X_,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,bc(4194308,4,Q_.bind(null,u,l),m)},useLayoutEffect:function(l,u){return bc(4194308,4,l,u)},useInsertionEffect:function(l,u){return bc(4,2,l,u)},useMemo:function(l,u){var m=jn();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=jn();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=fI.bind(null,at,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},jn().memoizedState=l},useState:V_,useDebugValue:Fp,useDeferredValue:function(l){return jn().memoizedState=l},useTransition:function(){var l=V_(!1),u=l[0];return l=dI.bind(null,l[1]),jn().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=at,_=jn();if(nt){if(m===void 0)throw Error(s(407));m=m()}else{if(m=u(),Lt===null)throw Error(s(349));30&Qs||G_(v,u,m)}_.memoizedState=m;var T={value:m,getSnapshot:u};return _.queue=T,X_(H_.bind(null,v,T,l),[l]),v.flags|=2048,wl(9,z_.bind(null,v,T,m,u),void 0,null),m},useId:function(){var l=jn(),u=Lt.identifierPrefix;if(nt){var m=xi;u=":"+u+"R"+(m=(zn&~(1<<32-fn(zn)-1)).toString(32)+m),0<(m=_l++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=hI++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},gI={readContext:Qr,useCallback:Z_,useContext:Qr,useEffect:Op,useImperativeHandle:K_,useInsertionEffect:Y_,useLayoutEffect:q_,useMemo:J_,useReducer:kp,useRef:W_,useState:function(){return kp(xl)},useDebugValue:Fp,useDeferredValue:function(l){return e1(Zr(),Ot.memoizedState,l)},useTransition:function(){return[kp(xl)[0],Zr().memoizedState]},useMutableSource:B_,useSyncExternalStore:U_,useId:t1,unstable_isNewReconciler:!1},vI={readContext:Qr,useCallback:Z_,useContext:Qr,useEffect:Op,useImperativeHandle:K_,useInsertionEffect:Y_,useLayoutEffect:q_,useMemo:J_,useReducer:Np,useRef:W_,useState:function(){return Np(xl)},useDebugValue:Fp,useDeferredValue:function(l){var u=Zr();return Ot===null?u.memoizedState=l:e1(u,Ot.memoizedState,l)},useTransition:function(){return[Np(xl)[0],Zr().memoizedState]},useMutableSource:B_,useSyncExternalStore:U_,useId:t1,unstable_isNewReconciler:!1};function Yo(l,u){try{var m="",v=u;do m+=cI(v),v=v.return;while(v);var _=m}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:_,digest:null}}function Lp(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Dp(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var yI=typeof WeakMap=="function"?WeakMap:Map;function s1(l,u,m){(m=wi(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Bc||(Bc=!0,rm=v),Dp(0,u)},m}function o1(l,u,m){(m=wi(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;m.payload=function(){return v(_)},m.callback=function(){Dp(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Dp(0,u),typeof v!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),m}function a1(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new yI;var _=new Set;v.set(u,_)}else(_=v.get(u))===void 0&&(_=new Set,v.set(u,_));_.has(m)||(_.add(m),l=CI.bind(null,l,u,m),u.then(l,l))}function l1(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function u1(l,u,m,v,_){return 1&l.mode?(l.flags|=65536,l.lanes=_,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=wi(-1,1)).tag=2,Ki(m,u,1))),m.lanes|=1),l)}var _I=o.ReactCurrentOwner,_r=!1;function xr(l,u,m,v){u.child=l===null?L_(u,null,m,v):Vo(u,l.child,m,v)}function c1(l,u,m,v,_){m=m.render;var T=u.ref;return jo(u,_),v=Rp(l,u,m,v,T,_),m=Mp(),l===null||_r?(nt&&m&&hp(u),u.flags|=1,xr(l,u,v,_),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~_,bi(l,u,_))}function h1(l,u,m,v,_){if(l===null){var T=m.type;return typeof T!="function"||lm(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=jc(m.type,null,v,u,u.mode,_)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,d1(l,u,T,v,_))}if(T=l.child,(l.lanes&_)==0){var C=T.memoizedProps;if((m=(m=m.compare)!==null?m:dc)(C,v)&&l.ref===u.ref)return bi(l,u,_)}return u.flags|=1,(l=ns(T,v)).ref=u.ref,l.return=u,u.child=l}function d1(l,u,m,v,_){if(l!==null){var T=l.memoizedProps;if(dc(T,v)&&l.ref===u.ref){if(_r=!1,u.pendingProps=v=T,(l.lanes&_)==0)return u.lanes=l.lanes,bi(l,u,_);131072&l.flags&&(_r=!0)}}return Bp(l,u,m,v,_)}function f1(l,u,m){var v=u.pendingProps,_=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Qo,kr),kr|=m;else{if(!(1073741824&m))return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ye(Qo,kr),kr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:m,Ye(Qo,kr),kr|=v}else T!==null?(v=T.baseLanes|m,u.memoizedState=null):v=m,Ye(Qo,kr),kr|=v;return xr(l,u,_,m),u.child}function p1(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Bp(l,u,m,v,_){var T=Rr(m)?Ws:Jt.current;return T=Uo(u,T),jo(u,_),m=Rp(l,u,m,v,T,_),v=Mp(),l===null||_r?(nt&&v&&hp(u),u.flags|=1,xr(l,u,m,_),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~_,bi(l,u,_))}function m1(l,u,m,v,_){if(Rr(m)){var T=!0;sc(u)}else T=!1;if(jo(u,_),u.stateNode===null)Pc(l,u),k_(u,m,v),Ep(u,m,v,_),v=!0;else if(l===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var D=C.context,H=m.contextType;typeof H=="object"&&H!==null?H=Qr(H):H=Uo(u,H=Rr(m)?Ws:Jt.current);var Y=m.getDerivedStateFromProps,ae=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==v||D!==H)&&N_(u,C,v,H),Qi=!1;var X=u.memoizedState;C.state=X,gc(u,v,C,_),D=u.memoizedState,I!==v||X!==D||yr.current||Qi?(typeof Y=="function"&&(bp(u,m,Y,v),D=u.memoizedState),(I=Qi||M_(u,m,I,v,X,D,H))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=D),C.props=v,C.state=D,C.context=H,v=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,C_(l,u),I=u.memoizedProps,H=u.type===u.elementType?I:gn(u.type,I),C.props=H,ae=u.pendingProps,X=C.context,typeof(D=m.contextType)=="object"&&D!==null?D=Qr(D):D=Uo(u,D=Rr(m)?Ws:Jt.current);var ie=m.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==ae||X!==D)&&N_(u,C,v,D),Qi=!1,X=u.memoizedState,C.state=X,gc(u,v,C,_);var pe=u.memoizedState;I!==ae||X!==pe||yr.current||Qi?(typeof ie=="function"&&(bp(u,m,ie,v),pe=u.memoizedState),(H=Qi||M_(u,m,H,v,X,pe,D)||!1)?(Y||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,pe,D),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,pe,D)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&X===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&X===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=pe),C.props=v,C.state=pe,C.context=D,v=H):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&X===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&X===l.memoizedState||(u.flags|=1024),v=!1)}return Up(l,u,m,v,T,_)}function Up(l,u,m,v,_,T){p1(l,u);var C=(128&u.flags)!=0;if(!v&&!C)return _&&p_(u,m,!1),bi(l,u,T);v=u.stateNode,_I.current=u;var I=C&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&C?(u.child=Vo(u,l.child,null,T),u.child=Vo(u,null,I,T)):xr(l,u,I,T),u.memoizedState=v.state,_&&p_(u,m,!0),u.child}function g1(l){var u=l.stateNode;u.pendingContext?d_(0,u.pendingContext,u.pendingContext!==u.context):u.context&&d_(0,u.context,!1),Sp(l,u.containerInfo)}function v1(l,u,m,v,_){return Ho(),mp(_),u.flags|=256,xr(l,u,m,v),u.child}var bl,El,Tc,Ac,Gp={dehydrated:null,treeContext:null,retryLane:0};function zp(l){return{baseLanes:l,cachePool:null,transitions:null}}function y1(l,u,m){var v,_=u.pendingProps,T=pt.current,C=!1,I=(128&u.flags)!=0;if((v=I)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),Ye(pt,1&T),l===null)return pp(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?Zf(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=_.children,l=_.fallback,C?(_=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&_)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=Vc(I,_,0,null),l=eo(l,_,m,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=zp(m),u.memoizedState=Gp,l):Hp(u,I));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return function(H,Y,ae,X,ie,pe,Ie){if(ae)return 256&Y.flags?(Y.flags&=-257,Cc(H,Y,Ie,X=Lp(Error(s(422))))):Y.memoizedState!==null?(Y.child=H.child,Y.flags|=128,null):(pe=X.fallback,ie=Y.mode,X=Vc({mode:"visible",children:X.children},ie,0,null),(pe=eo(pe,ie,Ie,null)).flags|=2,X.return=Y,pe.return=Y,X.sibling=pe,Y.child=X,1&Y.mode&&Vo(Y,H.child,null,Ie),Y.child.memoizedState=zp(Ie),Y.memoizedState=Gp,pe);if(!(1&Y.mode))return Cc(H,Y,Ie,null);if(Zf(ie))return X=UP(ie).digest,pe=Error(s(419)),X=Lp(pe,X,void 0),Cc(H,Y,Ie,X);if(ae=(Ie&H.childLanes)!=0,_r||ae){if((X=Lt)!==null){switch(Ie&-Ie){case 4:ie=2;break;case 16:ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ie=32;break;case 536870912:ie=268435456;break;default:ie=0}(ie=ie&(X.suspendedLanes|Ie)?0:ie)!==0&&ie!==pe.retryLane&&(pe.retryLane=ie,Hn(H,ie),Jr(X,H,ie,-1))}return am(),Cc(H,Y,Ie,X=Lp(Error(s(421))))}return h_(ie)?(Y.flags|=128,Y.child=H.child,Y=PI.bind(null,H),GP(ie,Y),null):(H=pe.treeContext,Be&&(qr=$P(ie),Mr=Y,nt=!0,mn=null,pl=!1,H!==null&&(Xr[Yr++]=zn,Xr[Yr++]=xi,Xr[Yr++]=Xs,zn=H.id,xi=H.overflow,Xs=Y)),Y=Hp(Y,X.children),Y.flags|=4096,Y)}(l,u,I,_,v,T,m);if(C){C=_.fallback,I=u.mode,v=(T=l.child).sibling;var D={mode:"hidden",children:_.children};return!(1&I)&&u.child!==T?((_=u.child).childLanes=0,_.pendingProps=D,u.deletions=null):(_=ns(T,D)).subtreeFlags=14680064&T.subtreeFlags,v!==null?C=ns(v,C):(C=eo(C,I,m,null)).flags|=2,C.return=u,_.return=u,_.sibling=C,u.child=_,_=C,C=u.child,I=(I=l.child.memoizedState)===null?zp(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~m,u.memoizedState=Gp,_}return l=(C=l.child).sibling,_=ns(C,{mode:"visible",children:_.children}),!(1&u.mode)&&(_.lanes=m),_.return=u,_.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=_,u.memoizedState=null,_}function Hp(l,u){return(u=Vc({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Cc(l,u,m,v){return v!==null&&mp(v),Vo(u,l.child,null,m),(l=Hp(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function _1(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),_p(l.return,u,m)}function $p(l,u,m,v,_){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=_)}function x1(l,u,m){var v=u.pendingProps,_=v.revealOrder,T=v.tail;if(xr(l,u,v.children,m),(2&(v=pt.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_1(l,m,u);else if(l.tag===19)_1(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Ye(pt,v),(1&u.mode)==0)u.memoizedState=null;else switch(_){case"forwards":for(m=u.child,_=null;m!==null;)(l=m.alternate)!==null&&_c(l)===null&&(_=m),m=m.sibling;(m=_)===null?(_=u.child,u.child=null):(_=m.sibling,m.sibling=null),$p(u,!1,_,m,T);break;case"backwards":for(m=null,_=u.child,u.child=null;_!==null;){if((l=_.alternate)!==null&&_c(l)===null){u.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}$p(u,!0,m,null,T);break;case"together":$p(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Pc(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function bi(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Ks|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(m=ns(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=ns(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Vn(l){l.flags|=4}function w1(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Me)bl=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)ee(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},El=function(){},Tc=function(l,u,m,v,_){if((l=l.memoizedProps)!==v){var T=u.stateNode,C=$n(Kr.current);m=Ee(T,m,l,v,_,C),(u.updateQueue=m)&&Vn(u)}},Ac=function(l,u,m,v){m!==v&&Vn(u)};else if(Ke){bl=function(l,u,m,v){for(var _=u.child;_!==null;){if(_.tag===5){var T=_.stateNode;m&&v&&(T=u_(T,_.type,_.memoizedProps,_)),ee(l,T)}else if(_.tag===6)T=_.stateNode,m&&v&&(T=c_(T,_.memoizedProps,_)),ee(l,T);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(T=_.child)!==null&&(T.return=_),bl(l,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var b1=function(l,u,m,v){for(var _=u.child;_!==null;){if(_.tag===5){var T=_.stateNode;m&&v&&(T=u_(T,_.type,_.memoizedProps,_)),l_(l,T)}else if(_.tag===6)T=_.stateNode,m&&v&&(T=c_(T,_.memoizedProps,_)),l_(l,T);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(T=_.child)!==null&&(T.return=_),b1(l,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};El=function(l,u){var m=u.stateNode;if(!w1(l,u)){l=m.containerInfo;var v=a_(l);b1(v,u,!1,!1),m.pendingChildren=v,Vn(u),FP(l,v)}},Tc=function(l,u,m,v,_){var T=l.stateNode,C=l.memoizedProps;if((l=w1(l,u))&&C===v)u.stateNode=T;else{var I=u.stateNode,D=$n(Kr.current),H=null;C!==v&&(H=Ee(I,m,C,v,_,D)),l&&H===null?u.stateNode=T:(T=OP(T,H,m,C,v,u,l,I),Te(T,m,v,_,D)&&Vn(u),u.stateNode=T,l?Vn(u):bl(T,u,!1,!1))}},Ac=function(l,u,m,v){m!==v?(l=$n(Wo.current),m=$n(Kr.current),u.stateNode=Re(v,l,m,u),Vn(u)):u.stateNode=l.stateNode}}else El=function(){},Tc=function(){},Ac=function(){};function Sl(l,u){if(!nt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function cr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=14680064&_.subtreeFlags,v|=14680064&_.flags,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function xI(l,u,m){var v=u.pendingProps;switch(dp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(u),null;case 1:case 17:return Rr(u.type)&&rp(),cr(u),null;case 3:return m=u.stateNode,Xo(),rt(yr),rt(Jt),Cp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(hc(u)?Vn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,mn!==null&&(sm(mn),mn=null))),El(l,u),cr(u),null;case 5:Tp(u),m=$n(Wo.current);var _=u.type;if(l!==null&&u.stateNode!=null)Tc(l,u,_,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(s(166));return cr(u),null}if(l=$n(Kr.current),hc(u)){if(!Be)throw Error(s(175));l=jP(u.stateNode,u.type,u.memoizedProps,m,l,u,!pl),u.updateQueue=l,l!==null&&Vn(u)}else{var T=U(_,v,m,l,u);bl(T,u,!1,!1),u.stateNode=T,Te(T,_,v,m,l)&&Vn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return cr(u),null;case 6:if(l&&u.stateNode!=null)Ac(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(s(166));if(l=$n(Wo.current),m=$n(Kr.current),hc(u)){if(!Be)throw Error(s(176));if(l=u.stateNode,m=u.memoizedProps,(v=VP(l,m,u,!pl))&&(_=Mr)!==null)switch(_.tag){case 3:JP(_.stateNode.containerInfo,l,m,(1&_.mode)!=0);break;case 5:eI(_.type,_.memoizedProps,_.stateNode,l,m,(1&_.mode)!=0)}v&&Vn(u)}else u.stateNode=Re(v,l,m,u)}return cr(u),null;case 13:if(rt(pt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(nt&&qr!==null&&1&u.mode&&!(128&u.flags))S_(),Ho(),u.flags|=98560,_=!1;else if(_=hc(u),v!==null&&v.dehydrated!==null){if(l===null){if(!_)throw Error(s(318));if(!Be)throw Error(s(344));if(!(_=(_=u.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));WP(_,u)}else Ho(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;cr(u),_=!1}else mn!==null&&(sm(mn),mn=null),_=!0;if(!_)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&pt.current?At===0&&(At=3):am())),u.updateQueue!==null&&(u.flags|=4),cr(u),null);case 4:return Xo(),El(l,u),l===null&&Wr(u.stateNode.containerInfo),cr(u),null;case 10:return yp(u.type._context),cr(u),null;case 19:if(rt(pt),(_=u.memoizedState)===null)return cr(u),null;if(v=(128&u.flags)!=0,(T=_.rendering)===null)if(v)Sl(_,!1);else{if(At!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((T=_c(l))!==null){for(u.flags|=128,Sl(_,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)_=l,(v=m).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=_,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,_=T.dependencies,v.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),m=m.sibling;return Ye(pt,1&pt.current|2),u.child}l=l.sibling}_.tail!==null&&Nt()>tm&&(u.flags|=128,v=!0,Sl(_,!1),u.lanes=4194304)}else{if(!v)if((l=_c(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Sl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!nt)return cr(u),null}else 2*Nt()-_.renderingStartTime>tm&&m!==1073741824&&(u.flags|=128,v=!0,Sl(_,!1),u.lanes=4194304);_.isBackwards?(T.sibling=u.child,u.child=T):((l=_.last)!==null?l.sibling=T:u.child=T,_.last=T)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Nt(),u.sibling=null,l=pt.current,Ye(pt,v?1&l|2:1&l),u):(cr(u),null);case 22:case 23:return om(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&kr&&(cr(u),Me&&6&u.subtreeFlags&&(u.flags|=8192)):cr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function wI(l,u){switch(dp(u),u.tag){case 1:return Rr(u.type)&&rp(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Xo(),rt(yr),rt(Jt),Cp(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Tp(u),null;case 13:if(rt(pt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Ho()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return rt(pt),null;case 4:return Xo(),null;case 10:return yp(u.type._context),null;case 22:case 23:return om(),null;default:return null}}var Ic=!1,tr=!1,bI=typeof WeakSet=="function"?WeakSet:Set,de=null;function qo(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){it(l,u,v)}else m.current=null}function E1(l,u,m){try{m()}catch(v){it(l,u,v)}}var S1=!1;function Tl(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var _=v=v.next;do{if((_.tag&l)===l){var T=_.destroy;_.destroy=void 0,T!==void 0&&E1(u,m,T)}_=_.next}while(_!==v)}}function Rc(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function jp(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=J(m):l=m,typeof u=="function"?u(l):u.current=l}}function T1(l){var u=l.alternate;u!==null&&(l.alternate=null,T1(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Qf(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function A1(l){return l.tag===5||l.tag===3||l.tag===4}function C1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||A1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Vp(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?AP(m,l,u):wP(m,l);else if(v!==4&&(l=l.child)!==null)for(Vp(l,u,m),l=l.sibling;l!==null;)Vp(l,u,m),l=l.sibling}function Wp(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?TP(m,l,u):xP(m,l);else if(v!==4&&(l=l.child)!==null)for(Wp(l,u,m),l=l.sibling;l!==null;)Wp(l,u,m),l=l.sibling}var hr=null,Wn=!1;function Xn(l,u,m){for(m=m.child;m!==null;)Xp(l,u,m),m=m.sibling}function Xp(l,u,m){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(ac,m)}catch{}switch(m.tag){case 5:tr||qo(m,u);case 6:if(Me){var v=hr,_=Wn;hr=null,Xn(l,u,m),Wn=_,(hr=v)!==null&&(Wn?PP(hr,m.stateNode):CP(hr,m.stateNode))}else Xn(l,u,m);break;case 18:Me&&hr!==null&&(Wn?KP(hr,m.stateNode):QP(hr,m.stateNode));break;case 4:Me?(v=hr,_=Wn,hr=m.stateNode.containerInfo,Wn=!0,Xn(l,u,m),hr=v,Wn=_):(Ke&&(v=m.stateNode.containerInfo,_=a_(v),Kf(v,_)),Xn(l,u,m));break;case 0:case 11:case 14:case 15:if(!tr&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){_=v=v.next;do{var T=_,C=T.destroy;T=T.tag,C!==void 0&&(2&T||4&T)&&E1(m,u,C),_=_.next}while(_!==v)}Xn(l,u,m);break;case 1:if(!tr&&(qo(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(I){it(m,u,I)}Xn(l,u,m);break;case 21:Xn(l,u,m);break;case 22:1&m.mode?(tr=(v=tr)||m.memoizedState!==null,Xn(l,u,m),tr=v):Xn(l,u,m);break;default:Xn(l,u,m)}}function P1(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new bI),u.forEach(function(v){var _=II.bind(null,l,v);m.has(v)||(m.add(v),v.then(_,_))})}}function vn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v];try{var T=l,C=u;if(Me){var I=C;e:for(;I!==null;){switch(I.tag){case 5:hr=I.stateNode,Wn=!1;break e;case 3:case 4:hr=I.stateNode.containerInfo,Wn=!0;break e}I=I.return}if(hr===null)throw Error(s(160));Xp(T,C,_),hr=null,Wn=!1}else Xp(T,C,_);var D=_.alternate;D!==null&&(D.return=null),_.return=null}catch(H){it(_,u,H)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)I1(u,l),u=u.sibling}function I1(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(vn(u,l),Yn(l),4&v){try{Tl(3,l,l.return),Rc(3,l)}catch(X){it(l,l.return,X)}try{Tl(5,l,l.return)}catch(X){it(l,l.return,X)}}break;case 1:vn(u,l),Yn(l),512&v&&m!==null&&qo(m,m.return);break;case 5:if(vn(u,l),Yn(l),512&v&&m!==null&&qo(m,m.return),Me){if(32&l.flags){var _=l.stateNode;try{o_(_)}catch(X){it(l,l.return,X)}}if(4&v&&(_=l.stateNode)!=null){var T=l.memoizedProps;if(m=m!==null?m.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{SP(_,u,v,m,T,l)}catch(X){it(l,l.return,X)}}}break;case 6:if(vn(u,l),Yn(l),4&v&&Me){if(l.stateNode===null)throw Error(s(162));_=l.stateNode,T=l.memoizedProps,m=m!==null?m.memoizedProps:T;try{bP(_,m,T)}catch(X){it(l,l.return,X)}}break;case 3:if(vn(u,l),Yn(l),4&v){if(Me&&Be&&m!==null&&m.memoizedState.isDehydrated)try{YP(u.containerInfo)}catch(X){it(l,l.return,X)}if(Ke){_=u.containerInfo,T=u.pendingChildren;try{Kf(_,T)}catch(X){it(l,l.return,X)}}}break;case 4:if(vn(u,l),Yn(l),4&v&&Ke){_=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Kf(_,T)}catch(X){it(l,l.return,X)}}break;case 13:vn(u,l),Yn(l),8192&(_=l.child).flags&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(em=Nt())),4&v&&P1(l);break;case 22:var C=m!==null&&m.memoizedState!==null;if(1&l.mode?(tr=(m=tr)||C,vn(u,l),tr=m):vn(u,l),Yn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!C&&(1&l.mode)!=0)for(de=l,v=l.child;v!==null;){for(u=de=v;de!==null;){var I=(C=de).child;switch(C.tag){case 0:case 11:case 14:case 15:Tl(4,C,C.return);break;case 1:qo(C,C.return);var D=C.stateNode;if(typeof D.componentWillUnmount=="function"){var H=C,Y=C.return;try{var ae=H;D.props=ae.memoizedProps,D.state=ae.memoizedState,D.componentWillUnmount()}catch(X){it(H,Y,X)}}break;case 5:qo(C,C.return);break;case 22:if(C.memoizedState!==null){k1(u);continue}}I!==null?(I.return=C,de=I):k1(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{_=u.stateNode,m?IP(_):MP(u.stateNode,u.memoizedProps)}catch(X){it(l,l.return,X)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,m?RP(T):kP(T,u.memoizedProps)}catch(X){it(l,l.return,X)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:vn(u,l),Yn(l),4&v&&P1(l);break;case 21:break;default:vn(u,l),Yn(l)}}function Yn(l){var u=l.flags;if(2&u){try{if(Me){e:{for(var m=l.return;m!==null;){if(A1(m)){var v=m;break e}m=m.return}throw Error(s(160))}switch(v.tag){case 5:var _=v.stateNode;32&v.flags&&(o_(_),v.flags&=-33),Wp(l,C1(l),_);break;case 3:case 4:var T=v.stateNode.containerInfo;Vp(l,C1(l),T);break;default:throw Error(s(161))}}}catch(C){it(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function EI(l,u,m){de=l,R1(l)}function R1(l,u,m){for(var v=(1&l.mode)!=0;de!==null;){var _=de,T=_.child;if(_.tag===22&&v){var C=_.memoizedState!==null||Ic;if(!C){var I=_.alternate,D=I!==null&&I.memoizedState!==null||tr;I=Ic;var H=tr;if(Ic=C,(tr=D)&&!H)for(de=_;de!==null;)D=(C=de).child,C.tag===22&&C.memoizedState!==null?N1(_):D!==null?(D.return=C,de=D):N1(_);for(;T!==null;)de=T,R1(T),T=T.sibling;de=_,Ic=I,tr=H}M1(l)}else 8772&_.subtreeFlags&&T!==null?(T.return=_,de=T):M1(l)}}function M1(l){for(;de!==null;){var u=de;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:tr||Rc(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!tr)if(m===null)v.componentDidMount();else{var _=u.elementType===u.type?m.memoizedProps:gn(u.type,m.memoizedProps);v.componentDidUpdate(_,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&I_(u,T,v);break;case 3:var C=u.updateQueue;if(C!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=J(u.child.stateNode);break;case 1:m=u.child.stateNode}I_(u,C,m)}break;case 5:var I=u.stateNode;m===null&&4&u.flags&&EP(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Be&&u.memoizedState===null){var D=u.alternate;if(D!==null){var H=D.memoizedState;if(H!==null){var Y=H.dehydrated;Y!==null&&qP(Y)}}}break;default:throw Error(s(163))}tr||512&u.flags&&jp(u)}catch(ae){it(u,u.return,ae)}}if(u===l){de=null;break}if((m=u.sibling)!==null){m.return=u.return,de=m;break}de=u.return}}function k1(l){for(;de!==null;){var u=de;if(u===l){de=null;break}var m=u.sibling;if(m!==null){m.return=u.return,de=m;break}de=u.return}}function N1(l){for(;de!==null;){var u=de;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Rc(4,u)}catch(D){it(u,m,D)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(D){it(u,_,D)}}var T=u.return;try{jp(u)}catch(D){it(u,T,D)}break;case 5:var C=u.return;try{jp(u)}catch(D){it(u,C,D)}}}catch(D){it(u,u.return,D)}if(u===l){de=null;break}var I=u.sibling;if(I!==null){I.return=u.return,de=I;break}de=u.return}}var Mc=0,kc=1,Nc=2,Oc=3,Fc=4;if(typeof Symbol=="function"&&Symbol.for){var Al=Symbol.for;Mc=Al("selector.component"),kc=Al("selector.has_pseudo_class"),Nc=Al("selector.role"),Oc=Al("selector.test_id"),Fc=Al("selector.text")}function Yp(l){var u=Vr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=pP(l))===null)throw Error(s(362));return l.stateNode.current}function qp(l,u){switch(u.$$typeof){case Mc:if(l.type===u.value)return!0;break;case kc:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],_=l[m++],T=u[_];if(v.tag!==5||!cl(v)){for(;T!=null&&qp(v,T);)T=u[++_];if(_===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,_),v=v.sibling}}u=!1}return u;case Nc:if(l.tag===5&&vP(l.stateNode,u.value))return!0;break;case Fc:if((l.tag===5||l.tag===6)&&(l=gP(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Oc:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Qp(l){switch(l.$$typeof){case Mc:return"<"+(N(l.value)||"Unknown")+">";case kc:return":has("+(Qp(l)||"")+")";case Nc:return'[role="'+l.value+'"]';case Fc:return'"'+l.value+'"';case Oc:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function O1(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var _=l[v++],T=l[v++],C=u[T];if(_.tag!==5||!cl(_)){for(;C!=null&&qp(_,C);)C=u[++T];if(T===u.length)m.push(_);else for(_=_.child;_!==null;)l.push(_,T),_=_.sibling}}return m}function Kp(l,u){if(!ul)throw Error(s(363));l=O1(l=Yp(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)cl(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var SI=Math.ceil,Lc=o.ReactCurrentDispatcher,Zp=o.ReactCurrentOwner,vt=o.ReactCurrentBatchConfig,Le=0,Lt=null,bt=null,Vt=0,kr=0,Qo=Yi(0),At=0,Cl=null,Ks=0,Dc=0,Jp=0,Pl=null,Nr=null,em=0,tm=1/0,Zi=null;function Ko(){tm=Nt()+500}var F1,Bc=!1,rm=null,Ji=null,Uc=!1,es=null,Gc=0,Il=0,nm=null,zc=-1,Hc=0;function rr(){return 6&Le?Nt():zc!==-1?zc:zc=Nt()}function ts(l){return 1&l.mode?2&Le&&Vt!==0?Vt&-Vt:uI.transition!==null?(Hc===0&&(Hc=m_()),Hc):(l=Ue)!==0?l:Vs():1}function Jr(l,u,m,v){if(50<Il)throw Il=0,nm=null,Error(s(185));fl(l,m,v),2&Le&&l===Lt||(l===Lt&&(!(2&Le)&&(Dc|=m),At===4&&rs(l,Vt)),wr(l,v),m===1&&Le===0&&!(1&u.mode)&&(Ko(),lc&&Gn()))}function wr(l,u){var m=l.callbackNode;(function(_,T){for(var C=_.suspendedLanes,I=_.pingedLanes,D=_.expirationTimes,H=_.pendingLanes;0<H;){var Y=31-fn(H),ae=1<<Y,X=D[Y];X===-1?ae&C&&!(ae&I)||(D[Y]=iI(ae,T)):X<=T&&(_.expiredLanes|=ae),H&=~ae}})(l,u);var v=oc(l,l===Lt?Vt:0);if(v===0)m!==null&&v_(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&v_(m),u===1)l.tag===0?function(_){lc=!0,__(_)}(D1.bind(null,l)):__(D1.bind(null,l)),Do?fP(function(){!(6&Le)&&Gn()}):lp(up,Gn),m=null;else{switch(g_(v)){case 1:m=up;break;case 4:m=aI;break;case 16:default:m=y_;break;case 536870912:m=lI}m=V1(m,L1.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function L1(l,u){if(zc=-1,Hc=0,(6&Le)!=0)throw Error(s(327));var m=l.callbackNode;if(Js()&&l.callbackNode!==m)return null;var v=oc(l,l===Lt?Vt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=$c(l,v);else{u=v;var _=Le;Le|=2;var T=G1();for(Lt===l&&Vt===u||(Zi=null,Ko(),Zs(l,u));;)try{AI();break}catch(I){U1(l,I)}vp(),Lc.current=T,Le=_,bt!==null?u=0:(Lt=null,Vt=0,u=At)}if(u!==0){if(u===2&&(_=sp(l))!==0&&(v=_,u=im(l,_)),u===1)throw m=Cl,Zs(l,0),rs(l,v),wr(l,Nt()),m;if(u===6)rs(l,v);else{if(_=l.current.alternate,(30&v)==0&&!function(I){for(var D=I;;){if(16384&D.flags){var H=D.updateQueue;if(H!==null&&(H=H.stores)!==null)for(var Y=0;Y<H.length;Y++){var ae=H[Y],X=ae.getSnapshot;ae=ae.value;try{if(!pn(X(),ae))return!1}catch{return!1}}}if(H=D.child,16384&D.subtreeFlags&&H!==null)H.return=D,D=H;else{if(D===I)break;for(;D.sibling===null;){if(D.return===null||D.return===I)return!0;D=D.return}D.sibling.return=D.return,D=D.sibling}}return!0}(_)&&((u=$c(l,v))===2&&(T=sp(l))!==0&&(v=T,u=im(l,T)),u===1))throw m=Cl,Zs(l,0),rs(l,v),wr(l,Nt()),m;switch(l.finishedWork=_,l.finishedLanes=v,u){case 0:case 1:throw Error(s(345));case 2:case 5:Zo(l,Nr,Zi);break;case 3:if(rs(l,v),(130023424&v)===v&&10<(u=em+500-Nt())){if(oc(l,0)!==0)break;if(((_=l.suspendedLanes)&v)!==v){rr(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=ze(Zo.bind(null,l,Nr,Zi),u);break}Zo(l,Nr,Zi);break;case 4:if(rs(l,v),(4194240&v)===v)break;for(u=l.eventTimes,_=-1;0<v;){var C=31-fn(v);T=1<<C,(C=u[C])>_&&(_=C),v&=~T}if(v=_,10<(v=(120>(v=Nt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*SI(v/1960))-v)){l.timeoutHandle=ze(Zo.bind(null,l,Nr,Zi),v);break}Zo(l,Nr,Zi);break;default:throw Error(s(329))}}}return wr(l,Nt()),l.callbackNode===m?L1.bind(null,l):null}function im(l,u){var m=Pl;return l.current.memoizedState.isDehydrated&&(Zs(l,u).flags|=256),(l=$c(l,u))!==2&&(u=Nr,Nr=m,u!==null&&sm(u)),l}function sm(l){Nr===null?Nr=l:Nr.push.apply(Nr,l)}function rs(l,u){for(u&=~Jp,u&=~Dc,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-fn(u),v=1<<m;l[m]=-1,u&=~v}}function D1(l){if(6&Le)throw Error(s(327));Js();var u=oc(l,0);if(!(1&u))return wr(l,Nt()),null;var m=$c(l,u);if(l.tag!==0&&m===2){var v=sp(l);v!==0&&(u=v,m=im(l,v))}if(m===1)throw m=Cl,Zs(l,0),rs(l,u),wr(l,Nt()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Zo(l,Nr,Zi),wr(l,Nt()),null}function B1(l){es!==null&&es.tag===0&&!(6&Le)&&Js();var u=Le;Le|=1;var m=vt.transition,v=Ue;try{if(vt.transition=null,Ue=1,l)return l()}finally{Ue=v,vt.transition=m,!(6&(Le=u))&&Gn()}}function om(){kr=Qo.current,rt(Qo)}function Zs(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==jt&&(l.timeoutHandle=jt,kt(m)),bt!==null)for(m=bt.return;m!==null;){var v=m;switch(dp(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&rp();break;case 3:Xo(),rt(yr),rt(Jt),Cp();break;case 5:Tp(v);break;case 4:Xo();break;case 13:case 19:rt(pt);break;case 10:yp(v.type._context);break;case 22:case 23:om()}m=m.return}if(Lt=l,bt=l=ns(l.current,null),Vt=kr=u,At=0,Cl=null,Jp=Dc=Ks=0,Nr=Pl=null,qs!==null){for(u=0;u<qs.length;u++)if((v=(m=qs[u]).interleaved)!==null){m.interleaved=null;var _=v.next,T=m.pending;if(T!==null){var C=T.next;T.next=_,v.next=C}m.pending=v}qs=null}return l}function U1(l,u){for(;;){var m=bt;try{if(vp(),xc.current=Sc,wc){for(var v=at.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}wc=!1}if(Qs=0,Ft=Ot=at=null,yl=!1,_l=0,Zp.current=null,m===null||m.return===null){At=1,Cl=u,bt=null;break}e:{var T=l,C=m.return,I=m,D=u;if(u=Vt,I.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,Y=I,ae=Y.tag;if(!(1&Y.mode)&&(ae===0||ae===11||ae===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=l1(C);if(ie!==null){ie.flags&=-257,u1(ie,C,I,0,u),1&ie.mode&&a1(T,H,u),D=H;var pe=(u=ie).updateQueue;if(pe===null){var Ie=new Set;Ie.add(D),u.updateQueue=Ie}else pe.add(D);break e}if(!(1&u)){a1(T,H,u),am();break e}D=Error(s(426))}else if(nt&&1&I.mode){var q=l1(C);if(q!==null){!(65536&q.flags)&&(q.flags|=256),u1(q,C,I,0,u),mp(Yo(D,I));break e}}T=D=Yo(D,I),At!==4&&(At=2),Pl===null?Pl=[T]:Pl.push(T),T=C;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,P_(T,s1(0,D,u));break e;case 1:I=D;var O=T.type,G=T.stateNode;if(!(128&T.flags)&&(typeof O.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ji===null||!Ji.has(G)))){T.flags|=65536,u&=-u,T.lanes|=u,P_(T,o1(T,I,u));break e}}T=T.return}while(T!==null)}H1(m)}catch(te){u=te,bt===m&&m!==null&&(bt=m=m.return);continue}break}}function G1(){var l=Lc.current;return Lc.current=Sc,l===null?Sc:l}function am(){At!==0&&At!==3&&At!==2||(At=4),Lt===null||!(268435455&Ks)&&!(268435455&Dc)||rs(Lt,Vt)}function $c(l,u){var m=Le;Le|=2;var v=G1();for(Lt===l&&Vt===u||(Zi=null,Zs(l,u));;)try{TI();break}catch(_){U1(l,_)}if(vp(),Le=m,Lc.current=v,bt!==null)throw Error(s(261));return Lt=null,Vt=0,At}function TI(){for(;bt!==null;)z1(bt)}function AI(){for(;bt!==null&&!sI();)z1(bt)}function z1(l){var u=F1(l.alternate,l,kr);l.memoizedProps=l.pendingProps,u===null?H1(l):bt=u,Zp.current=null}function H1(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=xI(m,u,kr))!==null)return void(bt=m)}else{if((m=wI(m,u))!==null)return m.flags&=32767,void(bt=m);if(l===null)return At=6,void(bt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(bt=u);bt=u=l}while(u!==null);At===0&&(At=5)}function Zo(l,u,m){var v=Ue,_=vt.transition;try{vt.transition=null,Ue=1,function(T,C,I,D){do Js();while(es!==null);if(6&Le)throw Error(s(327));I=T.finishedWork;var H=T.finishedLanes;if(I===null)return null;if(T.finishedWork=null,T.finishedLanes=0,I===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var Y=I.lanes|I.childLanes;if(function(ie,pe){var Ie=ie.pendingLanes&~pe;ie.pendingLanes=pe,ie.suspendedLanes=0,ie.pingedLanes=0,ie.expiredLanes&=pe,ie.mutableReadLanes&=pe,ie.entangledLanes&=pe,pe=ie.entanglements;var q=ie.eventTimes;for(ie=ie.expirationTimes;0<Ie;){var O=31-fn(Ie),G=1<<O;pe[O]=0,q[O]=-1,ie[O]=-1,Ie&=~G}}(T,Y),T===Lt&&(bt=Lt=null,Vt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Uc||(Uc=!0,V1(y_,function(){return Js(),null})),Y=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||Y){Y=vt.transition,vt.transition=null;var ae=Ue;Ue=1;var X=Le;Le|=4,Zp.current=null,function(ie,pe){for(W(ie.containerInfo),de=pe;de!==null;)if(pe=(ie=de).child,(1028&ie.subtreeFlags)!=0&&pe!==null)pe.return=ie,de=pe;else for(;de!==null;){ie=de;try{var Ie=ie.alternate;if(1024&ie.flags)switch(ie.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ie!==null){var q=Ie.memoizedProps,O=Ie.memoizedState,G=ie.stateNode,te=G.getSnapshotBeforeUpdate(ie.elementType===ie.type?q:gn(ie.type,q),O);G.__reactInternalSnapshotBeforeUpdate=te}break;case 3:Me&&NP(ie.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(xe){it(ie,ie.return,xe)}if((pe=ie.sibling)!==null){pe.return=ie.return,de=pe;break}de=ie.return}Ie=S1,S1=!1}(T,I),I1(I,T),L(T.containerInfo),T.current=I,EI(I),oI(),Le=X,Ue=ae,vt.transition=Y}else T.current=I;if(Uc&&(Uc=!1,es=T,Gc=H),Y=T.pendingLanes,Y===0&&(Ji=null),function(ie){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(ac,ie,void 0,(128&ie.current.flags)==128)}catch{}}(I.stateNode),wr(T,Nt()),C!==null)for(D=T.onRecoverableError,I=0;I<C.length;I++)H=C[I],D(H.value,{componentStack:H.stack,digest:H.digest});if(Bc)throw Bc=!1,T=rm,rm=null,T;1&Gc&&T.tag!==0&&Js(),Y=T.pendingLanes,1&Y?T===nm?Il++:(Il=0,nm=T):Il=0,Gn()}(l,u,m,v)}finally{vt.transition=_,Ue=v}return null}function Js(){if(es!==null){var l=g_(Gc),u=vt.transition,m=Ue;try{if(vt.transition=null,Ue=16>l?16:l,es===null)var v=!1;else{if(l=es,es=null,Gc=0,(6&Le)!=0)throw Error(s(331));var _=Le;for(Le|=4,de=l.current;de!==null;){var T=de,C=T.child;if(16&de.flags){var I=T.deletions;if(I!==null){for(var D=0;D<I.length;D++){var H=I[D];for(de=H;de!==null;){var Y=de;switch(Y.tag){case 0:case 11:case 15:Tl(8,Y,T)}var ae=Y.child;if(ae!==null)ae.return=Y,de=ae;else for(;de!==null;){var X=(Y=de).sibling,ie=Y.return;if(T1(Y),Y===H){de=null;break}if(X!==null){X.return=ie,de=X;break}de=ie}}}var pe=T.alternate;if(pe!==null){var Ie=pe.child;if(Ie!==null){pe.child=null;do{var q=Ie.sibling;Ie.sibling=null,Ie=q}while(Ie!==null)}}de=T}}if(2064&T.subtreeFlags&&C!==null)C.return=T,de=C;else e:for(;de!==null;){if(2048&(T=de).flags)switch(T.tag){case 0:case 11:case 15:Tl(9,T,T.return)}var O=T.sibling;if(O!==null){O.return=T.return,de=O;break e}de=T.return}}var G=l.current;for(de=G;de!==null;){var te=(C=de).child;if(2064&C.subtreeFlags&&te!==null)te.return=C,de=te;else e:for(C=G;de!==null;){if(2048&(I=de).flags)try{switch(I.tag){case 0:case 11:case 15:Rc(9,I)}}catch($e){it(I,I.return,$e)}if(I===C){de=null;break e}var xe=I.sibling;if(xe!==null){xe.return=I.return,de=xe;break e}de=I.return}}if(Le=_,Gn(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(ac,l)}catch{}v=!0}return v}finally{Ue=m,vt.transition=u}}return!1}function $1(l,u,m){l=Ki(l,u=s1(0,u=Yo(m,u),1),1),u=rr(),l!==null&&(fl(l,1,u),wr(l,u))}function it(l,u,m){if(l.tag===3)$1(l,l,m);else for(;u!==null;){if(u.tag===3){$1(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ji===null||!Ji.has(v))){u=Ki(u,l=o1(u,l=Yo(m,l),1),1),l=rr(),u!==null&&(fl(u,1,l),wr(u,l));break}}u=u.return}}function CI(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=rr(),l.pingedLanes|=l.suspendedLanes&m,Lt===l&&(Vt&m)===m&&(At===4||At===3&&(130023424&Vt)===Vt&&500>Nt()-em?Zs(l,0):Jp|=m),wr(l,u)}function j1(l,u){u===0&&(1&l.mode?(u=ip,!(130023424&(ip<<=1))&&(ip=4194304)):u=1);var m=rr();(l=Hn(l,u))!==null&&(fl(l,u,m),wr(l,m))}function PI(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),j1(l,m)}function II(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(s(314))}v!==null&&v.delete(u),j1(l,m)}function V1(l,u){return lp(l,u)}function RI(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(l,u,m,v){return new RI(l,u,m,v)}function lm(l){return!(!(l=l.prototype)||!l.isReactComponent)}function ns(l,u){var m=l.alternate;return m===null?((m=en(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function jc(l,u,m,v,_,T){var C=2;if(v=l,typeof l=="function")lm(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case d:return eo(m.children,_,T,u);case p:C=8,_|=8;break;case h:return(l=en(12,m,u,2|_)).elementType=h,l.lanes=T,l;case w:return(l=en(13,m,u,_)).elementType=w,l.lanes=T,l;case E:return(l=en(19,m,u,_)).elementType=E,l.lanes=T,l;case b:return Vc(m,_,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case f:C=10;break e;case g:C=9;break e;case y:C=11;break e;case x:C=14;break e;case S:C=16,v=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=en(C,m,u,_)).elementType=l,u.type=v,u.lanes=T,u}function eo(l,u,m,v){return(l=en(7,l,v,u)).lanes=m,l}function Vc(l,u,m,v){return(l=en(22,l,v,u)).elementType=b,l.lanes=m,l.stateNode={isHidden:!1},l}function um(l,u,m){return(l=en(6,l,null,u)).lanes=m,l}function cm(l,u,m){return(u=en(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function MI(l,u,m,v,_){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=v,this.onRecoverableError=_,Be&&(this.mutableSourceEagerHydrationData=null)}function W1(l,u,m,v,_,T,C,I,D){return l=new MI(l,u,m,I,D),u===1?(u=1,T===!0&&(u|=8)):u=0,T=en(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(T),l}function X1(l){if(!l)return qi;e:{if(R(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Rr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if(Rr(m))return f_(l,m,u)}return u}function Y1(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=K(u))===null?null:l.stateNode}function q1(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Wc(l,u){q1(l,u),(l=l.alternate)&&q1(l,u)}function kI(l){return(l=K(l))===null?null:l.stateNode}function NI(){return null}return F1=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||yr.current)_r=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return _r=!1,function(ae,X,ie){switch(X.tag){case 3:g1(X),Ho();break;case 5:D_(X);break;case 1:Rr(X.type)&&sc(X);break;case 4:Sp(X,X.stateNode.containerInfo);break;case 10:T_(0,X.type._context,X.memoizedProps.value);break;case 13:var pe=X.memoizedState;if(pe!==null)return pe.dehydrated!==null?(Ye(pt,1&pt.current),X.flags|=128,null):ie&X.child.childLanes?y1(ae,X,ie):(Ye(pt,1&pt.current),(ae=bi(ae,X,ie))!==null?ae.sibling:null);Ye(pt,1&pt.current);break;case 19:if(pe=(ie&X.childLanes)!=0,(128&ae.flags)!=0){if(pe)return x1(ae,X,ie);X.flags|=128}var Ie=X.memoizedState;if(Ie!==null&&(Ie.rendering=null,Ie.tail=null,Ie.lastEffect=null),Ye(pt,pt.current),pe)break;return null;case 22:case 23:return X.lanes=0,f1(ae,X,ie)}return bi(ae,X,ie)}(l,u,m);_r=(131072&l.flags)!=0}else _r=!1,nt&&1048576&u.flags&&x_(u,cc,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Pc(l,u),l=u.pendingProps;var _=Uo(u,Jt.current);jo(u,m),_=Rp(null,u,v,l,_,m);var T=Mp();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Rr(v)?(T=!0,sc(u)):T=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,wp(u),_.updater=vc,u.stateNode=_,_._reactInternals=u,Ep(u,v,l,m),u=Up(null,u,v,!0,T,m)):(u.tag=0,nt&&T&&hp(u),xr(null,u,_,m),u=u.child),u;case 16:v=u.elementType;e:{switch(Pc(l,u),l=u.pendingProps,v=(_=v._init)(v._payload),u.type=v,_=u.tag=function(ae){if(typeof ae=="function")return lm(ae)?1:0;if(ae!=null){if((ae=ae.$$typeof)===y)return 11;if(ae===x)return 14}return 2}(v),l=gn(v,l),_){case 0:u=Bp(null,u,v,l,m);break e;case 1:u=m1(null,u,v,l,m);break e;case 11:u=c1(null,u,v,l,m);break e;case 14:u=h1(null,u,v,gn(v.type,l),m);break e}throw Error(s(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,Bp(l,u,v,_=u.elementType===v?_:gn(v,_),m);case 1:return v=u.type,_=u.pendingProps,m1(l,u,v,_=u.elementType===v?_:gn(v,_),m);case 3:e:{if(g1(u),l===null)throw Error(s(387));v=u.pendingProps,_=(T=u.memoizedState).element,C_(l,u),gc(u,v,null,m);var C=u.memoizedState;if(v=C.element,Be&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=v1(l,u,v,m,_=Yo(Error(s(423)),u));break e}if(v!==_){u=v1(l,u,v,m,_=Yo(Error(s(424)),u));break e}for(Be&&(qr=HP(u.stateNode.containerInfo),Mr=u,nt=!0,mn=null,pl=!1),m=L_(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Ho(),v===_){u=bi(l,u,m);break e}xr(l,u,v,m)}u=u.child}return u;case 5:return D_(u),l===null&&pp(u),v=u.type,_=u.pendingProps,T=l!==null?l.memoizedProps:null,C=_.children,He(v,_)?C=null:T!==null&&He(v,T)&&(u.flags|=32),p1(l,u),xr(l,u,C,m),u.child;case 6:return l===null&&pp(u),null;case 13:return y1(l,u,m);case 4:return Sp(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Vo(u,null,v,m):xr(l,u,v,m),u.child;case 11:return v=u.type,_=u.pendingProps,c1(l,u,v,_=u.elementType===v?_:gn(v,_),m);case 7:return xr(l,u,u.pendingProps,m),u.child;case 8:case 12:return xr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,T=u.memoizedProps,T_(0,v,C=_.value),T!==null)if(pn(T.value,C)){if(T.children===_.children&&!yr.current){u=bi(l,u,m);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var I=T.dependencies;if(I!==null){C=T.child;for(var D=I.firstContext;D!==null;){if(D.context===v){if(T.tag===1){(D=wi(-1,m&-m)).tag=2;var H=T.updateQueue;if(H!==null){var Y=(H=H.shared).pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),H.pending=D}}T.lanes|=m,(D=T.alternate)!==null&&(D.lanes|=m),_p(T.return,m,u),I.lanes|=m;break}D=D.next}}else if(T.tag===10)C=T.type===u.type?null:T.child;else if(T.tag===18){if((C=T.return)===null)throw Error(s(341));C.lanes|=m,(I=C.alternate)!==null&&(I.lanes|=m),_p(C,m,u),C=T.sibling}else C=T.child;if(C!==null)C.return=T;else for(C=T;C!==null;){if(C===u){C=null;break}if((T=C.sibling)!==null){T.return=C.return,C=T;break}C=C.return}T=C}xr(l,u,_.children,m),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,jo(u,m),v=v(_=Qr(_)),u.flags|=1,xr(l,u,v,m),u.child;case 14:return _=gn(v=u.type,u.pendingProps),h1(l,u,v,_=gn(v.type,_),m);case 15:return d1(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:gn(v,_),Pc(l,u),u.tag=1,Rr(v)?(l=!0,sc(u)):l=!1,jo(u,m),k_(u,v,_),Ep(u,v,_,m),Up(null,u,v,!0,l,m);case 19:return x1(l,u,m);case 22:return f1(l,u,m)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=Hn(l,134217728);u!==null&&Jr(u,l,134217728,rr()),Wc(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=Hn(l,1);u!==null&&Jr(u,l,1,rr()),Wc(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=ts(l),m=Hn(l,u);m!==null&&Jr(m,l,u,rr()),Wc(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=dl(u.pendingLanes);m!==0&&(ap(u,1|m),wr(u,Nt()),!(6&Le)&&(Ko(),Gn()))}break;case 13:B1(function(){var v=Hn(l,1);if(v!==null){var _=rr();Jr(v,l,1,_)}}),Wc(l,1)}},e.batchedUpdates=function(l,u){var m=Le;Le|=1;try{return l(u)}finally{(Le=m)===0&&(Ko(),lc&&Gn())}},e.createComponentSelector=function(l){return{$$typeof:Mc,value:l}},e.createContainer=function(l,u,m,v,_,T,C){return W1(l,u,!1,null,0,v,0,T,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:kc,value:l}},e.createHydrationContainer=function(l,u,m,v,_,T,C,I,D){return(l=W1(m,v,!0,l,0,T,0,I,D)).context=X1(null),m=l.current,(T=wi(v=rr(),_=ts(m))).callback=u??null,Ki(m,T,_),l.current.lanes=_,fl(l,_,v),wr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Nc,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Oc,value:l}},e.createTextSelector=function(l){return{$$typeof:Fc,value:l}},e.deferredUpdates=function(l){var u=Ue,m=vt.transition;try{return vt.transition=null,Ue=16,l()}finally{Ue=u,vt.transition=m}},e.discreteUpdates=function(l,u,m,v,_){var T=Ue,C=vt.transition;try{return vt.transition=null,Ue=1,l(u,m,v,_)}finally{Ue=T,vt.transition=C,Le===0&&Ko()}},e.findAllNodes=Kp,e.findBoundingRects=function(l,u){if(!ul)throw Error(s(363));u=Kp(l,u),l=[];for(var m=0;m<u.length;m++)l.push(mP(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,_=v+m.width,T=m.y,C=T+m.height,I=u-1;0<=I;I--)if(u!==I){var D=l[I],H=D.x,Y=H+D.width,ae=D.y,X=ae+D.height;if(v>=H&&T>=ae&&_<=Y&&C<=X){l.splice(u,1);break}if(!(v!==H||m.width!==D.width||X<T||ae>C)){ae>T&&(D.height+=ae-T,D.y=T),X<C&&(D.height=C-ae),l.splice(u,1);break}if(!(T!==ae||m.height!==D.height||Y<v||H>_)){H>v&&(D.width+=H-v,D.x=v),Y<_&&(D.width=_-H),l.splice(u,1);break}}return l},e.findHostInstance=Y1,e.findHostInstanceWithNoPortals=function(l){return(l=(l=$(l))!==null?F(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Y1(l)},e.flushControlled=function(l){var u=Le;Le|=1;var m=vt.transition,v=Ue;try{vt.transition=null,Ue=1,l()}finally{Ue=v,vt.transition=m,(Le=u)===0&&(Ko(),Gn())}},e.flushPassiveEffects=Js,e.flushSync=B1,e.focusWithin=function(l,u){if(!ul)throw Error(s(363));for(u=O1(l=Yp(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!cl(m)){if(m.tag===5&&yP(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ue},e.getFindAllNodesFailureDescription=function(l,u){if(!ul)throw Error(s(363));var m=0,v=[];l=[Yp(l),0];for(var _=0;_<l.length;){var T=l[_++],C=l[_++],I=u[C];if((T.tag!==5||!cl(T))&&(qp(T,I)&&(v.push(Qp(I)),++C>m&&(m=C)),C<u.length))for(T=T.child;T!==null;)l.push(T,C),T=T.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(Qp(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?J(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:kI,findFiberByHostInstance:l.findFiberByHostInstance||NI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{ac=u.inject(l),Un=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!ul)throw Error(s(363));l=Kp(l,u);var _=_P(l,m,v).disconnect;return{disconnect:function(){_()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=Ue;try{return Ue=l,u()}finally{Ue=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var _=u.current,T=rr(),C=ts(_);return m=X1(m),u.context===null?u.context=m:u.pendingContext=m,(u=wi(T,C)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=Ki(_,u,C))!==null&&(Jr(l,_,C,T),mc(l,_,C)),C},e}),Kb}({get exports(){return Av},set exports(t){Av=t}}).exports=v5();var y5=j4(Av),qC={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Pv={},Lh={get exports(){return Pv},set exports(t){Pv=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Lh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Lh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Lh.exports=function(){return Date.now()-r},r=Date.now()):(Lh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call($4);var eE,Ra={},no={};({get exports(){return Ra},set exports(t){Ra=t}}).exports=(eE||(eE=1,no.ConcurrentRoot=1,no.ContinuousEventPriority=4,no.DefaultEventPriority=16,no.DiscreteEventPriority=1,no.IdleEventPriority=536870912,no.LegacyRoot=0),no);var _5={};function Ag(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function QC(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Wi(t.children).forEach(function(s){QC(s,t)})}function tE(t,e){var r;QC(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,d=c!==void 0&&c,p=n.destroyBaseTexture,h=p!==void 0&&p;s&&e.destroy({children:a,texture:d,baseTexture:h})}function rE(t,e,r){gt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var nE=null,Rn=y5({getRootHostContext:function(){return _5},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Ra.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ra.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ra.ContinuousEventPriority;default:return Ra.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=f5[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=YC[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:mi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return nE=function(o,a,c,d){var p=null;for(var h in c)!d.hasOwnProperty(h)&&c.hasOwnProperty(h)&&c[h]!==null&&(h===Sv||(p||(p=[]),p.push(h,null)));for(var f in d){var g=d[f],y=c!==null?c[f]:void 0;!d.hasOwnProperty(f)||g===y||g===null&&y===null||f===Sv||(p||(p=[]),p.push(f,g))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){gt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Pv,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ag.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ag.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ag.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=tE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=tE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:rE,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=rE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=mi),(a(t,n,i)||nE)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),x5=qC.dependencies["react-dom"].replace(/[^0-9.]/g,""),w5=qC.name;Rn.injectIntoDevTools({bundleType:0,version:x5,rendererPackageName:w5,findHostInstanceByFiber:Rn.findHostInstance});var Ms=new Map;function KC(t){if(gt(mr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Ms.has(t)){var e=Ms.get(t).pixiFiberContainer;Rn.updateContainer(null,e,void 0,function(){Ms.delete(t)})}}function ZC(t){gt(mr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Ms.get(t);if(gt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Rn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Rn.updateContainer(n,r,void 0),Rn.getPublicRootInstance(r)},unmount:function(){KC(t),Ms.delete(t)}}},Ms.set(t,e)}return e.reactRoot}function b5(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ms.has(e)?n=Ms.get(e).reactRoot:n=ZC(e),n.render(t)}function E5(t){KC(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function S5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VC(n.key),n)}}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function of(t,e){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},of(t,e)}function A5(t,e){if(e&&(zr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},af(t)}var Xf=Di.createContext(null),JC=Xf.Provider,eP=Xf.Consumer,C5=function(t){var e=Di.forwardRef(function(r,n){return Di.createElement(eP,null,function(i){return Di.createElement(t,Xu({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function P5(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=af(t);if(e){var i=af(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A5(this,r)}}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sE=function(){},tP={width:Je.number,height:Je.number,onMount:Je.func,onUnmount:Je.func,raf:Je.bool,renderOnComponentChange:Je.bool,children:Je.node,options:Je.shape({autoStart:Je.bool,width:Je.number,height:Je.number,useContextAlpha:Je.bool,backgroundAlpha:Je.number,autoDensity:Je.bool,antialias:Je.bool,preserveDrawingBuffer:Je.bool,resolution:Je.number,forceCanvas:Je.bool,backgroundColor:Je.number,clearBeforeRender:Je.bool,powerPreference:Je.string,sharedTicker:Je.bool,sharedLoader:Je.bool,resizeTo:function(t,e){var r=t[e];r&&gt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(zr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&gt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(zr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},I5={width:800,height:600,onMount:sE,onUnmount:sE,raf:!0,renderOnComponentChange:!0},Iv=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&of(s,o)})(i,Di.Component);var e,r,n=P5(i);function i(){var s;S5(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return yt(Ci(s=n.call.apply(n,[this].concat(a))),"_canvas",null),yt(Ci(s),"_mediaQuery",null),yt(Ci(s),"_ticker",null),yt(Ci(s),"_needsUpdate",!0),yt(Ci(s),"app",null),yt(Ci(s),"updateSize",function(){var d=s.props,p=d.width,h=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,h)}),yt(Ci(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),yt(Ci(s),"renderStage",function(){var d=s.props,p=d.renderOnComponentChange;!d.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,d=s.options,p=s.raf,h=s.renderOnComponentChange;this.app=new bf(Dh(Dh({width:a,height:c,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Rn.createContainer(this.app.stage),Rn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),h&&!p&&(this._ticker=new zt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,d=this.props,p=d.width,h=d.height,f=d.raf,g=d.renderOnComponentChange,y=d.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===h&&s.width===p&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),Rn.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===h&&s.raf===f&&s.renderOnComponentChange===g&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Di.createElement(JC,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Rn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(gt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Di.createElement("canvas",Xu({},(s=this.props,o=[].concat(Wi(Object.keys(tP)),Wi(Object.keys(Tv))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,p){return Dh(Dh({},d),{},yt({},p,s[p]))},{})),{ref:function(d){return a._canvas=d}}))}}])&&T5(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Iv.propTypes=tP,Iv.defaultProps=I5;var R5=Iv;function rP(){var t=V.useContext(Xf);return gt(t instanceof bf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function M5(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=rP();gt(typeof t=="function","`useTick` needs a callback function."),gt(r instanceof bf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=V.useRef(null);V.useEffect(function(){n.current=t},[t]),V.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function k5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rv(t,e,r){return Rv=k5()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&of(a,s.prototype),a},Rv.apply(null,arguments)}var N5=["children","apply"];function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var O5=function(t,e){gt(zr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=js(i,N5),c=V.useRef(V.useMemo(function(){return r.map(function(h){var f,g=(a==null||(f=a[h])===null||f===void 0?void 0:f.construct)||[];return Rv(e[h],Wi(g))})},[r])),d=V.useMemo(function(){return r.reduce(function(h,f,g){return Bh(Bh({},h),{},yt({},f,c.current[g]))},{})},[r]),p=V.useMemo(function(){return Object.keys(a).filter(XC(WC(r))).reduce(function(h,f){return Bh(Bh({},h),{},yt({},f,a[f]))},{})},[a,r]);return r.forEach(function(h,f){return Object.assign(c.current[f],a[h])}),o&&function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return f.every(function(y){return typeof y=="function"})}(o)&&o.call(t,d),Di.createElement(t,Xu({},p,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Je.node,apply:Je.func},n},F5=Ir.BitmapText,L5=Ir.Container,D5=Ir.Graphics,B5=Ir.NineSlicePlane,U5=Ir.ParticleContainer,G5=Ir.Sprite,z5=Ir.AnimatedSprite,H5=Ir.Text,$5=Ir.TilingSprite,j5=Ir.SimpleMesh,V5=Ir.SimpleRope;const W5=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:z5,AppConsumer:eP,AppContext:Xf,AppProvider:JC,BitmapText:F5,Container:L5,Graphics:D5,NineSlicePlane:B5,ParticleContainer:U5,PixiComponent:p5,PixiFiber:Rn,SimpleMesh:j5,SimpleRope:V5,Sprite:G5,Stage:R5,TYPES:Ir,Text:H5,TilingSprite:$5,applyDefaultProps:mi,createRoot:ZC,eventHandlers:sf,render:b5,unmountComponentAtNode:E5,useApp:rP,useTick:M5,withFilters:O5,withPixiApp:C5},Symbol.toStringTag,{value:"Module"})),X5=lE(W5);Wf.exports=X5;var dn=Wf.exports,cd={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-cd.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?cd.Bounce.In(t*2)*.5:cd.Bounce.Out(t*2-1)*.5+.5}}},nu;typeof self>"u"&&typeof process<"u"&&process.hrtime?nu=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?nu=self.performance.now.bind(self.performance):Date.now!==void 0?nu=Date.now:nu=function(){return new Date().getTime()};var fa=nu,Y5=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=fa()),r===void 0&&(r=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!r;s&&s.update(e,o)===!1&&!r&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),iu={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=iu.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[r],t[r-1],r-n):s(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,s=iu.Utils.Bernstein,o=0;o<=n;o++)r+=i(1-e,n-o)*i(e,o)*t[o]*s(n,o);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=iu.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),s(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):s(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=iu.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var n=e;n>1;n--)r*=n;return t[e]=r,r}}(),CatmullRom:function(t,e,r,n,i){var s=(r-t)*.5,o=(n-e)*.5,a=i*i,c=i*a;return(2*e-2*r+s+o)*c+(-3*e+3*r-2*s-o)*a+s*i+e}}},q5=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),nP=new Y5,Q5=function(){function t(e,r){r===void 0&&(r=nP),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=cd.Linear.None,this._interpolationFunction=iu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=q5.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?fa()+parseFloat(e):e:fa(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,r,n,i){for(var s in n){var o=e[s],a=Array.isArray(o),c=a?"array":typeof o,d=!a&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(d){var p=n[s];if(p.length===0)continue;p=p.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(p)}if((c==="object"||a)&&o&&!d){r[s]=a?[]:{};for(var h in o)r[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,r[s],n[s],i[s])}else typeof r[s]>"u"&&(r[s]=o),a||(r[s]*=1),d?i[s]=n[s].slice().reverse():i[s]=r[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=fa()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=fa()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=fa()),r===void 0&&(r=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,n,i){for(var s in n)if(r[s]!==void 0){var o=r[s]||0,a=n[s],c=Array.isArray(e[s]),d=Array.isArray(a),p=!c&&d;p?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}(),gi=nP;gi.getAll.bind(gi);gi.removeAll.bind(gi);gi.add.bind(gi);gi.remove.bind(gi);var K5=gi.update.bind(gi);function Mv(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Cg=function(){return Math.random().toString(36).substring(7).split("").join(".")},aE={INIT:"@@redux/INIT"+Cg(),REPLACE:"@@redux/REPLACE"+Cg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Cg()}};function Z5(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:aE.INIT});if(typeof n>"u")throw new Error(Mv(12));if(typeof r(void 0,{type:aE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mv(13))})}function J5(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{Z5(r)}catch(a){o=a}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var p=!1,h={},f=0;f<s.length;f++){var g=s[f],y=r[g],w=c[g],E=y(w,d);if(typeof E>"u")throw d&&d.type,new Error(Mv(14));h[g]=E,p=p||E!==w}return p=p||s.length!==Object.keys(c).length,p?h:c}}const eU=(t={},e)=>{switch(e.type){case JL:return{};case CT:const r=e.value;return{...t,loggingIn:!0,memberName:r.name,isTestAccount:r.test,balance:r.balance,currency:r.currency};case eD:return{...t,balance:e.value.balance};default:return t}},tU={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,balance:new St(0)}};function rU(t){return{type:CT,value:t}}const nU="",iU=(t={},e)=>{switch(e.type){case cD:let r=t.status;return t.status=="idle"?r="spin":t.status=="stopping"&&(r="idle"),{...t,status:r};case RT:return{...t,spinModel:e.value};case MT:return{...t,status:"stopping",spinModel:e.value};case kT:return{...t,status:"idle"};case NT:return{...t,betAmount:e.value};case hD:return{...t,betLevel:e.value};case dD:return{...t,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit};case fD:{let n=t.autoSpinCount;return n!=nU&&--n,{...t,status:"spin",autoSpinCount:n}}case pD:return{...t,autoSpinCount:0};case mD:return{...t,speedModel:e.value};case OT:return{...t,lineBetsModel:e.value};default:return t}},sU={spin:{betLevel:new St(1),status:"idle",autoSpinCount:0,lineBetsModel:null,betAmount:new St(.01),speedModel:"normal",stopAutoSpinLimit:{totalBetTimes:new St(0),signleWin:new St(0),balanceTo:new St(0)}}};function oU(t){return{type:RT,value:t}}function aU(t){return{type:MT,value:t}}function lU(){return{type:kT}}function iP(t){return{type:NT,value:new St(t)}}function uU(t){return{type:OT,value:t}}const cU=(t={},e)=>{let r=[].concat(t.scenes);switch(e.type){case gD:return r.push(e.value),{...t,scenes:r};case vD:return r.pop(),{...t,scenes:r};case FT:return r.pop(),r.push(e.value),{...t,scenes:r};case yD:return{...t};case LT:return{...t,assetsLoadingProgress:e.value};default:return t}},hU={sceneManager:{scenes:["preload"],assetsLoadingProgress:0}};function r_(t){return{type:FT,value:t}}function kv(t){return{type:LT,value:t}}function dU(){let t=Rl("user")||eU,e=Rl("setting")||_D,r=Rl("spin")||iU,n=Rl("scene")||cU,i=Rl("reducers");return J5({user:t,setting:e,spin:r,sceneManager:n,...i})}function Uh(t,e={},r){const n=Object.assign(t[r],e[r]||{});return t[r]=n,t}function fU(){let t=Uh(tU,pa("user"),"user"),e=Uh(xD,pa("setting"),"setting"),r=Uh(sU,pa("spin"),"spin"),n=Uh(hU,pa("scene"),"sceneManager");return l2(t,e,r,n)}var Nv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var h=this||r;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var f=this||r;if(h=parseFloat(h),f.ctx||p(),typeof h<"u"&&h>=0&&h<=1){if(f._volume=h,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),w=0;w<y.length;w++){var E=f._howls[g]._soundById(y[w]);E&&E._node&&(E._node.volume=E._volume*h)}return f}return f._volume},mute:function(h){var f=this||r;f.ctx||p(),f._muted=h,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h?0:f._volume,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),w=0;w<y.length;w++){var E=f._howls[g]._soundById(y[w]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return f},stop:function(){for(var h=this||r,f=0;f<h._howls.length;f++)h._howls[f].stop();return h},unload:function(){for(var h=this||r,f=h._howls.length-1;f>=0;f--)h._howls[f].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,p()),h},codecs:function(h){return(this||r)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||r;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var f=new Audio;f.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return h}if(!f||typeof f.canPlayType!="function")return h;var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),y=h._navigator?h._navigator.userAgent:"",w=y.match(/OPR\/(\d+)/g),E=w&&parseInt(w[0].split("/")[1],10)<33,x=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,S=y.match(/Version\/(.*?) /),b=x&&S&&parseInt(S[1],10)<15;return h._codecs={mp3:!!(!E&&(g||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||r;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var f=function(g){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,h._releaseHtml5Audio(y)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var E=h._howls[w]._getSoundIds(),x=0;x<E.length;x++){var S=h._howls[w]._soundById(E[x]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}h._autoResume();var b=h.ctx.createBufferSource();b.buffer=h._scratchBuffer,b.connect(h.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),b.onended=function(){b.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<h._howls.length;A++)h._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),h}},_obtainHtml5Audio:function(){var h=this||r;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var f=this||r;return h._unlocked&&f._html5AudioPool.push(h),f},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<h._howls.length;f++)if(h._howls[f]._webAudio){for(var g=0;g<h._howls[f]._sounds.length;g++)if(!h._howls[f]._sounds[g]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var y=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(y,y)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!r.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var f=0;f<h._howls.length;f++)h._howls[f]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var r=new e,n=function(h){var f=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(h)};n.prototype={init:function(h){var f=this;return r.ctx||p(),f._autoplay=h.autoplay||!1,f._format=typeof h.format!="string"?h.format:[h.format],f._html5=h.html5||!1,f._muted=h.mute||!1,f._loop=h.loop||!1,f._pool=h.pool||5,f._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,f._rate=h.rate||1,f._sprite=h.sprite||{},f._src=typeof h.src!="string"?h.src:[h.src],f._volume=h.volume!==void 0?h.volume:1,f._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=h.onend?[{fn:h.onend}]:[],f._onfade=h.onfade?[{fn:h.onfade}]:[],f._onload=h.onload?[{fn:h.onload}]:[],f._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],f._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],f._onpause=h.onpause?[{fn:h.onpause}]:[],f._onplay=h.onplay?[{fn:h.onplay}]:[],f._onstop=h.onstop?[{fn:h.onstop}]:[],f._onmute=h.onmute?[{fn:h.onmute}]:[],f._onvolume=h.onvolume?[{fn:h.onvolume}]:[],f._onrate=h.onrate?[{fn:h.onrate}]:[],f._onseek=h.onseek?[{fn:h.onseek}]:[],f._onunlock=h.onunlock?[{fn:h.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var h=this,f=null;if(r.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var g=0;g<h._src.length;g++){var y,w;if(h._format&&h._format[g])y=h._format[g];else{if(w=h._src[g],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(w),y||(y=/\.([^.]+)$/.exec(w.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&r.codecs(y)){f=h._src[g];break}}if(!f){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=f,h._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new i(h),h._webAudio&&o(h),h},play:function(h,f){var g=this,y=null;if(typeof h=="number")y=h,h=null;else{if(typeof h=="string"&&g._state==="loaded"&&!g._sprite[h])return null;if(typeof h>"u"&&(h="__default",!g._playLock)){for(var w=0,E=0;E<g._sounds.length;E++)g._sounds[E]._paused&&!g._sounds[E]._ended&&(w++,y=g._sounds[E]._id);w===1?h=null:y=null}}var x=y?g._soundById(y):g._inactiveSound();if(!x)return null;if(y&&!h&&(h=x._sprite||"__default"),g._state!=="loaded"){x._sprite=h,x._ended=!1;var S=x._id;return g._queue.push({event:"play",action:function(){g.play(S)}}),S}if(y&&!x._paused)return f||g._loadQueue("play"),x._id;g._webAudio&&r._autoResume();var b=Math.max(0,x._seek>0?x._seek:g._sprite[h][0]/1e3),A=Math.max(0,(g._sprite[h][0]+g._sprite[h][1])/1e3-b),P=A*1e3/Math.abs(x._rate),N=g._sprite[h][0]/1e3,k=(g._sprite[h][0]+g._sprite[h][1])/1e3;x._sprite=h,x._ended=!1;var R=function(){x._paused=!1,x._seek=b,x._start=N,x._stop=k,x._loop=!!(x._loop||g._sprite[h][2])};if(b>=k){g._ended(x);return}var B=x._node;if(g._webAudio){var $=function(){g._playLock=!1,R(),g._refreshBuffer(x);var j=x._muted||g._muted?0:x._volume;B.gain.setValueAtTime(j,r.ctx.currentTime),x._playStart=r.ctx.currentTime,typeof B.bufferSource.start>"u"?x._loop?B.bufferSource.noteGrainOn(0,b,86400):B.bufferSource.noteGrainOn(0,b,A):x._loop?B.bufferSource.start(0,b,86400):B.bufferSource.start(0,b,A),P!==1/0&&(g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P)),f||setTimeout(function(){g._emit("play",x._id),g._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?$():(g._playLock=!0,g.once("resume",$),g._clearTimer(x._id))}else{var K=function(){B.currentTime=b,B.muted=x._muted||g._muted||r._muted||B.muted,B.volume=x._volume*r.volume(),B.playbackRate=x._rate;try{var j=B.play();if(j&&typeof Promise<"u"&&(j instanceof Promise||typeof j.then=="function")?(g._playLock=!0,R(),j.then(function(){g._playLock=!1,B._unlocked=!0,f?g._loadQueue():g._emit("play",x._id)}).catch(function(){g._playLock=!1,g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(g._playLock=!1,R(),g._emit("play",x._id)),B.playbackRate=x._rate,B.paused){g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||x._loop?g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P):(g._endTimers[x._id]=function(){g._ended(x),B.removeEventListener("ended",g._endTimers[x._id],!1)},B.addEventListener("ended",g._endTimers[x._id],!1))}catch(Z){g._emit("playerror",x._id,Z)}};B.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(B.src=g._src,B.load());var z=window&&window.ejecta||!B.readyState&&r._navigator.isCocoonJS;if(B.readyState>=3||z)K();else{g._playLock=!0,g._state="loading";var F=function(){g._state="loaded",K(),B.removeEventListener(r._canPlayEvent,F,!1)};B.addEventListener(r._canPlayEvent,F,!1),g._clearTimer(x._id)}}return x._id},pause:function(h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(h)}}),f;for(var g=f._getSoundIds(h),y=0;y<g.length;y++){f._clearTimer(g[y]);var w=f._soundById(g[y]);if(w&&!w._paused&&(w._seek=f.seek(g[y]),w._rateSeek=0,w._paused=!0,f._stopFade(g[y]),w._node))if(f._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||f._emit("pause",w?w._id:null)}return f},stop:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(h)}}),g;for(var y=g._getSoundIds(h),w=0;w<y.length;w++){g._clearTimer(y[w]);var E=g._soundById(y[w]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,g._stopFade(y[w]),E._node&&(g._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),g._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&g._clearSound(E._node))),f||g._emit("stop",E._id))}return g},mute:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(h,f)}}),g;if(typeof f>"u")if(typeof h=="boolean")g._muted=h;else return g._muted;for(var y=g._getSoundIds(f),w=0;w<y.length;w++){var E=g._soundById(y[w]);E&&(E._muted=h,E._interval&&g._stopFade(E._id),g._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,r.ctx.currentTime):E._node&&(E._node.muted=r._muted?!0:h),g._emit("mute",E._id))}return g},volume:function(){var h=this,f=arguments,g,y;if(f.length===0)return h._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length>=2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var x;if(typeof g<"u"&&g>=0&&g<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,f)}}),h;typeof y>"u"&&(h._volume=g),y=h._getSoundIds(y);for(var S=0;S<y.length;S++)x=h._soundById(y[S]),x&&(x._volume=g,f[2]||h._stopFade(y[S]),h._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(g,r.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=g*r.volume()),h._emit("volume",x._id))}else return x=y?h._soundById(y):h._sounds[0],x?x._volume:0;return h},fade:function(h,f,g,y){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,f,g,y)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),w.volume(h,y);for(var E=w._getSoundIds(y),x=0;x<E.length;x++){var S=w._soundById(E[x]);if(S){if(y||w._stopFade(E[x]),w._webAudio&&!S._muted){var b=r.ctx.currentTime,A=b+g/1e3;S._volume=h,S._node.gain.setValueAtTime(h,b),S._node.gain.linearRampToValueAtTime(f,A)}w._startFadeInterval(S,h,f,g,E[x],typeof y>"u")}}return w},_startFadeInterval:function(h,f,g,y,w,E){var x=this,S=f,b=g-f,A=Math.abs(b/.01),P=Math.max(4,A>0?y/A:y),N=Date.now();h._fadeTo=g,h._interval=setInterval(function(){var k=(Date.now()-N)/y;N=Date.now(),S+=b*k,S=Math.round(S*100)/100,b<0?S=Math.max(g,S):S=Math.min(g,S),x._webAudio?h._volume=S:x.volume(S,h._id,!0),E&&(x._volume=S),(g<f&&S<=g||g>f&&S>=g)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,x.volume(g,h._id),x._emit("fade",h._id))},P)},_stopFade:function(h){var f=this,g=f._soundById(h);return g&&g._interval&&(f._webAudio&&g._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(g._interval),g._interval=null,f.volume(g._fadeTo,h),g._fadeTo=null,f._emit("fade",h)),f},loop:function(){var h=this,f=arguments,g,y,w;if(f.length===0)return h._loop;if(f.length===1)if(typeof f[0]=="boolean")g=f[0],h._loop=g;else return w=h._soundById(parseInt(f[0],10)),w?w._loop:!1;else f.length===2&&(g=f[0],y=parseInt(f[1],10));for(var E=h._getSoundIds(y),x=0;x<E.length;x++)w=h._soundById(E[x]),w&&(w._loop=g,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=g,g&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(E[x])&&(h.pause(E[x],!0),h.play(E[x],!0)))));return h},rate:function(){var h=this,f=arguments,g,y;if(f.length===0)y=h._sounds[0]._id;else if(f.length===1){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var x;if(typeof g=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,f)}}),h;typeof y>"u"&&(h._rate=g),y=h._getSoundIds(y);for(var S=0;S<y.length;S++)if(x=h._soundById(y[S]),x){h.playing(y[S])&&(x._rateSeek=h.seek(y[S]),x._playStart=h._webAudio?r.ctx.currentTime:x._playStart),x._rate=g,h._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(g,r.ctx.currentTime):x._node&&(x._node.playbackRate=g);var b=h.seek(y[S]),A=(h._sprite[x._sprite][0]+h._sprite[x._sprite][1])/1e3-b,P=A*1e3/Math.abs(x._rate);(h._endTimers[y[S]]||!x._paused)&&(h._clearTimer(y[S]),h._endTimers[y[S]]=setTimeout(h._ended.bind(h,x),P)),h._emit("rate",x._id)}}else return x=h._soundById(y),x?x._rate:h._rate;return h},seek:function(){var h=this,f=arguments,g,y;if(f.length===0)h._sounds.length&&(y=h._sounds[0]._id);else if(f.length===1){var w=h._getSoundIds(),E=w.indexOf(f[0]);E>=0?y=parseInt(f[0],10):h._sounds.length&&(y=h._sounds[0]._id,g=parseFloat(f[0]))}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));if(typeof y>"u")return 0;if(typeof g=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,f)}}),h;var x=h._soundById(y);if(x)if(typeof g=="number"&&g>=0){var S=h.playing(y);S&&h.pause(y,!0),x._seek=g,x._ended=!1,h._clearTimer(y),!h._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=g);var b=function(){S&&h.play(y,!0),h._emit("seek",y)};if(S&&!h._webAudio){var A=function(){h._playLock?setTimeout(A,0):b()};setTimeout(A,0)}else b()}else if(h._webAudio){var P=h.playing(y)?r.ctx.currentTime-x._playStart:0,N=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(N+P*Math.abs(x._rate))}else return x._node.currentTime;return h},playing:function(h){var f=this;if(typeof h=="number"){var g=f._soundById(h);return g?!g._paused:!1}for(var y=0;y<f._sounds.length;y++)if(!f._sounds[y]._paused)return!0;return!1},duration:function(h){var f=this,g=f._duration,y=f._soundById(h);return y&&(g=f._sprite[y._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var h=this,f=h._sounds,g=0;g<f.length;g++)f[g]._paused||h.stop(f[g]._id),h._webAudio||(h._clearSound(f[g]._node),f[g]._node.removeEventListener("error",f[g]._errorFn,!1),f[g]._node.removeEventListener(r._canPlayEvent,f[g]._loadFn,!1),f[g]._node.removeEventListener("ended",f[g]._endFn,!1),r._releaseHtml5Audio(f[g]._node)),delete f[g]._node,h._clearTimer(f[g]._id);var y=r._howls.indexOf(h);y>=0&&r._howls.splice(y,1);var w=!0;for(g=0;g<r._howls.length;g++)if(r._howls[g]._src===h._src||h._src.indexOf(r._howls[g]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],r.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,f,g,y){var w=this,E=w["_on"+h];return typeof f=="function"&&E.push(y?{id:g,fn:f,once:y}:{id:g,fn:f}),w},off:function(h,f,g){var y=this,w=y["_on"+h],E=0;if(typeof f=="number"&&(g=f,f=null),f||g)for(E=0;E<w.length;E++){var x=g===w[E].id;if(f===w[E].fn&&x||!f&&x){w.splice(E,1);break}}else if(h)y["_on"+h]=[];else{var S=Object.keys(y);for(E=0;E<S.length;E++)S[E].indexOf("_on")===0&&Array.isArray(y[S[E]])&&(y[S[E]]=[])}return y},once:function(h,f,g){var y=this;return y.on(h,f,g,1),y},_emit:function(h,f,g){for(var y=this,w=y["_on"+h],E=w.length-1;E>=0;E--)(!w[E].id||w[E].id===f||h==="load")&&(setTimeout((function(x){x.call(this,f,g)}).bind(y,w[E].fn),0),w[E].once&&y.off(h,w[E].fn,w[E].id));return y._loadQueue(h),y},_loadQueue:function(h){var f=this;if(f._queue.length>0){var g=f._queue[0];g.event===h&&(f._queue.shift(),f._loadQueue()),h||g.action()}return f},_ended:function(h){var f=this,g=h._sprite;if(!f._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(f._ended.bind(f,h),100),f;var y=!!(h._loop||f._sprite[g][2]);if(f._emit("end",h._id),!f._webAudio&&y&&f.stop(h._id,!0).play(h._id),f._webAudio&&y){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=r.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),w)}return f._webAudio&&!y&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),r._autoSuspend()),!f._webAudio&&!y&&f.stop(h._id,!0),f},_clearTimer:function(h){var f=this;if(f._endTimers[h]){if(typeof f._endTimers[h]!="function")clearTimeout(f._endTimers[h]);else{var g=f._soundById(h);g&&g._node&&g._node.removeEventListener("ended",f._endTimers[h],!1)}delete f._endTimers[h]}return f},_soundById:function(h){for(var f=this,g=0;g<f._sounds.length;g++)if(h===f._sounds[g]._id)return f._sounds[g];return null},_inactiveSound:function(){var h=this;h._drain();for(var f=0;f<h._sounds.length;f++)if(h._sounds[f]._ended)return h._sounds[f].reset();return new i(h)},_drain:function(){var h=this,f=h._pool,g=0,y=0;if(!(h._sounds.length<f)){for(y=0;y<h._sounds.length;y++)h._sounds[y]._ended&&g++;for(y=h._sounds.length-1;y>=0;y--){if(g<=f)return;h._sounds[y]._ended&&(h._webAudio&&h._sounds[y]._node&&h._sounds[y]._node.disconnect(0),h._sounds.splice(y,1),g--)}}},_getSoundIds:function(h){var f=this;if(typeof h>"u"){for(var g=[],y=0;y<f._sounds.length;y++)g.push(f._sounds[y]._id);return g}else return[h]},_refreshBuffer:function(h){var f=this;return h._node.bufferSource=r.ctx.createBufferSource(),h._node.bufferSource.buffer=s[f._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,r.ctx.currentTime),f},_cleanBuffer:function(h){var f=this,g=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return f;if(r._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),g))try{h.bufferSource.buffer=r._scratchBuffer}catch{}return h.bufferSource=null,f},_clearSound:function(h){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(h){this._parent=h,this.init()};i.prototype={init:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,f._sounds.push(h),h.create(),h},create:function(){var h=this,f=h._parent,g=r._muted||h._muted||h._parent._muted?0:h._volume;return f._webAudio?(h._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),h._node.gain.setValueAtTime(g,r.ctx.currentTime),h._node.paused=!0,h._node.connect(r.masterGain)):r.noAudio||(h._node=r._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(r._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=f._src,h._node.preload=f._preload===!0?"auto":f._preload,h._node.volume=g*r.volume(),h._node.load()),h},reset:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,f=h._parent;f._duration=Math.ceil(h._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),h._node.removeEventListener(r._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,f=h._parent;f._duration===1/0&&(f._duration=Math.ceil(h._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},o=function(h){var f=h._src;if(s[f]){h._duration=s[f].duration,d(h);return}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),y=new Uint8Array(g.length),w=0;w<g.length;++w)y[w]=g.charCodeAt(w);c(y.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,f,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(x){E.setRequestHeader(x,h._xhr.headers[x])}),E.onload=function(){var x=(E.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}c(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[f],h.load())},a(E)}},a=function(h){try{h.send()}catch{h.onerror()}},c=function(h,f){var g=function(){f._emit("loaderror",null,"Decoding audio data failed.")},y=function(w){w&&f._sounds.length>0?(s[f._src]=w,d(f,w)):g()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(h).then(y).catch(g):r.ctx.decodeAudioData(h,y,g)},d=function(h,f){f&&!h._duration&&(h._duration=f.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},p=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=f?parseInt(f[1],10):null;if(h&&g&&g<9){var y=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!y&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof Mi<"u"?(Mi.HowlerGlobal=e,Mi.Howler=r,Mi.Howl=n,Mi.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,a){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,a=typeof a!="number"?d[5]:a,typeof r=="number")c._orientation=[r,n,i,s,o,a],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(r,n,i,s,o,a);else return d;return c},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var c=i._soundById(o[a]);if(c)if(typeof r=="number")c._stereo=r,c._pos=[r,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&e(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(r,0,0):c._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var a=r._getSoundIds(s),c=0;c<a.length;c++)if(o=r._soundById(a[c]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var p=o._panner;p||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),p=o._panner),p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Nv);function pU(t,e){return`./assets/${t}${e?`?v=${e}`:""}`}function mU(t,e){const r=t.match(/\[(.+)\]/);if(r){let n=r[1].split(",");t=t.replace(r[0],Ht.Obj.filterImageFormat(n))}return pU(t,e)}function sP(t,e,r){let n=[];function i(s,o,a={}){oi.add({src:mU(o,e),alias:s,...a})}for(let s of t)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return oi.load(n,r)}function gU(t){return oi.get(t)}function vU(t,e){let r=oi.get(t),n=r.textures[e];if(!n){for(let i of r.linkedSheets)if(n=i.textures[e],n)break}return n}function yU(t){return oi.get(t)}function Ov(t,e){return(oi.get(t)||{})[e]||e}class _U{constructor(){Ce(this,"channels",{})}exist(e,r){let n=this.channels[e];return Ma(e)&&Ma(n[r])}add(e,r,n,i=1,s=!1,o){let a=this.channels[e];wu(a)&&(a={},this.channels[e]=a),Ma(a[r])&&console.warn(`sound "${r}" is existing in channel "${e}"`);let c={channelId:e,name:r,soundId:n,volume:i,softBgm:s,onComplete:o};return a[r]=c,c}getPlaybackBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(r=>r.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(r=>r.name==e)}removeBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n){let s=n[i];e(s)&&(delete n[i],a2(n)&&delete this.channels[r])}}}removeBySoundId(e){return this.removeBy(r=>r.soundId==e)}removeBySoundName(e){return this.removeBy(r=>r.name==e)}getSoundIds(e){const r=[],n=this.channels[e];for(let i in n)r.push(n[i].soundId);return r}}const hf=class hf{constructor(){Ce(this,"howlers",{});Ce(this,"_muted",!1);Ce(this,"_volume",1);Ce(this,"bgm");Ce(this,"channelManager");Ce(this,"_pause");this.channelManager=new _U}static get Obj(){return this._Obj||(this._Obj=new hf),this._Obj}getSoundIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.soundId}getChannelIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.channelId}play(e,r,n=1,i=!1,s,o){let a=this.channelManager.getPlaybackBySoundName(r),c=this.getVolumn(n),d=this.getSoundPlayer(e);if(a&&a.channelId==e)d.stop(a.soundId),d.play(a.soundId),d.volume(c,a.soundId);else{let p=d.play(r);d.volume(c,p),a=this.channelManager.add(e,r,p,n,i,h=>{o&&o(h)})}i&&this.softBgm(!0)}plays(e,r,n=1,i=!1,s){const[o,...a]=r;o?this.play(e,o,n,i,!1,()=>{this.plays(e,a,n,i,s)}):s&&s(o)}playBgm(e,r,n=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(r),o=this.getSoundPlayer(e),a=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(a,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let c=o.play(r);o.volume(a,c),this.channelManager.add(e,r,c,n),this.bgm={soundId:c,channelId:e,name:r,soft:i}}}isReady(e){return Ma(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let r=yU(e);if(Ma(r)){r.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){let s=this.channelManager.getPlaybackBySoundId(i);s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};let n=new Nv.Howl(r);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(let r in this.howlers)if(e)this.howlers[r].pause();else{const n=this.channelManager.getSoundIds(r),i=this.howlers[r];for(let s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,r){let n=this.getSoundIdBySoundName(r);n&&this.getSoundPlayer(e).pause(n)}stop(e,r){let n=this.getSoundIdBySoundName(r);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,r){r.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){let r=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(r){let n=this.getVolumn(e?this.bgm.soft:1,r.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,r.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,r,n){let i=this.getSoundIdBySoundName(r);if(i){const s=this.channelManager.getPlaybackBySoundId(i);s.volume=n,this.getSoundPlayer(e).volume(n)}}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let r in this.channelManager.channels){let n=this.channelManager.channels[r],i=this.getSoundPlayer(r);for(let s in n){let o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,Nv.Howler.mute(e)}};Ce(hf,"_Obj");let nl=hf;const xU=document.querySelector("html"),wU="resize",bU=()=>{const t=dn.useApp(),{state:e,dispatch:r}=V.useContext(wt),n=Ht.Obj,[i,s]=V.useState([0,0]),o=V.useMemo(()=>document.getElementById("App"),[]),[a,c]=V.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]),d=()=>{Ht.Obj.updateOrientation();const h=n.orientation;let{displayArea:f,safeArea:g}=n.layoutOptions;const[y,w,E,x]=f,S=x/E;g=g||[0,0,E,x];const[b,A,P,N]=g,k=N/P,R=document.documentElement.clientWidth,B=document.documentElement.clientHeight,$=B/R;let K,z,F,j,Z,J,oe;h=="l"?$<=k?(z=B*(x/N),K=z/S,z=Math.min(x,z),K=Math.min(E,K),oe=B,J=K):(R<=P?K=R*(E/P):R<=E?K=E:K=R,z=K*S,z=Math.min(x,z),K=Math.min(E,K),oe=z,J=R):$>=k?(K=R*(E/P),z=K*S,z=Math.min(x,z),K=Math.min(E,K),J=R,oe=z):(B<=N?z=B*(x/N):B<=x?z=x:z=B,K=z/S,z=Math.min(x,z),K=Math.min(E,K),J=K,oe=B),Z=K/E,j=(R-K)/2,F=(B-z)/2;const M=Math.round(Math.min(j,0)),W=Math.round(Math.min(F,0));t.stage.scale.set(Z),xU.style.fontSize=`${20*Z}px`,t.renderer.resize(K,z),t.view.style.top=`${W}px`,t.view.style.left=`${M}px`;const L=Math.round(Math.min(R,J,K)),U=Math.round(Math.min(B,oe,z)),ee=Math.round(Math.max(0,F)),Te=Math.round(Math.max(0,j));o.style.width=`${L}px`,o.style.height=`${U}px`,o.style.top=`${ee}px`,o.style.left=`${Te}px`,e.setting.orientation!=h&&r(wD(h)),Ht.Obj.updateViewport(M/Z,W/Z,Math.round(L/Z),Math.round(U/Z)),n.notice.emit(wU)};function p(){document[a]?(nl.Obj.pauses(!0),t.ticker.stop()):(nl.Obj.pauses(!1),t.ticker.start())}return dn.useTick((h,f)=>((i[0]!=document.documentElement.clientWidth||i[1]!=document.documentElement.clientHeight)&&(d(),s([document.documentElement.clientWidth,document.documentElement.clientHeight])),document.addEventListener(c,p),()=>{document.removeEventListener(c,p)}),!0),ne(Dn,{})};function EU(){const{state:t}=V.useContext(wt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="preload";return ne("div",{className:`page-mod ${r?"db":"dn"}`,children:ne("div",{className:"scene-preload-mod",children:qt("div",{className:"loading-animation-default-mod",children:[ne("div",{}),ne("div",{}),ne("div",{}),ne("div",{}),ne("div",{}),ne("div",{}),ne("div",{}),ne("div",{})]})})})}const SU=()=>{const{state:t}=V.useContext(wt),{soundOn:e,volume:r}=t.setting;return V.useEffect(()=>{nl.Obj.muted=!e},[e]),V.useEffect(()=>{},[r]),ne(Dn,{})};function TU(){const t=document.getElementById("context");t.style.setProperty("opacity","1"),t.className="context-fadein",document.getElementById("logo").style.setProperty("display","none","important")}const AU=()=>{const{state:t}=V.useContext(wt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="load";return V.useMemo(()=>{r&&TU()},[r]),ne(Dn,{})},CU=()=>{const{state:t,dispatch:e}=V.useContext(wt),{code:r}=t.setting.error;return V.useEffect(()=>{r&&(r==="000"?e(Br(r,!0,!1)):r==="001"||r==1e3?e(Br(r,!0,!0)):r==1005?e(Br("",!1,!0)):e(Br(r,!0,!1)))},[r]),ne(Dn,{})},PU=({children:t,Context:e,render:r})=>ne(e.Consumer,{children:n=>r(qt(e.Provider,{value:n,children:[ne(TD,{}),ne(kU,{}),ne(bU,{}),ne(SU,{}),ne(AU,{}),ne(CU,{}),t]}))}),IU=dU(),RU=fU(),MU=({children:t,maxResolution:e=1,...r})=>{const[n,i]=V.useReducer(IU,RU);let[s,...o]=V.Children.map(t,c=>c),a=Pn.any?window.devicePixelRatio:1;return a=Math.min(a>=2?2:a,e),qt(wt.Provider,{value:{state:n,dispatch:i},children:[ne(PU,{Context:wt,render:c=>ne(dn.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:a,antialias:!0,autoDensity:!0},...r,children:c}),children:s}),ne(EU,{}),ne(wt.Consumer,{children:({state:c})=>c.sceneManager.scenes[0]=="preload"?ne(Dn,{}):o})]})};function kU(){const t=Ht.Obj;return dn.useTick((e,r)=>{K5(t.tweenTime),t.tweenTime+=r.elapsedMS},!0),ne(Dn,{})}const NU=({children:t})=>{const{state:e}=V.useContext(wt),{scenes:r}=e.sceneManager;return V.useMemo(()=>{let i=[];return V.Children.forEach(t,s=>{r.indexOf(s.props.id)!=-1&&i.push(s)}),i},[r])};function oP(t,e){function r(n){if(n&&n.props){const i={},s=n.props;for(let o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=oP(n.props.children,e)),V.cloneElement(n,i)}return n}return Array.isArray(t)?V.Children.map(t,n=>r(n)):r(t)}function OU(t,e=[]){const{state:r}=V.useContext(wt),n=r.setting.orientation;return oP(t,`${n}-`)}function FU(t,e,r){const{current:n}=V.useRef({timer:null});dn.useTick((i,s)=>{n.timer+=s.elapsedMS,n.timer>=t&&(n.timer=0,e())},r)}function LU(){return V.useContext(wt)}const un=V.forwardRef(({hitFrame:t,children:e,...r},n)=>{const i=V.useMemo(()=>t?new Pe(...t):null,[]);return ne(dn.Container,{hitArea:i,...r,ref:n,children:e})}),n_=({children:t})=>OU(t),Yf=t=>{const{children:e,...r}=t,{l:n,p:i}=Ht.Obj.configOptions.layoutMap,s=V.useMemo(()=>!!(n&&i),[]),[o,a,c,d]=V.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const p=n??i;return[-p.displayArea[0],-p.displayArea[1],0,0]}},[]);return ne(un,{...r,children:s?ne(n_,{children:ne(un,{"l-x":o,"l-y":a,"p-x":c,"p-y":d,children:e})}):ne(un,{x:o,y:a,children:e})})},DU=V.forwardRef(({dep:t=[],children:e,id:r,from:n={},to:i={},playing:s=!1,duration:o,yoyo:a,repeat:c,repeatDelay:d,delay:p=0,easing:h=x=>x,onStart:f,onComplete:g,onRepeat:y,onUpdate:w},E)=>{var P,N;const[x,S]=V.useState(!1),{current:b}=V.useRef({tween:null});function A(){var k;(k=b.tween)==null||k.stop(),b.tween=null}return V.useMemo(()=>{A(),s&&(b.tween=new Q5({...n}).to({...i},o).repeat(c).repeatDelay(d).delay(p).yoyo(a).start(Ht.Obj.tweenTime))},[s,...t]),V.useMemo(()=>{var k;(k=b.tween)==null||k.repeat(c)},[c]),(P=b.tween)==null||P.easing(h).onStart(f).onUpdate((k,R)=>{w&&w(k,R),S(!x)}).onRepeat(y).onComplete(g),V.useImperativeHandle(E,()=>({get repeated(){return b.tween._initialRepeat-b.tween._repeat},get repeat(){return b.tween._repeat}})),V.useEffect(()=>{},[s,...t]),e(b.tween?b.tween._object:n,((N=b.tween)==null?void 0:N.isPlaying())||!1)});function BU({children:t,progress:e,onComplete:r,...n}){const{current:i}=V.useRef({percent:0,oldPercent:0});return V.useMemo(()=>{i.oldPercent=i.percent},[e]),ne(un,{...n,children:ne(DU,{dep:[e],from:{k:0},to:{k:1},playing:!0,duration:500,onComplete:()=>{r&&r(e)},children:({k:s})=>{const o=i.oldPercent+(e-i.oldPercent)*s;return i.percent=o,t(o)}})})}const UU=({assets:t,next:e,...r})=>{const n=Ht.Obj.configOptions.assetVersion,{state:i,dispatch:s}=V.useContext(wt),{current:o}=V.useRef({loaded:!1,loggingIn:!1});return V.useEffect(()=>{s(kv(0)),sP(t,n,a=>{s(kv(Math.floor(a*100)))}).then(()=>{o.loaded=!0,s(r_(e))})},[]),ne(Yf,{...r})},GU=({children:t,assets:e,next:r,...n})=>{const i=Ht.Obj.configOptions.assetVersion,{state:s,dispatch:o}=V.useContext(wt),{current:a}=V.useRef({loaded:!1,loggingIn:!1}),{loggingIn:c}=s.user,[d,p]=V.useState(0),[h,f]=V.useState(0);function g(){a.loggingIn&&a.loaded&&r&&o(r_(r))}function y(E){d==100&&(a.loaded=!0,g())}V.useEffect(()=>{c&&(a.loggingIn=!0),g()},[c]);const w=V.useMemo(()=>d==100?["auth.","auth..","auth..."][h]:["loading.","loading..","loading..."][h],[h,d]);return V.useEffect(()=>{o(kv(0)),sP(e,i,E=>{p(Math.floor(E*100))})},[]),FU(400,()=>{f((h+1)%3)},!0),ne(Yf,{...n,children:ne(BU,{progress:d,onComplete:y,children:E=>t(E,w)})})};function aP(...t){let e={};for(let r of t)for(let n of r)e[n.id]=n;return Object.values(e)}const lP="game_Bg_L",lf="message",uP="lang_components";function zU(t){return[{id:lf,src:`text/${t}.json`},{id:uP,src:`compress/lang/${t}@1x.[avif,webp,png].json`}]}function HU(t,...e){return aP(zU(t),...e)}const cP="sounds",hP="components",hd="preload_component";function $U(t){return[{id:cP,src:"sound/sounds.json"},{id:hP,src:"compress/components-_default@1x.[avif,webp,png].json"}]}function jU(t,...e){return aP($U(),...e)}const i_="preview_Bg_L";function VU(t){return HU(t,[{id:i_,src:"compress/bg-preview-l@1x.[avif,webp,jpg]"},{id:hd,src:"compress/preload@1x.[avif,webp,png].json"}])}function WU(t){return jU(t,[{id:lP,src:"compress/bg-game-l@1x.[avif,webp,jpg]"}])}const XU=({...t})=>{const e=V.useMemo(()=>VU(Ht.Obj.urlOptions.lang),[]);return ne(UU,{assets:e,...t})};function dP(t){return V.forwardRef(({res:e=t,name:r,...n},i)=>{const s=V.useMemo(()=>vU(e,r),[r]);return ne(dn.Sprite,{ref:i,texture:s,...n})})}const Pg=dP(hP);dP(uP);const s_=V.forwardRef(({name:t,...e},r)=>{const n=V.useMemo(()=>gU(t),[t]);return ne(dn.Sprite,{ref:r,texture:n,...e})}),qf=V.forwardRef(({style:t,maxScaleLength:e,...r},n)=>{const i=V.useRef(),s=V.useMemo(()=>t instanceof di?t:new di(t),[]);return V.useEffect(()=>{if(e&&i.current){const o=setTimeout(()=>{const a=i.current.width,c=i.current.scale.x,d=e/a*c,p=c>0?1:-1,h=i.current.scale.y>0?1:-1;d<1?i.current.scale.set(d*p,d*h):i.current.scale.x!=1&&i.current.scale.set(1*p,1*h),clearTimeout(o)},1)}},[r.text]),V.useImperativeHandle(n,()=>i.current,[i]),ne(dn.Text,{ref:i,...r,style:s})});V.forwardRef(({maxScaleLength:t,...e},r)=>{const n=V.useRef();return V.useEffect(()=>{if(t&&n.current){const i=setTimeout(()=>{const s=n.current.width,o=n.current.scale.x,a=t/s*o,c=o>0?1:-1,d=n.current.scale.y>0?1:-1;a<1?n.current.scale.set(a*c,a*d):n.current.scale.x!=1&&n.current.scale.set(1*c,1*d),clearTimeout(i)},1)}},[e.text]),V.useImperativeHandle(r,()=>n.current,[n]),ne(dn.BitmapText,{ref:n,...e})});V.forwardRef(({text:t,...e},r)=>{const n=V.useMemo(()=>Ov(lf,t),[t]);return ne(qf,{ref:r,text:n,...e})});function YU({children:t,active:e=!0,...r}){const[n,i]=V.useState(!1),s=V.useRef(null);return V.useEffect(()=>{i(!n)},[]),qt(un,{...r,children:[V.cloneElement(t[0],{mask:e?s.current:null}),V.cloneElement(t[1],{ref:s,visible:e})]})}const qU=({...t})=>{const e=V.useMemo(()=>WU(Ht.Obj.urlOptions.lang),[]);return ne(GU,{assets:e,...t,children:(r,n)=>{const i=-450+450*(r/100);return qt(n_,{children:[ne(s_,{x:640,y:384,scale:.91428,name:i_,anchor:.5,"l-visible":!0,"p-visible":!1}),qt(un,{"l-x":400,"l-y":620,"p-x":25,"p-y":770,children:[ne(Pg,{res:hd,name:"LoadConatiner.png"}),qt(YU,{x:18,y:4.5,children:[ne(Pg,{res:hd,name:"LoadMeter.png"}),ne(Pg,{x:i,res:hd,name:"LoadMetermask.png"})]}),ne(qf,{x:246,y:15,text:`${n}`,anchor:.5,style:{align:"center",fill:"#FFFFFF",fontSize:20,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})]})}})},QU=({dataSource:t,children:e})=>{const{state:r,dispatch:n}=V.useContext(wt),{status:i,spinModel:s}=r.spin,[o,a]=V.useState(!1),{current:c}=V.useRef({status:"idle",statusOrder:[],inFreeSpin:!1});function d(f,g=!0){c.status!=f&&(c.status=f,g&&a(!o))}function p(){const f=c.statusOrder.shift();f&&d(f,!0)}V.useMemo(()=>{let f;i=="spin"?f="spin":i=="stopping"?f="stopping":i=="idle"&&(c.status=="stopping",f="idle"),d(f,!1)},[i]);const h={base:{state:r,dispatch:n,nextGameStatus:p,gameStatus:c.status},...t};return V.cloneElement(e,{dataSource:h})};function KU({children:t,...e}){return t(e)}const ZU=({...t})=>ne(QU,{children:ne(KU,{children:({dataSource:e})=>ne(Yf,{...t,children:ne(un,{children:ne(s_,{x:640,y:384,scale:.91428,name:lP,anchor:.5,"l-visible":!0})})})})});function JU(t){return e=>{const{dispatch:r}=V.useContext(wt);return V.useMemo(()=>ne(t,{dispatch:r,...e}),[e])}}const df=class df{constructor(){Ce(this,"keys",[]);Ce(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new df),this._Obj}onKeyDownHandler(e){if(e&&e.key){let r=e.key.toLowerCase();this.keys.indexOf(r)==-1&&this.keys.push(r)}}onKeyUpHandler(e){if(e&&e.key){let r=e.key.toLowerCase(),n=this.keys.indexOf(r);if(n>-1){let i=`onKey${r==" "?"Space":r}`;const s=this.keysChangedFCMap[i];for(let o of s||[])o();this.keys.splice(n,1)}}}setKeysFCMap(e,r){const n=this.keysChangedFCMap[e];n?n.push(r):this.keysChangedFCMap[e]=[r]}removeFc(e,r){const n=this.keysChangedFCMap[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}};Ce(df,"_Obj");let Fv=df;function e6({enable:t=!0,...e}){return V.useEffect(()=>{let r=Fv.Obj;const n=[];if(t){for(let i in e)i.match(/onKey[A-Z]\w+/)&&n.push(i);for(let i of n)r.setKeysFCMap(i,e[i]);return()=>{for(let i of n)r.removeFc(i,e[i])}}},[e]),ne(Dn,{})}const t6=nl.Obj;function r6(t,e="onpointerup",r="click"){function n(i){const s={};return s[e]=i,s}return({channelId:i=cP,sound:s,volum:o=1,softBgm:a,onSoundEnd:c,...d})=>{const p=d[e];function h(f){t6.play(i,s||r,o,a,!1),p&&p(f)}return ne(t,{...d,...n(h)})}}const n6=V.forwardRef(({children:t,enable:e=!0,...r},n)=>ne(un,{cursor:"pointer",interactive:e,...r,ref:n,children:t})),i6=r6(n6),s6=JU(({dispatch:t,...e})=>{function r(){t(r_("main"))}return ne(Yf,{...e,children:qt(un,{children:[ne(e6,{onKeySpace:r,enable:!0}),ne(s_,{x:640,y:384,scale:.91428,name:i_,anchor:.5,"l-visible":!0,"p-visible":!1}),ne(i6,{"l-x":562.5,"l-y":520,"p-x":162.5,"p-y":820,onpointerup:r,children:ne(qf,{text:"continue",style:{align:"center",fill:"#FF0000",fontSize:60}})})]})})}),o6=({frame:t=[0,0,100,100],color:e,radius:r,...n},i)=>{const s=V.useCallback(o=>{o.clear(),o.beginFill(e),r?o.drawRoundedRect(...t,r):o.drawRect(...t),o.endFill()},[...t,e,r]);return ne(dn.Graphics,{ref:i,draw:s,...n})},a6=V.forwardRef(o6);function l6({debug:t,...e}){const[r,n]=V.useState(60);return dn.useTick((i,s)=>{n(Math.round(1/(s.elapsedMS/1e3)))},t),ne(n_,{children:qt(un,{...e,children:[ne(a6,{frame:[0,0,70,25]}),ne(qf,{text:`${r} FPS`,style:{align:"center",fill:"#FF0000",fontSize:20}})]})})}function u6({children:t}){const e=V.useMemo(()=>Fr("debug","0")==="1",[]),r=V.useMemo(()=>[...V.Children.toArray(t),ne(c6,{})],[]),n=e?V.Children.map(r,i=>V.cloneElement(i,{debug:e})):[];return qt(un,{visible:e,children:[...n]})}function c6(){const{state:t}=LU(),{spinModel:e}=t.spin;return V.useEffect(()=>{e&&console.log("spin",e)},[e]),ne(Dn,{})}function h6({children:t,tmp:e,...r}){const n=V.useMemo(()=>e?V.Children.map(e,i=>Ov(lf,i)).reduce((i,s)=>i+s,""):Ov(lf,t),[e,t]);return ne("div",{...r,children:n})}const d6=()=>{const{state:t,dispatch:e}=V.useContext(wt),{code:r,show:n,allowClose:i}=t.setting.error;function s(){i?e(Br("",!1,!0)):location.reload()}return ne("div",{className:`page-mod ${n?"db":"dn"}`,children:qt("div",{className:`error-mod ${t.setting.orientation}`,children:[qt("div",{className:"top",children:[ne("div",{className:"dib info-icon"}),ne("div",{className:"title",children:r})]}),qt("div",{className:"bottom",children:[ne(h6,{className:"detail",children:`error_${r}`}),ne("div",{className:"ok btn-mod dib",onClick:s,children:i?"ok":"refresh"})]}),ne("div",{className:"close"})]})})};function f6(){const{state:t,dispatch:e}=V.useContext(wt),{status:r,betAmount:n}=t.spin;return V.useEffect(()=>{const i=Hv();r=="spin"&&i.spin(n.toNumber()).then(s=>{s.code?e(lU()):e(aU(s))})},[r]),ne(Dn,{})}const xu=Hv(),p6=({children:t})=>{const{state:e,dispatch:r}=V.useContext(wt),[n,i]=V.useState(!1),{loggingIn:s}=e.user,[o,a]=V.useState(null),{current:c}=V.useRef({httpDoneCount:0}),[d,p]=V.useState(!1);V.useEffect(()=>{n?!s&&!o&&xu.player().then(f=>{f.code?(f.code==500||f.code==404||f.code==401)&&xu.authAndCanReTry()&&(r(Br("")),i(!1)):a(f)}):xu.auth().then(f=>{i(!0)})},[n]),V.useEffect(()=>{V.Children.count(t)==c.httpDoneCount&&o&&!o.code&&r(rU(o))},[o,c.httpDoneCount]);function h(){c.httpDoneCount++,p(!d)}return ne(Dn,{children:V.Children.map(t,f=>V.cloneElement(f,{on:n&&!!o&&!o.code,onComplete:h}))})};function m6({on:t,onComplete:e}){const{state:r,dispatch:n}=V.useContext(wt);V.useEffect(()=>{t&&xu.load().then(i=>{i.code||(n(oU(i)),i.credit.isZero()||n(iP(i.credit))),e(i)})},[t])}function g6({on:t,onComplete:e}){const{state:r,dispatch:n}=V.useContext(wt);V.useEffect(()=>{t&&xu.lineBets().then(i=>{i.code||(n(uU(i)),n(iP(i.lineBets[0])),e(i))})},[t])}const v6=()=>qt(MU,{id:"game-canvas",className:"game-context-mod",children:[qt(un,{children:[qt(NU,{children:[ne(XU,{id:"preload",next:"load"}),ne(qU,{id:"load",next:"premain"}),ne(s6,{id:"premain"}),ne(ZU,{id:"main"})]}),ne(u6,{children:ne(l6,{"l-x":300,"l-y":200,"p-x":300,"p-y":200})})]}),ne(d6,{}),ne(f6,{}),qt(p6,{children:[ne(m6,{}),ne(g6,{})]})]});D4(ne(v6,{}))});export default y6();
