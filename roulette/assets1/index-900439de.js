var pP=Object.defineProperty;var mP=(t,e,r)=>e in t?pP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $e=(t,e,r)=>(mP(t,typeof e!="symbol"?e+"":e,r),r);var e4=gP((r4,cf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ob(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ab={exports:{}},Od={},lb={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),yP=Symbol.for("react.portal"),vP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),xP=Symbol.for("react.profiler"),wP=Symbol.for("react.provider"),bP=Symbol.for("react.context"),SP=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),TP=Symbol.for("react.memo"),AP=Symbol.for("react.lazy"),Y_=Symbol.iterator;function CP(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cb=Object.assign,hb={};function Oa(t,e,r){this.props=t,this.context=e,this.refs=hb,this.updater=r||ub}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function db(){}db.prototype=Oa.prototype;function $0(t,e,r){this.props=t,this.context=e,this.refs=hb,this.updater=r||ub}var j0=$0.prototype=new db;j0.constructor=$0;cb(j0,Oa.prototype);j0.isPureReactComponent=!0;var Q_=Array.isArray,fb=Object.prototype.hasOwnProperty,W0={current:null},pb={key:!0,ref:!0,__self:!0,__source:!0};function mb(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fb.call(e,n)&&!pb.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Su,type:t,key:s,ref:o,props:i,_owner:W0.current}}function PP(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function V0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function IP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var q_=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IP(""+t.key):e.toString(36)}function ph(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case yP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Cp(o,0):n,Q_(i)?(r="",t!=null&&(r=t.replace(q_,"$&/")+"/"),ph(i,e,r,"",function(d){return d})):i!=null&&(V0(i)&&(i=PP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(q_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Q_(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Cp(s,l);o+=ph(s,e,r,c,i)}else if(c=CP(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Cp(s,l++),o+=ph(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(t,e,r){if(t==null)return t;var n=[],i=0;return ph(t,n,"","",function(s){return e.call(r,s,i++)}),n}function RP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},mh={transition:null},kP={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:mh,ReactCurrentOwner:W0};Re.Children={map:bc,forEach:function(t,e,r){bc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!V0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Oa;Re.Fragment=vP;Re.Profiler=xP;Re.PureComponent=$0;Re.StrictMode=_P;Re.Suspense=EP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=W0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)fb.call(e,c)&&!pb.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Su,type:t.type,key:i,ref:s,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:bP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wP,_context:t},t.Consumer=t};Re.createElement=mb;Re.createFactory=function(t){var e=mb.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:SP,render:t}};Re.isValidElement=V0;Re.lazy=function(t){return{$$typeof:AP,_payload:{_status:-1,_result:t},_init:RP}};Re.memo=function(t,e){return{$$typeof:TP,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return or.current.useCallback(t,e)};Re.useContext=function(t){return or.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Re.useEffect=function(t,e){return or.current.useEffect(t,e)};Re.useId=function(){return or.current.useId()};Re.useImperativeHandle=function(t,e,r){return or.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return or.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return or.current.useReducer(t,e,r)};Re.useRef=function(t){return or.current.useRef(t)};Re.useState=function(t){return or.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return or.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return or.current.useTransition()};Re.version="18.2.0";lb.exports=Re;var re=lb.exports;const vi=bu(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=re,OP=Symbol.for("react.element"),NP=Symbol.for("react.fragment"),FP=Object.prototype.hasOwnProperty,DP=MP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LP={key:!0,ref:!0,__self:!0,__source:!0};function gb(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)FP.call(e,n)&&!LP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OP,type:t,key:s,ref:o,props:i,_owner:DP.current}}Od.Fragment=NP;Od.jsx=gb;Od.jsxs=gb;ab.exports=Od;var X0=ab.exports;const Na=X0.Fragment,le=X0.jsx,Gt=X0.jsxs;function oa(t){return t!=null}function Ql(t){return t==null}function BP(t){return Object.keys(t).length===0&&t.constructor===Object}function UP(...t){let e={};for(let r=0;r<t.length;r++){let n=t[r];if(n!=null)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const Id=class Id{constructor(){$e(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new Id),this._Obj}map(e,r){let n=new WP(e,r);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...r){let n=this.mappings[e];if(!Ql(n))return n.get(r)}resolve(){console.warn("Injector.resolve() is not implement yet")}};$e(Id,"_Obj");let Hm=Id;class GP{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class zP{constructor(e){this.type=e}get(e){return yb(this.type,e)}destroy(){this.type=void 0}}class HP{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class $P{constructor(e){$e(this,"instance");this.type=e}get(e){return Ql(this.instance)&&(this.instance=yb(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class jP{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class WP{constructor(e,r){$e(this,"provider");this.name=e,this.type=r}get(e){return Ql(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new GP(e)}toType(e){this.destroy(),this.provider=new zP(e)}toSingleton(e){this.destroy(),this.provider=new $P(e)}asSingleton(){if(this.destroy(),Ql(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new jP(e)}toFunction(e){this.destroy(),this.provider=new HP(e)}destroy(){oa(this.provider)&&this.provider.destroy()}}function yb(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const Eu=Hm.Obj;function VP(t){return Eu.get(`action_fc:${t}`)}function XP(t,e){Eu.map(`action_init:${t}`).toValue(e)}function vb(t){return Eu.get(`action_init:${t}`)}const _b="apiService";function YP(t){return Eu.map(_b).toSingleton(t)}function QP(){return Eu.get(_b)}const qP="roulette",KP=1702983455399,ZP={title:qP,assetVersion:KP},_i=re.createContext({});class JP{constructor(){$e(this,"_dispatch")}get domain(){return""}setDispatch(e){this._dispatch=e}request(e,r="GET",n="json",i=null){return new Promise((s,o)=>{fetch(e,{method:r}).then(l=>{l.status==200?l[n]().then(d=>{s(d)}).catch(()=>{o()}):s(null)}).catch(l=>{o()})})}}function eI(){const{state:t,dispatch:e}=re.useContext(_i);return re.useEffect(()=>{QP().setDispatch(e)},[]),le(Na,{})}var lo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(lo||{}),xb=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(xb||{}),$m=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))($m||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),fn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(fn||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),aa=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(aa||{}),ye=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ye||{}),ue=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ue||{}),fi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(fi||{}),xi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(xi||{}),Yn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Yn||{}),fr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(fr||{}),Un=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Un||{}),Y0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Y0||{}),Wr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Wr||{}),wt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(wt||{}),yt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(yt||{}),$n=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))($n||{});const tI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:tI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Pp=/iPhone/i,K_=/iPod/i,Z_=/iPad/i,J_=/\biOS-universal(?:.+)Mac\b/i,Ip=/\bAndroid(?:.+)Mobile\b/i,e1=/Android/i,Ro=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sc=/Silk/i,si=/Windows Phone/i,t1=/\bWindows(?:.+)ARM\b/i,r1=/BlackBerry/i,n1=/BB10/i,i1=/Opera Mini/i,s1=/\b(CriOS|Chrome)(?:.+)Mobile/i,o1=/Mobile(?:.+)Firefox\b/i,a1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function rI(t){return function(e){return e.test(t)}}function l1(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=rI(r),s={apple:{phone:i(Pp)&&!i(si),ipod:i(K_),tablet:!i(Pp)&&(i(Z_)||a1(e))&&!i(si),universal:i(J_),device:(i(Pp)||i(K_)||i(Z_)||i(J_)||a1(e))&&!i(si)},amazon:{phone:i(Ro),tablet:!i(Ro)&&i(Sc),device:i(Ro)||i(Sc)},android:{phone:!i(si)&&i(Ro)||!i(si)&&i(Ip),tablet:!i(si)&&!i(Ro)&&!i(Ip)&&(i(Sc)||i(e1)),device:!i(si)&&(i(Ro)||i(Sc)||i(Ip)||i(e1))||i(/\bokhttp\b/i)},windows:{phone:i(si),tablet:i(t1),device:i(si)||i(t1)},other:{blackberry:i(r1),blackberry10:i(n1),opera:i(i1),firefox:i(o1),chrome:i(s1),device:i(r1)||i(n1)||i(i1)||i(o1)||i(s1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const nI=l1.default??l1,pn=nI(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var wb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,g){this.fn=c,this.context=d,this.once=g||!1}function s(c,d,g,h,f){if(typeof g!="function")throw new TypeError("The listener must be a function");var m=new i(g,h||c,f),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],g,h;if(this._eventsCount===0)return d;for(h in g=this._events)e.call(g,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},l.prototype.listeners=function(d){var g=r?r+d:d,h=this._events[g];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,v=new Array(m);f<m;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(d){var g=r?r+d:d,h=this._events[g];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,g,h,f,m,v){var w=r?r+d:d;if(!this._events[w])return!1;var T=this._events[w],x=arguments.length,b,S;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),x){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,h),!0;case 4:return T.fn.call(T.context,g,h,f),!0;case 5:return T.fn.call(T.context,g,h,f,m),!0;case 6:return T.fn.call(T.context,g,h,f,m,v),!0}for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];T.fn.apply(T.context,b)}else{var A=T.length,P;for(S=0;S<A;S++)switch(T[S].once&&this.removeListener(d,T[S].fn,void 0,!0),x){case 1:T[S].fn.call(T[S].context);break;case 2:T[S].fn.call(T[S].context,g);break;case 3:T[S].fn.call(T[S].context,g,h);break;case 4:T[S].fn.call(T[S].context,g,h,f);break;default:if(!b)for(P=1,b=new Array(x-1);P<x;P++)b[P-1]=arguments[P];T[S].fn.apply(T[S].context,b)}}return!0},l.prototype.on=function(d,g,h){return s(this,d,g,h,!1)},l.prototype.once=function(d,g,h){return s(this,d,g,h,!0)},l.prototype.removeListener=function(d,g,h,f){var m=r?r+d:d;if(!this._events[m])return this;if(!g)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===g&&(!f||v.once)&&(!h||v.context===h)&&o(this,m);else{for(var w=0,T=[],x=v.length;w<x;w++)(v[w].fn!==g||f&&!v[w].once||h&&v[w].context!==h)&&T.push(v[w]);T.length?this._events[m]=T.length===1?T[0]:T:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var g;return d?(g=r?r+d:d,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(wb);var iI=wb.exports;const Tu=bu(iI);var Q0={exports:{}};Q0.exports=Nd;Q0.exports.default=Nd;function Nd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=bb(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,c,d,g,h,f,m;if(n&&(s=uI(t,e,s,r)),t.length>80*r){l=d=t[0],c=g=t[1];for(var v=r;v<i;v+=r)h=t[v],f=t[v+1],h<l&&(l=h),f<c&&(c=f),h>d&&(d=h),f>g&&(g=f);m=Math.max(d-l,g-c),m=m!==0?32767/m:0}return ql(s,o,r,l,c,m,0),o}function bb(t,e,r,n,i){var s,o;if(i===Vm(t,e,r,n)>0)for(s=e;s<r;s+=n)o=u1(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=u1(s,t[s],t[s+1],o);return o&&Fd(o,o.next)&&(Zl(o),o=o.next),o}function to(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Fd(r,r.next)||st(r.prev,r,r.next)===0)){if(Zl(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function ql(t,e,r,n,i,s,o){if(t){!o&&s&&pI(t,n,i,s);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?oI(t,n,i,s):sI(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Zl(t),t=d.next,l=d.next;continue}if(t=d,t===l){o?o===1?(t=aI(to(t),e,r),ql(t,e,r,n,i,s,2)):o===2&&lI(t,e,r,n,i,s):ql(to(t),e,r,n,i,s,1);break}}}}function sI(t){var e=t.prev,r=t,n=t.next;if(st(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,l=e.y,c=r.y,d=n.y,g=i<s?i<o?i:o:s<o?s:o,h=l<c?l<d?l:d:c<d?c:d,f=i>s?i>o?i:o:s>o?s:o,m=l>c?l>d?l:d:c>d?c:d,v=n.next;v!==e;){if(v.x>=g&&v.x<=f&&v.y>=h&&v.y<=m&&Wo(i,l,s,c,o,d,v.x,v.y)&&st(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function oI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(st(i,s,o)>=0)return!1;for(var l=i.x,c=s.x,d=o.x,g=i.y,h=s.y,f=o.y,m=l<c?l<d?l:d:c<d?c:d,v=g<h?g<f?g:f:h<f?h:f,w=l>c?l>d?l:d:c>d?c:d,T=g>h?g>f?g:f:h>f?h:f,x=jm(m,v,e,r,n),b=jm(w,T,e,r,n),S=t.prevZ,A=t.nextZ;S&&S.z>=x&&A&&A.z<=b;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=T&&S!==i&&S!==o&&Wo(l,g,c,h,d,f,S.x,S.y)&&st(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=m&&A.x<=w&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&Wo(l,g,c,h,d,f,A.x,A.y)&&st(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=T&&S!==i&&S!==o&&Wo(l,g,c,h,d,f,S.x,S.y)&&st(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=b;){if(A.x>=m&&A.x<=w&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&Wo(l,g,c,h,d,f,A.x,A.y)&&st(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function aI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Fd(i,s)&&Sb(i,n,n.next,s)&&Kl(i,s)&&Kl(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Zl(n),Zl(n.next),n=t=s),n=n.next}while(n!==t);return to(n)}function lI(t,e,r,n,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&yI(o,l)){var c=Eb(o,l);o=to(o,o.next),c=to(c,c.next),ql(o,e,r,n,i,s,0),ql(c,e,r,n,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function uI(t,e,r,n){var i=[],s,o,l,c,d;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:t.length,d=bb(t,l,c,n,!1),d===d.next&&(d.steiner=!0),i.push(gI(d));for(i.sort(cI),s=0;s<i.length;s++)r=hI(i[s],r);return r}function cI(t,e){return t.x-e.x}function hI(t,e){var r=dI(t,e);if(!r)return e;var n=Eb(r,t);return to(n,n.next),to(r,r.next)}function dI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,g=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&Wo(i<g?n:s,i,d,g,i<g?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Kl(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&fI(o,r)))&&(o=r,h=f)),r=r.next;while(r!==c);return o}function fI(t,e){return st(t.prev,t,e.prev)<0&&st(e.next,t,t.next)<0}function pI(t,e,r,n){var i=t;do i.z===0&&(i.z=jm(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,mI(i)}function mI(t){var e,r,n,i,s,o,l,c,d=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(o>1);return t}function jm(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function gI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Wo(t,e,r,n,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(i-o)*(n-l)}function yI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!vI(t,e)&&(Kl(t,e)&&Kl(e,t)&&_I(t,e)&&(st(t.prev,t,e.prev)||st(t,e.prev,e))||Fd(t,e)&&st(t.prev,t,t.next)>0&&st(e.prev,e,e.next)>0)}function st(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fd(t,e){return t.x===e.x&&t.y===e.y}function Sb(t,e,r,n){var i=Tc(st(t,e,r)),s=Tc(st(t,e,n)),o=Tc(st(r,n,t)),l=Tc(st(r,n,e));return!!(i!==s&&o!==l||i===0&&Ec(t,r,e)||s===0&&Ec(t,n,e)||o===0&&Ec(r,t,n)||l===0&&Ec(r,e,n))}function Ec(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Tc(t){return t>0?1:t<0?-1:0}function vI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Sb(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Kl(t,e){return st(t.prev,t,t.next)<0?st(t,e,t.next)>=0&&st(t,t.prev,e)>=0:st(t,e,t.prev)<0||st(t,t.next,e)<0}function _I(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Eb(t,e){var r=new Wm(t.i,t.x,t.y),n=new Wm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function u1(t,e,r,n){var i=new Wm(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Zl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wm(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Nd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Vm(t,0,s,r));if(i)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,g=l<c-1?e[l+1]*r:t.length;o-=Math.abs(Vm(t,d,g,r))}var h=0;for(l=0;l<n.length;l+=3){var f=n[l]*r,m=n[l+1]*r,v=n[l+2]*r;h+=Math.abs((t[f]-t[v])*(t[m+1]-t[f+1])-(t[f]-t[m])*(t[v+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Vm(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Nd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var xI=Q0.exports;const wI=bu(xI);var Lh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Lh.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof di=="object"&&di;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,c=36,d=1,g=26,h=38,f=700,m=72,v=128,w="-",T=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-d,P=Math.floor,O=String.fromCharCode,k;function R(F){throw new RangeError(S[F])}function B(F,U){for(var Q=F.length,we=[];Q--;)we[Q]=U(F[Q]);return we}function j(F,U){var Q=F.split("@"),we="";Q.length>1&&(we=Q[0]+"@",F=Q[1]),F=F.replace(b,".");var xe=F.split("."),Le=B(xe,U).join(".");return we+Le}function Z(F){for(var U=[],Q=0,we=F.length,xe,Le;Q<we;)xe=F.charCodeAt(Q++),xe>=55296&&xe<=56319&&Q<we?(Le=F.charCodeAt(Q++),(Le&64512)==56320?U.push(((xe&1023)<<10)+(Le&1023)+65536):(U.push(xe),Q--)):U.push(xe);return U}function H(F){return B(F,function(U){var Q="";return U>65535&&(U-=65536,Q+=O(U>>>10&1023|55296),U=56320|U&1023),Q+=O(U),Q}).join("")}function D(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:c}function W(F,U){return F+22+75*(F<26)-((U!=0)<<5)}function te(F,U,Q){var we=0;for(F=Q?P(F/f):F>>1,F+=P(F/U);F>A*g>>1;we+=c)F=P(F/A);return P(we+(A+1)*F/(F+h))}function ae(F){var U=[],Q=F.length,we,xe=0,Le=v,Te=m,De,Tt,Dt,lt,Ae,Ve,Oe,Mr,Or;for(De=F.lastIndexOf(w),De<0&&(De=0),Tt=0;Tt<De;++Tt)F.charCodeAt(Tt)>=128&&R("not-basic"),U.push(F.charCodeAt(Tt));for(Dt=De>0?De+1:0;Dt<Q;){for(lt=xe,Ae=1,Ve=c;Dt>=Q&&R("invalid-input"),Oe=D(F.charCodeAt(Dt++)),(Oe>=c||Oe>P((l-xe)/Ae))&&R("overflow"),xe+=Oe*Ae,Mr=Ve<=Te?d:Ve>=Te+g?g:Ve-Te,!(Oe<Mr);Ve+=c)Or=c-Mr,Ae>P(l/Or)&&R("overflow"),Ae*=Or;we=U.length+1,Te=te(xe-lt,we,lt==0),P(xe/we)>l-Le&&R("overflow"),Le+=P(xe/we),xe%=we,U.splice(xe++,0,Le)}return H(U)}function ne(F){var U,Q,we,xe,Le,Te,De,Tt,Dt,lt,Ae,Ve=[],Oe,Mr,Or,Ss;for(F=Z(F),Oe=F.length,U=v,Q=0,Le=m,Te=0;Te<Oe;++Te)Ae=F[Te],Ae<128&&Ve.push(O(Ae));for(we=xe=Ve.length,xe&&Ve.push(w);we<Oe;){for(De=l,Te=0;Te<Oe;++Te)Ae=F[Te],Ae>=U&&Ae<De&&(De=Ae);for(Mr=we+1,De-U>P((l-Q)/Mr)&&R("overflow"),Q+=(De-U)*Mr,U=De,Te=0;Te<Oe;++Te)if(Ae=F[Te],Ae<U&&++Q>l&&R("overflow"),Ae==U){for(Tt=Q,Dt=c;lt=Dt<=Le?d:Dt>=Le+g?g:Dt-Le,!(Tt<lt);Dt+=c)Ss=Tt-lt,Or=c-lt,Ve.push(O(W(lt+Ss%Or,0))),Tt=P(Ss/Or);Ve.push(O(W(Tt,0))),Le=te(Q,Mr,we==xe),Q=0,++we}++Q,++U}return Ve.join("")}function M(F){return j(F,function(U){return T.test(U)?ae(U.slice(4).toLowerCase()):U})}function $(F){return j(F,function(U){return x.test(U)?"xn--"+ne(U):U})}if(o={version:"1.4.1",ucs2:{decode:Z,encode:H},decode:ae,encode:ne,toASCII:$,toUnicode:M},n&&i)if(t.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else r.punycode=o})(di)})(Lh,Lh.exports);var bI=Lh.exports,SI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},c1=typeof Symbol<"u"&&Symbol,EI=SI,TI=function(){return typeof c1!="function"||typeof Symbol!="function"||typeof c1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:EI()},h1={foo:{}},AI=Object,CI=function(){return{__proto__:h1}.foo===h1.foo&&!({__proto__:null}instanceof AI)},PI="Function.prototype.bind called on incompatible ",II=Object.prototype.toString,RI=Math.max,kI="[object Function]",d1=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},MI=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},OI=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},NI=function(e){var r=this;if(typeof r!="function"||II.apply(r)!==kI)throw new TypeError(PI+r);for(var n=MI(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,d1(n,arguments));return Object(g)===g?g:this}return r.apply(e,d1(n,arguments))},o=RI(0,r.length-n.length),l=[],c=0;c<o;c++)l[c]="$"+c;if(i=Function("binder","return function ("+OI(l,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},FI=NI,q0=Function.prototype.bind||FI,DI=Function.prototype.call,LI=Object.prototype.hasOwnProperty,BI=q0,UI=BI.call(DI,LI),Pe,wa=SyntaxError,Tb=Function,la=TypeError,Rp=function(t){try{return Tb('"use strict"; return ('+t+").constructor;")()}catch{}},Qs=Object.getOwnPropertyDescriptor;if(Qs)try{Qs({},"")}catch{Qs=null}var kp=function(){throw new la},GI=Qs?function(){try{return arguments.callee,kp}catch{try{return Qs(arguments,"callee").get}catch{return kp}}}():kp,ko=TI(),zI=CI(),kt=Object.getPrototypeOf||(zI?function(t){return t.__proto__}:null),Lo={},HI=typeof Uint8Array>"u"||!kt?Pe:kt(Uint8Array),qs={"%AggregateError%":typeof AggregateError>"u"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":ko&&kt?kt([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":Lo,"%AsyncGenerator%":Lo,"%AsyncGeneratorFunction%":Lo,"%AsyncIteratorPrototype%":Lo,"%Atomics%":typeof Atomics>"u"?Pe:Atomics,"%BigInt%":typeof BigInt>"u"?Pe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Pe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Pe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Pe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pe:FinalizationRegistry,"%Function%":Tb,"%GeneratorFunction%":Lo,"%Int8Array%":typeof Int8Array>"u"?Pe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ko&&kt?kt(kt([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map>"u"?Pe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ko||!kt?Pe:kt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pe:Promise,"%Proxy%":typeof Proxy>"u"?Pe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ko||!kt?Pe:kt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ko&&kt?kt(""[Symbol.iterator]()):Pe,"%Symbol%":ko?Symbol:Pe,"%SyntaxError%":wa,"%ThrowTypeError%":GI,"%TypedArray%":HI,"%TypeError%":la,"%Uint8Array%":typeof Uint8Array>"u"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Pe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pe:WeakSet};if(kt)try{null.error}catch(t){var $I=kt(kt(t));qs["%Error.prototype%"]=$I}var jI=function t(e){var r;if(e==="%AsyncFunction%")r=Rp("async function () {}");else if(e==="%GeneratorFunction%")r=Rp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Rp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&kt&&(r=kt(i.prototype))}return qs[e]=r,r},f1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Au=q0,Bh=UI,WI=Au.call(Function.call,Array.prototype.concat),VI=Au.call(Function.apply,Array.prototype.splice),p1=Au.call(Function.call,String.prototype.replace),Uh=Au.call(Function.call,String.prototype.slice),XI=Au.call(Function.call,RegExp.prototype.exec),YI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,QI=/\\(\\)?/g,qI=function(e){var r=Uh(e,0,1),n=Uh(e,-1);if(r==="%"&&n!=="%")throw new wa("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new wa("invalid intrinsic syntax, expected opening `%`");var i=[];return p1(e,YI,function(s,o,l,c){i[i.length]=l?p1(c,QI,"$1"):o||s}),i},KI=function(e,r){var n=e,i;if(Bh(f1,n)&&(i=f1[n],n="%"+i[0]+"%"),Bh(qs,n)){var s=qs[n];if(s===Lo&&(s=jI(n)),typeof s>"u"&&!r)throw new la("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new wa("intrinsic "+e+" does not exist!")},uo=function(e,r){if(typeof e!="string"||e.length===0)throw new la("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new la('"allowMissing" argument must be a boolean');if(XI(/^%?[^%]*%?$/,e)===null)throw new wa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qI(e),i=n.length>0?n[0]:"",s=KI("%"+i+"%",r),o=s.name,l=s.value,c=!1,d=s.alias;d&&(i=d[0],VI(n,WI([0,1],d)));for(var g=1,h=!0;g<n.length;g+=1){var f=n[g],m=Uh(f,0,1),v=Uh(f,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new wa("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",Bh(qs,o))l=qs[o];else if(l!=null){if(!(f in l)){if(!r)throw new la("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qs&&g+1>=n.length){var w=Qs(l,f);h=!!w,h&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[f]}else h=Bh(l,f),l=l[f];h&&!c&&(qs[o]=l)}}return l},Ab={exports:{}},ZI=uo,Xm=ZI("%Object.defineProperty%",!0),Ym=function(){if(Xm)try{return Xm({},"a",{value:1}),!0}catch{return!1}return!1};Ym.hasArrayLengthDefineBug=function(){if(!Ym())return null;try{return Xm([],"length",{value:1}).length!==1}catch{return!0}};var Cb=Ym,JI=uo,gh=JI("%Object.getOwnPropertyDescriptor%",!0);if(gh)try{gh([],"length")}catch{gh=null}var Pb=gh,e2=Cb(),K0=uo,Nl=e2&&K0("%Object.defineProperty%",!0);if(Nl)try{Nl({},"a",{value:1})}catch{Nl=!1}var t2=K0("%SyntaxError%"),Mo=K0("%TypeError%"),m1=Pb,r2=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Mo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Mo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,c=!!m1&&m1(e,r);if(Nl)Nl(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(l||!i&&!s&&!o)e[r]=n;else throw new t2("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ib=uo,g1=r2,n2=Cb(),y1=Pb,v1=Ib("%TypeError%"),i2=Ib("%Math.floor%"),s2=function(e,r){if(typeof e!="function")throw new v1("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||i2(r)!==r)throw new v1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&y1){var o=y1(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(n2?g1(e,"length",r,!0,!0):g1(e,"length",r)),e};(function(t){var e=q0,r=uo,n=s2,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=l(e,o,arguments);return n(m,1+d(0,f.length-(arguments.length-1)),!0)};var g=function(){return l(e,s,arguments)};c?c(t.exports,"apply",{value:g}):t.exports.apply=g})(Ab);var o2=Ab.exports,Rb=uo,kb=o2,a2=kb(Rb("String.prototype.indexOf")),l2=function(e,r){var n=Rb(e,!!r);return typeof n=="function"&&a2(e,".prototype.")>-1?kb(n):n};const u2={},c2=Object.freeze(Object.defineProperty({__proto__:null,default:u2},Symbol.toStringTag,{value:"Module"})),h2=ob(c2);var Z0=typeof Map=="function"&&Map.prototype,Mp=Object.getOwnPropertyDescriptor&&Z0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Gh=Z0&&Mp&&typeof Mp.get=="function"?Mp.get:null,_1=Z0&&Map.prototype.forEach,J0=typeof Set=="function"&&Set.prototype,Op=Object.getOwnPropertyDescriptor&&J0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,zh=J0&&Op&&typeof Op.get=="function"?Op.get:null,x1=J0&&Set.prototype.forEach,d2=typeof WeakMap=="function"&&WeakMap.prototype,Fl=d2?WeakMap.prototype.has:null,f2=typeof WeakSet=="function"&&WeakSet.prototype,Dl=f2?WeakSet.prototype.has:null,p2=typeof WeakRef=="function"&&WeakRef.prototype,w1=p2?WeakRef.prototype.deref:null,m2=Boolean.prototype.valueOf,g2=Object.prototype.toString,y2=Function.prototype.toString,v2=String.prototype.match,ey=String.prototype.slice,Zi=String.prototype.replace,_2=String.prototype.toUpperCase,b1=String.prototype.toLowerCase,Mb=RegExp.prototype.test,S1=Array.prototype.concat,Gn=Array.prototype.join,x2=Array.prototype.slice,E1=Math.floor,Qm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Np=Object.getOwnPropertySymbols,qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ba=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Zt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ba||"symbol")?Symbol.toStringTag:null,Ob=Object.prototype.propertyIsEnumerable,T1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function A1(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Mb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-E1(-t):E1(t);if(n!==t){var i=String(n),s=ey.call(e,i.length+1);return Zi.call(i,r,"$&_")+"."+Zi.call(Zi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zi.call(e,r,"$&_")}var Km=h2,C1=Km.custom,P1=Fb(C1)?C1:null,w2=function t(e,r,n,i){var s=r||{};if(Wi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Wi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Wi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Wi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Wi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Lb(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?A1(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?A1(e,d):d}var g=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return Zm(e)?"[Array]":"[Object]";var h=U2(s,n);if(typeof i>"u")i=[];else if(Db(i,e)>=0)return"[Circular]";function f(D,W,te){if(W&&(i=x2.call(i),i.push(W)),te){var ae={depth:s.depth};return Wi(s,"quoteStyle")&&(ae.quoteStyle=s.quoteStyle),t(D,ae,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!I1(e)){var m=R2(e),v=Ac(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+Gn.call(v,", ")+" }":"")}if(Fb(e)){var w=ba?Zi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qm.call(e);return typeof e=="object"&&!ba?ol(w):w}if(D2(e)){for(var T="<"+b1.call(String(e.nodeName)),x=e.attributes||[],b=0;b<x.length;b++)T+=" "+x[b].name+"="+Nb(b2(x[b].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+b1.call(String(e.nodeName))+">",T}if(Zm(e)){if(e.length===0)return"[]";var S=Ac(e,f);return h&&!B2(S)?"["+Jm(S,h)+"]":"[ "+Gn.call(S,", ")+" ]"}if(E2(e)){var A=Ac(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Ob.call(e,"cause")?"{ ["+String(e)+"] "+Gn.call(S1.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Gn.call(A,", ")+" }"}if(typeof e=="object"&&o){if(P1&&typeof e[P1]=="function"&&Km)return Km(e,{depth:g-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(k2(e)){var P=[];return _1&&_1.call(e,function(D,W){P.push(f(W,e,!0)+" => "+f(D,e))}),R1("Map",Gh.call(e),P,h)}if(N2(e)){var O=[];return x1&&x1.call(e,function(D){O.push(f(D,e))}),R1("Set",zh.call(e),O,h)}if(M2(e))return Fp("WeakMap");if(F2(e))return Fp("WeakSet");if(O2(e))return Fp("WeakRef");if(A2(e))return ol(f(Number(e)));if(P2(e))return ol(f(Qm.call(e)));if(C2(e))return ol(m2.call(e));if(T2(e))return ol(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===di)return"{ [object globalThis] }";if(!S2(e)&&!I1(e)){var k=Ac(e,f),R=T1?T1(e)===Object.prototype:e instanceof Object||e.constructor===Object,B=e instanceof Object?"":"null prototype",j=!R&&Zt&&Object(e)===e&&Zt in e?ey.call(ys(e),8,-1):B?"Object":"",Z=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=Z+(j||B?"["+Gn.call(S1.call([],j||[],B||[]),": ")+"] ":"");return k.length===0?H+"{}":h?H+"{"+Jm(k,h)+"}":H+"{ "+Gn.call(k,", ")+" }"}return String(e)};function Nb(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function b2(t){return Zi.call(String(t),/"/g,"&quot;")}function Zm(t){return ys(t)==="[object Array]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function S2(t){return ys(t)==="[object Date]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function I1(t){return ys(t)==="[object RegExp]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function E2(t){return ys(t)==="[object Error]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function T2(t){return ys(t)==="[object String]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function A2(t){return ys(t)==="[object Number]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function C2(t){return ys(t)==="[object Boolean]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function Fb(t){if(ba)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qm)return!1;try{return qm.call(t),!0}catch{}return!1}function P2(t){if(!t||typeof t!="object"||!Qm)return!1;try{return Qm.call(t),!0}catch{}return!1}var I2=Object.prototype.hasOwnProperty||function(t){return t in this};function Wi(t,e){return I2.call(t,e)}function ys(t){return g2.call(t)}function R2(t){if(t.name)return t.name;var e=v2.call(y2.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Db(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function k2(t){if(!Gh||!t||typeof t!="object")return!1;try{Gh.call(t);try{zh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function M2(t){if(!Fl||!t||typeof t!="object")return!1;try{Fl.call(t,Fl);try{Dl.call(t,Dl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function O2(t){if(!w1||!t||typeof t!="object")return!1;try{return w1.call(t),!0}catch{}return!1}function N2(t){if(!zh||!t||typeof t!="object")return!1;try{zh.call(t);try{Gh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function F2(t){if(!Dl||!t||typeof t!="object")return!1;try{Dl.call(t,Dl);try{Fl.call(t,Fl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function D2(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Lb(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Lb(ey.call(t,0,e.maxStringLength),e)+n}var i=Zi.call(Zi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,L2);return Nb(i,"single",e)}function L2(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+_2.call(e.toString(16))}function ol(t){return"Object("+t+")"}function Fp(t){return t+" { ? }"}function R1(t,e,r,n){var i=n?Jm(r,n):Gn.call(r,", ");return t+" ("+e+") {"+i+"}"}function B2(t){for(var e=0;e<t.length;e++)if(Db(t[e],`
`)>=0)return!1;return!0}function U2(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Gn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Gn.call(Array(e+1),r)}}function Jm(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Gn.call(t,","+r)+`
`+e.prev}function Ac(t,e){var r=Zm(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Wi(t,i)?e(t[i],t):""}var s=typeof Np=="function"?Np(t):[],o;if(ba){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)Wi(t,c)&&(r&&String(Number(c))===c&&c<t.length||ba&&o["$"+c]instanceof Symbol||(Mb.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Np=="function")for(var d=0;d<s.length;d++)Ob.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var ty=uo,Fa=l2,G2=w2,z2=ty("%TypeError%"),Cc=ty("%WeakMap%",!0),Pc=ty("%Map%",!0),H2=Fa("WeakMap.prototype.get",!0),$2=Fa("WeakMap.prototype.set",!0),j2=Fa("WeakMap.prototype.has",!0),W2=Fa("Map.prototype.get",!0),V2=Fa("Map.prototype.set",!0),X2=Fa("Map.prototype.has",!0),ry=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Y2=function(t,e){var r=ry(t,e);return r&&r.value},Q2=function(t,e,r){var n=ry(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},q2=function(t,e){return!!ry(t,e)},K2=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new z2("Side channel does not contain "+G2(s))},get:function(s){if(Cc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return H2(e,s)}else if(Pc){if(r)return W2(r,s)}else if(n)return Y2(n,s)},has:function(s){if(Cc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return j2(e,s)}else if(Pc){if(r)return X2(r,s)}else if(n)return q2(n,s);return!1},set:function(s,o){Cc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Cc),$2(e,s,o)):Pc?(r||(r=new Pc),V2(r,s,o)):(n||(n={key:{},next:null}),Q2(n,s,o))}};return i},Z2=String.prototype.replace,J2=/%20/g,Dp={RFC1738:"RFC1738",RFC3986:"RFC3986"},ny={default:Dp.RFC3986,formatters:{RFC1738:function(t){return Z2.call(t,J2,"+")},RFC3986:function(t){return String(t)}},RFC1738:Dp.RFC1738,RFC3986:Dp.RFC3986},eR=ny,Lp=Object.prototype.hasOwnProperty,js=Array.isArray,Mn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),tR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(js(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Bb=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},rR=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(js(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Lp.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return js(e)&&!js(r)&&(i=Bb(e,n)),js(e)&&js(r)?(r.forEach(function(s,o){if(Lp.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return Lp.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},nR=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},iR=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},sR=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;++c){var d=o.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===eR.RFC1738&&(d===40||d===41)){l+=o.charAt(c);continue}if(d<128){l=l+Mn[d];continue}if(d<2048){l=l+(Mn[192|d>>6]+Mn[128|d&63]);continue}if(d<55296||d>=57344){l=l+(Mn[224|d>>12]+Mn[128|d>>6&63]+Mn[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|o.charCodeAt(c)&1023),l+=Mn[240|d>>18]+Mn[128|d>>12&63]+Mn[128|d>>6&63]+Mn[128|d&63]}return l},oR=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],l=Object.keys(o),c=0;c<l.length;++c){var d=l[c],g=o[d];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(r.push({obj:o,prop:d}),n.push(g))}return tR(r),e},aR=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},lR=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},uR=function(e,r){return[].concat(e,r)},cR=function(e,r){if(js(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Ub={arrayToObject:Bb,assign:nR,combine:uR,compact:oR,decode:iR,encode:sR,isBuffer:lR,isRegExp:aR,maybeMap:cR,merge:rR},Gb=K2,yh=Ub,Ll=ny,hR=Object.prototype.hasOwnProperty,k1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ci=Array.isArray,dR=Array.prototype.push,zb=function(t,e){dR.apply(t,ci(e)?e:[e])},fR=Date.prototype.toISOString,M1=Ll.default,qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:yh.encode,encodeValuesOnly:!1,format:M1,formatter:Ll.formatters[M1],indices:!1,serializeDate:function(e){return fR.call(e)},skipNulls:!1,strictNullHandling:!1},pR=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bp={},mR=function t(e,r,n,i,s,o,l,c,d,g,h,f,m,v,w,T){for(var x=e,b=T,S=0,A=!1;(b=b.get(Bp))!==void 0&&!A;){var P=b.get(e);if(S+=1,typeof P<"u"){if(P===S)throw new RangeError("Cyclic object value");A=!0}typeof b.get(Bp)>"u"&&(S=0)}if(typeof c=="function"?x=c(r,x):x instanceof Date?x=h(x):n==="comma"&&ci(x)&&(x=yh.maybeMap(x,function(ae){return ae instanceof Date?h(ae):ae})),x===null){if(s)return l&&!v?l(r,qt.encoder,w,"key",f):r;x=""}if(pR(x)||yh.isBuffer(x)){if(l){var O=v?r:l(r,qt.encoder,w,"key",f);return[m(O)+"="+m(l(x,qt.encoder,w,"value",f))]}return[m(r)+"="+m(String(x))]}var k=[];if(typeof x>"u")return k;var R;if(n==="comma"&&ci(x))v&&l&&(x=yh.maybeMap(x,l)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(ci(c))R=c;else{var B=Object.keys(x);R=d?B.sort(d):B}for(var j=i&&ci(x)&&x.length===1?r+"[]":r,Z=0;Z<R.length;++Z){var H=R[Z],D=typeof H=="object"&&typeof H.value<"u"?H.value:x[H];if(!(o&&D===null)){var W=ci(x)?typeof n=="function"?n(j,H):j:j+(g?"."+H:"["+H+"]");T.set(e,S);var te=Gb();te.set(Bp,T),zb(k,t(D,W,n,i,s,o,n==="comma"&&v&&ci(x)?null:l,c,d,g,h,f,m,v,w,te))}}return k},gR=function(e){if(!e)return qt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||qt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ll.default;if(typeof e.format<"u"){if(!hR.call(Ll.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ll.formatters[n],s=qt.filter;return(typeof e.filter=="function"||ci(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:qt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?qt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:qt.charsetSentinel,delimiter:typeof e.delimiter>"u"?qt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:qt.encode,encoder:typeof e.encoder=="function"?e.encoder:qt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:qt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:qt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:qt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:qt.strictNullHandling}},yR=function(t,e){var r=t,n=gR(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ci(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in k1?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=k1[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var g=Gb(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||zb(o,mR(r[f],f,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var m=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},Sa=Ub,eg=Object.prototype.hasOwnProperty,vR=Array.isArray,Rt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Sa.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_R=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Hb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},xR="utf8=%26%2310003%3B",wR="utf8=%E2%9C%93",bR=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===wR?d="utf-8":o[c]===xR&&(d="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var g=o[c],h=g.indexOf("]="),f=h===-1?g.indexOf("="):h+1,m,v;f===-1?(m=r.decoder(g,Rt.decoder,d,"key"),v=r.strictNullHandling?null:""):(m=r.decoder(g.slice(0,f),Rt.decoder,d,"key"),v=Sa.maybeMap(Hb(g.slice(f+1),r),function(w){return r.decoder(w,Rt.decoder,d,"value")})),v&&r.interpretNumericEntities&&d==="iso-8859-1"&&(v=_R(v)),g.indexOf("[]=")>-1&&(v=vR(v)?[v]:v),eg.call(n,m)?n[m]=Sa.combine(n[m],v):n[m]=v}return n},SR=function(t,e,r,n){for(var i=n?e:Hb(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},ER=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),d=c?s.slice(0,c.index):s,g=[];if(d){if(!n.plainObjects&&eg.call(Object.prototype,d)&&!n.allowPrototypes)return;g.push(d)}for(var h=0;n.depth>0&&(c=l.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&eg.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(c[1])}return c&&g.push("["+s.slice(c.index)+"]"),SR(g,r,n,i)}},TR=function(e){if(!e)return Rt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Rt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Rt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Rt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Rt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Rt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Rt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Rt.comma,decoder:typeof e.decoder=="function"?e.decoder:Rt.decoder,delimiter:typeof e.delimiter=="string"||Sa.isRegExp(e.delimiter)?e.delimiter:Rt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Rt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Rt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Rt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Rt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Rt.strictNullHandling}},AR=function(t,e){var r=TR(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?bR(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],c=ER(l,n[l],r,typeof t=="string");i=Sa.merge(i,c,r)}return r.allowSparse===!0?i:Sa.compact(i)},CR=yR,PR=AR,IR=ny,RR={formats:IR,parse:PR,stringify:CR},kR=bI;function wi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var MR=/^([a-z0-9.+-]+:)/i,OR=/:[0-9]*$/,NR=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,FR=["<",">",'"',"`"," ","\r",`
`,"	"],DR=["{","}","|","\\","^","`"].concat(FR),tg=["'"].concat(DR),O1=["%","/","?",";","#"].concat(tg),N1=["/","?","#"],LR=255,F1=/^[+a-z0-9A-Z_-]{0,63}$/,BR=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,UR={javascript:!0,"javascript:":!0},rg={javascript:!0,"javascript:":!0},ua={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ng=RR;function GR(t,e,r){if(t&&typeof t=="object"&&t instanceof wi)return t;var n=new wi;return n.parse(t,e,r),n}wi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=NR.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=ng.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=MR.exec(l);if(d){d=d[0];var g=d.toLowerCase();this.protocol=g,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var h=l.substr(0,2)==="//";h&&!(d&&rg[d])&&(l=l.substr(2),this.slashes=!0)}if(!rg[d]&&(h||d&&!ua[d])){for(var f=-1,m=0;m<N1.length;m++){var v=l.indexOf(N1[m]);v!==-1&&(f===-1||v<f)&&(f=v)}var w,T;f===-1?T=l.lastIndexOf("@"):T=l.lastIndexOf("@",f),T!==-1&&(w=l.slice(0,T),l=l.slice(T+1),this.auth=decodeURIComponent(w)),f=-1;for(var m=0;m<O1.length;m++){var v=l.indexOf(O1[m]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=l.length),this.host=l.slice(0,f),l=l.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var b=this.hostname.split(/\./),m=0,S=b.length;m<S;m++){var A=b[m];if(A&&!A.match(F1)){for(var P="",O=0,k=A.length;O<k;O++)A.charCodeAt(O)>127?P+="x":P+=A[O];if(!P.match(F1)){var R=b.slice(0,m),B=b.slice(m+1),j=A.match(BR);j&&(R.push(j[1]),B.unshift(j[2])),B.length&&(l="/"+B.join(".")+l),this.hostname=R.join(".");break}}}this.hostname.length>LR?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=kR.toASCII(this.hostname));var Z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+Z,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!UR[g])for(var m=0,S=tg.length;m<S;m++){var D=tg[m];if(l.indexOf(D)!==-1){var W=encodeURIComponent(D);W===D&&(W=escape(D)),l=l.split(D).join(W)}}var te=l.indexOf("#");te!==-1&&(this.hash=l.substr(te),l=l.slice(0,te));var ae=l.indexOf("?");if(ae!==-1?(this.search=l.substr(ae),this.query=l.substr(ae+1),e&&(this.query=ng.parse(this.query)),l=l.slice(0,ae)):e&&(this.search="",this.query={}),l&&(this.pathname=l),ua[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",ne=this.search||"";this.path=Z+ne}return this.href=this.format(),this};wi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=ng.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ua[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+r+o+n};wi.prototype.resolve=function(t){return this.resolveObject(GR(t,!1,!0)).format()};wi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new wi;e.parse(t,!1,!0),t=e}for(var r=new wi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return ua[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ua[t.protocol]){for(var d=Object.keys(t),g=0;g<d.length;g++){var h=d[g];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!rg[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=w||v||r.host&&t.pathname,x=T,b=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!ua[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),T=T&&(S[0]===""||b[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=S;else if(S.length)b||(b=[]),b.pop(),b=b.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=b.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=b.slice(-1)[0],k=(r.host||t.host||b.length>1)&&(O==="."||O==="..")||O==="",R=0,B=b.length;B>=0;B--)O=b[B],O==="."?b.splice(B,1):O===".."?(b.splice(B,1),R++):R&&(b.splice(B,1),R--);if(!T&&!x)for(;R--;R)b.unshift("..");T&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),k&&b.join("/").substr(-1)!=="/"&&b.push("");var j=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(A){r.hostname=j?"":b.length?b.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return T=T||r.host&&b.length,T&&!j&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};wi.prototype.parseHost=function(){var t=this.host,e=OR.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const D1={};function Ce(t,e,r=3){if(D1[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),D1[e]=!0}function nn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function al(t){return t.split("?")[0].split("#")[0]}function zR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function HR(t,e,r){return t.replace(new RegExp(zR(e),"g"),r)}function $R(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,l)}`:r=t.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Et={toPosix(t){return HR(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){nn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(nn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=al(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=al(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Et.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(nn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=$R(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return nn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(nn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(nn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){nn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){nn(t),e&&nn(e),t=al(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){nn(t),t=al(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){nn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=al(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,c=!0,d=t.length-1,g=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?s===-1?s=d:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||l===-1||g===0||g===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Up;async function jR(){return Up??(Up=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return fr.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return fr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?fr.PMA:fr.UNPACK})()),Up}let Gp;function WR(){return typeof Gp>"u"&&(Gp=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const r=ce.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Gp}var VR={grad:.9,turn:360,rad:360/(2*Math.PI)},oi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Mt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Vr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},$b=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},L1=function(t){return{r:Vr(t.r,0,255),g:Vr(t.g,0,255),b:Vr(t.b,0,255),a:Vr(t.a)}},zp=function(t){return{r:Mt(t.r),g:Mt(t.g),b:Mt(t.b),a:Mt(t.a,3)}},XR=/^#([0-9a-f]{3,8})$/i,Ic=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},jb=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),l=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},Wb=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),l=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,l,o,o,c,n][d],g:255*[c,n,n,l,o,o][d],b:255*[o,o,c,n,n,l][d],a:i}},B1=function(t){return{h:$b(t.h),s:Vr(t.s,0,100),l:Vr(t.l,0,100),a:Vr(t.a)}},U1=function(t){return{h:Mt(t.h),s:Mt(t.s),l:Mt(t.l),a:Mt(t.a,3)}},G1=function(t){return Wb((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Bl=function(t){return{h:(e=jb(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},YR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,QR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,KR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ig={string:[[function(t){var e=XR.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Mt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Mt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=qR.exec(t)||KR.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:L1({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=YR.exec(t)||QR.exec(t);if(!e)return null;var r,n,i=B1({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(VR[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return G1(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return oi(e)&&oi(r)&&oi(n)?L1({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!oi(e)||!oi(r)||!oi(n))return null;var o=B1({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return G1(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!oi(e)||!oi(r)||!oi(n))return null;var o=function(l){return{h:$b(l.h),s:Vr(l.s,0,100),v:Vr(l.v,0,100),a:Vr(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Wb(o)},"hsv"]]},z1=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},ZR=function(t){return typeof t=="string"?z1(t.trim(),ig.string):typeof t=="object"&&t!==null?z1(t,ig.object):[null,void 0]},Hp=function(t,e){var r=Bl(t);return{h:r.h,s:Vr(r.s+100*e,0,100),l:r.l,a:r.a}},$p=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},H1=function(t,e){var r=Bl(t);return{h:r.h,s:r.s,l:Vr(r.l+100*e,0,100),a:r.a}},sg=function(){function t(e){this.parsed=ZR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Mt($p(this.rgba),2)},t.prototype.isDark=function(){return $p(this.rgba)<.5},t.prototype.isLight=function(){return $p(this.rgba)>=.5},t.prototype.toHex=function(){return e=zp(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Ic(Mt(255*s)):"","#"+Ic(r)+Ic(n)+Ic(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return zp(this.rgba)},t.prototype.toRgbString=function(){return e=zp(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return U1(Bl(this.rgba))},t.prototype.toHslString=function(){return e=U1(Bl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=jb(this.rgba),{h:Mt(e.h),s:Mt(e.s),v:Mt(e.v),a:Mt(e.a,3)};var e},t.prototype.invert=function(){return Nn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Nn(Hp(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Nn(Hp(this.rgba,-e))},t.prototype.grayscale=function(){return Nn(Hp(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Nn(H1(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Nn(H1(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Nn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Mt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Bl(this.rgba);return typeof e=="number"?Nn({h:e,s:r.s,l:r.l,a:r.a}):Mt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Nn(e).toHex()},t}(),Nn=function(t){return t instanceof sg?t:new sg(t)},$1=[],JR=function(t){t.forEach(function(e){$1.indexOf(e)<0&&(e(sg,ig),$1.push(e))})};function ek(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var g=this.toRgb(),h=1/0,f="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var v in r){var w=(l=g,c=s[v],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));w<h&&(h=w,f=v)}return f}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}JR([ek]);const Bo=class vh{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof vh)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=vh.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=vh.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=Nn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Bo.shared=new Bo,Bo.temp=new Bo,Bo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let je=Bo;function tk(t){return Ce("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),je.shared.setValue(t).toHex()}function rk(t){return Ce("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),je.shared.setValue(t).toNumber()}function nk(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Vb=nk();function Xb(t,e){return Vb[e?1:0][t]}function ik(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Yb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Hh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function j1(t){return!(t&t-1)&&!!t}function W1(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ca(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ji(t){return t===0?0:t<0?-1:1}let sk=0;function ro(){return++sk}const og=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};og.EMPTY=new og(0,0,0,0);let V1=og;const X1={},Fn=Object.create(null),zi=Object.create(null);class ok{constructor(e,r,n){this._canvas=ce.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ce.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Y1(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Q1(t,e,r,n,i){const s=4*e;for(let o=n,l=n*s+4*r;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function ak(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,l=e-1,c=r-1;for(;o<r&&Y1(i,e,o);)++o;if(o===r)return V1.EMPTY;for(;Y1(i,e,c);)--c;for(;Q1(i,e,s,o,c);)++s;for(;Q1(i,e,l,o,c);)--l;return++l,++c,new V1(s,o,l,c)}function lk(t){const e=ak(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function uk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Si(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var se=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(se||{});const ag=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},q1=(t,e)=>ag(t).priority??e,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(ag).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(ag).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>q1(s,r)-q1(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class lg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const ck=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function hk(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function dk(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=ck.replace(/%forloop%/gi,hk(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const jp=0,Wp=1,Vp=2,Xp=3,Yp=4,Qp=5;class Jn{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<jp)}set blend(e){!!(this.data&1<<jp)!==e&&(this.data^=1<<jp)}get offsets(){return!!(this.data&1<<Wp)}set offsets(e){!!(this.data&1<<Wp)!==e&&(this.data^=1<<Wp)}get culling(){return!!(this.data&1<<Vp)}set culling(e){!!(this.data&1<<Vp)!==e&&(this.data^=1<<Vp)}get depthTest(){return!!(this.data&1<<Xp)}set depthTest(e){!!(this.data&1<<Xp)!==e&&(this.data^=1<<Xp)}get depthMask(){return!!(this.data&1<<Qp)}set depthMask(e){!!(this.data&1<<Qp)!==e&&(this.data^=1<<Qp)}get clockwiseFrontFace(){return!!(this.data&1<<Yp)}set clockwiseFrontFace(e){!!(this.data&1<<Yp)!==e&&(this.data^=1<<Yp)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Jn;return e.depthTest=!1,e.blend=!0,e}}Jn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const ug=[];function Qb(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=ug.length-1;n>=0;--n){const i=ug[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class gn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:g}=this;this._aliasCount++;for(let h=0,f=g.length;h<f;h++)g[h][d](e,r,n,i,s,o,l,c);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(gn.prototype,{dispatch:{value:gn.prototype.emit},run:{value:gn.prototype.emit}});class Jl{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new gn("setRealSize"),this.onUpdate=new gn("update"),this.onError=new gn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Dd extends Jl{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const fk={scaleMode:fi.NEAREST,alphaMode:fr.NPM},cg=class Uo extends Tu{constructor(e=null,r=null){super(),r=Object.assign({},Uo.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:l,height:c,wrapMode:d,format:g,type:h,target:f,resolution:m,resourceOptions:v}=r;e&&!(e instanceof Jl)&&(e=Qb(e,v),e.internal=!0),this.resolution=m||ce.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=g,this.type=h,this.target=f,this.alphaMode=n,this.uid=ro(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=j1(this.realWidth)&&j1(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete zi[this.cacheId],delete Fn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Uo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${ro()}`}s=e._pixiId}let o=zi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Uo(e,r),o.cacheId=s,Uo.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Dd(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,l;return e instanceof Float32Array?(o=ee.RGBA,l=ye.FLOAT):e instanceof Int32Array?(o=ee.RGBA_INTEGER,l=ye.INT):e instanceof Uint32Array?(o=ee.RGBA_INTEGER,l=ye.UNSIGNED_INT):e instanceof Int16Array?(o=ee.RGBA_INTEGER,l=ye.SHORT):e instanceof Uint16Array?(o=ee.RGBA_INTEGER,l=ye.UNSIGNED_SHORT):e instanceof Int8Array?(o=ee.RGBA,l=ye.BYTE):(o=ee.RGBA,l=ye.UNSIGNED_BYTE),s.internal=!0,new Uo(s,Object.assign({},fk,{type:l,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),zi[r]&&zi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),zi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=zi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete zi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete zi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};cg.defaultOptions={mipmap:Yn.POW2,anisotropicLevel:0,scaleMode:fi.LINEAR,wrapMode:xi.CLAMP,alphaMode:fr.UNPACK,target:aa.TEXTURE_2D,format:ee.RGBA,type:ye.UNSIGNED_BYTE},cg._globalBatch=0;let be=cg;class hg{constructor(){this.texArray=null,this.blend=0,this.type=fn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let pk=0;class pt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=pk++,this.disposeRunner=new gn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?$n.ELEMENT_ARRAY_BUFFER:$n.ARRAY_BUFFER}get index(){return this.type===$n.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pt(e)}}class $h{constructor(e,r=0,n=!1,i=ye.FLOAT,s,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new $h(e,r,n,i,s)}}const mk={Float32Array,Uint32Array,Int32Array,Uint8Array};function gk(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],g=t[c],h=Yb(g);i[h]||(i[h]=new mk[h](s)),o=i[h];for(let f=0;f<g.length;f++){const m=(f/d|0)*n+l,v=f%d;o[m+v]=g[f]}l+=d}return new Float32Array(s)}const K1={5126:4,5123:2,5121:1};let yk=0;const vk={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ds{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=yk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new gn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof pt||(r instanceof Array&&(r=new Float32Array(r)),r=new pt(r));const d=e.split("|");if(d.length>1){for(let h=0;h<d.length;h++)this.addAttribute(d[h],r,n,i,s);return this}let g=this.buffers.indexOf(r);return g===-1&&(this.buffers.push(r),g=this.buffers.length-1),this.attributes[e]=new $h(g,n,i,s,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pt||(e instanceof Array&&(e=new Uint16Array(e)),e=new pt(e)),e.type=$n.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new pt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*K1[s.type]/4),s.buffer=0}for(n.data=gk(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ds;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new pt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new $h(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ds,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new vk[Yb(o.buffers[l].data)](i[l]),r.buffers[l]=new pt(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,g=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){g=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===g&&(c+=f.size*K1[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let m=0;m<f.length;m++)r.indexBuffer.data[m+d]+=l;l+=e[h].buffers[g].data.length/c,d+=f.length}}return r}}class qb extends ds{constructor(e=!1){super(),this._buffer=new pt(null,e,!1),this._indexBuffer=new pt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ye.FLOAT).addIndex(this._indexBuffer)}}const jh=Math.PI*2,_k=180/Math.PI,xk=Math.PI/180;var zt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(zt||{});class Ie{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ie(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Ie.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Rc=[new Ie,new Ie,new Ie,new Ie];let Se=class dg{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=zt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new dg(0,0,0,0)}clone(){return new dg(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const B=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>B}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=Rc[0].set(e.left,e.top),c=Rc[1].set(e.left,e.bottom),d=Rc[2].set(e.right,e.top),g=Rc[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(l,l),r.apply(c,c),r.apply(d,d),r.apply(g,g),Math.max(l.x,c.x,d.x,g.x)<=n||Math.min(l.x,c.x,d.x,g.x)>=i||Math.max(l.y,c.y,d.y,g.y)<=s||Math.min(l.y,c.y,d.y,g.y)>=o))return!1;const f=h*(c.y-l.y),m=h*(l.x-c.x),v=f*n+m*s,w=f*i+m*s,T=f*n+m*o,x=f*i+m*o;if(Math.max(v,w,T,x)<=f*l.x+m*l.y||Math.min(v,w,T,x)>=f*g.x+m*g.y)return!1;const b=h*(l.y-d.y),S=h*(d.x-l.x),A=b*n+S*s,P=b*i+S*s,O=b*n+S*o,k=b*i+S*o;return!(Math.max(A,P,O,k)<=b*l.x+S*l.y||Math.min(A,P,O,k)>=b*g.x+S*g.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}};Se.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ld{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=zt.CIRC}clone(){return new Ld(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Se(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Ld.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Bd{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=zt.ELIP}clone(){return new Bd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Se(this.x-this.width,this.y-this.height,this.width,this.height)}}Bd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ks{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=zt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ks(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],g=this.points[o*2+1];c>r!=g>r&&e<(d-l)*((r-c)/(g-c))+l&&(n=!n)}return n}}Ks.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Ud{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=zt.RREC}clone(){return new Ud(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Ud.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class qe{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ie;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ie;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,l,c,d){return this.a=Math.cos(l+d)*s,this.b=Math.sin(l+d)*s,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(l+c);return d<1e-5||Math.abs(jh-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new qe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new qe}static get TEMP_MATRIX(){return new qe}}qe.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ds=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ls=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Bs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Us=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],fg=[],Kb=[],kc=Math.sign;function wk(){for(let t=0;t<16;t++){const e=[];fg.push(e);for(let r=0;r<16;r++){const n=kc(Ds[t]*Ds[r]+Bs[t]*Ls[r]),i=kc(Ls[t]*Ds[r]+Us[t]*Ls[r]),s=kc(Ds[t]*Bs[r]+Bs[t]*Us[r]),o=kc(Ls[t]*Bs[r]+Us[t]*Us[r]);for(let l=0;l<16;l++)if(Ds[l]===n&&Ls[l]===i&&Bs[l]===s&&Us[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new qe;e.set(Ds[t],Ls[t],Bs[t],Us[t],0,0),Kb.push(e)}}wk();const nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ds[t],uY:t=>Ls[t],vX:t=>Bs[t],vY:t=>Us[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>fg[t][e],sub:(t,e)=>fg[t][nt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?nt.S:nt.N:Math.abs(e)*2<=Math.abs(t)?t>0?nt.E:nt.W:e>0?t>0?nt.SE:nt.SW:t>0?nt.NE:nt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=Kb[nt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Hn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Hn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Hn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const pg=class{constructor(){this.worldTransform=new qe,this.localTransform=new qe,this.position=new Hn(this.onChange,this,0,0),this.scale=new Hn(this.onChange,this,1,1),this.pivot=new Hn(this.onChange,this,0,0),this.skew=new Hn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};pg.IDENTITY=new pg;let Gd=pg;Gd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var bk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Sk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Z1(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function qp(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Zb(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return qp(2*e);case"bvec3":return qp(3*e);case"bvec4":return qp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ha=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Ek={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Tk={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Ak(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let c=0;c<ha.length;c++)if(ha[c].test(s,o)){r.push(ha[c].code(i,o)),l=!0;break}if(!l){const c=(s.size===1&&!s.isArray?Ek:Tk)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Jb={};let Oo=Jb;function Ck(){if(Oo===Jb||Oo!=null&&Oo.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=lo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Oo=e}return Oo}let Mc;function Pk(){if(!Mc){Mc=Wr.MEDIUM;const t=Ck();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Mc=e.precision?Wr.HIGH:Wr.MEDIUM)}}return Mc}function J1(t,e){const r=t.getShaderSource(e).split(`
`).map((d,g)=>`${g}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),l=[""];o.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function Ik(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||J1(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||J1(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Rk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function eS(t){return Rk[t]}let Oc=null;const ex={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function tS(t,e){if(!Oc){const r=Object.keys(ex);Oc={};for(let n=0;n<r.length;++n){const i=r[n];Oc[t[i]]=ex[i]}}return Oc[e]}function tx(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Wr.HIGH&&r!==Wr.HIGH&&(n=Wr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Wr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ll;function kk(){if(typeof ll=="boolean")return ll;try{ll=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ll=!1}return ll}let Mk=0;const Nc={},mg=class Go{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=Mk++,this.vertexSrc=e||Go.defaultVertexSrc,this.fragmentSrc=r||Go.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Nc[n]?(Nc[n]++,n+=`-${Nc[n]}`):Nc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=tx(this.vertexSrc,Go.defaultVertexPrecision,Wr.HIGH),this.fragmentSrc=tx(this.fragmentSrc,Go.defaultFragmentPrecision,Pk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Sk}static get defaultFragmentSrc(){return bk}static from(e,r,n){const i=e+r;let s=X1[i];return s||(X1[i]=s=new Go(e,r,n)),s}};mg.defaultVertexPrecision=Wr.HIGH,mg.defaultFragmentPrecision=pn.apple.device?Wr.HIGH:Wr.MEDIUM;let pi=mg,Ok=0;class yn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ok++,this.static=!!r,this.ubo=!!n,e instanceof pt?(this.buffer=e,this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pt(new Float32Array(1)),this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new yn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new yn(e,r,n)}static uboFrom(e,r){return new yn(e,r??!0,!0)}}class jn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof yn?this.uniformGroup=r:this.uniformGroup=new yn(r):this.uniformGroup=new yn({}),this.disposeRunner=new gn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=pi.from(e,r);return new jn(i,n)}}class Nk{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=yn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new pi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:this.defaultGroupCache[e]};return new jn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class gg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Fk(){return!pn.apple.device}function Dk(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(pn.tablet||pn.phone){if(pn.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(pn.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class zd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Lk=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Bk=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const xl=class an extends zd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=qb,this.vertexSize=6,this.state=Jn.for2d(),this.size=an.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Dk(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Fk(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ce("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Bk}static get defaultFragmentTemplate(){return Lk}setShaderGenerator({vertex:e=an.defaultVertexSrc,fragment:r=an.defaultFragmentTemplate}={}){this.shaderGenerator=new Nk(e,r)}contextChange(){const e=this.renderer.gl;ce.PREFER_ENV===lo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),an.defaultMaxTextures),this.maxTextures=dk(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=an,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new hg);for(;r.length<i;)r.push(new gg);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=an._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++be._globalBatch,c=0,d=n[0],g=0;i.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const f=e[h];e[h]=null,f._batchEnabled!==l&&(d.count>=r&&(i.boundArray(d,s,l,r),this.buildDrawCalls(d,g,h),g=h,d=n[++c],++l),f._batchEnabled=l,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,l,r),this.buildDrawCalls(d,g,this._bufferSize),++c,++l);for(let h=0;h<s.length;h++)s[h]=null;be._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:l}=this,c=an._drawCallPool;let d=this._dcIndex,g=this._aIndex,h=this._iIndex,f=c[d];f.start=this._iIndex,f.texArray=e;for(let m=r;m<n;++m){const v=i[m],w=v._texture.baseTexture,T=Vb[w.alphaMode?1:0][v.blendMode];i[m]=null,r<m&&f.blend!==T&&(f.size=h-f.start,r=m,f=c[++d],f.texArray=e,f.start=h),this.packInterleavedGeometry(v,s,o,g,h),g+=v.vertexData.length/2*l,h+=v.indices.length,f.blend=T}r<n&&(f.size=h-f.start,++d),this._dcIndex=d,this._aIndex=g,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;an.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=an._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:l,type:c,size:d,start:g,blend:h}=i[o];s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=h,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),an.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Hh(Math.ceil(e/8)),n=W1(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new lg(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Hh(Math.ceil(e/12)),n=W1(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:l}=r,c=i/this.vertexSize,d=e.uvs,g=e.indices,h=e.vertexData,f=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),v=je.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let w=0;w<h.length;w+=2)l[i++]=h[w],l[i++]=h[w+1],l[i++]=d[w],l[i++]=d[w+1],o[i++]=v,l[i++]=f;for(let w=0;w<g.length;w++)n[s++]=c+g[w]}};xl.defaultBatchSize=4096,xl.extension={name:"batch",type:se.RendererPlugin},xl._drawCallPool=[],xl._textureArrayPool=[];let Gs=xl;pe.add(Gs);var Uk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Gk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const yg=class wl extends jn{constructor(e,r,n){const i=pi.from(e||wl.defaultVertexSrc,r||wl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=wl.defaultResolution,this.multisample=wl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Jn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Gk}static get defaultFragmentSrc(){return Uk}};yg.defaultResolution=1,yg.defaultMultisample=yt.NONE;let nr=yg;class Wh{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new je(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Wh.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Wh.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"background"};pe.add(Wh);class rS{constructor(e){this.renderer=e,this.emptyRenderer=new zd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:l}=e;let c=0;for(let d=0;d<l;d++){const g=s[d],h=g._batchLocation;if(h>=0&&h<i&&r[h]===g){o[d]=h;continue}for(;c<i;){const f=r[c];if(f&&f._batchEnabled===n&&f._batchLocation===c){c++;continue}o[d]=c,g._batchLocation=c,r[c]=g;break}}}destroy(){this.renderer=null}}rS.extension={type:se.RendererSystem,name:"batch"};pe.add(rS);let rx=0;class Vh{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=rx++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=rx++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=lo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Vh.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Vh.extension={type:se.RendererSystem,name:"context"};pe.add(Vh);class vg{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new gn("disposeFramebuffer"),this.multisample=yt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new be(null,{scaleMode:fi.NEAREST,resolution:1,mipmap:Yn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new be(null,{scaleMode:fi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Yn.OFF,format:ee.DEPTH_COMPONENT,type:ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class nS extends be{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yt.NONE),super(null,e),this.mipmap=Yn.OFF,this.valid=!0,this._clear=new je([0,0,0,0]),this.framebuffer=new vg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class fs extends Jl{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=uk(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,l=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class iS extends fs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;fs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class iy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,l=e.height/2/s,c=e.x/i+o,d=e.y/s+l;n=nt.add(n,nt.NW),this.x0=c+o*nt.uX(n),this.y0=d+l*nt.uY(n),n=nt.add(n,2),this.x1=c+o*nt.uX(n),this.y1=d+l*nt.uY(n),n=nt.add(n,2),this.x2=c+o*nt.uX(n),this.y2=d+l*nt.uY(n),n=nt.add(n,2),this.x3=c+o*nt.uX(n),this.y3=d+l*nt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}iy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const nx=new iy;function Fc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class oe extends Tu{constructor(e,r,n,i,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Se(0,0,1,1)),e instanceof oe&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=nx,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ie(o.x,o.y):new Ie(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Fn[r.url]&&oe.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,oe.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new oe(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===nx&&(this._uvs=new iy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof be){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${ro()}`,be.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${ro()}`}s=e._pixiId}let o=Fn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof be)?(r.resolution||(r.resolution=Si(e)),o=new oe(new be(e,r)),o.baseTexture.cacheId=s,be.addToCache(o.baseTexture,s),oe.addToCache(o,s)):!o&&e instanceof be&&(o=new oe(e),oe.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=oe.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new oe(be.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new be(e,Object.assign({scaleMode:be.defaultOptions.scaleMode,resolution:Si(r)},i)),{resource:o}=s;o instanceof iS&&(o.url=r);const l=new oe(s);return n||(n=r),be.addToCache(l.baseTexture,n),oe.addToCache(l,n),n!==r&&(be.addToCache(l.baseTexture,r),oe.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Fn[r]&&Fn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Fn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Fn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Fn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Fn[e.textureCacheIds[r]]===e&&delete Fn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,g=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${g}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return oe._EMPTY||(oe._EMPTY=new oe(new be),Fc(oe._EMPTY),Fc(oe._EMPTY.baseTexture)),oe._EMPTY}static get WHITE(){if(!oe._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),oe._WHITE=new oe(be.from(e)),Fc(oe._WHITE),Fc(oe._WHITE.baseTexture)}return oe._WHITE}}class co extends oe{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new co(new nS(e))}}class sS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=yt.NONE){const i=new nS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new co(i)}getOptimalTexture(e,r,n=1,i=yt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Hh(e),r=Hh(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}sS.SCREEN_KEY=-1;class zk extends ds{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class oS extends ds{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pt(this.vertices),this.uvBuffer=new pt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Hk{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yt.NONE,this.sourceFrame=new Se,this.destinationFrame=new Se,this.bindingSourceFrame=new Se,this.bindingDestinationFrame=new Se,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Dc=[new Ie,new Ie,new Ie,new Ie],Kp=new qe;class aS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new sS,this.statePool=[],this.quad=new zk,this.quadUv=new oS,this.tempRect=new Se,this.activeState={},this.globalUniforms=new yn({outputFrame:new Se,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Hk,o=n.renderTexture;let l,c;if(o.current){const T=o.current;l=T.resolution,c=T.multisample}else l=n.resolution,c=n.multisample;let d=r[0].resolution||l,g=r[0].multisample??c,h=r[0].padding,f=r[0].autoFit,m=r[0].legacy??!0;for(let T=1;T<r.length;T++){const x=r[T];d=Math.min(d,x.resolution||l),g=Math.min(g,x.multisample??c),h=this.useMaxPadding?Math.max(h,x.padding):h+x.padding,f=f&&x.autoFit,m=m||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=g,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Kp.copyFrom(n.projection.transform).invert(),v),f?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,g),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=s.sourceFrame.width,w.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Un.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,g=this.getOptimalFilterTexture(d.width,d.height,r.resolution);g.filterFrame=d.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(g=this.getOptimalFilterTexture(d.width,d.height,r.resolution),g.filterFrame=d.filterFrame),n[h].apply(this,d,g,Un.CLEAR,r);const f=d;d=g,g=f}n[h].apply(this,d,c.renderTexture,Un.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(g)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Un.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Un.CLEAR||r===Un.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(fn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(fn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=r.worldTransform.copyTo(qe.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=yt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Dc[0],i=Dc[1],s=Dc[2],o=Dc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),g=Math.max(n.y,i.y,s.y,o.y);r.x=l,r.y=c,r.width=d-l,r.height=g-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c,d}=s;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?Kp.copyFrom(s):Kp.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}aS.extension={type:se.RendererSystem,name:"filter"};pe.add(aS);class $k{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const jk=new Se;class lS{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new vg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Se,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===lo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=$m.COLOR|$m.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new $k(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const d=s[c],g=d.parentTextureArray||d;this.renderer.texture.bind(g,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,g._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=yt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=yt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const g=i.colorTextures[0];if(!g)return;c.blitFramebuffer||(c.blitFramebuffer=new vg(i.width,i.height),c.blitFramebuffer.addColorTexture(0,g)),e=c.blitFramebuffer,e.colorTextures[0]!==g&&(e.colorTextures[0]=g,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=jk,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let l,c;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(l=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(l=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Se}destroy(){this.renderer=null}}lS.extension={type:se.RendererSystem,name:"framebuffer"};pe.add(lS);const Zp={5126:4,5123:2,5121:1};class uS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===lo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,c)=>n.drawElementsInstancedANGLE(i,s,o,l,c),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let g=d[c];if(g)return d[l.id]=g,g;const h=e.buffers,f=e.attributes,m={},v={};for(const w in h)m[w]=0,v[w]=0;for(const w in f)!f[w].size&&l.attributeData[w]?f[w].size=l.attributeData[w].size:f[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),m[f[w].buffer]+=f[w].size*Zp[f[w].type];for(const w in f){const T=f[w],x=T.size;T.stride===void 0&&(m[T.buffer]===x*Zp[T.type]?T.stride=0:T.stride=m[T.buffer]),T.start===void 0&&(T.start=v[T.buffer],v[T.buffer]+=x*Zp[T.type])}g=i.createVertexArray(),i.bindVertexArray(g);for(let w=0;w<h.length;w++){const T=h[w];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,l),d[l.id]=g,d[c]=g,i.bindVertexArray(null),o.unbind($n.ARRAY_BUFFER),g}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in l){const g=l[d],h=o[g.buffer],f=h._glBuffers[i];if(r.attributeData[d]){c!==f&&(s.bind(h),c=f);const m=r.attributeData[d].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(m,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}uS.extension={type:se.RendererSystem,name:"geometry"};pe.add(uS);const ix=new qe;class sy{constructor(e,r){this._texture=e,this.mapCoord=new qe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ix.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ix));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/o.width,l[1]=(r._frame.y+c+d)/o.height,l[2]=(r._frame.x+r._frame.width-c+d)/o.width,l[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var Wk=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Vk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Xk extends nr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||Vk,r||Wk,n),this.maskSprite=i,this.maskMatrix=new qe}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new sy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class Yk{constructor(e=null){this.type=wt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=nr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=wt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class cS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new Yk;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==wt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case wt.SCISSOR:this.renderer.scissor.push(n);break;case wt.STENCIL:this.renderer.stencil.push(n);break;case wt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case wt.COLOR:this.pushColorMask(n);break}n.type===wt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case wt.SCISSOR:this.renderer.scissor.pop(r);break;case wt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case wt.SPRITE:this.popSpriteMask(r);break;case wt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===wt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=wt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=wt.SCISSOR:e.type=wt.STENCIL:e.type=wt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Xk])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}cS.extension={type:se.RendererSystem,name:"mask"};pe.add(cS);class hS{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const sx=new qe,ox=[],dS=class _h extends hS{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,ox.pop()??new Se);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||_h.isMatrixRotated(r.worldTransform)||_h.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){_h.isMatrixRotated(s)||(s=s?sx.copyFrom(s):sx.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&ox.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};dS.extension={type:se.RendererSystem,name:"scissor"};let Qk=dS;pe.add(Qk);class fS extends hS{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}fS.extension={type:se.RendererSystem,name:"stencil"};pe.add(fS);class pS{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ce("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ce("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ce("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}pS.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_plugin"};pe.add(pS);class mS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new qe,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}mS.extension={type:se.RendererSystem,name:"projection"};pe.add(mS);const qk=new Gd,ax=new Se;class gS{constructor(e){this.renderer=e,this._tempMatrix=new qe}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(ax))||e.getLocalBounds(ax,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const l=co.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=qk,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,l}destroy(){}}gS.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"textureGenerator"};pe.add(gS);const Os=new Se,ul=new Se;class yS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Se,this.destinationFrame=new Se,this.viewportFrame=new Se}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(Os.width=e.frame.width,Os.height=e.frame.height,r=Os),n||(ul.x=e.frame.x,ul.y=e.frame.y,ul.width=r.width,ul.height=r.height,n=ul),o=s.framebuffer):(l=i.resolution,r||(Os.width=i._view.screen.width,Os.height=i._view.screen.height,r=Os),n||(n=Os,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=je.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:c,y:d,width:g,height:h}=this.viewportFrame;c=Math.round(c),d=Math.round(d),g=Math.round(g),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,g,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}yS.extension={type:se.RendererSystem,name:"renderTexture"};pe.add(yS);class Kk{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Zk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=tS(e,s.type),l={type:o,name:s.name,size:eS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function Jk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=tS(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:l,value:Zb(c,s.size)}}return r}function eM(t,e){var l;const r=Z1(t,t.VERTEX_SHADER,e.vertexSrc),n=Z1(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Ik(t,i,r,n),e.attributeData=Zk(i,t),e.uniformData=Jk(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,g)=>d>g?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:Zb(d.type,d.size)}}return new Kk(i,o)}function tM(t,e,r,n,i){r.buffer.update(i)}const rM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},vS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function nM(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=vS[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,i+=l}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function iM(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function sM(t,e){if(!t.autoManage)return{size:0,syncFunc:tM};const r=iM(t.uniforms,e),{uboElements:n,size:i}=nM(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],d=l.data.name;let g=!1;for(let h=0;h<ha.length;h++){const f=ha[h];if(f.codeUbo&&f.test(l.data,c)){s.push(`offset = ${l.offset/4};`,ha[h].codeUbo(l.data.name,c)),g=!0;break}}if(!g)if(l.data.size>1){const h=eS(l.data.type),f=Math.max(vS[l.data.type]/16,1),m=h/f,v=(4-m%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*f}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const h=rM[l.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let oM=0;const Lc={textureCount:0,uboCount:0};class _S{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=oM++}systemCheck(){if(!kk())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Lc.textureCount=0,Lc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Lc)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Ak(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Lc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=sM(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=eM(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}_S.extension={type:se.RendererSystem,name:"shader"};pe.add(_S);class Xh{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Xh.defaultOptions={hello:!1},Xh.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"startup"};pe.add(Xh);function aM(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const lM=0,uM=1,cM=2,hM=3,dM=4,fM=5,xS=class _g{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[lM]=this.setBlend,this.map[uM]=this.setOffset,this.map[cM]=this.setCullFace,this.map[hM]=this.setDepthTest,this.map[dM]=this.setFrontFace,this.map[fM]=this.setDepthMask,this.checks=[],this.defaultState=new Jn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=aM(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(_g.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(_g.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};xS.extension={type:se.RendererSystem,name:"state"};let pM=xS;pe.add(pM);class mM extends Tu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new gn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const bl=class xh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=xh.defaultMaxIdle,this.checkCountMax=xh.defaultCheckCountMax,this.mode=xh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Y0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};bl.defaultMode=Y0.AUTO,bl.defaultMaxIdle=60*60,bl.defaultCheckCountMax=60*10,bl.extension={type:se.RendererSystem,name:"textureGC"};let zs=bl;pe.add(zs);class Jp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ye.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function gM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ue.FLOAT,[t.RGBA]:ue.FLOAT,[t.ALPHA]:ue.FLOAT,[t.LUMINANCE]:ue.FLOAT,[t.LUMINANCE_ALPHA]:ue.FLOAT,[t.R8]:ue.FLOAT,[t.R8_SNORM]:ue.FLOAT,[t.RG8]:ue.FLOAT,[t.RG8_SNORM]:ue.FLOAT,[t.RGB8]:ue.FLOAT,[t.RGB8_SNORM]:ue.FLOAT,[t.RGB565]:ue.FLOAT,[t.RGBA4]:ue.FLOAT,[t.RGB5_A1]:ue.FLOAT,[t.RGBA8]:ue.FLOAT,[t.RGBA8_SNORM]:ue.FLOAT,[t.RGB10_A2]:ue.FLOAT,[t.RGB10_A2UI]:ue.FLOAT,[t.SRGB8]:ue.FLOAT,[t.SRGB8_ALPHA8]:ue.FLOAT,[t.R16F]:ue.FLOAT,[t.RG16F]:ue.FLOAT,[t.RGB16F]:ue.FLOAT,[t.RGBA16F]:ue.FLOAT,[t.R32F]:ue.FLOAT,[t.RG32F]:ue.FLOAT,[t.RGB32F]:ue.FLOAT,[t.RGBA32F]:ue.FLOAT,[t.R11F_G11F_B10F]:ue.FLOAT,[t.RGB9_E5]:ue.FLOAT,[t.R8I]:ue.INT,[t.R8UI]:ue.UINT,[t.R16I]:ue.INT,[t.R16UI]:ue.UINT,[t.R32I]:ue.INT,[t.R32UI]:ue.UINT,[t.RG8I]:ue.INT,[t.RG8UI]:ue.UINT,[t.RG16I]:ue.INT,[t.RG16UI]:ue.UINT,[t.RG32I]:ue.INT,[t.RG32UI]:ue.UINT,[t.RGB8I]:ue.INT,[t.RGB8UI]:ue.UINT,[t.RGB16I]:ue.INT,[t.RGB16UI]:ue.UINT,[t.RGB32I]:ue.INT,[t.RGB32UI]:ue.UINT,[t.RGBA8I]:ue.INT,[t.RGBA8UI]:ue.UINT,[t.RGBA16I]:ue.INT,[t.RGBA16UI]:ue.UINT,[t.RGBA32I]:ue.INT,[t.RGBA32UI]:ue.UINT,[t.DEPTH_COMPONENT16]:ue.FLOAT,[t.DEPTH_COMPONENT24]:ue.FLOAT,[t.DEPTH_COMPONENT32F]:ue.FLOAT,[t.DEPTH_STENCIL]:ue.FLOAT,[t.DEPTH24_STENCIL8]:ue.FLOAT,[t.DEPTH32F_STENCIL8]:ue.FLOAT}:e={[t.RGB]:ue.FLOAT,[t.RGBA]:ue.FLOAT,[t.ALPHA]:ue.FLOAT,[t.LUMINANCE]:ue.FLOAT,[t.LUMINANCE_ALPHA]:ue.FLOAT,[t.DEPTH_STENCIL]:ue.FLOAT},e}function yM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ye.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[ye.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ye.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[ye.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ye.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[ye.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ye.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[ye.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[ye.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[ye.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[ye.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[ye.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[ye.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[ye.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ye.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[ye.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[ye.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class wS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new be,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=yM(e),this.samplerTypes=gM(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Jp(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Jp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==ue.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Jp(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ue.FLOAT,this.webGLVersion===2&&e.type===ye.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==ue.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ca(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Yn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=xi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Yn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===fi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===fi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}wS.extension={type:se.RendererSystem,name:"texture"};pe.add(wS);class bS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(l,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}bS.extension={type:se.RendererSystem,name:"transformFeedback"};pe.add(bS);class Yh{constructor(e){this.renderer=e}init(e){this.screen=new Se(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Yh.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Yh.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_view"};pe.add(Yh);ce.PREFER_ENV=lo.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...Vh.defaultOptions,...Wh.defaultOptions,...Yh.defaultOptions,...Xh.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return be.defaultOptions.wrapMode},set(t){Ce("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),be.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return be.defaultOptions.scaleMode},set(t){Ce("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),be.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return be.defaultOptions.mipmap},set(t){Ce("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),be.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return be.defaultOptions.anisotropicLevel},set(t){Ce("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),be.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ce("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),nr.defaultResolution},set(t){nr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ce("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),nr.defaultMultisample},set(t){nr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Gs.defaultMaxTextures},set(t){Ce("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Gs.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Gs.defaultBatchSize},set(t){Ce("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Gs.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Gs.canUploadSameBuffer},set(t){Ce("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Gs.canUploadSameBuffer=t}},GC_MODE:{get(){return zs.defaultMode},set(t){Ce("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),zs.defaultMode=t}},GC_MAX_IDLE:{get(){return zs.defaultMaxIdle},set(t){Ce("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),zs.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return zs.defaultCheckCountMax},set(t){Ce("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),zs.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return pi.defaultVertexPrecision},set(t){Ce("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),pi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return pi.defaultFragmentPrecision},set(t){Ce("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),pi.defaultFragmentPrecision=t}}});var ps=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ps||{});class em{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const SS=class Sr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new em(null,null,1/0),this.deltaMS=1/Sr.targetFPMS,this.elapsedMS=1/Sr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ps.NORMAL){return this._addListener(new em(e,r,n))}addOnce(e,r,n=ps.NORMAL){return this._addListener(new em(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Sr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Sr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Sr._shared){const e=Sr._shared=new Sr;e.autoStart=!0,e._protected=!0}return Sr._shared}static get system(){if(!Sr._system){const e=Sr._system=new Sr;e.autoStart=!0,e._protected=!0}return Sr._system}};SS.targetFPMS=.06;let Nt=SS;Object.defineProperties(ce,{TARGET_FPMS:{get(){return Nt.targetFPMS},set(t){Ce("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Nt.targetFPMS=t}}});class ES{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ps.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Nt.shared:new Nt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ES.extension=se.Application;pe.add(ES);const TS=[];pe.handleByList(se.Renderer,TS);function vM(t){for(const e of TS)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var _M=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const wM=_M,AS=xM;class CS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=yt.HIGH?this.multisample=yt.HIGH:r>=yt.MEDIUM?this.multisample=yt.MEDIUM:r>=yt.LOW?this.multisample=yt.LOW:this.multisample=yt.NONE}destroy(){}}CS.extension={type:se.RendererSystem,name:"_multisample"};pe.add(CS);class bM{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class PS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new bM(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}PS.extension={type:se.RendererSystem,name:"buffer"};pe.add(PS);class IS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,l;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}IS.extension={type:se.RendererSystem,name:"objectRenderer"};pe.add(IS);const wh=class xg extends mM{constructor(e){super(),this.type=xb.WEBGL,e=Object.assign({},ce.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new yn({projectionMatrix:new qe},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:xg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ce("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=xg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:WR()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ce("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ce("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ce("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ce("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};wh.extension={type:se.Renderer,priority:1},wh.__plugins={},wh.__systems={};let oy=wh;pe.handleByMap(se.RendererPlugin,oy.__plugins);pe.handleByMap(se.RendererSystem,oy.__systems);pe.add(oy);class RS extends Jl{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new be;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Jl?this.addResourceAt(e[n],n):this.addResourceAt(Qb(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class SM extends RS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=aa.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class EM extends fs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const kS=class Sl extends RS{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Sl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let l=0;l<Sl.SIDES;l++)this.items[l].target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=aa.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Sl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Sl.SIDES}};kS.SIDES=6;let TM=kS;class Vo extends fs{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Vo.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Vo._EMPTY=Vo._EMPTY??ce.ADAPTER.createCanvas(0,0),Vo._EMPTY}}const wg=class bh extends fs{constructor(e,r){r=r||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},bh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;fs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${ro()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=bh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&bh.SVG_XML.test(e)}};wg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,wg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let bg=wg;const Sg=class Eg extends fs{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];fs.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:l,mime:c}=e[s];if(l=l||e[s],l.startsWith("data:"))c=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),g=d.slice(d.lastIndexOf(".")+1);c=c||Eg.MIME_TYPES[g]||`video/${g}`}o.src=l,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Nt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Nt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Eg.TYPES.includes(r)}};Sg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Sg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let MS=Sg;ug.push(Vo,iS,EM,MS,bg,Dd,TM,SM);class Qh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Se.EMPTY:(e=e||new Se(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:l,ty:c}=e,d=n*r.x+s*r.y+l,g=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,l=e.b,c=e.c,d=e.d,g=e.tx,h=e.ty;let f=this.minX,m=this.minY,v=this.maxX,w=this.maxY,T=o*r+c*n+g,x=l*r+d*n+h;f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*i+c*n+g,x=l*i+d*n+h,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*r+c*s+g,x=l*r+d*s+h,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*i+c*s+g,x=l*i+d*s+h,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,this.minX=f,this.minY=m,this.maxX=v,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],g=e[c+1];i=d<i?d:i,s=g<s?g:s,o=d>o?d:o,l=g>l?g:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const l=e.a,c=e.b,d=e.c,g=e.d,h=e.tx,f=e.ty;let m=this.minX,v=this.minY,w=this.maxX,T=this.maxY;for(let x=n;x<i;x+=2){const b=r[x],S=r[x+1],A=l*b+d*S+h,P=g*S+c*b+f;m=Math.min(m,A-s),w=Math.max(w,A+s),v=Math.min(v,P-o),T=Math.max(T,P+o)}this.minX=m,this.minY=v,this.maxX=w,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const l=this.minX,c=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>g?o:g}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const l=this.minX,c=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>g?o:g}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class tt extends Tu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Gd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Qh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(tt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Se),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Qh);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new AM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*_k}set angle(e){this.transform.rotation=e*xk}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class AM extends tt{constructor(){super(...arguments),this.sortDirty=null}}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;const CM=new qe;function PM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const OS=class Tg extends tt{constructor(){super(),this.children=[],this.sortableChildren=Tg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);ca(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ca(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ca(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(PM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Tg.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=CM.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==wt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};OS.defaultSortableChildren=!1;let sr=OS;sr.prototype.containerUpdateTransform=sr.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return sr.defaultSortableChildren},set(t){Ce("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),sr.defaultSortableChildren=t}}});const cl=new Ie,IM=new Uint16Array([0,1,2,0,2,3]);class ei extends sr{constructor(e){super(),this._anchor=new Hn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new je(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||oe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=IM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ji(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ji(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,c=r.ty,d=this.vertexData,g=e.trim,h=e.orig,f=this._anchor;let m=0,v=0,w=0,T=0;if(g?(v=g.x-f._x*h.width,m=v+g.width,T=g.y-f._y*h.height,w=T+g.height):(v=-f._x*h.width,m=v+h.width,T=-f._y*h.height,w=T+h.height),d[0]=n*v+s*T+l,d[1]=o*T+i*v+c,d[2]=n*m+s*T+l,d[3]=o*T+i*m+c,d[4]=n*m+s*w+l,d[5]=o*w+i*m+c,d[6]=n*v+s*w+l,d[7]=o*w+i*v+c,this._roundPixels){const x=ce.RESOLUTION;for(let b=0;b<d.length;++b)d[b]=Math.round(d[b]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,c=s.c,d=s.d,g=s.tx,h=s.ty,f=-i._x*n.width,m=f+n.width,v=-i._y*n.height,w=v+n.height;if(r[0]=o*f+c*v+g,r[1]=d*v+l*f+h,r[2]=o*m+c*v+g,r[3]=d*v+l*m+h,r[4]=o*m+c*w+g,r[5]=d*w+l*m+h,r[6]=o*f+c*w+g,r[7]=d*w+l*f+h,this._roundPixels){const T=ce.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Qh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,cl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return cl.x>=i&&cl.x<i+r&&(s=-n*this.anchor.y,cl.y>=s&&cl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof oe?e:oe.from(e,r);return new ei(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ji(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ji(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||oe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const NS=new qe;tt.prototype._cacheAsBitmap=!1;tt.prototype._cacheData=null;tt.prototype._cacheAsBitmapResolution=null;tt.prototype._cacheAsBitmapMultisample=null;class RM{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(tt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new RM),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});tt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};tt.prototype._initCachedDisplayObject=function(t){var f,m;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Se,!0);if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=co.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),d=`cacheAsBitmap_${ro()}`;this._cacheData.textureCacheId=d,be.addToCache(c.baseTexture,d),oe.addToCache(c,d);const g=this.transform.localTransform.copyTo(NS).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:g,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new ei(c);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};tt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};tt.prototype._initCachedDisplayObjectCanvas=function(t){var g;if((g=this._cacheData)!=null&&g.sprite)return;const e=this.getLocalBounds(new Se,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=co.create({width:e.width,height:e.height,resolution:s}),l=`cacheAsBitmap_${ro()}`;this._cacheData.textureCacheId=l,be.addToCache(o.baseTexture,l),oe.addToCache(o,l);const c=NS;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new ei(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,be.removeFromCache(this._cacheData.textureCacheId),oe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};tt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};tt.prototype.name=null;sr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};tt.prototype.getGlobalPosition=function(t=new Ie,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var kM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class MM extends nr{constructor(e=1){super(wM,kM,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const OM={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},NM=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function FM(t){const e=OM[t],r=e.length;let n=NM,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const DM=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function LM(t,e){const r=Math.ceil(t/2);let n=DM,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Ag extends nr{constructor(e,r=8,n=4,i=nr.defaultResolution,s=5){const o=LM(s,e),l=FM(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,c=s;this.state.blend=!1,e.applyFilter(this,l,c,Un.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,Un.BLIT),this.uniforms.uSampler=c;const g=c;c=l,l=g,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BM extends nr{constructor(e=8,r=4,n=nr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Ag(!0,e,r,n,i),this.blurYFilter=new Ag(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Un.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var UM=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Cg extends nr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(AS,UM,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=je.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),c=n+(1-n)*o,d=o*(1-n)-l*i,g=o*(1-n)+l*i,h=o*(1-n)+l*i,f=n+o*(1-n),m=o*(1-n)-l*i,v=o*(1-n)-l*i,w=o*(1-n)+l*i,T=n+o*(1-n),x=[c,d,g,0,0,h,f,m,0,0,v,w,T,0,0,0,0,0,1,0];this._loadMatrix(x,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=je.shared,[l,c,d]=o.setValue(n).toArray(),[g,h,f]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,l,c,d,e,0,g,h,f,r,0,l-g,c-h,d-f,0,0];this._loadMatrix(m,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Cg.prototype.grayscale=Cg.prototype.greyscale;var GM=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,zM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class HM extends nr{constructor(e,r){const n=new qe;e.renderable=!1,super(zM,GM,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ie(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var $M=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,jM=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class WM extends nr{constructor(){super(jM,$M)}}var VM=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class XM extends nr{constructor(e=.5,r=Math.random()){super(AS,VM,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const lx={AlphaFilter:MM,BlurFilter:BM,BlurFilterPass:Ag,ColorMatrixFilter:Cg,DisplacementFilter:HM,FXAAFilter:WM,NoiseFilter:XM};Object.entries(lx).forEach(([t,e])=>{Object.defineProperty(lx,t,{get(){return Ce("7.1.0",`filters.${t} has moved to ${t}`),e}})});class YM{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Nt.system.add(this.tickerUpdate,this,ps.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Nt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Qi=new YM;class Cu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Cu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ie,this.page=new Ie,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class qh extends Cu{constructor(){super(...arguments),this.client=new Ie,this.movement=new Ie,this.offset=new Ie,this.global=new Ie,this.screen=new Ie}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,l,c,d,g,h,f,m,v,w){throw new Error("Method not implemented.")}}class ln extends qh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class da extends qh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}da.DOM_DELTA_PIXEL=0,da.DOM_DELTA_LINE=1,da.DOM_DELTA_PAGE=2;const QM=2048,qM=new Ie,tm=new Ie;class KM{constructor(e){this.dispatch=new Tu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Qi.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,qM.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<QM&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Qi.pauseUpdate=!1),e.interactiveChildren&&e.children){const g=e.children;for(let h=g.length-1;h>=0;h--){const f=g[h],m=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const v=e.isInteractive();(m.length>0||v)&&(v&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),l=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Qi.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const g=c[d],h=this.hitTestRecursive(g,this._isInteractive(r)?r:g.eventMode,n,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,tm),!e.hitArea.contains(tm.x,tm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d;if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const g=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,g,s);if(this.dispatchEvent(h,"pointerout"),n&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const g=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,g);this.dispatchEvent(h,"pointerover"),n&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(d=r.target)==null?void 0:d.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof ln)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof da)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(ln);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(da);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(ln);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof ln&&r instanceof ln&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof qh&&r instanceof qh&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const ZM=1,JM={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Pg=class Ig{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new KM(null),Qi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ln(null),this.rootWheelEvent=new da(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Ig.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Ig._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Qi.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const l=this.bootstrapEvent(this.rootPointerEvent,i[s]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Qi.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Qi.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Qi.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=ZM),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=JM[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};Pg.extension={name:"events",type:[se.RendererSystem,se.CanvasRendererSystem]},Pg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Rg=Pg;pe.add(Rg);function ux(t){return t==="dynamic"||t==="static"}const eO={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??ux(Rg.defaultEventMode)},set interactive(t){Ce("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Rg.defaultEventMode},set eventMode(t){this._internalInteractive=ux(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Cu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};tt.mixin(eO);const tO={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(tO);const rO=9,Bc=100,nO=0,iO=0,cx=2,hx=1,sO=-1e3,oO=-1e3,aO=2;class FS{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(pn.tablet||pn.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Bc}px`,r.style.height=`${Bc}px`,r.style.position="absolute",r.style.top=`${nO}px`,r.style.left=`${iO}px`,r.style.zIndex=cx.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${hx}px`,e.style.height=`${hx}px`,e.style.position="absolute",e.style.top=`${sO}px`,e.style.left=`${oO}px`,e.style.zIndex=aO.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(pn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,d=i/o*c,g=s/l*c;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${o}px`,h.style.height=`${l}px`;for(let f=0;f<this.children.length;f++){const m=this.children[f];if(m.renderId!==this.renderId)m._accessibleActive=!1,ca(this.children,f,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,f--;else{h=m._accessibleDiv;let v=m.hitArea;const w=m.worldTransform;m.hitArea?(h.style.left=`${(w.tx+v.x*w.a)*d}px`,h.style.top=`${(w.ty+v.y*w.d)*g}px`,h.style.width=`${v.width*w.a*d}px`,h.style.height=`${v.height*w.d*g}px`):(v=m.getBounds(),this.capHitArea(v),h.style.left=`${v.x*d}px`,h.style.top=`${v.y*g}px`,h.style.width=`${v.width*d}px`,h.style.height=`${v.height*g}px`,h.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(h.title=m.accessibleTitle),h.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&h.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==h.title||m.tabIndex!==h.tabIndex)&&(h.title=m.accessibleTitle,h.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Bc}px`,r.style.height=`${Bc}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=cx.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Cu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===rO&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}FS.extension={name:"accessibility",type:[se.RendererPlugin,se.CanvasRendererPlugin]};pe.add(FS);const DS=class kg{constructor(e){this.stage=new sr,e=Object.assign({forceCanvas:!1},e),this.renderer=vM(e),kg._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=kg._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};DS._plugins=[];let Hd=DS;pe.handleByList(se.Application,Hd._plugins);class LS{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}LS.extension=se.Application;pe.add(LS);const dx={loader:se.LoadParser,resolver:se.ResolveParser,cache:se.CacheParser,detection:se.DetectionParser};pe.handle(se.Asset,t=>{const e=t.ref;Object.entries(dx).filter(([r])=>!!e[r]).forEach(([r,n])=>pe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(dx).filter(r=>!!e[r]).forEach(r=>pe.remove(e[r]))});class lO{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Da(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function vs(t,e){const r=t.split("?")[0],n=Et.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const dn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),Mg=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function BS(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?BS(t.replace(n[r],l),e,r+1,n,i):i.push(t.replace(n[r],l))}}function uO(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),BS(t,i,0,r,n)}else n.push(t);return n}const Kh=t=>!Array.isArray(t);class cO{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=dn(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(l=>{i[l]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),r instanceof oe){const l=r;n.forEach(c=>{l.baseTexture!==oe.EMPTY.baseTexture&&be.addToCache(l.baseTexture,c),oe.addToCache(l,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ws=new cO;class hO{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Kh(e),o=dn(e,d=>({alias:[d],src:d})),l=o.length,c=o.map(async d=>{const g=Et.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,d)),i[d.src]=await this.promiseCache[g].promise,r&&r(++n/l)}catch(h){throw delete this.promiseCache[g],delete i[d.src],new Error(`[Loader.load] Failed to load ${g}.
${h}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=dn(e,n=>({alias:[n],src:n})).map(async n=>{var o,l;const i=Et.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var wn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(wn||{});const dO=".json",fO="application/json",pO={extension:{type:se.LoadParser,priority:wn.Low},name:"loadJson",test(t){return Da(t,fO)||vs(t,dO)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};pe.add(pO);const mO=".txt",gO="text/plain",yO={name:"loadTxt",extension:{type:se.LoadParser,priority:wn.Low},test(t){return Da(t,gO)||vs(t,mO)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};pe.add(yO);const vO=["normal","bold","100","200","300","400","500","600","700","800","900"],_O=[".ttf",".otf",".woff",".woff2"],xO=["font/ttf","font/otf","font/woff","font/woff2"],wO=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function bO(t){const e=Et.extname(t),r=Et.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(wO)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const SO=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function EO(t){return SO.test(t)?t:encodeURI(t)}const TO={extension:{type:se.LoadParser,priority:wn.Low},name:"loadWebFont",test(t){return Da(t,xO)||vs(t,_O)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??bO(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(g=>vO.includes(g)))??["normal"],d=e.data??{};for(let g=0;g<c.length;g++){const h=c[g],f=new FontFace(l,`url(${EO(t)})`,{...d,weight:h});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};pe.add(TO);let fx=0,rm;const AO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",CO={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${AO}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},PO={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let nm;class IO{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([CO.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){rm===void 0&&(rm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<rm&&(nm||(nm=URL.createObjectURL(new Blob([PO.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(nm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[fx]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:fx++,id:n})}}const px=new IO;function Pu(t,e,r){t.resource.internal=!0;const n=new oe(t),i=()=>{delete e.promiseCache[r],Ws.has(r)&&Ws.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const RO=[".jpeg",".jpg",".png",".webp",".avif"],kO=["image/jpeg","image/png","image/webp","image/avif"];async function MO(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const $d={name:"loadTextures",extension:{type:se.LoadParser,priority:wn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Da(t,kO)||vs(t,RO)},async load(t,e,r){var l;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await px.isImageBitmapSupported()?i=await px.loadImageBitmap(t):i=await MO(t):i=await new Promise((c,d)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=t,g.complete?c(g):(g.onload=()=>c(g),g.onerror=h=>d(h))});const s={...e.data};s.resolution??(s.resolution=Si(t)),n&&((l=s.resourceOptions)==null?void 0:l.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new be(i,s);return o.resource.src=t,Pu(o,r,t)},unload(t){t.destroy(!0)}};pe.add($d);const OO=".svg",NO="image/svg+xml",FO={extension:{type:se.LoadParser,priority:wn.High},name:"loadSVG",test(t){return Da(t,NO)||vs(t,OO)},async testParse(t){return bg.test(t)},async parse(t,e,r){var s;const n=new bg(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new be(n,{resolution:Si(t),...e==null?void 0:e.data});return i.resource.src=e.src,Pu(i,r,e.src)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:$d.unload};pe.add(FO);const DO=[".mp4",".m4v",".webm",".ogv"],LO=["video/mp4","video/webm","video/ogg"],BO={name:"loadVideo",extension:{type:se.LoadParser,priority:wn.High},config:{defaultAutoPlay:!0},test(t){return Da(t,LO)||vs(t,DO)},async load(t,e,r){var o;let n;const i=await(await ce.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const l={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new MS(s,l);await c.load();const d=new be(c,{alphaMode:await jR(),resolution:Si(t),...e==null?void 0:e.data});d.resource.src=t,n=Pu(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(l){throw URL.revokeObjectURL(s),l}return n},unload(t){t.destroy(!0)}};pe.add(BO);class UO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return dn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(l=>(l==null?void 0:l.src)??(l==null?void 0:l.srcs)??l):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let l;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),l=[o,c]}else{const c=o.map(d=>this._createBundleAssetId(e,d));n.push(...c),l=[...o,...c]}this.add({...i,alias:l,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],l=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(l)?l:[l]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ce("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},dn(o).forEach(c=>{const{src:d,srcs:g}=c;let{data:h,format:f,loadParser:m}=c;const v=dn(d||g).map(x=>typeof x=="string"?uO(x):Array.isArray(x)?x:[x]),w=this.getAlias(c);Array.isArray(w)?w.forEach(l):l(w);const T=[];v.forEach(x=>{x.forEach(b=>{let S={};if(typeof b!="object"){S.src=b;for(let A=0;A<this._parsers.length;A++){const P=this._parsers[A];if(P.test(b)){S=P.parse(b);break}}}else h=b.data??h,f=b.format??f,m=b.loadParser??m,S={...S,...b};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:w,data:h,format:f,loadParser:m}),T.push(S)})}),w.forEach(x=>{this._assetMap[x]=T})})}resolveBundle(e){const r=Kh(e);e=dn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const c in o){const d=o[c];l[this._extractAssetIdFromBundle(i,c)]=d}n[i]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Kh(e);e=dn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],l=this._getPreferredOrder(s);l==null||l.priority.forEach(c=>{l.params[c].forEach(d=>{const g=s.filter(h=>h[c]?h[c]===d:!1);g.length&&(s=g)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Et.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Et.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class GO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new UO,this.loader=new hO,this.cache=Ws,this._backgroundLoader=new lO(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Kh(e),i=dn(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,c=0;const d=()=>{r==null||r(++l/c)},g=o.map(h=>{const f=i[h];return c+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(m=>{s[h]=m})});return await Promise.all(g),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ws.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Ws.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const d=s[l.src],g=[l.src];l.alias&&g.push(...l.alias),o[i[c]]=d,Ws.set(g,d)}),o}async unload(e){this._initialized||await this.init();const r=dn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=dn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Ws.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return $d.config.preferWorkers}set preferWorkers(e){Ce("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const mi=new GO;pe.handleByList(se.LoadParser,mi.loader.parsers).handleByList(se.ResolveParser,mi.resolver.parsers).handleByList(se.CacheParser,mi.cache.parsers).handleByList(se.DetectionParser,mi.detections);const zO={extension:se.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof oe),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};pe.add(zO);async function US(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const GS={extension:{type:se.DetectionParser,priority:1},test:async()=>US("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};pe.add(GS);const zS={extension:{type:se.DetectionParser,priority:0},test:async()=>US("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};pe.add(zS);const mx=["png","jpg","jpeg"],HO={extension:{type:se.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...mx],remove:async t=>t.filter(e=>!mx.includes(e))};pe.add(HO);const $O="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ay(t){return $O?!1:document.createElement("video").canPlayType(t)!==""}const jO={extension:{type:se.DetectionParser,priority:0},test:async()=>ay("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};pe.add(jO);const WO={extension:{type:se.DetectionParser,priority:0},test:async()=>ay("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};pe.add(WO);const VO={extension:{type:se.DetectionParser,priority:0},test:async()=>ay("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};pe.add(VO);const XO={extension:se.ResolveParser,test:$d.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Et.extname(t).slice(1),src:t}}};pe.add(XO);var Er=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Er||{});const Zh={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let ai,zo;function gx(){zo={s3tc:ai.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ai.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ai.getExtension("WEBGL_compressed_texture_etc"),etc1:ai.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ai.getExtension("WEBGL_compressed_texture_pvrtc")||ai.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ai.getExtension("WEBGL_compressed_texture_atc"),astc:ai.getExtension("WEBGL_compressed_texture_astc")}}const YO={extension:{type:se.DetectionParser,priority:2},test:async()=>{const t=ce.ADAPTER.createCanvas().getContext("webgl");return t?(ai=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{zo||gx();const e=[];for(const r in zo)zo[r]&&e.push(r);return[...e,...t]},remove:async t=>(zo||gx(),t.filter(e=>!(e in zo)))};pe.add(YO);class QO extends Dd{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new lg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new lg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Zs extends QO{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Zs._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Zs._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:c,levelHeight:d,levelBuffer:g}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,d,0,g)}return!0}onBlobLoaded(){this._levelBuffers=Zs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,l){const c=new Array(n);let d=e.byteOffset,g=o,h=l,f=g+i-1&~(i-1),m=h+s-1&~(s-1),v=f*m*Zh[r];for(let w=0;w<n;w++)c[w]={levelID:w,levelWidth:n>1?g:f,levelHeight:n>1?h:m,levelBuffer:new Uint8Array(e.buffer,d,v)},d+=v,g=g>>1||1,h=h>>1||1,f=g+i-1&~(i-1),m=h+s-1&~(s-1),v=f*m*Zh[r];return c}}const im=4,Uc=124,qO=32,yx=20,KO=542327876,Gc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},ZO={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},zc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},JO=1,e3=2,t3=4,r3=64,n3=512,i3=131072,s3=827611204,o3=861165636,a3=894720068,l3=808540228,u3=4,c3={[s3]:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,[o3]:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,[a3]:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT},h3={70:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function d3(t){const e=new Uint32Array(t);if(e[0]!==KO)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Uc/Uint32Array.BYTES_PER_ELEMENT),n=r[Gc.HEIGHT],i=r[Gc.WIDTH],s=r[Gc.MIPMAP_COUNT],o=new Uint32Array(t,Gc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,qO/Uint32Array.BYTES_PER_ELEMENT),l=o[JO];if(l&t3){const c=o[ZO.FOURCC];if(c!==l3){const b=c3[c],S=im+Uc,A=new Uint8Array(t,S);return[new Zs(A,{format:b,width:i,height:n,levels:s})]}const d=im+Uc,g=new Uint32Array(e.buffer,d,yx/Uint32Array.BYTES_PER_ELEMENT),h=g[zc.DXGI_FORMAT],f=g[zc.RESOURCE_DIMENSION],m=g[zc.MISC_FLAG],v=g[zc.ARRAY_SIZE],w=h3[h];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(m===u3)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,x=im+Uc+yx;if(v===1)T.push(new Uint8Array(t,x));else{const b=Zh[w];let S=0,A=i,P=n;for(let k=0;k<s;k++){const R=Math.max(1,A+3&-4),B=Math.max(1,P+3&-4),j=R*B*b;S+=j,A=A>>>1,P=P>>>1}let O=x;for(let k=0;k<v;k++)T.push(new Uint8Array(t,O,S)),O+=S}return T.map(b=>new Zs(b,{format:w,width:i,height:n,levels:s}))}throw l&r3?new Error("DDSParser does not support uncompressed texture data."):l&n3?new Error("DDSParser does not supported YUV uncompressed texture data."):l&i3?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&e3?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const vx=[171,75,84,88,32,49,49,187,13,10,26,10],f3=67305985,sn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Og=64,_x={[ye.UNSIGNED_BYTE]:1,[ye.UNSIGNED_SHORT]:2,[ye.INT]:4,[ye.UNSIGNED_INT]:4,[ye.FLOAT]:4,[ye.HALF_FLOAT]:8},p3={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},m3={[ye.UNSIGNED_SHORT_4_4_4_4]:2,[ye.UNSIGNED_SHORT_5_5_5_1]:2,[ye.UNSIGNED_SHORT_5_6_5]:2};function g3(t,e,r=!1){const n=new DataView(e);if(!y3(t,n))return null;const i=n.getUint32(sn.ENDIANNESS,!0)===f3,s=n.getUint32(sn.GL_TYPE,i),o=n.getUint32(sn.GL_FORMAT,i),l=n.getUint32(sn.GL_INTERNAL_FORMAT,i),c=n.getUint32(sn.PIXEL_WIDTH,i),d=n.getUint32(sn.PIXEL_HEIGHT,i)||1,g=n.getUint32(sn.PIXEL_DEPTH,i)||1,h=n.getUint32(sn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(sn.NUMBER_OF_FACES,i),m=n.getUint32(sn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(sn.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||g!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const w=4,T=4,x=c+3&-4,b=d+3&-4,S=new Array(h);let A=c*d;s===0&&(A=x*b);let P;if(s!==0?_x[s]?P=_x[s]*p3[o]:P=m3[s]:P=Zh[l],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const O=r?_3(n,v,i):null;let k=A*P,R=c,B=d,j=x,Z=b,H=Og+v;for(let D=0;D<m;D++){const W=n.getUint32(H,i);let te=H+4;for(let ae=0;ae<h;ae++){let ne=S[ae];ne||(ne=S[ae]=new Array(m)),ne[D]={levelID:D,levelWidth:m>1||s!==0?R:j,levelHeight:m>1||s!==0?B:Z,levelBuffer:new Uint8Array(e,te,k)},te+=k}H+=W+4,H=H%4!==0?H+4-H%4:H,R=R>>1||1,B=B>>1||1,j=R+w-1&~(w-1),Z=B+T-1&~(T-1),k=j*Z*P}return s!==0?{uncompressed:S.map(D=>{let W=D[0].levelBuffer,te=!1;return s===ye.FLOAT?W=new Float32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4):s===ye.UNSIGNED_INT?(te=!0,W=new Uint32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)):s===ye.INT&&(te=!0,W=new Int32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)),{resource:new Dd(W,{width:D[0].levelWidth,height:D[0].levelHeight}),type:s,format:te?v3(o):o}}),kvData:O}:{compressed:S.map(D=>new Zs(null,{format:l,width:c,height:d,levels:m,levelBuffers:D})),kvData:O}}function y3(t,e){for(let r=0;r<vx.length;r++)if(e.getUint8(r)!==vx[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function v3(t){switch(t){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return t}}function _3(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Og+i,r),o=Og+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),g=new DataView(t.buffer,o+c+1,s-c-1);n.set(d,g),i+=4+s+l}return n}const x3={extension:{type:se.LoadParser,priority:wn.High},name:"loadDDS",test(t){return vs(t,".dds")},async load(t,e,r){const n=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),i=d3(n).map(s=>{const o=new be(s,{mipmap:Yn.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:Si(t),...e.data});return Pu(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};pe.add(x3);const w3={extension:{type:se.LoadParser,priority:wn.High},name:"loadKTX",test(t){return vs(t,".ktx")},async load(t,e,r){const n=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=g3(t,n),l=i??s,c={mipmap:Yn.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:Si(t),...e.data},d=l.map(g=>{l===s&&Object.assign(c,{type:g.type,format:g.format});const h=g.resource??g,f=new be(h,c);return f.ktxKeyValueData=o,Pu(f,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};pe.add(w3);const b3={extension:se.ResolveParser,test:t=>{const e=Et.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Et.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=ce.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};pe.add(b3);const Hc=new Se,S3=4,HS=class El{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,l)=>{s.toBlob(c=>{if(!c){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=l,d.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);o&&El._flipY(n,i,s),l&&El._unpremultiplyAlpha(n);const c=new ok(i,s,1),d=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);return o&&El._flipY(n,i,s),l&&El._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,l,c=!1;e&&(e instanceof co?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(Hc.width=r.width,Hc.height=r.height,r=Hc)));const d=n.gl;if(l){if(i=l.baseTexture.resolution,r=r??l.frame,s=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===ee.RGBA,!c){n.renderTexture.bind(l);const m=l.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,r||(r=Hc,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(r.width*i),1),h=Math.max(Math.round(r.height*i),1),f=new Uint8Array(S3*g*h);return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),g,h,d.RGBA,d.UNSIGNED_BYTE,f),c&&(l==null||l.destroy(!0)),{pixels:f,width:g,height:h,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let l=0;l<s;l++){const c=l*i,d=(n-l-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,d,d+i),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};HS.extension={name:"extract",type:se.RendererSystem};let E3=HS;pe.add(E3);const Jh={build(t){const e=t.points;let r,n,i,s,o,l;if(t.type===zt.CIRC){const v=t.shape;r=v.x,n=v.y,o=l=v.radius,i=s=0}else if(t.type===zt.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,l=v.height,i=s=0}else{const v=t.shape,w=v.width/2,T=v.height/2;r=v.x+w,n=v.y+T,o=l=Math.max(0,Math.min(v.radius,Math.min(w,T))),i=w-o,s=T-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let g=0,h=c*4+(i?2:0)+2,f=h,m=d;{const v=i+o,w=s,T=r+v,x=r-v,b=n+w;if(e[g++]=T,e[g++]=b,e[--h]=b,e[--h]=x,s){const S=n-w;e[f++]=x,e[f++]=S,e[--m]=S,e[--m]=T}}for(let v=1;v<c;v++){const w=Math.PI/2*(v/c),T=i+Math.cos(w)*o,x=s+Math.sin(w)*l,b=r+T,S=r-T,A=n+x,P=n-x;e[g++]=b,e[g++]=A,e[--h]=A,e[--h]=S,e[f++]=S,e[f++]=P,e[--m]=P,e[--m]=b}{const v=i,w=s+l,T=r+v,x=r-v,b=n+w,S=n-w;e[g++]=T,e[g++]=b,e[--m]=S,e[--m]=T,i&&(e[g++]=x,e[g++]=b,e[--m]=S,e[--m]=x)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let l,c;if(t.type!==zt.RREC){const g=t.shape;l=g.x,c=g.y}else{const g=t.shape;l=g.x+g.width/2,c=g.y+g.height/2}const d=t.matrix;n.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let g=2;g<r.length;g+=2)n.push(r[g],r[g+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function xx(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const l=t[i],c=t[i+1];n+=(l-s)*(c+o),s=l,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,l=r-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[d]]=[t[d],t[l]]}}}const $S={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){xx(r,!1);const o=[];for(let d=0;d<n.length;d++){const g=n[d];xx(g.points,!0),o.push(r.length/2),r=r.concat(g.points)}const l=wI(r,o,2);if(!l)return;const c=i.length/2;for(let d=0;d<l.length;d+=3)s.push(l[d]+c),s.push(l[d+1]+c),s.push(l[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},T3={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},A3={build(t){Jh.build(t)},triangulate(t,e){Jh.triangulate(t,e)}};var Hr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Hr||{}),es=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(es||{});const Ea={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class wx{static curveTo(e,r,n,i,s,o){const l=o[o.length-2],c=o[o.length-1]-r,d=l-e,g=i-r,h=n-e,f=Math.abs(c*h-d*g);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=c*c+d*d,v=g*g+h*h,w=c*g+d*h,T=s*Math.sqrt(m)/f,x=s*Math.sqrt(v)/f,b=T*w/m,S=x*w/v,A=T*h+x*d,P=T*g+x*c,O=d*(x+b),k=c*(x+b),R=h*(T+S),B=g*(T+S),j=Math.atan2(k-P,O-A),Z=Math.atan2(B-P,R-A);return{cx:A+e,cy:P+r,radius:s,startAngle:j,endAngle:Z,anticlockwise:d*g>h*c}}static arc(e,r,n,i,s,o,l,c,d){const g=l-o,h=Ea._segmentsCount(Math.abs(g)*s,Math.ceil(Math.abs(g)/jh)*40),f=g/(h*2),m=f*2,v=Math.cos(f),w=Math.sin(f),T=h-1,x=T%1/T;for(let b=0;b<=T;++b){const S=b+x*b,A=f+o+m*S,P=Math.cos(A),O=-Math.sin(A);d.push((v*P+w*O)*s+n,(v*-O+w*P)*s+i)}}}class C3{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class ly{static curveLength(e,r,n,i,s,o,l,c){let d=0,g=0,h=0,f=0,m=0,v=0,w=0,T=0,x=0,b=0,S=0,A=e,P=r;for(let O=1;O<=10;++O)g=O/10,h=g*g,f=h*g,m=1-g,v=m*m,w=v*m,T=w*e+3*v*g*n+3*m*h*s+f*l,x=w*r+3*v*g*i+3*m*h*o+f*c,b=A-T,S=P-x,A=T,P=x,d+=Math.sqrt(b*b+S*S);return d}static curveTo(e,r,n,i,s,o,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const g=Ea._segmentsCount(ly.curveLength(c,d,e,r,n,i,s,o));let h=0,f=0,m=0,v=0,w=0;l.push(c,d);for(let T=1,x=0;T<=g;++T)x=T/g,h=1-x,f=h*h,m=f*h,v=x*x,w=v*x,l.push(m*c+3*f*x*e+3*h*v*n+w*s,m*d+3*f*x*r+3*h*v*i+w*o)}}function bx(t,e,r,n,i,s,o,l){const c=t-r*i,d=e-n*i,g=t+r*s,h=e+n*s;let f,m;o?(f=n,m=-r):(f=-n,m=r);const v=c+f,w=d+m,T=g+f,x=h+m;return l.push(v,w,T,x),2}function Ns(t,e,r,n,i,s,o,l){const c=r-t,d=n-e;let g=Math.atan2(c,d),h=Math.atan2(i-t,s-e);l&&g<h?g+=Math.PI*2:!l&&g>h&&(h+=Math.PI*2);let f=g;const m=h-g,v=Math.abs(m),w=Math.sqrt(c*c+d*d),T=(15*v*Math.sqrt(w)/Math.PI>>0)+1,x=m/T;if(f+=x,l){o.push(t,e,r,n);for(let b=1,S=f;b<T;b++,S+=x)o.push(t,e,t+Math.sin(S)*w,e+Math.cos(S)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,S=f;b<T;b++,S+=x)o.push(t+Math.sin(S)*w,e+Math.cos(S)*w,t,e);o.push(i,s,t,e)}return T*2}function P3(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ie(n[0],n[1]),l=new Ie(n[n.length-2],n[n.length-1]),c=r.type!==zt.POLY||r.closeStroke,d=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const ne=(o.x+l.x)*.5,M=(l.y+o.y)*.5;n.unshift(ne,M),n.push(ne,M)}const g=e.points,h=n.length/2;let f=n.length;const m=g.length/2,v=s.width/2,w=v*v,T=s.miterLimit*s.miterLimit;let x=n[0],b=n[1],S=n[2],A=n[3],P=0,O=0,k=-(b-A),R=x-S,B=0,j=0,Z=Math.sqrt(k*k+R*R);k/=Z,R/=Z,k*=v,R*=v;const H=s.alignment,D=(1-H)*2,W=H*2;c||(s.cap===es.ROUND?f+=Ns(x-k*(D-W)*.5,b-R*(D-W)*.5,x-k*D,b-R*D,x+k*W,b+R*W,g,!0)+2:s.cap===es.SQUARE&&(f+=bx(x,b,k,R,D,W,!0,g))),g.push(x-k*D,b-R*D,x+k*W,b+R*W);for(let ne=1;ne<h-1;++ne){x=n[(ne-1)*2],b=n[(ne-1)*2+1],S=n[ne*2],A=n[ne*2+1],P=n[(ne+1)*2],O=n[(ne+1)*2+1],k=-(b-A),R=x-S,Z=Math.sqrt(k*k+R*R),k/=Z,R/=Z,k*=v,R*=v,B=-(A-O),j=S-P,Z=Math.sqrt(B*B+j*j),B/=Z,j/=Z,B*=v,j*=v;const M=S-x,$=b-A,F=S-P,U=O-A,Q=M*F+$*U,we=$*F-U*M,xe=we<0;if(Math.abs(we)<.001*Math.abs(Q)){g.push(S-k*D,A-R*D,S+k*W,A+R*W),Q>=0&&(s.join===Hr.ROUND?f+=Ns(S,A,S-k*D,A-R*D,S-B*D,A-j*D,g,!1)+4:f+=2,g.push(S-B*W,A-j*W,S+B*D,A+j*D));continue}const Le=(-k+x)*(-R+A)-(-k+S)*(-R+b),Te=(-B+P)*(-j+A)-(-B+S)*(-j+O),De=(M*Te-F*Le)/we,Tt=(U*Le-$*Te)/we,Dt=(De-S)*(De-S)+(Tt-A)*(Tt-A),lt=S+(De-S)*D,Ae=A+(Tt-A)*D,Ve=S-(De-S)*W,Oe=A-(Tt-A)*W,Mr=Math.min(M*M+$*$,F*F+U*U),Or=xe?D:W,Ss=Mr+Or*Or*w,df=Dt<=Ss;let po=s.join;if(po===Hr.MITER&&Dt/w>T&&(po=Hr.BEVEL),df)switch(po){case Hr.MITER:{g.push(lt,Ae,Ve,Oe);break}case Hr.BEVEL:{xe?g.push(lt,Ae,S+k*W,A+R*W,lt,Ae,S+B*W,A+j*W):g.push(S-k*D,A-R*D,Ve,Oe,S-B*D,A-j*D,Ve,Oe),f+=2;break}case Hr.ROUND:{xe?(g.push(lt,Ae,S+k*W,A+R*W),f+=Ns(S,A,S+k*W,A+R*W,S+B*W,A+j*W,g,!0)+4,g.push(lt,Ae,S+B*W,A+j*W)):(g.push(S-k*D,A-R*D,Ve,Oe),f+=Ns(S,A,S-k*D,A-R*D,S-B*D,A-j*D,g,!1)+4,g.push(S-B*D,A-j*D,Ve,Oe));break}}else{switch(g.push(S-k*D,A-R*D,S+k*W,A+R*W),po){case Hr.MITER:{xe?g.push(Ve,Oe,Ve,Oe):g.push(lt,Ae,lt,Ae),f+=2;break}case Hr.ROUND:{xe?f+=Ns(S,A,S+k*W,A+R*W,S+B*W,A+j*W,g,!0)+2:f+=Ns(S,A,S-k*D,A-R*D,S-B*D,A-j*D,g,!1)+2;break}}g.push(S-B*D,A-j*D,S+B*W,A+j*W),f+=2}}x=n[(h-2)*2],b=n[(h-2)*2+1],S=n[(h-1)*2],A=n[(h-1)*2+1],k=-(b-A),R=x-S,Z=Math.sqrt(k*k+R*R),k/=Z,R/=Z,k*=v,R*=v,g.push(S-k*D,A-R*D,S+k*W,A+R*W),c||(s.cap===es.ROUND?f+=Ns(S-k*(D-W)*.5,A-R*(D-W)*.5,S-k*D,A-R*D,S+k*W,A+R*W,g,!1)+2:s.cap===es.SQUARE&&(f+=bx(S,A,k,R,D,W,!1,g)));const te=e.indices,ae=Ea.epsilon*Ea.epsilon;for(let ne=m;ne<f+m-2;++ne)x=g[ne*2],b=g[ne*2+1],S=g[(ne+1)*2],A=g[(ne+1)*2+1],P=g[(ne+2)*2],O=g[(ne+2)*2+1],!(Math.abs(x*(A-O)+S*(O-b)+P*(b-A))<ae)&&te.push(ne,ne+1,ne+2)}function I3(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==zt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,c=i.length/2,d=o.length/2;let g=d;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),l.push(g,g+1),g++;s&&l.push(g,d)}function Sx(t,e){t.lineStyle.native?I3(t,e):P3(t,e)}class uy{static curveLength(e,r,n,i,s,o){const l=e-2*n+s,c=r-2*i+o,d=2*n-2*e,g=2*i-2*r,h=4*(l*l+c*c),f=4*(l*d+c*g),m=d*d+g*g,v=2*Math.sqrt(h+f+m),w=Math.sqrt(h),T=2*h*w,x=2*Math.sqrt(m),b=f/w;return(T*v+w*f*(v-x)+(4*m*h-f*f)*Math.log((2*w+b+v)/(b+x)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],l=s[s.length-1],c=Ea._segmentsCount(uy.curveLength(o,l,e,r,n,i));let d=0,g=0;for(let h=1;h<=c;++h){const f=h/c;d=o+(e-o)*f,g=l+(r-l)*f,s.push(d+(e+(n-e)*f-d)*f,g+(r+(i-r)*f-g)*f)}}}const sm={[zt.POLY]:$S,[zt.CIRC]:Jh,[zt.ELIP]:Jh,[zt.RECT]:T3,[zt.RREC]:A3},Ex=[],$c=[];class ed{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new ed(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const No=new Ie,jS=class WS extends qb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Qh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),$c.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Ex.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new ed(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new ed(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,No):No.copyFrom(e),i.shape.contains(No.x,No.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(No.x,No.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],g=d.fillStyle,h=d.lineStyle;sm[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(g.visible||h.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const m=f===0?g:h;if(!m.visible)continue;const v=m.texture.baseTexture,w=this.indices.length,T=this.points.length/2;v.wrapMode=xi.REPEAT,f===0?this.processFill(d):this.processLine(d);const x=this.points.length/2-T;x!==0&&(n&&!this._compareStyles(i,m)&&(n.end(w,T),n=null),n||(n=Ex.pop()||new C3,n.begin(m,w,T),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,T,x,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<WS.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++be._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),$c.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=$c.pop();i||(i=new hg,i.texArray=new gg),i.texArray.count=0,i.start=0,i.size=0,i.type=fn.TRIANGLES;let s=0,o=null,l=0,c=!1,d=fn.TRIANGLES,g=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],m=8,v=f.style,w=v.texture.baseTexture;c!==!!v.native&&(c=!!v.native,d=c?fn.LINES:fn.TRIANGLES,o=null,s=m,e++),o!==w&&(o=w,w._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=$c.pop(),i||(i=new hg,i.texArray=new gg),this.drawCalls.push(i)),i.start=g,i.size=0,i.texArray.count=0,i.type=d),w.touched=1,w._batchEnabled=e,w._batchLocation=s,w.wrapMode=xi.REPEAT,i.texArray.elements[i.texArray.count++]=w,s++)),i.size+=f.size,g+=f.size,l=w._batchLocation,this.addColors(r,v.color,v.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,l,f.attribSize,f.attribStart)}be._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),l=new Uint32Array(s);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],l[c++]=n[d],o[c++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?$S.triangulate(e,this):sm[e.type].triangulate(e,this)}processLine(e){Sx(e,this);for(let r=0;r<e.holes.length;r++)Sx(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];sm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=je.shared.setValue(r).toLittleEndianNumber(),l=je.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=l}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let l=0;const c=r.length,d=n.frame;for(;l<s;){let h=e[(i+l)*2],f=e[(i+l)*2+1];if(o){const m=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty,h=m}l++,r.push(h/d.width,f/d.height)}const g=n.baseTexture;(d.width<g.width||d.height<g.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,l=n+i*2,c=r.frame,d=c.width/s.width,g=c.height/s.height;let h=c.x/c.width,f=c.y/c.height,m=Math.floor(e[n]+o),v=Math.floor(e[n+1]+o);for(let w=n+2;w<l;w+=2)m=Math.min(m,Math.floor(e[w]+o)),v=Math.min(v,Math.floor(e[w+1]+o));h-=m,f-=v;for(let w=n;w<l;w+=2)e[w]=(e[w]+h)*d,e[w+1]=(e[w+1]+f)*g}};jS.BATCHABLE_SIZE=100;let R3=jS;class jd{constructor(){this.color=16777215,this.alpha=1,this.texture=oe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new jd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=oe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class cy extends jd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=es.BUTT,this.join=Hr.MITER,this.miterLimit=10}clone(){const e=new cy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=es.BUTT,this.join=Hr.MITER,this.miterLimit=10}}const om={},Ng=class Sh extends sr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new jd,this._lineStyle=new cy,this._matrix=null,this._holeMode=!1,this.state=Jn.for2d(),this._geometry=e||new R3,this._geometry.refCount++,this._transformID=-1,this._tintColor=new je(16777215),this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Sh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:oe.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:es.BUTT,join:Hr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Ks,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Ks,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),uy.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),ly.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,l=wx.curveTo(e,r,n,i,s,o);if(l){const{cx:c,cy:d,radius:g,startAngle:h,endAngle:f,anticlockwise:m}=l;this.arc(c,d,g,h,f,m)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=jh:o&&i<=s&&(i+=jh),s-i===0)return this;const l=e+Math.cos(i)*n,c=r+Math.sin(i)*n,d=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const h=Math.abs(g[g.length-2]-l),f=Math.abs(g[g.length-1]-c);h<d&&f<d||g.push(l,c)}else this.moveTo(l,c),g=this.currentPath.points;return wx.arc(l,c,e,r,n,i,s,o,g),this}beginFill(e=0,r){return this.beginTextureFill({texture:oe.WHITE,color:e,alpha:r})}normalizeColor(e){const r=je.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:oe.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Se(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Ud(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Ld(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Bd(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Ks(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===zt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,l=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),g={vertexData:l,blendMode:r,indices:d,uvs:c,_batchRGB:je.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=g}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,je.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,c=o.length;l<c;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,l=n.count;for(let c=0;c<l;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!om[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:yn.from({uSamplers:s},!0)},l=e.plugins[n]._shader.program;om[n]=new jn(l,o)}r=om[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Sh._TEMP_POINT),this._geometry.containsPoint(Sh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=je.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,c=r.ty,d=this._geometry.points,g=this.vertexData;let h=0;for(let f=0;f<d.length;f+=2){const m=d[f],v=d[f+1];g[h++]=n*m+s*v+l,g[h++]=o*v+i*m+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Ng.curves=Ea,Ng._TEMP_POINT=new Ie;let Ul=Ng;class k3{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const am=new Ie,Tx=new Ks,VS=class XS extends sr{constructor(e,r,n,i=fn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Jn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===fn.TRIANGLES&&r.length<XS.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,l=i.c,c=i.d,d=i.tx,g=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const m=r[f*2],v=r[f*2+1];h[f*2]=s*m+l*v+d,h[f*2+1]=o*m+c*v+g}if(this._roundPixels){const f=ce.RESOLUTION;for(let m=0;m<h.length;++m)h[m]=Math.round(h[m]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new k3(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,am);const r=this.geometry.getBuffer("aVertexPosition").data,n=Tx.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let l=0;l+2<s;l+=o){const c=i[l]*2,d=i[l+1]*2,g=i[l+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[g],n[5]=r[g+1],Tx.contains(am.x,am.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};VS.BATCHABLE_SIZE=100;let eu=VS;class Wd extends ds{constructor(e,r,n){super();const i=new pt(e),s=new pt(r,!0),o=new pt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ye.FLOAT).addAttribute("aTextureCoord",s,2,!1,ye.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var M3=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,O3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class tu extends jn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:qe.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||pi.from(O3,M3),n),this._colorDirty=!1,this.uvMatrix=new sy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new je(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;je.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class N3 extends Wd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,c=this.height/o;for(let g=0;g<e;g++){const h=g%this.segWidth,f=g/this.segWidth|0;r.push(h*l,f*c),n.push(h/s,f/o)}const d=s*o;for(let g=0;g<d;g++){const h=g%s,f=g/s|0,m=f*this.segWidth+h,v=f*this.segWidth+h+1,w=(f+1)*this.segWidth+h,T=(f+1)*this.segWidth+h+1;i.push(m,v,w,v,T,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class F3 extends Wd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,g=e.length;for(let f=0;f<g;f++){const m=f*4;if(this.textureScale>0){const v=c.x-e[f].x,w=c.y-e[f].y,T=Math.sqrt(v*v+w*w);c=e[f],l+=T/d}else l=f/(g-1);s[m]=l,s[m+1]=0,s[m+2]=l,s[m+3]=1}let h=0;for(let f=0;f<g-1;f++){const m=f*2;o[h++]=m,o[h++]=m+1,o[h++]=m+2,o[h++]=m+2,o[h++]=m+1,o[h++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const g=e[d],h=d*4;d<e.length-1?n=e[d+1]:n=g,s=-(n.x-r.x),i=n.y-r.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=c,s*=c),o[h]=g.x+i,o[h+1]=g.y+s,o[h+2]=g.x-i,o[h+3]=g.y-s,r=g}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class D3 extends eu{constructor(e,r,n){const i=new N3(e.width,e.height,r,n),s=new tu(oe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const jc=10;class L3 extends D3{constructor(e,r,n,i,s){var o,l,c,d;super(oe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??jc,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??jc,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??jc,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??jc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class B3 extends eu{constructor(e=oe.EMPTY,r,n,i,s){const o=new Wd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new tu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class U3 extends eu{constructor(e,r,n=0){const i=new F3(e.height,r,n),s=new tu(e);n>0&&(e.baseTexture.wrapMode=xi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class G3 extends sr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_e.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new je(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Ax{constructor(e,r,n){this.geometry=new ds,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ye.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new pt(ik(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new pt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new pt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===ye.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===ye.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var z3=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,H3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class YS extends zd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new qe,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=jn.from(H3,z3,{}),this.state=Jn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=Xb(e.blendMode,d),s.state.set(this.state);const g=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=je.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let f=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let w=o-m;w>i&&(w=i),v>=l.length&&l.push(this._generateOneMoreBuffer(e));const T=l[v];T.uploadDynamic(r,m,w);const x=e._bufferUpdateIDs[v]||0;f=f||T._updateID<x,f&&(T._updateID=e._updateID,T.uploadStatic(r,m,w)),s.geometry.bind(T.geometry),g.drawElements(g.TRIANGLES,w*6,g.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Ax(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Ax(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let l=0,c=0,d=0,g=0;for(let h=0;h<n;++h){const f=e[r+h],m=f._texture,v=f.scale.x,w=f.scale.y,T=m.trim,x=m.orig;T?(c=T.x-f.anchor.x*x.width,l=c+T.width,g=T.y-f.anchor.y*x.height,d=g+T.height):(l=x.width*(1-f.anchor.x),c=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),g=x.height*-f.anchor.y),i[o]=c*v,i[o+1]=g*w,i[o+s]=l*v,i[o+s+1]=g*w,i[o+s*2]=l*v,i[o+s*2+1]=d*w,i[o+s*3]=c*v,i[o+s*3+1]=d*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l],d=je.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}YS.extension={name:"particle",type:se.RendererPlugin};pe.add(YS);var Vd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Vd||{});const Wc={willReadFrequently:!0},Dn=class ge{static get experimentalLetterSpacingSupported(){let e=ge._experimentalLetterSpacingSupported;if(e!==void 0){const r=ce.ADAPTER.getCanvasRenderingContext2D().prototype;e=ge._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,l,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,i=ge._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ge.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=i.getContext("2d",Wc);l.font=s;const c=(n?ge.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let g=0;for(let v=0;v<c.length;v++){const w=ge._measureText(c[v],r.letterSpacing,l);d[v]=w,g=Math.max(g,w)}let h=g+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const f=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(f,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(f+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new ge(e,r,h,m,c,d,f+r.leading,g,o)}static _measureText(e,r,n){let i=!1;ge.experimentalLetterSpacingSupported&&(ge.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ge.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ge._canvas){const i=n.getContext("2d",Wc);let s=0,o="",l="";const c=Object.create(null),{letterSpacing:d,whiteSpace:g}=r,h=ge.collapseSpaces(g),f=ge.collapseNewlines(g);let m=!h;const v=r.wordWrapWidth+d,w=ge.tokenize(e);for(let T=0;T<w.length;T++){let x=w[T];if(ge.isNewline(x)){if(!f){l+=ge.addLine(o),m=!h,o="",s=0;continue}x=" "}if(h){const S=ge.isBreakingSpace(x),A=ge.isBreakingSpace(o[o.length-1]);if(S&&A)continue}const b=ge.getFromCache(x,d,c,i);if(b>v)if(o!==""&&(l+=ge.addLine(o),o="",s=0),ge.canBreakWords(x,r.breakWords)){const S=ge.wordWrapSplit(x);for(let A=0;A<S.length;A++){let P=S[A],O=P,k=1;for(;S[A+k];){const B=S[A+k];if(!ge.canBreakChars(O,B,x,A,r.breakWords))P+=B;else break;O=B,k++}A+=k-1;const R=ge.getFromCache(P,d,c,i);R+s>v&&(l+=ge.addLine(o),m=!1,o="",s=0),o+=P,s+=R}}else{o.length>0&&(l+=ge.addLine(o),o="",s=0);const S=T===w.length-1;l+=ge.addLine(x,!S),m=!1,o="",s=0}else b+s>v&&(m=!1,l+=ge.addLine(o),o="",s=0),(o.length>0||!ge.isBreakingSpace(x)||m)&&(o+=x,s+=b)}return l+=ge.addLine(o,!1),l}static addLine(e,r=!0){return e=ge.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ge._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ge.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ge._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ge._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ge.isBreakingSpace(s,o)||ge.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ge.graphemeSegmenter(e)}static measureFont(e){if(ge._fonts[e])return ge._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ge._canvas,i=ge._context;i.font=e;const s=ge.METRICS_STRING+ge.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let l=Math.ceil(i.measureText(ge.BASELINE_SYMBOL).width);const c=Math.ceil(ge.HEIGHT_MULTIPLIER*l);if(l=l*ge.BASELINE_MULTIPLIER|0,o===0||c===0)return ge._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,l);const d=i.getImageData(0,0,o,c).data,g=d.length,h=o*4;let f=0,m=0,v=!1;for(f=0;f<l;++f){for(let w=0;w<h;w+=4)if(d[m+w]!==255){v=!0;break}if(!v)m+=h;else break}for(r.ascent=l-f,m=g-h,v=!1,f=c;f>l;--f){for(let w=0;w<h;w+=4)if(d[m+w]!==255){v=!0;break}if(!v)m-=h;else break}return r.descent=f-l,r.fontSize=r.ascent+r.descent,ge._fonts[e]=r,r}static clearMetrics(e=""){e?delete ge._fonts[e]:ge._fonts={}}static get _canvas(){var e;if(!ge.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Wc))!=null&&e.measureText)return ge.__canvas=n,n;r=ce.ADAPTER.createCanvas()}catch{r=ce.ADAPTER.createCanvas()}r.width=r.height=10,ge.__canvas=r}return ge.__canvas}static get _context(){return ge.__context||(ge.__context=ge._canvas.getContext("2d",Wc)),ge.__context}};Dn.METRICS_STRING="|ÉqÅ",Dn.BASELINE_SYMBOL="M",Dn.BASELINE_MULTIPLIER=1.4,Dn.HEIGHT_MULTIPLIER=2,Dn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Dn.experimentalLetterSpacing=!1,Dn._fonts={},Dn._newlines=[10,13],Dn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Vi=Dn;const $3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],QS=class Tl{constructor(e){this.styleID=0,this.reset(),um(this,e,e)}clone(){const e={};return um(e,this,Tl.defaultStyle),new Tl(e)}reset(){um(this,Tl.defaultStyle,Tl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=lm(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=lm(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){j3(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=lm(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!$3.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};QS.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Vd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Qn=QS;function lm(t){const e=je.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function j3(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function um(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const W3={texture:!0,children:!1,baseTexture:!0},qS=class Fg extends ei{constructor(e,r,n){let i=!1;n||(n=ce.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=oe.from(n);s.orig=new Se,s.trim=new Se,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Fg.defaultResolution??ce.RESOLUTION,this._autoResolution=Fg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Vi.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ce("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Vi.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Vi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,l=i.lines,c=i.lineHeight,d=i.lineWidths,g=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let f,m;const v=r.dropShadow?2:1;for(let w=0;w<v;++w){const T=r.dropShadow&&w===0,x=T?Math.ceil(Math.max(1,o)+r.padding*2):0,b=x*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,O=r.dropShadowDistance*this._resolution;n.shadowColor=je.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*O,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*O+b}else n.fillStyle=this._generateFillStyle(r,l,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(c-h.fontSize)/2;c-h.fontSize<0&&(S=0);for(let A=0;A<l.length;A++)f=r.strokeThickness/2,m=r.strokeThickness/2+A*c+h.ascent+S,r.align==="right"?f+=g-d[A]:r.align==="center"&&(f+=(g-d[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[A],f+r.padding,m+r.padding-x,!0),r.fill&&this.drawLetterSpacing(l[A],f+r.padding,m+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Vi.experimentalLetterSpacingSupported&&(Vi.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const c=Vi.graphemeSegmenter(e);let d=this.context.measureText(e).width,g=0;for(let h=0;h<c.length;++h){const f=c[h];i?this.context.strokeText(f,l,n):this.context.fillText(f,l,n);let m="";for(let v=h+1;v<c.length;++v)m+=c[v];g=this.context.measureText(m).width,l+=d-g+s,d=g}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=lk(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-o-l*2,d=this.canvas.height/this._resolution-o-l*2,g=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const f=g.length+1;for(let m=1;m<f;++m)h.push(m/f)}if(g.unshift(i[0]),h.unshift(0),g.push(i[i.length-1]),h.push(1),e.fillGradientType===Vd.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,l,c/2,d+l);const f=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<r.length;m++){const v=n.lineHeight*(m-1)+f,w=n.lineHeight*m;let T=w;m>0&&v>w&&(T=(w+v)/2);const x=w+f,b=n.lineHeight*(m+1);let S=x;m+1<r.length&&b<x&&(S=(x+b)/2);const A=(S-T)/d;for(let P=0;P<g.length;P++){let O=0;typeof h[P]=="number"?O=h[P]:O=P/g.length;let k=Math.min(1,Math.max(0,T/d+O*A));k=Number(k.toFixed(5)),s.addColorStop(k,g[P])}}}else{s=this.context.createLinearGradient(l,d/2,c+l,d/2);const f=g.length+1;let m=1;for(let v=0;v<g.length;v++){let w;typeof h[v]=="number"?w=h[v]:w=m/f,s.addColorStop(w,g[v]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},W3,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Ji(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Ji(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Qn?this._style=e:this._style=new Qn(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};qS.defaultAutoResolution=!0;let hy=qS;class V3{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function X3(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof oe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function Y3(t,e){if(t.baseTexture instanceof be){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Q3(t,e){if(t._texture&&t._texture instanceof oe){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function q3(t,e){return e instanceof hy?(e.updateText(!0),!0):!1}function K3(t,e){if(e instanceof Qn){const r=e.toFontString();return Vi.measureFont(r),!0}return!1}function Z3(t,e){if(t instanceof hy){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function J3(t,e){return t instanceof Qn?(e.includes(t)||e.push(t),!0):!1}const KS=class ZS{constructor(e){this.limiter=new V3(ZS.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Z3),this.registerFindHook(J3),this.registerFindHook(X3),this.registerFindHook(Y3),this.registerFindHook(Q3),this.registerUploadHook(q3),this.registerUploadHook(K3)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Nt.system.addOnce(this.tick,this,ps.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Nt.system.addOnce(this.tick,this,ps.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof sr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Nt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};KS.uploadsPerFrame=4;let Dg=KS;Object.defineProperties(ce,{UPLOADS_PER_FRAME:{get(){return Dg.uploadsPerFrame},set(t){Ce("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Dg.uploadsPerFrame=t}}});function JS(t,e){return e instanceof be?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function eN(t,e){if(!(e instanceof Ul))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&JS(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function tN(t,e){return t instanceof Ul?(e.push(t),!0):!1}class eE extends Dg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(tN),this.registerUploadHook(JS),this.registerUploadHook(eN)}}eE.extension={name:"prepare",type:se.RendererSystem};pe.add(eE);class ru extends ei{constructor(e,r=!0){super(e[0]instanceof oe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Nt.shared.add(this.update,this,ps.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(oe.from(e[n]));return new ru(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(oe.from(e[n]));return new ru(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof oe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Nt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Nt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const hl=new Ie;class dy extends ei{constructor(e,r=100,n=100){super(e),this.tileTransform=new Gd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new sy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,hl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(hl.x>=i&&hl.x<i+r){const s=-n*this.anchor._y;if(hl.y>=s&&hl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof oe?e:oe.from(e,r);return new dy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var rN=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,nN=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,iN=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Cx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,sN=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Vc=new qe;class tE extends zd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new oS,this.state=Jn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=jn.from(Cx,sN,r),this.shader=e.context.webGLVersion>1?jn.from(nN,rN,r):jn.from(Cx,iN,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,g=e.tileTransform.localTransform,h=e.uvMatrix;let f=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;f&&(c._glTextures[r.CONTEXT_UID]?f=c.wrapMode!==xi.CLAMP:c.wrapMode===xi.CLAMP&&(c.wrapMode=xi.REPEAT));const m=f?this.simpleShader:this.shader,v=l.width,w=l.height,T=e._width,x=e._height;Vc.set(g.a*v/T,g.b*v/x,g.c*w/T,g.d*w/x,g.tx/T,g.ty/x),Vc.invert(),f?Vc.prepend(h.mapCoord):(m.uniforms.uMapCoord=h.mapCoord.toArray(!0),m.uniforms.uClampFrame=h.uClampFrame,m.uniforms.uClampOffset=h.uClampOffset),m.uniforms.uTransform=Vc.toArray(!0),m.uniforms.uColor=je.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=l,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=Xb(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}tE.extension={name:"tilingSprite",type:se.RendererPlugin};pe.add(tE);const rE=class Al{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof oe?e:null,this.baseTexture=e instanceof be?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=Si(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Al.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Al.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let l=null,c=null;const d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,g=new Se(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?l=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Se(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new oe(this.baseTexture,l,g,c,s.rotated?2:0,s.anchor,s.borders),oe.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Al.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Al.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};rE.BATCH_SIZE=1e3;let Px=rE;const oN=["jpg","png","jpeg","avif","webp"];function nE(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Et.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const l=nE([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,l)})}return n}const aN={extension:se.Asset,cache:{test:t=>t instanceof Px,getCacheableAssets:(t,e)=>nE(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&oN.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:se.LoadParser,priority:wn.Normal},async testParse(t,e){return Et.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=Et.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=Mg(i,e.src);const s=(await r.load([i]))[i],o=new Px(s.baseTexture,t,e.src);await o.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const g=[];for(const f of l){if(typeof f!="string")continue;let m=n+f;(d=e.data)!=null&&d.ignoreMultiPack||(m=Mg(m,e.src),g.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(g);o.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[o].concat(o.linkedSheets.filter(m=>m!==f))})}return o},unload(t){t.destroy(!0)}}};pe.add(aN);class td{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Eh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const g=l[d].split("="),h=g[0],f=g[1].replace(/"/gm,""),m=parseFloat(f),v=isNaN(m)?f:m;c[h]=v}n[o].push(c)}const i=new td;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Lg{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new td,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const g=o[d];r.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class Bg{static test(e){return typeof e=="string"&&e.includes("<font>")?Lg.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return Lg.parse(ce.ADAPTER.parseXML(e))}}const cm=[Eh,Lg,Bg];function lN(t){for(let e=0;e<cm.length;e++)if(cm[e].test(t))return cm[e];return null}function uN(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,g=t.width/n-c-d*2,h=t.height/n-c-d*2,f=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const v=f.length+1;for(let w=1;w<v;++w)m.push(w/v)}if(f.unshift(o[0]),m.unshift(0),f.push(o[o.length-1]),m.push(1),r.fillGradientType===Vd.LINEAR_VERTICAL){l=e.createLinearGradient(g/2,d,g/2,h+d);let v=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let T=0;T<i.length;T++){const x=s.lineHeight*T;for(let b=0;b<f.length;b++){let S=0;typeof m[b]=="number"?S=m[b]:S=b/f.length;const A=x/h+S*w;let P=Math.max(v,A);P=Math.min(P,1),l.addColorStop(P,f[b]),v=P}}}else{l=e.createLinearGradient(d,h/2,g+d,h/2);const v=f.length+1;let w=1;for(let T=0;T<f.length;T++){let x;typeof m[T]=="number"?x=m[T]:x=w/v,l.addColorStop(x,f[T]),w++}}return l}function cN(t,e,r,n,i,s,o){const l=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,g=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=uN(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=je.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,d,g+r.lineHeight-c.descent),o.fill&&e.fillText(l,d,g+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Th(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function iE(t){return Array.from?Array.from(t):t.split("")}function hN(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...iE(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const $i=class Ln{constructor(e,r,n){var g;const[i]=e.info,[s]=e.common,[o]=e.page,[l]=e.distanceField,c=Si(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=d;for(let h=0;h<e.page.length;h++){const{id:f,file:m}=e.page[h];d[f]=r instanceof Array?r[h]:r[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[f].baseTexture.alphaMode=fr.NO_PREMULTIPLIED_ALPHA,d[f].baseTexture.mipmap=Yn.OFF)}for(let h=0;h<e.char.length;h++){const{id:f,page:m}=e.char[h];let{x:v,y:w,width:T,height:x,xoffset:b,yoffset:S,xadvance:A}=e.char[h];v/=c,w/=c,T/=c,x/=c,b/=c,S/=c,A/=c;const P=new Se(v+d[m].frame.x/c,w+d[m].frame.y/c,T,x);this.chars[f]={xOffset:b,yOffset:S,xAdvance:A,kerning:{},texture:new oe(d[m].baseTexture,P),page:m}}for(let h=0;h<e.kerning.length;h++){let{first:f,second:m,amount:v}=e.kerning[h];f/=c,m/=c,v/=c,this.chars[m]&&(this.chars[m].kerning[f]=v)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((g=l==null?void 0:l.fieldType)==null?void 0:g.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof td)i=e;else{const o=lN(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof oe&&(r=[r]);const s=new Ln(i,r,n);return Ln.available[s.font]=s,s}static uninstall(e){const r=Ln.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Ln.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:l,textureHeight:c,...d}=Object.assign({},Ln.defaultOptions,n),g=hN(i),h=r instanceof Qn?r:new Qn(r),f=l,m=new td;m.info[0]={face:h.fontFamily,size:h.fontSize},m.common[0]={lineHeight:h.fontSize};let v=0,w=0,T,x,b,S=0;const A=[];for(let O=0;O<g.length;O++){T||(T=ce.ADAPTER.createCanvas(),T.width=l,T.height=c,x=T.getContext("2d"),b=new be(T,{resolution:o,...d}),A.push(new oe(b)),m.page.push({id:A.length-1,file:""}));const k=g[O],R=Vi.measureText(k,h,!1,T),B=R.width,j=Math.ceil(R.height),Z=Math.ceil((h.fontStyle==="italic"?2:1)*B);if(w>=c-j*o){if(w===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--O,T=null,x=null,b=null,w=0,v=0,S=0;continue}if(S=Math.max(j+R.fontProperties.descent,S),Z*o+v>=f){if(v===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${k}')`);--O,w+=S*o,w=Math.ceil(w),v=0,S=0;continue}cN(T,x,R,v,w,o,h);const H=Th(R.text);m.char.push({id:H,page:A.length-1,x:v/o,y:w/o,width:Z,height:j,xoffset:0,yoffset:0,xadvance:B-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),v+=(Z+2*s)*o,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(let O=0,k=g.length;O<k;O++){const R=g[O];for(let B=0;B<k;B++){const j=g[B],Z=x.measureText(R).width,H=x.measureText(j).width,D=x.measureText(R+j).width-(Z+H);D&&m.kerning.push({first:Th(R),second:Th(j),amount:D})}}const P=new Ln(m,A,!0);return Ln.available[e]!==void 0&&Ln.uninstall(e),Ln.available[e]=P,P}};$i.ALPHA=[["a","z"],["A","Z"]," "],$i.NUMERIC=[["0","9"]],$i.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],$i.ASCII=[[" ","~"]],$i.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:$i.ALPHANUMERIC},$i.available={};let ji=$i;var dN=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,fN=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Ix=[],Rx=[],kx=[],sE=class oE extends sr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:l,fontSize:c}=Object.assign({},oE.styleDefaults,r);if(!ji.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new je(i),this._font=void 0,this._fontName=l,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Hn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Z;const e=ji.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Ie,s=[],o=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=iE(c),g=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?Ix:Rx;let f=null,m=0,v=0,w=0,T=-1,x=0,b=0,S=0,A=0;for(let H=0;H<d.length;H++){const D=d[H],W=Th(D);if(/(?:\s)/.test(D)&&(T=H,x=m,A++),D==="\r"||D===`
`){o.push(m),l.push(-1),v=Math.max(v,m),++w,++b,i.x=0,i.y+=e.lineHeight,f=null,A=0;continue}const te=e.chars[W];if(!te)continue;f&&te.kerning[f]&&(i.x+=te.kerning[f]);const ae=kx.pop()||{texture:oe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ie};ae.texture=te.texture,ae.line=w,ae.charCode=W,ae.position.x=Math.round(i.x+te.xOffset+this._letterSpacing/2),ae.position.y=Math.round(i.y+te.yOffset),ae.prevSpaces=A,s.push(ae),m=ae.position.x+Math.max(te.xAdvance-te.xOffset,te.texture.orig.width),i.x+=te.xAdvance+this._letterSpacing,S=Math.max(S,te.yOffset+te.texture.height),f=W,T!==-1&&g>0&&i.x>g&&(++b,ca(s,1+T-b,1+H-T),H=T,T=-1,o.push(x),l.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,x),w++,i.x=0,i.y+=e.lineHeight,f=null,A=0)}const P=d[d.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(m=x),o.push(m),v=Math.max(v,m),l.push(-1));const O=[];for(let H=0;H<=w;H++){let D=0;this._align==="right"?D=v-o[H]:this._align==="center"?D=(v-o[H])/2:this._align==="justify"&&(D=l[H]<0?0:(v-o[H])/l[H]),O.push(D)}const k=s.length,R={},B=[],j=this._activePagesMeshData;h.push(...j);for(let H=0;H<k;H++){const D=s[H].texture,W=D.baseTexture.uid;if(!R[W]){let te=h.pop();if(!te){const ne=new Wd;let M,$;e.distanceFieldType==="none"?(M=new tu(oe.EMPTY),$=_e.NORMAL):(M=new tu(oe.EMPTY,{program:pi.from(fN,dN),uniforms:{uFWidth:0}}),$=_e.NORMAL_NPM);const F=new eu(ne,M);F.blendMode=$,te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}te.index=0,te.indexCount=0,te.vertexCount=0,te.uvsCount=0,te.total=0;const{_textureCache:ae}=this;ae[W]=ae[W]||new oe(D.baseTexture),te.mesh.texture=ae[W],te.mesh.tint=this._tintColor.value,B.push(te),R[W]=te}R[W].total++}for(let H=0;H<j.length;H++)B.includes(j[H])||this.removeChild(j[H].mesh);for(let H=0;H<B.length;H++)B[H].mesh.parent!==this&&this.addChild(B[H].mesh);this._activePagesMeshData=B;for(const H in R){const D=R[H],W=D.total;if(!(((Z=D.indices)==null?void 0:Z.length)>6*W)||D.vertices.length<eu.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*W),D.uvs=new Float32Array(4*2*W),D.indices=new Uint16Array(6*W);else{const te=D.total,ae=D.vertices;for(let ne=te*4*2;ne<ae.length;ne++)ae[ne]=0}D.mesh.size=6*W}for(let H=0;H<k;H++){const D=s[H];let W=D.position.x+O[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const te=W*n,ae=D.position.y*n,ne=D.texture,M=R[ne.baseTexture.uid],$=ne.frame,F=ne._uvs,U=M.index++;M.indices[U*6+0]=0+U*4,M.indices[U*6+1]=1+U*4,M.indices[U*6+2]=2+U*4,M.indices[U*6+3]=0+U*4,M.indices[U*6+4]=2+U*4,M.indices[U*6+5]=3+U*4,M.vertices[U*8+0]=te,M.vertices[U*8+1]=ae,M.vertices[U*8+2]=te+$.width*n,M.vertices[U*8+3]=ae,M.vertices[U*8+4]=te+$.width*n,M.vertices[U*8+5]=ae+$.height*n,M.vertices[U*8+6]=te,M.vertices[U*8+7]=ae+$.height*n,M.uvs[U*8+0]=F.x0,M.uvs[U*8+1]=F.y0,M.uvs[U*8+2]=F.x1,M.uvs[U*8+3]=F.y1,M.uvs[U*8+4]=F.x2,M.uvs[U*8+5]=F.y2,M.uvs[U*8+6]=F.x3,M.uvs[U*8+7]=F.y3}this._textWidth=v*n,this._textHeight=(i.y+e.lineHeight)*n;for(const H in R){const D=R[H];if(this.anchor.x!==0||this.anchor.y!==0){let ne=0;const M=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let F=0;F<D.total;F++)D.vertices[ne++]-=M,D.vertices[ne++]-=$,D.vertices[ne++]-=M,D.vertices[ne++]-=$,D.vertices[ne++]-=M,D.vertices[ne++]-=$,D.vertices[ne++]-=M,D.vertices[ne++]-=$}this._maxLineHeight=S*n;const W=D.mesh.geometry.getBuffer("aVertexPosition"),te=D.mesh.geometry.getBuffer("aTextureCoord"),ae=D.mesh.geometry.getIndex();W.data=D.vertices,te.data=D.uvs,ae.data=D.indices,W.update(),te.update(),ae.update()}for(let H=0;H<s.length;H++)kx.push(s[H]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=ji.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:l,d:c}=this.worldTransform,d=Math.sqrt(s*s+o*o),g=Math.sqrt(l*l+c*c),h=(Math.abs(d)+Math.abs(g))/2,f=this.fontSize/i,m=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=h*r*f*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ji.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ji.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ji.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=ji.available[this._fontName].distanceFieldType==="none"?Ix:Rx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=oe.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};sE.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let pN=sE;const mN=[".xml",".fnt"],gN={extension:{type:se.LoadParser,priority:wn.Normal},name:"loadBitmapFont",test(t){return mN.includes(Et.extname(t).toLowerCase())},async testParse(t){return Eh.test(t)||Bg.test(t)},async parse(t,e,r){const n=Eh.test(t)?Eh.parse(t):Bg.parse(t),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const g=s[d].file;let h=Et.join(Et.dirname(i),g);h=Mg(h,i),o.push(h)}const l=await r.load(o),c=o.map(d=>l[d]);return ji.install(n,c,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};pe.add(gN);const Ug=class Ho extends Qn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Ho(Object.keys(Ho.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Ho.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Ho;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ce.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const l=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([l,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Et.basename(e,Et.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=rk(e)),typeof e=="number"?tk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Ho.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=ce.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Ug.availableFonts={},Ug.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let hm=Ug;const Xc=class $o extends ei{constructor(e="",r={}){super(oe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=oe.from(n,{scaleMode:ce.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Se,i.trim=new Se,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),d=document.createElementNS(o,"div"),g=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",l.appendChild(c),this.maxWidth=$o.defaultMaxWidth,this.maxHeight=$o.defaultMaxHeight,this._domElement=d,this._styleElement=g,this._svgRoot=l,this._foreignObject=c,this._foreignObject.appendChild(g),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=$o.defaultAutoResolution,this._resolution=$o.defaultResolution??ce.RESOLUTION,this.text=e,this.style=r}measureText(e){var g,h;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=s;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(g=this._style)==null?void 0:g.toCSS(i)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(c=>{i.onload=async()=>{if(l<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},$o.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Ji(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Ji(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof hm?(this.ownsStyle=!1,this._style=e):e instanceof Qn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=hm.from(e)):(this.ownsStyle=!0,this._style=new hm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Xc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Xc.defaultMaxWidth=2024,Xc.defaultMaxHeight=2024,Xc.defaultAutoResolution=!0;function aE(t,e){function r(n){if(n&&n.props){const i={},s=n.props;for(let o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=aE(n.props.children,e)),re.cloneElement(n,i)}return n}return Array.isArray(t)?re.Children.map(t,n=>r(n)):r(t)}function yN(t,e){const[r,n,i,s]=t;if(pn.any&&e){document.documentElement.clientWidth;const o=document.documentElement.clientHeight,l=Math.max(0,(o-s)/2);return[r,n-l,i,Math.max(s,o)]}return t}const vN={title:"roulette",layoutMap:{p:{safeArea:yN([0,0,540,960],!1),displayArea:[0,0,540,960]}}};XP("gameconfig",Object.assign(vN,ZP));YP(JP);var lE={exports:{}},Rr={},uE={exports:{}},cE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,$){var F=M.length;M.push($);e:for(;0<F;){var U=F-1>>>1,Q=M[U];if(0<i(Q,$))M[U]=$,M[F]=Q,F=U;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],F=M.pop();if(F!==$){M[0]=F;e:for(var U=0,Q=M.length,we=Q>>>1;U<we;){var xe=2*(U+1)-1,Le=M[xe],Te=xe+1,De=M[Te];if(0>i(Le,F))Te<Q&&0>i(De,Le)?(M[U]=De,M[Te]=F,U=Te):(M[U]=Le,M[xe]=F,U=xe);else if(Te<Q&&0>i(De,F))M[U]=De,M[Te]=F,U=Te;else break e}}return $}function i(M,$){var F=M.sortIndex-$.sortIndex;return F!==0?F:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],g=1,h=null,f=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=M)n(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(d)}}function A(M){if(w=!1,S(M),!v)if(r(c)!==null)v=!0,ae(P);else{var $=r(d);$!==null&&ne(A,$.startTime-M)}}function P(M,$){v=!1,w&&(w=!1,x(R),R=-1),m=!0;var F=f;try{for(S($),h=r(c);h!==null&&(!(h.expirationTime>$)||M&&!Z());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var Q=U(h.expirationTime<=$);$=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),S($)}else n(c);h=r(c)}if(h!==null)var we=!0;else{var xe=r(d);xe!==null&&ne(A,xe.startTime-$),we=!1}return we}finally{h=null,f=F,m=!1}}var O=!1,k=null,R=-1,B=5,j=-1;function Z(){return!(t.unstable_now()-j<B)}function H(){if(k!==null){var M=t.unstable_now();j=M;var $=!0;try{$=k(!0,M)}finally{$?D():(O=!1,k=null)}}else O=!1}var D;if(typeof b=="function")D=function(){b(H)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=H,D=function(){te.postMessage(null)}}else D=function(){T(H,0)};function ae(M){k=M,O||(O=!0,D())}function ne(M,$){R=T(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return M()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=f;f=M;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(M,$,F){var U=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,M={id:g++,callback:$,priorityLevel:M,startTime:F,expirationTime:Q,sortIndex:-1},F>U?(M.sortIndex=F,e(d,M),r(c)===null&&M===r(d)&&(w?(x(R),R=-1):w=!0,ne(A,F-U))):(M.sortIndex=Q,e(c,M),v||m||(v=!0,ae(P))),M},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(M){var $=f;return function(){var F=f;f=$;try{return M.apply(this,arguments)}finally{f=F}}}})(cE);uE.exports=cE;var _N=uE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=re,Ir=_N;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,nu={};function ho(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(nu[t]=e,t=0;t<e.length;t++)dE.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gg=Object.prototype.hasOwnProperty,xN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mx={},Ox={};function wN(t){return Gg.call(Ox,t)?!0:Gg.call(Mx,t)?!1:xN.test(t)?Ox[t]=!0:(Mx[t]=!0,!1)}function bN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SN(t,e,r,n){if(e===null||typeof e>"u"||bN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function py(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fy,py);$t[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fy,py);$t[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fy,py);$t[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function my(t,e,r,n){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SN(e,r,i,n)&&(r=null),n||i===null?wN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ii=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),mE=Symbol.for("react.offscreen"),Nx=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,dm;function Cl(t){if(dm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function pm(t,e){if(!t||fm)return"";fm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{fm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Cl(t):""}function EN(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=pm(t.type,!1),t;case 11:return t=pm(t.type.render,!1),t;case 1:return t=pm(t.type,!0),t;default:return""}}function jg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Xo:return"Portal";case zg:return"Profiler";case gy:return"StrictMode";case Hg:return"Suspense";case $g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pE:return(t.displayName||"Context")+".Consumer";case fE:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vy:return e=t.displayName||null,e!==null?e:jg(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return jg(t(e))}catch{}}return null}function TN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AN(t){var e=gE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=AN(t))}function yE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wg(t,e){var r=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Fx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ms(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vE(t,e){e=e.checked,e!=null&&my(t,"checked",e,!1)}function Vg(t,e){vE(t,e);var r=ms(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xg(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xg(t,e,r){(e!=="number"||rd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pl=Array.isArray;function fa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ms(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(Pl(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ms(r)}}function _E(t,e){var r=ms(e.value),n=ms(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,wE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CN=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(t){CN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gl[e]=Gl[t]})});function bE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gl.hasOwnProperty(t)&&Gl[t]?(""+e).trim():e+"px"}function SE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var PN=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qg(t,e){if(e){if(PN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Kg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=null;function _y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jg=null,pa=null,ma=null;function Ux(t){if(t=ku(t)){if(typeof Jg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Kd(e),Jg(t.stateNode,t.type,e))}}function EE(t){pa?ma?ma.push(t):ma=[t]:pa=t}function TE(){if(pa){var t=pa,e=ma;if(ma=pa=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function AE(t,e){return t(e)}function CE(){}var mm=!1;function PE(t,e,r){if(mm)return t(e,r);mm=!0;try{return AE(t,e,r)}finally{mm=!1,(pa!==null||ma!==null)&&(CE(),TE())}}function su(t,e){var r=t.stateNode;if(r===null)return null;var n=Kd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var e0=!1;if(Ei)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){e0=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{e0=!1}function IN(t,e,r,n,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(g){this.onError(g)}}var zl=!1,nd=null,id=!1,t0=null,RN={onError:function(t){zl=!0,nd=t}};function kN(t,e,r,n,i,s,o,l,c){zl=!1,nd=null,IN.apply(RN,arguments)}function MN(t,e,r,n,i,s,o,l,c){if(kN.apply(this,arguments),zl){if(zl){var d=nd;zl=!1,nd=null}else throw Error(K(198));id||(id=!0,t0=d)}}function fo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gx(t){if(fo(t)!==t)throw Error(K(188))}function ON(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Gx(i),t;if(s===n)return Gx(i),e;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function RE(t){return t=ON(t),t!==null?kE(t):null}function kE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kE(t);if(e!==null)return e;t=t.sibling}return null}var ME=Ir.unstable_scheduleCallback,zx=Ir.unstable_cancelCallback,NN=Ir.unstable_shouldYield,FN=Ir.unstable_requestPaint,mt=Ir.unstable_now,DN=Ir.unstable_getCurrentPriorityLevel,xy=Ir.unstable_ImmediatePriority,OE=Ir.unstable_UserBlockingPriority,sd=Ir.unstable_NormalPriority,LN=Ir.unstable_LowPriority,NE=Ir.unstable_IdlePriority,Xd=null,Wn=null;function BN(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Xd,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:zN,UN=Math.log,GN=Math.LN2;function zN(t){return t>>>=0,t===0?32:31-(UN(t)/GN|0)|0}var Kc=64,Zc=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function od(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Il(l):(s&=o,s!==0&&(n=Il(s)))}else o=r&~i,o!==0?n=Il(o):s!==0&&(n=Il(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vn(e),i=1<<r,n|=t[r],e&=~i;return n}function HN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $N(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=HN(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FE(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function gm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Iu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=r}function jN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function wy(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ge=0;function DE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LE,by,BE,UE,GE,n0=!1,Jc=[],ns=null,is=null,ss=null,ou=new Map,au=new Map,qi=[],WN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function pl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ku(e),e!==null&&by(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VN(t,e,r,n,i){switch(e){case"focusin":return ns=pl(ns,t,e,r,n,i),!0;case"dragenter":return is=pl(is,t,e,r,n,i),!0;case"mouseover":return ss=pl(ss,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ou.set(s,pl(ou.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,au.set(s,pl(au.get(s)||null,t,e,r,n,i)),!0}return!1}function zE(t){var e=Vs(t.target);if(e!==null){var r=fo(e);if(r!==null){if(e=r.tag,e===13){if(e=IE(r),e!==null){t.blockedOn=e,GE(t.priority,function(){BE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=i0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zg=n,r.target.dispatchEvent(n),Zg=null}else return e=ku(r),e!==null&&by(e),t.blockedOn=r,!1;e.shift()}return!0}function $x(t,e,r){Ah(t)&&r.delete(e)}function XN(){n0=!1,ns!==null&&Ah(ns)&&(ns=null),is!==null&&Ah(is)&&(is=null),ss!==null&&Ah(ss)&&(ss=null),ou.forEach($x),au.forEach($x)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,n0||(n0=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,XN)))}function lu(t){function e(i){return ml(i,t)}if(0<Jc.length){ml(Jc[0],t);for(var r=1;r<Jc.length;r++){var n=Jc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ns!==null&&ml(ns,t),is!==null&&ml(is,t),ss!==null&&ml(ss,t),ou.forEach(e),au.forEach(e),r=0;r<qi.length;r++)n=qi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qi.length&&(r=qi[0],r.blockedOn===null);)zE(r),r.blockedOn===null&&qi.shift()}var ga=Ii.ReactCurrentBatchConfig,ad=!0;function YN(t,e,r,n){var i=Ge,s=ga.transition;ga.transition=null;try{Ge=1,Sy(t,e,r,n)}finally{Ge=i,ga.transition=s}}function QN(t,e,r,n){var i=Ge,s=ga.transition;ga.transition=null;try{Ge=4,Sy(t,e,r,n)}finally{Ge=i,ga.transition=s}}function Sy(t,e,r,n){if(ad){var i=i0(t,e,r,n);if(i===null)Am(t,e,n,ld,r),Hx(t,n);else if(VN(i,t,e,r,n))n.stopPropagation();else if(Hx(t,n),e&4&&-1<WN.indexOf(t)){for(;i!==null;){var s=ku(i);if(s!==null&&LE(s),s=i0(t,e,r,n),s===null&&Am(t,e,n,ld,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Am(t,e,n,null,r)}}var ld=null;function i0(t,e,r,n){if(ld=null,t=_y(n),t=Vs(t),t!==null)if(e=fo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function HE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case xy:return 1;case OE:return 4;case sd:case LN:return 16;case NE:return 536870912;default:return 16}default:return 16}}var ts=null,Ey=null,Ch=null;function $E(){if(Ch)return Ch;var t,e=Ey,r=e.length,n,i="value"in ts?ts.value:ts.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ch=i.slice(t,1<n?1-n:void 0)}function Ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eh(){return!0}function jx(){return!1}function kr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eh:jx,this.isPropagationStopped=jx,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),e}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=kr(La),Ru=at({},La,{view:0,detail:0}),qN=kr(Ru),ym,vm,gl,Yd=at({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(ym=t.screenX-gl.screenX,vm=t.screenY-gl.screenY):vm=ym=0,gl=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:vm}}),Wx=kr(Yd),KN=at({},Yd,{dataTransfer:0}),ZN=kr(KN),JN=at({},Ru,{relatedTarget:0}),_m=kr(JN),eF=at({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=kr(eF),rF=at({},La,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nF=kr(rF),iF=at({},La,{data:0}),Vx=kr(iF),sF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aF[t])?!!e[t]:!1}function Ay(){return lF}var uF=at({},Ru,{key:function(t){if(t.key){var e=sF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(t){return t.type==="keypress"?Ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cF=kr(uF),hF=at({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=kr(hF),dF=at({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),fF=kr(dF),pF=at({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),mF=kr(pF),gF=at({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yF=kr(gF),vF=[9,13,27,32],Cy=Ei&&"CompositionEvent"in window,Hl=null;Ei&&"documentMode"in document&&(Hl=document.documentMode);var _F=Ei&&"TextEvent"in window&&!Hl,jE=Ei&&(!Cy||Hl&&8<Hl&&11>=Hl),Yx=String.fromCharCode(32),Qx=!1;function WE(t,e){switch(t){case"keyup":return vF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function xF(t,e){switch(t){case"compositionend":return VE(e);case"keypress":return e.which!==32?null:(Qx=!0,Yx);case"textInput":return t=e.data,t===Yx&&Qx?null:t;default:return null}}function wF(t,e){if(Qo)return t==="compositionend"||!Cy&&WE(t,e)?(t=$E(),Ch=Ey=ts=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jE&&e.locale!=="ko"?null:e.data;default:return null}}var bF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bF[t.type]:e==="textarea"}function XE(t,e,r,n){EE(n),e=ud(e,"onChange"),0<e.length&&(r=new Ty("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $l=null,uu=null;function SF(t){iT(t,0)}function Qd(t){var e=Zo(t);if(yE(e))return t}function EF(t,e){if(t==="change")return e}var YE=!1;if(Ei){var xm;if(Ei){var wm="oninput"in document;if(!wm){var Kx=document.createElement("div");Kx.setAttribute("oninput","return;"),wm=typeof Kx.oninput=="function"}xm=wm}else xm=!1;YE=xm&&(!document.documentMode||9<document.documentMode)}function Zx(){$l&&($l.detachEvent("onpropertychange",QE),uu=$l=null)}function QE(t){if(t.propertyName==="value"&&Qd(uu)){var e=[];XE(e,uu,t,_y(t)),PE(SF,e)}}function TF(t,e,r){t==="focusin"?(Zx(),$l=e,uu=r,$l.attachEvent("onpropertychange",QE)):t==="focusout"&&Zx()}function AF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(uu)}function CF(t,e){if(t==="click")return Qd(e)}function PF(t,e){if(t==="input"||t==="change")return Qd(e)}function IF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:IF;function cu(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gg.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function Jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ew(t,e){var r=Jx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jx(r)}}function qE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KE(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=rd(t.document)}return e}function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RF(t){var e=KE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qE(r.ownerDocument.documentElement,r)){if(n!==null&&Py(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ew(r,s);var o=ew(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kF=Ei&&"documentMode"in document&&11>=document.documentMode,qo=null,s0=null,jl=null,o0=!1;function tw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;o0||qo==null||qo!==rd(n)||(n=qo,"selectionStart"in n&&Py(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jl&&cu(jl,n)||(jl=n,n=ud(s0,"onSelect"),0<n.length&&(e=new Ty("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qo)))}function th(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ko={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},bm={},ZE={};Ei&&(ZE=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function qd(t){if(bm[t])return bm[t];if(!Ko[t])return t;var e=Ko[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZE)return bm[t]=e[r];return t}var JE=qd("animationend"),eT=qd("animationiteration"),tT=qd("animationstart"),rT=qd("transitionend"),nT=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(t,e){nT.set(t,e),ho(e,[t])}for(var Sm=0;Sm<rw.length;Sm++){var Em=rw[Sm],MF=Em.toLowerCase(),OF=Em[0].toUpperCase()+Em.slice(1);_s(MF,"on"+OF)}_s(JE,"onAnimationEnd");_s(eT,"onAnimationIteration");_s(tT,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(rT,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function nw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MN(n,e,void 0,t),t.currentTarget=null}function iT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;nw(i,l,d),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;nw(i,l,d),s=c}}}if(id)throw t=t0,id=!1,t0=null,t}function Xe(t,e){var r=e[h0];r===void 0&&(r=e[h0]=new Set);var n=t+"__bubble";r.has(n)||(sT(e,t,2,!1),r.add(n))}function Tm(t,e,r){var n=0;e&&(n|=4),sT(r,t,n,e)}var rh="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[rh]){t[rh]=!0,dE.forEach(function(r){r!=="selectionchange"&&(NF.has(r)||Tm(r,!1,t),Tm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rh]||(e[rh]=!0,Tm("selectionchange",!1,e))}}function sT(t,e,r,n){switch(HE(e)){case 1:var i=YN;break;case 4:i=QN;break;default:i=Sy}r=i.bind(null,e,r,t),i=void 0,!e0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Am(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Vs(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}PE(function(){var d=s,g=_y(r),h=[];e:{var f=nT.get(t);if(f!==void 0){var m=Ty,v=t;switch(t){case"keypress":if(Ph(r)===0)break e;case"keydown":case"keyup":m=cF;break;case"focusin":v="focus",m=_m;break;case"focusout":v="blur",m=_m;break;case"beforeblur":case"afterblur":m=_m;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fF;break;case JE:case eT:case tT:m=tF;break;case rT:m=mF;break;case"scroll":m=qN;break;case"wheel":m=yF;break;case"copy":case"cut":case"paste":m=nF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xx}var w=(e&4)!==0,T=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var b=d,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,x!==null&&(A=su(b,x),A!=null&&w.push(du(b,A,S)))),T)break;b=b.return}0<w.length&&(f=new m(f,v,null,r,g),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Zg&&(v=r.relatedTarget||r.fromElement)&&(Vs(v)||v[Ti]))break e;if((m||f)&&(f=g.window===g?g:(f=g.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=d,v=v?Vs(v):null,v!==null&&(T=fo(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(w=Wx,A="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xx,A="onPointerLeave",x="onPointerEnter",b="pointer"),T=m==null?f:Zo(m),S=v==null?f:Zo(v),f=new w(A,b+"leave",m,r,g),f.target=T,f.relatedTarget=S,A=null,Vs(g)===d&&(w=new w(x,b+"enter",v,r,g),w.target=S,w.relatedTarget=T,A=w),T=A,m&&v)t:{for(w=m,x=v,b=0,S=w;S;S=Fo(S))b++;for(S=0,A=x;A;A=Fo(A))S++;for(;0<b-S;)w=Fo(w),b--;for(;0<S-b;)x=Fo(x),S--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=Fo(w),x=Fo(x)}w=null}else w=null;m!==null&&iw(h,f,m,w,!1),v!==null&&T!==null&&iw(h,T,v,w,!0)}}e:{if(f=d?Zo(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=EF;else if(qx(f))if(YE)P=PF;else{P=AF;var O=TF}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=CF);if(P&&(P=P(t,d))){XE(h,P,r,g);break e}O&&O(t,f,d),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Xg(f,"number",f.value)}switch(O=d?Zo(d):window,t){case"focusin":(qx(O)||O.contentEditable==="true")&&(qo=O,s0=d,jl=null);break;case"focusout":jl=s0=qo=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,tw(h,r,g);break;case"selectionchange":if(kF)break;case"keydown":case"keyup":tw(h,r,g)}var k;if(Cy)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qo?WE(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(jE&&r.locale!=="ko"&&(Qo||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qo&&(k=$E()):(ts=g,Ey="value"in ts?ts.value:ts.textContent,Qo=!0)),O=ud(d,R),0<O.length&&(R=new Vx(R,t,null,r,g),h.push({event:R,listeners:O}),k?R.data=k:(k=VE(r),k!==null&&(R.data=k)))),(k=_F?xF(t,r):wF(t,r))&&(d=ud(d,"onBeforeInput"),0<d.length&&(g=new Vx("onBeforeInput","beforeinput",null,r,g),h.push({event:g,listeners:d}),g.data=k))}iT(h,e)})}function du(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ud(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=su(t,r),s!=null&&n.unshift(du(t,s,i)),s=su(t,e),s!=null&&n.push(du(t,s,i))),t=t.return}return n}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=su(r,s),c!=null&&o.unshift(du(r,c,l))):i||(c=su(r,s),c!=null&&o.push(du(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var FF=/\r\n?/g,DF=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(FF,`
`).replace(DF,"")}function nh(t,e,r){if(e=sw(e),sw(t)!==e&&r)throw Error(K(425))}function cd(){}var a0=null,l0=null;function u0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,LF=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,BF=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(t){return ow.resolve(null).then(t).catch(UF)}:c0;function UF(t){setTimeout(function(){throw t})}function Cm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),lu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);lu(e)}function os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ba,fu="__reactProps$"+Ba,Ti="__reactContainer$"+Ba,h0="__reactEvents$"+Ba,GF="__reactListeners$"+Ba,zF="__reactHandles$"+Ba;function Vs(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ti]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=aw(t);t!==null;){if(r=t[zn])return r;t=aw(t)}return e}t=r,r=t.parentNode}return null}function ku(t){return t=t[zn]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Kd(t){return t[fu]||null}var d0=[],Jo=-1;function xs(t){return{current:t}}function Qe(t){0>Jo||(t.current=d0[Jo],d0[Jo]=null,Jo--)}function We(t,e){Jo++,d0[Jo]=t.current,t.current=e}var gs={},Jt=xs(gs),mr=xs(!1),no=gs;function Aa(t,e){var r=t.type.contextTypes;if(!r)return gs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function hd(){Qe(mr),Qe(Jt)}function lw(t,e,r){if(Jt.current!==gs)throw Error(K(168));We(Jt,e),We(mr,r)}function oT(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,TN(t)||"Unknown",i));return at({},r,n)}function dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,no=Jt.current,We(Jt,t),We(mr,mr.current),!0}function uw(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=oT(t,e,no),n.__reactInternalMemoizedMergedChildContext=t,Qe(mr),Qe(Jt),We(Jt,t)):Qe(mr),We(mr,r)}var hi=null,Zd=!1,Pm=!1;function aT(t){hi===null?hi=[t]:hi.push(t)}function HF(t){Zd=!0,aT(t)}function ws(){if(!Pm&&hi!==null){Pm=!0;var t=0,e=Ge;try{var r=hi;for(Ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hi=null,Zd=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),ME(xy,ws),i}finally{Ge=e,Pm=!1}}return null}var ea=[],ta=0,fd=null,pd=0,$r=[],jr=0,io=null,gi=1,yi="";function Hs(t,e){ea[ta++]=pd,ea[ta++]=fd,fd=t,pd=e}function lT(t,e,r){$r[jr++]=gi,$r[jr++]=yi,$r[jr++]=io,io=t;var n=gi;t=yi;var i=32-vn(n)-1;n&=~(1<<i),r+=1;var s=32-vn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gi=1<<32-vn(e)+i|r<<i|n,yi=s+t}else gi=1<<s|r<<i|n,yi=t}function Iy(t){t.return!==null&&(Hs(t,1),lT(t,1,0))}function Ry(t){for(;t===fd;)fd=ea[--ta],ea[ta]=null,pd=ea[--ta],ea[ta]=null;for(;t===io;)io=$r[--jr],$r[jr]=null,yi=$r[--jr],$r[jr]=null,gi=$r[--jr],$r[jr]=null}var Cr=null,Ar=null,et=!1,hn=null;function uT(t,e){var r=Xr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function cw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cr=t,Ar=os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cr=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=io!==null?{id:gi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cr=t,Ar=null,!0):!1;default:return!1}}function f0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p0(t){if(et){var e=Ar;if(e){var r=e;if(!cw(t,e)){if(f0(t))throw Error(K(418));e=os(r.nextSibling);var n=Cr;e&&cw(t,e)?uT(n,r):(t.flags=t.flags&-4097|2,et=!1,Cr=t)}}else{if(f0(t))throw Error(K(418));t.flags=t.flags&-4097|2,et=!1,Cr=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function ih(t){if(t!==Cr)return!1;if(!et)return hw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u0(t.type,t.memoizedProps)),e&&(e=Ar)){if(f0(t))throw cT(),Error(K(418));for(;e;)uT(t,e),e=os(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ar=os(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Cr?os(t.stateNode.nextSibling):null;return!0}function cT(){for(var t=Ar;t;)t=os(t.nextSibling)}function Ca(){Ar=Cr=null,et=!1}function ky(t){hn===null?hn=[t]:hn.push(t)}var $F=Ii.ReactCurrentBatchConfig;function un(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var md=xs(null),gd=null,ra=null,My=null;function Oy(){My=ra=gd=null}function Ny(t){var e=md.current;Qe(md),t._currentValue=e}function m0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ya(t,e){gd=t,My=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(My!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(gd===null)throw Error(K(308));ra=t,gd.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Xs=null;function Fy(t){Xs===null?Xs=[t]:Xs.push(t)}function hT(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Fy(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ai(t,n)}function Ai(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Yi=!1;function Dy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ai(t,r)}return i=n.interleaved,i===null?(e.next=e,Fy(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ai(t,r)}function Ih(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wy(t,r)}}function dw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yd(t,e,r,n){var i=t.updateQueue;Yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var g=t.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==o&&(l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,g=d=c=null,l=s;do{var f=l.lane,m=l.eventTime;if((n&f)===f){g!==null&&(g=g.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,m=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=at({},h,f);break e;case 2:Yi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(d=g=m,c=h):g=g.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(g===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=h}}function fw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var fT=new hE.Component().refs;function g0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:at({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jd={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ir(),i=us(t),s=bi(n,i);s.payload=e,r!=null&&(s.callback=r),e=as(t,s,i),e!==null&&(_n(e,t,i,n),Ih(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ir(),i=us(t),s=bi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=as(t,s,i),e!==null&&(_n(e,t,i,n),Ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ir(),n=us(t),i=bi(r,n);i.tag=2,e!=null&&(i.callback=e),e=as(t,i,n),e!==null&&(_n(e,t,n,r),Ih(e,t,n))}};function pw(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!cu(r,n)||!cu(i,s):!0}function pT(t,e,r){var n=!1,i=gs,s=e.contextType;return typeof s=="object"&&s!==null?s=Qr(s):(i=gr(e)?no:Jt.current,n=e.contextTypes,s=(n=n!=null)?Aa(t,i):gs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jd.enqueueReplaceState(e,e.state,null)}function y0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=fT,Dy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qr(s):(s=gr(e)?no:Jt.current,i.context=Aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jd.enqueueReplaceState(i,i.state,null),yd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===fT&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function sh(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gw(t){var e=t._init;return e(t._payload)}function mT(t){function e(x,b){if(t){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function r(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=cs(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,b,S,A){return b===null||b.tag!==6?(b=Fm(S,x.mode,A),b.return=x,b):(b=i(b,S),b.return=x,b)}function c(x,b,S,A){var P=S.type;return P===Yo?g(x,b,S.props.children,A,S.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Xi&&gw(P)===b.type)?(A=i(b,S.props),A.ref=yl(x,b,S),A.return=x,A):(A=Fh(S.type,S.key,S.props,null,x.mode,A),A.ref=yl(x,b,S),A.return=x,A)}function d(x,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Dm(S,x.mode,A),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function g(x,b,S,A,P){return b===null||b.tag!==7?(b=eo(S,x.mode,A,P),b.return=x,b):(b=i(b,S),b.return=x,b)}function h(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Fm(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return S=Fh(b.type,b.key,b.props,null,x.mode,S),S.ref=yl(x,null,b),S.return=x,S;case Xo:return b=Dm(b,x.mode,S),b.return=x,b;case Xi:var A=b._init;return h(x,A(b._payload),S)}if(Pl(b)||dl(b))return b=eo(b,x.mode,S,null),b.return=x,b;sh(x,b)}return null}function f(x,b,S,A){var P=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(x,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:return S.key===P?c(x,b,S,A):null;case Xo:return S.key===P?d(x,b,S,A):null;case Xi:return P=S._init,f(x,b,P(S._payload),A)}if(Pl(S)||dl(S))return P!==null?null:g(x,b,S,A,null);sh(x,S)}return null}function m(x,b,S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(S)||null,l(b,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yc:return x=x.get(A.key===null?S:A.key)||null,c(b,x,A,P);case Xo:return x=x.get(A.key===null?S:A.key)||null,d(b,x,A,P);case Xi:var O=A._init;return m(x,b,S,O(A._payload),P)}if(Pl(A)||dl(A))return x=x.get(S)||null,g(b,x,A,P,null);sh(b,A)}return null}function v(x,b,S,A){for(var P=null,O=null,k=b,R=b=0,B=null;k!==null&&R<S.length;R++){k.index>R?(B=k,k=null):B=k.sibling;var j=f(x,k,S[R],A);if(j===null){k===null&&(k=B);break}t&&k&&j.alternate===null&&e(x,k),b=s(j,b,R),O===null?P=j:O.sibling=j,O=j,k=B}if(R===S.length)return r(x,k),et&&Hs(x,R),P;if(k===null){for(;R<S.length;R++)k=h(x,S[R],A),k!==null&&(b=s(k,b,R),O===null?P=k:O.sibling=k,O=k);return et&&Hs(x,R),P}for(k=n(x,k);R<S.length;R++)B=m(k,x,R,S[R],A),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?R:B.key),b=s(B,b,R),O===null?P=B:O.sibling=B,O=B);return t&&k.forEach(function(Z){return e(x,Z)}),et&&Hs(x,R),P}function w(x,b,S,A){var P=dl(S);if(typeof P!="function")throw Error(K(150));if(S=P.call(S),S==null)throw Error(K(151));for(var O=P=null,k=b,R=b=0,B=null,j=S.next();k!==null&&!j.done;R++,j=S.next()){k.index>R?(B=k,k=null):B=k.sibling;var Z=f(x,k,j.value,A);if(Z===null){k===null&&(k=B);break}t&&k&&Z.alternate===null&&e(x,k),b=s(Z,b,R),O===null?P=Z:O.sibling=Z,O=Z,k=B}if(j.done)return r(x,k),et&&Hs(x,R),P;if(k===null){for(;!j.done;R++,j=S.next())j=h(x,j.value,A),j!==null&&(b=s(j,b,R),O===null?P=j:O.sibling=j,O=j);return et&&Hs(x,R),P}for(k=n(x,k);!j.done;R++,j=S.next())j=m(k,x,R,j.value,A),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?R:j.key),b=s(j,b,R),O===null?P=j:O.sibling=j,O=j);return t&&k.forEach(function(H){return e(x,H)}),et&&Hs(x,R),P}function T(x,b,S,A){if(typeof S=="object"&&S!==null&&S.type===Yo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:e:{for(var P=S.key,O=b;O!==null;){if(O.key===P){if(P=S.type,P===Yo){if(O.tag===7){r(x,O.sibling),b=i(O,S.props.children),b.return=x,x=b;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Xi&&gw(P)===O.type){r(x,O.sibling),b=i(O,S.props),b.ref=yl(x,O,S),b.return=x,x=b;break e}r(x,O);break}else e(x,O);O=O.sibling}S.type===Yo?(b=eo(S.props.children,x.mode,A,S.key),b.return=x,x=b):(A=Fh(S.type,S.key,S.props,null,x.mode,A),A.ref=yl(x,b,S),A.return=x,x=A)}return o(x);case Xo:e:{for(O=S.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(x,b.sibling),b=i(b,S.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else e(x,b);b=b.sibling}b=Dm(S,x.mode,A),b.return=x,x=b}return o(x);case Xi:return O=S._init,T(x,b,O(S._payload),A)}if(Pl(S))return v(x,b,S,A);if(dl(S))return w(x,b,S,A);sh(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,S),b.return=x,x=b):(r(x,b),b=Fm(S,x.mode,A),b.return=x,x=b),o(x)):r(x,b)}return T}var Pa=mT(!0),gT=mT(!1),Mu={},Vn=xs(Mu),pu=xs(Mu),mu=xs(Mu);function Ys(t){if(t===Mu)throw Error(K(174));return t}function Ly(t,e){switch(We(mu,e),We(pu,t),We(Vn,Mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qg(e,t)}Qe(Vn),We(Vn,e)}function Ia(){Qe(Vn),Qe(pu),Qe(mu)}function yT(t){Ys(mu.current);var e=Ys(Vn.current),r=Qg(e,t.type);e!==r&&(We(pu,t),We(Vn,r))}function By(t){pu.current===t&&(Qe(Vn),Qe(pu))}var it=xs(0);function vd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Im=[];function Uy(){for(var t=0;t<Im.length;t++)Im[t]._workInProgressVersionPrimary=null;Im.length=0}var Rh=Ii.ReactCurrentDispatcher,Rm=Ii.ReactCurrentBatchConfig,so=0,ot=null,bt=null,Ot=null,_d=!1,Wl=!1,gu=0,jF=0;function Yt(){throw Error(K(321))}function Gy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function zy(t,e,r,n,i,s){if(so=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?YF:QF,t=r(n,i),Wl){s=0;do{if(Wl=!1,gu=0,25<=s)throw Error(K(301));s+=1,Ot=bt=null,e.updateQueue=null,Rh.current=qF,t=r(n,i)}while(Wl)}if(Rh.current=xd,e=bt!==null&&bt.next!==null,so=0,Ot=bt=ot=null,_d=!1,e)throw Error(K(300));return t}function Hy(){var t=gu!==0;return gu=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function qr(){if(bt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ot===null?ot.memoizedState:Ot.next;if(e!==null)Ot=e,bt=t;else{if(t===null)throw Error(K(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function yu(t,e){return typeof e=="function"?e(t):e}function km(t){var e=qr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=bt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,d=s;do{var g=d.lane;if((so&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ot.lanes|=g,oo|=g}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=l,xn(n,e.memoizedState)||(pr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Mm(t){var e=qr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function vT(){}function _T(t,e){var r=ot,n=qr(),i=e(),s=!xn(n.memoizedState,i);if(s&&(n.memoizedState=i,pr=!0),n=n.queue,$y(bT.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,vu(9,wT.bind(null,r,n,i,e),void 0,null),Ft===null)throw Error(K(349));so&30||xT(r,e,i)}return i}function xT(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wT(t,e,r,n){e.value=r,e.getSnapshot=n,ST(e)&&ET(t)}function bT(t,e,r){return r(function(){ST(e)&&ET(t)})}function ST(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function ET(t){var e=Ai(t,1);e!==null&&_n(e,t,1,-1)}function yw(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:t},e.queue=t,t=t.dispatch=XF.bind(null,ot,t),[e.memoizedState,t]}function vu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function TT(){return qr().memoizedState}function kh(t,e,r,n){var i=Bn();ot.flags|=t,i.memoizedState=vu(1|e,r,void 0,n===void 0?null:n)}function ef(t,e,r,n){var i=qr();n=n===void 0?null:n;var s=void 0;if(bt!==null){var o=bt.memoizedState;if(s=o.destroy,n!==null&&Gy(n,o.deps)){i.memoizedState=vu(e,r,s,n);return}}ot.flags|=t,i.memoizedState=vu(1|e,r,s,n)}function vw(t,e){return kh(8390656,8,t,e)}function $y(t,e){return ef(2048,8,t,e)}function AT(t,e){return ef(4,2,t,e)}function CT(t,e){return ef(4,4,t,e)}function PT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IT(t,e,r){return r=r!=null?r.concat([t]):null,ef(4,4,PT.bind(null,e,t),r)}function jy(){}function RT(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kT(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function MT(t,e,r){return so&21?(xn(r,e)||(r=FE(),ot.lanes|=r,oo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=r)}function WF(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var n=Rm.transition;Rm.transition={};try{t(!1),e()}finally{Ge=r,Rm.transition=n}}function OT(){return qr().memoizedState}function VF(t,e,r){var n=us(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NT(t))FT(e,r);else if(r=hT(t,e,r,n),r!==null){var i=ir();_n(r,t,n,i),DT(r,e,n)}}function XF(t,e,r){var n=us(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NT(t))FT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,xn(l,o)){var c=e.interleaved;c===null?(i.next=i,Fy(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=hT(t,e,i,n),r!==null&&(i=ir(),_n(r,t,n,i),DT(r,e,n))}}function NT(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function FT(t,e){Wl=_d=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function DT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wy(t,r)}}var xd={readContext:Qr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},YF={readContext:Qr,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:vw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,kh(4194308,4,PT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return kh(4,2,t,e)},useMemo:function(t,e){var r=Bn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=VF.bind(null,ot,t),[n.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:yw,useDebugValue:jy,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=yw(!1),e=t[0];return t=WF.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ot,i=Bn();if(et){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),Ft===null)throw Error(K(349));so&30||xT(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,vw(bT.bind(null,n,s,t),[t]),n.flags|=2048,vu(9,wT.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Bn(),e=Ft.identifierPrefix;if(et){var r=yi,n=gi;r=(n&~(1<<32-vn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QF={readContext:Qr,useCallback:RT,useContext:Qr,useEffect:$y,useImperativeHandle:IT,useInsertionEffect:AT,useLayoutEffect:CT,useMemo:kT,useReducer:km,useRef:TT,useState:function(){return km(yu)},useDebugValue:jy,useDeferredValue:function(t){var e=qr();return MT(e,bt.memoizedState,t)},useTransition:function(){var t=km(yu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:vT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1},qF={readContext:Qr,useCallback:RT,useContext:Qr,useEffect:$y,useImperativeHandle:IT,useInsertionEffect:AT,useLayoutEffect:CT,useMemo:kT,useReducer:Mm,useRef:TT,useState:function(){return Mm(yu)},useDebugValue:jy,useDeferredValue:function(t){var e=qr();return bt===null?e.memoizedState=t:MT(e,bt.memoizedState,t)},useTransition:function(){var t=Mm(yu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:vT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1};function Ra(t,e){try{var r="",n=e;do r+=EN(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Om(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function v0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var KF=typeof WeakMap=="function"?WeakMap:Map;function LT(t,e,r){r=bi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bd||(bd=!0,P0=n),v0(t,e)},r}function BT(t,e,r){r=bi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){v0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){v0(t,e),typeof n!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function _w(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new KF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hD.bind(null,t,e,r),e.then(t,t))}function xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ww(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=bi(-1,1),e.tag=2,as(r,e,1))),r.lanes|=1),t)}var ZF=Ii.ReactCurrentOwner,pr=!1;function rr(t,e,r,n){e.child=t===null?gT(e,null,r,n):Pa(e,t.child,r,n)}function bw(t,e,r,n,i){r=r.render;var s=e.ref;return ya(e,i),n=zy(t,e,r,n,s,i),r=Hy(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(et&&r&&Iy(e),e.flags|=1,rr(t,e,n,i),e.child)}function Sw(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Zy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,UT(t,e,s,n,i)):(t=Fh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:cu,r(o,n)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=cs(s,n),t.ref=e.ref,t.return=e,e.child=t}function UT(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(cu(s,n)&&t.ref===e.ref)if(pr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(pr=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return _0(t,e,r,n,i)}function GT(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ia,Tr),Tr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(ia,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,We(ia,Tr),Tr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,We(ia,Tr),Tr|=n;return rr(t,e,i,r),e.child}function zT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _0(t,e,r,n,i){var s=gr(r)?no:Jt.current;return s=Aa(e,s),ya(e,i),r=zy(t,e,r,n,s,i),n=Hy(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(et&&n&&Iy(e),e.flags|=1,rr(t,e,r,i),e.child)}function Ew(t,e,r,n,i){if(gr(r)){var s=!0;dd(e)}else s=!1;if(ya(e,i),e.stateNode===null)Mh(t,e),pT(e,r,n),y0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Qr(d):(d=gr(r)?no:Jt.current,d=Aa(e,d));var g=r.getDerivedStateFromProps,h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&mw(e,o,n,d),Yi=!1;var f=e.memoizedState;o.state=f,yd(e,n,o,i),c=e.memoizedState,l!==n||f!==c||mr.current||Yi?(typeof g=="function"&&(g0(e,r,g,n),c=e.memoizedState),(l=Yi||pw(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,dT(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:un(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qr(c):(c=gr(r)?no:Jt.current,c=Aa(e,c));var m=r.getDerivedStateFromProps;(g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&mw(e,o,n,c),Yi=!1,f=e.memoizedState,o.state=f,yd(e,n,o,i);var v=e.memoizedState;l!==h||f!==v||mr.current||Yi?(typeof m=="function"&&(g0(e,r,m,n),v=e.memoizedState),(d=Yi||pw(e,r,d,n,f,v,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return x0(t,e,r,n,s,i)}function x0(t,e,r,n,i,s){zT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&uw(e,r,!1),Ci(t,e,s);n=e.stateNode,ZF.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Pa(e,t.child,null,s),e.child=Pa(e,null,l,s)):rr(t,e,l,s),e.memoizedState=n.state,i&&uw(e,r,!0),e.child}function HT(t){var e=t.stateNode;e.pendingContext?lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(t,e.context,!1),Ly(t,e.containerInfo)}function Tw(t,e,r,n,i){return Ca(),ky(i),e.flags|=256,rr(t,e,r,n),e.child}var w0={dehydrated:null,treeContext:null,retryLane:0};function b0(t){return{baseLanes:t,cachePool:null,transitions:null}}function $T(t,e,r){var n=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(it,i&1),t===null)return p0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nf(o,n,0,null),t=eo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=b0(r),e.memoizedState=w0,t):Wy(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return JF(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=cs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cs(l,s):(s=eo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?b0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=w0,n}return s=t.child,t=s.sibling,n=cs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Wy(t,e){return e=nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oh(t,e,r,n){return n!==null&&ky(n),Pa(e,t.child,null,r),t=Wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JF(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Om(Error(K(422))),oh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=nf({mode:"visible",children:n.children},i,0,null),s=eo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Pa(e,t.child,null,o),e.child.memoizedState=b0(o),e.memoizedState=w0,s);if(!(e.mode&1))return oh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(K(419)),n=Om(s,n,void 0),oh(t,e,o,n)}if(l=(o&t.childLanes)!==0,pr||l){if(n=Ft,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(t,i),_n(n,t,i,-1))}return Ky(),n=Om(Error(K(421))),oh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=os(i.nextSibling),Cr=e,et=!0,hn=null,t!==null&&($r[jr++]=gi,$r[jr++]=yi,$r[jr++]=io,gi=t.id,yi=t.overflow,io=e),e=Wy(e,n.children),e.flags|=4096,e)}function Aw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),m0(t.return,e,r)}function Nm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function jT(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(rr(t,e,n.children,r),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Aw(t,r,e);else if(t.tag===19)Aw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(it,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&vd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Nm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Nm(e,!0,r,null,s);break;case"together":Nm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=cs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function eD(t,e,r){switch(e.tag){case 3:HT(e),Ca();break;case 5:yT(e);break;case 1:gr(e.type)&&dd(e);break;case 4:Ly(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;We(md,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(it,it.current&1),e.flags|=128,null):r&e.child.childLanes?$T(t,e,r):(We(it,it.current&1),t=Ci(t,e,r),t!==null?t.sibling:null);We(it,it.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,GT(t,e,r)}return Ci(t,e,r)}var WT,S0,VT,XT;WT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S0=function(){};VT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ys(Vn.current);var s=null;switch(r){case"input":i=Wg(t,i),n=Wg(t,n),s=[];break;case"select":i=at({},i,{value:void 0}),n=at({},n,{value:void 0}),s=[];break;case"textarea":i=Yg(t,i),n=Yg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cd)}qg(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(nu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(nu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Xe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};XT=function(t,e,r,n){r!==n&&(e.flags|=4)};function vl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function tD(t,e,r){var n=e.pendingProps;switch(Ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return gr(e.type)&&hd(),Qt(e),null;case 3:return n=e.stateNode,Ia(),Qe(mr),Qe(Jt),Uy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(k0(hn),hn=null))),S0(t,e),Qt(e),null;case 5:By(e);var i=Ys(mu.current);if(r=e.type,t!==null&&e.stateNode!=null)VT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return Qt(e),null}if(t=Ys(Vn.current),ih(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zn]=e,n[fu]=s,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<Rl.length;i++)Xe(Rl[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":Fx(n,s),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",n);break;case"textarea":Lx(n,s),Xe("invalid",n)}qg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&nh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&nh(n.textContent,l,t),i=["children",""+l]):nu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Qc(n),Dx(n,s,!0);break;case"textarea":Qc(n),Bx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=cd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[fu]=n,WT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kg(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),i=n;break;case"iframe":case"object":case"embed":Xe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Rl.length;i++)Xe(Rl[i],t);i=n;break;case"source":Xe("error",t),i=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=n;break;case"details":Xe("toggle",t),i=n;break;case"input":Fx(t,n),i=Wg(t,n),Xe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=at({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":Lx(t,n),i=Yg(t,n),Xe("invalid",t);break;default:i=n}qg(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?SE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wE(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&iu(t,c):typeof c=="number"&&iu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Xe("scroll",t):c!=null&&my(t,s,c,o))}switch(r){case"input":Qc(t),Dx(t,n,!1);break;case"textarea":Qc(t),Bx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ms(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?fa(t,!!n.multiple,s,!1):n.defaultValue!=null&&fa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)XT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=Ys(mu.current),Ys(Vn.current),ih(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(s=n.nodeValue!==r)&&(t=Cr,t!==null))switch(t.tag){case 3:nh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return Qt(e),null;case 13:if(Qe(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Ar!==null&&e.mode&1&&!(e.flags&128))cT(),Ca(),e.flags|=98560,s=!1;else if(s=ih(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[zn]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else hn!==null&&(k0(hn),hn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?St===0&&(St=3):Ky())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ia(),S0(t,e),t===null&&hu(e.stateNode.containerInfo),Qt(e),null;case 10:return Ny(e.type._context),Qt(e),null;case 17:return gr(e.type)&&hd(),Qt(e),null;case 19:if(Qe(it),s=e.memoizedState,s===null)return Qt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)vl(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vd(t),o!==null){for(e.flags|=128,vl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>ka&&(e.flags|=128,n=!0,vl(s,!1),e.lanes=4194304)}else{if(!n)if(t=vd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Qt(e),null}else 2*mt()-s.renderingStartTime>ka&&r!==1073741824&&(e.flags|=128,n=!0,vl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,r=it.current,We(it,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return qy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Tr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function rD(t,e){switch(Ry(e),e.tag){case 1:return gr(e.type)&&hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),Qe(mr),Qe(Jt),Uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return By(e),null;case 13:if(Qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(it),null;case 4:return Ia(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var ah=!1,Kt=!1,nD=typeof WeakSet=="function"?WeakSet:Set,de=null;function na(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(t,e,n)}else r.current=null}function E0(t,e,r){try{r()}catch(n){ct(t,e,n)}}var Cw=!1;function iD(t,e){if(a0=ad,t=KE(),Py(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,g=0,h=t,f=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===i&&(l=o),f===s&&++g===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(l0={focusedElem:t,selectionRange:r},ad=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:un(e.type,w),T);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){ct(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return v=Cw,Cw=!1,v}function Vl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&E0(e,r,s)}i=i.next}while(i!==n)}}function tf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function T0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YT(t){var e=t.alternate;e!==null&&(t.alternate=null,YT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[fu],delete e[h0],delete e[GF],delete e[zF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QT(t){return t.tag===5||t.tag===3||t.tag===4}function Pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cd));else if(n!==4&&(t=t.child,t!==null))for(A0(t,e,r),t=t.sibling;t!==null;)A0(t,e,r),t=t.sibling}function C0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(C0(t,e,r),t=t.sibling;t!==null;)C0(t,e,r),t=t.sibling}var Ut=null,cn=!1;function Hi(t,e,r){for(r=r.child;r!==null;)qT(t,e,r),r=r.sibling}function qT(t,e,r){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Xd,r)}catch{}switch(r.tag){case 5:Kt||na(r,e);case 6:var n=Ut,i=cn;Ut=null,Hi(t,e,r),Ut=n,cn=i,Ut!==null&&(cn?(t=Ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(cn?(t=Ut,r=r.stateNode,t.nodeType===8?Cm(t.parentNode,r):t.nodeType===1&&Cm(t,r),lu(t)):Cm(Ut,r.stateNode));break;case 4:n=Ut,i=cn,Ut=r.stateNode.containerInfo,cn=!0,Hi(t,e,r),Ut=n,cn=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&E0(r,e,o),i=i.next}while(i!==n)}Hi(t,e,r);break;case 1:if(!Kt&&(na(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,e,l)}Hi(t,e,r);break;case 21:Hi(t,e,r);break;case 22:r.mode&1?(Kt=(n=Kt)||r.memoizedState!==null,Hi(t,e,r),Kt=n):Hi(t,e,r);break;default:Hi(t,e,r)}}function Iw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nD),e.forEach(function(n){var i=fD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function on(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,cn=!1;break e;case 3:Ut=l.stateNode.containerInfo,cn=!0;break e;case 4:Ut=l.stateNode.containerInfo,cn=!0;break e}l=l.return}if(Ut===null)throw Error(K(160));qT(s,o,i),Ut=null,cn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ct(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KT(e,t),e=e.sibling}function KT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),On(t),n&4){try{Vl(3,t,t.return),tf(3,t)}catch(w){ct(t,t.return,w)}try{Vl(5,t,t.return)}catch(w){ct(t,t.return,w)}}break;case 1:on(e,t),On(t),n&512&&r!==null&&na(r,r.return);break;case 5:if(on(e,t),On(t),n&512&&r!==null&&na(r,r.return),t.flags&32){var i=t.stateNode;try{iu(i,"")}catch(w){ct(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&vE(i,s),Kg(l,o);var d=Kg(l,s);for(o=0;o<c.length;o+=2){var g=c[o],h=c[o+1];g==="style"?SE(i,h):g==="dangerouslySetInnerHTML"?wE(i,h):g==="children"?iu(i,h):my(i,g,h,d)}switch(l){case"input":Vg(i,s);break;case"textarea":_E(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?fa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?fa(i,!!s.multiple,s.defaultValue,!0):fa(i,!!s.multiple,s.multiple?[]:"",!1))}i[fu]=s}catch(w){ct(t,t.return,w)}}break;case 6:if(on(e,t),On(t),n&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ct(t,t.return,w)}}break;case 3:if(on(e,t),On(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lu(e.containerInfo)}catch(w){ct(t,t.return,w)}break;case 4:on(e,t),On(t);break;case 13:on(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yy=mt())),n&4&&Iw(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Kt=(d=Kt)||g,on(e,t),Kt=d):on(e,t),On(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(de=t,g=t.child;g!==null;){for(h=de=g;de!==null;){switch(f=de,m=f.child,f.tag){case 0:case 11:case 14:case 15:Vl(4,f,f.return);break;case 1:na(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ct(n,r,w)}}break;case 5:na(f,f.return);break;case 22:if(f.memoizedState!==null){kw(h);continue}}m!==null?(m.return=f,de=m):kw(h)}g=g.sibling}e:for(g=null,h=t;;){if(h.tag===5){if(g===null){g=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bE("display",o))}catch(w){ct(t,t.return,w)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){ct(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:on(e,t),On(t),n&4&&Iw(t);break;case 21:break;default:on(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(QT(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(iu(i,""),n.flags&=-33);var s=Pw(t);C0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Pw(t);A0(t,l,o);break;default:throw Error(K(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sD(t,e,r){de=t,ZT(t)}function ZT(t,e,r){for(var n=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ah;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=ah;var d=Kt;if(ah=o,(Kt=c)&&!d)for(de=i;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?Mw(i):c!==null?(c.return=o,de=c):Mw(i);for(;s!==null;)de=s,ZT(s),s=s.sibling;de=i,ah=l,Kt=d}Rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Rw(t)}}function Rw(t){for(;de!==null;){var e=de;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||tf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:un(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fw(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fw(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&lu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||e.flags&512&&T0(e)}catch(f){ct(e,e.return,f)}}if(e===t){de=null;break}if(r=e.sibling,r!==null){r.return=e.return,de=r;break}de=e.return}}function kw(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var r=e.sibling;if(r!==null){r.return=e.return,de=r;break}de=e.return}}function Mw(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tf(4,e)}catch(c){ct(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ct(e,i,c)}}var s=e.return;try{T0(e)}catch(c){ct(e,s,c)}break;case 5:var o=e.return;try{T0(e)}catch(c){ct(e,o,c)}}}catch(c){ct(e,e.return,c)}if(e===t){de=null;break}var l=e.sibling;if(l!==null){l.return=e.return,de=l;break}de=e.return}}var oD=Math.ceil,wd=Ii.ReactCurrentDispatcher,Vy=Ii.ReactCurrentOwner,Yr=Ii.ReactCurrentBatchConfig,Me=0,Ft=null,vt=null,Ht=0,Tr=0,ia=xs(0),St=0,_u=null,oo=0,rf=0,Xy=0,Xl=null,dr=null,Yy=0,ka=1/0,ui=null,bd=!1,P0=null,ls=null,lh=!1,rs=null,Sd=0,Yl=0,I0=null,Oh=-1,Nh=0;function ir(){return Me&6?mt():Oh!==-1?Oh:Oh=mt()}function us(t){return t.mode&1?Me&2&&Ht!==0?Ht&-Ht:$F.transition!==null?(Nh===0&&(Nh=FE()),Nh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:HE(t.type)),t):1}function _n(t,e,r,n){if(50<Yl)throw Yl=0,I0=null,Error(K(185));Iu(t,r,n),(!(Me&2)||t!==Ft)&&(t===Ft&&(!(Me&2)&&(rf|=r),St===4&&Ki(t,Ht)),yr(t,n),r===1&&Me===0&&!(e.mode&1)&&(ka=mt()+500,Zd&&ws()))}function yr(t,e){var r=t.callbackNode;$N(t,e);var n=od(t,t===Ft?Ht:0);if(n===0)r!==null&&zx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zx(r),e===1)t.tag===0?HF(Ow.bind(null,t)):aT(Ow.bind(null,t)),BF(function(){!(Me&6)&&ws()}),r=null;else{switch(DE(n)){case 1:r=xy;break;case 4:r=OE;break;case 16:r=sd;break;case 536870912:r=NE;break;default:r=sd}r=oA(r,JT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function JT(t,e){if(Oh=-1,Nh=0,Me&6)throw Error(K(327));var r=t.callbackNode;if(va()&&t.callbackNode!==r)return null;var n=od(t,t===Ft?Ht:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ed(t,n);else{e=n;var i=Me;Me|=2;var s=tA();(Ft!==t||Ht!==e)&&(ui=null,ka=mt()+500,Js(t,e));do try{uD();break}catch(l){eA(t,l)}while(1);Oy(),wd.current=s,Me=i,vt!==null?e=0:(Ft=null,Ht=0,e=St)}if(e!==0){if(e===2&&(i=r0(t),i!==0&&(n=i,e=R0(t,i))),e===1)throw r=_u,Js(t,0),Ki(t,n),yr(t,mt()),r;if(e===6)Ki(t,n);else{if(i=t.current.alternate,!(n&30)&&!aD(i)&&(e=Ed(t,n),e===2&&(s=r0(t),s!==0&&(n=s,e=R0(t,s))),e===1))throw r=_u,Js(t,0),Ki(t,n),yr(t,mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:$s(t,dr,ui);break;case 3:if(Ki(t,n),(n&130023424)===n&&(e=Yy+500-mt(),10<e)){if(od(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c0($s.bind(null,t,dr,ui),e);break}$s(t,dr,ui);break;case 4:if(Ki(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-vn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oD(n/1960))-n,10<n){t.timeoutHandle=c0($s.bind(null,t,dr,ui),n);break}$s(t,dr,ui);break;case 5:$s(t,dr,ui);break;default:throw Error(K(329))}}}return yr(t,mt()),t.callbackNode===r?JT.bind(null,t):null}function R0(t,e){var r=Xl;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=Ed(t,e),t!==2&&(e=dr,dr=r,e!==null&&k0(e)),t}function k0(t){dr===null?dr=t:dr.push.apply(dr,t)}function aD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Xy,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vn(e),n=1<<r;t[r]=-1,e&=~n}}function Ow(t){if(Me&6)throw Error(K(327));va();var e=od(t,0);if(!(e&1))return yr(t,mt()),null;var r=Ed(t,e);if(t.tag!==0&&r===2){var n=r0(t);n!==0&&(e=n,r=R0(t,n))}if(r===1)throw r=_u,Js(t,0),Ki(t,e),yr(t,mt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,dr,ui),yr(t,mt()),null}function Qy(t,e){var r=Me;Me|=1;try{return t(e)}finally{Me=r,Me===0&&(ka=mt()+500,Zd&&ws())}}function ao(t){rs!==null&&rs.tag===0&&!(Me&6)&&va();var e=Me;Me|=1;var r=Yr.transition,n=Ge;try{if(Yr.transition=null,Ge=1,t)return t()}finally{Ge=n,Yr.transition=r,Me=e,!(Me&6)&&ws()}}function qy(){Tr=ia.current,Qe(ia)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,LF(r)),vt!==null)for(r=vt.return;r!==null;){var n=r;switch(Ry(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hd();break;case 3:Ia(),Qe(mr),Qe(Jt),Uy();break;case 5:By(n);break;case 4:Ia();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:Ny(n.type._context);break;case 22:case 23:qy()}r=r.return}if(Ft=t,vt=t=cs(t.current,null),Ht=Tr=e,St=0,_u=null,Xy=rf=oo=0,dr=Xl=null,Xs!==null){for(e=0;e<Xs.length;e++)if(r=Xs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Xs=null}return t}function eA(t,e){do{var r=vt;try{if(Oy(),Rh.current=xd,_d){for(var n=ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_d=!1}if(so=0,Ot=bt=ot=null,Wl=!1,gu=0,Vy.current=null,r===null||r.return===null){St=1,_u=e,vt=null;break}e:{var s=t,o=r.return,l=r,c=e;if(e=Ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=l,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var f=g.alternate;f?(g.updateQueue=f.updateQueue,g.memoizedState=f.memoizedState,g.lanes=f.lanes):(g.updateQueue=null,g.memoizedState=null)}var m=xw(o);if(m!==null){m.flags&=-257,ww(m,o,l,s,e),m.mode&1&&_w(s,d,e),e=m,c=d;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){_w(s,d,e),Ky();break e}c=Error(K(426))}}else if(et&&l.mode&1){var T=xw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ww(T,o,l,s,e),ky(Ra(c,l));break e}}s=c=Ra(c,l),St!==4&&(St=2),Xl===null?Xl=[s]:Xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=LT(s,c,e);dw(s,x);break e;case 1:l=c;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ls===null||!ls.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=BT(s,l,e);dw(s,A);break e}}s=s.return}while(s!==null)}nA(r)}catch(P){e=P,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(1)}function tA(){var t=wd.current;return wd.current=xd,t===null?xd:t}function Ky(){(St===0||St===3||St===2)&&(St=4),Ft===null||!(oo&268435455)&&!(rf&268435455)||Ki(Ft,Ht)}function Ed(t,e){var r=Me;Me|=2;var n=tA();(Ft!==t||Ht!==e)&&(ui=null,Js(t,e));do try{lD();break}catch(i){eA(t,i)}while(1);if(Oy(),Me=r,wd.current=n,vt!==null)throw Error(K(261));return Ft=null,Ht=0,St}function lD(){for(;vt!==null;)rA(vt)}function uD(){for(;vt!==null&&!NN();)rA(vt)}function rA(t){var e=sA(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?nA(t):vt=e,Vy.current=null}function nA(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rD(r,e),r!==null){r.flags&=32767,vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,vt=null;return}}else if(r=tD(r,e,Tr),r!==null){vt=r;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);St===0&&(St=5)}function $s(t,e,r){var n=Ge,i=Yr.transition;try{Yr.transition=null,Ge=1,cD(t,e,r,n)}finally{Yr.transition=i,Ge=n}return null}function cD(t,e,r,n){do va();while(rs!==null);if(Me&6)throw Error(K(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(jN(t,s),t===Ft&&(vt=Ft=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lh||(lh=!0,oA(sd,function(){return va(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yr.transition,Yr.transition=null;var o=Ge;Ge=1;var l=Me;Me|=4,Vy.current=null,iD(t,r),KT(r,t),RF(l0),ad=!!a0,l0=a0=null,t.current=r,sD(r),FN(),Me=l,Ge=o,Yr.transition=s}else t.current=r;if(lh&&(lh=!1,rs=t,Sd=i),s=t.pendingLanes,s===0&&(ls=null),BN(r.stateNode),yr(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bd)throw bd=!1,t=P0,P0=null,t;return Sd&1&&t.tag!==0&&va(),s=t.pendingLanes,s&1?t===I0?Yl++:(Yl=0,I0=t):Yl=0,ws(),null}function va(){if(rs!==null){var t=DE(Sd),e=Yr.transition,r=Ge;try{if(Yr.transition=null,Ge=16>t?16:t,rs===null)var n=!1;else{if(t=rs,rs=null,Sd=0,Me&6)throw Error(K(331));var i=Me;for(Me|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(de=d;de!==null;){var g=de;switch(g.tag){case 0:case 11:case 15:Vl(8,g,s)}var h=g.child;if(h!==null)h.return=g,de=h;else for(;de!==null;){g=de;var f=g.sibling,m=g.return;if(YT(g),g===d){de=null;break}if(f!==null){f.return=m,de=f;break}de=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,de=x;break e}de=s.return}}var b=t.current;for(de=b;de!==null;){o=de;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,de=S;else e:for(o=b;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tf(9,l)}}catch(P){ct(l,l.return,P)}if(l===o){de=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,de=A;break e}de=l.return}}if(Me=i,ws(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Xd,t)}catch{}n=!0}return n}finally{Ge=r,Yr.transition=e}}return!1}function Nw(t,e,r){e=Ra(r,e),e=LT(t,e,1),t=as(t,e,1),e=ir(),t!==null&&(Iu(t,1,e),yr(t,e))}function ct(t,e,r){if(t.tag===3)Nw(t,t,r);else for(;e!==null;){if(e.tag===3){Nw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ls===null||!ls.has(n))){t=Ra(r,t),t=BT(e,t,1),e=as(e,t,1),t=ir(),e!==null&&(Iu(e,1,t),yr(e,t));break}}e=e.return}}function hD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(Ht&r)===r&&(St===4||St===3&&(Ht&130023424)===Ht&&500>mt()-Yy?Js(t,0):Xy|=r),yr(t,e)}function iA(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var r=ir();t=Ai(t,e),t!==null&&(Iu(t,e,r),yr(t,r))}function dD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),iA(t,r)}function fD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),iA(t,r)}var sA;sA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return pr=!1,eD(t,e,r);pr=!!(t.flags&131072)}else pr=!1,et&&e.flags&1048576&&lT(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mh(t,e),t=e.pendingProps;var i=Aa(e,Jt.current);ya(e,r),i=zy(null,e,n,t,i,r);var s=Hy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(n)?(s=!0,dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dy(e),i.updater=Jd,e.stateNode=i,i._reactInternals=e,y0(e,n,t,r),e=x0(null,e,n,!0,s,r)):(e.tag=0,et&&s&&Iy(e),rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=mD(n),t=un(n,t),i){case 0:e=_0(null,e,n,t,r);break e;case 1:e=Ew(null,e,n,t,r);break e;case 11:e=bw(null,e,n,t,r);break e;case 14:e=Sw(null,e,n,un(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),_0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Ew(t,e,n,i,r);case 3:e:{if(HT(e),t===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,dT(t,e),yd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ra(Error(K(423)),e),e=Tw(t,e,n,r,i);break e}else if(n!==i){i=Ra(Error(K(424)),e),e=Tw(t,e,n,r,i);break e}else for(Ar=os(e.stateNode.containerInfo.firstChild),Cr=e,et=!0,hn=null,r=gT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ca(),n===i){e=Ci(t,e,r);break e}rr(t,e,n,r)}e=e.child}return e;case 5:return yT(e),t===null&&p0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,u0(n,i)?o=null:s!==null&&u0(n,s)&&(e.flags|=32),zT(t,e),rr(t,e,o,r),e.child;case 6:return t===null&&p0(e),null;case 13:return $T(t,e,r);case 4:return Ly(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pa(e,null,n,r):rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),bw(t,e,n,i,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(md,n._currentValue),n._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!mr.current){e=Ci(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=bi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),m0(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),m0(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ya(e,r),i=Qr(i),n=n(i),e.flags|=1,rr(t,e,n,r),e.child;case 14:return n=e.type,i=un(n,e.pendingProps),i=un(n.type,i),Sw(t,e,n,i,r);case 15:return UT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Mh(t,e),e.tag=1,gr(n)?(t=!0,dd(e)):t=!1,ya(e,r),pT(e,n,i),y0(e,n,i,r),x0(null,e,n,!0,t,r);case 19:return jT(t,e,r);case 22:return GT(t,e,r)}throw Error(K(156,e.tag))};function oA(t,e){return ME(t,e)}function pD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,r,n){return new pD(t,e,r,n)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mD(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===vy)return 14}return 2}function cs(t,e){var r=t.alternate;return r===null?(r=Xr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return eo(r.children,i,s,e);case gy:o=8,i|=8;break;case zg:return t=Xr(12,r,e,i|2),t.elementType=zg,t.lanes=s,t;case Hg:return t=Xr(13,r,e,i),t.elementType=Hg,t.lanes=s,t;case $g:return t=Xr(19,r,e,i),t.elementType=$g,t.lanes=s,t;case mE:return nf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fE:o=10;break e;case pE:o=9;break e;case yy:o=11;break e;case vy:o=14;break e;case Xi:o=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Xr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function eo(t,e,r,n){return t=Xr(7,t,n,e),t.lanes=r,t}function nf(t,e,r,n){return t=Xr(22,t,n,e),t.elementType=mE,t.lanes=r,t.stateNode={isHidden:!1},t}function Fm(t,e,r){return t=Xr(6,t,null,e),t.lanes=r,t}function Dm(t,e,r){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jy(t,e,r,n,i,s,o,l,c){return t=new gD(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(s),t}function yD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function aA(t){if(!t)return gs;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(gr(r))return oT(t,r,e)}return e}function lA(t,e,r,n,i,s,o,l,c){return t=Jy(r,n,!0,t,i,s,o,l,c),t.context=aA(null),r=t.current,n=ir(),i=us(r),s=bi(n,i),s.callback=e??null,as(r,s,i),t.current.lanes=i,Iu(t,i,n),yr(t,n),t}function sf(t,e,r,n){var i=e.current,s=ir(),o=us(i);return r=aA(r),e.context===null?e.context=r:e.pendingContext=r,e=bi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=as(i,e,o),t!==null&&(_n(t,i,o,s),Ih(t,i,o)),o}function Td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ev(t,e){Fw(t,e),(t=t.alternate)&&Fw(t,e)}function vD(){return null}var uA=typeof reportError=="function"?reportError:function(t){console.error(t)};function tv(t){this._internalRoot=t}of.prototype.render=tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));sf(t,e,null,null)};of.prototype.unmount=tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){sf(null,t,null,null)}),e[Ti]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var e=UE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qi.length&&e!==0&&e<qi[r].priority;r++);qi.splice(r,0,t),r===0&&zE(t)}};function rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function _D(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Td(o);s.call(d)}}var o=lA(e,n,t,0,null,!1,!1,"",Dw);return t._reactRootContainer=o,t[Ti]=o.current,hu(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Td(c);l.call(d)}}var c=Jy(t,0,!1,null,null,!1,!1,"",Dw);return t._reactRootContainer=c,t[Ti]=c.current,hu(t.nodeType===8?t.parentNode:t),ao(function(){sf(e,c,r,n)}),c}function lf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Td(o);l.call(c)}}sf(e,o,t,i)}else o=_D(r,e,t,i,n);return Td(o)}LE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Il(e.pendingLanes);r!==0&&(wy(e,r|1),yr(e,mt()),!(Me&6)&&(ka=mt()+500,ws()))}break;case 13:ao(function(){var n=Ai(t,1);if(n!==null){var i=ir();_n(n,t,1,i)}}),ev(t,1)}};by=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var r=ir();_n(e,t,134217728,r)}ev(t,134217728)}};BE=function(t){if(t.tag===13){var e=us(t),r=Ai(t,e);if(r!==null){var n=ir();_n(r,t,e,n)}ev(t,e)}};UE=function(){return Ge};GE=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};Jg=function(t,e,r){switch(e){case"input":if(Vg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Kd(n);if(!i)throw Error(K(90));yE(n),Vg(n,i)}}}break;case"textarea":_E(t,r);break;case"select":e=r.value,e!=null&&fa(t,!!r.multiple,e,!1)}};AE=Qy;CE=ao;var xD={usingClientEntryPoint:!1,Events:[ku,Zo,Kd,EE,TE,Qy]},_l={findFiberByHostInstance:Vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wD={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RE(t),t===null?null:t.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||vD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Xd=uh.inject(wD),Wn=uh}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xD;Rr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rv(e))throw Error(K(200));return yD(t,e,null,r)};Rr.createRoot=function(t,e){if(!rv(t))throw Error(K(299));var r=!1,n="",i=uA;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jy(t,1,!1,null,null,r,!1,n,i),t[Ti]=e.current,hu(t.nodeType===8?t.parentNode:t),new tv(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=RE(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return ao(t)};Rr.hydrate=function(t,e,r){if(!af(e))throw Error(K(200));return lf(null,t,e,!0,r)};Rr.hydrateRoot=function(t,e,r){if(!rv(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=uA;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lA(e,null,t,1,r??null,i,!1,s,o),t[Ti]=e.current,hu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new of(e)};Rr.render=function(t,e,r){if(!af(e))throw Error(K(200));return lf(null,t,e,!1,r)};Rr.unmountComponentAtNode=function(t){if(!af(t))throw Error(K(40));return t._reactRootContainer?(ao(function(){lf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Rr.unstable_batchedUpdates=Qy;Rr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!af(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return lf(t,e,r,!1,n)};Rr.version="18.2.0-next-9e3b772b8-20220608";function cA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cA)}catch(t){console.error(t)}}cA(),lE.exports=Rr;var bD=lE.exports,hA,Lw=bD;hA=Lw.createRoot,Lw.hydrateRoot;var dA={exports:{}};(function(t){(function(){function e(w,T){document.addEventListener?w.addEventListener("scroll",T,!1):w.attachEvent("scroll",T)}function r(w){document.body?w():document.addEventListener?document.addEventListener("DOMContentLoaded",function T(){document.removeEventListener("DOMContentLoaded",T),w()}):document.attachEvent("onreadystatechange",function T(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",T),w())})}function n(w){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(w)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(w,T){w.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+T+";"}function s(w){var T=w.g.offsetWidth,x=T+100;return w.j.style.width=x+"px",w.i.scrollLeft=x,w.h.scrollLeft=w.h.scrollWidth+100,w.l!==T?(w.l=T,!0):!1}function o(w,T){function x(){var S=b;s(S)&&S.g.parentNode!==null&&T(S.l)}var b=w;e(w.h,x),e(w.i,x),s(w)}function l(w,T,x){T=T||{},x=x||window,this.family=w,this.style=T.style||"normal",this.weight=T.weight||"normal",this.stretch=T.stretch||"normal",this.context=x}var c=null,d=null,g=null,h=null;function f(w){return d===null&&(m(w)&&/Apple/.test(window.navigator.vendor)?(w=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!w&&603>parseInt(w[1],10)):d=!1),d}function m(w){return h===null&&(h=!!w.document.fonts),h}function v(w,T){var x=w.style,b=w.weight;if(g===null){var S=document.createElement("div");try{S.style.font="condensed 100px sans-serif"}catch{}g=S.style.font!==""}return[x,b,g?w.stretch:"","100px",T].join(" ")}l.prototype.load=function(w,T){var x=this,b=w||"BESbswy",S=0,A=T||3e3,P=new Date().getTime();return new Promise(function(O,k){if(m(x.context)&&!f(x.context)){var R=new Promise(function(j,Z){function H(){new Date().getTime()-P>=A?Z(Error(""+A+"ms timeout exceeded")):x.context.document.fonts.load(v(x,'"'+x.family+'"'),b).then(function(D){1<=D.length?j():setTimeout(H,25)},Z)}H()}),B=new Promise(function(j,Z){S=setTimeout(function(){Z(Error(""+A+"ms timeout exceeded"))},A)});Promise.race([B,R]).then(function(){clearTimeout(S),O(x)},k)}else r(function(){function j(){var Q;(Q=te!=-1&&ae!=-1||te!=-1&&ne!=-1||ae!=-1&&ne!=-1)&&((Q=te!=ae&&te!=ne&&ae!=ne)||(c===null&&(Q=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!Q&&(536>parseInt(Q[1],10)||parseInt(Q[1],10)===536&&11>=parseInt(Q[2],10))),Q=c&&(te==M&&ae==M&&ne==M||te==$&&ae==$&&ne==$||te==F&&ae==F&&ne==F)),Q=!Q),Q&&(U.parentNode!==null&&U.parentNode.removeChild(U),clearTimeout(S),O(x))}function Z(){if(new Date().getTime()-P>=A)U.parentNode!==null&&U.parentNode.removeChild(U),k(Error(""+A+"ms timeout exceeded"));else{var Q=x.context.document.hidden;(Q===!0||Q===void 0)&&(te=H.g.offsetWidth,ae=D.g.offsetWidth,ne=W.g.offsetWidth,j()),S=setTimeout(Z,50)}}var H=new n(b),D=new n(b),W=new n(b),te=-1,ae=-1,ne=-1,M=-1,$=-1,F=-1,U=document.createElement("div");U.dir="ltr",i(H,v(x,"sans-serif")),i(D,v(x,"serif")),i(W,v(x,"monospace")),U.appendChild(H.g),U.appendChild(D.g),U.appendChild(W.g),x.context.document.body.appendChild(U),M=H.g.offsetWidth,$=D.g.offsetWidth,F=W.g.offsetWidth,Z(),o(H,function(Q){te=Q,j()}),i(H,v(x,'"'+x.family+'",sans-serif')),o(D,function(Q){ae=Q,j()}),i(D,v(x,'"'+x.family+'",serif')),o(W,function(Q){ne=Q,j()}),i(W,v(x,'"'+x.family+'",monospace'))})})},t.exports=l})()})(dA);var SD=dA.exports;const ED=bu(SD);var nv={exports:{}},_a=typeof Reflect=="object"?Reflect:null,Bw=_a&&typeof _a.apply=="function"?_a.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Dh;_a&&typeof _a.ownKeys=="function"?Dh=_a.ownKeys:Object.getOwnPropertySymbols?Dh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Dh=function(e){return Object.getOwnPropertyNames(e)};function TD(t){console&&console.warn&&console.warn(t)}var fA=Number.isNaN||function(e){return e!==e};function ze(){ze.init.call(this)}nv.exports=ze;nv.exports.once=ID;ze.EventEmitter=ze;ze.prototype._events=void 0;ze.prototype._eventsCount=0;ze.prototype._maxListeners=void 0;var Uw=10;function uf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ze,"defaultMaxListeners",{enumerable:!0,get:function(){return Uw},set:function(t){if(typeof t!="number"||t<0||fA(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Uw=t}});ze.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ze.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fA(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function pA(t){return t._maxListeners===void 0?ze.defaultMaxListeners:t._maxListeners}ze.prototype.getMaxListeners=function(){return pA(this)};ze.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Bw(c,this,r);else for(var d=c.length,g=_A(c,d),n=0;n<d;++n)Bw(g[n],this,r);return!0};function mA(t,e,r,n){var i,s,o;if(uf(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=pA(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,TD(l)}return t}ze.prototype.addListener=function(e,r){return mA(this,e,r,!1)};ze.prototype.on=ze.prototype.addListener;ze.prototype.prependListener=function(e,r){return mA(this,e,r,!0)};function AD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gA(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=AD.bind(n);return i.listener=r,n.wrapFn=i,i}ze.prototype.once=function(e,r){return uf(r),this.on(e,gA(this,e,r)),this};ze.prototype.prependOnceListener=function(e,r){return uf(r),this.prependListener(e,gA(this,e,r)),this};ze.prototype.removeListener=function(e,r){var n,i,s,o,l;if(uf(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():CD(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||r)}return this};ze.prototype.off=ze.prototype.removeListener;ze.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function yA(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?PD(i):_A(i,i.length)}ze.prototype.listeners=function(e){return yA(this,e,!0)};ze.prototype.rawListeners=function(e){return yA(this,e,!1)};ze.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):vA.call(t,e)};ze.prototype.listenerCount=vA;function vA(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ze.prototype.eventNames=function(){return this._eventsCount>0?Dh(this._events):[]};function _A(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function CD(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function PD(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function ID(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}xA(t,e,s,{once:!0}),e!=="error"&&RD(t,i,{once:!0})})}function RD(t,e,r){typeof t.on=="function"&&xA(t,"error",e,r)}function xA(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var kD=nv.exports;function MD(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(r=>{let n=r.replace(/\+/g," ").split("="),i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function OD(){return MD(location.search)}function ND(t,e){let r=OD();return r[t]?r[t]:e}class FD{constructor(){$e(this,"urlOptions");$e(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.configOptions=vb("gameconfig")||{}}configureLanguage(){let e=ND("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;default:e="en"}return e}getUrlConfig(){return{lang:this.configureLanguage()}}}class DD extends FD{constructor(){super(...arguments);$e(this,"_tweenTime",0)}set tweenTime(r){this._tweenTime=r}get tweenTime(){return this._tweenTime}}class LD extends DD{constructor(){super(...arguments);$e(this,"eventEmitter",new kD.EventEmitter)}get notice(){return this.eventEmitter}}class BD extends LD{constructor(){super(...arguments);$e(this,"_viewport");$e(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(r,n,i,s){this._viewport=[r,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}getOrientationType(){const r=this.configOptions.layoutMap;return r.p&&r.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":r.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class UD extends BD{constructor(){super(...arguments);$e(this,"_isSupportAvif",!1);$e(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(r,n){this._isSupportAvif=n,this._isSupportWebp=r}filterImageFormat(r){return this.isSupportAvif||r.splice(r.indexOf("avif"),1),this.isSupportWebp||r.splice(r.indexOf("webp"),1),r[0]}}const Rd=class Rd extends UD{static get Obj(){return this._Obj||(this._Obj=new Rd),this._Obj}};$e(Rd,"_Obj");let _t=Rd;function GD({children:t}){return le("div",{id:"App",className:"app-mod",children:t})}function zD(){window.oncontextmenu=function(t){t.preventDefault()}}function HD(){return Promise.all([GS.test(),zS.test()]).then(([t,e])=>{_t.Obj.setSupportImagesFormat(e,t);const r=document.getElementById("blur-bg");r.className=r.className+" "+_t.Obj.filterImageFormat(["avif","webp","jpg"])})}function $D(t,e=[]){zD();let r=0;const n=i=>{i==e.length&&HD().then(()=>{hA(document.getElementById("root")).render(le(GD,{children:t}))})};n(r);for(let i of e)new ED(i).load().then(()=>{r++,n(r)})}var cf={exports:{}},wA={exports:{}},jD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WD=jD,VD=WD;function bA(){}function SA(){}SA.resetWarningCache=bA;var XD=function(){function t(n,i,s,o,l,c){if(c!==VD){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SA,resetWarningCache:bA};return r.PropTypes=r,r};wA.exports=XD();var YD=wA.exports;const Ye=bu(YD);function Pr(t){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}function EA(t){var e=function(r,n){if(Pr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Pr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Pr(e)==="symbol"?e:String(e)}function ft(t,e,r){return(e=EA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pi(t){return function(e){if(Array.isArray(e))return Lm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Lm(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lm(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ht(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KD=function(t){return t==null};function kl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Pi(t);else{if(t===null||Pr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!KD(r)&&!isNaN(r)}).map(Number)}function Gw(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Bm(t){return t instanceof Ie||t instanceof Hn}var Ad=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Um(t,e,r){if(Bm(t[e])&&Bm(r))t[e].copyFrom(r);else if(Bm(t[e])){var n=kl(r);ht(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Pr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Do,TA=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},AA=function(t){return function(){return!t.apply(void 0,arguments)}},M0="children",ZD=(ft(Do={},M0,!0),ft(Do,"parent",!0),ft(Do,"worldAlpha",!0),ft(Do,"worldTransform",!0),ft(Do,"worldVisible",!0),Do),O0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},qn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var c,d;l==null||(c=l.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,c){if(r.hasOwnProperty(l))return ht(c.typeofs.some(function(d){return Pr(r[l])===d})||c.instanceofs.some(function(d){return r[l]instanceof d}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return ht(r.texture instanceof oe,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,oe]});ht(!!s,"".concat(t," could not get texture from props"));var o=oe.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},JD=AA(TA([].concat(Pi(Object.keys(ZD)),Pi(Ad))));function Kn(t,e,r){var n=!1;if(ht(tt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Pr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Ad.length;o++){var l=Ad[o];e[l]!==r[l]&&(n=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var g=c[d];e[g]!==r[g]&&(n=!0,Um(t,g,r[g]))}return n}for(var h=c.filter(JD),f=0;f<h.length;f++){var m=h[f],v=r[m];r[m]!==e[m]&&(n=!0),v!==void 0?Um(t,m,v):m in O0?(console.warn("setting default value: ".concat(m,", from: ").concat(t[m]," to: ").concat(v," for"),t),n=!0,Um(t,m,O0[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(t[m]," to ").concat(v," for"),t)}return n}var eL=function(t,e){var r=e.text,n=e.style;return new pN(r,n)},tL=function(){return new sr};function bs(t,e){if(t==null)return{};var r,n,i=function(o,l){if(o==null)return{};var c,d,g={},h=Object.keys(o);for(d=0;d<h.length;d++)c=h[d],l.indexOf(c)>=0||(g[c]=o[c]);return g}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var rL=["draw","geometry"],nL=function(t,e){var r=e.geometry;ht(!r||r instanceof Ul,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Ul(r.geometry):new Ul;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var c=Kn(i,s,bs(o,rL));return s.draw!==l&&typeof l=="function"&&(c=!0,l.call(n,n)),c},n},iL=["image","texture"],sL=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,g=qn("NineSlicePlane",t,e),h=new L3(g,n,s,l,d);return h.applyProps=function(f,m,v){var w=v.image,T=v.texture,x=Kn(f,m,bs(v,iL));return(w||T)&&(T!==m.texture&&(x=!0),f.texture=qn("NineSlicePlane",t,v)),x},h};function zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oL=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,c=ch(ch({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=ch(ch({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),g=new G3(n,c,s,l);return g.willUnmount=function(h,f,m){h.destroy(d)},g},aL=["image","texture"],lL=function(t,e){var r=new ei(qn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,l=s.texture,c=Kn(n,i,bs(s,aL));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=qn("Sprite",t,s)),c},r},uL=["textures","isPlaying","initialFrame","images"],cL=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(d){return d.map(function(g){return ht(g instanceof oe||(g==null?void 0:g.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),g})},c=n?ru.fromImages(n):new ru(l(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,g,h){var f=h.textures,m=h.isPlaying,v=h.initialFrame,w=h.images,T=Kn(d,g,bs(h,uL));if(w&&g.images!==w){for(var x=[],b=0;b<w.length;++b)x.push(oe.from(w[b]));d.textures=x,T=!0}if(f&&g.textures!==f&&(d.textures=l(f),T=!0),m!==g.isPlaying||v!==g.initialFrame){var S=typeof v=="number"?v:c.currentFrame||0;c[m?"gotoAndPlay":"gotoAndStop"](S),T=!0}return T},c},hL=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new hy(n,s);return o?(l.updateText(),new ei(l.texture)):l},dL=["tileScale","tilePosition","image","texture"],fL=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=qn("TilingSprite",t,e),l=new dy(o,n,s);return l.applyProps=function(c,d,g){var h=g.tileScale,f=g.tilePosition,m=g.image,v=g.texture,w=Kn(c,d,bs(g,dL));if(f){var T,x=kl(f);(T=c.tilePosition).set.apply(T,Pi(x)),w=!Gw(kl(d.tilePosition),x)||w}if(h){var b,S=kl(h);(b=c.tileScale).set.apply(b,Pi(S)),w=!Gw(kl(d.tileScale),S)||w}return(m||v)&&(v!==d.texture&&(w=!0),c.texture=qn("Sprite",t,g)),w},l},pL=["image","texture"],mL=function(t,e){var r=qn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?fn.TRIANGLES:o,c=new B3(r,n,i,s,l);return c.applyProps=function(d,g,h){var f=h.image,m=h.texture,v=Kn(d,g,bs(h,pL));return(f||m)&&(m!==g.texture&&(v=!0),d.texture=qn("Mesh",t,h)),v},c},gL=["image","texture"],yL=function(t,e){var r=qn("SimpleRope",t,e),n=e.points,i=new U3(r,n);return i.applyProps=function(s,o,l){var c=l.image,d=l.texture,g=bs(l,gL);ht(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var h=Kn(s,o,g);return(c||d)&&(d!==o.texture&&(h=!0),s.texture=qn("SimpleRope",t,l)),h},i},vL=Object.freeze({__proto__:null,BitmapText:eL,Container:tL,Graphics:nL,NineSlicePlane:sL,ParticleContainer:oL,Sprite:lL,Text:hL,TilingSprite:fL,SimpleMesh:mL,SimpleRope:yL,AnimatedSprite:cL});function Hw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},_L=Object.keys(vr).reduce(function(t,e){return $w($w({},t),{},ft({},e,vL[e]))},{}),CA={};function xL(t,e){return ht(!!t,"Expect type to be defined, got `%s`",t),ht(!vr[t],"Component `%s` could not be created, already exists in default components.",t),CA[t]=e,t}var jw,Ww,Vw,Xw,N0={},F0={},wL={get exports(){return F0},set exports(t){F0=t}},Yw={};function bL(){return Ww||(Ww=1,wL.exports=(jw||(jw=1,function(t){function e(M,$){var F=M.length;M.push($);e:for(;0<F;){var U=F-1>>>1,Q=M[U];if(!(0<i(Q,$)))break e;M[U]=$,M[F]=Q,F=U}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],F=M.pop();if(F!==$){M[0]=F;e:for(var U=0,Q=M.length,we=Q>>>1;U<we;){var xe=2*(U+1)-1,Le=M[xe],Te=xe+1,De=M[Te];if(0>i(Le,F))Te<Q&&0>i(De,Le)?(M[U]=De,M[Te]=F,U=Te):(M[U]=Le,M[xe]=F,U=xe);else{if(!(Te<Q&&0>i(De,F)))break e;M[U]=De,M[Te]=F,U=Te}}}return $}function i(M,$){var F=M.sortIndex-$.sortIndex;return F!==0?F:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],g=1,h=null,f=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(M){for(var $=r(d);$!==null;){if($.callback===null)n(d);else{if(!($.startTime<=M))break;n(d),$.sortIndex=$.expirationTime,e(c,$)}$=r(d)}}function A(M){if(w=!1,S(M),!v)if(r(c)!==null)v=!0,ae(P);else{var $=r(d);$!==null&&ne(A,$.startTime-M)}}function P(M,$){v=!1,w&&(w=!1,x(B),B=-1),m=!0;var F=f;try{for(S($),h=r(c);h!==null&&(!(h.expirationTime>$)||M&&!H());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var Q=U(h.expirationTime<=$);$=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),S($)}else n(c);h=r(c)}if(h!==null)var we=!0;else{var xe=r(d);xe!==null&&ne(A,xe.startTime-$),we=!1}return we}finally{h=null,f=F,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,k=!1,R=null,B=-1,j=5,Z=-1;function H(){return!(t.unstable_now()-Z<j)}function D(){if(R!==null){var M=t.unstable_now();Z=M;var $=!0;try{$=R(!0,M)}finally{$?O():(k=!1,R=null)}}else k=!1}if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=D,O=function(){te.postMessage(null)}}else O=function(){T(D,0)};function ae(M){R=M,k||(k=!0,O())}function ne(M,$){B=T(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return M()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=f;f=M;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(M,$,F){var U=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?U+F:U,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return M={id:g++,callback:$,priorityLevel:M,startTime:F,expirationTime:Q=F+Q,sortIndex:-1},F>U?(M.sortIndex=F,e(d,M),r(c)===null&&M===r(d)&&(w?(x(B),B=-1):w=!0,ne(A,F-U))):(M.sortIndex=Q,e(c,M),v||m||(v=!0,ae(P))),M},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(M){var $=f;return function(){var F=f;f=$;try{return M.apply(this,arguments)}finally{f=F}}}}(Yw)),Yw)),F0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function SL(){return Xw||(Xw=1,Vw=function(t){var e={},r=vi,n=bL(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:typeof(a=A&&a[A]||a["@@iterator"])=="function"?a:null}function O(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case m:return(a.displayName||"Context")+".Consumer";case f:return(a._context.displayName||"Context")+".Provider";case v:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case x:return(u=a.displayName||null)!==null?u:O(a.type)||"Memo";case b:u=a._payload,a=a._init;try{return O(a(u))}catch{}}return null}function k(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(u);case 8:return u===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function B(a){if(R(a)!==a)throw Error(s(188))}function j(a){var u=a.alternate;if(!u){if((u=R(a))===null)throw Error(s(188));return u!==a?null:a}for(var p=a,y=u;;){var _=p.return;if(_===null)break;var E=_.alternate;if(E===null){if((y=_.return)!==null){p=y;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===p)return B(_),a;if(E===y)return B(_),u;E=E.sibling}throw Error(s(188))}if(p.return!==y.return)p=_,y=E;else{for(var C=!1,I=_.child;I;){if(I===p){C=!0,p=_,y=E;break}if(I===y){C=!0,y=_,p=E;break}I=I.sibling}if(!C){for(I=E.child;I;){if(I===p){C=!0,p=E,y=_;break}if(I===y){C=!0,y=E,p=_;break}I=I.sibling}if(!C)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?a:u}function Z(a){return(a=j(a))!==null?H(a):null}function H(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=H(a);if(u!==null)return u;a=a.sibling}return null}function D(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=D(a);if(u!==null)return u}a=a.sibling}return null}var W,te=Array.isArray,ae=t.getPublicInstance,ne=t.getRootHostContext,M=t.getChildHostContext,$=t.prepareForCommit,F=t.resetAfterCommit,U=t.createInstance,Q=t.appendInitialChild,we=t.finalizeInitialChildren,xe=t.prepareUpdate,Le=t.shouldSetTextContent,Te=t.createTextInstance,De=t.scheduleTimeout,Tt=t.cancelTimeout,Dt=t.noTimeout,lt=t.isPrimaryRenderer,Ae=t.supportsMutation,Ve=t.supportsPersistence,Oe=t.supportsHydration,Mr=t.getInstanceFromNode,Or=t.preparePortalMount,Ss=t.getCurrentEventPriority,df=t.detachDeletedInstance,po=t.supportsMicrotasks,VA=t.scheduleMicrotask,Ua=t.supportsTestSelectors,XA=t.findFiberRoot,YA=t.getBoundingRect,QA=t.getTextContent,Ga=t.isHiddenSubtree,qA=t.matchAccessibilityRole,KA=t.setFocusIfFocusable,ZA=t.setupIntersectionObserver,JA=t.appendChild,eC=t.appendChildToContainer,tC=t.commitTextUpdate,rC=t.commitMount,nC=t.commitUpdate,iC=t.insertBefore,sC=t.insertInContainerBefore,oC=t.removeChild,aC=t.removeChildFromContainer,iv=t.resetTextContent,lC=t.hideInstance,uC=t.hideTextInstance,cC=t.unhideInstance,hC=t.unhideTextInstance,dC=t.clearContainer,fC=t.cloneInstance,sv=t.createContainerChildSet,ov=t.appendChildToContainerChildSet,pC=t.finalizeContainerChildren,ff=t.replaceContainerChildren,av=t.cloneHiddenInstance,lv=t.cloneHiddenTextInstance,mC=t.canHydrateInstance,gC=t.canHydrateTextInstance,yC=t.canHydrateSuspenseInstance,uv=t.isSuspenseInstancePending,pf=t.isSuspenseInstanceFallback,vC=t.getSuspenseInstanceFallbackErrorDetails,_C=t.registerSuspenseInstanceRetry,Ou=t.getNextHydratableSibling,xC=t.getFirstHydratableChild,wC=t.getFirstHydratableChildWithinContainer,bC=t.getFirstHydratableChildWithinSuspenseInstance,SC=t.hydrateInstance,EC=t.hydrateTextInstance,TC=t.hydrateSuspenseInstance,AC=t.getNextHydratableInstanceAfterSuspenseInstance,CC=t.commitHydratedContainer,PC=t.commitHydratedSuspenseInstance,IC=t.clearSuspenseBoundary,RC=t.clearSuspenseBoundaryFromContainer,kC=t.shouldDeleteUnhydratedTailInstances,MC=t.didNotMatchHydratedContainerTextInstance,OC=t.didNotMatchHydratedTextInstance;function za(a){if(W===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var mf=!1;function gf(a,u){if(!a||mf)return"";mf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(z){var y=z}Reflect.construct(a,[],u)}else{try{u.call()}catch(z){y=z}a.call(u.prototype)}else{try{throw Error()}catch(z){y=z}a()}}catch(z){if(z&&y&&typeof z.stack=="string"){for(var _=z.stack.split(`
`),E=y.stack.split(`
`),C=_.length-1,I=E.length-1;1<=C&&0<=I&&_[C]!==E[I];)I--;for(;1<=C&&0<=I;C--,I--)if(_[C]!==E[I]){if(C!==1||I!==1)do if(C--,0>--I||_[C]!==E[I]){var L=`
`+_[C].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=C&&0<=I);break}}}finally{mf=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?za(a):""}var NC=Object.prototype.hasOwnProperty,yf=[],mo=-1;function Ri(a){return{current:a}}function Ke(a){0>mo||(a.current=yf[mo],yf[mo]=null,mo--)}function He(a,u){mo++,yf[mo]=a.current,a.current=u}var ki={},jt=Ri(ki),lr=Ri(!1),Es=ki;function go(a,u){var p=a.type.contextTypes;if(!p)return ki;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var _,E={};for(_ in p)E[_]=u[_];return y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=E),E}function _r(a){return(a=a.childContextTypes)!=null}function vf(){Ke(lr),Ke(jt)}function cv(a,u,p){if(jt.current!==ki)throw Error(s(168));He(jt,u),He(lr,p)}function hv(a,u,p){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;for(var _ in y=y.getChildContext())if(!(_ in u))throw Error(s(108,k(a)||"Unknown",_));return i({},p,y)}function Nu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ki,Es=jt.current,He(jt,a),He(lr,lr.current),!0}function dv(a,u,p){var y=a.stateNode;if(!y)throw Error(s(169));p?(a=hv(a,u,Es),y.__reactInternalMemoizedMergedChildContext=a,Ke(lr),Ke(jt),He(jt,a)):Ke(lr),He(lr,p)}var Zr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(FC(a)/DC|0)|0},FC=Math.log,DC=Math.LN2,_f=64,xf=4194304;function Ha(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Fu(a,u){var p=a.pendingLanes;if(p===0)return 0;var y=0,_=a.suspendedLanes,E=a.pingedLanes,C=268435455&p;if(C!==0){var I=C&~_;I!==0?y=Ha(I):(E&=C)!==0&&(y=Ha(E))}else(C=p&~_)!==0?y=Ha(C):E!==0&&(y=Ha(E));if(y===0)return 0;if(u!==0&&u!==y&&!(u&_)&&((_=y&-y)>=(E=u&-u)||_===16&&4194240&E))return u;if(4&y&&(y|=16&p),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=y;0<u;)_=1<<(p=31-Zr(u)),y|=a[p],u&=~_;return y}function LC(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function wf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function fv(){var a=_f;return!(4194240&(_f<<=1))&&(_f=64),a}function bf(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function $a(a,u,p){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-Zr(u)]=p}function Sf(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var y=31-Zr(p),_=1<<y;_&u|a[y]&u&&(a[y]|=u),p&=~_}}var Ne=0;function pv(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Ef=n.unstable_scheduleCallback,mv=n.unstable_cancelCallback,BC=n.unstable_shouldYield,UC=n.unstable_requestPaint,At=n.unstable_now,Tf=n.unstable_ImmediatePriority,GC=n.unstable_UserBlockingPriority,gv=n.unstable_NormalPriority,zC=n.unstable_IdlePriority,Du=null,bn=null,Jr=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},ti=null,Lu=!1,Af=!1;function yv(a){ti===null?ti=[a]:ti.push(a)}function Sn(){if(!Af&&ti!==null){Af=!0;var a=0,u=Ne;try{var p=ti;for(Ne=1;a<p.length;a++){var y=p[a];do y=y(!0);while(y!==null)}ti=null,Lu=!1}catch(_){throw ti!==null&&(ti=ti.slice(a+1)),Ef(Tf,Sn),_}finally{Ne=u,Af=!1}}return null}var yo=[],vo=0,Bu=null,Uu=0,Nr=[],Fr=0,Ts=null,En=1,ri="";function As(a,u){yo[vo++]=Uu,yo[vo++]=Bu,Bu=a,Uu=u}function vv(a,u,p){Nr[Fr++]=En,Nr[Fr++]=ri,Nr[Fr++]=Ts,Ts=a;var y=En;a=ri;var _=32-Zr(y)-1;y&=~(1<<_),p+=1;var E=32-Zr(u)+_;if(30<E){var C=_-_%5;E=(y&(1<<C)-1).toString(32),y>>=C,_-=C,En=1<<32-Zr(u)+_|p<<_|y,ri=E+a}else En=1<<E|p<<_|y,ri=a}function Cf(a){a.return!==null&&(As(a,1),vv(a,1,0))}function Pf(a){for(;a===Bu;)Bu=yo[--vo],yo[vo]=null,Uu=yo[--vo],yo[vo]=null;for(;a===Ts;)Ts=Nr[--Fr],Nr[Fr]=null,ri=Nr[--Fr],Nr[Fr]=null,En=Nr[--Fr],Nr[Fr]=null}var xr=null,Dr=null,Ze=!1,ja=!1,en=null;function _v(a,u){var p=zr(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=a,(u=a.deletions)===null?(a.deletions=[p],a.flags|=16):u.push(p)}function xv(a,u){switch(a.tag){case 5:return(u=mC(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Dr=xC(u),!0);case 6:return(u=gC(u,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Dr=null,!0);case 13:if((u=yC(u))!==null){var p=Ts!==null?{id:En,overflow:ri}:null;return a.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},(p=zr(18,null,null,0)).stateNode=u,p.return=a,a.child=p,xr=a,Dr=null,!0}return!1;default:return!1}}function If(a){return(1&a.mode)!=0&&(128&a.flags)==0}function Rf(a){if(Ze){var u=Dr;if(u){var p=u;if(!xv(a,u)){if(If(a))throw Error(s(418));u=Ou(p);var y=xr;u&&xv(a,u)?_v(y,p):(a.flags=-4097&a.flags|2,Ze=!1,xr=a)}}else{if(If(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ze=!1,xr=a}}}function wv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xr=a}function Gu(a){if(!Oe||a!==xr)return!1;if(!Ze)return wv(a),Ze=!0,!1;if(a.tag!==3&&(a.tag!==5||kC(a.type)&&!Le(a.type,a.memoizedProps))){var u=Dr;if(u){if(If(a))throw bv(),Error(s(418));for(;u;)_v(a,u),u=Ou(u)}}if(wv(a),a.tag===13){if(!Oe)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Dr=AC(a)}else Dr=xr?Ou(a.stateNode):null;return!0}function bv(){for(var a=Dr;a;)a=Ou(a)}function _o(){Oe&&(Dr=xr=null,ja=Ze=!1)}function kf(a){en===null?en=[a]:en.push(a)}var HC=o.ReactCurrentBatchConfig;function zu(a,u){if(Jr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!NC.call(u,_)||!Jr(a[_],u[_]))return!1}return!0}function $C(a){switch(a.tag){case 5:return za(a.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return a=gf(a.type,!1);case 11:return a=gf(a.type.render,!1);case 1:return a=gf(a.type,!0);default:return""}}function tn(a,u){if(a&&a.defaultProps){for(var p in u=i({},u),a=a.defaultProps)u[p]===void 0&&(u[p]=a[p]);return u}return u}var Hu=Ri(null),$u=null,xo=null,Mf=null;function Of(){Mf=xo=$u=null}function Sv(a,u,p){lt?(He(Hu,u._currentValue),u._currentValue=p):(He(Hu,u._currentValue2),u._currentValue2=p)}function Nf(a){var u=Hu.current;Ke(Hu),lt?a._currentValue=u:a._currentValue2=u}function Ff(a,u,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===p)break;a=a.return}}function wo(a,u){$u=a,Mf=xo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(ur=!0),a.firstContext=null)}function Lr(a){var u=lt?a._currentValue:a._currentValue2;if(Mf!==a)if(a={context:a,memoizedValue:u,next:null},xo===null){if($u===null)throw Error(s(308));xo=a,$u.dependencies={lanes:0,firstContext:a}}else xo=xo.next=a;return u}var Cs=null;function Df(a){Cs===null?Cs=[a]:Cs.push(a)}function Ev(a,u,p,y){var _=u.interleaved;return _===null?(p.next=p,Df(u)):(p.next=_.next,_.next=p),u.interleaved=p,Tn(a,y)}function Tn(a,u){a.lanes|=u;var p=a.alternate;for(p!==null&&(p.lanes|=u),p=a,a=a.return;a!==null;)a.childLanes|=u,(p=a.alternate)!==null&&(p.childLanes|=u),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Mi=!1;function Lf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ni(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Oi(a,u,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(2&ke)!=0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,Tn(a,p)}return(_=y.interleaved)===null?(u.next=u,Df(y)):(u.next=_.next,_.next=u),y.interleaved=u,Tn(a,p)}function ju(a,u,p){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&p)!=0)){var y=u.lanes;p|=y&=a.pendingLanes,u.lanes=p,Sf(a,p)}}function Av(a,u){var p=a.updateQueue,y=a.alternate;if(y!==null&&p===(y=y.updateQueue)){var _=null,E=null;if((p=p.firstBaseUpdate)!==null){do{var C={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?_=E=C:E=E.next=C,p=p.next}while(p!==null);E===null?_=E=u:E=E.next=u}else _=E=u;return p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:y.shared,effects:y.effects},void(a.updateQueue=p)}(a=p.lastBaseUpdate)===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}function Wu(a,u,p,y){var _=a.updateQueue;Mi=!1;var E=_.firstBaseUpdate,C=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var L=I,z=L.next;L.next=null,C===null?E=z:C.next=z,C=L;var X=a.alternate;X!==null&&(I=(X=X.updateQueue).lastBaseUpdate)!==C&&(I===null?X.firstBaseUpdate=z:I.next=z,X.lastBaseUpdate=L)}if(E!==null){var ie=_.baseState;for(C=0,X=z=L=null,I=E;;){var V=I.lane,J=I.eventTime;if((y&V)===V){X!==null&&(X=X.next={eventTime:J,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var fe=a,Ee=I;switch(V=u,J=p,Ee.tag){case 1:if(typeof(fe=Ee.payload)=="function"){ie=fe.call(J,ie,V);break e}ie=fe;break e;case 3:fe.flags=-65537&fe.flags|128;case 0:if((V=typeof(fe=Ee.payload)=="function"?fe.call(J,ie,V):fe)==null)break e;ie=i({},ie,V);break e;case 2:Mi=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(V=_.effects)===null?_.effects=[I]:V.push(I))}else J={eventTime:J,lane:V,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(z=X=J,L=ie):X=X.next=J,C|=V;if((I=I.next)===null){if((I=_.shared.pending)===null)break;I=(V=I).next,V.next=null,_.lastBaseUpdate=V,_.shared.pending=null}}if(X===null&&(L=ie),_.baseState=L,_.firstBaseUpdate=z,_.lastBaseUpdate=X,(u=_.shared.interleaved)!==null){_=u;do C|=_.lane,_=_.next;while(_!==u)}else E===null&&(_.shared.lanes=0);Is|=C,a.lanes=C,a.memoizedState=ie}}function Cv(a,u,p){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],_=y.callback;if(_!==null){if(y.callback=null,y=p,typeof _!="function")throw Error(s(191,_));_.call(y)}}}var Pv=new r.Component().refs;function Bf(a,u,p,y){p=(p=p(y,u=a.memoizedState))==null?u:i({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Vu={isMounted:function(a){return!!(a=a._reactInternals)&&R(a)===a},enqueueSetState:function(a,u,p){a=a._reactInternals;var y=Xt(),_=Li(a),E=ni(y,_);E.payload=u,p!=null&&(E.callback=p),(u=Oi(a,E,_))!==null&&(Gr(u,a,_,y),ju(u,a,_))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var y=Xt(),_=Li(a),E=ni(y,_);E.tag=1,E.payload=u,p!=null&&(E.callback=p),(u=Oi(a,E,_))!==null&&(Gr(u,a,_,y),ju(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=Xt(),y=Li(a),_=ni(p,y);_.tag=2,u!=null&&(_.callback=u),(u=Oi(a,_,y))!==null&&(Gr(u,a,y,p),ju(u,a,y))}};function Iv(a,u,p,y,_,E,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,E,C):!u.prototype||!u.prototype.isPureReactComponent||!zu(p,y)||!zu(_,E)}function Rv(a,u,p){var y=!1,_=ki,E=u.contextType;return typeof E=="object"&&E!==null?E=Lr(E):(_=_r(u)?Es:jt.current,E=(y=(y=u.contextTypes)!=null)?go(a,_):ki),u=new u(p,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vu,a.stateNode=u,u._reactInternals=a,y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=E),u}function kv(a,u,p,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==a&&Vu.enqueueReplaceState(u,u.state,null)}function Uf(a,u,p,y){var _=a.stateNode;_.props=p,_.state=a.memoizedState,_.refs=Pv,Lf(a);var E=u.contextType;typeof E=="object"&&E!==null?_.context=Lr(E):(E=_r(u)?Es:jt.current,_.context=go(a,E)),_.state=a.memoizedState,typeof(E=u.getDerivedStateFromProps)=="function"&&(Bf(a,u,E,p),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Vu.enqueueReplaceState(_,_.state,null),Wu(a,p,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Wa(a,u,p){if((a=p.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var y=p.stateNode}if(!y)throw Error(s(147,a));var _=y,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(C){var I=_.refs;I===Pv&&(I=_.refs={}),C===null?delete I[E]:I[E]=C},u._stringRef=E,u)}if(typeof a!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,a))}return a}function Xu(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Mv(a){return(0,a._init)(a._payload)}function Ov(a){function u(Y,N){if(a){var G=Y.deletions;G===null?(Y.deletions=[N],Y.flags|=16):G.push(N)}}function p(Y,N){if(!a)return null;for(;N!==null;)u(Y,N),N=N.sibling;return null}function y(Y,N){for(Y=new Map;N!==null;)N.key!==null?Y.set(N.key,N):Y.set(N.index,N),N=N.sibling;return Y}function _(Y,N){return(Y=Ui(Y,N)).index=0,Y.sibling=null,Y}function E(Y,N,G){return Y.index=G,a?(G=Y.alternate)!==null?(G=G.index)<N?(Y.flags|=2,N):G:(Y.flags|=2,N):(Y.flags|=1048576,N)}function C(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function I(Y,N,G,q){return N===null||N.tag!==6?((N=Tp(G,Y.mode,q)).return=Y,N):((N=_(N,G)).return=Y,N)}function L(Y,N,G,q){var ve=G.type;return ve===d?X(Y,N,G.props.children,q,G.key):N!==null&&(N.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&Mv(ve)===N.type)?((q=_(N,G.props)).ref=Wa(Y,N,G),q.return=Y,q):((q=_c(G.type,G.key,G.props,null,Y.mode,q)).ref=Wa(Y,N,G),q.return=Y,q)}function z(Y,N,G,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==G.containerInfo||N.stateNode.implementation!==G.implementation?((N=Ap(G,Y.mode,q)).return=Y,N):((N=_(N,G.children||[])).return=Y,N)}function X(Y,N,G,q,ve){return N===null||N.tag!==7?((N=Ms(G,Y.mode,q,ve)).return=Y,N):((N=_(N,G)).return=Y,N)}function ie(Y,N,G){if(typeof N=="string"&&N!==""||typeof N=="number")return(N=Tp(""+N,Y.mode,G)).return=Y,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case l:return(G=_c(N.type,N.key,N.props,null,Y.mode,G)).ref=Wa(Y,null,N),G.return=Y,G;case c:return(N=Ap(N,Y.mode,G)).return=Y,N;case b:return ie(Y,(0,N._init)(N._payload),G)}if(te(N)||P(N))return(N=Ms(N,Y.mode,G,null)).return=Y,N;Xu(Y,N)}return null}function V(Y,N,G,q){var ve=N!==null?N.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ve!==null?null:I(Y,N,""+G,q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return G.key===ve?L(Y,N,G,q):null;case c:return G.key===ve?z(Y,N,G,q):null;case b:return V(Y,N,(ve=G._init)(G._payload),q)}if(te(G)||P(G))return ve!==null?null:X(Y,N,G,q,null);Xu(Y,G)}return null}function J(Y,N,G,q,ve){if(typeof q=="string"&&q!==""||typeof q=="number")return I(N,Y=Y.get(G)||null,""+q,ve);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return L(N,Y=Y.get(q.key===null?G:q.key)||null,q,ve);case c:return z(N,Y=Y.get(q.key===null?G:q.key)||null,q,ve);case b:return J(Y,N,G,(0,q._init)(q._payload),ve)}if(te(q)||P(q))return X(N,Y=Y.get(G)||null,q,ve,null);Xu(N,q)}return null}function fe(Y,N,G,q){for(var ve=null,Be=null,me=N,Fe=N=0,Bt=null;me!==null&&Fe<G.length;Fe++){me.index>Fe?(Bt=me,me=null):Bt=me.sibling;var Ue=V(Y,me,G[Fe],q);if(Ue===null){me===null&&(me=Bt);break}a&&me&&Ue.alternate===null&&u(Y,me),N=E(Ue,N,Fe),Be===null?ve=Ue:Be.sibling=Ue,Be=Ue,me=Bt}if(Fe===G.length)return p(Y,me),Ze&&As(Y,Fe),ve;if(me===null){for(;Fe<G.length;Fe++)(me=ie(Y,G[Fe],q))!==null&&(N=E(me,N,Fe),Be===null?ve=me:Be.sibling=me,Be=me);return Ze&&As(Y,Fe),ve}for(me=y(Y,me);Fe<G.length;Fe++)(Bt=J(me,Y,Fe,G[Fe],q))!==null&&(a&&Bt.alternate!==null&&me.delete(Bt.key===null?Fe:Bt.key),N=E(Bt,N,Fe),Be===null?ve=Bt:Be.sibling=Bt,Be=Bt);return a&&me.forEach(function(Gi){return u(Y,Gi)}),Ze&&As(Y,Fe),ve}function Ee(Y,N,G,q){var ve=P(G);if(typeof ve!="function")throw Error(s(150));if((G=ve.call(G))==null)throw Error(s(151));for(var Be=ve=null,me=N,Fe=N=0,Bt=null,Ue=G.next();me!==null&&!Ue.done;Fe++,Ue=G.next()){me.index>Fe?(Bt=me,me=null):Bt=me.sibling;var Gi=V(Y,me,Ue.value,q);if(Gi===null){me===null&&(me=Bt);break}a&&me&&Gi.alternate===null&&u(Y,me),N=E(Gi,N,Fe),Be===null?ve=Gi:Be.sibling=Gi,Be=Gi,me=Bt}if(Ue.done)return p(Y,me),Ze&&As(Y,Fe),ve;if(me===null){for(;!Ue.done;Fe++,Ue=G.next())(Ue=ie(Y,Ue.value,q))!==null&&(N=E(Ue,N,Fe),Be===null?ve=Ue:Be.sibling=Ue,Be=Ue);return Ze&&As(Y,Fe),ve}for(me=y(Y,me);!Ue.done;Fe++,Ue=G.next())(Ue=J(me,Y,Fe,Ue.value,q))!==null&&(a&&Ue.alternate!==null&&me.delete(Ue.key===null?Fe:Ue.key),N=E(Ue,N,Fe),Be===null?ve=Ue:Be.sibling=Ue,Be=Ue);return a&&me.forEach(function(fP){return u(Y,fP)}),Ze&&As(Y,Fe),ve}return function Y(N,G,q,ve){if(typeof q=="object"&&q!==null&&q.type===d&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case l:e:{for(var Be=q.key,me=G;me!==null;){if(me.key===Be){if((Be=q.type)===d){if(me.tag===7){p(N,me.sibling),(G=_(me,q.props.children)).return=N,N=G;break e}}else if(me.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===b&&Mv(Be)===me.type){p(N,me.sibling),(G=_(me,q.props)).ref=Wa(N,me,q),G.return=N,N=G;break e}p(N,me);break}u(N,me),me=me.sibling}q.type===d?((G=Ms(q.props.children,N.mode,ve,q.key)).return=N,N=G):((ve=_c(q.type,q.key,q.props,null,N.mode,ve)).ref=Wa(N,G,q),ve.return=N,N=ve)}return C(N);case c:e:{for(me=q.key;G!==null;){if(G.key===me){if(G.tag===4&&G.stateNode.containerInfo===q.containerInfo&&G.stateNode.implementation===q.implementation){p(N,G.sibling),(G=_(G,q.children||[])).return=N,N=G;break e}p(N,G);break}u(N,G),G=G.sibling}(G=Ap(q,N.mode,ve)).return=N,N=G}return C(N);case b:return Y(N,G,(me=q._init)(q._payload),ve)}if(te(q))return fe(N,G,q,ve);if(P(q))return Ee(N,G,q,ve);Xu(N,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,G!==null&&G.tag===6?(p(N,G.sibling),(G=_(G,q)).return=N,N=G):(p(N,G),(G=Tp(q,N.mode,ve)).return=N,N=G),C(N)):p(N,G)}}var bo=Ov(!0),Nv=Ov(!1),Va={},Br=Ri(Va),Xa=Ri(Va),So=Ri(Va);function An(a){if(a===Va)throw Error(s(174));return a}function Gf(a,u){He(So,u),He(Xa,a),He(Br,Va),a=ne(u),Ke(Br),He(Br,a)}function Eo(){Ke(Br),Ke(Xa),Ke(So)}function Fv(a){var u=An(So.current),p=An(Br.current);p!==(u=M(p,a.type,u))&&(He(Xa,a),He(Br,u))}function zf(a){Xa.current===a&&(Ke(Br),Ke(Xa))}var ut=Ri(0);function Yu(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&((p=p.dehydrated)===null||uv(p)||pf(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Hf=[];function $f(){for(var a=0;a<Hf.length;a++){var u=Hf[a];lt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Hf.length=0}var Qu=o.ReactCurrentDispatcher,jf=o.ReactCurrentBatchConfig,Ps=0,rt=null,Ct=null,Pt=null,qu=!1,Ya=!1,Qa=0,jC=0;function Wt(){throw Error(s(321))}function Wf(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!Jr(a[p],u[p]))return!1;return!0}function Vf(a,u,p,y,_,E){if(Ps=E,rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Qu.current=a===null||a.memoizedState===null?YC:QC,a=p(y,_),Ya){E=0;do{if(Ya=!1,Qa=0,25<=E)throw Error(s(301));E+=1,Pt=Ct=null,u.updateQueue=null,Qu.current=qC,a=p(y,_)}while(Ya)}if(Qu.current=Ju,u=Ct!==null&&Ct.next!==null,Ps=0,Pt=Ct=rt=null,qu=!1,u)throw Error(s(300));return a}function Xf(){var a=Qa!==0;return Qa=0,a}function Cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a,Pt}function Ur(){if(Ct===null){var a=rt.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var u=Pt===null?rt.memoizedState:Pt.next;if(u!==null)Pt=u,Ct=a;else{if(a===null)throw Error(s(310));a={memoizedState:(Ct=a).memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a}return Pt}function qa(a,u){return typeof u=="function"?u(a):u}function Yf(a){var u=Ur(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=Ct,_=y.baseQueue,E=p.pending;if(E!==null){if(_!==null){var C=_.next;_.next=E.next,E.next=C}y.baseQueue=_=E,p.pending=null}if(_!==null){E=_.next,y=y.baseState;var I=C=null,L=null,z=E;do{var X=z.lane;if((Ps&X)===X)L!==null&&(L=L.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),y=z.hasEagerState?z.eagerState:a(y,z.action);else{var ie={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};L===null?(I=L=ie,C=y):L=L.next=ie,rt.lanes|=X,Is|=X}z=z.next}while(z!==null&&z!==E);L===null?C=y:L.next=I,Jr(y,u.memoizedState)||(ur=!0),u.memoizedState=y,u.baseState=C,u.baseQueue=L,p.lastRenderedState=y}if((a=p.interleaved)!==null){_=a;do E=_.lane,rt.lanes|=E,Is|=E,_=_.next;while(_!==a)}else _===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Qf(a){var u=Ur(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=p.dispatch,_=p.pending,E=u.memoizedState;if(_!==null){p.pending=null;var C=_=_.next;do E=a(E,C.action),C=C.next;while(C!==_);Jr(E,u.memoizedState)||(ur=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),p.lastRenderedState=E}return[E,y]}function Dv(){}function Lv(a,u){var p=rt,y=Ur(),_=u(),E=!Jr(y.memoizedState,_);if(E&&(y.memoizedState=_,ur=!0),y=y.queue,qf(Gv.bind(null,p,y,a),[a]),y.getSnapshot!==u||E||Pt!==null&&1&Pt.memoizedState.tag){if(p.flags|=2048,Ka(9,Uv.bind(null,p,y,_,u),void 0,null),It===null)throw Error(s(349));30&Ps||Bv(p,u,_)}return _}function Bv(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.stores=[a]):(p=u.stores)===null?u.stores=[a]:p.push(a)}function Uv(a,u,p,y){u.value=p,u.getSnapshot=y,zv(u)&&Hv(a)}function Gv(a,u,p){return p(function(){zv(u)&&Hv(a)})}function zv(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!Jr(a,p)}catch{return!0}}function Hv(a){var u=Tn(a,1);u!==null&&Gr(u,a,1,-1)}function $v(a){var u=Cn();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:a},u.queue=a,a=a.dispatch=XC.bind(null,rt,a),[u.memoizedState,a]}function Ka(a,u,p,y){return a={tag:a,create:u,destroy:p,deps:y,next:null},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.lastEffect=a.next=a):(p=u.lastEffect)===null?u.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,u.lastEffect=a),a}function jv(){return Ur().memoizedState}function Ku(a,u,p,y){var _=Cn();rt.flags|=a,_.memoizedState=Ka(1|u,p,void 0,y===void 0?null:y)}function Zu(a,u,p,y){var _=Ur();y=y===void 0?null:y;var E=void 0;if(Ct!==null){var C=Ct.memoizedState;if(E=C.destroy,y!==null&&Wf(y,C.deps))return void(_.memoizedState=Ka(u,p,E,y))}rt.flags|=a,_.memoizedState=Ka(1|u,p,E,y)}function Wv(a,u){return Ku(8390656,8,a,u)}function qf(a,u){return Zu(2048,8,a,u)}function Vv(a,u){return Zu(4,2,a,u)}function Xv(a,u){return Zu(4,4,a,u)}function Yv(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function Qv(a,u,p){return p=p!=null?p.concat([a]):null,Zu(4,4,Yv.bind(null,u,a),p)}function Kf(){}function qv(a,u){var p=Ur();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Wf(u,y[1])?y[0]:(p.memoizedState=[a,u],a)}function Kv(a,u){var p=Ur();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Wf(u,y[1])?y[0]:(a=a(),p.memoizedState=[a,u],a)}function Zv(a,u,p){return 21&Ps?(Jr(p,u)||(p=fv(),rt.lanes|=p,Is|=p,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,ur=!0),a.memoizedState=p)}function WC(a,u){var p=Ne;Ne=p!==0&&4>p?p:4,a(!0);var y=jf.transition;jf.transition={};try{a(!1),u()}finally{Ne=p,jf.transition=y}}function Jv(){return Ur().memoizedState}function VC(a,u,p){var y=Li(a);p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},e_(a)?t_(u,p):(p=Ev(a,u,p,y))!==null&&(Gr(p,a,y,Xt()),r_(p,u,y))}function XC(a,u,p){var y=Li(a),_={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(e_(a))t_(u,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=E(C,p);if(_.hasEagerState=!0,_.eagerState=I,Jr(I,C)){var L=u.interleaved;return L===null?(_.next=_,Df(u)):(_.next=L.next,L.next=_),void(u.interleaved=_)}}catch{}(p=Ev(a,u,_,y))!==null&&(Gr(p,a,y,_=Xt()),r_(p,u,y))}}function e_(a){var u=a.alternate;return a===rt||u!==null&&u===rt}function t_(a,u){Ya=qu=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function r_(a,u,p){if(4194240&p){var y=u.lanes;p|=y&=a.pendingLanes,u.lanes=p,Sf(a,p)}}var Ju={readContext:Lr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},YC={readContext:Lr,useCallback:function(a,u){return Cn().memoizedState=[a,u===void 0?null:u],a},useContext:Lr,useEffect:Wv,useImperativeHandle:function(a,u,p){return p=p!=null?p.concat([a]):null,Ku(4194308,4,Yv.bind(null,u,a),p)},useLayoutEffect:function(a,u){return Ku(4194308,4,a,u)},useInsertionEffect:function(a,u){return Ku(4,2,a,u)},useMemo:function(a,u){var p=Cn();return u=u===void 0?null:u,a=a(),p.memoizedState=[a,u],a},useReducer:function(a,u,p){var y=Cn();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=VC.bind(null,rt,a),[y.memoizedState,a]},useRef:function(a){return a={current:a},Cn().memoizedState=a},useState:$v,useDebugValue:Kf,useDeferredValue:function(a){return Cn().memoizedState=a},useTransition:function(){var a=$v(!1),u=a[0];return a=WC.bind(null,a[1]),Cn().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,p){var y=rt,_=Cn();if(Ze){if(p===void 0)throw Error(s(407));p=p()}else{if(p=u(),It===null)throw Error(s(349));30&Ps||Bv(y,u,p)}_.memoizedState=p;var E={value:p,getSnapshot:u};return _.queue=E,Wv(Gv.bind(null,y,E,a),[a]),y.flags|=2048,Ka(9,Uv.bind(null,y,E,p,u),void 0,null),p},useId:function(){var a=Cn(),u=It.identifierPrefix;if(Ze){var p=ri;u=":"+u+"R"+(p=(En&~(1<<32-Zr(En)-1)).toString(32)+p),0<(p=Qa++)&&(u+="H"+p.toString(32)),u+=":"}else u=":"+u+"r"+(p=jC++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},QC={readContext:Lr,useCallback:qv,useContext:Lr,useEffect:qf,useImperativeHandle:Qv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:Kv,useReducer:Yf,useRef:jv,useState:function(){return Yf(qa)},useDebugValue:Kf,useDeferredValue:function(a){return Zv(Ur(),Ct.memoizedState,a)},useTransition:function(){return[Yf(qa)[0],Ur().memoizedState]},useMutableSource:Dv,useSyncExternalStore:Lv,useId:Jv,unstable_isNewReconciler:!1},qC={readContext:Lr,useCallback:qv,useContext:Lr,useEffect:qf,useImperativeHandle:Qv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:Kv,useReducer:Qf,useRef:jv,useState:function(){return Qf(qa)},useDebugValue:Kf,useDeferredValue:function(a){var u=Ur();return Ct===null?u.memoizedState=a:Zv(u,Ct.memoizedState,a)},useTransition:function(){return[Qf(qa)[0],Ur().memoizedState]},useMutableSource:Dv,useSyncExternalStore:Lv,useId:Jv,unstable_isNewReconciler:!1};function To(a,u){try{var p="",y=u;do p+=$C(y),y=y.return;while(y);var _=p}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:_,digest:null}}function Zf(a,u,p){return{value:a,source:null,stack:p??null,digest:u??null}}function Jf(a,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var KC=typeof WeakMap=="function"?WeakMap:Map;function n_(a,u,p){(p=ni(-1,p)).tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){fc||(fc=!0,vp=y),Jf(0,u)},p}function i_(a,u,p){(p=ni(-1,p)).tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;p.payload=function(){return y(_)},p.callback=function(){Jf(0,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Jf(0,u),typeof y!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),p}function s_(a,u,p){var y=a.pingCache;if(y===null){y=a.pingCache=new KC;var _=new Set;y.set(u,_)}else(_=y.get(u))===void 0&&(_=new Set,y.set(u,_));_.has(p)||(_.add(p),a=oP.bind(null,a,u,p),u.then(a,a))}function o_(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function a_(a,u,p,y,_){return 1&a.mode?(a.flags|=65536,a.lanes=_,a):(a===u?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((u=ni(-1,1)).tag=2,Oi(p,u,1))),p.lanes|=1),a)}var ZC=o.ReactCurrentOwner,ur=!1;function cr(a,u,p,y){u.child=a===null?Nv(u,null,p,y):bo(u,a.child,p,y)}function l_(a,u,p,y,_){p=p.render;var E=u.ref;return wo(u,_),y=Vf(a,u,p,y,E,_),p=Xf(),a===null||ur?(Ze&&p&&Cf(u),u.flags|=1,cr(a,u,y,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ii(a,u,_))}function u_(a,u,p,y,_){if(a===null){var E=p.type;return typeof E!="function"||Ep(E)||E.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((a=_c(p.type,null,y,u,u.mode,_)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=E,c_(a,u,E,y,_))}if(E=a.child,(a.lanes&_)==0){var C=E.memoizedProps;if((p=(p=p.compare)!==null?p:zu)(C,y)&&a.ref===u.ref)return ii(a,u,_)}return u.flags|=1,(a=Ui(E,y)).ref=u.ref,a.return=u,u.child=a}function c_(a,u,p,y,_){if(a!==null){var E=a.memoizedProps;if(zu(E,y)&&a.ref===u.ref){if(ur=!1,u.pendingProps=y=E,(a.lanes&_)==0)return u.lanes=a.lanes,ii(a,u,_);131072&a.flags&&(ur=!0)}}return ep(a,u,p,y,_)}function h_(a,u,p){var y=u.pendingProps,_=y.children,E=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Co,wr),wr|=p;else{if(!(1073741824&p))return a=E!==null?E.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,He(Co,wr),wr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:p,He(Co,wr),wr|=y}else E!==null?(y=E.baseLanes|p,u.memoizedState=null):y=p,He(Co,wr),wr|=y;return cr(a,u,_,p),u.child}function d_(a,u){var p=u.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function ep(a,u,p,y,_){var E=_r(p)?Es:jt.current;return E=go(u,E),wo(u,_),p=Vf(a,u,p,y,E,_),y=Xf(),a===null||ur?(Ze&&y&&Cf(u),u.flags|=1,cr(a,u,p,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ii(a,u,_))}function f_(a,u,p,y,_){if(_r(p)){var E=!0;Nu(u)}else E=!1;if(wo(u,_),u.stateNode===null)nc(a,u),Rv(u,p,y),Uf(u,p,y,_),y=!0;else if(a===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var L=C.context,z=p.contextType;typeof z=="object"&&z!==null?z=Lr(z):z=go(u,z=_r(p)?Es:jt.current);var X=p.getDerivedStateFromProps,ie=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function";ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==y||L!==z)&&kv(u,C,y,z),Mi=!1;var V=u.memoizedState;C.state=V,Wu(u,y,C,_),L=u.memoizedState,I!==y||V!==L||lr.current||Mi?(typeof X=="function"&&(Bf(u,p,X,y),L=u.memoizedState),(I=Mi||Iv(u,p,I,y,V,L,z))?(ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=L),C.props=y,C.state=L,C.context=z,y=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{C=u.stateNode,Tv(a,u),I=u.memoizedProps,z=u.type===u.elementType?I:tn(u.type,I),C.props=z,ie=u.pendingProps,V=C.context,typeof(L=p.contextType)=="object"&&L!==null?L=Lr(L):L=go(u,L=_r(p)?Es:jt.current);var J=p.getDerivedStateFromProps;(X=typeof J=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==ie||V!==L)&&kv(u,C,y,L),Mi=!1,V=u.memoizedState,C.state=V,Wu(u,y,C,_);var fe=u.memoizedState;I!==ie||V!==fe||lr.current||Mi?(typeof J=="function"&&(Bf(u,p,J,y),fe=u.memoizedState),(z=Mi||Iv(u,p,z,y,V,fe,L)||!1)?(X||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,fe,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,fe,L)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=fe),C.props=y,C.state=fe,C.context=L,y=z):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),y=!1)}return tp(a,u,p,y,E,_)}function tp(a,u,p,y,_,E){d_(a,u);var C=(128&u.flags)!=0;if(!y&&!C)return _&&dv(u,p,!1),ii(a,u,E);y=u.stateNode,ZC.current=u;var I=C&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&C?(u.child=bo(u,a.child,null,E),u.child=bo(u,null,I,E)):cr(a,u,I,E),u.memoizedState=y.state,_&&dv(u,p,!0),u.child}function p_(a){var u=a.stateNode;u.pendingContext?cv(0,u.pendingContext,u.pendingContext!==u.context):u.context&&cv(0,u.context,!1),Gf(a,u.containerInfo)}function m_(a,u,p,y,_){return _o(),kf(_),u.flags|=256,cr(a,u,p,y),u.child}var Za,Ja,ec,tc,rp={dehydrated:null,treeContext:null,retryLane:0};function np(a){return{baseLanes:a,cachePool:null,transitions:null}}function g_(a,u,p){var y,_=u.pendingProps,E=ut.current,C=!1,I=(128&u.flags)!=0;if((y=I)||(y=(a===null||a.memoizedState!==null)&&(2&E)!=0),y?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(E|=1),He(ut,1&E),a===null)return Rf(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?pf(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=_.children,a=_.fallback,C?(_=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&_)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=xc(I,_,0,null),a=Ms(a,_,p,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=np(p),u.memoizedState=rp,a):ip(u,I));if((E=a.memoizedState)!==null&&(y=E.dehydrated)!==null)return function(z,X,ie,V,J,fe,Ee){if(ie)return 256&X.flags?(X.flags&=-257,rc(z,X,Ee,V=Zf(Error(s(422))))):X.memoizedState!==null?(X.child=z.child,X.flags|=128,null):(fe=V.fallback,J=X.mode,V=xc({mode:"visible",children:V.children},J,0,null),(fe=Ms(fe,J,Ee,null)).flags|=2,V.return=X,fe.return=X,V.sibling=fe,X.child=V,1&X.mode&&bo(X,z.child,null,Ee),X.child.memoizedState=np(Ee),X.memoizedState=rp,fe);if(!(1&X.mode))return rc(z,X,Ee,null);if(pf(J))return V=vC(J).digest,fe=Error(s(419)),V=Zf(fe,V,void 0),rc(z,X,Ee,V);if(ie=(Ee&z.childLanes)!=0,ur||ie){if((V=It)!==null){switch(Ee&-Ee){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}(J=J&(V.suspendedLanes|Ee)?0:J)!==0&&J!==fe.retryLane&&(fe.retryLane=J,Tn(z,J),Gr(V,z,J,-1))}return Sp(),rc(z,X,Ee,V=Zf(Error(s(421))))}return uv(J)?(X.flags|=128,X.child=z.child,X=aP.bind(null,z),_C(J,X),null):(z=fe.treeContext,Oe&&(Dr=bC(J),xr=X,Ze=!0,en=null,ja=!1,z!==null&&(Nr[Fr++]=En,Nr[Fr++]=ri,Nr[Fr++]=Ts,En=z.id,ri=z.overflow,Ts=X)),X=ip(X,V.children),X.flags|=4096,X)}(a,u,I,_,y,E,p);if(C){C=_.fallback,I=u.mode,y=(E=a.child).sibling;var L={mode:"hidden",children:_.children};return!(1&I)&&u.child!==E?((_=u.child).childLanes=0,_.pendingProps=L,u.deletions=null):(_=Ui(E,L)).subtreeFlags=14680064&E.subtreeFlags,y!==null?C=Ui(y,C):(C=Ms(C,I,p,null)).flags|=2,C.return=u,_.return=u,_.sibling=C,u.child=_,_=C,C=u.child,I=(I=a.child.memoizedState)===null?np(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=a.childLanes&~p,u.memoizedState=rp,_}return a=(C=a.child).sibling,_=Ui(C,{mode:"visible",children:_.children}),!(1&u.mode)&&(_.lanes=p),_.return=u,_.sibling=null,a!==null&&((p=u.deletions)===null?(u.deletions=[a],u.flags|=16):p.push(a)),u.child=_,u.memoizedState=null,_}function ip(a,u){return(u=xc({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function rc(a,u,p,y){return y!==null&&kf(y),bo(u,a.child,null,p),(a=ip(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function y_(a,u,p){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Ff(a.return,u,p)}function sp(a,u,p,y,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=p,E.tailMode=_)}function v_(a,u,p){var y=u.pendingProps,_=y.revealOrder,E=y.tail;if(cr(a,u,y.children,p),(2&(y=ut.current))!=0)y=1&y|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&y_(a,p,u);else if(a.tag===19)y_(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(He(ut,y),(1&u.mode)==0)u.memoizedState=null;else switch(_){case"forwards":for(p=u.child,_=null;p!==null;)(a=p.alternate)!==null&&Yu(a)===null&&(_=p),p=p.sibling;(p=_)===null?(_=u.child,u.child=null):(_=p.sibling,p.sibling=null),sp(u,!1,_,p,E);break;case"backwards":for(p=null,_=u.child,u.child=null;_!==null;){if((a=_.alternate)!==null&&Yu(a)===null){u.child=_;break}a=_.sibling,_.sibling=p,p=_,_=a}sp(u,!0,p,null,E);break;case"together":sp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function nc(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ii(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),Is|=u.lanes,(p&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(p=Ui(a=u.child,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,(p=p.sibling=Ui(a,a.pendingProps)).return=u;p.sibling=null}return u.child}function Pn(a){a.flags|=4}function __(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ae)Za=function(a,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)Q(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ja=function(){},ec=function(a,u,p,y,_){if((a=a.memoizedProps)!==y){var E=u.stateNode,C=An(Br.current);p=xe(E,p,a,y,_,C),(u.updateQueue=p)&&Pn(u)}},tc=function(a,u,p,y){p!==y&&Pn(u)};else if(Ve){Za=function(a,u,p,y){for(var _=u.child;_!==null;){if(_.tag===5){var E=_.stateNode;p&&y&&(E=av(E,_.type,_.memoizedProps,_)),Q(a,E)}else if(_.tag===6)E=_.stateNode,p&&y&&(E=lv(E,_.memoizedProps,_)),Q(a,E);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(E=_.child)!==null&&(E.return=_),Za(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var x_=function(a,u,p,y){for(var _=u.child;_!==null;){if(_.tag===5){var E=_.stateNode;p&&y&&(E=av(E,_.type,_.memoizedProps,_)),ov(a,E)}else if(_.tag===6)E=_.stateNode,p&&y&&(E=lv(E,_.memoizedProps,_)),ov(a,E);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(E=_.child)!==null&&(E.return=_),x_(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Ja=function(a,u){var p=u.stateNode;if(!__(a,u)){a=p.containerInfo;var y=sv(a);x_(y,u,!1,!1),p.pendingChildren=y,Pn(u),pC(a,y)}},ec=function(a,u,p,y,_){var E=a.stateNode,C=a.memoizedProps;if((a=__(a,u))&&C===y)u.stateNode=E;else{var I=u.stateNode,L=An(Br.current),z=null;C!==y&&(z=xe(I,p,C,y,_,L)),a&&z===null?u.stateNode=E:(E=fC(E,z,p,C,y,u,a,I),we(E,p,y,_,L)&&Pn(u),u.stateNode=E,a?Pn(u):Za(E,u,!1,!1))}},tc=function(a,u,p,y){p!==y?(a=An(So.current),p=An(Br.current),u.stateNode=Te(y,a,p,u),Pn(u)):u.stateNode=a.stateNode}}else Ja=function(){},ec=function(){},tc=function(){};function el(a,u){if(!Ze)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function er(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(u)for(var _=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=14680064&_.subtreeFlags,y|=14680064&_.flags,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=p,u}function JC(a,u,p){var y=u.pendingProps;switch(Pf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return _r(u.type)&&vf(),er(u),null;case 3:return p=u.stateNode,Eo(),Ke(lr),Ke(jt),$f(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),a!==null&&a.child!==null||(Gu(u)?Pn(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,en!==null&&(wp(en),en=null))),Ja(a,u),er(u),null;case 5:zf(u),p=An(So.current);var _=u.type;if(a!==null&&u.stateNode!=null)ec(a,u,_,y,p),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(s(166));return er(u),null}if(a=An(Br.current),Gu(u)){if(!Oe)throw Error(s(175));a=SC(u.stateNode,u.type,u.memoizedProps,p,a,u,!ja),u.updateQueue=a,a!==null&&Pn(u)}else{var E=U(_,y,p,a,u);Za(E,u,!1,!1),u.stateNode=E,we(E,_,y,p,a)&&Pn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(a&&u.stateNode!=null)tc(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(s(166));if(a=An(So.current),p=An(Br.current),Gu(u)){if(!Oe)throw Error(s(176));if(a=u.stateNode,p=u.memoizedProps,(y=EC(a,p,u,!ja))&&(_=xr)!==null)switch(_.tag){case 3:MC(_.stateNode.containerInfo,a,p,(1&_.mode)!=0);break;case 5:OC(_.type,_.memoizedProps,_.stateNode,a,p,(1&_.mode)!=0)}y&&Pn(u)}else u.stateNode=Te(y,a,p,u)}return er(u),null;case 13:if(Ke(ut),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ze&&Dr!==null&&1&u.mode&&!(128&u.flags))bv(),_o(),u.flags|=98560,_=!1;else if(_=Gu(u),y!==null&&y.dehydrated!==null){if(a===null){if(!_)throw Error(s(318));if(!Oe)throw Error(s(344));if(!(_=(_=u.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));TC(_,u)}else _o(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),_=!1}else en!==null&&(wp(en),en=null),_=!0;if(!_)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=p,u):((p=y!==null)!=(a!==null&&a.memoizedState!==null)&&p&&(u.child.flags|=8192,1&u.mode&&(a===null||1&ut.current?xt===0&&(xt=3):Sp())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return Eo(),Ja(a,u),a===null&&Or(u.stateNode.containerInfo),er(u),null;case 10:return Nf(u.type._context),er(u),null;case 19:if(Ke(ut),(_=u.memoizedState)===null)return er(u),null;if(y=(128&u.flags)!=0,(E=_.rendering)===null)if(y)el(_,!1);else{if(xt!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((E=Yu(a))!==null){for(u.flags|=128,el(_,!1),(a=E.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=p,p=u.child;p!==null;)_=a,(y=p).flags&=14680066,(E=y.alternate)===null?(y.childLanes=0,y.lanes=_,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,_=E.dependencies,y.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return He(ut,1&ut.current|2),u.child}a=a.sibling}_.tail!==null&&At()>yp&&(u.flags|=128,y=!0,el(_,!1),u.lanes=4194304)}else{if(!y)if((a=Yu(E))!==null){if(u.flags|=128,y=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),el(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!Ze)return er(u),null}else 2*At()-_.renderingStartTime>yp&&p!==1073741824&&(u.flags|=128,y=!0,el(_,!1),u.lanes=4194304);_.isBackwards?(E.sibling=u.child,u.child=E):((a=_.last)!==null?a.sibling=E:u.child=E,_.last=E)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=At(),u.sibling=null,a=ut.current,He(ut,y?1&a|2:1&a),u):(er(u),null);case 22:case 23:return bp(),p=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(u.flags|=8192),p&&1&u.mode?1073741824&wr&&(er(u),Ae&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function eP(a,u){switch(Pf(u),u.tag){case 1:return _r(u.type)&&vf(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return Eo(),Ke(lr),Ke(jt),$f(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return zf(u),null;case 13:if(Ke(ut),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));_o()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return Ke(ut),null;case 4:return Eo(),null;case 10:return Nf(u.type._context),null;case 22:case 23:return bp(),null;default:return null}}var ic=!1,Vt=!1,tP=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ao(a,u){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){Je(a,u,y)}else p.current=null}function w_(a,u,p){try{p()}catch(y){Je(a,u,y)}}var b_=!1;function tl(a,u,p){var y=u.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var _=y=y.next;do{if((_.tag&a)===a){var E=_.destroy;_.destroy=void 0,E!==void 0&&w_(u,p,E)}_=_.next}while(_!==y)}}function sc(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var p=u=u.next;do{if((p.tag&a)===a){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function op(a){var u=a.ref;if(u!==null){var p=a.stateNode;a.tag===5?a=ae(p):a=p,typeof u=="function"?u(a):u.current=a}}function S_(a){var u=a.alternate;u!==null&&(a.alternate=null,S_(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&df(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function E_(a){return a.tag===5||a.tag===3||a.tag===4}function T_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||E_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function ap(a,u,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?sC(p,a,u):eC(p,a);else if(y!==4&&(a=a.child)!==null)for(ap(a,u,p),a=a.sibling;a!==null;)ap(a,u,p),a=a.sibling}function lp(a,u,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?iC(p,a,u):JA(p,a);else if(y!==4&&(a=a.child)!==null)for(lp(a,u,p),a=a.sibling;a!==null;)lp(a,u,p),a=a.sibling}var tr=null,In=!1;function Rn(a,u,p){for(p=p.child;p!==null;)up(a,u,p),p=p.sibling}function up(a,u,p){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Du,p)}catch{}switch(p.tag){case 5:Vt||Ao(p,u);case 6:if(Ae){var y=tr,_=In;tr=null,Rn(a,u,p),In=_,(tr=y)!==null&&(In?aC(tr,p.stateNode):oC(tr,p.stateNode))}else Rn(a,u,p);break;case 18:Ae&&tr!==null&&(In?RC(tr,p.stateNode):IC(tr,p.stateNode));break;case 4:Ae?(y=tr,_=In,tr=p.stateNode.containerInfo,In=!0,Rn(a,u,p),tr=y,In=_):(Ve&&(y=p.stateNode.containerInfo,_=sv(y),ff(y,_)),Rn(a,u,p));break;case 0:case 11:case 14:case 15:if(!Vt&&(y=p.updateQueue)!==null&&(y=y.lastEffect)!==null){_=y=y.next;do{var E=_,C=E.destroy;E=E.tag,C!==void 0&&(2&E||4&E)&&w_(p,u,C),_=_.next}while(_!==y)}Rn(a,u,p);break;case 1:if(!Vt&&(Ao(p,u),typeof(y=p.stateNode).componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(I){Je(p,u,I)}Rn(a,u,p);break;case 21:Rn(a,u,p);break;case 22:1&p.mode?(Vt=(y=Vt)||p.memoizedState!==null,Rn(a,u,p),Vt=y):Rn(a,u,p);break;default:Rn(a,u,p)}}function A_(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new tP),u.forEach(function(y){var _=lP.bind(null,a,y);p.has(y)||(p.add(y),y.then(_,_))})}}function rn(a,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y];try{var E=a,C=u;if(Ae){var I=C;e:for(;I!==null;){switch(I.tag){case 5:tr=I.stateNode,In=!1;break e;case 3:case 4:tr=I.stateNode.containerInfo,In=!0;break e}I=I.return}if(tr===null)throw Error(s(160));up(E,C,_),tr=null,In=!1}else up(E,C,_);var L=_.alternate;L!==null&&(L.return=null),_.return=null}catch(z){Je(_,u,z)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)C_(u,a),u=u.sibling}function C_(a,u){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(rn(u,a),kn(a),4&y){try{tl(3,a,a.return),sc(3,a)}catch(V){Je(a,a.return,V)}try{tl(5,a,a.return)}catch(V){Je(a,a.return,V)}}break;case 1:rn(u,a),kn(a),512&y&&p!==null&&Ao(p,p.return);break;case 5:if(rn(u,a),kn(a),512&y&&p!==null&&Ao(p,p.return),Ae){if(32&a.flags){var _=a.stateNode;try{iv(_)}catch(V){Je(a,a.return,V)}}if(4&y&&(_=a.stateNode)!=null){var E=a.memoizedProps;if(p=p!==null?p.memoizedProps:E,y=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{nC(_,u,y,p,E,a)}catch(V){Je(a,a.return,V)}}}break;case 6:if(rn(u,a),kn(a),4&y&&Ae){if(a.stateNode===null)throw Error(s(162));_=a.stateNode,E=a.memoizedProps,p=p!==null?p.memoizedProps:E;try{tC(_,p,E)}catch(V){Je(a,a.return,V)}}break;case 3:if(rn(u,a),kn(a),4&y){if(Ae&&Oe&&p!==null&&p.memoizedState.isDehydrated)try{CC(u.containerInfo)}catch(V){Je(a,a.return,V)}if(Ve){_=u.containerInfo,E=u.pendingChildren;try{ff(_,E)}catch(V){Je(a,a.return,V)}}}break;case 4:if(rn(u,a),kn(a),4&y&&Ve){_=(E=a.stateNode).containerInfo,E=E.pendingChildren;try{ff(_,E)}catch(V){Je(a,a.return,V)}}break;case 13:rn(u,a),kn(a),8192&(_=a.child).flags&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(gp=At())),4&y&&A_(a);break;case 22:var C=p!==null&&p.memoizedState!==null;if(1&a.mode?(Vt=(p=Vt)||C,rn(u,a),Vt=p):rn(u,a),kn(a),8192&y){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!C&&(1&a.mode)!=0)for(he=a,y=a.child;y!==null;){for(u=he=y;he!==null;){var I=(C=he).child;switch(C.tag){case 0:case 11:case 14:case 15:tl(4,C,C.return);break;case 1:Ao(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){var z=C,X=C.return;try{var ie=z;L.props=ie.memoizedProps,L.state=ie.memoizedState,L.componentWillUnmount()}catch(V){Je(z,X,V)}}break;case 5:Ao(C,C.return);break;case 22:if(C.memoizedState!==null){R_(u);continue}}I!==null?(I.return=C,he=I):R_(u)}y=y.sibling}if(Ae){e:if(y=null,Ae)for(u=a;;){if(u.tag===5){if(y===null){y=u;try{_=u.stateNode,p?lC(_):cC(u.stateNode,u.memoizedProps)}catch(V){Je(a,a.return,V)}}}else if(u.tag===6){if(y===null)try{E=u.stateNode,p?uC(E):hC(E,u.memoizedProps)}catch(V){Je(a,a.return,V)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;y===u&&(y=null),u=u.return}y===u&&(y=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:rn(u,a),kn(a),4&y&&A_(a);break;case 21:break;default:rn(u,a),kn(a)}}function kn(a){var u=a.flags;if(2&u){try{if(Ae){e:{for(var p=a.return;p!==null;){if(E_(p)){var y=p;break e}p=p.return}throw Error(s(160))}switch(y.tag){case 5:var _=y.stateNode;32&y.flags&&(iv(_),y.flags&=-33),lp(a,T_(a),_);break;case 3:case 4:var E=y.stateNode.containerInfo;ap(a,T_(a),E);break;default:throw Error(s(161))}}}catch(C){Je(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function rP(a,u,p){he=a,P_(a)}function P_(a,u,p){for(var y=(1&a.mode)!=0;he!==null;){var _=he,E=_.child;if(_.tag===22&&y){var C=_.memoizedState!==null||ic;if(!C){var I=_.alternate,L=I!==null&&I.memoizedState!==null||Vt;I=ic;var z=Vt;if(ic=C,(Vt=L)&&!z)for(he=_;he!==null;)L=(C=he).child,C.tag===22&&C.memoizedState!==null?k_(_):L!==null?(L.return=C,he=L):k_(_);for(;E!==null;)he=E,P_(E),E=E.sibling;he=_,ic=I,Vt=z}I_(a)}else 8772&_.subtreeFlags&&E!==null?(E.return=_,he=E):I_(a)}}function I_(a){for(;he!==null;){var u=he;if(8772&u.flags){var p=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Vt||sc(5,u);break;case 1:var y=u.stateNode;if(4&u.flags&&!Vt)if(p===null)y.componentDidMount();else{var _=u.elementType===u.type?p.memoizedProps:tn(u.type,p.memoizedProps);y.componentDidUpdate(_,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&Cv(u,E,y);break;case 3:var C=u.updateQueue;if(C!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=ae(u.child.stateNode);break;case 1:p=u.child.stateNode}Cv(u,C,p)}break;case 5:var I=u.stateNode;p===null&&4&u.flags&&rC(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Oe&&u.memoizedState===null){var L=u.alternate;if(L!==null){var z=L.memoizedState;if(z!==null){var X=z.dehydrated;X!==null&&PC(X)}}}break;default:throw Error(s(163))}Vt||512&u.flags&&op(u)}catch(ie){Je(u,u.return,ie)}}if(u===a){he=null;break}if((p=u.sibling)!==null){p.return=u.return,he=p;break}he=u.return}}function R_(a){for(;he!==null;){var u=he;if(u===a){he=null;break}var p=u.sibling;if(p!==null){p.return=u.return,he=p;break}he=u.return}}function k_(a){for(;he!==null;){var u=he;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{sc(4,u)}catch(L){Je(u,p,L)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var _=u.return;try{y.componentDidMount()}catch(L){Je(u,_,L)}}var E=u.return;try{op(u)}catch(L){Je(u,E,L)}break;case 5:var C=u.return;try{op(u)}catch(L){Je(u,C,L)}}}catch(L){Je(u,u.return,L)}if(u===a){he=null;break}var I=u.sibling;if(I!==null){I.return=u.return,he=I;break}he=u.return}}var oc=0,ac=1,lc=2,uc=3,cc=4;if(typeof Symbol=="function"&&Symbol.for){var rl=Symbol.for;oc=rl("selector.component"),ac=rl("selector.has_pseudo_class"),lc=rl("selector.role"),uc=rl("selector.test_id"),cc=rl("selector.text")}function cp(a){var u=Mr(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=XA(a))===null)throw Error(s(362));return a.stateNode.current}function hp(a,u){switch(u.$$typeof){case oc:if(a.type===u.value)return!0;break;case ac:e:{u=u.value,a=[a,0];for(var p=0;p<a.length;){var y=a[p++],_=a[p++],E=u[_];if(y.tag!==5||!Ga(y)){for(;E!=null&&hp(y,E);)E=u[++_];if(_===u.length){u=!0;break e}for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}u=!1}return u;case lc:if(a.tag===5&&qA(a.stateNode,u.value))return!0;break;case cc:if((a.tag===5||a.tag===6)&&(a=QA(a))!==null&&0<=a.indexOf(u.value))return!0;break;case uc:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function dp(a){switch(a.$$typeof){case oc:return"<"+(O(a.value)||"Unknown")+">";case ac:return":has("+(dp(a)||"")+")";case lc:return'[role="'+a.value+'"]';case cc:return'"'+a.value+'"';case uc:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function M_(a,u){var p=[];a=[a,0];for(var y=0;y<a.length;){var _=a[y++],E=a[y++],C=u[E];if(_.tag!==5||!Ga(_)){for(;C!=null&&hp(_,C);)C=u[++E];if(E===u.length)p.push(_);else for(_=_.child;_!==null;)a.push(_,E),_=_.sibling}}return p}function fp(a,u){if(!Ua)throw Error(s(363));a=M_(a=cp(a),u),u=[],a=Array.from(a);for(var p=0;p<a.length;){var y=a[p++];if(y.tag===5)Ga(y)||u.push(y.stateNode);else for(y=y.child;y!==null;)a.push(y),y=y.sibling}return u}var nP=Math.ceil,hc=o.ReactCurrentDispatcher,pp=o.ReactCurrentOwner,dt=o.ReactCurrentBatchConfig,ke=0,It=null,gt=null,Lt=0,wr=0,Co=Ri(0),xt=0,nl=null,Is=0,dc=0,mp=0,il=null,br=null,gp=0,yp=1/0,Ni=null;function Po(){yp=At()+500}var O_,fc=!1,vp=null,Fi=null,pc=!1,Di=null,mc=0,sl=0,_p=null,gc=-1,yc=0;function Xt(){return 6&ke?At():gc!==-1?gc:gc=At()}function Li(a){return 1&a.mode?2&ke&&Lt!==0?Lt&-Lt:HC.transition!==null?(yc===0&&(yc=fv()),yc):(a=Ne)!==0?a:Ss():1}function Gr(a,u,p,y){if(50<sl)throw sl=0,_p=null,Error(s(185));$a(a,p,y),2&ke&&a===It||(a===It&&(!(2&ke)&&(dc|=p),xt===4&&Bi(a,Lt)),hr(a,y),p===1&&ke===0&&!(1&u.mode)&&(Po(),Lu&&Sn()))}function hr(a,u){var p=a.callbackNode;(function(_,E){for(var C=_.suspendedLanes,I=_.pingedLanes,L=_.expirationTimes,z=_.pendingLanes;0<z;){var X=31-Zr(z),ie=1<<X,V=L[X];V===-1?ie&C&&!(ie&I)||(L[X]=LC(ie,E)):V<=E&&(_.expiredLanes|=ie),z&=~ie}})(a,u);var y=Fu(a,a===It?Lt:0);if(y===0)p!==null&&mv(p),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(p!=null&&mv(p),u===1)a.tag===0?function(_){Lu=!0,yv(_)}(F_.bind(null,a)):yv(F_.bind(null,a)),po?VA(function(){!(6&ke)&&Sn()}):Ef(Tf,Sn),p=null;else{switch(pv(y)){case 1:p=Tf;break;case 4:p=GC;break;case 16:default:p=gv;break;case 536870912:p=zC}p=$_(p,N_.bind(null,a))}a.callbackPriority=u,a.callbackNode=p}}function N_(a,u){if(gc=-1,yc=0,(6&ke)!=0)throw Error(s(327));var p=a.callbackNode;if(ks()&&a.callbackNode!==p)return null;var y=Fu(a,a===It?Lt:0);if(y===0)return null;if(30&y||y&a.expiredLanes||u)u=vc(a,y);else{u=y;var _=ke;ke|=2;var E=B_();for(It===a&&Lt===u||(Ni=null,Po(),Rs(a,u));;)try{sP();break}catch(I){L_(a,I)}Of(),hc.current=E,ke=_,gt!==null?u=0:(It=null,Lt=0,u=xt)}if(u!==0){if(u===2&&(_=wf(a))!==0&&(y=_,u=xp(a,_)),u===1)throw p=nl,Rs(a,0),Bi(a,y),hr(a,At()),p;if(u===6)Bi(a,y);else{if(_=a.current.alternate,(30&y)==0&&!function(I){for(var L=I;;){if(16384&L.flags){var z=L.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var X=0;X<z.length;X++){var ie=z[X],V=ie.getSnapshot;ie=ie.value;try{if(!Jr(V(),ie))return!1}catch{return!1}}}if(z=L.child,16384&L.subtreeFlags&&z!==null)z.return=L,L=z;else{if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return!0;L=L.return}L.sibling.return=L.return,L=L.sibling}}return!0}(_)&&((u=vc(a,y))===2&&(E=wf(a))!==0&&(y=E,u=xp(a,E)),u===1))throw p=nl,Rs(a,0),Bi(a,y),hr(a,At()),p;switch(a.finishedWork=_,a.finishedLanes=y,u){case 0:case 1:throw Error(s(345));case 2:case 5:Io(a,br,Ni);break;case 3:if(Bi(a,y),(130023424&y)===y&&10<(u=gp+500-At())){if(Fu(a,0)!==0)break;if(((_=a.suspendedLanes)&y)!==y){Xt(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=De(Io.bind(null,a,br,Ni),u);break}Io(a,br,Ni);break;case 4:if(Bi(a,y),(4194240&y)===y)break;for(u=a.eventTimes,_=-1;0<y;){var C=31-Zr(y);E=1<<C,(C=u[C])>_&&(_=C),y&=~E}if(y=_,10<(y=(120>(y=At()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*nP(y/1960))-y)){a.timeoutHandle=De(Io.bind(null,a,br,Ni),y);break}Io(a,br,Ni);break;default:throw Error(s(329))}}}return hr(a,At()),a.callbackNode===p?N_.bind(null,a):null}function xp(a,u){var p=il;return a.current.memoizedState.isDehydrated&&(Rs(a,u).flags|=256),(a=vc(a,u))!==2&&(u=br,br=p,u!==null&&wp(u)),a}function wp(a){br===null?br=a:br.push.apply(br,a)}function Bi(a,u){for(u&=~mp,u&=~dc,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var p=31-Zr(u),y=1<<p;a[p]=-1,u&=~y}}function F_(a){if(6&ke)throw Error(s(327));ks();var u=Fu(a,0);if(!(1&u))return hr(a,At()),null;var p=vc(a,u);if(a.tag!==0&&p===2){var y=wf(a);y!==0&&(u=y,p=xp(a,y))}if(p===1)throw p=nl,Rs(a,0),Bi(a,u),hr(a,At()),p;if(p===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Io(a,br,Ni),hr(a,At()),null}function D_(a){Di!==null&&Di.tag===0&&!(6&ke)&&ks();var u=ke;ke|=1;var p=dt.transition,y=Ne;try{if(dt.transition=null,Ne=1,a)return a()}finally{Ne=y,dt.transition=p,!(6&(ke=u))&&Sn()}}function bp(){wr=Co.current,Ke(Co)}function Rs(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==Dt&&(a.timeoutHandle=Dt,Tt(p)),gt!==null)for(p=gt.return;p!==null;){var y=p;switch(Pf(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&vf();break;case 3:Eo(),Ke(lr),Ke(jt),$f();break;case 5:zf(y);break;case 4:Eo();break;case 13:case 19:Ke(ut);break;case 10:Nf(y.type._context);break;case 22:case 23:bp()}p=p.return}if(It=a,gt=a=Ui(a.current,null),Lt=wr=u,xt=0,nl=null,mp=dc=Is=0,br=il=null,Cs!==null){for(u=0;u<Cs.length;u++)if((y=(p=Cs[u]).interleaved)!==null){p.interleaved=null;var _=y.next,E=p.pending;if(E!==null){var C=E.next;E.next=_,y.next=C}p.pending=y}Cs=null}return a}function L_(a,u){for(;;){var p=gt;try{if(Of(),Qu.current=Ju,qu){for(var y=rt.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}qu=!1}if(Ps=0,Pt=Ct=rt=null,Ya=!1,Qa=0,pp.current=null,p===null||p.return===null){xt=1,nl=u,gt=null;break}e:{var E=a,C=p.return,I=p,L=u;if(u=Lt,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var z=L,X=I,ie=X.tag;if(!(1&X.mode)&&(ie===0||ie===11||ie===15)){var V=X.alternate;V?(X.updateQueue=V.updateQueue,X.memoizedState=V.memoizedState,X.lanes=V.lanes):(X.updateQueue=null,X.memoizedState=null)}var J=o_(C);if(J!==null){J.flags&=-257,a_(J,C,I,0,u),1&J.mode&&s_(E,z,u),L=z;var fe=(u=J).updateQueue;if(fe===null){var Ee=new Set;Ee.add(L),u.updateQueue=Ee}else fe.add(L);break e}if(!(1&u)){s_(E,z,u),Sp();break e}L=Error(s(426))}else if(Ze&&1&I.mode){var Y=o_(C);if(Y!==null){!(65536&Y.flags)&&(Y.flags|=256),a_(Y,C,I,0,u),kf(To(L,I));break e}}E=L=To(L,I),xt!==4&&(xt=2),il===null?il=[E]:il.push(E),E=C;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u,Av(E,n_(0,L,u));break e;case 1:I=L;var N=E.type,G=E.stateNode;if(!(128&E.flags)&&(typeof N.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Fi===null||!Fi.has(G)))){E.flags|=65536,u&=-u,E.lanes|=u,Av(E,i_(E,I,u));break e}}E=E.return}while(E!==null)}G_(p)}catch(q){u=q,gt===p&&p!==null&&(gt=p=p.return);continue}break}}function B_(){var a=hc.current;return hc.current=Ju,a===null?Ju:a}function Sp(){xt!==0&&xt!==3&&xt!==2||(xt=4),It===null||!(268435455&Is)&&!(268435455&dc)||Bi(It,Lt)}function vc(a,u){var p=ke;ke|=2;var y=B_();for(It===a&&Lt===u||(Ni=null,Rs(a,u));;)try{iP();break}catch(_){L_(a,_)}if(Of(),ke=p,hc.current=y,gt!==null)throw Error(s(261));return It=null,Lt=0,xt}function iP(){for(;gt!==null;)U_(gt)}function sP(){for(;gt!==null&&!BC();)U_(gt)}function U_(a){var u=O_(a.alternate,a,wr);a.memoizedProps=a.pendingProps,u===null?G_(a):gt=u,pp.current=null}function G_(a){var u=a;do{var p=u.alternate;if(a=u.return,(32768&u.flags)==0){if((p=JC(p,u,wr))!==null)return void(gt=p)}else{if((p=eP(p,u))!==null)return p.flags&=32767,void(gt=p);if(a===null)return xt=6,void(gt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(gt=u);gt=u=a}while(u!==null);xt===0&&(xt=5)}function Io(a,u,p){var y=Ne,_=dt.transition;try{dt.transition=null,Ne=1,function(E,C,I,L){do ks();while(Di!==null);if(6&ke)throw Error(s(327));I=E.finishedWork;var z=E.finishedLanes;if(I===null)return null;if(E.finishedWork=null,E.finishedLanes=0,I===E.current)throw Error(s(177));E.callbackNode=null,E.callbackPriority=0;var X=I.lanes|I.childLanes;if(function(J,fe){var Ee=J.pendingLanes&~fe;J.pendingLanes=fe,J.suspendedLanes=0,J.pingedLanes=0,J.expiredLanes&=fe,J.mutableReadLanes&=fe,J.entangledLanes&=fe,fe=J.entanglements;var Y=J.eventTimes;for(J=J.expirationTimes;0<Ee;){var N=31-Zr(Ee),G=1<<N;fe[N]=0,Y[N]=-1,J[N]=-1,Ee&=~G}}(E,X),E===It&&(gt=It=null,Lt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||pc||(pc=!0,$_(gv,function(){return ks(),null})),X=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||X){X=dt.transition,dt.transition=null;var ie=Ne;Ne=1;var V=ke;ke|=4,pp.current=null,function(J,fe){for($(J.containerInfo),he=fe;he!==null;)if(fe=(J=he).child,(1028&J.subtreeFlags)!=0&&fe!==null)fe.return=J,he=fe;else for(;he!==null;){J=he;try{var Ee=J.alternate;if(1024&J.flags)switch(J.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ee!==null){var Y=Ee.memoizedProps,N=Ee.memoizedState,G=J.stateNode,q=G.getSnapshotBeforeUpdate(J.elementType===J.type?Y:tn(J.type,Y),N);G.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Ae&&dC(J.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ve){Je(J,J.return,ve)}if((fe=J.sibling)!==null){fe.return=J.return,he=fe;break}he=J.return}Ee=b_,b_=!1}(E,I),C_(I,E),F(E.containerInfo),E.current=I,rP(I),UC(),ke=V,Ne=ie,dt.transition=X}else E.current=I;if(pc&&(pc=!1,Di=E,mc=z),X=E.pendingLanes,X===0&&(Fi=null),function(J){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Du,J,void 0,(128&J.current.flags)==128)}catch{}}(I.stateNode),hr(E,At()),C!==null)for(L=E.onRecoverableError,I=0;I<C.length;I++)z=C[I],L(z.value,{componentStack:z.stack,digest:z.digest});if(fc)throw fc=!1,E=vp,vp=null,E;1&mc&&E.tag!==0&&ks(),X=E.pendingLanes,1&X?E===_p?sl++:(sl=0,_p=E):sl=0,Sn()}(a,u,p,y)}finally{dt.transition=_,Ne=y}return null}function ks(){if(Di!==null){var a=pv(mc),u=dt.transition,p=Ne;try{if(dt.transition=null,Ne=16>a?16:a,Di===null)var y=!1;else{if(a=Di,Di=null,mc=0,(6&ke)!=0)throw Error(s(331));var _=ke;for(ke|=4,he=a.current;he!==null;){var E=he,C=E.child;if(16&he.flags){var I=E.deletions;if(I!==null){for(var L=0;L<I.length;L++){var z=I[L];for(he=z;he!==null;){var X=he;switch(X.tag){case 0:case 11:case 15:tl(8,X,E)}var ie=X.child;if(ie!==null)ie.return=X,he=ie;else for(;he!==null;){var V=(X=he).sibling,J=X.return;if(S_(X),X===z){he=null;break}if(V!==null){V.return=J,he=V;break}he=J}}}var fe=E.alternate;if(fe!==null){var Ee=fe.child;if(Ee!==null){fe.child=null;do{var Y=Ee.sibling;Ee.sibling=null,Ee=Y}while(Ee!==null)}}he=E}}if(2064&E.subtreeFlags&&C!==null)C.return=E,he=C;else e:for(;he!==null;){if(2048&(E=he).flags)switch(E.tag){case 0:case 11:case 15:tl(9,E,E.return)}var N=E.sibling;if(N!==null){N.return=E.return,he=N;break e}he=E.return}}var G=a.current;for(he=G;he!==null;){var q=(C=he).child;if(2064&C.subtreeFlags&&q!==null)q.return=C,he=q;else e:for(C=G;he!==null;){if(2048&(I=he).flags)try{switch(I.tag){case 0:case 11:case 15:sc(9,I)}}catch(Be){Je(I,I.return,Be)}if(I===C){he=null;break e}var ve=I.sibling;if(ve!==null){ve.return=I.return,he=ve;break e}he=I.return}}if(ke=_,Sn(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Du,a)}catch{}y=!0}return y}finally{Ne=p,dt.transition=u}}return!1}function z_(a,u,p){a=Oi(a,u=n_(0,u=To(p,u),1),1),u=Xt(),a!==null&&($a(a,1,u),hr(a,u))}function Je(a,u,p){if(a.tag===3)z_(a,a,p);else for(;u!==null;){if(u.tag===3){z_(u,a,p);break}if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Fi===null||!Fi.has(y))){u=Oi(u,a=i_(u,a=To(p,a),1),1),a=Xt(),u!==null&&($a(u,1,a),hr(u,a));break}}u=u.return}}function oP(a,u,p){var y=a.pingCache;y!==null&&y.delete(u),u=Xt(),a.pingedLanes|=a.suspendedLanes&p,It===a&&(Lt&p)===p&&(xt===4||xt===3&&(130023424&Lt)===Lt&&500>At()-gp?Rs(a,0):mp|=p),hr(a,u)}function H_(a,u){u===0&&(1&a.mode?(u=xf,!(130023424&(xf<<=1))&&(xf=4194304)):u=1);var p=Xt();(a=Tn(a,u))!==null&&($a(a,u,p),hr(a,p))}function aP(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),H_(a,p)}function lP(a,u){var p=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(u),H_(a,p)}function $_(a,u){return Ef(a,u)}function uP(a,u,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,u,p,y){return new uP(a,u,p,y)}function Ep(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ui(a,u){var p=a.alternate;return p===null?((p=zr(a.tag,u,a.key,a.mode)).elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&a.flags,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function _c(a,u,p,y,_,E){var C=2;if(y=a,typeof a=="function")Ep(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case d:return Ms(p.children,_,E,u);case g:C=8,_|=8;break;case h:return(a=zr(12,p,u,2|_)).elementType=h,a.lanes=E,a;case w:return(a=zr(13,p,u,_)).elementType=w,a.lanes=E,a;case T:return(a=zr(19,p,u,_)).elementType=T,a.lanes=E,a;case S:return xc(p,_,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case f:C=10;break e;case m:C=9;break e;case v:C=11;break e;case x:C=14;break e;case b:C=16,y=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=zr(C,p,u,_)).elementType=a,u.type=y,u.lanes=E,u}function Ms(a,u,p,y){return(a=zr(7,a,y,u)).lanes=p,a}function xc(a,u,p,y){return(a=zr(22,a,y,u)).elementType=S,a.lanes=p,a.stateNode={isHidden:!1},a}function Tp(a,u,p){return(a=zr(6,a,null,u)).lanes=p,a}function Ap(a,u,p){return(u=zr(4,a.children!==null?a.children:[],a.key,u)).lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function cP(a,u,p,y,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Dt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=y,this.onRecoverableError=_,Oe&&(this.mutableSourceEagerHydrationData=null)}function j_(a,u,p,y,_,E,C,I,L){return a=new cP(a,u,p,I,L),u===1?(u=1,E===!0&&(u|=8)):u=0,E=zr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lf(E),a}function W_(a){if(!a)return ki;e:{if(R(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(_r(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var p=a.type;if(_r(p))return hv(a,p,u)}return u}function V_(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=Z(u))===null?null:a.stateNode}function X_(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function wc(a,u){X_(a,u),(a=a.alternate)&&X_(a,u)}function hP(a){return(a=Z(a))===null?null:a.stateNode}function dP(){return null}return O_=function(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps||lr.current)ur=!0;else{if(!(a.lanes&p)&&!(128&u.flags))return ur=!1,function(ie,V,J){switch(V.tag){case 3:p_(V),_o();break;case 5:Fv(V);break;case 1:_r(V.type)&&Nu(V);break;case 4:Gf(V,V.stateNode.containerInfo);break;case 10:Sv(0,V.type._context,V.memoizedProps.value);break;case 13:var fe=V.memoizedState;if(fe!==null)return fe.dehydrated!==null?(He(ut,1&ut.current),V.flags|=128,null):J&V.child.childLanes?g_(ie,V,J):(He(ut,1&ut.current),(ie=ii(ie,V,J))!==null?ie.sibling:null);He(ut,1&ut.current);break;case 19:if(fe=(J&V.childLanes)!=0,(128&ie.flags)!=0){if(fe)return v_(ie,V,J);V.flags|=128}var Ee=V.memoizedState;if(Ee!==null&&(Ee.rendering=null,Ee.tail=null,Ee.lastEffect=null),He(ut,ut.current),fe)break;return null;case 22:case 23:return V.lanes=0,h_(ie,V,J)}return ii(ie,V,J)}(a,u,p);ur=(131072&a.flags)!=0}else ur=!1,Ze&&1048576&u.flags&&vv(u,Uu,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;nc(a,u),a=u.pendingProps;var _=go(u,jt.current);wo(u,p),_=Vf(null,u,y,a,_,p);var E=Xf();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,_r(y)?(E=!0,Nu(u)):E=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Lf(u),_.updater=Vu,u.stateNode=_,_._reactInternals=u,Uf(u,y,a,p),u=tp(null,u,y,!0,E,p)):(u.tag=0,Ze&&E&&Cf(u),cr(null,u,_,p),u=u.child),u;case 16:y=u.elementType;e:{switch(nc(a,u),a=u.pendingProps,y=(_=y._init)(y._payload),u.type=y,_=u.tag=function(ie){if(typeof ie=="function")return Ep(ie)?1:0;if(ie!=null){if((ie=ie.$$typeof)===v)return 11;if(ie===x)return 14}return 2}(y),a=tn(y,a),_){case 0:u=ep(null,u,y,a,p);break e;case 1:u=f_(null,u,y,a,p);break e;case 11:u=l_(null,u,y,a,p);break e;case 14:u=u_(null,u,y,tn(y.type,a),p);break e}throw Error(s(306,y,""))}return u;case 0:return y=u.type,_=u.pendingProps,ep(a,u,y,_=u.elementType===y?_:tn(y,_),p);case 1:return y=u.type,_=u.pendingProps,f_(a,u,y,_=u.elementType===y?_:tn(y,_),p);case 3:e:{if(p_(u),a===null)throw Error(s(387));y=u.pendingProps,_=(E=u.memoizedState).element,Tv(a,u),Wu(u,y,null,p);var C=u.memoizedState;if(y=C.element,Oe&&E.isDehydrated){if(E={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=E,u.memoizedState=E,256&u.flags){u=m_(a,u,y,p,_=To(Error(s(423)),u));break e}if(y!==_){u=m_(a,u,y,p,_=To(Error(s(424)),u));break e}for(Oe&&(Dr=wC(u.stateNode.containerInfo),xr=u,Ze=!0,en=null,ja=!1),p=Nv(u,null,y,p),u.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(_o(),y===_){u=ii(a,u,p);break e}cr(a,u,y,p)}u=u.child}return u;case 5:return Fv(u),a===null&&Rf(u),y=u.type,_=u.pendingProps,E=a!==null?a.memoizedProps:null,C=_.children,Le(y,_)?C=null:E!==null&&Le(y,E)&&(u.flags|=32),d_(a,u),cr(a,u,C,p),u.child;case 6:return a===null&&Rf(u),null;case 13:return g_(a,u,p);case 4:return Gf(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=bo(u,null,y,p):cr(a,u,y,p),u.child;case 11:return y=u.type,_=u.pendingProps,l_(a,u,y,_=u.elementType===y?_:tn(y,_),p);case 7:return cr(a,u,u.pendingProps,p),u.child;case 8:case 12:return cr(a,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,_=u.pendingProps,E=u.memoizedProps,Sv(0,y,C=_.value),E!==null)if(Jr(E.value,C)){if(E.children===_.children&&!lr.current){u=ii(a,u,p);break e}}else for((E=u.child)!==null&&(E.return=u);E!==null;){var I=E.dependencies;if(I!==null){C=E.child;for(var L=I.firstContext;L!==null;){if(L.context===y){if(E.tag===1){(L=ni(-1,p&-p)).tag=2;var z=E.updateQueue;if(z!==null){var X=(z=z.shared).pending;X===null?L.next=L:(L.next=X.next,X.next=L),z.pending=L}}E.lanes|=p,(L=E.alternate)!==null&&(L.lanes|=p),Ff(E.return,p,u),I.lanes|=p;break}L=L.next}}else if(E.tag===10)C=E.type===u.type?null:E.child;else if(E.tag===18){if((C=E.return)===null)throw Error(s(341));C.lanes|=p,(I=C.alternate)!==null&&(I.lanes|=p),Ff(C,p,u),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===u){C=null;break}if((E=C.sibling)!==null){E.return=C.return,C=E;break}C=C.return}E=C}cr(a,u,_.children,p),u=u.child}return u;case 9:return _=u.type,y=u.pendingProps.children,wo(u,p),y=y(_=Lr(_)),u.flags|=1,cr(a,u,y,p),u.child;case 14:return _=tn(y=u.type,u.pendingProps),u_(a,u,y,_=tn(y.type,_),p);case 15:return c_(a,u,u.type,u.pendingProps,p);case 17:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:tn(y,_),nc(a,u),u.tag=1,_r(y)?(a=!0,Nu(u)):a=!1,wo(u,p),Rv(u,y,_),Uf(u,y,_,p),tp(null,u,y,!0,a,p);case 19:return v_(a,u,p);case 22:return h_(a,u,p)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=Tn(a,134217728);u!==null&&Gr(u,a,134217728,Xt()),wc(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=Tn(a,1);u!==null&&Gr(u,a,1,Xt()),wc(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Li(a),p=Tn(a,u);p!==null&&Gr(p,a,u,Xt()),wc(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var p=Ha(u.pendingLanes);p!==0&&(Sf(u,1|p),hr(u,At()),!(6&ke)&&(Po(),Sn()))}break;case 13:D_(function(){var y=Tn(a,1);if(y!==null){var _=Xt();Gr(y,a,1,_)}}),wc(a,1)}},e.batchedUpdates=function(a,u){var p=ke;ke|=1;try{return a(u)}finally{(ke=p)===0&&(Po(),Lu&&Sn())}},e.createComponentSelector=function(a){return{$$typeof:oc,value:a}},e.createContainer=function(a,u,p,y,_,E,C){return j_(a,u,!1,null,0,y,0,E,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:ac,value:a}},e.createHydrationContainer=function(a,u,p,y,_,E,C,I,L){return(a=j_(p,y,!0,a,0,E,0,I,L)).context=W_(null),p=a.current,(E=ni(y=Xt(),_=Li(p))).callback=u??null,Oi(p,E,_),a.current.lanes=_,$a(a,_,y),hr(a,y),a},e.createPortal=function(a,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:a,containerInfo:u,implementation:p}},e.createRoleSelector=function(a){return{$$typeof:lc,value:a}},e.createTestNameSelector=function(a){return{$$typeof:uc,value:a}},e.createTextSelector=function(a){return{$$typeof:cc,value:a}},e.deferredUpdates=function(a){var u=Ne,p=dt.transition;try{return dt.transition=null,Ne=16,a()}finally{Ne=u,dt.transition=p}},e.discreteUpdates=function(a,u,p,y,_){var E=Ne,C=dt.transition;try{return dt.transition=null,Ne=1,a(u,p,y,_)}finally{Ne=E,dt.transition=C,ke===0&&Po()}},e.findAllNodes=fp,e.findBoundingRects=function(a,u){if(!Ua)throw Error(s(363));u=fp(a,u),a=[];for(var p=0;p<u.length;p++)a.push(YA(u[p]));for(u=a.length-1;0<u;u--)for(var y=(p=a[u]).x,_=y+p.width,E=p.y,C=E+p.height,I=u-1;0<=I;I--)if(u!==I){var L=a[I],z=L.x,X=z+L.width,ie=L.y,V=ie+L.height;if(y>=z&&E>=ie&&_<=X&&C<=V){a.splice(u,1);break}if(!(y!==z||p.width!==L.width||V<E||ie>C)){ie>E&&(L.height+=ie-E,L.y=E),V<C&&(L.height=C-ie),a.splice(u,1);break}if(!(E!==ie||p.height!==L.height||X<y||z>_)){z>y&&(L.width+=z-y,L.x=y),X<_&&(L.width=_-z),a.splice(u,1);break}}return a},e.findHostInstance=V_,e.findHostInstanceWithNoPortals=function(a){return(a=(a=j(a))!==null?D(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return V_(a)},e.flushControlled=function(a){var u=ke;ke|=1;var p=dt.transition,y=Ne;try{dt.transition=null,Ne=1,a()}finally{Ne=y,dt.transition=p,(ke=u)===0&&(Po(),Sn())}},e.flushPassiveEffects=ks,e.flushSync=D_,e.focusWithin=function(a,u){if(!Ua)throw Error(s(363));for(u=M_(a=cp(a),u),u=Array.from(u),a=0;a<u.length;){var p=u[a++];if(!Ga(p)){if(p.tag===5&&KA(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ne},e.getFindAllNodesFailureDescription=function(a,u){if(!Ua)throw Error(s(363));var p=0,y=[];a=[cp(a),0];for(var _=0;_<a.length;){var E=a[_++],C=a[_++],I=u[C];if((E.tag!==5||!Ga(E))&&(hp(E,I)&&(y.push(dp(I)),++C>p&&(p=C)),C<u.length))for(E=E.child;E!==null;)a.push(E,C),E=E.sibling}if(p<u.length){for(a=[];p<u.length;p++)a.push(dp(u[p]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ae(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:hP,findFiberByHostInstance:a.findFiberByHostInstance||dP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Du=u.inject(a),bn=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,p,y){if(!Ua)throw Error(s(363));a=fp(a,u);var _=ZA(a,p,y).disconnect;return{disconnect:function(){_()}}},e.registerMutableSourceForHydration=function(a,u){var p=u._getVersion;p=p(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,p]:a.mutableSourceEagerHydrationData.push(u,p)},e.runWithPriority=function(a,u){var p=Ne;try{return Ne=a,u()}finally{Ne=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,p,y){var _=u.current,E=Xt(),C=Li(_);return p=W_(p),u.context===null?u.context=p:u.pendingContext=p,(u=ni(E,C)).payload={element:a},(y=y===void 0?null:y)!==null&&(u.callback=y),(a=Oi(_,u,C))!==null&&(Gr(a,_,C,E),ju(a,_,C)),C},e}),Vw}({get exports(){return N0},set exports(t){N0=t}}).exports=SL();var EL=qD(N0),PA={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},D0={},hh={get exports(){return D0},set exports(t){D0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?hh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(hh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(hh.exports=function(){return Date.now()-r},r=Date.now()):(hh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(QD);var Qw,sa={},Fs={};({get exports(){return sa},set exports(t){sa=t}}).exports=(Qw||(Qw=1,Fs.ConcurrentRoot=1,Fs.ContinuousEventPriority=4,Fs.DefaultEventPriority=16,Fs.DiscreteEventPriority=1,Fs.IdleEventPriority=536870912,Fs.LegacyRoot=0),Fs);var TL={};function Gm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function IA(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Pi(t.children).forEach(function(s){IA(s,t)})}function qw(t,e){var r;IA(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,c=n.destroyTexture,d=c!==void 0&&c,g=n.destroyBaseTexture,h=g!==void 0&&g;s&&e.destroy({children:l,texture:d,baseTexture:h})}function Kw(t,e,r){ht(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var Zw=null,mn=EL({getRootHostContext:function(){return TL},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return sa.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sa.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sa.ContinuousEventPriority;default:return sa.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=_L[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=CA[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Kn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Zw=function(o,l,c,d){var g=null;for(var h in c)!d.hasOwnProperty(h)&&c.hasOwnProperty(h)&&c[h]!==null&&(h===M0||(g||(g=[]),g.push(h,null)));for(var f in d){var m=d[f],v=c!==null?c[f]:void 0;!d.hasOwnProperty(f)||m===v||m===null&&v===null||f===M0||(g||(g=[]),g.push(f,m))}return g}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){ht(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:D0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Gm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Gm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Gm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Kw,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Kw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=Kn),(l(t,n,i)||Zw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),AL=PA.dependencies["react-dom"].replace(/[^0-9.]/g,""),CL=PA.name;mn.injectIntoDevTools({bundleType:0,version:AL,rendererPackageName:CL,findHostInstanceByFiber:mn.findHostInstance});var hs=new Map;function RA(t){if(ht(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),hs.has(t)){var e=hs.get(t).pixiFiberContainer;mn.updateContainer(null,e,void 0,function(){hs.delete(t)})}}function kA(t){ht(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=hs.get(t);if(ht(!e,"Pixi React: createRoot should only be called once"),!e){var r=mn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return mn.updateContainer(n,r,void 0),mn.getPublicRootInstance(r)},unmount:function(){RA(t),hs.delete(t)}}},hs.set(t,e)}return e.reactRoot}function PL(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),hs.has(e)?n=hs.get(e).reactRoot:n=kA(e),n.render(t)}function IL(t){RA(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}function RL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EA(n.key),n)}}function li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cd(t,e){return Cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Cd(t,e)}function ML(t,e){if(e&&(Pr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pd(t)}var hf=vi.createContext(null),MA=hf.Provider,OA=hf.Consumer,OL=function(t){var e=vi.forwardRef(function(r,n){return vi.createElement(OA,null,function(i){return vi.createElement(t,xu({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function NL(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Pd(t);if(e){var i=Pd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ML(this,r)}}function Jw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eb=function(){},NA={width:Ye.number,height:Ye.number,onMount:Ye.func,onUnmount:Ye.func,raf:Ye.bool,renderOnComponentChange:Ye.bool,children:Ye.node,options:Ye.shape({autoStart:Ye.bool,width:Ye.number,height:Ye.number,useContextAlpha:Ye.bool,backgroundAlpha:Ye.number,autoDensity:Ye.bool,antialias:Ye.bool,preserveDrawingBuffer:Ye.bool,resolution:Ye.number,forceCanvas:Ye.bool,backgroundColor:Ye.number,clearBeforeRender:Ye.bool,powerPreference:Ye.string,sharedTicker:Ye.bool,sharedLoader:Ye.bool,resizeTo:function(t,e){var r=t[e];r&&ht(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Pr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&ht(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Pr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},FL={width:800,height:600,onMount:eb,onUnmount:eb,raf:!0,renderOnComponentChange:!0},L0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Cd(s,o)})(i,vi.Component);var e,r,n=NL(i);function i(){var s;RL(this,i);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return ft(li(s=n.call.apply(n,[this].concat(l))),"_canvas",null),ft(li(s),"_mediaQuery",null),ft(li(s),"_ticker",null),ft(li(s),"_needsUpdate",!0),ft(li(s),"app",null),ft(li(s),"updateSize",function(){var d=s.props,g=d.width,h=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(g,h)}),ft(li(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ft(li(s),"renderStage",function(){var d=s.props,g=d.renderOnComponentChange;!d.raf&&g&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,c=s.height,d=s.options,g=s.raf,h=s.renderOnComponentChange;this.app=new Hd(dh(dh({width:l,height:c,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[g?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=mn.createContainer(this.app.stage),mn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),h&&!g&&(this._ticker=new Nt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var c,d=this.props,g=d.width,h=d.height,f=d.raf,m=d.renderOnComponentChange,v=d.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===h&&s.width===g&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),mn.updateContainer(this.getChildren(),this.mountNode,this),s.width===g&&s.height===h&&s.raf===f&&s.renderOnComponentChange===m&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return vi.createElement(MA,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),mn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,c=this.props.options;return c&&c.view?(ht(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):vi.createElement("canvas",xu({},(s=this.props,o=[].concat(Pi(Object.keys(NA)),Pi(Object.keys(O0))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,g){return dh(dh({},d),{},ft({},g,s[g]))},{})),{ref:function(d){return l._canvas=d}}))}}])&&kL(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();L0.propTypes=NA,L0.defaultProps=FL;var DL=L0;function FA(){var t=re.useContext(hf);return ht(t instanceof Hd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function LL(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=FA();ht(typeof t=="function","`useTick` needs a callback function."),ht(r instanceof Hd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=re.useRef(null);re.useEffect(function(){n.current=t},[t]),re.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function BL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B0(t,e,r){return B0=BL()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&Cd(l,s.prototype),l},B0.apply(null,arguments)}var UL=["children","apply"];function tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GL=function(t,e){ht(Pr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=bs(i,UL),c=re.useRef(re.useMemo(function(){return r.map(function(h){var f,m=(l==null||(f=l[h])===null||f===void 0?void 0:f.construct)||[];return B0(e[h],Pi(m))})},[r])),d=re.useMemo(function(){return r.reduce(function(h,f,m){return fh(fh({},h),{},ft({},f,c.current[m]))},{})},[r]),g=re.useMemo(function(){return Object.keys(l).filter(AA(TA(r))).reduce(function(h,f){return fh(fh({},h),{},ft({},f,l[f]))},{})},[l,r]);return r.forEach(function(h,f){return Object.assign(c.current[f],l[h])}),o&&function(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];return f.every(function(v){return typeof v=="function"})}(o)&&o.call(t,d),vi.createElement(t,xu({},g,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ye.node,apply:Ye.func},n},zL=vr.BitmapText,HL=vr.Container,$L=vr.Graphics,jL=vr.NineSlicePlane,WL=vr.ParticleContainer,VL=vr.Sprite,XL=vr.AnimatedSprite,YL=vr.Text,QL=vr.TilingSprite,qL=vr.SimpleMesh,KL=vr.SimpleRope;const ZL=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:XL,AppConsumer:OA,AppContext:hf,AppProvider:MA,BitmapText:zL,Container:HL,Graphics:$L,NineSlicePlane:jL,ParticleContainer:WL,PixiComponent:xL,PixiFiber:mn,SimpleMesh:qL,SimpleRope:KL,Sprite:VL,Stage:DL,TYPES:vr,Text:YL,TilingSprite:QL,applyDefaultProps:Kn,createRoot:kA,eventHandlers:Ad,render:PL,unmountComponentAtNode:IL,useApp:FA,useTick:LL,withFilters:GL,withPixiApp:OL},Symbol.toStringTag,{value:"Module"})),JL=ob(ZL);cf.exports=JL;var Kr=cf.exports,xa={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-xa.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?xa.Bounce.In(t*2)*.5:xa.Bounce.Out(t*2-1)*.5+.5}}},Ml;typeof self>"u"&&typeof process<"u"&&process.hrtime?Ml=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Ml=self.performance.now.bind(self.performance):Date.now!==void 0?Ml=Date.now:Ml=function(){return new Date().getTime()};var jo=Ml,eB=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=jo()),r===void 0&&(r=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!r;s&&s.update(e,o)===!1&&!r&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Ol={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=Ol.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[r],t[r-1],r-n):s(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,s=Ol.Utils.Bernstein,o=0;o<=n;o++)r+=i(1-e,n-o)*i(e,o)*t[o]*s(n,o);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=Ol.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),s(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):s(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Ol.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var n=e;n>1;n--)r*=n;return t[e]=r,r}}(),CatmullRom:function(t,e,r,n,i){var s=(r-t)*.5,o=(n-e)*.5,l=i*i,c=i*l;return(2*e-2*r+s+o)*c+(-3*e+3*r-2*s-o)*l+s*i+e}}},tB=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),DA=new eB,rB=function(){function t(e,r){r===void 0&&(r=DA),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=xa.Linear.None,this._interpolationFunction=Ol.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=tB.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?jo()+parseFloat(e):e:jo(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,r,n,i){for(var s in n){var o=e[s],l=Array.isArray(o),c=l?"array":typeof o,d=!l&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(d){var g=n[s];if(g.length===0)continue;g=g.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(g)}if((c==="object"||l)&&o&&!d){r[s]=l?[]:{};for(var h in o)r[s][h]=o[h];i[s]=l?[]:{},this._setupProperties(o,r[s],n[s],i[s])}else typeof r[s]>"u"&&(r[s]=o),l||(r[s]*=1),d?i[s]=n[s].slice().reverse():i[s]=r[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=jo()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=jo()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=jo()),r===void 0&&(r=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,c=this._chainedTweens.length;l<c;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,n,i){for(var s in n)if(r[s]!==void 0){var o=r[s]||0,l=n[s],c=Array.isArray(e[s]),d=Array.isArray(l),g=!c&&d;g?e[s]=this._interpolationFunction(l,i):typeof l=="object"&&l?this._updateProperties(e[s],o,l,i):(l=this._handleRelativeValue(o,l),typeof l=="number"&&(e[s]=o+(l-o)*i))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}(),Zn=DA;Zn.getAll.bind(Zn);Zn.removeAll.bind(Zn);Zn.add.bind(Zn);Zn.remove.bind(Zn);var nB=Zn.update.bind(Zn);function U0(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zm=function(){return Math.random().toString(36).substring(7).split("").join(".")},rb={INIT:"@@redux/INIT"+zm(),REPLACE:"@@redux/REPLACE"+zm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zm()}};function iB(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:rb.INIT});if(typeof n>"u")throw new Error(U0(12));if(typeof r(void 0,{type:rb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(U0(13))})}function sB(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{iB(r)}catch(l){o=l}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var g=!1,h={},f=0;f<s.length;f++){var m=s[f],v=r[m],w=c[m],T=v(w,d);if(typeof T>"u")throw d&&d.type,new Error(U0(14));h[m]=T,g=g||T!==w}return g=g||s.length!==Object.keys(c).length,g?h:c}}const oB="action_scene_push",aB="action_scene_pop",LA="action_scene_replace",lB="action_scene_to_root",BA="action_assets_loading",UA="action_orientation_changed",uB="action_sound_open",cB=(t={},e)=>{let r=[].concat(t.scenes);switch(e.type){case oB:return r.push(e.value),{...t,scenes:r};case aB:return r.pop(),{...t,scenes:r};case LA:return r.pop(),r.push(e.value),{...t,scenes:r};case lB:return{...t};case BA:return{...t,assetsLoadingProgress:e.value};case UA:return{...t,orientation:e.value};case uB:return{...t,soundOn:e.value};default:return t}},hB={sceneManager:{scenes:["preload"],assetsLoadingProgress:0,orientation:"l",soundOn:!0}};function dB(t){return{type:LA,value:t}}function nb(t){return{type:BA,value:t}}function fB(t){return{type:UA,value:t}}function pB(){let t=VP("scene")||cB;return sB({sceneManager:t})}function mB(t,e={},r){const n=Object.assign(t[r],e[r]||{});return t[r]=n,t}function gB(){let t=mB(hB,vb("scene"),"sceneManager");return UP(t)}var G0={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var h=this||r;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var f=this||r;if(h=parseFloat(h),f.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(f._volume=h,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h,r.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),w=0;w<v.length;w++){var T=f._howls[m]._soundById(v[w]);T&&T._node&&(T._node.volume=T._volume*h)}return f}return f._volume},mute:function(h){var f=this||r;f.ctx||g(),f._muted=h,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h?0:f._volume,r.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),w=0;w<v.length;w++){var T=f._howls[m]._soundById(v[w]);T&&T._node&&(T._node.muted=h?!0:T._muted)}return f},stop:function(){for(var h=this||r,f=0;f<h._howls.length;f++)h._howls[f].stop();return h},unload:function(){for(var h=this||r,f=h._howls.length-1;f>=0;f--)h._howls[f].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||r)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||r;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var f=new Audio;f.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return h}if(!f||typeof f.canPlayType!="function")return h;var m=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=h._navigator?h._navigator.userAgent:"",w=v.match(/OPR\/(\d+)/g),T=w&&parseInt(w[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,b=v.match(/Version\/(.*?) /),S=x&&b&&parseInt(b[1],10)<15;return h._codecs={mp3:!!(!T&&(m||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!m,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||r;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var f=function(m){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,h._releaseHtml5Audio(v)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var T=h._howls[w]._getSoundIds(),x=0;x<T.length;x++){var b=h._howls[w]._soundById(T[x]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}h._autoResume();var S=h.ctx.createBufferSource();S.buffer=h._scratchBuffer,S.connect(h.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),S.onended=function(){S.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<h._howls.length;A++)h._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),h}},_obtainHtml5Audio:function(){var h=this||r;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var f=this||r;return h._unlocked&&f._html5AudioPool.push(h),f},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<h._howls.length;f++)if(h._howls[f]._webAudio){for(var m=0;m<h._howls[f]._sounds.length;m++)if(!h._howls[f]._sounds[m]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var v=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(v,v)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!r.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var f=0;f<h._howls.length;f++)h._howls[f]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var r=new e,n=function(h){var f=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(h)};n.prototype={init:function(h){var f=this;return r.ctx||g(),f._autoplay=h.autoplay||!1,f._format=typeof h.format!="string"?h.format:[h.format],f._html5=h.html5||!1,f._muted=h.mute||!1,f._loop=h.loop||!1,f._pool=h.pool||5,f._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,f._rate=h.rate||1,f._sprite=h.sprite||{},f._src=typeof h.src!="string"?h.src:[h.src],f._volume=h.volume!==void 0?h.volume:1,f._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=h.onend?[{fn:h.onend}]:[],f._onfade=h.onfade?[{fn:h.onfade}]:[],f._onload=h.onload?[{fn:h.onload}]:[],f._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],f._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],f._onpause=h.onpause?[{fn:h.onpause}]:[],f._onplay=h.onplay?[{fn:h.onplay}]:[],f._onstop=h.onstop?[{fn:h.onstop}]:[],f._onmute=h.onmute?[{fn:h.onmute}]:[],f._onvolume=h.onvolume?[{fn:h.onvolume}]:[],f._onrate=h.onrate?[{fn:h.onrate}]:[],f._onseek=h.onseek?[{fn:h.onseek}]:[],f._onunlock=h.onunlock?[{fn:h.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var h=this,f=null;if(r.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var m=0;m<h._src.length;m++){var v,w;if(h._format&&h._format[m])v=h._format[m];else{if(w=h._src[m],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(w),v||(v=/\.([^.]+)$/.exec(w.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&r.codecs(v)){f=h._src[m];break}}if(!f){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=f,h._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new i(h),h._webAudio&&o(h),h},play:function(h,f){var m=this,v=null;if(typeof h=="number")v=h,h=null;else{if(typeof h=="string"&&m._state==="loaded"&&!m._sprite[h])return null;if(typeof h>"u"&&(h="__default",!m._playLock)){for(var w=0,T=0;T<m._sounds.length;T++)m._sounds[T]._paused&&!m._sounds[T]._ended&&(w++,v=m._sounds[T]._id);w===1?h=null:v=null}}var x=v?m._soundById(v):m._inactiveSound();if(!x)return null;if(v&&!h&&(h=x._sprite||"__default"),m._state!=="loaded"){x._sprite=h,x._ended=!1;var b=x._id;return m._queue.push({event:"play",action:function(){m.play(b)}}),b}if(v&&!x._paused)return f||m._loadQueue("play"),x._id;m._webAudio&&r._autoResume();var S=Math.max(0,x._seek>0?x._seek:m._sprite[h][0]/1e3),A=Math.max(0,(m._sprite[h][0]+m._sprite[h][1])/1e3-S),P=A*1e3/Math.abs(x._rate),O=m._sprite[h][0]/1e3,k=(m._sprite[h][0]+m._sprite[h][1])/1e3;x._sprite=h,x._ended=!1;var R=function(){x._paused=!1,x._seek=S,x._start=O,x._stop=k,x._loop=!!(x._loop||m._sprite[h][2])};if(S>=k){m._ended(x);return}var B=x._node;if(m._webAudio){var j=function(){m._playLock=!1,R(),m._refreshBuffer(x);var W=x._muted||m._muted?0:x._volume;B.gain.setValueAtTime(W,r.ctx.currentTime),x._playStart=r.ctx.currentTime,typeof B.bufferSource.start>"u"?x._loop?B.bufferSource.noteGrainOn(0,S,86400):B.bufferSource.noteGrainOn(0,S,A):x._loop?B.bufferSource.start(0,S,86400):B.bufferSource.start(0,S,A),P!==1/0&&(m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),P)),f||setTimeout(function(){m._emit("play",x._id),m._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?j():(m._playLock=!0,m.once("resume",j),m._clearTimer(x._id))}else{var Z=function(){B.currentTime=S,B.muted=x._muted||m._muted||r._muted||B.muted,B.volume=x._volume*r.volume(),B.playbackRate=x._rate;try{var W=B.play();if(W&&typeof Promise<"u"&&(W instanceof Promise||typeof W.then=="function")?(m._playLock=!0,R(),W.then(function(){m._playLock=!1,B._unlocked=!0,f?m._loadQueue():m._emit("play",x._id)}).catch(function(){m._playLock=!1,m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(m._playLock=!1,R(),m._emit("play",x._id)),B.playbackRate=x._rate,B.paused){m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||x._loop?m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),P):(m._endTimers[x._id]=function(){m._ended(x),B.removeEventListener("ended",m._endTimers[x._id],!1)},B.addEventListener("ended",m._endTimers[x._id],!1))}catch(te){m._emit("playerror",x._id,te)}};B.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(B.src=m._src,B.load());var H=window&&window.ejecta||!B.readyState&&r._navigator.isCocoonJS;if(B.readyState>=3||H)Z();else{m._playLock=!0,m._state="loading";var D=function(){m._state="loaded",Z(),B.removeEventListener(r._canPlayEvent,D,!1)};B.addEventListener(r._canPlayEvent,D,!1),m._clearTimer(x._id)}}return x._id},pause:function(h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(h)}}),f;for(var m=f._getSoundIds(h),v=0;v<m.length;v++){f._clearTimer(m[v]);var w=f._soundById(m[v]);if(w&&!w._paused&&(w._seek=f.seek(m[v]),w._rateSeek=0,w._paused=!0,f._stopFade(m[v]),w._node))if(f._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||f._emit("pause",w?w._id:null)}return f},stop:function(h,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"stop",action:function(){m.stop(h)}}),m;for(var v=m._getSoundIds(h),w=0;w<v.length;w++){m._clearTimer(v[w]);var T=m._soundById(v[w]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,m._stopFade(v[w]),T._node&&(m._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),m._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&m._clearSound(T._node))),f||m._emit("stop",T._id))}return m},mute:function(h,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"mute",action:function(){m.mute(h,f)}}),m;if(typeof f>"u")if(typeof h=="boolean")m._muted=h;else return m._muted;for(var v=m._getSoundIds(f),w=0;w<v.length;w++){var T=m._soundById(v[w]);T&&(T._muted=h,T._interval&&m._stopFade(T._id),m._webAudio&&T._node?T._node.gain.setValueAtTime(h?0:T._volume,r.ctx.currentTime):T._node&&(T._node.muted=r._muted?!0:h),m._emit("mute",T._id))}return m},volume:function(){var h=this,f=arguments,m,v;if(f.length===0)return h._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var w=h._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length>=2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m<"u"&&m>=0&&m<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,f)}}),h;typeof v>"u"&&(h._volume=m),v=h._getSoundIds(v);for(var b=0;b<v.length;b++)x=h._soundById(v[b]),x&&(x._volume=m,f[2]||h._stopFade(v[b]),h._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(m,r.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=m*r.volume()),h._emit("volume",x._id))}else return x=v?h._soundById(v):h._sounds[0],x?x._volume:0;return h},fade:function(h,f,m,v){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,f,m,v)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),f=Math.min(Math.max(0,parseFloat(f)),1),m=parseFloat(m),w.volume(h,v);for(var T=w._getSoundIds(v),x=0;x<T.length;x++){var b=w._soundById(T[x]);if(b){if(v||w._stopFade(T[x]),w._webAudio&&!b._muted){var S=r.ctx.currentTime,A=S+m/1e3;b._volume=h,b._node.gain.setValueAtTime(h,S),b._node.gain.linearRampToValueAtTime(f,A)}w._startFadeInterval(b,h,f,m,T[x],typeof v>"u")}}return w},_startFadeInterval:function(h,f,m,v,w,T){var x=this,b=f,S=m-f,A=Math.abs(S/.01),P=Math.max(4,A>0?v/A:v),O=Date.now();h._fadeTo=m,h._interval=setInterval(function(){var k=(Date.now()-O)/v;O=Date.now(),b+=S*k,b=Math.round(b*100)/100,S<0?b=Math.max(m,b):b=Math.min(m,b),x._webAudio?h._volume=b:x.volume(b,h._id,!0),T&&(x._volume=b),(m<f&&b<=m||m>f&&b>=m)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,x.volume(m,h._id),x._emit("fade",h._id))},P)},_stopFade:function(h){var f=this,m=f._soundById(h);return m&&m._interval&&(f._webAudio&&m._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(m._interval),m._interval=null,f.volume(m._fadeTo,h),m._fadeTo=null,f._emit("fade",h)),f},loop:function(){var h=this,f=arguments,m,v,w;if(f.length===0)return h._loop;if(f.length===1)if(typeof f[0]=="boolean")m=f[0],h._loop=m;else return w=h._soundById(parseInt(f[0],10)),w?w._loop:!1;else f.length===2&&(m=f[0],v=parseInt(f[1],10));for(var T=h._getSoundIds(v),x=0;x<T.length;x++)w=h._soundById(T[x]),w&&(w._loop=m,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=m,m&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(T[x])&&(h.pause(T[x],!0),h.play(T[x],!0)))));return h},rate:function(){var h=this,f=arguments,m,v;if(f.length===0)v=h._sounds[0]._id;else if(f.length===1){var w=h._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,f)}}),h;typeof v>"u"&&(h._rate=m),v=h._getSoundIds(v);for(var b=0;b<v.length;b++)if(x=h._soundById(v[b]),x){h.playing(v[b])&&(x._rateSeek=h.seek(v[b]),x._playStart=h._webAudio?r.ctx.currentTime:x._playStart),x._rate=m,h._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(m,r.ctx.currentTime):x._node&&(x._node.playbackRate=m);var S=h.seek(v[b]),A=(h._sprite[x._sprite][0]+h._sprite[x._sprite][1])/1e3-S,P=A*1e3/Math.abs(x._rate);(h._endTimers[v[b]]||!x._paused)&&(h._clearTimer(v[b]),h._endTimers[v[b]]=setTimeout(h._ended.bind(h,x),P)),h._emit("rate",x._id)}}else return x=h._soundById(v),x?x._rate:h._rate;return h},seek:function(){var h=this,f=arguments,m,v;if(f.length===0)h._sounds.length&&(v=h._sounds[0]._id);else if(f.length===1){var w=h._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):h._sounds.length&&(v=h._sounds[0]._id,m=parseFloat(f[0]))}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof m=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,f)}}),h;var x=h._soundById(v);if(x)if(typeof m=="number"&&m>=0){var b=h.playing(v);b&&h.pause(v,!0),x._seek=m,x._ended=!1,h._clearTimer(v),!h._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=m);var S=function(){b&&h.play(v,!0),h._emit("seek",v)};if(b&&!h._webAudio){var A=function(){h._playLock?setTimeout(A,0):S()};setTimeout(A,0)}else S()}else if(h._webAudio){var P=h.playing(v)?r.ctx.currentTime-x._playStart:0,O=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(O+P*Math.abs(x._rate))}else return x._node.currentTime;return h},playing:function(h){var f=this;if(typeof h=="number"){var m=f._soundById(h);return m?!m._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(h){var f=this,m=f._duration,v=f._soundById(h);return v&&(m=f._sprite[v._sprite][1]/1e3),m},state:function(){return this._state},unload:function(){for(var h=this,f=h._sounds,m=0;m<f.length;m++)f[m]._paused||h.stop(f[m]._id),h._webAudio||(h._clearSound(f[m]._node),f[m]._node.removeEventListener("error",f[m]._errorFn,!1),f[m]._node.removeEventListener(r._canPlayEvent,f[m]._loadFn,!1),f[m]._node.removeEventListener("ended",f[m]._endFn,!1),r._releaseHtml5Audio(f[m]._node)),delete f[m]._node,h._clearTimer(f[m]._id);var v=r._howls.indexOf(h);v>=0&&r._howls.splice(v,1);var w=!0;for(m=0;m<r._howls.length;m++)if(r._howls[m]._src===h._src||h._src.indexOf(r._howls[m]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],r.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,f,m,v){var w=this,T=w["_on"+h];return typeof f=="function"&&T.push(v?{id:m,fn:f,once:v}:{id:m,fn:f}),w},off:function(h,f,m){var v=this,w=v["_on"+h],T=0;if(typeof f=="number"&&(m=f,f=null),f||m)for(T=0;T<w.length;T++){var x=m===w[T].id;if(f===w[T].fn&&x||!f&&x){w.splice(T,1);break}}else if(h)v["_on"+h]=[];else{var b=Object.keys(v);for(T=0;T<b.length;T++)b[T].indexOf("_on")===0&&Array.isArray(v[b[T]])&&(v[b[T]]=[])}return v},once:function(h,f,m){var v=this;return v.on(h,f,m,1),v},_emit:function(h,f,m){for(var v=this,w=v["_on"+h],T=w.length-1;T>=0;T--)(!w[T].id||w[T].id===f||h==="load")&&(setTimeout((function(x){x.call(this,f,m)}).bind(v,w[T].fn),0),w[T].once&&v.off(h,w[T].fn,w[T].id));return v._loadQueue(h),v},_loadQueue:function(h){var f=this;if(f._queue.length>0){var m=f._queue[0];m.event===h&&(f._queue.shift(),f._loadQueue()),h||m.action()}return f},_ended:function(h){var f=this,m=h._sprite;if(!f._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(f._ended.bind(f,h),100),f;var v=!!(h._loop||f._sprite[m][2]);if(f._emit("end",h._id),!f._webAudio&&v&&f.stop(h._id,!0).play(h._id),f._webAudio&&v){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=r.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),w)}return f._webAudio&&!v&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),r._autoSuspend()),!f._webAudio&&!v&&f.stop(h._id,!0),f},_clearTimer:function(h){var f=this;if(f._endTimers[h]){if(typeof f._endTimers[h]!="function")clearTimeout(f._endTimers[h]);else{var m=f._soundById(h);m&&m._node&&m._node.removeEventListener("ended",f._endTimers[h],!1)}delete f._endTimers[h]}return f},_soundById:function(h){for(var f=this,m=0;m<f._sounds.length;m++)if(h===f._sounds[m]._id)return f._sounds[m];return null},_inactiveSound:function(){var h=this;h._drain();for(var f=0;f<h._sounds.length;f++)if(h._sounds[f]._ended)return h._sounds[f].reset();return new i(h)},_drain:function(){var h=this,f=h._pool,m=0,v=0;if(!(h._sounds.length<f)){for(v=0;v<h._sounds.length;v++)h._sounds[v]._ended&&m++;for(v=h._sounds.length-1;v>=0;v--){if(m<=f)return;h._sounds[v]._ended&&(h._webAudio&&h._sounds[v]._node&&h._sounds[v]._node.disconnect(0),h._sounds.splice(v,1),m--)}}},_getSoundIds:function(h){var f=this;if(typeof h>"u"){for(var m=[],v=0;v<f._sounds.length;v++)m.push(f._sounds[v]._id);return m}else return[h]},_refreshBuffer:function(h){var f=this;return h._node.bufferSource=r.ctx.createBufferSource(),h._node.bufferSource.buffer=s[f._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,r.ctx.currentTime),f},_cleanBuffer:function(h){var f=this,m=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return f;if(r._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),m))try{h.bufferSource.buffer=r._scratchBuffer}catch{}return h.bufferSource=null,f},_clearSound:function(h){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(h){this._parent=h,this.init()};i.prototype={init:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,f._sounds.push(h),h.create(),h},create:function(){var h=this,f=h._parent,m=r._muted||h._muted||h._parent._muted?0:h._volume;return f._webAudio?(h._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),h._node.gain.setValueAtTime(m,r.ctx.currentTime),h._node.paused=!0,h._node.connect(r.masterGain)):r.noAudio||(h._node=r._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(r._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=f._src,h._node.preload=f._preload===!0?"auto":f._preload,h._node.volume=m*r.volume(),h._node.load()),h},reset:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,f=h._parent;f._duration=Math.ceil(h._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),h._node.removeEventListener(r._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,f=h._parent;f._duration===1/0&&(f._duration=Math.ceil(h._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},o=function(h){var f=h._src;if(s[f]){h._duration=s[f].duration,d(h);return}if(/^data:[^;]+;base64,/.test(f)){for(var m=atob(f.split(",")[1]),v=new Uint8Array(m.length),w=0;w<m.length;++w)v[w]=m.charCodeAt(w);c(v.buffer,h)}else{var T=new XMLHttpRequest;T.open(h._xhr.method,f,!0),T.withCredentials=h._xhr.withCredentials,T.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(x){T.setRequestHeader(x,h._xhr.headers[x])}),T.onload=function(){var x=(T.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}c(T.response,h)},T.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[f],h.load())},l(T)}},l=function(h){try{h.send()}catch{h.onerror()}},c=function(h,f){var m=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(w){w&&f._sounds.length>0?(s[f._src]=w,d(f,w)):m()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(h).then(v).catch(m):r.ctx.decodeAudioData(h,v,m)},d=function(h,f){f&&!h._duration&&(h._duration=f.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),m=f?parseInt(f[1],10):null;if(h&&m&&m<9){var v=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!v&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof di<"u"?(di.HowlerGlobal=e,di.Howler=r,di.Howl=n,di.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,l=typeof l!="number"?d[5]:l,typeof r=="number")c._orientation=[r,n,i,s,o,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(r,n,i,s,o,l);else return d;return c},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),l=0;l<o.length;l++){var c=i._soundById(o[l]);if(c)if(typeof r=="number")c._stereo=r,c._pos=[r,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&e(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(r,0,0):c._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var l=o._getSoundIds(s),c=0;c<l.length;c++){var d=o._soundById(l[c]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var l=o._getSoundIds(s),c=0;c<l.length;c++){var d=o._soundById(l[c]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var l=r._getSoundIds(s),c=0;c<l.length;c++)if(o=r._soundById(l[c]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var g=o._panner;g||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),g=o._panner),g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(G0);function yB(t,e){return`./assets/${t}${e?`?v=${e}`:""}`}function vB(t,e){const r=t.match(/\[(.+)\]/);if(r){let n=r[1].split(",");t=t.replace(r[0],_t.Obj.filterImageFormat(n))}return yB(t,e)}function _B(t,e,r){let n=[];function i(s,o,l={}){mi.add({src:vB(o,e),alias:s,...l})}for(let s of t)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return mi.load(n,r)}function xB(t){return mi.get(t)}function wB(t,e){let r=mi.get(t),n=r.textures[e];if(!n){for(let i of r.linkedSheets)if(n=i.textures[e],n)break}return n}function bB(t){return mi.get(t)}class SB{constructor(){$e(this,"channels",{})}exist(e,r){let n=this.channels[e];return oa(e)&&oa(n[r])}add(e,r,n,i=1,s=!1,o){let l=this.channels[e];Ql(l)&&(l={},this.channels[e]=l),oa(l[r])&&console.warn(`sound "${r}" is existing in channel "${e}"`);let c={channelId:e,name:r,soundId:n,volume:i,softBgm:s,onComplete:o};return l[r]=c,c}getPlaybackBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(r=>r.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(r=>r.name==e)}removeBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n){let s=n[i];e(s)&&(delete n[i],BP(n)&&delete this.channels[r])}}}removeBySoundId(e){return this.removeBy(r=>r.soundId==e)}removeBySoundName(e){return this.removeBy(r=>r.name==e)}getSoundIds(e){const r=[],n=this.channels[e];for(let i in n)r.push(n[i].soundId);return r}}const kd=class kd{constructor(){$e(this,"howlers",{});$e(this,"_muted",!1);$e(this,"_volume",1);$e(this,"bgm");$e(this,"channelManager");$e(this,"_pause");this.channelManager=new SB}static get Obj(){return this._Obj||(this._Obj=new kd),this._Obj}getSoundIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.soundId}getChannelIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.channelId}play(e,r,n=1,i=!1,s,o){let l=this.channelManager.getPlaybackBySoundName(r),c=this.getVolumn(n),d=this.getSoundPlayer(e);if(l&&l.channelId==e)d.stop(l.soundId),d.play(l.soundId),d.volume(c,l.soundId);else{let g=d.play(r);d.volume(c,g),l=this.channelManager.add(e,r,g,n,i,h=>{o&&o(h)})}i&&this.softBgm(!0)}plays(e,r,n=1,i=!1,s){const[o,...l]=r;o?this.play(e,o,n,i,!1,()=>{this.plays(e,l,n,i,s)}):s&&s(o)}playBgm(e,r,n=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(r),o=this.getSoundPlayer(e),l=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(l,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let c=o.play(r);o.volume(l,c),this.channelManager.add(e,r,c,n),this.bgm={soundId:c,channelId:e,name:r,soft:i}}}isReady(e){return oa(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let r=bB(e);if(oa(r)){r.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){let s=this.channelManager.getPlaybackBySoundId(i);s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};let n=new G0.Howl(r);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(let r in this.howlers)if(e)this.howlers[r].pause();else{const n=this.channelManager.getSoundIds(r),i=this.howlers[r];for(let s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,r){let n=this.getSoundIdBySoundName(r);n&&this.getSoundPlayer(e).pause(n)}stop(e,r){let n=this.getSoundIdBySoundName(r);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,r){r.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){let r=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(r){let n=this.getVolumn(e?this.bgm.soft:1,r.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,r.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,r,n){let i=this.getSoundIdBySoundName(r);if(i){const s=this.channelManager.getPlaybackBySoundId(i);s.volume=n,this.getSoundPlayer(e).volume(n)}}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let r in this.channelManager.channels){let n=this.channelManager.channels[r],i=this.getSoundPlayer(r);for(let s in n){let o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,G0.Howler.mute(e)}};$e(kd,"_Obj");let wu=kd;const EB=document.querySelector("html"),TB="resize",AB=()=>{const t=Kr.useApp(),{state:e,dispatch:r}=re.useContext(_i),n=_t.Obj,[i,s]=re.useState([0,0]),o=re.useMemo(()=>document.getElementById("App"),[]),[l,c]=re.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]),d=()=>{_t.Obj.updateOrientation();const h=n.orientation;let{displayArea:f,safeArea:m}=n.layoutOptions;const[v,w,T,x]=f,b=x/T;m=m||[0,0,T,x];const[S,A,P,O]=m,k=O/P,R=document.documentElement.clientWidth,B=document.documentElement.clientHeight,j=B/R;let Z,H,D,W,te,ae,ne;h=="l"?j<=k?(H=B*(x/O),Z=H/b,H=Math.min(x,H),Z=Math.min(T,Z),ne=B,ae=Z):(R<=P?Z=R*(T/P):R<=T?Z=T:Z=R,H=Z*b,H=Math.min(x,H),Z=Math.min(T,Z),ne=H,ae=R):j>=k?(Z=R*(T/P),H=Z*b,H=Math.min(x,H),Z=Math.min(T,Z),ae=R,ne=H):(B<=O?H=B*(x/O):B<=x?H=x:H=B,Z=H/b,H=Math.min(x,H),Z=Math.min(T,Z),ae=Z,ne=B),te=Z/T,W=(R-Z)/2,D=(B-H)/2;const M=Math.round(Math.min(W,0)),$=Math.round(Math.min(D,0));t.stage.scale.set(te),t.renderer.resize(Z,H),t.view.style.top=`${$}px`,t.view.style.left=`${M}px`;const F=Math.round(Math.min(R,ae,Z)),U=Math.round(Math.min(B,ne,H)),Q=Math.round(Math.max(0,D)),we=Math.round(Math.max(0,W));o.style.width=`${F}px`,o.style.height=`${U}px`,o.style.top=`${Q}px`,o.style.left=`${we}px`;let xe=0;h=="l"?xe=Math.max(12,20*(document.documentElement.clientWidth-we*2)/960):xe=Math.max(12,20*F/540),EB.style.fontSize=`${xe}px`,e.sceneManager.orientation!=h&&r(fB(h)),_t.Obj.updateViewport(M/te,$/te,Math.round(F/te),Math.round(U/te)),n.notice.emit(TB)};function g(){document[l]?(wu.Obj.pauses(!0),t.ticker.stop()):(wu.Obj.pauses(!1),t.ticker.start())}return Kr.useTick((h,f)=>((i[0]!=document.documentElement.clientWidth||i[1]!=document.documentElement.clientHeight)&&(d(),s([document.documentElement.clientWidth,document.documentElement.clientHeight])),document.addEventListener(c,g),()=>{document.removeEventListener(c,g)}),!0),le(Na,{})},CB=()=>{const{state:t}=re.useContext(_i),{soundOn:e}=t.sceneManager;return re.useEffect(()=>{wu.Obj.muted=!e},[e]),le(Na,{})},PB=({children:t,Context:e,render:r})=>le(e.Consumer,{children:n=>r(Gt(e.Provider,{value:n,children:[le(eI,{}),le(MB,{}),le(AB,{}),le(CB,{}),t]}))}),IB=pB(),RB=gB(),kB=({children:t,maxResolution:e=1,...r})=>{const[n,i]=re.useReducer(IB,RB);let[s,...o]=re.Children.map(t,c=>c),l=pn.any?window.devicePixelRatio:1;return l=Math.min(l>=2?2:l,e),Gt(_i.Provider,{value:{state:n,dispatch:i},children:[le(PB,{Context:_i,render:c=>le(Kr.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:l,antialias:!0,autoDensity:!0},...r,children:c}),children:s}),le(_i.Consumer,{children:({state:c})=>c.sceneManager.scenes[0]=="preload"?le(Na,{}):o})]})};function MB(){const t=_t.Obj;return Kr.useTick((e,r)=>{nB(t.tweenTime),t.tweenTime+=r.elapsedMS},!0),le(Na,{})}const OB=({children:t})=>{const{state:e}=re.useContext(_i),{scenes:r}=e.sceneManager;return re.useMemo(()=>{let i=[];return re.Children.forEach(t,s=>{r.indexOf(s.props.id)!=-1&&i.push(s)}),i},[r])};function NB(t,e=[]){const{state:r}=re.useContext(_i),n=r.sceneManager.orientation;return aE(t,`${n}-`)}function FB(t,e,r,n=[]){const[i,s]=re.useState(!1),[o,l]=re.useState(0);re.useEffect(()=>{r&&(s(!0),l(_t.Obj.tweenTime))},n),re.useEffect(()=>{r?(s(!0),l(_t.Obj.tweenTime)):s(!1)},[r]),Kr.useTick(()=>{_t.Obj.tweenTime-o>e&&(t(),s(!1))},i)}const Xn=re.forwardRef(({hitFrame:t,children:e,...r},n)=>{const i=re.useMemo(()=>t?new Se(...t):null,[]);return le(Kr.Container,{hitArea:i,...r,ref:n,children:e})}),DB=({children:t})=>NB(t),GA=t=>{const{children:e,...r}=t,{l:n,p:i}=_t.Obj.configOptions.layoutMap,s=re.useMemo(()=>!!(n&&i),[]),[o,l,c,d]=re.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const g=n??i;return[-g.displayArea[0],-g.displayArea[1],0,0]}},[]);return le(Xn,{...r,children:s?le(DB,{children:le(Xn,{"l-x":o,"l-y":l,"p-x":c,"p-y":d,children:e})}):le(Xn,{x:o,y:l,children:e})})},LB=({assets:t,next:e,...r})=>{const n=_t.Obj.configOptions.assetVersion,{dispatch:i}=re.useContext(_i),{current:s}=re.useRef({loaded:!1,loggingIn:!1});return re.useEffect(()=>{i(nb(0)),_B(t,n,o=>{i(nb(Math.floor(o*100)))}).then(()=>{s.loaded=!0,i(dB(e))})},[]),le(GA,{...r})},zA="components";function BB(t){return re.forwardRef(({res:e=t,name:r,...n},i)=>{const s=re.useMemo(()=>wB(e,r),[r]);return le(Kr.Sprite,{ref:i,texture:s,...n})})}const Ma=BB(zA),UB=re.forwardRef(({name:t,...e},r)=>{const n=re.useMemo(()=>xB(t),[t]);return le(Kr.Sprite,{ref:r,texture:n,...e})}),HA="bg";function GB(){return _t.Obj.urlOptions.lang,[{id:HA,src:"compress/bg@2x.[webp,avif,jpg]"},{id:zA,src:"compress/components@2x.[webp,avif,png].json"}]}const zB=({...t})=>{const e=re.useMemo(()=>GB(),[]);return le(LB,{assets:e,...t})},$A=re.forwardRef(({children:t,enable:e=!0,...r},n)=>le(Xn,{cursor:"pointer",interactive:e,...r,ref:n,children:t})),jA="showRegister",WA="hideRegister";function HB(){const t=re.useRef(null),e=re.useRef(null),[r,n]=re.useState(!1),[i,s]=re.useState(!1);function o(){}function l(){_t.Obj.notice.emit(WA)}function c(g){}function d(g){}return re.useEffect(()=>{_t.Obj.notice.on(jA,g=>{s(g)})},[]),re.useEffect(()=>{i&&(t.current.value="",e.current.value="",n(!1))},[i]),le("div",{className:"page-mod",style:{display:i?"block":"none",backgroundColor:"rgba(0,0,0,0.5)"},children:Gt("div",{className:`content ${i?"tween-in":"tween-out"}`,children:[le("div",{className:"head",children:"REGISTER"}),Gt("div",{className:"body",children:[Gt("div",{className:"item",children:[le("div",{className:"description",children:"username"}),le("input",{ref:t,onChange:c,placeholder:"please input username",maxLength:25})]}),Gt("div",{className:"item",children:[le("div",{className:"description",children:"password"}),Gt("div",{style:{position:"relative"},children:[le("input",{ref:e,onChange:d,placeholder:"please input password",maxLength:25,type:r?"text":"password"}),Gt("div",{className:"eye-icon",children:[le("svg",{style:{display:r?"inline-block":"none"},onClick:n.bind(null,!1),fill:"#000000",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 519.578 519.578",children:le("g",{children:Gt("g",{children:[le("path",{d:`M513.095,245.101c0,0-140.683-139.842-253.291-139.842c-112.608,0-253.292,139.842-253.292,139.842
			c-8.645,8.109-8.721,21.42,0,29.375c0,0,140.684,139.843,253.292,139.843c112.608,0,253.291-139.843,253.291-139.843
			C521.663,266.368,521.816,253.134,513.095,245.101z M260.875,372.397c-61.889,0-112.149-50.185-112.149-112.149
			s50.184-112.149,112.149-112.149c61.965,0,112.148,50.26,112.148,112.149S322.763,372.397,260.875,372.397z`}),le("path",{d:`M259.574,187.726c-39.321,0-71.222,32.053-71.222,71.451c0,39.397,31.901,71.451,71.222,71.451
			c39.321,0,71.222-32.054,71.222-71.451C330.796,219.78,298.896,187.726,259.574,187.726z M286.426,259.407
			c-12.163,0-22.108-9.946-22.108-22.262s9.945-22.261,22.108-22.261s22.108,9.945,22.108,22.261S298.742,259.407,286.426,259.407z`})]})})}),Gt("svg",{style:{display:r?"none":"inline-block"},onClick:n.bind(null,!0),width:"2rem",height:"2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[le("path",{d:"M2 2L22 22",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),le("path",{d:"M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),le("path",{d:"M14 14.2362C13.4692 14.7112 12.7684 15.0001 12 15.0001C10.3431 15.0001 9 13.657 9 12.0001C9 11.1764 9.33193 10.4303 9.86932 9.88818",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})]})]}),le("div",{className:"foot",children:le("div",{className:"btn-mod register-btn",onClick:o,children:" Register"})}),le("div",{className:"btn-mod close-icon",onClick:l})]})})}const $B=({children:t})=>{const[e,r]=re.useState("idle"),[n,i]=re.useState(!1),[s,o]=re.useState(!1),[l,c]=re.useState(0),[d,g]=re.useState(!1),h=e=="respin";function f(w,T){if(w=="idle"){const x=setTimeout(()=>{clearTimeout(x),r(w),c(T),i(!0),g(!0)},300)}else d?o(!0):r(w)}FB(()=>{r("spinning")},300,h),re.useEffect(()=>{_t.Obj.notice.emit(jA,s)},[s]),re.useEffect(()=>{_t.Obj.notice.on(WA,()=>{o(!1)})},[]);function m(...w){}const v={spined:d,spinStatus:e,onSpinStatus:f,win:l,showWin:n,showRegister:s,setShowWin:i,onRegister:m};return re.cloneElement(t,{dataSource:v})};function jB({children:t,...e}){return t(e)}const ib={defaultUp:(t,e,r)=>1/2*e*r*r+t*r,up:(t,e,r,n)=>{r=r/1e3,n=n/1e3;const i=(e-t)/r;return t*n+i*n*n/2},down:(t,e,r,n)=>{r=r/1e3,n=n/1e3;const i=(t-e)/r;return t*n-i*n*n/2}};function WB({...t}){const{startSpeed:e=0,endSpeed:r=0,speed:n=24,accTime:i,decTime:s,result:o=0,accEasing:l=xa.Linear.None,decEasing:c=xa.Linear.None}=t,{children:d,cellCount:g,playing:h,onEnd:f}=t,{current:m}=re.useRef({k:0,spinTime:0,stopingTime:0,resultK:0}),[v,w]=re.useState(!1);function T(O){return ib.up(e,n,i,O)}function x(O){return ib.down(n,r,s,O)}const b=T(i),S=x(s);re.useMemo(()=>{if(m.spinTime=0,h){let k=b+(500+Math.random()*1e3)/1e3*n+Math.max(g,S);k=Math.round(Math.ceil(k/g)*g)+o+Math.random(),console.log(k);const R=(k+m.k)%1;R<.05&&(k+=.05),R>.95&&(k-=.05),m.resultK=k,m.stopingTime=i+(k-S-b)/n*1e3}else m.k=(m.resultK+m.k)%g,m.resultK=0},[h]),Kr.useTick((O,k)=>{m.spinTime+=k.elapsedMS,m.spinTime>=m.stopingTime+s?f(Math.floor((m.k+m.resultK)%g)):w(!v)},h);const[A,P]=re.useMemo(()=>{let O,k=!1,R=m.spinTime;if(R<=i)O=T(l(R/i)*i);else if(!stop||R<=m.stopingTime)O=b+(R-i)/1e3*n,k=!0;else if(R>=m.stopingTime+s)O=m.resultK;else{const B=R-m.stopingTime;O=b+(m.stopingTime-i)/1e3*n+x(c(B/s)*s)}return[O,k]},[m.spinTime,h]);return d(A+m.k,P)}const Md=class Md{constructor(){$e(this,"keys",[]);$e(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new Md),this._Obj}onKeyDownHandler(e){if(e&&e.key){let r=e.key.toLowerCase();this.keys.indexOf(r)==-1&&this.keys.push(r)}}onKeyUpHandler(e){if(e&&e.key){let r=e.key.toLowerCase(),n=this.keys.indexOf(r);if(n>-1){let i=`onKey${r==" "?"Space":r}`;const s=this.keysChangedFCMap[i];for(let o of s||[])o();this.keys.splice(n,1)}}}setKeysFCMap(e,r){const n=this.keysChangedFCMap[e];n?n.push(r):this.keysChangedFCMap[e]=[r]}removeFc(e,r){const n=this.keysChangedFCMap[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}};$e(Md,"_Obj");let z0=Md;function VB({enable:t=!0,...e}){return re.useEffect(()=>{let r=z0.Obj;const n=[];if(t){for(let i in e)i.match(/onKey[A-Z]\w+/)&&n.push(i);for(let i of n)r.setKeysFCMap(i,e[i]);return()=>{for(let i of n)r.removeFc(i,e[i])}}},[e]),le(Na,{})}const XB=({frame:t=[0,0,100,100],color:e,radius:r,...n},i)=>{const s=re.useCallback(o=>{o.clear(),o.beginFill(e),r?o.drawRoundedRect(...t,r):o.drawRect(...t),o.endFill()},[...t,e,r]);return le(Kr.Graphics,{ref:i,draw:s,...n})},YB=re.forwardRef(XB),sb=re.forwardRef(({style:t,maxScaleLength:e,...r},n)=>{const i=re.useRef(),s=re.useMemo(()=>t instanceof Qn?t:new Qn(t),[]);return re.useEffect(()=>{if(e&&i.current){const o=setTimeout(()=>{const l=i.current.width,c=i.current.scale.x,d=e/l*c,g=c>0?1:-1,h=i.current.scale.y>0?1:-1;d<1?i.current.scale.set(d*g,d*h):i.current.scale.x!=1&&i.current.scale.set(1*g,1*h),clearTimeout(o)},1)}},[r.text]),re.useImperativeHandle(n,()=>i.current,[i]),le(Kr.Text,{ref:i,...r,style:s})});re.forwardRef(({maxScaleLength:t,...e},r)=>{const n=re.useRef();return re.useEffect(()=>{if(t&&n.current){const i=setTimeout(()=>{const s=n.current.width,o=n.current.scale.x,l=t/s*o,c=o>0?1:-1,d=n.current.scale.y>0?1:-1;l<1?n.current.scale.set(l*c,l*d):n.current.scale.x!=1&&n.current.scale.set(1*c,1*d),clearTimeout(i)},1)}},[e.text]),re.useImperativeHandle(r,()=>n.current,[n]),le(Kr.BitmapText,{ref:n,...e})});const H0=re.forwardRef(({dep:t=[],children:e,id:r,from:n={},to:i={},playing:s=!1,duration:o,yoyo:l,repeat:c,repeatDelay:d,delay:g=0,easing:h=x=>x,onStart:f,onComplete:m,onRepeat:v,onUpdate:w},T)=>{var P,O;const[x,b]=re.useState(!1),{current:S}=re.useRef({tween:null});function A(){var k;(k=S.tween)==null||k.stop(),S.tween=null}return re.useMemo(()=>{A(),s&&(S.tween=new rB({...n}).to({...i},o).repeat(c).repeatDelay(d).delay(g).yoyo(l).start(_t.Obj.tweenTime))},[s,...t]),re.useMemo(()=>{var k;(k=S.tween)==null||k.repeat(c)},[c]),(P=S.tween)==null||P.easing(h).onStart(f).onUpdate((k,R)=>{w&&w(k,R),b(!x)}).onRepeat(v).onComplete(m),re.useImperativeHandle(T,()=>({get repeated(){return S.tween._initialRepeat-S.tween._repeat},get repeat(){return S.tween._repeat}})),re.useEffect(()=>{},[s,...t]),e(S.tween?S.tween._object:n,((O=S.tween)==null?void 0:O.isPlaying())||!1)}),QB=({...t})=>le($B,{children:le(jB,{children:({dataSource:e})=>Gt(GA,{children:[le(UB,{name:HA}),le(KB,{x:270,y:713,dataSource:e}),le(Ma,{x:270,y:468,anchor:[.5,0],name:"pin.png"}),le(qB,{x:270,y:716,dataSource:e}),le(Ma,{name:"fg.png"}),le(ZB,{dataSource:e,x:270,y:815})]})})});function qB({dataSource:t,...e}){const{spinStatus:r,onSpinStatus:n,showRegister:i,showWin:s,spined:o}=t,c=r==="idle"&&!i&&!s;function d(){c&&n("spinning")}return Gt(Xn,{...e,children:[le(VB,{onKeySpace:d,enable:c}),le(H0,{from:{k:0},to:{k:1},duration:2e3,playing:!1,repeat:Number.MAX_VALUE,children:({k:g})=>le($A,{onpointerup:d,scale:1+Math.sin(Math.PI*2*g)*.05,children:le(Ma,{name:"spin.png",anchor:.5,alpha:1})})})]})}function KB({dataSource:t,...e}){const{spinStatus:r,onSpinStatus:n}=t;return le(Xn,{...e,children:le(WB,{playing:r==="spinning",startSpeed:-3,endSpeed:0,speed:13,accTime:800,decTime:500,cellCount:6,result:4,onEnd:n.bind(null,"idle"),children:(s,o)=>{const l=Math.PI/3*s;return le(Ma,{name:"wheel.png",scale:1,anchor:.5,rotation:l})}})})}function ZB({dataSource:t,...e}){let{showWin:r,setShowWin:n,onSpinStatus:i,win:s}=t;return Gt(Xn,{visible:r,children:[le(YB,{frame:[0,0,720,1280],alpha:.5}),le(H0,{from:{k:0},to:{k:1},duration:200,playing:r,children:({k:o})=>Gt(Xn,{...e,scale:.8+o*.2,alpha:.5+.5*o,children:[le(Ma,{name:"winPanel.png",anchor:.5}),le(sb,{x:0,y:3,text:s==1?`CONGRAT!
You Get A Free Bonus.`:`CONGRAT!
Claim ${["20P","FREE SPIN","588P","388P","777P","88P"][s]} Bonus Now`,anchor:.5,style:{align:"center",fill:"#FFFFFF",fontSize:26,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),le(Xn,{y:47,children:le(H0,{from:{k:0},to:{k:1},duration:2e3,playing:r,repeat:Number.MAX_VALUE,children:({k:l})=>Gt($A,{anchor:.5,scale:1+Math.sin(Math.PI*2*l)*.05,x:0,y:-160,onpointerup:i.bind(null,"spinning"),children:[le(Ma,{name:"ok_btn.png",anchor:.5}),le(sb,{y:-5,text:"REGISTER & CLAIM",anchor:.5,style:{align:"center",fill:"#FFFFFF",fontSize:17,fontWeight:"bold",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})})})]})})]})}const JB=()=>Gt(kB,{id:"game-canvas",className:"game-context-mod",children:[le(Xn,{children:Gt(OB,{children:[le(zB,{id:"preload",next:"main"}),le(QB,{id:"main"})]})}),le(HB,{})]});$D(le(JB,{}))});export default e4();
