var ZC=Object.defineProperty;var JC=(r,e,t)=>e in r?ZC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var eP=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var rt=(r,e,t)=>(JC(r,typeof e!="symbol"?e+"":e,t),t);var bB=eP((SB,nf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function qw(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Kw={exports:{}},Cd={},Zw={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),tP=Symbol.for("react.portal"),rP=Symbol.for("react.fragment"),nP=Symbol.for("react.strict_mode"),iP=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),oP=Symbol.for("react.context"),aP=Symbol.for("react.forward_ref"),lP=Symbol.for("react.suspense"),uP=Symbol.for("react.memo"),hP=Symbol.for("react.lazy"),G_=Symbol.iterator;function cP(r){return r===null||typeof r!="object"?null:(r=G_&&r[G_]||r["@@iterator"],typeof r=="function"?r:null)}var Jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eb=Object.assign,tb={};function Ca(r,e,t){this.props=r,this.context=e,this.refs=tb,this.updater=t||Jw}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Ca.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function rb(){}rb.prototype=Ca.prototype;function Ny(r,e,t){this.props=r,this.context=e,this.refs=tb,this.updater=t||Jw}var Dy=Ny.prototype=new rb;Dy.constructor=Ny;eb(Dy,Ca.prototype);Dy.isPureReactComponent=!0;var z_=Array.isArray,nb=Object.prototype.hasOwnProperty,Fy={current:null},ib={key:!0,ref:!0,__self:!0,__source:!0};function sb(r,e,t){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nb.call(e,n)&&!ib.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var h=Array(l),d=0;d<l;d++)h[d]=arguments[d+2];i.children=h}if(r&&r.defaultProps)for(n in l=r.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:gu,type:r,key:s,ref:o,props:i,_owner:Fy.current}}function dP(r,e){return{$$typeof:gu,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Ly(r){return typeof r=="object"&&r!==null&&r.$$typeof===gu}function fP(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var H_=/\/+/g;function wp(r,e){return typeof r=="object"&&r!==null&&r.key!=null?fP(""+r.key):e.toString(36)}function lc(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case gu:case tP:o=!0}}if(o)return o=r,i=i(o),r=n===""?"."+wp(o,0):n,z_(i)?(t="",r!=null&&(t=r.replace(H_,"$&/")+"/"),lc(i,e,t,"",function(d){return d})):i!=null&&(Ly(i)&&(i=dP(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(H_,"$&/")+"/")+r)),e.push(i)),1;if(o=0,n=n===""?".":n+":",z_(r))for(var l=0;l<r.length;l++){s=r[l];var h=n+wp(s,l);o+=lc(s,e,t,h,i)}else if(h=cP(r),typeof h=="function")for(r=h.call(r),l=0;!(s=r.next()).done;)s=s.value,h=n+wp(s,l++),o+=lc(s,e,t,h,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(r,e,t){if(r==null)return r;var n=[],i=0;return lc(r,n,"","",function(s){return e.call(t,s,i++)}),n}function pP(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var ir={current:null},uc={transition:null},mP={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:uc,ReactCurrentOwner:Fy};Ie.Children={map:gh,forEach:function(r,e,t){gh(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return gh(r,function(){e++}),e},toArray:function(r){return gh(r,function(e){return e})||[]},only:function(r){if(!Ly(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ie.Component=Ca;Ie.Fragment=rP;Ie.Profiler=iP;Ie.PureComponent=Ny;Ie.StrictMode=nP;Ie.Suspense=lP;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mP;Ie.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=eb({},r.props),i=r.key,s=r.ref,o=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fy.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(h in e)nb.call(e,h)&&!ib.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&l!==void 0?l[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=t;else if(1<h){l=Array(h);for(var d=0;d<h;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:gu,type:r.type,key:i,ref:s,props:n,_owner:o}};Ie.createContext=function(r){return r={$$typeof:oP,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:sP,_context:r},r.Consumer=r};Ie.createElement=sb;Ie.createFactory=function(r){var e=sb.bind(null,r);return e.type=r,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(r){return{$$typeof:aP,render:r}};Ie.isValidElement=Ly;Ie.lazy=function(r){return{$$typeof:hP,_payload:{_status:-1,_result:r},_init:pP}};Ie.memo=function(r,e){return{$$typeof:uP,type:r,compare:e===void 0?null:e}};Ie.startTransition=function(r){var e=uc.transition;uc.transition={};try{r()}finally{uc.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(r,e){return ir.current.useCallback(r,e)};Ie.useContext=function(r){return ir.current.useContext(r)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(r){return ir.current.useDeferredValue(r)};Ie.useEffect=function(r,e){return ir.current.useEffect(r,e)};Ie.useId=function(){return ir.current.useId()};Ie.useImperativeHandle=function(r,e,t){return ir.current.useImperativeHandle(r,e,t)};Ie.useInsertionEffect=function(r,e){return ir.current.useInsertionEffect(r,e)};Ie.useLayoutEffect=function(r,e){return ir.current.useLayoutEffect(r,e)};Ie.useMemo=function(r,e){return ir.current.useMemo(r,e)};Ie.useReducer=function(r,e,t){return ir.current.useReducer(r,e,t)};Ie.useRef=function(r){return ir.current.useRef(r)};Ie.useState=function(r){return ir.current.useState(r)};Ie.useSyncExternalStore=function(r,e,t){return ir.current.useSyncExternalStore(r,e,t)};Ie.useTransition=function(){return ir.current.useTransition()};Ie.version="18.2.0";Zw.exports=Ie;var Pe=Zw.exports;const fi=mu(Pe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=Pe,yP=Symbol.for("react.element"),vP=Symbol.for("react.fragment"),_P=Object.prototype.hasOwnProperty,xP=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wP={key:!0,ref:!0,__self:!0,__source:!0};function ob(r,e,t){var n,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)_P.call(e,n)&&!wP.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yP,type:r,key:s,ref:o,props:i,_owner:xP.current}}Cd.Fragment=vP;Cd.jsx=ob;Cd.jsxs=ob;Kw.exports=Cd;var By=Kw.exports;const yu=By.Fragment,Ge=By.jsx,Uy=By.jsxs;function ra(r){return r!=null}function zl(r){return r==null}function bP(r){return Object.keys(r).length===0&&r.constructor===Object}function EP(...r){let e={};for(let t=0;t<r.length;t++){let n=r[t];if(n!=null)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const Sd=class Sd{constructor(){rt(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new Sd),this._Obj}map(e,t){let n=new IP(e,t);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...t){let n=this.mappings[e];if(!zl(n))return n.get(t)}resolve(){console.warn("Injector.resolve() is not implement yet")}};rt(Sd,"_Obj");let Fm=Sd;class SP{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class TP{constructor(e){this.type=e}get(e){return ab(this.type,e)}destroy(){this.type=void 0}}class AP{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class CP{constructor(e){rt(this,"instance");this.type=e}get(e){return zl(this.instance)&&(this.instance=ab(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class PP{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class IP{constructor(e,t){rt(this,"provider");this.name=e,this.type=t}get(e){return zl(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new SP(e)}toType(e){this.destroy(),this.provider=new TP(e)}toSingleton(e){this.destroy(),this.provider=new CP(e)}asSingleton(){if(this.destroy(),zl(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new PP(e)}toFunction(e){this.destroy(),this.provider=new AP(e)}destroy(){ra(this.provider)&&this.provider.destroy()}}function ab(r,e){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const vu=Fm.Obj;function RP(r){return vu.get(`action_fc:${r}`)}function kP(r,e){vu.map(`action_init:${r}`).toValue(e)}function lb(r){return vu.get(`action_init:${r}`)}const ub="apiService";function MP(r){return vu.map(ub).toSingleton(r)}function OP(){return vu.get(ub)}const NP="roulette",DP=1702568976007,FP={title:NP,assetVersion:DP},pi=Pe.createContext({});class LP{constructor(){rt(this,"_dispatch")}get domain(){return""}setDispatch(e){this._dispatch=e}request(e,t="GET",n="json",i=null){return new Promise((s,o)=>{fetch(e,{method:t}).then(l=>{l.status==200?l[n]().then(d=>{s(d)}).catch(()=>{o()}):s(null)}).catch(l=>{o()})})}}function BP(){const{state:r,dispatch:e}=Pe.useContext(pi);return Pe.useEffect(()=>{OP().setDispatch(e)},[]),Ge(yu,{})}const UP={title:"roulette",layoutMap:{l:{safeArea:[35,220,1170,658.125],displayArea:[0,0,1170,1170]},p:{safeArea:[315,120,540,960],displayArea:[0,0,1170,1170]}}};kP("gameconfig",Object.assign(UP,FP));MP(LP);var hb={exports:{}},Pr={},cb={exports:{}},db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(M,$){var D=M.length;M.push($);e:for(;0<D;){var B=D-1>>>1,q=M[B];if(0<i(q,$))M[B]=$,M[D]=q,D=B;else break e}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],D=M.pop();if(D!==$){M[0]=D;e:for(var B=0,q=M.length,we=q>>>1;B<we;){var ve=2*(B+1)-1,Fe=M[ve],Ee=ve+1,De=M[Ee];if(0>i(Fe,D))Ee<q&&0>i(De,Fe)?(M[B]=De,M[Ee]=D,B=Ee):(M[B]=Fe,M[ve]=D,B=ve);else if(Ee<q&&0>i(De,D))M[B]=De,M[Ee]=D,B=Ee;else break e}}return $}function i(M,$){var D=M.sortIndex-$.sortIndex;return D!==0?D:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var h=[],d=[],g=1,c=null,f=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var $=t(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=M)n(d),$.sortIndex=$.expirationTime,e(h,$);else break;$=t(d)}}function A(M){if(w=!1,S(M),!v)if(t(h)!==null)v=!0,oe(P);else{var $=t(d);$!==null&&ie(A,$.startTime-M)}}function P(M,$){v=!1,w&&(w=!1,x(R),R=-1),m=!0;var D=f;try{for(S($),c=t(h);c!==null&&(!(c.expirationTime>$)||M&&!re());){var B=c.callback;if(typeof B=="function"){c.callback=null,f=c.priorityLevel;var q=B(c.expirationTime<=$);$=r.unstable_now(),typeof q=="function"?c.callback=q:c===t(h)&&n(h),S($)}else n(h);c=t(h)}if(c!==null)var we=!0;else{var ve=t(d);ve!==null&&ie(A,ve.startTime-$),we=!1}return we}finally{c=null,f=D,m=!1}}var L=!1,k=null,R=-1,U=5,H=-1;function re(){return!(r.unstable_now()-H<U)}function Y(){if(k!==null){var M=r.unstable_now();H=M;var $=!0;try{$=k(!0,M)}finally{$?N():(L=!1,k=null)}}else L=!1}var N;if(typeof E=="function")N=function(){E(Y)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ee=j.port2;j.port1.onmessage=Y,N=function(){ee.postMessage(null)}}else N=function(){T(Y,0)};function oe(M){k=M,L||(L=!0,N())}function ie(M,$){R=T(function(){M(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){v||m||(v=!0,oe(P))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var D=f;f=$;try{return M()}finally{f=D}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=f;f=M;try{return $()}finally{f=D}},r.unstable_scheduleCallback=function(M,$,D){var B=r.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=D+q,M={id:g++,callback:$,priorityLevel:M,startTime:D,expirationTime:q,sortIndex:-1},D>B?(M.sortIndex=D,e(d,M),t(h)===null&&M===t(d)&&(w?(x(R),R=-1):w=!0,ie(A,D-B))):(M.sortIndex=q,e(h,M),v||m||(v=!0,oe(P))),M},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(M){var $=f;return function(){var D=f;f=$;try{return M.apply(this,arguments)}finally{f=D}}}})(db);cb.exports=db;var GP=cb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=Pe,Cr=GP;function K(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pb=new Set,Hl={};function so(r,e){ga(r,e),ga(r+"Capture",e)}function ga(r,e){for(Hl[r]=e,r=0;r<e.length;r++)pb.add(e[r])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,zP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$_={},j_={};function HP(r){return Lm.call(j_,r)?!0:Lm.call($_,r)?!1:zP.test(r)?j_[r]=!0:($_[r]=!0,!1)}function $P(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function jP(r,e,t,n){if(e===null||typeof e>"u"||$P(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(r,e,t,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){zt[r]=new sr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];zt[e]=new sr(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){zt[r]=new sr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){zt[r]=new sr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){zt[r]=new sr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){zt[r]=new sr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){zt[r]=new sr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){zt[r]=new sr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){zt[r]=new sr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Gy=/[\-:]([a-z])/g;function zy(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Gy,zy);zt[e]=new sr(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Gy,zy);zt[e]=new sr(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Gy,zy);zt[e]=new sr(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){zt[r]=new sr(r,1,!1,r.toLowerCase(),null,!1,!1)});zt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){zt[r]=new sr(r,1,!1,r.toLowerCase(),null,!0,!0)});function Hy(r,e,t,n){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jP(e,t,i,n)&&(t=null),n||i===null?HP(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Si=fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Vy=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),yb=Symbol.for("react.offscreen"),V_=Symbol.iterator;function Ja(r){return r===null||typeof r!="object"?null:(r=V_&&r[V_]||r["@@iterator"],typeof r=="function"?r:null)}var at=Object.assign,bp;function fl(r){if(bp===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bp=e&&e[1]||""}return`
`+bp+r}var Ep=!1;function Sp(r,e){if(!r||Ep)return"";Ep=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(r,[],e)}else{try{e.call()}catch(d){n=d}r.call(e.prototype)}else{try{throw Error()}catch(d){n=d}r()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var h=`
`+i[o].replace(" at new "," at ");return r.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",r.displayName)),h}while(1<=o&&0<=l);break}}}finally{Ep=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?fl(r):""}function VP(r){switch(r.tag){case 5:return fl(r.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return r=Sp(r.type,!1),r;case 11:return r=Sp(r.type.render,!1),r;case 1:return r=Sp(r.type,!0),r;default:return""}}function zm(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Ho:return"Fragment";case zo:return"Portal";case Bm:return"Profiler";case $y:return"StrictMode";case Um:return"Suspense";case Gm:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case gb:return(r.displayName||"Context")+".Consumer";case mb:return(r._context.displayName||"Context")+".Provider";case jy:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Vy:return e=r.displayName||null,e!==null?e:zm(r.type)||"Memo";case Gi:e=r._payload,r=r._init;try{return zm(r(e))}catch{}}return null}function WP(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zm(e);case 8:return e===$y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vb(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XP(r){var e=vb(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function vh(r){r._valueTracker||(r._valueTracker=XP(r))}function _b(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=vb(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Mc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Hm(r,e){var t=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function W_(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=as(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xb(r,e){e=e.checked,e!=null&&Hy(r,"checked",e,!1)}function $m(r,e){xb(r,e);var t=as(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?jm(r,e.type,t):e.hasOwnProperty("defaultValue")&&jm(r,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function X_(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function jm(r,e,t){(e!=="number"||Mc(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var pl=Array.isArray;function na(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+as(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function Vm(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Y_(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(K(92));if(pl(t)){if(1<t.length)throw Error(K(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:as(t)}}function wb(r,e){var t=as(e.value),n=as(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function Q_(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function bb(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?bb(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _h,Eb=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function $l(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YP=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(r){YP.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Al[e]=Al[r]})});function Sb(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Al.hasOwnProperty(r)&&Al[r]?(""+e).trim():e+"px"}function Tb(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=Sb(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var QP=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(r,e){if(e){if(QP[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ym(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qm=null;function Wy(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qm=null,ia=null,sa=null;function q_(r){if(r=wu(r)){if(typeof qm!="function")throw Error(K(280));var e=r.stateNode;e&&(e=Md(e),qm(r.stateNode,r.type,e))}}function Ab(r){ia?sa?sa.push(r):sa=[r]:ia=r}function Cb(){if(ia){var r=ia,e=sa;if(sa=ia=null,q_(r),e)for(r=0;r<e.length;r++)q_(e[r])}}function Pb(r,e){return r(e)}function Ib(){}var Tp=!1;function Rb(r,e,t){if(Tp)return r(e,t);Tp=!0;try{return Pb(r,e,t)}finally{Tp=!1,(ia!==null||sa!==null)&&(Ib(),Cb())}}function jl(r,e){var t=r.stateNode;if(t===null)return null;var n=Md(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(K(231,e,typeof t));return t}var Km=!1;if(vi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Km=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Km=!1}function qP(r,e,t,n,i,s,o,l,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(g){this.onError(g)}}var Cl=!1,Oc=null,Nc=!1,Zm=null,KP={onError:function(r){Cl=!0,Oc=r}};function ZP(r,e,t,n,i,s,o,l,h){Cl=!1,Oc=null,qP.apply(KP,arguments)}function JP(r,e,t,n,i,s,o,l,h){if(ZP.apply(this,arguments),Cl){if(Cl){var d=Oc;Cl=!1,Oc=null}else throw Error(K(198));Nc||(Nc=!0,Zm=d)}}function oo(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function kb(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function K_(r){if(oo(r)!==r)throw Error(K(188))}function eI(r){var e=r.alternate;if(!e){if(e=oo(r),e===null)throw Error(K(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return K_(i),r;if(s===n)return K_(i),e;s=s.sibling}throw Error(K(188))}if(t.return!==n.return)t=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,n=s;break}if(l===n){o=!0,n=i,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,n=i;break}if(l===n){o=!0,n=s,t=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(t.alternate!==n)throw Error(K(190))}if(t.tag!==3)throw Error(K(188));return t.stateNode.current===t?r:e}function Mb(r){return r=eI(r),r!==null?Ob(r):null}function Ob(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=Ob(r);if(e!==null)return e;r=r.sibling}return null}var Nb=Cr.unstable_scheduleCallback,Z_=Cr.unstable_cancelCallback,tI=Cr.unstable_shouldYield,rI=Cr.unstable_requestPaint,mt=Cr.unstable_now,nI=Cr.unstable_getCurrentPriorityLevel,Xy=Cr.unstable_ImmediatePriority,Db=Cr.unstable_UserBlockingPriority,Dc=Cr.unstable_NormalPriority,iI=Cr.unstable_LowPriority,Fb=Cr.unstable_IdlePriority,Pd=null,zn=null;function sI(r){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Pd,r,void 0,(r.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:lI,oI=Math.log,aI=Math.LN2;function lI(r){return r>>>=0,r===0?32:31-(oI(r)/aI|0)|0}var xh=64,wh=4194304;function ml(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Fc(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,o=t&268435455;if(o!==0){var l=o&~i;l!==0?n=ml(l):(s&=o,s!==0&&(n=ml(s)))}else o=t&~i,o!==0?n=ml(o):s!==0&&(n=ml(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-dn(e),i=1<<t,n|=r[t],e&=~i;return n}function uI(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hI(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var o=31-dn(s),l=1<<o,h=i[o];h===-1?(!(l&t)||l&n)&&(i[o]=uI(l,e)):h<=e&&(r.expiredLanes|=l),s&=~l}}function Jm(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Lb(){var r=xh;return xh<<=1,!(xh&4194240)&&(xh=64),r}function Ap(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function _u(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-dn(e),r[e]=t}function cI(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-dn(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function Yy(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-dn(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var Ue=0;function Bb(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ub,Qy,Gb,zb,Hb,eg=!1,bh=[],Zi=null,Ji=null,es=null,Vl=new Map,Wl=new Map,ji=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J_(r,e){switch(r){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function tl(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&Qy(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function fI(r,e,t,n,i){switch(e){case"focusin":return Zi=tl(Zi,r,e,t,n,i),!0;case"dragenter":return Ji=tl(Ji,r,e,t,n,i),!0;case"mouseover":return es=tl(es,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return Vl.set(s,tl(Vl.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wl.set(s,tl(Wl.get(s)||null,r,e,t,n,i)),!0}return!1}function $b(r){var e=Hs(r.target);if(e!==null){var t=oo(e);if(t!==null){if(e=t.tag,e===13){if(e=kb(t),e!==null){r.blockedOn=e,Hb(r.priority,function(){Gb(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hc(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=tg(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);Qm=n,t.target.dispatchEvent(n),Qm=null}else return e=wu(t),e!==null&&Qy(e),r.blockedOn=t,!1;e.shift()}return!0}function e1(r,e,t){hc(r)&&t.delete(e)}function pI(){eg=!1,Zi!==null&&hc(Zi)&&(Zi=null),Ji!==null&&hc(Ji)&&(Ji=null),es!==null&&hc(es)&&(es=null),Vl.forEach(e1),Wl.forEach(e1)}function rl(r,e){r.blockedOn===e&&(r.blockedOn=null,eg||(eg=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,pI)))}function Xl(r){function e(i){return rl(i,r)}if(0<bh.length){rl(bh[0],r);for(var t=1;t<bh.length;t++){var n=bh[t];n.blockedOn===r&&(n.blockedOn=null)}}for(Zi!==null&&rl(Zi,r),Ji!==null&&rl(Ji,r),es!==null&&rl(es,r),Vl.forEach(e),Wl.forEach(e),t=0;t<ji.length;t++)n=ji[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<ji.length&&(t=ji[0],t.blockedOn===null);)$b(t),t.blockedOn===null&&ji.shift()}var oa=Si.ReactCurrentBatchConfig,Lc=!0;function mI(r,e,t,n){var i=Ue,s=oa.transition;oa.transition=null;try{Ue=1,qy(r,e,t,n)}finally{Ue=i,oa.transition=s}}function gI(r,e,t,n){var i=Ue,s=oa.transition;oa.transition=null;try{Ue=4,qy(r,e,t,n)}finally{Ue=i,oa.transition=s}}function qy(r,e,t,n){if(Lc){var i=tg(r,e,t,n);if(i===null)Fp(r,e,n,Bc,t),J_(r,n);else if(fI(i,r,e,t,n))n.stopPropagation();else if(J_(r,n),e&4&&-1<dI.indexOf(r)){for(;i!==null;){var s=wu(i);if(s!==null&&Ub(s),s=tg(r,e,t,n),s===null&&Fp(r,e,n,Bc,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else Fp(r,e,n,null,t)}}var Bc=null;function tg(r,e,t,n){if(Bc=null,r=Wy(n),r=Hs(r),r!==null)if(e=oo(r),e===null)r=null;else if(t=e.tag,t===13){if(r=kb(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Bc=r,null}function jb(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nI()){case Xy:return 1;case Db:return 4;case Dc:case iI:return 16;case Fb:return 536870912;default:return 16}default:return 16}}var Xi=null,Ky=null,cc=null;function Vb(){if(cc)return cc;var r,e=Ky,t=e.length,n,i="value"in Xi?Xi.value:Xi.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var o=t-r;for(n=1;n<=o&&e[t-n]===i[s-n];n++);return cc=i.slice(r,1<n?1-n:void 0)}function dc(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Eh(){return!0}function t1(){return!1}function Ir(r){function e(t,n,i,s,o){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eh:t1,this.isPropagationStopped=t1,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=Ir(Pa),xu=at({},Pa,{view:0,detail:0}),yI=Ir(xu),Cp,Pp,nl,Id=at({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nl&&(nl&&r.type==="mousemove"?(Cp=r.screenX-nl.screenX,Pp=r.screenY-nl.screenY):Pp=Cp=0,nl=r),Cp)},movementY:function(r){return"movementY"in r?r.movementY:Pp}}),r1=Ir(Id),vI=at({},Id,{dataTransfer:0}),_I=Ir(vI),xI=at({},xu,{relatedTarget:0}),Ip=Ir(xI),wI=at({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),bI=Ir(wI),EI=at({},Pa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),SI=Ir(EI),TI=at({},Pa,{data:0}),n1=Ir(TI),AI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function II(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=PI[r])?!!e[r]:!1}function Jy(){return II}var RI=at({},xu,{key:function(r){if(r.key){var e=AI[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=dc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?CI[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jy,charCode:function(r){return r.type==="keypress"?dc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?dc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),kI=Ir(RI),MI=at({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=Ir(MI),OI=at({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jy}),NI=Ir(OI),DI=at({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),FI=Ir(DI),LI=at({},Id,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=Ir(LI),UI=[9,13,27,32],e0=vi&&"CompositionEvent"in window,Pl=null;vi&&"documentMode"in document&&(Pl=document.documentMode);var GI=vi&&"TextEvent"in window&&!Pl,Wb=vi&&(!e0||Pl&&8<Pl&&11>=Pl),s1=String.fromCharCode(32),o1=!1;function Xb(r,e){switch(r){case"keyup":return UI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function zI(r,e){switch(r){case"compositionend":return Yb(e);case"keypress":return e.which!==32?null:(o1=!0,s1);case"textInput":return r=e.data,r===s1&&o1?null:r;default:return null}}function HI(r,e){if($o)return r==="compositionend"||!e0&&Xb(r,e)?(r=Vb(),cc=Ky=Xi=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wb&&e.locale!=="ko"?null:e.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a1(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!$I[r.type]:e==="textarea"}function Qb(r,e,t,n){Ab(n),e=Uc(e,"onChange"),0<e.length&&(t=new Zy("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Il=null,Yl=null;function jI(r){oE(r,0)}function Rd(r){var e=Wo(r);if(_b(e))return r}function VI(r,e){if(r==="change")return e}var qb=!1;if(vi){var Rp;if(vi){var kp="oninput"in document;if(!kp){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),kp=typeof l1.oninput=="function"}Rp=kp}else Rp=!1;qb=Rp&&(!document.documentMode||9<document.documentMode)}function u1(){Il&&(Il.detachEvent("onpropertychange",Kb),Yl=Il=null)}function Kb(r){if(r.propertyName==="value"&&Rd(Yl)){var e=[];Qb(e,Yl,r,Wy(r)),Rb(jI,e)}}function WI(r,e,t){r==="focusin"?(u1(),Il=e,Yl=t,Il.attachEvent("onpropertychange",Kb)):r==="focusout"&&u1()}function XI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rd(Yl)}function YI(r,e){if(r==="click")return Rd(e)}function QI(r,e){if(r==="input"||r==="change")return Rd(e)}function qI(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var yn=typeof Object.is=="function"?Object.is:qI;function Ql(r,e){if(yn(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!Lm.call(e,i)||!yn(r[i],e[i]))return!1}return!0}function h1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function c1(r,e){var t=h1(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=h1(t)}}function Zb(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?Zb(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function Jb(){for(var r=window,e=Mc();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Mc(r.document)}return e}function t0(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function KI(r){var e=Jb(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&Zb(t.ownerDocument.documentElement,t)){if(n!==null&&t0(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=c1(t,s);var o=c1(t,n);i&&o&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ZI=vi&&"documentMode"in document&&11>=document.documentMode,jo=null,rg=null,Rl=null,ng=!1;function d1(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ng||jo==null||jo!==Mc(n)||(n=jo,"selectionStart"in n&&t0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rl&&Ql(Rl,n)||(Rl=n,n=Uc(rg,"onSelect"),0<n.length&&(e=new Zy("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=jo)))}function Sh(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Vo={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Mp={},eE={};vi&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function kd(r){if(Mp[r])return Mp[r];if(!Vo[r])return r;var e=Vo[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in eE)return Mp[r]=e[t];return r}var tE=kd("animationend"),rE=kd("animationiteration"),nE=kd("animationstart"),iE=kd("transitionend"),sE=new Map,f1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(r,e){sE.set(r,e),so(e,[r])}for(var Op=0;Op<f1.length;Op++){var Np=f1[Op],JI=Np.toLowerCase(),eR=Np[0].toUpperCase()+Np.slice(1);fs(JI,"on"+eR)}fs(tE,"onAnimationEnd");fs(rE,"onAnimationIteration");fs(nE,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(iE,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function p1(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,JP(n,e,void 0,r),r.currentTarget=null}function oE(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],h=l.instance,d=l.currentTarget;if(l=l.listener,h!==s&&i.isPropagationStopped())break e;p1(i,l,d),s=h}else for(o=0;o<n.length;o++){if(l=n[o],h=l.instance,d=l.currentTarget,l=l.listener,h!==s&&i.isPropagationStopped())break e;p1(i,l,d),s=h}}}if(Nc)throw r=Zm,Nc=!1,Zm=null,r}function We(r,e){var t=e[lg];t===void 0&&(t=e[lg]=new Set);var n=r+"__bubble";t.has(n)||(aE(e,r,2,!1),t.add(n))}function Dp(r,e,t){var n=0;e&&(n|=4),aE(t,r,n,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function ql(r){if(!r[Th]){r[Th]=!0,pb.forEach(function(t){t!=="selectionchange"&&(tR.has(t)||Dp(t,!1,r),Dp(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Th]||(e[Th]=!0,Dp("selectionchange",!1,e))}}function aE(r,e,t,n){switch(jb(e)){case 1:var i=mI;break;case 4:i=gI;break;default:i=qy}t=i.bind(null,e,t,r),i=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function Fp(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Hs(l),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Rb(function(){var d=s,g=Wy(t),c=[];e:{var f=sE.get(r);if(f!==void 0){var m=Zy,v=r;switch(r){case"keypress":if(dc(t)===0)break e;case"keydown":case"keyup":m=kI;break;case"focusin":v="focus",m=Ip;break;case"focusout":v="blur",m=Ip;break;case"beforeblur":case"afterblur":m=Ip;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_I;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NI;break;case tE:case rE:case nE:m=bI;break;case iE:m=FI;break;case"scroll":m=yI;break;case"wheel":m=BI;break;case"copy":case"cut":case"paste":m=SI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=i1}var w=(e&4)!==0,T=!w&&r==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var E=d,S;E!==null;){S=E;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,x!==null&&(A=jl(E,x),A!=null&&w.push(Kl(E,A,S)))),T)break;E=E.return}0<w.length&&(f=new m(f,v,null,t,g),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",f&&t!==Qm&&(v=t.relatedTarget||t.fromElement)&&(Hs(v)||v[_i]))break e;if((m||f)&&(f=g.window===g?g:(f=g.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=d,v=v?Hs(v):null,v!==null&&(T=oo(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(w=r1,A="onMouseLeave",x="onMouseEnter",E="mouse",(r==="pointerout"||r==="pointerover")&&(w=i1,A="onPointerLeave",x="onPointerEnter",E="pointer"),T=m==null?f:Wo(m),S=v==null?f:Wo(v),f=new w(A,E+"leave",m,t,g),f.target=T,f.relatedTarget=S,A=null,Hs(g)===d&&(w=new w(x,E+"enter",v,t,g),w.target=S,w.relatedTarget=T,A=w),T=A,m&&v)t:{for(w=m,x=v,E=0,S=w;S;S=Co(S))E++;for(S=0,A=x;A;A=Co(A))S++;for(;0<E-S;)w=Co(w),E--;for(;0<S-E;)x=Co(x),S--;for(;E--;){if(w===x||x!==null&&w===x.alternate)break t;w=Co(w),x=Co(x)}w=null}else w=null;m!==null&&m1(c,f,m,w,!1),v!==null&&T!==null&&m1(c,T,v,w,!0)}}e:{if(f=d?Wo(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=VI;else if(a1(f))if(qb)P=QI;else{P=XI;var L=WI}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=YI);if(P&&(P=P(r,d))){Qb(c,P,t,g);break e}L&&L(r,f,d),r==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&jm(f,"number",f.value)}switch(L=d?Wo(d):window,r){case"focusin":(a1(L)||L.contentEditable==="true")&&(jo=L,rg=d,Rl=null);break;case"focusout":Rl=rg=jo=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,d1(c,t,g);break;case"selectionchange":if(ZI)break;case"keydown":case"keyup":d1(c,t,g)}var k;if(e0)e:{switch(r){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $o?Xb(r,t)&&(R="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(Wb&&t.locale!=="ko"&&($o||R!=="onCompositionStart"?R==="onCompositionEnd"&&$o&&(k=Vb()):(Xi=g,Ky="value"in Xi?Xi.value:Xi.textContent,$o=!0)),L=Uc(d,R),0<L.length&&(R=new n1(R,r,null,t,g),c.push({event:R,listeners:L}),k?R.data=k:(k=Yb(t),k!==null&&(R.data=k)))),(k=GI?zI(r,t):HI(r,t))&&(d=Uc(d,"onBeforeInput"),0<d.length&&(g=new n1("onBeforeInput","beforeinput",null,t,g),c.push({event:g,listeners:d}),g.data=k))}oE(c,e)})}function Kl(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Uc(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jl(r,t),s!=null&&n.unshift(Kl(r,s,i)),s=jl(r,e),s!=null&&n.push(Kl(r,s,i))),r=r.return}return n}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function m1(r,e,t,n,i){for(var s=e._reactName,o=[];t!==null&&t!==n;){var l=t,h=l.alternate,d=l.stateNode;if(h!==null&&h===n)break;l.tag===5&&d!==null&&(l=d,i?(h=jl(t,s),h!=null&&o.unshift(Kl(t,h,l))):i||(h=jl(t,s),h!=null&&o.push(Kl(t,h,l)))),t=t.return}o.length!==0&&r.push({event:e,listeners:o})}var rR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function g1(r){return(typeof r=="string"?r:""+r).replace(rR,`
`).replace(nR,"")}function Ah(r,e,t){if(e=g1(e),g1(r)!==e&&t)throw Error(K(425))}function Gc(){}var ig=null,sg=null;function og(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(r){return y1.resolve(null).then(r).catch(oR)}:ag;function oR(r){setTimeout(function(){throw r})}function Lp(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),Xl(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);Xl(e)}function ts(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function v1(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ia,Zl="__reactProps$"+Ia,_i="__reactContainer$"+Ia,lg="__reactEvents$"+Ia,aR="__reactListeners$"+Ia,lR="__reactHandles$"+Ia;function Hs(r){var e=r[Bn];if(e)return e;for(var t=r.parentNode;t;){if(e=t[_i]||t[Bn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=v1(r);r!==null;){if(t=r[Bn])return t;r=v1(r)}return e}r=t,t=r.parentNode}return null}function wu(r){return r=r[Bn]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(K(33))}function Md(r){return r[Zl]||null}var ug=[],Xo=-1;function ps(r){return{current:r}}function Ye(r){0>Xo||(r.current=ug[Xo],ug[Xo]=null,Xo--)}function $e(r,e){Xo++,ug[Xo]=r.current,r.current=e}var ls={},qt=ps(ls),fr=ps(!1),Zs=ls;function ya(r,e){var t=r.type.contextTypes;if(!t)return ls;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function pr(r){return r=r.childContextTypes,r!=null}function zc(){Ye(fr),Ye(qt)}function _1(r,e,t){if(qt.current!==ls)throw Error(K(168));$e(qt,e),$e(fr,t)}function lE(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,WP(r)||"Unknown",i));return at({},t,n)}function Hc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ls,Zs=qt.current,$e(qt,r),$e(fr,fr.current),!0}function x1(r,e,t){var n=r.stateNode;if(!n)throw Error(K(169));t?(r=lE(r,e,Zs),n.__reactInternalMemoizedMergedChildContext=r,Ye(fr),Ye(qt),$e(qt,r)):Ye(fr),$e(fr,t)}var oi=null,Od=!1,Bp=!1;function uE(r){oi===null?oi=[r]:oi.push(r)}function uR(r){Od=!0,uE(r)}function ms(){if(!Bp&&oi!==null){Bp=!0;var r=0,e=Ue;try{var t=oi;for(Ue=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}oi=null,Od=!1}catch(i){throw oi!==null&&(oi=oi.slice(r+1)),Nb(Xy,ms),i}finally{Ue=e,Bp=!1}}return null}var Yo=[],Qo=0,$c=null,jc=0,zr=[],Hr=0,Js=null,ui=1,hi="";function Ms(r,e){Yo[Qo++]=jc,Yo[Qo++]=$c,$c=r,jc=e}function hE(r,e,t){zr[Hr++]=ui,zr[Hr++]=hi,zr[Hr++]=Js,Js=r;var n=ui;r=hi;var i=32-dn(n)-1;n&=~(1<<i),t+=1;var s=32-dn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ui=1<<32-dn(e)+i|t<<i|n,hi=s+r}else ui=1<<s|t<<i|n,hi=r}function r0(r){r.return!==null&&(Ms(r,1),hE(r,1,0))}function n0(r){for(;r===$c;)$c=Yo[--Qo],Yo[Qo]=null,jc=Yo[--Qo],Yo[Qo]=null;for(;r===Js;)Js=zr[--Hr],zr[Hr]=null,hi=zr[--Hr],zr[Hr]=null,ui=zr[--Hr],zr[Hr]=null}var Tr=null,Sr=null,Je=!1,ln=null;function cE(r,e){var t=$r(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function w1(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Tr=r,Sr=ts(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Tr=r,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Js!==null?{id:ui,overflow:hi}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=$r(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Tr=r,Sr=null,!0):!1;default:return!1}}function hg(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cg(r){if(Je){var e=Sr;if(e){var t=e;if(!w1(r,e)){if(hg(r))throw Error(K(418));e=ts(t.nextSibling);var n=Tr;e&&w1(r,e)?cE(n,t):(r.flags=r.flags&-4097|2,Je=!1,Tr=r)}}else{if(hg(r))throw Error(K(418));r.flags=r.flags&-4097|2,Je=!1,Tr=r}}}function b1(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tr=r}function Ch(r){if(r!==Tr)return!1;if(!Je)return b1(r),Je=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!og(r.type,r.memoizedProps)),e&&(e=Sr)){if(hg(r))throw dE(),Error(K(418));for(;e;)cE(r,e),e=ts(e.nextSibling)}if(b1(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(K(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Sr=ts(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Sr=null}}else Sr=Tr?ts(r.stateNode.nextSibling):null;return!0}function dE(){for(var r=Sr;r;)r=ts(r.nextSibling)}function va(){Sr=Tr=null,Je=!1}function i0(r){ln===null?ln=[r]:ln.push(r)}var hR=Si.ReactCurrentBatchConfig;function on(r,e){if(r&&r.defaultProps){e=at({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}var Vc=ps(null),Wc=null,qo=null,s0=null;function o0(){s0=qo=Wc=null}function a0(r){var e=Vc.current;Ye(Vc),r._currentValue=e}function dg(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function aa(r,e){Wc=r,s0=qo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(cr=!0),r.firstContext=null)}function Xr(r){var e=r._currentValue;if(s0!==r)if(r={context:r,memoizedValue:e,next:null},qo===null){if(Wc===null)throw Error(K(308));qo=r,Wc.dependencies={lanes:0,firstContext:r}}else qo=qo.next=r;return e}var $s=null;function l0(r){$s===null?$s=[r]:$s.push(r)}function fE(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,l0(e)):(t.next=i.next,i.next=t),e.interleaved=t,xi(r,n)}function xi(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var zi=!1;function u0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pE(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mi(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xi(r,t)}return i=n.interleaved,i===null?(e.next=e,l0(n)):(e.next=i.next,i.next=e),n.interleaved=e,xi(r,t)}function fc(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Yy(r,t)}}function E1(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Xc(r,e,t,n){var i=r.updateQueue;zi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var h=l,d=h.next;h.next=null,o===null?s=d:o.next=d,o=h;var g=r.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==o&&(l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=h))}if(s!==null){var c=i.baseState;o=0,g=d=h=null,l=s;do{var f=l.lane,m=l.eventTime;if((n&f)===f){g!==null&&(g=g.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=r,w=l;switch(f=e,m=t,w.tag){case 1:if(v=w.payload,typeof v=="function"){c=v.call(m,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,c,f):v,f==null)break e;c=at({},c,f);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(d=g=m,h=c):g=g.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(g===null&&(h=c),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);to|=o,r.lanes=o,r.memoizedState=c}}function S1(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var mE=new fb.Component().refs;function fg(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:at({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Nd={isMounted:function(r){return(r=r._reactInternals)?oo(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=rr(),i=is(r),s=mi(n,i);s.payload=e,t!=null&&(s.callback=t),e=rs(r,s,i),e!==null&&(fn(e,r,i,n),fc(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=rr(),i=is(r),s=mi(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=rs(r,s,i),e!==null&&(fn(e,r,i,n),fc(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=rr(),n=is(r),i=mi(t,n);i.tag=2,e!=null&&(i.callback=e),e=rs(r,i,n),e!==null&&(fn(e,r,n,t),fc(e,r,n))}};function T1(r,e,t,n,i,s,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(t,n)||!Ql(i,s):!0}function gE(r,e,t){var n=!1,i=ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Xr(s):(i=pr(e)?Zs:qt.current,n=e.contextTypes,s=(n=n!=null)?ya(r,i):ls),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nd,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function A1(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Nd.enqueueReplaceState(e,e.state,null)}function pg(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs=mE,u0(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xr(s):(s=pr(e)?Zs:qt.current,i.context=ya(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fg(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nd.enqueueReplaceState(i,i.state,null),Xc(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function il(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(K(309));var n=t.stateNode}if(!n)throw Error(K(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===mE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof r!="string")throw Error(K(284));if(!t._owner)throw Error(K(290,r))}return r}function Ph(r,e){throw r=Object.prototype.toString.call(e),Error(K(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function C1(r){var e=r._init;return e(r._payload)}function yE(r){function e(x,E){if(r){var S=x.deletions;S===null?(x.deletions=[E],x.flags|=16):S.push(E)}}function t(x,E){if(!r)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function n(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=ss(x,E),x.index=0,x.sibling=null,x}function s(x,E,S){return x.index=S,r?(S=x.alternate,S!==null?(S=S.index,S<E?(x.flags|=2,E):S):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return r&&x.alternate===null&&(x.flags|=2),x}function l(x,E,S,A){return E===null||E.tag!==6?(E=Vp(S,x.mode,A),E.return=x,E):(E=i(E,S),E.return=x,E)}function h(x,E,S,A){var P=S.type;return P===Ho?g(x,E,S.props.children,A,S.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gi&&C1(P)===E.type)?(A=i(E,S.props),A.ref=il(x,E,S),A.return=x,A):(A=_c(S.type,S.key,S.props,null,x.mode,A),A.ref=il(x,E,S),A.return=x,A)}function d(x,E,S,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Wp(S,x.mode,A),E.return=x,E):(E=i(E,S.children||[]),E.return=x,E)}function g(x,E,S,A,P){return E===null||E.tag!==7?(E=Xs(S,x.mode,A,P),E.return=x,E):(E=i(E,S),E.return=x,E)}function c(x,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Vp(""+E,x.mode,S),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yh:return S=_c(E.type,E.key,E.props,null,x.mode,S),S.ref=il(x,null,E),S.return=x,S;case zo:return E=Wp(E,x.mode,S),E.return=x,E;case Gi:var A=E._init;return c(x,A(E._payload),S)}if(pl(E)||Ja(E))return E=Xs(E,x.mode,S,null),E.return=x,E;Ph(x,E)}return null}function f(x,E,S,A){var P=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(x,E,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yh:return S.key===P?h(x,E,S,A):null;case zo:return S.key===P?d(x,E,S,A):null;case Gi:return P=S._init,f(x,E,P(S._payload),A)}if(pl(S)||Ja(S))return P!==null?null:g(x,E,S,A,null);Ph(x,S)}return null}function m(x,E,S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(S)||null,l(E,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yh:return x=x.get(A.key===null?S:A.key)||null,h(E,x,A,P);case zo:return x=x.get(A.key===null?S:A.key)||null,d(E,x,A,P);case Gi:var L=A._init;return m(x,E,S,L(A._payload),P)}if(pl(A)||Ja(A))return x=x.get(S)||null,g(E,x,A,P,null);Ph(E,A)}return null}function v(x,E,S,A){for(var P=null,L=null,k=E,R=E=0,U=null;k!==null&&R<S.length;R++){k.index>R?(U=k,k=null):U=k.sibling;var H=f(x,k,S[R],A);if(H===null){k===null&&(k=U);break}r&&k&&H.alternate===null&&e(x,k),E=s(H,E,R),L===null?P=H:L.sibling=H,L=H,k=U}if(R===S.length)return t(x,k),Je&&Ms(x,R),P;if(k===null){for(;R<S.length;R++)k=c(x,S[R],A),k!==null&&(E=s(k,E,R),L===null?P=k:L.sibling=k,L=k);return Je&&Ms(x,R),P}for(k=n(x,k);R<S.length;R++)U=m(k,x,R,S[R],A),U!==null&&(r&&U.alternate!==null&&k.delete(U.key===null?R:U.key),E=s(U,E,R),L===null?P=U:L.sibling=U,L=U);return r&&k.forEach(function(re){return e(x,re)}),Je&&Ms(x,R),P}function w(x,E,S,A){var P=Ja(S);if(typeof P!="function")throw Error(K(150));if(S=P.call(S),S==null)throw Error(K(151));for(var L=P=null,k=E,R=E=0,U=null,H=S.next();k!==null&&!H.done;R++,H=S.next()){k.index>R?(U=k,k=null):U=k.sibling;var re=f(x,k,H.value,A);if(re===null){k===null&&(k=U);break}r&&k&&re.alternate===null&&e(x,k),E=s(re,E,R),L===null?P=re:L.sibling=re,L=re,k=U}if(H.done)return t(x,k),Je&&Ms(x,R),P;if(k===null){for(;!H.done;R++,H=S.next())H=c(x,H.value,A),H!==null&&(E=s(H,E,R),L===null?P=H:L.sibling=H,L=H);return Je&&Ms(x,R),P}for(k=n(x,k);!H.done;R++,H=S.next())H=m(k,x,R,H.value,A),H!==null&&(r&&H.alternate!==null&&k.delete(H.key===null?R:H.key),E=s(H,E,R),L===null?P=H:L.sibling=H,L=H);return r&&k.forEach(function(Y){return e(x,Y)}),Je&&Ms(x,R),P}function T(x,E,S,A){if(typeof S=="object"&&S!==null&&S.type===Ho&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case yh:e:{for(var P=S.key,L=E;L!==null;){if(L.key===P){if(P=S.type,P===Ho){if(L.tag===7){t(x,L.sibling),E=i(L,S.props.children),E.return=x,x=E;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gi&&C1(P)===L.type){t(x,L.sibling),E=i(L,S.props),E.ref=il(x,L,S),E.return=x,x=E;break e}t(x,L);break}else e(x,L);L=L.sibling}S.type===Ho?(E=Xs(S.props.children,x.mode,A,S.key),E.return=x,x=E):(A=_c(S.type,S.key,S.props,null,x.mode,A),A.ref=il(x,E,S),A.return=x,x=A)}return o(x);case zo:e:{for(L=S.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){t(x,E.sibling),E=i(E,S.children||[]),E.return=x,x=E;break e}else{t(x,E);break}else e(x,E);E=E.sibling}E=Wp(S,x.mode,A),E.return=x,x=E}return o(x);case Gi:return L=S._init,T(x,E,L(S._payload),A)}if(pl(S))return v(x,E,S,A);if(Ja(S))return w(x,E,S,A);Ph(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(t(x,E.sibling),E=i(E,S),E.return=x,x=E):(t(x,E),E=Vp(S,x.mode,A),E.return=x,x=E),o(x)):t(x,E)}return T}var _a=yE(!0),vE=yE(!1),bu={},Hn=ps(bu),Jl=ps(bu),eu=ps(bu);function js(r){if(r===bu)throw Error(K(174));return r}function h0(r,e){switch($e(eu,e),$e(Jl,r),$e(Hn,bu),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wm(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Wm(e,r)}Ye(Hn),$e(Hn,e)}function xa(){Ye(Hn),Ye(Jl),Ye(eu)}function _E(r){js(eu.current);var e=js(Hn.current),t=Wm(e,r.type);e!==t&&($e(Jl,r),$e(Hn,t))}function c0(r){Jl.current===r&&(Ye(Hn),Ye(Jl))}var it=ps(0);function Yc(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Up=[];function d0(){for(var r=0;r<Up.length;r++)Up[r]._workInProgressVersionPrimary=null;Up.length=0}var pc=Si.ReactCurrentDispatcher,Gp=Si.ReactCurrentBatchConfig,eo=0,ot=null,wt=null,kt=null,Qc=!1,kl=!1,tu=0,cR=0;function Wt(){throw Error(K(321))}function f0(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!yn(r[t],e[t]))return!1;return!0}function p0(r,e,t,n,i,s){if(eo=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pc.current=r===null||r.memoizedState===null?mR:gR,r=t(n,i),kl){s=0;do{if(kl=!1,tu=0,25<=s)throw Error(K(301));s+=1,kt=wt=null,e.updateQueue=null,pc.current=yR,r=t(n,i)}while(kl)}if(pc.current=qc,e=wt!==null&&wt.next!==null,eo=0,kt=wt=ot=null,Qc=!1,e)throw Error(K(300));return r}function m0(){var r=tu!==0;return tu=0,r}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=r:kt=kt.next=r,kt}function Yr(){if(wt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var e=kt===null?ot.memoizedState:kt.next;if(e!==null)kt=e,wt=r;else{if(r===null)throw Error(K(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?ot.memoizedState=kt=r:kt=kt.next=r}return kt}function ru(r,e){return typeof e=="function"?e(r):e}function zp(r){var e=Yr(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=r;var n=wt,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,h=null,d=s;do{var g=d.lane;if((eo&g)===g)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:r(n,d.action);else{var c={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(l=h=c,o=n):h=h.next=c,ot.lanes|=g,to|=g}d=d.next}while(d!==null&&d!==s);h===null?o=n:h.next=l,yn(n,e.memoizedState)||(cr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,ot.lanes|=s,to|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Hp(r){var e=Yr(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=r(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function xE(){}function wE(r,e){var t=ot,n=Yr(),i=e(),s=!yn(n.memoizedState,i);if(s&&(n.memoizedState=i,cr=!0),n=n.queue,g0(SE.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(t.flags|=2048,nu(9,EE.bind(null,t,n,i,e),void 0,null),Nt===null)throw Error(K(349));eo&30||bE(t,e,i)}return i}function bE(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function EE(r,e,t,n){e.value=t,e.getSnapshot=n,TE(e)&&AE(r)}function SE(r,e,t){return t(function(){TE(e)&&AE(r)})}function TE(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!yn(r,t)}catch{return!0}}function AE(r){var e=xi(r,1);e!==null&&fn(e,r,1,-1)}function P1(r){var e=Dn();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:r},e.queue=r,r=r.dispatch=pR.bind(null,ot,r),[e.memoizedState,r]}function nu(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function CE(){return Yr().memoizedState}function mc(r,e,t,n){var i=Dn();ot.flags|=r,i.memoizedState=nu(1|e,t,void 0,n===void 0?null:n)}function Dd(r,e,t,n){var i=Yr();n=n===void 0?null:n;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,n!==null&&f0(n,o.deps)){i.memoizedState=nu(e,t,s,n);return}}ot.flags|=r,i.memoizedState=nu(1|e,t,s,n)}function I1(r,e){return mc(8390656,8,r,e)}function g0(r,e){return Dd(2048,8,r,e)}function PE(r,e){return Dd(4,2,r,e)}function IE(r,e){return Dd(4,4,r,e)}function RE(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function kE(r,e,t){return t=t!=null?t.concat([r]):null,Dd(4,4,RE.bind(null,e,r),t)}function y0(){}function ME(r,e){var t=Yr();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&f0(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function OE(r,e){var t=Yr();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&f0(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function NE(r,e,t){return eo&21?(yn(t,e)||(t=Lb(),ot.lanes|=t,to|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,cr=!0),r.memoizedState=t)}function dR(r,e){var t=Ue;Ue=t!==0&&4>t?t:4,r(!0);var n=Gp.transition;Gp.transition={};try{r(!1),e()}finally{Ue=t,Gp.transition=n}}function DE(){return Yr().memoizedState}function fR(r,e,t){var n=is(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},FE(r))LE(e,t);else if(t=fE(r,e,t,n),t!==null){var i=rr();fn(t,r,n,i),BE(t,e,n)}}function pR(r,e,t){var n=is(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(FE(r))LE(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(i.hasEagerState=!0,i.eagerState=l,yn(l,o)){var h=e.interleaved;h===null?(i.next=i,l0(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}t=fE(r,e,i,n),t!==null&&(i=rr(),fn(t,r,n,i),BE(t,e,n))}}function FE(r){var e=r.alternate;return r===ot||e!==null&&e===ot}function LE(r,e){kl=Qc=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function BE(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Yy(r,t)}}var qc={readContext:Xr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},mR={readContext:Xr,useCallback:function(r,e){return Dn().memoizedState=[r,e===void 0?null:e],r},useContext:Xr,useEffect:I1,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,mc(4194308,4,RE.bind(null,e,r),t)},useLayoutEffect:function(r,e){return mc(4194308,4,r,e)},useInsertionEffect:function(r,e){return mc(4,2,r,e)},useMemo:function(r,e){var t=Dn();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Dn();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=fR.bind(null,ot,r),[n.memoizedState,r]},useRef:function(r){var e=Dn();return r={current:r},e.memoizedState=r},useState:P1,useDebugValue:y0,useDeferredValue:function(r){return Dn().memoizedState=r},useTransition:function(){var r=P1(!1),e=r[0];return r=dR.bind(null,r[1]),Dn().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=ot,i=Dn();if(Je){if(t===void 0)throw Error(K(407));t=t()}else{if(t=e(),Nt===null)throw Error(K(349));eo&30||bE(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,I1(SE.bind(null,n,s,r),[r]),n.flags|=2048,nu(9,EE.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=Dn(),e=Nt.identifierPrefix;if(Je){var t=hi,n=ui;t=(n&~(1<<32-dn(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=tu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=cR++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},gR={readContext:Xr,useCallback:ME,useContext:Xr,useEffect:g0,useImperativeHandle:kE,useInsertionEffect:PE,useLayoutEffect:IE,useMemo:OE,useReducer:zp,useRef:CE,useState:function(){return zp(ru)},useDebugValue:y0,useDeferredValue:function(r){var e=Yr();return NE(e,wt.memoizedState,r)},useTransition:function(){var r=zp(ru)[0],e=Yr().memoizedState;return[r,e]},useMutableSource:xE,useSyncExternalStore:wE,useId:DE,unstable_isNewReconciler:!1},yR={readContext:Xr,useCallback:ME,useContext:Xr,useEffect:g0,useImperativeHandle:kE,useInsertionEffect:PE,useLayoutEffect:IE,useMemo:OE,useReducer:Hp,useRef:CE,useState:function(){return Hp(ru)},useDebugValue:y0,useDeferredValue:function(r){var e=Yr();return wt===null?e.memoizedState=r:NE(e,wt.memoizedState,r)},useTransition:function(){var r=Hp(ru)[0],e=Yr().memoizedState;return[r,e]},useMutableSource:xE,useSyncExternalStore:wE,useId:DE,unstable_isNewReconciler:!1};function wa(r,e){try{var t="",n=e;do t+=VP(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function $p(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function mg(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vR=typeof WeakMap=="function"?WeakMap:Map;function UE(r,e,t){t=mi(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Zc||(Zc=!0,Tg=n),mg(r,e)},t}function GE(r,e,t){t=mi(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){mg(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){mg(r,e),typeof n!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function R1(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new vR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=MR.bind(null,r,e,t),e.then(r,r))}function k1(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function M1(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=mi(-1,1),e.tag=2,rs(t,e,1))),t.lanes|=1),r)}var _R=Si.ReactCurrentOwner,cr=!1;function er(r,e,t,n){e.child=r===null?vE(e,null,t,n):_a(e,r.child,t,n)}function O1(r,e,t,n,i){t=t.render;var s=e.ref;return aa(e,i),n=p0(r,e,t,n,s,i),t=m0(),r!==null&&!cr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,wi(r,e,i)):(Je&&t&&r0(e),e.flags|=1,er(r,e,n,i),e.child)}function N1(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!T0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,zE(r,e,s,n,i)):(r=_c(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ql,t(o,n)&&r.ref===e.ref)return wi(r,e,i)}return e.flags|=1,r=ss(s,n),r.ref=e.ref,r.return=e,e.child=r}function zE(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(Ql(s,n)&&r.ref===e.ref)if(cr=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(cr=!0);else return e.lanes=r.lanes,wi(r,e,i)}return gg(r,e,t,n,i)}function HE(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Zo,Er),Er|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,$e(Zo,Er),Er|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,$e(Zo,Er),Er|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,$e(Zo,Er),Er|=n;return er(r,e,i,t),e.child}function $E(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function gg(r,e,t,n,i){var s=pr(t)?Zs:qt.current;return s=ya(e,s),aa(e,i),t=p0(r,e,t,n,s,i),n=m0(),r!==null&&!cr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,wi(r,e,i)):(Je&&n&&r0(e),e.flags|=1,er(r,e,t,i),e.child)}function D1(r,e,t,n,i){if(pr(t)){var s=!0;Hc(e)}else s=!1;if(aa(e,i),e.stateNode===null)gc(r,e),gE(e,t,n),pg(e,t,n,i),n=!0;else if(r===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var h=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=Xr(d):(d=pr(t)?Zs:qt.current,d=ya(e,d));var g=t.getDerivedStateFromProps,c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||h!==d)&&A1(e,o,n,d),zi=!1;var f=e.memoizedState;o.state=f,Xc(e,n,o,i),h=e.memoizedState,l!==n||f!==h||fr.current||zi?(typeof g=="function"&&(fg(e,t,g,n),h=e.memoizedState),(l=zi||T1(e,t,l,n,f,h,d))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,pE(r,e),l=e.memoizedProps,d=e.type===e.elementType?l:on(e.type,l),o.props=d,c=e.pendingProps,f=o.context,h=t.contextType,typeof h=="object"&&h!==null?h=Xr(h):(h=pr(t)?Zs:qt.current,h=ya(e,h));var m=t.getDerivedStateFromProps;(g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==h)&&A1(e,o,n,h),zi=!1,f=e.memoizedState,o.state=f,Xc(e,n,o,i);var v=e.memoizedState;l!==c||f!==v||fr.current||zi?(typeof m=="function"&&(fg(e,t,m,n),v=e.memoizedState),(d=zi||T1(e,t,d,n,f,v,h)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=h,n=d):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),n=!1)}return yg(r,e,t,n,s,i)}function yg(r,e,t,n,i,s){$E(r,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&x1(e,t,!1),wi(r,e,s);n=e.stateNode,_R.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&o?(e.child=_a(e,r.child,null,s),e.child=_a(e,null,l,s)):er(r,e,l,s),e.memoizedState=n.state,i&&x1(e,t,!0),e.child}function jE(r){var e=r.stateNode;e.pendingContext?_1(r,e.pendingContext,e.pendingContext!==e.context):e.context&&_1(r,e.context,!1),h0(r,e.containerInfo)}function F1(r,e,t,n,i){return va(),i0(i),e.flags|=256,er(r,e,t,n),e.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function _g(r){return{baseLanes:r,cachePool:null,transitions:null}}function VE(r,e,t){var n=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=r!==null&&r.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),$e(it,i&1),r===null)return cg(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,r=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bd(o,n,0,null),r=Xs(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=_g(t),e.memoizedState=vg,r):v0(e,o));if(i=r.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xR(r,e,o,n,l,i,t);if(s){s=n.fallback,o=e.mode,i=r.child,l=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=ss(i,h),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ss(l,s):(s=Xs(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=r.child.memoizedState,o=o===null?_g(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=r.childLanes&~t,e.memoizedState=vg,n}return s=r.child,r=s.sibling,n=ss(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function v0(r,e){return e=Bd({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function Ih(r,e,t,n){return n!==null&&i0(n),_a(e,r.child,null,t),r=v0(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function xR(r,e,t,n,i,s,o){if(t)return e.flags&256?(e.flags&=-257,n=$p(Error(K(422))),Ih(r,e,o,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Bd({mode:"visible",children:n.children},i,0,null),s=Xs(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_a(e,r.child,null,o),e.child.memoizedState=_g(o),e.memoizedState=vg,s);if(!(e.mode&1))return Ih(r,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(K(419)),n=$p(s,n,void 0),Ih(r,e,o,n)}if(l=(o&r.childLanes)!==0,cr||l){if(n=Nt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(r,i),fn(n,r,i,-1))}return S0(),n=$p(Error(K(421))),Ih(r,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=OR.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,Sr=ts(i.nextSibling),Tr=e,Je=!0,ln=null,r!==null&&(zr[Hr++]=ui,zr[Hr++]=hi,zr[Hr++]=Js,ui=r.id,hi=r.overflow,Js=e),e=v0(e,n.children),e.flags|=4096,e)}function L1(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),dg(r.return,e,t)}function jp(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function WE(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(er(r,e,n.children,t),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&L1(r,t,e);else if(r.tag===19)L1(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if($e(it,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Yc(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),jp(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Yc(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}jp(e,!0,t,null,s);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function wi(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),to|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(K(153));if(e.child!==null){for(r=e.child,t=ss(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=ss(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function wR(r,e,t){switch(e.tag){case 3:jE(e),va();break;case 5:_E(e);break;case 1:pr(e.type)&&Hc(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;$e(Vc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($e(it,it.current&1),e.flags|=128,null):t&e.child.childLanes?VE(r,e,t):($e(it,it.current&1),r=wi(r,e,t),r!==null?r.sibling:null);$e(it,it.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return WE(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,HE(r,e,t)}return wi(r,e,t)}var XE,xg,YE,QE;XE=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};xg=function(){};YE=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,js(Hn.current);var s=null;switch(t){case"input":i=Hm(r,i),n=Hm(r,n),s=[];break;case"select":i=at({},i,{value:void 0}),n=at({},n,{value:void 0}),s=[];break;case"textarea":i=Vm(r,i),n=Vm(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Gc)}Xm(t,n);var o;t=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var h=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&h!==l&&(h!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in h)h.hasOwnProperty(o)&&l[o]!==h[o]&&(t||(t={}),t[o]=h[o])}else t||(s||(s=[]),s.push(d,t)),t=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,l=l?l.__html:void 0,h!=null&&l!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&We("scroll",r),s||l===h||(s=[])):(s=s||[]).push(d,h))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};QE=function(r,e,t,n){t!==n&&(e.flags|=4)};function sl(r,e){if(!Je)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Xt(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function bR(r,e,t){var n=e.pendingProps;switch(n0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return pr(e.type)&&zc(),Xt(e),null;case 3:return n=e.stateNode,xa(),Ye(fr),Ye(qt),d0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Ch(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(Pg(ln),ln=null))),xg(r,e),Xt(e),null;case 5:c0(e);var i=js(eu.current);if(t=e.type,r!==null&&e.stateNode!=null)YE(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return Xt(e),null}if(r=js(Hn.current),Ch(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[Bn]=e,n[Zl]=s,r=(e.mode&1)!==0,t){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<gl.length;i++)We(gl[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":W_(n,s),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},We("invalid",n);break;case"textarea":Y_(n,s),We("invalid",n)}Xm(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ah(n.textContent,l,r),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ah(n.textContent,l,r),i=["children",""+l]):Hl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",n)}switch(t){case"input":vh(n),X_(n,s,!0);break;case"textarea":vh(n),Q_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=bb(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=o.createElement(t,{is:n.is}):(r=o.createElement(t),t==="select"&&(o=r,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):r=o.createElementNS(r,t),r[Bn]=e,r[Zl]=n,XE(r,e,!1,!1),e.stateNode=r;e:{switch(o=Ym(t,n),t){case"dialog":We("cancel",r),We("close",r),i=n;break;case"iframe":case"object":case"embed":We("load",r),i=n;break;case"video":case"audio":for(i=0;i<gl.length;i++)We(gl[i],r);i=n;break;case"source":We("error",r),i=n;break;case"img":case"image":case"link":We("error",r),We("load",r),i=n;break;case"details":We("toggle",r),i=n;break;case"input":W_(r,n),i=Hm(r,n),We("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=at({},n,{value:void 0}),We("invalid",r);break;case"textarea":Y_(r,n),i=Vm(r,n),We("invalid",r);break;default:i=n}Xm(t,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];s==="style"?Tb(r,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Eb(r,h)):s==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&$l(r,h):typeof h=="number"&&$l(r,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&We("scroll",r):h!=null&&Hy(r,s,h,o))}switch(t){case"input":vh(r),X_(r,n,!1);break;case"textarea":vh(r),Q_(r);break;case"option":n.value!=null&&r.setAttribute("value",""+as(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?na(r,!!n.multiple,s,!1):n.defaultValue!=null&&na(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Gc)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(r&&e.stateNode!=null)QE(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(t=js(eu.current),js(Hn.current),Ch(e)){if(n=e.stateNode,t=e.memoizedProps,n[Bn]=e,(s=n.nodeValue!==t)&&(r=Tr,r!==null))switch(r.tag){case 3:Ah(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ah(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Bn]=e,e.stateNode=n}return Xt(e),null;case 13:if(Ye(it),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&Sr!==null&&e.mode&1&&!(e.flags&128))dE(),va(),e.flags|=98560,s=!1;else if(s=Ch(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Bn]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),s=!1}else ln!==null&&(Pg(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||it.current&1?bt===0&&(bt=3):S0())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return xa(),xg(r,e),r===null&&ql(e.stateNode.containerInfo),Xt(e),null;case 10:return a0(e.type._context),Xt(e),null;case 17:return pr(e.type)&&zc(),Xt(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return Xt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)sl(s,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=Yc(r),o!==null){for(e.flags|=128,sl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return $e(it,it.current&1|2),e.child}r=r.sibling}s.tail!==null&&mt()>ba&&(e.flags|=128,n=!0,sl(s,!1),e.lanes=4194304)}else{if(!n)if(r=Yc(o),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return Xt(e),null}else 2*mt()-s.renderingStartTime>ba&&t!==1073741824&&(e.flags|=128,n=!0,sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,t=it.current,$e(it,n?t&1|2:t&1),e):(Xt(e),null);case 22:case 23:return E0(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Er&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function ER(r,e){switch(n0(e),e.tag){case 1:return pr(e.type)&&zc(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return xa(),Ye(fr),Ye(qt),d0(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return c0(e),null;case 13:if(Ye(it),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(K(340));va()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Ye(it),null;case 4:return xa(),null;case 10:return a0(e.type._context),null;case 22:case 23:return E0(),null;case 24:return null;default:return null}}var Rh=!1,Qt=!1,SR=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ko(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){ht(r,e,n)}else t.current=null}function wg(r,e,t){try{t()}catch(n){ht(r,e,n)}}var B1=!1;function TR(r,e){if(ig=Lc,r=Jb(),t0(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,h=-1,d=0,g=0,c=r,f=null;t:for(;;){for(var m;c!==t||i!==0&&c.nodeType!==3||(l=o+i),c!==s||n!==0&&c.nodeType!==3||(h=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)f=c,c=m;for(;;){if(c===r)break t;if(f===t&&++d===i&&(l=o),f===s&&++g===n&&(h=o),(m=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=m}t=l===-1||h===-1?null:{start:l,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(sg={focusedElem:r,selectionRange:t},Lc=!1,he=e;he!==null;)if(e=he,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,he=r;else for(;he!==null;){e=he;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:on(e.type,w),T);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){ht(e,e.return,A)}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}return v=B1,B1=!1,v}function Ml(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,t,s)}i=i.next}while(i!==n)}}function Fd(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function bg(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function qE(r){var e=r.alternate;e!==null&&(r.alternate=null,qE(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Bn],delete e[Zl],delete e[lg],delete e[aR],delete e[lR])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function KE(r){return r.tag===5||r.tag===3||r.tag===4}function U1(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||KE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Eg(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gc));else if(n!==4&&(r=r.child,r!==null))for(Eg(r,e,t),r=r.sibling;r!==null;)Eg(r,e,t),r=r.sibling}function Sg(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Sg(r,e,t),r=r.sibling;r!==null;)Sg(r,e,t),r=r.sibling}var Bt=null,an=!1;function Fi(r,e,t){for(t=t.child;t!==null;)ZE(r,e,t),t=t.sibling}function ZE(r,e,t){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Pd,t)}catch{}switch(t.tag){case 5:Qt||Ko(t,e);case 6:var n=Bt,i=an;Bt=null,Fi(r,e,t),Bt=n,an=i,Bt!==null&&(an?(r=Bt,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Bt.removeChild(t.stateNode));break;case 18:Bt!==null&&(an?(r=Bt,t=t.stateNode,r.nodeType===8?Lp(r.parentNode,t):r.nodeType===1&&Lp(r,t),Xl(r)):Lp(Bt,t.stateNode));break;case 4:n=Bt,i=an,Bt=t.stateNode.containerInfo,an=!0,Fi(r,e,t),Bt=n,an=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(t,e,o),i=i.next}while(i!==n)}Fi(r,e,t);break;case 1:if(!Qt&&(Ko(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(l){ht(t,e,l)}Fi(r,e,t);break;case 21:Fi(r,e,t);break;case 22:t.mode&1?(Qt=(n=Qt)||t.memoizedState!==null,Fi(r,e,t),Qt=n):Fi(r,e,t);break;default:Fi(r,e,t)}}function G1(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new SR),e.forEach(function(n){var i=NR.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function en(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,an=!1;break e;case 3:Bt=l.stateNode.containerInfo,an=!0;break e;case 4:Bt=l.stateNode.containerInfo,an=!0;break e}l=l.return}if(Bt===null)throw Error(K(160));ZE(s,o,i),Bt=null,an=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){ht(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JE(e,r),e=e.sibling}function JE(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(en(e,r),In(r),n&4){try{Ml(3,r,r.return),Fd(3,r)}catch(w){ht(r,r.return,w)}try{Ml(5,r,r.return)}catch(w){ht(r,r.return,w)}}break;case 1:en(e,r),In(r),n&512&&t!==null&&Ko(t,t.return);break;case 5:if(en(e,r),In(r),n&512&&t!==null&&Ko(t,t.return),r.flags&32){var i=r.stateNode;try{$l(i,"")}catch(w){ht(r,r.return,w)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,o=t!==null?t.memoizedProps:s,l=r.type,h=r.updateQueue;if(r.updateQueue=null,h!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&xb(i,s),Ym(l,o);var d=Ym(l,s);for(o=0;o<h.length;o+=2){var g=h[o],c=h[o+1];g==="style"?Tb(i,c):g==="dangerouslySetInnerHTML"?Eb(i,c):g==="children"?$l(i,c):Hy(i,g,c,d)}switch(l){case"input":$m(i,s);break;case"textarea":wb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?na(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zl]=s}catch(w){ht(r,r.return,w)}}break;case 6:if(en(e,r),In(r),n&4){if(r.stateNode===null)throw Error(K(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(w){ht(r,r.return,w)}}break;case 3:if(en(e,r),In(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(w){ht(r,r.return,w)}break;case 4:en(e,r),In(r);break;case 13:en(e,r),In(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w0=mt())),n&4&&G1(r);break;case 22:if(g=t!==null&&t.memoizedState!==null,r.mode&1?(Qt=(d=Qt)||g,en(e,r),Qt=d):en(e,r),In(r),n&8192){if(d=r.memoizedState!==null,(r.stateNode.isHidden=d)&&!g&&r.mode&1)for(he=r,g=r.child;g!==null;){for(c=he=g;he!==null;){switch(f=he,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ml(4,f,f.return);break;case 1:Ko(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,t=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ht(n,t,w)}}break;case 5:Ko(f,f.return);break;case 22:if(f.memoizedState!==null){H1(c);continue}}m!==null?(m.return=f,he=m):H1(c)}g=g.sibling}e:for(g=null,c=r;;){if(c.tag===5){if(g===null){g=c;try{i=c.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,h=c.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,l.style.display=Sb("display",o))}catch(w){ht(r,r.return,w)}}}else if(c.tag===6){if(g===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(w){ht(r,r.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===r)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:en(e,r),In(r),n&4&&G1(r);break;case 21:break;default:en(e,r),In(r)}}function In(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(KE(t)){var n=t;break e}t=t.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($l(i,""),n.flags&=-33);var s=U1(r);Sg(r,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=U1(r);Eg(r,l,o);break;default:throw Error(K(161))}}catch(h){ht(r,r.return,h)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function AR(r,e,t){he=r,eS(r)}function eS(r,e,t){for(var n=(r.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Rh;if(!o){var l=i.alternate,h=l!==null&&l.memoizedState!==null||Qt;l=Rh;var d=Qt;if(Rh=o,(Qt=h)&&!d)for(he=i;he!==null;)o=he,h=o.child,o.tag===22&&o.memoizedState!==null?$1(i):h!==null?(h.return=o,he=h):$1(i);for(;s!==null;)he=s,eS(s),s=s.sibling;he=i,Rh=l,Qt=d}z1(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):z1(r)}}function z1(r){for(;he!==null;){var e=he;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Fd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qt)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:on(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&S1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}S1(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var c=g.dehydrated;c!==null&&Xl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Qt||e.flags&512&&bg(e)}catch(f){ht(e,e.return,f)}}if(e===r){he=null;break}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}}function H1(r){for(;he!==null;){var e=he;if(e===r){he=null;break}var t=e.sibling;if(t!==null){t.return=e.return,he=t;break}he=e.return}}function $1(r){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Fd(4,e)}catch(h){ht(e,t,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){ht(e,i,h)}}var s=e.return;try{bg(e)}catch(h){ht(e,s,h)}break;case 5:var o=e.return;try{bg(e)}catch(h){ht(e,o,h)}}}catch(h){ht(e,e.return,h)}if(e===r){he=null;break}var l=e.sibling;if(l!==null){l.return=e.return,he=l;break}he=e.return}}var CR=Math.ceil,Kc=Si.ReactCurrentDispatcher,_0=Si.ReactCurrentOwner,Wr=Si.ReactCurrentBatchConfig,ke=0,Nt=null,vt=null,Gt=0,Er=0,Zo=ps(0),bt=0,iu=null,to=0,Ld=0,x0=0,Ol=null,hr=null,w0=0,ba=1/0,si=null,Zc=!1,Tg=null,ns=null,kh=!1,Yi=null,Jc=0,Nl=0,Ag=null,yc=-1,vc=0;function rr(){return ke&6?mt():yc!==-1?yc:yc=mt()}function is(r){return r.mode&1?ke&2&&Gt!==0?Gt&-Gt:hR.transition!==null?(vc===0&&(vc=Lb()),vc):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:jb(r.type)),r):1}function fn(r,e,t,n){if(50<Nl)throw Nl=0,Ag=null,Error(K(185));_u(r,t,n),(!(ke&2)||r!==Nt)&&(r===Nt&&(!(ke&2)&&(Ld|=t),bt===4&&Vi(r,Gt)),mr(r,n),t===1&&ke===0&&!(e.mode&1)&&(ba=mt()+500,Od&&ms()))}function mr(r,e){var t=r.callbackNode;hI(r,e);var n=Fc(r,r===Nt?Gt:0);if(n===0)t!==null&&Z_(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&Z_(t),e===1)r.tag===0?uR(j1.bind(null,r)):uE(j1.bind(null,r)),sR(function(){!(ke&6)&&ms()}),t=null;else{switch(Bb(n)){case 1:t=Xy;break;case 4:t=Db;break;case 16:t=Dc;break;case 536870912:t=Fb;break;default:t=Dc}t=lS(t,tS.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function tS(r,e){if(yc=-1,vc=0,ke&6)throw Error(K(327));var t=r.callbackNode;if(la()&&r.callbackNode!==t)return null;var n=Fc(r,r===Nt?Gt:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=ed(r,n);else{e=n;var i=ke;ke|=2;var s=nS();(Nt!==r||Gt!==e)&&(si=null,ba=mt()+500,Ws(r,e));do try{RR();break}catch(l){rS(r,l)}while(1);o0(),Kc.current=s,ke=i,vt!==null?e=0:(Nt=null,Gt=0,e=bt)}if(e!==0){if(e===2&&(i=Jm(r),i!==0&&(n=i,e=Cg(r,i))),e===1)throw t=iu,Ws(r,0),Vi(r,n),mr(r,mt()),t;if(e===6)Vi(r,n);else{if(i=r.current.alternate,!(n&30)&&!PR(i)&&(e=ed(r,n),e===2&&(s=Jm(r),s!==0&&(n=s,e=Cg(r,s))),e===1))throw t=iu,Ws(r,0),Vi(r,n),mr(r,mt()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:Os(r,hr,si);break;case 3:if(Vi(r,n),(n&130023424)===n&&(e=w0+500-mt(),10<e)){if(Fc(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){rr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=ag(Os.bind(null,r,hr,si),e);break}Os(r,hr,si);break;case 4:if(Vi(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var o=31-dn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CR(n/1960))-n,10<n){r.timeoutHandle=ag(Os.bind(null,r,hr,si),n);break}Os(r,hr,si);break;case 5:Os(r,hr,si);break;default:throw Error(K(329))}}}return mr(r,mt()),r.callbackNode===t?tS.bind(null,r):null}function Cg(r,e){var t=Ol;return r.current.memoizedState.isDehydrated&&(Ws(r,e).flags|=256),r=ed(r,e),r!==2&&(e=hr,hr=t,e!==null&&Pg(e)),r}function Pg(r){hr===null?hr=r:hr.push.apply(hr,r)}function PR(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(r,e){for(e&=~x0,e&=~Ld,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-dn(e),n=1<<t;r[t]=-1,e&=~n}}function j1(r){if(ke&6)throw Error(K(327));la();var e=Fc(r,0);if(!(e&1))return mr(r,mt()),null;var t=ed(r,e);if(r.tag!==0&&t===2){var n=Jm(r);n!==0&&(e=n,t=Cg(r,n))}if(t===1)throw t=iu,Ws(r,0),Vi(r,e),mr(r,mt()),t;if(t===6)throw Error(K(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Os(r,hr,si),mr(r,mt()),null}function b0(r,e){var t=ke;ke|=1;try{return r(e)}finally{ke=t,ke===0&&(ba=mt()+500,Od&&ms())}}function ro(r){Yi!==null&&Yi.tag===0&&!(ke&6)&&la();var e=ke;ke|=1;var t=Wr.transition,n=Ue;try{if(Wr.transition=null,Ue=1,r)return r()}finally{Ue=n,Wr.transition=t,ke=e,!(ke&6)&&ms()}}function E0(){Er=Zo.current,Ye(Zo)}function Ws(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,iR(t)),vt!==null)for(t=vt.return;t!==null;){var n=t;switch(n0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zc();break;case 3:xa(),Ye(fr),Ye(qt),d0();break;case 5:c0(n);break;case 4:xa();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:a0(n.type._context);break;case 22:case 23:E0()}t=t.return}if(Nt=r,vt=r=ss(r.current,null),Gt=Er=e,bt=0,iu=null,x0=Ld=to=0,hr=Ol=null,$s!==null){for(e=0;e<$s.length;e++)if(t=$s[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}t.pending=n}$s=null}return r}function rS(r,e){do{var t=vt;try{if(o0(),pc.current=qc,Qc){for(var n=ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Qc=!1}if(eo=0,kt=wt=ot=null,kl=!1,tu=0,_0.current=null,t===null||t.return===null){bt=1,iu=e,vt=null;break}e:{var s=r,o=t.return,l=t,h=e;if(e=Gt,l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,g=l,c=g.tag;if(!(g.mode&1)&&(c===0||c===11||c===15)){var f=g.alternate;f?(g.updateQueue=f.updateQueue,g.memoizedState=f.memoizedState,g.lanes=f.lanes):(g.updateQueue=null,g.memoizedState=null)}var m=k1(o);if(m!==null){m.flags&=-257,M1(m,o,l,s,e),m.mode&1&&R1(s,d,e),e=m,h=d;var v=e.updateQueue;if(v===null){var w=new Set;w.add(h),e.updateQueue=w}else v.add(h);break e}else{if(!(e&1)){R1(s,d,e),S0();break e}h=Error(K(426))}}else if(Je&&l.mode&1){var T=k1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),M1(T,o,l,s,e),i0(wa(h,l));break e}}s=h=wa(h,l),bt!==4&&(bt=2),Ol===null?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=UE(s,h,e);E1(s,x);break e;case 1:l=h;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ns===null||!ns.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=GE(s,l,e);E1(s,A);break e}}s=s.return}while(s!==null)}sS(t)}catch(P){e=P,vt===t&&t!==null&&(vt=t=t.return);continue}break}while(1)}function nS(){var r=Kc.current;return Kc.current=qc,r===null?qc:r}function S0(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||!(to&268435455)&&!(Ld&268435455)||Vi(Nt,Gt)}function ed(r,e){var t=ke;ke|=2;var n=nS();(Nt!==r||Gt!==e)&&(si=null,Ws(r,e));do try{IR();break}catch(i){rS(r,i)}while(1);if(o0(),ke=t,Kc.current=n,vt!==null)throw Error(K(261));return Nt=null,Gt=0,bt}function IR(){for(;vt!==null;)iS(vt)}function RR(){for(;vt!==null&&!tI();)iS(vt)}function iS(r){var e=aS(r.alternate,r,Er);r.memoizedProps=r.pendingProps,e===null?sS(r):vt=e,_0.current=null}function sS(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=ER(t,e),t!==null){t.flags&=32767,vt=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,vt=null;return}}else if(t=bR(t,e,Er),t!==null){vt=t;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=r}while(e!==null);bt===0&&(bt=5)}function Os(r,e,t){var n=Ue,i=Wr.transition;try{Wr.transition=null,Ue=1,kR(r,e,t,n)}finally{Wr.transition=i,Ue=n}return null}function kR(r,e,t,n){do la();while(Yi!==null);if(ke&6)throw Error(K(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(K(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(cI(r,s),r===Nt&&(vt=Nt=null,Gt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||kh||(kh=!0,lS(Dc,function(){return la(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Wr.transition,Wr.transition=null;var o=Ue;Ue=1;var l=ke;ke|=4,_0.current=null,TR(r,t),JE(t,r),KI(sg),Lc=!!ig,sg=ig=null,r.current=t,AR(t),rI(),ke=l,Ue=o,Wr.transition=s}else r.current=t;if(kh&&(kh=!1,Yi=r,Jc=i),s=r.pendingLanes,s===0&&(ns=null),sI(t.stateNode),mr(r,mt()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zc)throw Zc=!1,r=Tg,Tg=null,r;return Jc&1&&r.tag!==0&&la(),s=r.pendingLanes,s&1?r===Ag?Nl++:(Nl=0,Ag=r):Nl=0,ms(),null}function la(){if(Yi!==null){var r=Bb(Jc),e=Wr.transition,t=Ue;try{if(Wr.transition=null,Ue=16>r?16:r,Yi===null)var n=!1;else{if(r=Yi,Yi=null,Jc=0,ke&6)throw Error(K(331));var i=ke;for(ke|=4,he=r.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var l=s.deletions;if(l!==null){for(var h=0;h<l.length;h++){var d=l[h];for(he=d;he!==null;){var g=he;switch(g.tag){case 0:case 11:case 15:Ml(8,g,s)}var c=g.child;if(c!==null)c.return=g,he=c;else for(;he!==null;){g=he;var f=g.sibling,m=g.return;if(qE(g),g===d){he=null;break}if(f!==null){f.return=m,he=f;break}he=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,he=x;break e}he=s.return}}var E=r.current;for(he=E;he!==null;){o=he;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,he=S;else e:for(o=E;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fd(9,l)}}catch(P){ht(l,l.return,P)}if(l===o){he=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,he=A;break e}he=l.return}}if(ke=i,ms(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Pd,r)}catch{}n=!0}return n}finally{Ue=t,Wr.transition=e}}return!1}function V1(r,e,t){e=wa(t,e),e=UE(r,e,1),r=rs(r,e,1),e=rr(),r!==null&&(_u(r,1,e),mr(r,e))}function ht(r,e,t){if(r.tag===3)V1(r,r,t);else for(;e!==null;){if(e.tag===3){V1(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ns===null||!ns.has(n))){r=wa(t,r),r=GE(e,r,1),e=rs(e,r,1),r=rr(),e!==null&&(_u(e,1,r),mr(e,r));break}}e=e.return}}function MR(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=rr(),r.pingedLanes|=r.suspendedLanes&t,Nt===r&&(Gt&t)===t&&(bt===4||bt===3&&(Gt&130023424)===Gt&&500>mt()-w0?Ws(r,0):x0|=t),mr(r,e)}function oS(r,e){e===0&&(r.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var t=rr();r=xi(r,e),r!==null&&(_u(r,e,t),mr(r,t))}function OR(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),oS(r,t)}function NR(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),oS(r,t)}var aS;aS=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||fr.current)cr=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return cr=!1,wR(r,e,t);cr=!!(r.flags&131072)}else cr=!1,Je&&e.flags&1048576&&hE(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gc(r,e),r=e.pendingProps;var i=ya(e,qt.current);aa(e,t),i=p0(null,e,n,r,i,t);var s=m0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(n)?(s=!0,Hc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u0(e),i.updater=Nd,e.stateNode=i,i._reactInternals=e,pg(e,n,r,t),e=yg(null,e,n,!0,s,t)):(e.tag=0,Je&&s&&r0(e),er(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(gc(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FR(n),r=on(n,r),i){case 0:e=gg(null,e,n,r,t);break e;case 1:e=D1(null,e,n,r,t);break e;case 11:e=O1(null,e,n,r,t);break e;case 14:e=N1(null,e,n,on(n.type,r),t);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),gg(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),D1(r,e,n,i,t);case 3:e:{if(jE(e),r===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,pE(r,e),Xc(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wa(Error(K(423)),e),e=F1(r,e,n,t,i);break e}else if(n!==i){i=wa(Error(K(424)),e),e=F1(r,e,n,t,i);break e}else for(Sr=ts(e.stateNode.containerInfo.firstChild),Tr=e,Je=!0,ln=null,t=vE(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(va(),n===i){e=wi(r,e,t);break e}er(r,e,n,t)}e=e.child}return e;case 5:return _E(e),r===null&&cg(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,o=i.children,og(n,i)?o=null:s!==null&&og(n,s)&&(e.flags|=32),$E(r,e),er(r,e,o,t),e.child;case 6:return r===null&&cg(e),null;case 13:return VE(r,e,t);case 4:return h0(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=_a(e,null,n,t):er(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),O1(r,e,n,i,t);case 7:return er(r,e,e.pendingProps,t),e.child;case 8:return er(r,e,e.pendingProps.children,t),e.child;case 12:return er(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(Vc,n._currentValue),n._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!fr.current){e=wi(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var h=l.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=mi(-1,t&-t),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?h.next=h:(h.next=g.next,g.next=h),d.pending=h}}s.lanes|=t,h=s.alternate,h!==null&&(h.lanes|=t),dg(s.return,t,e),l.lanes|=t;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),dg(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}er(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,aa(e,t),i=Xr(i),n=n(i),e.flags|=1,er(r,e,n,t),e.child;case 14:return n=e.type,i=on(n,e.pendingProps),i=on(n.type,i),N1(r,e,n,i,t);case 15:return zE(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),gc(r,e),e.tag=1,pr(n)?(r=!0,Hc(e)):r=!1,aa(e,t),gE(e,n,i),pg(e,n,i,t),yg(null,e,n,!0,r,t);case 19:return WE(r,e,t);case 22:return HE(r,e,t)}throw Error(K(156,e.tag))};function lS(r,e){return Nb(r,e)}function DR(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(r,e,t,n){return new DR(r,e,t,n)}function T0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function FR(r){if(typeof r=="function")return T0(r)?1:0;if(r!=null){if(r=r.$$typeof,r===jy)return 11;if(r===Vy)return 14}return 2}function ss(r,e){var t=r.alternate;return t===null?(t=$r(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function _c(r,e,t,n,i,s){var o=2;if(n=r,typeof r=="function")T0(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case Ho:return Xs(t.children,i,s,e);case $y:o=8,i|=8;break;case Bm:return r=$r(12,t,e,i|2),r.elementType=Bm,r.lanes=s,r;case Um:return r=$r(13,t,e,i),r.elementType=Um,r.lanes=s,r;case Gm:return r=$r(19,t,e,i),r.elementType=Gm,r.lanes=s,r;case yb:return Bd(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case mb:o=10;break e;case gb:o=9;break e;case jy:o=11;break e;case Vy:o=14;break e;case Gi:o=16,n=null;break e}throw Error(K(130,r==null?r:typeof r,""))}return e=$r(o,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function Xs(r,e,t,n){return r=$r(7,r,n,e),r.lanes=t,r}function Bd(r,e,t,n){return r=$r(22,r,n,e),r.elementType=yb,r.lanes=t,r.stateNode={isHidden:!1},r}function Vp(r,e,t){return r=$r(6,r,null,e),r.lanes=t,r}function Wp(r,e,t){return e=$r(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function LR(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A0(r,e,t,n,i,s,o,l,h){return r=new LR(r,e,t,l,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},u0(s),r}function BR(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function uS(r){if(!r)return ls;r=r._reactInternals;e:{if(oo(r)!==r||r.tag!==1)throw Error(K(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(r.tag===1){var t=r.type;if(pr(t))return lE(r,t,e)}return e}function hS(r,e,t,n,i,s,o,l,h){return r=A0(t,n,!0,r,i,s,o,l,h),r.context=uS(null),t=r.current,n=rr(),i=is(t),s=mi(n,i),s.callback=e??null,rs(t,s,i),r.current.lanes=i,_u(r,i,n),mr(r,n),r}function Ud(r,e,t,n){var i=e.current,s=rr(),o=is(i);return t=uS(t),e.context===null?e.context=t:e.pendingContext=t,e=mi(s,o),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=rs(i,e,o),r!==null&&(fn(r,i,o,s),fc(r,i,o)),o}function td(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function W1(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function C0(r,e){W1(r,e),(r=r.alternate)&&W1(r,e)}function UR(){return null}var cS=typeof reportError=="function"?reportError:function(r){console.error(r)};function P0(r){this._internalRoot=r}Gd.prototype.render=P0.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(K(409));Ud(r,e,null,null)};Gd.prototype.unmount=P0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;ro(function(){Ud(null,r,null,null)}),e[_i]=null}};function Gd(r){this._internalRoot=r}Gd.prototype.unstable_scheduleHydration=function(r){if(r){var e=zb();r={blockedOn:null,target:r,priority:e};for(var t=0;t<ji.length&&e!==0&&e<ji[t].priority;t++);ji.splice(t,0,r),t===0&&$b(r)}};function I0(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function X1(){}function GR(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=td(o);s.call(d)}}var o=hS(e,n,r,0,null,!1,!1,"",X1);return r._reactRootContainer=o,r[_i]=o.current,ql(r.nodeType===8?r.parentNode:r),ro(),o}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=td(h);l.call(d)}}var h=A0(r,0,!1,null,null,!1,!1,"",X1);return r._reactRootContainer=h,r[_i]=h.current,ql(r.nodeType===8?r.parentNode:r),ro(function(){Ud(e,h,t,n)}),h}function Hd(r,e,t,n,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var h=td(o);l.call(h)}}Ud(e,o,r,i)}else o=GR(t,e,r,i,n);return td(o)}Ub=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=ml(e.pendingLanes);t!==0&&(Yy(e,t|1),mr(e,mt()),!(ke&6)&&(ba=mt()+500,ms()))}break;case 13:ro(function(){var n=xi(r,1);if(n!==null){var i=rr();fn(n,r,1,i)}}),C0(r,1)}};Qy=function(r){if(r.tag===13){var e=xi(r,134217728);if(e!==null){var t=rr();fn(e,r,134217728,t)}C0(r,134217728)}};Gb=function(r){if(r.tag===13){var e=is(r),t=xi(r,e);if(t!==null){var n=rr();fn(t,r,e,n)}C0(r,e)}};zb=function(){return Ue};Hb=function(r,e){var t=Ue;try{return Ue=r,e()}finally{Ue=t}};qm=function(r,e,t){switch(e){case"input":if($m(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=Md(n);if(!i)throw Error(K(90));_b(n),$m(n,i)}}}break;case"textarea":wb(r,t);break;case"select":e=t.value,e!=null&&na(r,!!t.multiple,e,!1)}};Pb=b0;Ib=ro;var zR={usingClientEntryPoint:!1,Events:[wu,Wo,Md,Ab,Cb,b0]},ol={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HR={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Mb(r),r===null?null:r.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||UR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Pd=Mh.inject(HR),zn=Mh}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;Pr.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(e))throw Error(K(200));return BR(r,e,null,t)};Pr.createRoot=function(r,e){if(!I0(r))throw Error(K(299));var t=!1,n="",i=cS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A0(r,1,!1,null,null,t,!1,n,i),r[_i]=e.current,ql(r.nodeType===8?r.parentNode:r),new P0(e)};Pr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(K(188)):(r=Object.keys(r).join(","),Error(K(268,r)));return r=Mb(e),r=r===null?null:r.stateNode,r};Pr.flushSync=function(r){return ro(r)};Pr.hydrate=function(r,e,t){if(!zd(e))throw Error(K(200));return Hd(null,r,e,!0,t)};Pr.hydrateRoot=function(r,e,t){if(!I0(r))throw Error(K(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",o=cS;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=hS(e,null,r,1,t??null,i,!1,s,o),r[_i]=e.current,ql(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Gd(e)};Pr.render=function(r,e,t){if(!zd(e))throw Error(K(200));return Hd(null,r,e,!1,t)};Pr.unmountComponentAtNode=function(r){if(!zd(r))throw Error(K(40));return r._reactRootContainer?(ro(function(){Hd(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1};Pr.unstable_batchedUpdates=b0;Pr.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!zd(t))throw Error(K(200));if(r==null||r._reactInternals===void 0)throw Error(K(38));return Hd(r,e,t,!1,n)};Pr.version="18.2.0-next-9e3b772b8-20220608";function dS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dS)}catch(r){console.error(r)}}dS(),hb.exports=Pr;var $R=hb.exports,fS,Y1=$R;fS=Y1.createRoot,Y1.hydrateRoot;var pS={exports:{}};(function(r){(function(){function e(w,T){document.addEventListener?w.addEventListener("scroll",T,!1):w.attachEvent("scroll",T)}function t(w){document.body?w():document.addEventListener?document.addEventListener("DOMContentLoaded",function T(){document.removeEventListener("DOMContentLoaded",T),w()}):document.attachEvent("onreadystatechange",function T(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",T),w())})}function n(w){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(w)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(w,T){w.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+T+";"}function s(w){var T=w.g.offsetWidth,x=T+100;return w.j.style.width=x+"px",w.i.scrollLeft=x,w.h.scrollLeft=w.h.scrollWidth+100,w.l!==T?(w.l=T,!0):!1}function o(w,T){function x(){var S=E;s(S)&&S.g.parentNode!==null&&T(S.l)}var E=w;e(w.h,x),e(w.i,x),s(w)}function l(w,T,x){T=T||{},x=x||window,this.family=w,this.style=T.style||"normal",this.weight=T.weight||"normal",this.stretch=T.stretch||"normal",this.context=x}var h=null,d=null,g=null,c=null;function f(w){return d===null&&(m(w)&&/Apple/.test(window.navigator.vendor)?(w=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!w&&603>parseInt(w[1],10)):d=!1),d}function m(w){return c===null&&(c=!!w.document.fonts),c}function v(w,T){var x=w.style,E=w.weight;if(g===null){var S=document.createElement("div");try{S.style.font="condensed 100px sans-serif"}catch{}g=S.style.font!==""}return[x,E,g?w.stretch:"","100px",T].join(" ")}l.prototype.load=function(w,T){var x=this,E=w||"BESbswy",S=0,A=T||3e3,P=new Date().getTime();return new Promise(function(L,k){if(m(x.context)&&!f(x.context)){var R=new Promise(function(H,re){function Y(){new Date().getTime()-P>=A?re(Error(""+A+"ms timeout exceeded")):x.context.document.fonts.load(v(x,'"'+x.family+'"'),E).then(function(N){1<=N.length?H():setTimeout(Y,25)},re)}Y()}),U=new Promise(function(H,re){S=setTimeout(function(){re(Error(""+A+"ms timeout exceeded"))},A)});Promise.race([U,R]).then(function(){clearTimeout(S),L(x)},k)}else t(function(){function H(){var q;(q=ee!=-1&&oe!=-1||ee!=-1&&ie!=-1||oe!=-1&&ie!=-1)&&((q=ee!=oe&&ee!=ie&&oe!=ie)||(h===null&&(q=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!q&&(536>parseInt(q[1],10)||parseInt(q[1],10)===536&&11>=parseInt(q[2],10))),q=h&&(ee==M&&oe==M&&ie==M||ee==$&&oe==$&&ie==$||ee==D&&oe==D&&ie==D)),q=!q),q&&(B.parentNode!==null&&B.parentNode.removeChild(B),clearTimeout(S),L(x))}function re(){if(new Date().getTime()-P>=A)B.parentNode!==null&&B.parentNode.removeChild(B),k(Error(""+A+"ms timeout exceeded"));else{var q=x.context.document.hidden;(q===!0||q===void 0)&&(ee=Y.g.offsetWidth,oe=N.g.offsetWidth,ie=j.g.offsetWidth,H()),S=setTimeout(re,50)}}var Y=new n(E),N=new n(E),j=new n(E),ee=-1,oe=-1,ie=-1,M=-1,$=-1,D=-1,B=document.createElement("div");B.dir="ltr",i(Y,v(x,"sans-serif")),i(N,v(x,"serif")),i(j,v(x,"monospace")),B.appendChild(Y.g),B.appendChild(N.g),B.appendChild(j.g),x.context.document.body.appendChild(B),M=Y.g.offsetWidth,$=N.g.offsetWidth,D=j.g.offsetWidth,re(),o(Y,function(q){ee=q,H()}),i(Y,v(x,'"'+x.family+'",sans-serif')),o(N,function(q){oe=q,H()}),i(N,v(x,'"'+x.family+'",serif')),o(j,function(q){ie=q,H()}),i(j,v(x,'"'+x.family+'",monospace'))})})},r.exports=l})()})(pS);var jR=pS.exports;const VR=mu(jR);var R0={exports:{}},ua=typeof Reflect=="object"?Reflect:null,Q1=ua&&typeof ua.apply=="function"?ua.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},xc;ua&&typeof ua.ownKeys=="function"?xc=ua.ownKeys:Object.getOwnPropertySymbols?xc=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xc=function(e){return Object.getOwnPropertyNames(e)};function WR(r){console&&console.warn&&console.warn(r)}var mS=Number.isNaN||function(e){return e!==e};function ze(){ze.init.call(this)}R0.exports=ze;R0.exports.once=qR;ze.EventEmitter=ze;ze.prototype._events=void 0;ze.prototype._eventsCount=0;ze.prototype._maxListeners=void 0;var q1=10;function $d(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(ze,"defaultMaxListeners",{enumerable:!0,get:function(){return q1},set:function(r){if(typeof r!="number"||r<0||mS(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");q1=r}});ze.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ze.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||mS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function gS(r){return r._maxListeners===void 0?ze.defaultMaxListeners:r._maxListeners}ze.prototype.getMaxListeners=function(){return gS(this)};ze.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var h=s[e];if(h===void 0)return!1;if(typeof h=="function")Q1(h,this,t);else for(var d=h.length,g=wS(h,d),n=0;n<d;++n)Q1(g[n],this,t);return!0};function yS(r,e,t,n){var i,s,o;if($d(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=gS(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=r,l.type=e,l.count=o.length,WR(l)}return r}ze.prototype.addListener=function(e,t){return yS(this,e,t,!1)};ze.prototype.on=ze.prototype.addListener;ze.prototype.prependListener=function(e,t){return yS(this,e,t,!0)};function XR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function vS(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=XR.bind(n);return i.listener=t,n.wrapFn=i,i}ze.prototype.once=function(e,t){return $d(t),this.on(e,vS(this,e,t)),this};ze.prototype.prependOnceListener=function(e,t){return $d(t),this.prependListener(e,vS(this,e,t)),this};ze.prototype.removeListener=function(e,t){var n,i,s,o,l;if($d(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){l=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():YR(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||t)}return this};ze.prototype.off=ze.prototype.removeListener;ze.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function _S(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?QR(i):wS(i,i.length)}ze.prototype.listeners=function(e){return _S(this,e,!0)};ze.prototype.rawListeners=function(e){return _S(this,e,!1)};ze.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):xS.call(r,e)};ze.prototype.listenerCount=xS;function xS(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}ze.prototype.eventNames=function(){return this._eventsCount>0?xc(this._events):[]};function wS(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function YR(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function QR(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function qR(r,e){return new Promise(function(t,n){function i(o){r.removeListener(e,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}bS(r,e,s,{once:!0}),e!=="error"&&KR(r,i,{once:!0})})}function KR(r,e,t){typeof r.on=="function"&&bS(r,"error",e,t)}function bS(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var ZR=R0.exports;function JR(r){let e=Object.create(null);return r=r.trim().replace(/^(\?|#|&)/,""),r&&r.split("&").forEach(t=>{let n=t.replace(/\+/g," ").split("="),i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function e2(){return JR(location.search)}function t2(r,e){let t=e2();return t[r]?t[r]:e}class r2{constructor(){rt(this,"urlOptions");rt(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.configOptions=lb("gameconfig")||{}}configureLanguage(){let e=t2("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;default:e="en"}return e}getUrlConfig(){return{lang:this.configureLanguage()}}}class n2 extends r2{constructor(){super(...arguments);rt(this,"_tweenTime",0)}set tweenTime(t){this._tweenTime=t}get tweenTime(){return this._tweenTime}}class i2 extends n2{constructor(){super(...arguments);rt(this,"eventEmitter",new ZR.EventEmitter)}get notice(){return this.eventEmitter}}class s2 extends i2{constructor(){super(...arguments);rt(this,"_viewport");rt(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(t,n,i,s){this._viewport=[t,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}getOrientationType(){const t=this.configOptions.layoutMap;return t.p&&t.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":t.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class o2 extends s2{constructor(){super(...arguments);rt(this,"_isSupportAvif",!1);rt(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(t,n){this._isSupportAvif=n,this._isSupportWebp=t}filterImageFormat(t){return this.isSupportAvif||t.splice(t.indexOf("avif"),1),this.isSupportWebp||t.splice(t.indexOf("webp"),1),t[0]}}const Td=class Td extends o2{static get Obj(){return this._Obj||(this._Obj=new Td),this._Obj}};rt(Td,"_Obj");let pn=Td;var ao=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(ao||{}),ES=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(ES||{}),Ig=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(Ig||{}),ye=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(ye||{}),hn=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(hn||{}),J=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(J||{}),ha=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(ha||{}),me=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(me||{}),ae=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(ae||{}),ci=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(ci||{}),gi=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(gi||{}),Vn=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(Vn||{}),dr=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(dr||{}),Fn=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(Fn||{}),k0=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(k0||{}),jr=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(jr||{}),xt=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(xt||{}),yt=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(yt||{}),$n=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))($n||{});const a2={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},le={ADAPTER:a2,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Xp=/iPhone/i,K1=/iPod/i,Z1=/iPad/i,J1=/\biOS-universal(?:.+)Mac\b/i,Yp=/\bAndroid(?:.+)Mobile\b/i,ex=/Android/i,Po=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oh=/Silk/i,ti=/Windows Phone/i,tx=/\bWindows(?:.+)ARM\b/i,rx=/BlackBerry/i,nx=/BB10/i,ix=/Opera Mini/i,sx=/\b(CriOS|Chrome)(?:.+)Mobile/i,ox=/Mobile(?:.+)Firefox\b/i,ax=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function l2(r){return function(e){return e.test(r)}}function lx(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=l2(t),s={apple:{phone:i(Xp)&&!i(ti),ipod:i(K1),tablet:!i(Xp)&&(i(Z1)||ax(e))&&!i(ti),universal:i(J1),device:(i(Xp)||i(K1)||i(Z1)||i(J1)||ax(e))&&!i(ti)},amazon:{phone:i(Po),tablet:!i(Po)&&i(Oh),device:i(Po)||i(Oh)},android:{phone:!i(ti)&&i(Po)||!i(ti)&&i(Yp),tablet:!i(ti)&&!i(Po)&&!i(Yp)&&(i(Oh)||i(ex)),device:!i(ti)&&(i(Po)||i(Oh)||i(Yp)||i(ex))||i(/\bokhttp\b/i)},windows:{phone:i(ti),tablet:i(tx),device:i(ti)||i(tx)},other:{blackberry:i(rx),blackberry10:i(nx),opera:i(ix),firefox:i(ox),chrome:i(sx),device:i(rx)||i(nx)||i(ix)||i(ox)||i(sx)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const u2=lx.default??lx,Un=u2(globalThis.navigator);le.RETINA_PREFIX=/@([0-9\.]+)x/;le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var SS={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(h,d,g){this.fn=h,this.context=d,this.once=g||!1}function s(h,d,g,c,f){if(typeof g!="function")throw new TypeError("The listener must be a function");var m=new i(g,c||h,f),v=t?t+d:d;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],m]:h._events[v].push(m):(h._events[v]=m,h._eventsCount++),h}function o(h,d){--h._eventsCount===0?h._events=new n:delete h._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],g,c;if(this._eventsCount===0)return d;for(c in g=this._events)e.call(g,c)&&d.push(t?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},l.prototype.listeners=function(d){var g=t?t+d:d,c=this._events[g];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,m=c.length,v=new Array(m);f<m;f++)v[f]=c[f].fn;return v},l.prototype.listenerCount=function(d){var g=t?t+d:d,c=this._events[g];return c?c.fn?1:c.length:0},l.prototype.emit=function(d,g,c,f,m,v){var w=t?t+d:d;if(!this._events[w])return!1;var T=this._events[w],x=arguments.length,E,S;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),x){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,c),!0;case 4:return T.fn.call(T.context,g,c,f),!0;case 5:return T.fn.call(T.context,g,c,f,m),!0;case 6:return T.fn.call(T.context,g,c,f,m,v),!0}for(S=1,E=new Array(x-1);S<x;S++)E[S-1]=arguments[S];T.fn.apply(T.context,E)}else{var A=T.length,P;for(S=0;S<A;S++)switch(T[S].once&&this.removeListener(d,T[S].fn,void 0,!0),x){case 1:T[S].fn.call(T[S].context);break;case 2:T[S].fn.call(T[S].context,g);break;case 3:T[S].fn.call(T[S].context,g,c);break;case 4:T[S].fn.call(T[S].context,g,c,f);break;default:if(!E)for(P=1,E=new Array(x-1);P<x;P++)E[P-1]=arguments[P];T[S].fn.apply(T[S].context,E)}}return!0},l.prototype.on=function(d,g,c){return s(this,d,g,c,!1)},l.prototype.once=function(d,g,c){return s(this,d,g,c,!0)},l.prototype.removeListener=function(d,g,c,f){var m=t?t+d:d;if(!this._events[m])return this;if(!g)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===g&&(!f||v.once)&&(!c||v.context===c)&&o(this,m);else{for(var w=0,T=[],x=v.length;w<x;w++)(v[w].fn!==g||f&&!v[w].once||c&&v[w].context!==c)&&T.push(v[w]);T.length?this._events[m]=T.length===1?T[0]:T:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var g;return d?(g=t?t+d:d,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(SS);var h2=SS.exports;const Eu=mu(h2);var M0={exports:{}};M0.exports=jd;M0.exports.default=jd;function jd(r,e,t){t=t||2;var n=e&&e.length,i=n?e[0]*t:r.length,s=TS(r,0,i,t,!0),o=[];if(!s||s.next===s.prev)return o;var l,h,d,g,c,f,m;if(n&&(s=m2(r,e,s,t)),r.length>80*t){l=d=r[0],h=g=r[1];for(var v=t;v<i;v+=t)c=r[v],f=r[v+1],c<l&&(l=c),f<h&&(h=f),c>d&&(d=c),f>g&&(g=f);m=Math.max(d-l,g-h),m=m!==0?32767/m:0}return su(s,o,t,l,h,m,0),o}function TS(r,e,t,n,i){var s,o;if(i===Mg(r,e,t,n)>0)for(s=e;s<t;s+=n)o=ux(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=ux(s,r[s],r[s+1],o);return o&&Vd(o,o.next)&&(au(o),o=o.next),o}function no(r,e){if(!r)return r;e||(e=r);var t=r,n;do if(n=!1,!t.steiner&&(Vd(t,t.next)||st(t.prev,t,t.next)===0)){if(au(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function su(r,e,t,n,i,s,o){if(r){!o&&s&&x2(r,n,i,s);for(var l=r,h,d;r.prev!==r.next;){if(h=r.prev,d=r.next,s?d2(r,n,i,s):c2(r)){e.push(h.i/t|0),e.push(r.i/t|0),e.push(d.i/t|0),au(r),r=d.next,l=d.next;continue}if(r=d,r===l){o?o===1?(r=f2(no(r),e,t),su(r,e,t,n,i,s,2)):o===2&&p2(r,e,t,n,i,s):su(no(r),e,t,n,i,s,1);break}}}}function c2(r){var e=r.prev,t=r,n=r.next;if(st(e,t,n)>=0)return!1;for(var i=e.x,s=t.x,o=n.x,l=e.y,h=t.y,d=n.y,g=i<s?i<o?i:o:s<o?s:o,c=l<h?l<d?l:d:h<d?h:d,f=i>s?i>o?i:o:s>o?s:o,m=l>h?l>d?l:d:h>d?h:d,v=n.next;v!==e;){if(v.x>=g&&v.x<=f&&v.y>=c&&v.y<=m&&Jo(i,l,s,h,o,d,v.x,v.y)&&st(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function d2(r,e,t,n){var i=r.prev,s=r,o=r.next;if(st(i,s,o)>=0)return!1;for(var l=i.x,h=s.x,d=o.x,g=i.y,c=s.y,f=o.y,m=l<h?l<d?l:d:h<d?h:d,v=g<c?g<f?g:f:c<f?c:f,w=l>h?l>d?l:d:h>d?h:d,T=g>c?g>f?g:f:c>f?c:f,x=Rg(m,v,e,t,n),E=Rg(w,T,e,t,n),S=r.prevZ,A=r.nextZ;S&&S.z>=x&&A&&A.z<=E;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=T&&S!==i&&S!==o&&Jo(l,g,h,c,d,f,S.x,S.y)&&st(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=m&&A.x<=w&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&Jo(l,g,h,c,d,f,A.x,A.y)&&st(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=T&&S!==i&&S!==o&&Jo(l,g,h,c,d,f,S.x,S.y)&&st(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=E;){if(A.x>=m&&A.x<=w&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&Jo(l,g,h,c,d,f,A.x,A.y)&&st(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function f2(r,e,t){var n=r;do{var i=n.prev,s=n.next.next;!Vd(i,s)&&AS(i,n,n.next,s)&&ou(i,s)&&ou(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),au(n),au(n.next),n=r=s),n=n.next}while(n!==r);return no(n)}function p2(r,e,t,n,i,s){var o=r;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&E2(o,l)){var h=CS(o,l);o=no(o,o.next),h=no(h,h.next),su(o,e,t,n,i,s,0),su(h,e,t,n,i,s,0);return}l=l.next}o=o.next}while(o!==r)}function m2(r,e,t,n){var i=[],s,o,l,h,d;for(s=0,o=e.length;s<o;s++)l=e[s]*n,h=s<o-1?e[s+1]*n:r.length,d=TS(r,l,h,n,!1),d===d.next&&(d.steiner=!0),i.push(b2(d));for(i.sort(g2),s=0;s<i.length;s++)t=y2(i[s],t);return t}function g2(r,e){return r.x-e.x}function y2(r,e){var t=v2(r,e);if(!t)return e;var n=CS(t,r);return no(n,n.next),no(t,t.next)}function v2(r,e){var t=e,n=r.x,i=r.y,s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var l=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(l<=n&&l>s&&(s=l,o=t.x<t.next.x?t:t.next,l===n))return o}t=t.next}while(t!==e);if(!o)return null;var h=o,d=o.x,g=o.y,c=1/0,f;t=o;do n>=t.x&&t.x>=d&&n!==t.x&&Jo(i<g?n:s,i,d,g,i<g?s:n,i,t.x,t.y)&&(f=Math.abs(i-t.y)/(n-t.x),ou(t,r)&&(f<c||f===c&&(t.x>o.x||t.x===o.x&&_2(o,t)))&&(o=t,c=f)),t=t.next;while(t!==h);return o}function _2(r,e){return st(r.prev,r,e.prev)<0&&st(e.next,r,r.next)<0}function x2(r,e,t,n){var i=r;do i.z===0&&(i.z=Rg(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,w2(i)}function w2(r){var e,t,n,i,s,o,l,h,d=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(h=d;l>0||h>0&&n;)l!==0&&(h===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,l--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,d*=2}while(o>1);return r}function Rg(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function b2(r){var e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Jo(r,e,t,n,i,s,o,l){return(i-o)*(e-l)>=(r-o)*(s-l)&&(r-o)*(n-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(i-o)*(n-l)}function E2(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!S2(r,e)&&(ou(r,e)&&ou(e,r)&&T2(r,e)&&(st(r.prev,r,e.prev)||st(r,e.prev,e))||Vd(r,e)&&st(r.prev,r,r.next)>0&&st(e.prev,e,e.next)>0)}function st(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Vd(r,e){return r.x===e.x&&r.y===e.y}function AS(r,e,t,n){var i=Dh(st(r,e,t)),s=Dh(st(r,e,n)),o=Dh(st(t,n,r)),l=Dh(st(t,n,e));return!!(i!==s&&o!==l||i===0&&Nh(r,t,e)||s===0&&Nh(r,n,e)||o===0&&Nh(t,r,n)||l===0&&Nh(t,e,n))}function Nh(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function Dh(r){return r>0?1:r<0?-1:0}function S2(r,e){var t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&AS(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function ou(r,e){return st(r.prev,r,r.next)<0?st(r,e,r.next)>=0&&st(r,r.prev,e)>=0:st(r,e,r.prev)<0||st(r,r.next,e)<0}function T2(r,e){var t=r,n=!1,i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function CS(r,e){var t=new kg(r.i,r.x,r.y),n=new kg(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function ux(r,e,t,n){var i=new kg(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function au(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function kg(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}jd.deviation=function(r,e,t,n){var i=e&&e.length,s=i?e[0]*t:r.length,o=Math.abs(Mg(r,0,s,t));if(i)for(var l=0,h=e.length;l<h;l++){var d=e[l]*t,g=l<h-1?e[l+1]*t:r.length;o-=Math.abs(Mg(r,d,g,t))}var c=0;for(l=0;l<n.length;l+=3){var f=n[l]*t,m=n[l+1]*t,v=n[l+2]*t;c+=Math.abs((r[f]-r[v])*(r[m+1]-r[f+1])-(r[f]-r[m])*(r[v+1]-r[f+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Mg(r,e,t,n){for(var i=0,s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}jd.flatten=function(r){for(var e=r[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,i=0;i<r.length;i++){for(var s=0;s<r[i].length;s++)for(var o=0;o<e;o++)t.vertices.push(r[i][s][o]);i>0&&(n+=r[i-1].length,t.holes.push(n))}return t};var A2=M0.exports;const C2=mu(A2);var rd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */rd.exports;(function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,s=typeof li=="object"&&li;(s.global===s||s.window===s||s.self===s)&&(t=s);var o,l=2147483647,h=36,d=1,g=26,c=38,f=700,m=72,v=128,w="-",T=/^xn--/,x=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=h-d,P=Math.floor,L=String.fromCharCode,k;function R(D){throw new RangeError(S[D])}function U(D,B){for(var q=D.length,we=[];q--;)we[q]=B(D[q]);return we}function H(D,B){var q=D.split("@"),we="";q.length>1&&(we=q[0]+"@",D=q[1]),D=D.replace(E,".");var ve=D.split("."),Fe=U(ve,B).join(".");return we+Fe}function re(D){for(var B=[],q=0,we=D.length,ve,Fe;q<we;)ve=D.charCodeAt(q++),ve>=55296&&ve<=56319&&q<we?(Fe=D.charCodeAt(q++),(Fe&64512)==56320?B.push(((ve&1023)<<10)+(Fe&1023)+65536):(B.push(ve),q--)):B.push(ve);return B}function Y(D){return U(D,function(B){var q="";return B>65535&&(B-=65536,q+=L(B>>>10&1023|55296),B=56320|B&1023),q+=L(B),q}).join("")}function N(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:h}function j(D,B){return D+22+75*(D<26)-((B!=0)<<5)}function ee(D,B,q){var we=0;for(D=q?P(D/f):D>>1,D+=P(D/B);D>A*g>>1;we+=h)D=P(D/A);return P(we+(A+1)*D/(D+c))}function oe(D){var B=[],q=D.length,we,ve=0,Fe=v,Ee=m,De,St,Dt,lt,Se,Ve,Me,Rr,kr;for(De=D.lastIndexOf(w),De<0&&(De=0),St=0;St<De;++St)D.charCodeAt(St)>=128&&R("not-basic"),B.push(D.charCodeAt(St));for(Dt=De>0?De+1:0;Dt<q;){for(lt=ve,Se=1,Ve=h;Dt>=q&&R("invalid-input"),Me=N(D.charCodeAt(Dt++)),(Me>=h||Me>P((l-ve)/Se))&&R("overflow"),ve+=Me*Se,Rr=Ve<=Ee?d:Ve>=Ee+g?g:Ve-Ee,!(Me<Rr);Ve+=h)kr=h-Rr,Se>P(l/kr)&&R("overflow"),Se*=kr;we=B.length+1,Ee=ee(ve-lt,we,lt==0),P(ve/we)>l-Fe&&R("overflow"),Fe+=P(ve/we),ve%=we,B.splice(ve++,0,Fe)}return Y(B)}function ie(D){var B,q,we,ve,Fe,Ee,De,St,Dt,lt,Se,Ve=[],Me,Rr,kr,_s;for(D=re(D),Me=D.length,B=v,q=0,Fe=m,Ee=0;Ee<Me;++Ee)Se=D[Ee],Se<128&&Ve.push(L(Se));for(we=ve=Ve.length,ve&&Ve.push(w);we<Me;){for(De=l,Ee=0;Ee<Me;++Ee)Se=D[Ee],Se>=B&&Se<De&&(De=Se);for(Rr=we+1,De-B>P((l-q)/Rr)&&R("overflow"),q+=(De-B)*Rr,B=De,Ee=0;Ee<Me;++Ee)if(Se=D[Ee],Se<B&&++q>l&&R("overflow"),Se==B){for(St=q,Dt=h;lt=Dt<=Fe?d:Dt>=Fe+g?g:Dt-Fe,!(St<lt);Dt+=h)_s=St-lt,kr=h-lt,Ve.push(L(j(lt+_s%kr,0))),St=P(_s/kr);Ve.push(L(j(St,0))),Fe=ee(q,Rr,we==ve),q=0,++we}++q,++B}return Ve.join("")}function M(D){return H(D,function(B){return T.test(B)?oe(B.slice(4).toLowerCase()):B})}function $(D){return H(D,function(B){return x.test(B)?"xn--"+ie(B):B})}if(o={version:"1.4.1",ucs2:{decode:re,encode:Y},decode:oe,encode:ie,toASCII:$,toUnicode:M},n&&i)if(r.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else t.punycode=o})(li)})(rd,rd.exports);var P2=rd.exports,I2=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0},hx=typeof Symbol<"u"&&Symbol,R2=I2,k2=function(){return typeof hx!="function"||typeof Symbol!="function"||typeof hx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R2()},cx={foo:{}},M2=Object,O2=function(){return{__proto__:cx}.foo===cx.foo&&!({__proto__:null}instanceof M2)},N2="Function.prototype.bind called on incompatible ",D2=Object.prototype.toString,F2=Math.max,L2="[object Function]",dx=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<t.length;s+=1)n[s+e.length]=t[s];return n},B2=function(e,t){for(var n=[],i=t||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},U2=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},G2=function(e){var t=this;if(typeof t!="function"||D2.apply(t)!==L2)throw new TypeError(N2+t);for(var n=B2(arguments,1),i,s=function(){if(this instanceof i){var g=t.apply(this,dx(n,arguments));return Object(g)===g?g:this}return t.apply(e,dx(n,arguments))},o=F2(0,t.length-n.length),l=[],h=0;h<o;h++)l[h]="$"+h;if(i=Function("binder","return function ("+U2(l,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i},z2=G2,O0=Function.prototype.bind||z2,H2=Function.prototype.call,$2=Object.prototype.hasOwnProperty,j2=O0,V2=j2.call(H2,$2),Ae,Ea=SyntaxError,PS=Function,ca=TypeError,Qp=function(r){try{return PS('"use strict"; return ('+r+").constructor;")()}catch{}},Ys=Object.getOwnPropertyDescriptor;if(Ys)try{Ys({},"")}catch{Ys=null}var qp=function(){throw new ca},W2=Ys?function(){try{return arguments.callee,qp}catch{try{return Ys(arguments,"callee").get}catch{return qp}}}():qp,Io=k2(),X2=O2(),Rt=Object.getPrototypeOf||(X2?function(r){return r.__proto__}:null),No={},Y2=typeof Uint8Array>"u"||!Rt?Ae:Rt(Uint8Array),Qs={"%AggregateError%":typeof AggregateError>"u"?Ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ae:ArrayBuffer,"%ArrayIteratorPrototype%":Io&&Rt?Rt([][Symbol.iterator]()):Ae,"%AsyncFromSyncIteratorPrototype%":Ae,"%AsyncFunction%":No,"%AsyncGenerator%":No,"%AsyncGeneratorFunction%":No,"%AsyncIteratorPrototype%":No,"%Atomics%":typeof Atomics>"u"?Ae:Atomics,"%BigInt%":typeof BigInt>"u"?Ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ae:FinalizationRegistry,"%Function%":PS,"%GeneratorFunction%":No,"%Int8Array%":typeof Int8Array>"u"?Ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Io&&Rt?Rt(Rt([][Symbol.iterator]())):Ae,"%JSON%":typeof JSON=="object"?JSON:Ae,"%Map%":typeof Map>"u"?Ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Io||!Rt?Ae:Rt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ae:Promise,"%Proxy%":typeof Proxy>"u"?Ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Io||!Rt?Ae:Rt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Io&&Rt?Rt(""[Symbol.iterator]()):Ae,"%Symbol%":Io?Symbol:Ae,"%SyntaxError%":Ea,"%ThrowTypeError%":W2,"%TypedArray%":Y2,"%TypeError%":ca,"%Uint8Array%":typeof Uint8Array>"u"?Ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ae:WeakSet};if(Rt)try{null.error}catch(r){var Q2=Rt(Rt(r));Qs["%Error.prototype%"]=Q2}var q2=function r(e){var t;if(e==="%AsyncFunction%")t=Qp("async function () {}");else if(e==="%GeneratorFunction%")t=Qp("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Qp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&Rt&&(t=Rt(i.prototype))}return Qs[e]=t,t},fx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Su=O0,nd=V2,K2=Su.call(Function.call,Array.prototype.concat),Z2=Su.call(Function.apply,Array.prototype.splice),px=Su.call(Function.call,String.prototype.replace),id=Su.call(Function.call,String.prototype.slice),J2=Su.call(Function.call,RegExp.prototype.exec),ek=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tk=/\\(\\)?/g,rk=function(e){var t=id(e,0,1),n=id(e,-1);if(t==="%"&&n!=="%")throw new Ea("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Ea("invalid intrinsic syntax, expected opening `%`");var i=[];return px(e,ek,function(s,o,l,h){i[i.length]=l?px(h,tk,"$1"):o||s}),i},nk=function(e,t){var n=e,i;if(nd(fx,n)&&(i=fx[n],n="%"+i[0]+"%"),nd(Qs,n)){var s=Qs[n];if(s===No&&(s=q2(n)),typeof s>"u"&&!t)throw new ca("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ea("intrinsic "+e+" does not exist!")},lo=function(e,t){if(typeof e!="string"||e.length===0)throw new ca("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new ca('"allowMissing" argument must be a boolean');if(J2(/^%?[^%]*%?$/,e)===null)throw new Ea("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=rk(e),i=n.length>0?n[0]:"",s=nk("%"+i+"%",t),o=s.name,l=s.value,h=!1,d=s.alias;d&&(i=d[0],Z2(n,K2([0,1],d)));for(var g=1,c=!0;g<n.length;g+=1){var f=n[g],m=id(f,0,1),v=id(f,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new Ea("property names with quotes must have matching quotes");if((f==="constructor"||!c)&&(h=!0),i+="."+f,o="%"+i+"%",nd(Qs,o))l=Qs[o];else if(l!=null){if(!(f in l)){if(!t)throw new ca("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ys&&g+1>=n.length){var w=Ys(l,f);c=!!w,c&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[f]}else c=nd(l,f),l=l[f];c&&!h&&(Qs[o]=l)}}return l},IS={exports:{}},ik=lo,Og=ik("%Object.defineProperty%",!0),Ng=function(){if(Og)try{return Og({},"a",{value:1}),!0}catch{return!1}return!1};Ng.hasArrayLengthDefineBug=function(){if(!Ng())return null;try{return Og([],"length",{value:1}).length!==1}catch{return!0}};var RS=Ng,sk=lo,wc=sk("%Object.getOwnPropertyDescriptor%",!0);if(wc)try{wc([],"length")}catch{wc=null}var kS=wc,ok=RS(),N0=lo,Dl=ok&&N0("%Object.defineProperty%",!0);if(Dl)try{Dl({},"a",{value:1})}catch{Dl=!1}var ak=N0("%SyntaxError%"),Ro=N0("%TypeError%"),mx=kS,lk=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ro("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Ro("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ro("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ro("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ro("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ro("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,h=!!mx&&mx(e,t);if(Dl)Dl(e,t,{configurable:o===null&&h?h.configurable:!o,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(l||!i&&!s&&!o)e[t]=n;else throw new ak("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},MS=lo,gx=lk,uk=RS(),yx=kS,vx=MS("%TypeError%"),hk=MS("%Math.floor%"),ck=function(e,t){if(typeof e!="function")throw new vx("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||hk(t)!==t)throw new vx("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&yx){var o=yx(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(uk?gx(e,"length",t,!0,!0):gx(e,"length",t)),e};(function(r){var e=O0,t=lo,n=ck,i=t("%TypeError%"),s=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,s),h=t("%Object.defineProperty%",!0),d=t("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}r.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=l(e,o,arguments);return n(m,1+d(0,f.length-(arguments.length-1)),!0)};var g=function(){return l(e,s,arguments)};h?h(r.exports,"apply",{value:g}):r.exports.apply=g})(IS);var dk=IS.exports,OS=lo,NS=dk,fk=NS(OS("String.prototype.indexOf")),pk=function(e,t){var n=OS(e,!!t);return typeof n=="function"&&fk(e,".prototype.")>-1?NS(n):n};const mk={},gk=Object.freeze(Object.defineProperty({__proto__:null,default:mk},Symbol.toStringTag,{value:"Module"})),yk=qw(gk);var D0=typeof Map=="function"&&Map.prototype,Kp=Object.getOwnPropertyDescriptor&&D0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,sd=D0&&Kp&&typeof Kp.get=="function"?Kp.get:null,_x=D0&&Map.prototype.forEach,F0=typeof Set=="function"&&Set.prototype,Zp=Object.getOwnPropertyDescriptor&&F0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,od=F0&&Zp&&typeof Zp.get=="function"?Zp.get:null,xx=F0&&Set.prototype.forEach,vk=typeof WeakMap=="function"&&WeakMap.prototype,Fl=vk?WeakMap.prototype.has:null,_k=typeof WeakSet=="function"&&WeakSet.prototype,Ll=_k?WeakSet.prototype.has:null,xk=typeof WeakRef=="function"&&WeakRef.prototype,wx=xk?WeakRef.prototype.deref:null,wk=Boolean.prototype.valueOf,bk=Object.prototype.toString,Ek=Function.prototype.toString,Sk=String.prototype.match,L0=String.prototype.slice,Qi=String.prototype.replace,Tk=String.prototype.toUpperCase,bx=String.prototype.toLowerCase,DS=RegExp.prototype.test,Ex=Array.prototype.concat,Ln=Array.prototype.join,Ak=Array.prototype.slice,Sx=Math.floor,Dg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jp=Object.getOwnPropertySymbols,Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Kt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sa||"symbol")?Symbol.toStringTag:null,FS=Object.prototype.propertyIsEnumerable,Tx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Ax(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||DS.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Sx(-r):Sx(r);if(n!==r){var i=String(n),s=L0.call(e,i.length+1);return Qi.call(i,t,"$&_")+"."+Qi.call(Qi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qi.call(e,t,"$&_")}var Lg=yk,Cx=Lg.custom,Px=BS(Cx)?Cx:null,Ck=function r(e,t,n,i){var s=t||{};if(Hi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Hi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Hi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Hi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Hi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return GS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return l?Ax(e,h):h}if(typeof e=="bigint"){var d=String(e)+"n";return l?Ax(e,d):d}var g=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return Bg(e)?"[Array]":"[Object]";var c=Vk(s,n);if(typeof i>"u")i=[];else if(US(i,e)>=0)return"[Circular]";function f(N,j,ee){if(j&&(i=Ak.call(i),i.push(j)),ee){var oe={depth:s.depth};return Hi(s,"quoteStyle")&&(oe.quoteStyle=s.quoteStyle),r(N,oe,n+1,i)}return r(N,s,n+1,i)}if(typeof e=="function"&&!Ix(e)){var m=Fk(e),v=Fh(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+Ln.call(v,", ")+" }":"")}if(BS(e)){var w=Sa?Qi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fg.call(e);return typeof e=="object"&&!Sa?al(w):w}if(Hk(e)){for(var T="<"+bx.call(String(e.nodeName)),x=e.attributes||[],E=0;E<x.length;E++)T+=" "+x[E].name+"="+LS(Pk(x[E].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+bx.call(String(e.nodeName))+">",T}if(Bg(e)){if(e.length===0)return"[]";var S=Fh(e,f);return c&&!jk(S)?"["+Ug(S,c)+"]":"[ "+Ln.call(S,", ")+" ]"}if(Rk(e)){var A=Fh(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!FS.call(e,"cause")?"{ ["+String(e)+"] "+Ln.call(Ex.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ln.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Px&&typeof e[Px]=="function"&&Lg)return Lg(e,{depth:g-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Lk(e)){var P=[];return _x&&_x.call(e,function(N,j){P.push(f(j,e,!0)+" => "+f(N,e))}),Rx("Map",sd.call(e),P,c)}if(Gk(e)){var L=[];return xx&&xx.call(e,function(N){L.push(f(N,e))}),Rx("Set",od.call(e),L,c)}if(Bk(e))return em("WeakMap");if(zk(e))return em("WeakSet");if(Uk(e))return em("WeakRef");if(Mk(e))return al(f(Number(e)));if(Nk(e))return al(f(Dg.call(e)));if(Ok(e))return al(wk.call(e));if(kk(e))return al(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===li)return"{ [object globalThis] }";if(!Ik(e)&&!Ix(e)){var k=Fh(e,f),R=Tx?Tx(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",H=!R&&Kt&&Object(e)===e&&Kt in e?L0.call(gs(e),8,-1):U?"Object":"",re=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=re+(H||U?"["+Ln.call(Ex.call([],H||[],U||[]),": ")+"] ":"");return k.length===0?Y+"{}":c?Y+"{"+Ug(k,c)+"}":Y+"{ "+Ln.call(k,", ")+" }"}return String(e)};function LS(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function Pk(r){return Qi.call(String(r),/"/g,"&quot;")}function Bg(r){return gs(r)==="[object Array]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function Ik(r){return gs(r)==="[object Date]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function Ix(r){return gs(r)==="[object RegExp]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function Rk(r){return gs(r)==="[object Error]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function kk(r){return gs(r)==="[object String]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function Mk(r){return gs(r)==="[object Number]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function Ok(r){return gs(r)==="[object Boolean]"&&(!Kt||!(typeof r=="object"&&Kt in r))}function BS(r){if(Sa)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!Fg)return!1;try{return Fg.call(r),!0}catch{}return!1}function Nk(r){if(!r||typeof r!="object"||!Dg)return!1;try{return Dg.call(r),!0}catch{}return!1}var Dk=Object.prototype.hasOwnProperty||function(r){return r in this};function Hi(r,e){return Dk.call(r,e)}function gs(r){return bk.call(r)}function Fk(r){if(r.name)return r.name;var e=Sk.call(Ek.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function US(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function Lk(r){if(!sd||!r||typeof r!="object")return!1;try{sd.call(r);try{od.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function Bk(r){if(!Fl||!r||typeof r!="object")return!1;try{Fl.call(r,Fl);try{Ll.call(r,Ll)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function Uk(r){if(!wx||!r||typeof r!="object")return!1;try{return wx.call(r),!0}catch{}return!1}function Gk(r){if(!od||!r||typeof r!="object")return!1;try{od.call(r);try{sd.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function zk(r){if(!Ll||!r||typeof r!="object")return!1;try{Ll.call(r,Ll);try{Fl.call(r,Fl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function Hk(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function GS(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return GS(L0.call(r,0,e.maxStringLength),e)+n}var i=Qi.call(Qi.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$k);return LS(i,"single",e)}function $k(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+Tk.call(e.toString(16))}function al(r){return"Object("+r+")"}function em(r){return r+" { ? }"}function Rx(r,e,t,n){var i=n?Ug(t,n):Ln.call(t,", ");return r+" ("+e+") {"+i+"}"}function jk(r){for(var e=0;e<r.length;e++)if(US(r[e],`
`)>=0)return!1;return!0}function Vk(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Ln.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Ln.call(Array(e+1),t)}}function Ug(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Ln.call(r,","+t)+`
`+e.prev}function Fh(r,e){var t=Bg(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Hi(r,i)?e(r[i],r):""}var s=typeof Jp=="function"?Jp(r):[],o;if(Sa){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var h in r)Hi(r,h)&&(t&&String(Number(h))===h&&h<r.length||Sa&&o["$"+h]instanceof Symbol||(DS.call(/[^\w$]/,h)?n.push(e(h,r)+": "+e(r[h],r)):n.push(h+": "+e(r[h],r))));if(typeof Jp=="function")for(var d=0;d<s.length;d++)FS.call(r,s[d])&&n.push("["+e(s[d])+"]: "+e(r[s[d]],r));return n}var B0=lo,Ra=pk,Wk=Ck,Xk=B0("%TypeError%"),Lh=B0("%WeakMap%",!0),Bh=B0("%Map%",!0),Yk=Ra("WeakMap.prototype.get",!0),Qk=Ra("WeakMap.prototype.set",!0),qk=Ra("WeakMap.prototype.has",!0),Kk=Ra("Map.prototype.get",!0),Zk=Ra("Map.prototype.set",!0),Jk=Ra("Map.prototype.has",!0),U0=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},eM=function(r,e){var t=U0(r,e);return t&&t.value},tM=function(r,e,t){var n=U0(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},rM=function(r,e){return!!U0(r,e)},nM=function(){var e,t,n,i={assert:function(s){if(!i.has(s))throw new Xk("Side channel does not contain "+Wk(s))},get:function(s){if(Lh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Yk(e,s)}else if(Bh){if(t)return Kk(t,s)}else if(n)return eM(n,s)},has:function(s){if(Lh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return qk(e,s)}else if(Bh){if(t)return Jk(t,s)}else if(n)return rM(n,s);return!1},set:function(s,o){Lh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Lh),Qk(e,s,o)):Bh?(t||(t=new Bh),Zk(t,s,o)):(n||(n={key:{},next:null}),tM(n,s,o))}};return i},iM=String.prototype.replace,sM=/%20/g,tm={RFC1738:"RFC1738",RFC3986:"RFC3986"},G0={default:tm.RFC3986,formatters:{RFC1738:function(r){return iM.call(r,sM,"+")},RFC3986:function(r){return String(r)}},RFC1738:tm.RFC1738,RFC3986:tm.RFC3986},oM=G0,rm=Object.prototype.hasOwnProperty,Gs=Array.isArray,Rn=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),aM=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Gs(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);t.obj[t.prop]=i}}},zS=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},lM=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Gs(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!rm.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return Gs(e)&&!Gs(t)&&(i=zS(e,n)),Gs(e)&&Gs(t)?(t.forEach(function(s,o){if(rm.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=r(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var l=t[o];return rm.call(s,o)?s[o]=r(s[o],l,n):s[o]=l,s},i)},uM=function(e,t){return Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},e)},hM=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},cM=function(e,t,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var l="",h=0;h<o.length;++h){var d=o.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===oM.RFC1738&&(d===40||d===41)){l+=o.charAt(h);continue}if(d<128){l=l+Rn[d];continue}if(d<2048){l=l+(Rn[192|d>>6]+Rn[128|d&63]);continue}if(d<55296||d>=57344){l=l+(Rn[224|d>>12]+Rn[128|d>>6&63]+Rn[128|d&63]);continue}h+=1,d=65536+((d&1023)<<10|o.charCodeAt(h)&1023),l+=Rn[240|d>>18]+Rn[128|d>>12&63]+Rn[128|d>>6&63]+Rn[128|d&63]}return l},dM=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],l=Object.keys(o),h=0;h<l.length;++h){var d=l[h],g=o[d];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(t.push({obj:o,prop:d}),n.push(g))}return aM(t),e},fM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},pM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},mM=function(e,t){return[].concat(e,t)},gM=function(e,t){if(Gs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},HS={arrayToObject:zS,assign:uM,combine:mM,compact:dM,decode:hM,encode:cM,isBuffer:pM,isRegExp:fM,maybeMap:gM,merge:lM},$S=nM,bc=HS,Bl=G0,yM=Object.prototype.hasOwnProperty,kx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ai=Array.isArray,vM=Array.prototype.push,jS=function(r,e){vM.apply(r,ai(e)?e:[e])},_M=Date.prototype.toISOString,Mx=Bl.default,Yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:bc.encode,encodeValuesOnly:!1,format:Mx,formatter:Bl.formatters[Mx],indices:!1,serializeDate:function(e){return _M.call(e)},skipNulls:!1,strictNullHandling:!1},xM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},nm={},wM=function r(e,t,n,i,s,o,l,h,d,g,c,f,m,v,w,T){for(var x=e,E=T,S=0,A=!1;(E=E.get(nm))!==void 0&&!A;){var P=E.get(e);if(S+=1,typeof P<"u"){if(P===S)throw new RangeError("Cyclic object value");A=!0}typeof E.get(nm)>"u"&&(S=0)}if(typeof h=="function"?x=h(t,x):x instanceof Date?x=c(x):n==="comma"&&ai(x)&&(x=bc.maybeMap(x,function(oe){return oe instanceof Date?c(oe):oe})),x===null){if(s)return l&&!v?l(t,Yt.encoder,w,"key",f):t;x=""}if(xM(x)||bc.isBuffer(x)){if(l){var L=v?t:l(t,Yt.encoder,w,"key",f);return[m(L)+"="+m(l(x,Yt.encoder,w,"value",f))]}return[m(t)+"="+m(String(x))]}var k=[];if(typeof x>"u")return k;var R;if(n==="comma"&&ai(x))v&&l&&(x=bc.maybeMap(x,l)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(ai(h))R=h;else{var U=Object.keys(x);R=d?U.sort(d):U}for(var H=i&&ai(x)&&x.length===1?t+"[]":t,re=0;re<R.length;++re){var Y=R[re],N=typeof Y=="object"&&typeof Y.value<"u"?Y.value:x[Y];if(!(o&&N===null)){var j=ai(x)?typeof n=="function"?n(H,Y):H:H+(g?"."+Y:"["+Y+"]");T.set(e,S);var ee=$S();ee.set(nm,T),jS(k,r(N,j,n,i,s,o,n==="comma"&&v&&ai(x)?null:l,h,d,g,c,f,m,v,w,ee))}}return k},bM=function(e){if(!e)return Yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bl.default;if(typeof e.format<"u"){if(!yM.call(Bl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Bl.formatters[n],s=Yt.filter;return(typeof e.filter=="function"||ai(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Yt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Yt.encode,encoder:typeof e.encoder=="function"?e.encoder:Yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Yt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Yt.strictNullHandling}},EM=function(r,e){var t=r,n=bM(e),i,s;typeof n.filter=="function"?(s=n.filter,t=s("",t)):ai(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof t!="object"||t===null)return"";var l;e&&e.arrayFormat in kx?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var h=kx[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=h==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);for(var g=$S(),c=0;c<i.length;++c){var f=i[c];n.skipNulls&&t[f]===null||jS(o,wM(t[f],f,h,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var m=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},Ta=HS,Gg=Object.prototype.hasOwnProperty,SM=Array.isArray,It={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ta.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},TM=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},VS=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},AM="utf8=%26%2310003%3B",CM="utf8=%E2%9C%93",PM=function(e,t){var n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,s),l=-1,h,d=t.charset;if(t.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===CM?d="utf-8":o[h]===AM&&(d="iso-8859-1"),l=h,h=o.length);for(h=0;h<o.length;++h)if(h!==l){var g=o[h],c=g.indexOf("]="),f=c===-1?g.indexOf("="):c+1,m,v;f===-1?(m=t.decoder(g,It.decoder,d,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,f),It.decoder,d,"key"),v=Ta.maybeMap(VS(g.slice(f+1),t),function(w){return t.decoder(w,It.decoder,d,"value")})),v&&t.interpretNumericEntities&&d==="iso-8859-1"&&(v=TM(v)),g.indexOf("[]=")>-1&&(v=SM(v)?[v]:v),Gg.call(n,m)?n[m]=Ta.combine(n[m],v):n[m]=v}return n},IM=function(r,e,t,n){for(var i=n?e:VS(e,t),s=r.length-1;s>=0;--s){var o,l=r[s];if(l==="[]"&&t.parseArrays)o=[].concat(i);else{o=t.plainObjects?Object.create(null):{};var h=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(h,10);!t.parseArrays&&h===""?o={0:i}:!isNaN(d)&&l!==h&&String(d)===h&&d>=0&&t.parseArrays&&d<=t.arrayLimit?(o=[],o[d]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},RM=function(e,t,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),d=h?s.slice(0,h.index):s,g=[];if(d){if(!n.plainObjects&&Gg.call(Object.prototype,d)&&!n.allowPrototypes)return;g.push(d)}for(var c=0;n.depth>0&&(h=l.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&Gg.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(h[1])}return h&&g.push("["+s.slice(h.index)+"]"),IM(g,t,n,i)}},kM=function(e){if(!e)return It;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?It.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?It.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:It.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:It.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:It.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:It.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:It.comma,decoder:typeof e.decoder=="function"?e.decoder:It.decoder,delimiter:typeof e.delimiter=="string"||Ta.isRegExp(e.delimiter)?e.delimiter:It.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:It.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:It.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:It.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:It.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:It.strictNullHandling}},MM=function(r,e){var t=kM(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?PM(r,t):r,i=t.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],h=RM(l,n[l],t,typeof r=="string");i=Ta.merge(i,h,t)}return t.allowSparse===!0?i:Ta.compact(i)},OM=EM,NM=MM,DM=G0,FM={formats:DM,parse:NM,stringify:OM},LM=P2;function yi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var BM=/^([a-z0-9.+-]+:)/i,UM=/:[0-9]*$/,GM=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,zM=["<",">",'"',"`"," ","\r",`
`,"	"],HM=["{","}","|","\\","^","`"].concat(zM),zg=["'"].concat(HM),Ox=["%","/","?",";","#"].concat(zg),Nx=["/","?","#"],$M=255,Dx=/^[+a-z0-9A-Z_-]{0,63}$/,jM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,VM={javascript:!0,"javascript:":!0},Hg={javascript:!0,"javascript:":!0},da={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$g=FM;function WM(r,e,t){if(r&&typeof r=="object"&&r instanceof yi)return r;var n=new yi;return n.parse(r,e,t),n}yi.prototype.parse=function(r,e,t){if(typeof r!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",s=r.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),r=s.join(i);var l=r;if(l=l.trim(),!t&&r.split("#").length===1){var h=GM.exec(l);if(h)return this.path=l,this.href=l,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=$g.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=BM.exec(l);if(d){d=d[0];var g=d.toLowerCase();this.protocol=g,l=l.substr(d.length)}if(t||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var c=l.substr(0,2)==="//";c&&!(d&&Hg[d])&&(l=l.substr(2),this.slashes=!0)}if(!Hg[d]&&(c||d&&!da[d])){for(var f=-1,m=0;m<Nx.length;m++){var v=l.indexOf(Nx[m]);v!==-1&&(f===-1||v<f)&&(f=v)}var w,T;f===-1?T=l.lastIndexOf("@"):T=l.lastIndexOf("@",f),T!==-1&&(w=l.slice(0,T),l=l.slice(T+1),this.auth=decodeURIComponent(w)),f=-1;for(var m=0;m<Ox.length;m++){var v=l.indexOf(Ox[m]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=l.length),this.host=l.slice(0,f),l=l.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var E=this.hostname.split(/\./),m=0,S=E.length;m<S;m++){var A=E[m];if(A&&!A.match(Dx)){for(var P="",L=0,k=A.length;L<k;L++)A.charCodeAt(L)>127?P+="x":P+=A[L];if(!P.match(Dx)){var R=E.slice(0,m),U=E.slice(m+1),H=A.match(jM);H&&(R.push(H[1]),U.unshift(H[2])),U.length&&(l="/"+U.join(".")+l),this.hostname=R.join(".");break}}}this.hostname.length>$M?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=LM.toASCII(this.hostname));var re=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+re,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!VM[g])for(var m=0,S=zg.length;m<S;m++){var N=zg[m];if(l.indexOf(N)!==-1){var j=encodeURIComponent(N);j===N&&(j=escape(N)),l=l.split(N).join(j)}}var ee=l.indexOf("#");ee!==-1&&(this.hash=l.substr(ee),l=l.slice(0,ee));var oe=l.indexOf("?");if(oe!==-1?(this.search=l.substr(oe),this.query=l.substr(oe+1),e&&(this.query=$g.parse(this.query)),l=l.slice(0,oe)):e&&(this.search="",this.query={}),l&&(this.pathname=l),da[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var re=this.pathname||"",ie=this.search||"";this.path=re+ie}return this.href=this.format(),this};yi.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=$g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||da[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),t=t.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+t+o+n};yi.prototype.resolve=function(r){return this.resolveObject(WM(r,!1,!0)).format()};yi.prototype.resolveObject=function(r){if(typeof r=="string"){var e=new yi;e.parse(r,!1,!0),r=e}for(var t=new yi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];t[s]=this[s]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var o=Object.keys(r),l=0;l<o.length;l++){var h=o[l];h!=="protocol"&&(t[h]=r[h])}return da[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!da[r.protocol]){for(var d=Object.keys(r),g=0;g<d.length;g++){var c=d[g];t[c]=r[c]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!Hg[r.protocol]){for(var S=(r.pathname||"").split("/");S.length&&!(r.host=S.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),t.pathname=S.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var f=t.pathname||"",m=t.search||"";t.path=f+m}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var v=t.pathname&&t.pathname.charAt(0)==="/",w=r.host||r.pathname&&r.pathname.charAt(0)==="/",T=w||v||t.host&&r.pathname,x=T,E=t.pathname&&t.pathname.split("/")||[],S=r.pathname&&r.pathname.split("/")||[],A=t.protocol&&!da[t.protocol];if(A&&(t.hostname="",t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host=null),T=T&&(S[0]===""||E[0]==="")),w)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,E=S;else if(S.length)E||(E=[]),E.pop(),E=E.concat(S),t.search=r.search,t.query=r.query;else if(r.search!=null){if(A){t.host=E.shift(),t.hostname=t.host;var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.hostname=P.shift(),t.host=t.hostname)}return t.search=r.search,t.query=r.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!E.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var L=E.slice(-1)[0],k=(t.host||r.host||E.length>1)&&(L==="."||L==="..")||L==="",R=0,U=E.length;U>=0;U--)L=E[U],L==="."?E.splice(U,1):L===".."?(E.splice(U,1),R++):R&&(E.splice(U,1),R--);if(!T&&!x)for(;R--;R)E.unshift("..");T&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),k&&E.join("/").substr(-1)!=="/"&&E.push("");var H=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(A){t.hostname=H?"":E.length?E.shift():"",t.host=t.hostname;var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.hostname=P.shift(),t.host=t.hostname)}return T=T||t.host&&E.length,T&&!H&&E.unshift(""),E.length>0?t.pathname=E.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};yi.prototype.parseHost=function(){var r=this.host,e=UM.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const Fx={};function Te(r,e,t=3){if(Fx[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(n))),Fx[e]=!0}function tn(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function ll(r){return r.split("?")[0].split("#")[0]}function XM(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function YM(r,e,t){return r.replace(new RegExp(XM(e),"g"),t)}function QM(r,e){let t="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=r.length;++l){if(l<r.length)o=r.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const h=t.lastIndexOf("/");if(h!==t.length-1){h===-1?(t="",n=0):(t=t.slice(0,h),n=t.length-1-t.lastIndexOf("/")),i=l,s=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=l,s=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+=`/${r.slice(i+1,l)}`:t=r.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return t}const Et={toPosix(r){return YM(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){tn(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if(tn(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const n=ll(this.toPosix(e??le.ADAPTER.getBaseUrl())),i=ll(this.toPosix(t??this.rootname(n)));return r=this.toPosix(r),r.startsWith("/")?Et.join(i,r.slice(1)):this.isAbsolute(r)?r:this.join(n,r)},normalize(r){if(tn(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const n=r.endsWith("/");return r=QM(r,!1),r.length>0&&n&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return tn(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const n=r[t];if(tn(n),n.length>0)if(e===void 0)e=n;else{const i=r[t-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(tn(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let n=-1,i=!0;const s=this.getProtocol(r),o=r;r=r.slice(s.length);for(let l=r.length-1;l>=1;--l)if(e=r.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?t?"/":this.isUrl(o)?s+r:s:t&&n===1?"//":s+r.slice(0,n)},rootname(r){tn(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){tn(r),e&&tn(e),r=ll(this.toPosix(r));let t=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let o=e.length-1,l=-1;for(s=r.length-1;s>=0;--s){const h=r.charCodeAt(s);if(h===47){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return t===n?n=l:n===-1&&(n=r.length),r.slice(t,n)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){t=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":r.slice(t,n)},extname(r){tn(r),r=ll(this.toPosix(r));let e=-1,t=0,n=-1,i=!0,s=0;for(let o=r.length-1;o>=0;--o){const l=r.charCodeAt(o);if(l===47){if(!i){t=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse(r){tn(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=ll(this.toPosix(r));let t=r.charCodeAt(0);const n=this.isAbsolute(r);let i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;let s=-1,o=0,l=-1,h=!0,d=r.length-1,g=0;for(;d>=i;--d){if(t=r.charCodeAt(d),t===47){if(!h){o=d+1;break}continue}l===-1&&(h=!1,l=d+1),t===46?s===-1?s=d:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||l===-1||g===0||g===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=r.slice(1,l):e.base=e.name=r.slice(o,l)):(o===0&&n?(e.name=r.slice(1,s),e.base=r.slice(1,l)):(e.name=r.slice(o,s),e.base=r.slice(o,l)),e.ext=r.slice(s,l)),e.dir=this.dirname(r),e},sep:"/",delimiter:":"};let im;async function qM(){return im??(im=(async()=>{var s;const r=document.createElement("canvas").getContext("webgl");if(!r)return dr.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return dr.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.deleteFramebuffer(n),r.deleteTexture(t),(s=r.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?dr.PMA:dr.UNPACK})()),im}let sm;function KM(){return typeof sm>"u"&&(sm=function(){var e;const r={stencil:!0,failIfMajorPerformanceCaveat:le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!le.ADAPTER.getWebGLRenderingContext())return!1;const t=le.ADAPTER.createCanvas();let n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),sm}var ZM={grad:.9,turn:360,rad:360/(2*Math.PI)},ri=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},Mt=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},Vr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},WS=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Lx=function(r){return{r:Vr(r.r,0,255),g:Vr(r.g,0,255),b:Vr(r.b,0,255),a:Vr(r.a)}},om=function(r){return{r:Mt(r.r),g:Mt(r.g),b:Mt(r.b),a:Mt(r.a,3)}},JM=/^#([0-9a-f]{3,8})$/i,Uh=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},XS=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=Math.max(e,t,n),o=s-Math.min(e,t,n),l=o?s===e?(t-n)/o:s===t?2+(n-e)/o:4+(e-t)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},YS=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var s=Math.floor(e),o=n*(1-t),l=n*(1-(e-s)*t),h=n*(1-(1-e+s)*t),d=s%6;return{r:255*[n,l,o,o,h,n][d],g:255*[h,n,n,l,o,o][d],b:255*[o,o,h,n,n,l][d],a:i}},Bx=function(r){return{h:WS(r.h),s:Vr(r.s,0,100),l:Vr(r.l,0,100),a:Vr(r.a)}},Ux=function(r){return{h:Mt(r.h),s:Mt(r.s),l:Mt(r.l),a:Mt(r.a,3)}},Gx=function(r){return YS((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},Ul=function(r){return{h:(e=XS(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},eO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jg={string:[[function(r){var e=JM.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Mt(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?Mt(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=rO.exec(r)||nO.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:Lx({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=eO.exec(r)||tO.exec(r);if(!e)return null;var t,n,i=Bx({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(ZM[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Gx(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=i===void 0?1:i;return ri(e)&&ri(t)&&ri(n)?Lx({r:Number(e),g:Number(t),b:Number(n),a:Number(s)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,s=i===void 0?1:i;if(!ri(e)||!ri(t)||!ri(n))return null;var o=Bx({h:Number(e),s:Number(t),l:Number(n),a:Number(s)});return Gx(o)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,s=i===void 0?1:i;if(!ri(e)||!ri(t)||!ri(n))return null;var o=function(l){return{h:WS(l.h),s:Vr(l.s,0,100),v:Vr(l.v,0,100),a:Vr(l.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(s)});return YS(o)},"hsv"]]},zx=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},iO=function(r){return typeof r=="string"?zx(r.trim(),jg.string):typeof r=="object"&&r!==null?zx(r,jg.object):[null,void 0]},am=function(r,e){var t=Ul(r);return{h:t.h,s:Vr(t.s+100*e,0,100),l:t.l,a:t.a}},lm=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Hx=function(r,e){var t=Ul(r);return{h:t.h,s:t.s,l:Vr(t.l+100*e,0,100),a:t.a}},Vg=function(){function r(e){this.parsed=iO(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return Mt(lm(this.rgba),2)},r.prototype.isDark=function(){return lm(this.rgba)<.5},r.prototype.isLight=function(){return lm(this.rgba)>=.5},r.prototype.toHex=function(){return e=om(this.rgba),t=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Uh(Mt(255*s)):"","#"+Uh(t)+Uh(n)+Uh(i)+o;var e,t,n,i,s,o},r.prototype.toRgb=function(){return om(this.rgba)},r.prototype.toRgbString=function(){return e=om(this.rgba),t=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+n+", "+i+", "+s+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,s},r.prototype.toHsl=function(){return Ux(Ul(this.rgba))},r.prototype.toHslString=function(){return e=Ux(Ul(this.rgba)),t=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+s+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,s},r.prototype.toHsv=function(){return e=XS(this.rgba),{h:Mt(e.h),s:Mt(e.s),v:Mt(e.v),a:Mt(e.a,3)};var e},r.prototype.invert=function(){return kn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),kn(am(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),kn(am(this.rgba,-e))},r.prototype.grayscale=function(){return kn(am(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),kn(Hx(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),kn(Hx(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?kn({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Mt(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=Ul(this.rgba);return typeof e=="number"?kn({h:e,s:t.s,l:t.l,a:t.a}):Mt(t.h)},r.prototype.isEqual=function(e){return this.toHex()===kn(e).toHex()},r}(),kn=function(r){return r instanceof Vg?r:new Vg(r)},$x=[],sO=function(r){r.forEach(function(e){$x.indexOf(e)<0&&(e(Vg,jg),$x.push(e))})};function oO(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var s={};r.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,h,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var g=this.toRgb(),c=1/0,f="black";if(!s.length)for(var m in t)s[m]=new r(t[m]).toRgb();for(var v in t){var w=(l=g,h=s[v],Math.pow(l.r-h.r,2)+Math.pow(l.g-h.g,2)+Math.pow(l.b-h.b,2));w<c&&(c=w,f=v)}return f}},e.string.push([function(o){var l=o.toLowerCase(),h=l==="transparent"?"#0000":t[l];return h?new r(h).toRgb():null},"name"])}sO([oO]);const Do=class Ec{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ec)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(o=>e[o]===t[o])}return e===t}toRgba(){const[e,t,n,i]=this._components;return{r:e,g:t,b:n,a:i}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[t,n,i]=this._components;return e[0]=t,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,n,i,s]=Ec.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return t&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,i,s]=this._components;return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let t,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;t=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,n,i,s=255]=e,t/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=Ec.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=kn(e);o.isValid()&&({r:t,g:n,b:i,a:s}=o.rgba,t/=255,n/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(e*255<<16)+(t*255<<8)+(n*255|0)}_clamp(e,t=0,n=1){return typeof e=="number"?Math.min(Math.max(e,t),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,t),n)}),e)}};Do.shared=new Do,Do.temp=new Do,Do.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let je=Do;function aO(r){return Te("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),je.shared.setValue(r).toHex()}function lO(r){return Te("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),je.shared.setValue(r).toNumber()}function uO(){const r=[],e=[];for(let n=0;n<32;n++)r[n]=n,e[n]=n;r[ye.NORMAL_NPM]=ye.NORMAL,r[ye.ADD_NPM]=ye.ADD,r[ye.SCREEN_NPM]=ye.SCREEN,e[ye.NORMAL]=ye.NORMAL_NPM,e[ye.ADD]=ye.ADD_NPM,e[ye.SCREEN]=ye.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const QS=uO();function qS(r,e){return QS[e?1:0][r]}function hO(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function KS(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function ad(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function jx(r){return!(r&r-1)&&!!r}function Vx(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function fa(r,e,t){const n=r.length;let i;if(e>=n||t===0)return;t=e+t>n?n-e:t;const s=n-t;for(i=e;i<s;++i)r[i]=r[i+t];r.length=s}function qi(r){return r===0?0:r<0?-1:1}let cO=0;function io(){return++cO}const Wg=class{constructor(r,e,t,n){this.left=r,this.top=e,this.right=t,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Wg.EMPTY=new Wg(0,0,0,0);let Wx=Wg;const Xx={},Mn=Object.create(null),Li=Object.create(null);class dO{constructor(e,t,n){this._canvas=le.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||le.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Yx(r,e,t){for(let n=0,i=4*t*e;n<e;++n,i+=4)if(r[i+3]!==0)return!1;return!0}function Qx(r,e,t,n,i){const s=4*e;for(let o=n,l=n*s+4*t;o<=i;++o,l+=s)if(r[l+3]!==0)return!1;return!0}function fO(r){const{width:e,height:t}=r,n=r.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,t).data;let s=0,o=0,l=e-1,h=t-1;for(;o<t&&Yx(i,e,o);)++o;if(o===t)return Wx.EMPTY;for(;Yx(i,e,h);)--h;for(;Qx(i,e,s,o,h);)++s;for(;Qx(i,e,l,o,h);)--l;return++l,++h,new Wx(s,o,l,h)}function pO(r){const e=fO(r),{width:t,height:n}=e;let i=null;if(!e.isEmpty()){const s=r.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,t,n)}return{width:t,height:n,data:i}}function mO(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function bi(r,e=1){var n;const t=(n=le.RETINA_PREFIX)==null?void 0:n.exec(r);return t?parseFloat(t[1]):e}var ne=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(ne||{});const Xg=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},qx=(r,e)=>Xg(r).priority??e,de={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Xg).forEach(e=>{e.type.forEach(t=>{var n,i;return(i=(n=this._removeHandlers)[t])==null?void 0:i.call(n,e)})}),this},add(...r){return r.map(Xg).forEach(e=>{e.type.forEach(t=>{const n=this._addHandlers,i=this._queue;n[t]?n[t](e):(i[t]=i[t]||[],i[t].push(e))})}),this},handle(r,e,t){const n=this._addHandlers,i=this._removeHandlers;if(n[r]||i[r])throw new Error(`Extension type ${r} already has a handler`);n[r]=e,i[r]=t;const s=this._queue;return s[r]&&(s[r].forEach(o=>e(o)),delete s[r]),this},handleByMap(r,e){return this.handle(r,t=>{e[t.name]=t.ref},t=>{delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>qx(s,t)-qx(i,t)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Yg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const gO=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function yO(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function vO(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=gO.replace(/%forloop%/gi,yO(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const um=0,hm=1,cm=2,dm=3,fm=4,pm=5;class Qn{constructor(){this.data=0,this.blendMode=ye.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<um)}set blend(e){!!(this.data&1<<um)!==e&&(this.data^=1<<um)}get offsets(){return!!(this.data&1<<hm)}set offsets(e){!!(this.data&1<<hm)!==e&&(this.data^=1<<hm)}get culling(){return!!(this.data&1<<cm)}set culling(e){!!(this.data&1<<cm)!==e&&(this.data^=1<<cm)}get depthTest(){return!!(this.data&1<<dm)}set depthTest(e){!!(this.data&1<<dm)!==e&&(this.data^=1<<dm)}get depthMask(){return!!(this.data&1<<pm)}set depthMask(e){!!(this.data&1<<pm)!==e&&(this.data^=1<<pm)}get clockwiseFrontFace(){return!!(this.data&1<<fm)}set clockwiseFrontFace(e){!!(this.data&1<<fm)!==e&&(this.data^=1<<fm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ye.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Qn;return e.depthTest=!1,e.blend=!0,e}}Qn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Qg=[];function ZS(r,e){if(!r)return null;let t="";if(typeof r=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(let n=Qg.length-1;n>=0;--n){const i=Qg[n];if(i.test&&i.test(r,t))return new i(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class mn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,i,s,o,l,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:g}=this;this._aliasCount++;for(let c=0,f=g.length;c<f;c++)g[c][d](e,t,n,i,s,o,l,h);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(mn.prototype,{dispatch:{value:mn.prototype.emit},run:{value:mn.prototype.emit}});class lu{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new mn("setRealSize"),this.onUpdate=new mn("update"),this.onError=new mn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Wd extends lu{constructor(e,t){const{width:n,height:i}=t||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===dr.UNPACK);const s=t.realWidth,o=t.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(t.target,0,0,0,s,o,t.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(t.target,0,n.internalFormat,s,o,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const _O={scaleMode:ci.NEAREST,alphaMode:dr.NPM},qg=class Fo extends Eu{constructor(e=null,t=null){super(),t=Object.assign({},Fo.defaultOptions,t);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:l,height:h,wrapMode:d,format:g,type:c,target:f,resolution:m,resourceOptions:v}=t;e&&!(e instanceof lu)&&(e=ZS(e,v),e.internal=!0),this.resolution=m||le.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=g,this.type=c,this.target=f,this.alphaMode=n,this.uid=io(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=jx(this.realWidth)&&jx(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Li[this.cacheId],delete Mn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Fo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,n=le.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const l=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${io()}`}s=e._pixiId}let o=Li[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Fo(e,t),o.cacheId=s,Fo.addToCache(o,s)),o}static fromBuffer(e,t,n,i){e=e||new Float32Array(t*n*4);const s=new Wd(e,{width:t,height:n,...i==null?void 0:i.resourceOptions});let o,l;return e instanceof Float32Array?(o=J.RGBA,l=me.FLOAT):e instanceof Int32Array?(o=J.RGBA_INTEGER,l=me.INT):e instanceof Uint32Array?(o=J.RGBA_INTEGER,l=me.UNSIGNED_INT):e instanceof Int16Array?(o=J.RGBA_INTEGER,l=me.SHORT):e instanceof Uint16Array?(o=J.RGBA_INTEGER,l=me.UNSIGNED_SHORT):e instanceof Int8Array?(o=J.RGBA,l=me.BYTE):(o=J.RGBA,l=me.UNSIGNED_BYTE),s.internal=!0,new Fo(s,Object.assign({},_O,{type:l,format:o},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Li[t]&&Li[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),Li[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Li[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Li[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete Li[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};qg.defaultOptions={mipmap:Vn.POW2,anisotropicLevel:0,scaleMode:ci.LINEAR,wrapMode:gi.CLAMP,alphaMode:dr.UNPACK,target:ha.TEXTURE_2D,format:J.RGBA,type:me.UNSIGNED_BYTE},qg._globalBatch=0;let xe=qg;class Kg{constructor(){this.texArray=null,this.blend=0,this.type=hn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let xO=0;class pt{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=xO++,this.disposeRunner=new mn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?$n.ELEMENT_ARRAY_BUFFER:$n.ARRAY_BUFFER}get index(){return this.type===$n.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pt(e)}}class ld{constructor(e,t=0,n=!1,i=me.FLOAT,s,o,l,h=1){this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=h}destroy(){this.buffer=null}static from(e,t,n,i,s){return new ld(e,t,n,i,s)}}const wO={Float32Array,Uint32Array,Int32Array,Uint8Array};function bO(r,e){let t=0,n=0;const i={};for(let h=0;h<r.length;h++)n+=e[h],t+=r[h].length;const s=new ArrayBuffer(t*4);let o=null,l=0;for(let h=0;h<r.length;h++){const d=e[h],g=r[h],c=KS(g);i[c]||(i[c]=new wO[c](s)),o=i[c];for(let f=0;f<g.length;f++){const m=(f/d|0)*n+l,v=f%d;o[m+v]=g[f]}l+=d}return new Float32Array(s)}const Kx={5126:4,5123:2,5121:1};let EO=0;const SO={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class us{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=EO++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mn("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,i=!1,s,o,l,h=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof pt||(t instanceof Array&&(t=new Float32Array(t)),t=new pt(t));const d=e.split("|");if(d.length>1){for(let c=0;c<d.length;c++)this.addAttribute(d[c],t,n,i,s);return this}let g=this.buffers.indexOf(t);return g===-1&&(this.buffers.push(t),g=this.buffers.length-1),this.attributes[e]=new ld(g,n,i,s,o,l,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pt||(e instanceof Array&&(e=new Uint16Array(e)),e=new pt(e)),e.type=$n.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],n=new pt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),t.push(s.size*Kx[s.type]/4),s.buffer=0}for(n.data=bO(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new us;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new pt(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new ld(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new us,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new SO[KS(o.buffers[l].data)](i[l]),t.buffers[l]=new pt(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER;let l=0,h=0,d=0,g=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){g=c;break}for(const c in o.attributes){const f=o.attributes[c];(f.buffer|0)===g&&(h+=f.size*Kx[f.type]/4)}for(let c=0;c<e.length;c++){const f=e[c].indexBuffer.data;for(let m=0;m<f.length;m++)t.indexBuffer.data[m+d]+=l;l+=e[c].buffers[g].data.length/h,d+=f.length}}return t}}class JS extends us{constructor(e=!1){super(),this._buffer=new pt(null,e,!1),this._indexBuffer=new pt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,me.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,me.FLOAT).addAttribute("aColor",this._buffer,4,!0,me.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,me.FLOAT).addIndex(this._indexBuffer)}}const ud=Math.PI*2,TO=180/Math.PI,AO=Math.PI/180;var Ut=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(Ut||{});class Ce{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Ce(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}Ce.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Gh=[new Ce,new Ce,new Ce,new Ce];class _e{constructor(e=0,t=0,n=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=Ut.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new _e(0,0,0,0)}clone(){return new _e(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const U=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>U}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=Gh[0].set(e.left,e.top),h=Gh[1].set(e.left,e.bottom),d=Gh[2].set(e.right,e.top),g=Gh[3].set(e.right,e.bottom);if(d.x<=l.x||h.y<=l.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(c===0||(t.apply(l,l),t.apply(h,h),t.apply(d,d),t.apply(g,g),Math.max(l.x,h.x,d.x,g.x)<=n||Math.min(l.x,h.x,d.x,g.x)>=i||Math.max(l.y,h.y,d.y,g.y)<=s||Math.min(l.y,h.y,d.y,g.y)>=o))return!1;const f=c*(h.y-l.y),m=c*(l.x-h.x),v=f*n+m*s,w=f*i+m*s,T=f*n+m*o,x=f*i+m*o;if(Math.max(v,w,T,x)<=f*l.x+m*l.y||Math.min(v,w,T,x)>=f*g.x+m*g.y)return!1;const E=c*(l.y-d.y),S=c*(d.x-l.x),A=E*n+S*s,P=E*i+S*s,L=E*n+S*o,k=E*i+S*o;return!(Math.max(A,P,L,k)<=E*l.x+S*l.y||Math.min(A,P,L,k)>=E*g.x+S*g.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=s-i,this}}_e.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Xd{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=Ut.CIRC}clone(){return new Xd(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=n}getBounds(){return new _e(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Xd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Yd{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i,this.type=Ut.ELIP}clone(){return new Yd(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new _e(this.x-this.width,this.y-this.height,this.width,this.height)}}Yd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class qs{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const n=[];for(let i=0,s=t.length;i<s;i++)n.push(t[i].x,t[i].y);t=n}this.points=t,this.type=Ut.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new qs(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],h=this.points[s*2+1],d=this.points[o*2],g=this.points[o*2+1];h>t!=g>t&&e<(d-l)*((t-h)/(g-h))+l&&(n=!n)}return n}}qs.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class Qd{constructor(e=0,t=0,n=0,i=0,s=20){this.x=e,this.y=t,this.width=n,this.height=i,this.radius=s,this.type=Ut.RREC}clone(){return new Qd(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=t-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=t-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Qd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Qe{constructor(e=1,t=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,i,s,o){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new Ce;const n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Ce;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return t.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=s*t-this.d*n,this.d=s*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this}append(e){const t=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,t,n,i,s,o,l,h,d){return this.a=Math.cos(l+d)*s,this.b=Math.sin(l+d)*s,this.c=-Math.sin(l-h)*o,this.d=Math.cos(l-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),h=Math.atan2(n,t),d=Math.abs(l+h);return d<1e-5||Math.abs(ud-d)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=h),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*t+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,t=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-t*n;return this.a=i/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-t*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Qe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Qe}static get TEMP_MATRIX(){return new Qe}}Qe.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ns=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ds=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ls=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zg=[],eT=[],zh=Math.sign;function CO(){for(let r=0;r<16;r++){const e=[];Zg.push(e);for(let t=0;t<16;t++){const n=zh(Ns[r]*Ns[t]+Fs[r]*Ds[t]),i=zh(Ds[r]*Ns[t]+Ls[r]*Ds[t]),s=zh(Ns[r]*Fs[t]+Fs[r]*Ls[t]),o=zh(Ds[r]*Fs[t]+Ls[r]*Ls[t]);for(let l=0;l<16;l++)if(Ns[l]===n&&Ds[l]===i&&Fs[l]===s&&Ls[l]===o){e.push(l);break}}}for(let r=0;r<16;r++){const e=new Qe;e.set(Ns[r],Ds[r],Fs[r],Ls[r],0,0),eT.push(e)}}CO();const nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>Ns[r],uY:r=>Ds[r],vX:r=>Fs[r],vY:r=>Ls[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>Zg[r][e],sub:(r,e)=>Zg[r][nt.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?nt.S:nt.N:Math.abs(e)*2<=Math.abs(r)?r>0?nt.E:nt.W:e>0?r>0?nt.SE:nt.SW:r>0?nt.NE:nt.NW,matrixAppendRotationInv:(r,e,t=0,n=0)=>{const i=eT[nt.inv(e)];i.tx=t,i.ty=n,r.append(i)}};class Gn{constructor(e,t,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Gn(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Gn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Jg=class{constructor(){this.worldTransform=new Qe,this.localTransform=new Qe,this.position=new Gn(this.onChange,this,0,0),this.scale=new Gn(this.onChange,this,1,1),this.pivot=new Gn(this.onChange,this,0,0),this.skew=new Gn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};Jg.IDENTITY=new Jg;let qd=Jg;qd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var PO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,IO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Zx(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function mm(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function tT(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return mm(2*e);case"bvec3":return mm(3*e);case"bvec4":return mm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const pa=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],RO={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},kO={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function MO(r,e){var n;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in r.uniforms){const s=e[i];if(!s){((n=r.uniforms[i])==null?void 0:n.group)===!0&&(r.uniforms[i].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=r.uniforms[i];let l=!1;for(let h=0;h<pa.length;h++)if(pa[h].test(s,o)){t.push(pa[h].code(i,o)),l=!0;break}if(!l){const h=(s.size===1&&!s.isArray?RO:kO)[s.type].replace("location",`ud["${i}"].location`);t.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const rT={};let ko=rT;function OO(){if(ko===rT||ko!=null&&ko.isContextLost()){const r=le.ADAPTER.createCanvas();let e;le.PREFER_ENV>=ao.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ko=e}return ko}let Hh;function NO(){if(!Hh){Hh=jr.MEDIUM;const r=OO();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(Hh=e.precision?jr.HIGH:jr.MEDIUM)}}return Hh}function Jx(r,e){const t=r.getShaderSource(e).split(`
`).map((d,g)=>`${g}: ${d}`),n=r.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),l=[""];o.forEach(d=>{t[d-1]=`%c${t[d-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=t.join(`
`);l[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function DO(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||Jx(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||Jx(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const FO={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function nT(r){return FO[r]}let $h=null;const ew={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function iT(r,e){if(!$h){const t=Object.keys(ew);$h={};for(let n=0;n<t.length;++n){const i=t[n];$h[r[i]]=ew[i]}}return $h[e]}function tw(r,e,t){if(r.substring(0,9)!=="precision"){let n=e;return e===jr.HIGH&&t!==jr.HIGH&&(n=jr.MEDIUM),`precision ${n} float;
${r}`}else if(t!==jr.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let ul;function LO(){if(typeof ul=="boolean")return ul;try{ul=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ul=!1}return ul}let BO=0;const jh={},ey=class Lo{constructor(e,t,n="pixi-shader",i={}){this.extra={},this.id=BO++,this.vertexSrc=e||Lo.defaultVertexSrc,this.fragmentSrc=t||Lo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),jh[n]?(jh[n]++,n+=`-${jh[n]}`):jh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=tw(this.vertexSrc,Lo.defaultVertexPrecision,jr.HIGH),this.fragmentSrc=tw(this.fragmentSrc,Lo.defaultFragmentPrecision,NO())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return IO}static get defaultFragmentSrc(){return PO}static from(e,t,n){const i=e+t;let s=Xx[i];return s||(Xx[i]=s=new Lo(e,t,n)),s}};ey.defaultVertexPrecision=jr.HIGH,ey.defaultFragmentPrecision=Un.apple.device?jr.HIGH:jr.MEDIUM;let di=ey,UO=0;class gn{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UO++,this.static=!!t,this.ubo=!!n,e instanceof pt?(this.buffer=e,this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pt(new Float32Array(1)),this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(!this.ubo)this.uniforms[e]=new gn(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,n){return new gn(e,t,n)}static uboFrom(e,t){return new gn(e,t??!0,!0)}}class jn{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof gn?this.uniformGroup=t:this.uniformGroup=new gn(t):this.uniformGroup=new gn({}),this.disposeRunner=new mn("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const i=t.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const i=di.from(e,t);return new jn(i,n)}}class GO{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=gn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new di(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Qe,default:this.defaultGroupCache[e]};return new jn(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class ty{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function zO(){return!Un.apple.device}function HO(r){let e=!0;const t=le.ADAPTER.getNavigator();if(Un.tablet||Un.phone){if(Un.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Un.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?r:4}class Kd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var $O=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,jO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const yl=class nn extends Kd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=JS,this.vertexSize=6,this.state=Qn.for2d(),this.size=nn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??HO(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??zO(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Te("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return jO}static get defaultFragmentTemplate(){return $O}setShaderGenerator({vertex:e=nn.defaultVertexSrc,fragment:t=nn.defaultFragmentTemplate}={}){this.shaderGenerator=new GO(e,t)}contextChange(){const e=this.renderer.gl;le.PREFER_ENV===ao.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),nn.defaultMaxTextures),this.maxTextures=vO(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=nn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Kg);for(;t.length<i;)t.push(new ty);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,n=nn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++xe._globalBatch,h=0,d=n[0],g=0;i.copyBoundTextures(s,t);for(let c=0;c<this._bufferSize;++c){const f=e[c];e[c]=null,f._batchEnabled!==l&&(d.count>=t&&(i.boundArray(d,s,l,t),this.buildDrawCalls(d,g,c),g=c,d=n[++h],++l),f._batchEnabled=l,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,l,t),this.buildDrawCalls(d,g,this._bufferSize),++h,++l);for(let c=0;c<s.length;c++)s[c]=null;xe._globalBatch=l}buildDrawCalls(e,t,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:l}=this,h=nn._drawCallPool;let d=this._dcIndex,g=this._aIndex,c=this._iIndex,f=h[d];f.start=this._iIndex,f.texArray=e;for(let m=t;m<n;++m){const v=i[m],w=v._texture.baseTexture,T=QS[w.alphaMode?1:0][v.blendMode];i[m]=null,t<m&&f.blend!==T&&(f.size=c-f.start,t=m,f=h[++d],f.texArray=e,f.start=c),this.packInterleavedGeometry(v,s,o,g,c),g+=v.vertexData.length/2*l,c+=v.indices.length,f.blend=T}t<n&&(f.size=c-f.start,++d),this._dcIndex=d,this._aIndex=g,this._iIndex=c}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:n}=this;nn.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:n}=this.renderer,i=nn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:l,type:h,size:d,start:g,blend:c}=i[o];s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=c,n.set(this.state),t.drawElements(h,d,t.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),nn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=ad(Math.ceil(e/8)),n=Vx(t),i=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Yg(i*this.vertexSize*4)),s}getIndexBuffer(e){const t=ad(Math.ceil(e/12)),n=Vx(t),i=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,t,n,i,s){const{uint32View:o,float32View:l}=t,h=i/this.vertexSize,d=e.uvs,g=e.indices,c=e.vertexData,f=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),v=je.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let w=0;w<c.length;w+=2)l[i++]=c[w],l[i++]=c[w+1],l[i++]=d[w],l[i++]=d[w+1],o[i++]=v,l[i++]=f;for(let w=0;w<g.length;w++)n[s++]=h+g[w]}};yl.defaultBatchSize=4096,yl.extension={name:"batch",type:ne.RendererPlugin},yl._drawCallPool=[],yl._textureArrayPool=[];let Bs=yl;de.add(Bs);var VO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ry=class vl extends jn{constructor(e,t,n){const i=di.from(e||vl.defaultVertexSrc,t||vl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=vl.defaultResolution,this.multisample=vl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Qn}apply(e,t,n,i,s){e.applyFilter(this,t,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return WO}static get defaultFragmentSrc(){return VO}};ry.defaultResolution=1,ry.defaultMultisample=yt.NONE;let tr=ry;class hd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new je(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:i}=e,s=n??t;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}hd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},hd.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"background"};de.add(hd);class sT{constructor(e){this.renderer=e,this.emptyRenderer=new Kd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,n,i){const{elements:s,ids:o,count:l}=e;let h=0;for(let d=0;d<l;d++){const g=s[d],c=g._batchLocation;if(c>=0&&c<i&&t[c]===g){o[d]=c;continue}for(;h<i;){const f=t[h];if(f&&f._batchEnabled===n&&f._batchLocation===h){h++;continue}o[d]=h,g._batchLocation=h,t[h]=g;break}}}destroy(){this.renderer=null}}sT.extension={type:ne.RendererSystem,name:"batch"};de.add(sT);let rw=0;class cd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=rw++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=rw++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(le.PREFER_ENV>=ao.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}cd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},cd.extension={type:ne.RendererSystem,name:"context"};de.add(cd);class ny{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mn("disposeFramebuffer"),this.multisample=yt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new xe(null,{scaleMode:ci.NEAREST,resolution:1,mipmap:Vn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new xe(null,{scaleMode:ci.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vn.OFF,format:J.DEPTH_COMPONENT,type:me.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,t/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class oT extends xe{constructor(e={}){if(typeof e=="number"){const t=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:t,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yt.NONE),super(null,e),this.mipmap=Vn.OFF,this.valid=!0,this._clear=new je([0,0,0,0]),this.framebuffer=new ny(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class hs extends lu{constructor(e){const t=e,n=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){n===void 0&&!t.startsWith("data:")?e.crossOrigin=mO(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,t,n,i){const s=e.gl,o=t.realWidth,l=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===dr.UNPACK),!this.noSubImage&&t.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(t.target,0,n.internalFormat,t.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class aT extends hs{constructor(e,t){if(t=t||{},typeof e=="string"){const n=new Image;hs.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??le.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===dr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=t._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class z0{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const i=t.width,s=t.height;if(n){const o=e.width/2/i,l=e.height/2/s,h=e.x/i+o,d=e.y/s+l;n=nt.add(n,nt.NW),this.x0=h+o*nt.uX(n),this.y0=d+l*nt.uY(n),n=nt.add(n,2),this.x1=h+o*nt.uX(n),this.y1=d+l*nt.uY(n),n=nt.add(n,2),this.x2=h+o*nt.uX(n),this.y2=d+l*nt.uY(n),n=nt.add(n,2),this.x3=h+o*nt.uX(n),this.y3=d+l*nt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}z0.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const nw=new z0;function Vh(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class se extends Eu{constructor(e,t,n,i,s,o,l){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new _e(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=nw,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ce(o.x,o.y):new Ce(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&Mn[t.url]&&se.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new se(this.baseTexture,!this.noFrame&&e,t,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===nw&&(this._uvs=new z0),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=le.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof xe){if(!e.cacheId){const l=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${io()}`,xe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${io()}`}s=e._pixiId}let o=Mn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof xe)?(t.resolution||(t.resolution=bi(e)),o=new se(new xe(e,t)),o.baseTexture.cacheId=s,xe.addToCache(o.baseTexture,s),se.addToCache(o,s)):!o&&e instanceof xe&&(o=new se(e),se.addToCache(o,s)),o}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),i=se.from(e,Object.assign({resourceOptions:n},t),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,n,i){return new se(xe.fromBuffer(e,t,n,i))}static fromLoader(e,t,n,i){const s=new xe(e,Object.assign({scaleMode:xe.defaultOptions.scaleMode,resolution:bi(t)},i)),{resource:o}=s;o instanceof aT&&(o.url=t);const l=new se(s);return n||(n=t),xe.addToCache(l.baseTexture,n),se.addToCache(l,n),n!==t&&(xe.addToCache(l.baseTexture,t),se.addToCache(l,t)),l.baseTexture.valid?Promise.resolve(l):new Promise(h=>{l.baseTexture.once("loaded",()=>h(l))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Mn[t]&&Mn[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Mn[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Mn[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Mn[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Mn[e.textureCacheIds[t]]===e&&delete Mn[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:i,height:s}=e,o=t+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const h=o&&l?"and":"or",d=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,g=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${h} ${g}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new xe),Vh(se._EMPTY),Vh(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=le.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),se._WHITE=new se(xe.from(e)),Vh(se._WHITE),Vh(se._WHITE.baseTexture)}return se._WHITE}}class uo extends se{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(t*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new uo(new oT(e))}}class lT{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=yt.NONE){const i=new oT(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new uo(i)}getOptimalTexture(e,t,n=1,i=yt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=ad(e),t=ad(t),s=((e&65535)<<16|t&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,t,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,t,n){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}lT.SCREEN_KEY=-1;class XO extends us{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class uT extends us{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pt(this.vertices),this.uvBuffer=new pt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class YO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yt.NONE,this.sourceFrame=new _e,this.destinationFrame=new _e,this.bindingSourceFrame=new _e,this.bindingDestinationFrame=new _e,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Wh=[new Ce,new Ce,new Ce,new Ce],gm=new Qe;class hT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new lT,this.statePool=[],this.quad=new XO,this.quadUv=new uT,this.tempRect=new _e,this.activeState={},this.globalUniforms=new gn({outputFrame:new _e,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new YO,o=n.renderTexture;let l,h;if(o.current){const T=o.current;l=T.resolution,h=T.multisample}else l=n.resolution,h=n.multisample;let d=t[0].resolution||l,g=t[0].multisample??h,c=t[0].padding,f=t[0].autoFit,m=t[0].legacy??!0;for(let T=1;T<t.length;T++){const x=t[T];d=Math.min(d,x.resolution||l),g=Math.min(g,x.multisample??h),c=this.useMaxPadding?Math.max(c,x.padding):c+x.padding,f=f&&x.autoFit,m=m||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=g,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(gm.copyFrom(n.projection.transform).invert(),v),f?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,g),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=s.sourceFrame.width,w.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*t.resolution),o[1]=Math.round(s[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=t.sourceFrame.width*s[2]-.5*o[2],l[3]=t.sourceFrame.height*s[3]-.5*o[3],t.legacy){const d=i.filterArea;d[0]=t.destinationFrame.width,d[1]=t.destinationFrame.height,d[2]=t.sourceFrame.x,d[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,h.renderTexture,Fn.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let d=t.renderTexture,g=this.getOptimalFilterTexture(d.width,d.height,t.resolution);g.filterFrame=d.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&t.multisample>1&&(g=this.getOptimalFilterTexture(d.width,d.height,t.resolution),g.filterFrame=d.filterFrame),n[c].apply(this,d,g,Fn.CLEAR,t);const f=d;d=g,g=f}n[c].apply(this,d,h.renderTexture,Fn.BLEND,t),c>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(g)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Fn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(t===Fn.CLEAR||t===Fn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(hn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(hn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=t._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=t.worldTransform.copyTo(Qe.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,i=yt.NONE){return this.texturePool.getOptimalTexture(e,t,n,i)}getFilterTexture(e,t,n){if(typeof e=="number"){const s=e;e=t,t=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=Wh[0],i=Wh[1],s=Wh[2],o=Wh[3];n.set(t.left,t.top),i.set(t.left,t.bottom),s.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),g=Math.max(n.y,i.y,s.y,o.y);t.x=l,t.y=h,t.width=d-l,t.height=g-h}roundFrame(e,t,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c:h,d}=s;if((Math.abs(l)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?gm.copyFrom(s):gm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}}}hT.extension={type:ne.RendererSystem,name:"filter"};de.add(hT);class QO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const qO=new _e;class cT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ny(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new _e,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;le.PREFER_ENV===ao.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const o=t.width>>n,l=t.height>>n,h=o/t.width;this.setViewport(t.x*h,t.y*h,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,i){const s=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=n,s.height=i,this.gl.viewport(e,t,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,i,s=Ig.COLOR|Ig.DEPTH){const{gl:o}=this;o.clearColor(e,t,n,i),o.clear(s)}initFramebuffer(e){const{gl:t}=this,n=new QO(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){t.bindRenderbuffer(t.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=t.DEPTH_STENCIL:e.depth&&e.stencil?o=t.DEPTH24_STENCIL8:e.depth?o=t.DEPTH_COMPONENT24:o=t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,o,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;t.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let h=0;h<o;h++){const d=s[h],g=d.parentTextureArray||d;this.renderer.texture.bind(g,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,d.target,g._glTextures[this.CONTEXT_UID].texture,t),l.push(n.COLOR_ATTACHMENT0+h))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,d;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=yt.NONE;if(e<=1||t===null)return n;for(let i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=yt.NONE),n}blit(e,t,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[l];if(!h)return;if(!e){if(!h.msaaBuffer)return;const g=i.colorTextures[0];if(!g)return;h.blitFramebuffer||(h.blitFramebuffer=new ny(i.width,i.height),h.blitFramebuffer.addColorTexture(0,g)),e=h.blitFramebuffer,e.colorTextures[0]!==g&&(e.colorTextures[0]=g,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=qO,t.width=i.width,t.height=i.height),n||(n=t);const d=t.width===n.width&&t.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=t.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let l,h;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(l=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new _e}destroy(){this.renderer=null}}cT.extension={type:ne.RendererSystem,name:"framebuffer"};de.add(cT);const ym={5126:4,5123:2,5121:1};class dT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;le.PREFER_ENV===ao.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,h)=>n.drawElementsInstancedANGLE(i,s,o,l,h),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];t.update(i)}}checkCompatibility(e,t){const n=e.attributes,i=t.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){const n=e.attributes,i=t.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,t,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=t.program;l.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,l);const h=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let g=d[h];if(g)return d[l.id]=g,g;const c=e.buffers,f=e.attributes,m={},v={};for(const w in c)m[w]=0,v[w]=0;for(const w in f)!f[w].size&&l.attributeData[w]?f[w].size=l.attributeData[w].size:f[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),m[f[w].buffer]+=f[w].size*ym[f[w].type];for(const w in f){const T=f[w],x=T.size;T.stride===void 0&&(m[T.buffer]===x*ym[T.type]?T.stride=0:T.stride=m[T.buffer]),T.start===void 0&&(T.start=v[T.buffer],v[T.buffer]+=x*ym[T.type])}g=i.createVertexArray(),i.bindVertexArray(g);for(let w=0;w<c.length;w++){const T=c[w];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,l),d[l.id]=g,d[h]=g,i.bindVertexArray(null),o.unbind($n.ARRAY_BUFFER),g}disposeGeometry(e,t){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const d=s[h]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!t&&o.dispose(s[h],t))}if(!t){for(const h in n)if(h[0]==="g"){const d=n[h];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const d in l){const g=l[d],c=o[g.buffer],f=c._glBuffers[i];if(t.attributeData[d]){h!==f&&(s.bind(c),h=f);const m=t.attributeData[d].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(m,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,h=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,t||o.indexBuffer.data.length,h,(n||0)*l,i||1):s.drawElements(e,t||o.indexBuffer.data.length,h,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,t||o.getSize(),i||1):s.drawArrays(e,n,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}dT.extension={type:ne.RendererSystem,name:"geometry"};de.add(dT);const iw=new Qe;class H0{constructor(e,t){this._texture=e,this.mapCoord=new Qe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];t[i]=s*n.a+o*n.c+n.tx,t[i+1]=s*n.b+o*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=t.orig,s=t.trim;s&&(iw.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(iw));const o=t.baseTexture,l=this.uClampFrame,h=this.clampMargin/o.resolution,d=this.clampOffset;return l[0]=(t._frame.x+h+d)/o.width,l[1]=(t._frame.y+h+d)/o.height,l[2]=(t._frame.x+t._frame.width-h+d)/o.width,l[3]=(t._frame.y+t._frame.height-h+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&t.rotate===0,!0}}var KO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ZO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class JO extends tr{constructor(e,t,n){let i=null;typeof e!="string"&&t===void 0&&n===void 0&&(i=e,e=void 0,t=void 0,n=void 0),super(e||ZO,t||KO,n),this.maskSprite=i,this.maskMatrix=new Qe}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new H0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,i))}}class eN{constructor(e=null){this.type=xt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=tr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=xt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class fT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const s=this.maskDataPool.pop()||new eN;s.pooled=!0,s.maskObject=t,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==xt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case xt.SCISSOR:this.renderer.scissor.push(n);break;case xt.STENCIL:this.renderer.stencil.push(n);break;case xt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case xt.COLOR:this.pushColorMask(n);break}n.type===xt.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case xt.SCISSOR:this.renderer.scissor.pop(t);break;case xt.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case xt.SPRITE:this.popSpriteMask(t);break;case xt.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===xt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=xt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=xt.SCISSOR:e.type=xt.STENCIL:e.type=xt.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new JO])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const s=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}fT.extension={type:ne.RendererSystem,name:"mask"};de.add(fT);class pT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const sw=new Qe,ow=[],mT=class Sc extends pT{constructor(e){super(e),this.glConst=le.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,ow.pop()??new _e);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Sc.isMatrixRotated(t.worldTransform)||Sc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,t,n,i,s){Sc.isMatrixRotated(s)||(s=s?sw.copyFrom(s):sw.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&ow.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};mT.extension={type:ne.RendererSystem,name:"scissor"};let tN=mT;de.add(tN);class gT extends pT{constructor(e){super(e),this.glConst=le.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}gT.extension={type:ne.RendererSystem,name:"stencil"};de.add(gT);class yT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}yT.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_plugin"};de.add(yT);class vT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Qe,this.transform=null}update(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,t,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/t.width*2,s.d=o*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-o-t.y*s.d}setTransform(e){}destroy(){this.renderer=null}}vT.extension={type:ne.RendererSystem,name:"projection"};de.add(vT);const rN=new qd,aw=new _e;class _T{constructor(e){this.renderer=e,this._tempMatrix=new Qe}generateTexture(e,t){const{region:n,...i}=t||{},s=(n==null?void 0:n.copyTo(aw))||e.getLocalBounds(aw,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const l=uo.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=rN,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,l}destroy(){}}_T.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"textureGenerator"};de.add(_T);const Is=new _e,hl=new _e;class xT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new _e,this.destinationFrame=new _e,this.viewportFrame=new _e}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,t||(Is.width=e.frame.width,Is.height=e.frame.height,t=Is),n||(hl.x=e.frame.x,hl.y=e.frame.y,hl.width=t.width,hl.height=t.height,n=hl),o=s.framebuffer):(l=i.resolution,t||(Is.width=i._view.screen.width,Is.height=i._view.screen.height,t=Is),n||(n=Is,n.width=t.width,n.height=t.height));const h=this.viewportFrame;h.x=n.x*l,h.y=n.y*l,h.width=n.width*l,h.height=n.height*l,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,t,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=je.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:h,y:d,width:g,height:c}=this.viewportFrame;h=Math.round(h),d=Math.round(d),g=Math.round(g),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,d,g,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}xT.extension={type:ne.RendererSystem,name:"renderTexture"};de.add(xT);class nN{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function iN(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(r,i);if(s.name.startsWith("gl_"))continue;const o=iT(e,s.type),l={type:o,name:s.name,size:nT(o),location:e.getAttribLocation(r,s.name)};t[s.name]=l}return t}function sN(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(r,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),h=iT(e,s.type);t[o]={name:o,index:i,type:h,size:s.size,isArray:l,value:tT(h,s.size)}}return t}function oN(r,e){var l;const t=Zx(r,r.VERTEX_SHADER,e.vertexSrc),n=Zx(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();r.attachShader(i,t),r.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||DO(r,i,t,n),e.attributeData=iN(i,r),e.uniformData=sN(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((d,g)=>d>g?1:-1);for(let d=0;d<h.length;d++)e.attributeData[h[d]].location=d,r.bindAttribLocation(i,d,h[d]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);const o={};for(const h in e.uniformData){const d=e.uniformData[h];o[h]={location:r.getUniformLocation(i,h),value:tT(d.type,d.size)}}return new nN(i,o)}function aN(r,e,t,n,i){t.buffer.update(i)}const lN={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function uN(r){const e=r.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let t=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(t=wT[o.data.type],o.data.size>1&&(t=Math.max(t,16)*o.data.size),o.dataLen=t,n%t!==0&&n<16){const l=n%t%16;n+=l,i+=l}n+t>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=t,n=t):(o.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function hN(r,e){const t=[];for(const n in r)e[n]&&t.push(e[n]);return t.sort((n,i)=>n.index-i.index),t}function cN(r,e){if(!r.autoManage)return{size:0,syncFunc:aN};const t=hN(r.uniforms,e),{uboElements:n,size:i}=uN(t),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],h=r.uniforms[l.data.name],d=l.data.name;let g=!1;for(let c=0;c<pa.length;c++){const f=pa[c];if(f.codeUbo&&f.test(l.data,h)){s.push(`offset = ${l.offset/4};`,pa[c].codeUbo(l.data.name,h)),g=!0;break}}if(!g)if(l.data.size>1){const c=nT(l.data.type),f=Math.max(wT[l.data.type]/16,1),m=c/f,v=(4-m%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*f}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const c=lN[l.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let dN=0;const Xh={textureCount:0,uboCount:0};class bT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=dN++}systemCheck(){if(!LO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(Xh.textureCount=0,Xh.uboCount=0,this.syncUniformGroup(e.uniformGroup,Xh)),i}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=MO(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Xh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=cN(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(l.size/4);e.buffer.update(h)}return t.uniformGroups[e.id]=l.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),t[o]&&s.push(t[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,i=oN(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}bT.extension={type:ne.RendererSystem,name:"shader"};de.add(bT);class dd{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.3.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}dd.defaultOptions={hello:!1},dd.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"startup"};de.add(dd);function fN(r,e=[]){return e[ye.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.ADD]=[r.ONE,r.ONE],e[ye.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.NONE]=[0,0],e[ye.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[ye.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[ye.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[ye.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[ye.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[ye.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[ye.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[ye.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[ye.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[ye.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[ye.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const pN=0,mN=1,gN=2,yN=3,vN=4,_N=5,ET=class iy{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ye.NONE,this._blendEq=!1,this.map=[],this.map[pN]=this.setBlend,this.map[mN]=this.setOffset,this.map[gN]=this.setCullFace,this.map[yN]=this.setDepthTest,this.map[vN]=this.setFrontFace,this.map[_N]=this.setDepthMask,this.checks=[],this.defaultState=new Qn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=fN(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(iy.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(iy.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};ET.extension={type:ne.RendererSystem,name:"state"};let xN=ET;de.add(xN);class wN extends Eu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),n=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new mn(t)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](t[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const _l=class Tc{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Tc.defaultMaxIdle,this.checkCountMax=Tc.defaultCheckCountMax,this.mode=Tc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==k0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let i=0;i<t.length;i++){const s=t[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<t.length;s++)t[s]!==null&&(t[i++]=t[s]);t.length=i}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};_l.defaultMode=k0.AUTO,_l.defaultMaxIdle=60*60,_l.defaultCheckCountMax=60*10,_l.extension={type:ne.RendererSystem,name:"textureGC"};let Us=_l;de.add(Us);class vm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=me.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function bN(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:ae.FLOAT,[r.RGBA]:ae.FLOAT,[r.ALPHA]:ae.FLOAT,[r.LUMINANCE]:ae.FLOAT,[r.LUMINANCE_ALPHA]:ae.FLOAT,[r.R8]:ae.FLOAT,[r.R8_SNORM]:ae.FLOAT,[r.RG8]:ae.FLOAT,[r.RG8_SNORM]:ae.FLOAT,[r.RGB8]:ae.FLOAT,[r.RGB8_SNORM]:ae.FLOAT,[r.RGB565]:ae.FLOAT,[r.RGBA4]:ae.FLOAT,[r.RGB5_A1]:ae.FLOAT,[r.RGBA8]:ae.FLOAT,[r.RGBA8_SNORM]:ae.FLOAT,[r.RGB10_A2]:ae.FLOAT,[r.RGB10_A2UI]:ae.FLOAT,[r.SRGB8]:ae.FLOAT,[r.SRGB8_ALPHA8]:ae.FLOAT,[r.R16F]:ae.FLOAT,[r.RG16F]:ae.FLOAT,[r.RGB16F]:ae.FLOAT,[r.RGBA16F]:ae.FLOAT,[r.R32F]:ae.FLOAT,[r.RG32F]:ae.FLOAT,[r.RGB32F]:ae.FLOAT,[r.RGBA32F]:ae.FLOAT,[r.R11F_G11F_B10F]:ae.FLOAT,[r.RGB9_E5]:ae.FLOAT,[r.R8I]:ae.INT,[r.R8UI]:ae.UINT,[r.R16I]:ae.INT,[r.R16UI]:ae.UINT,[r.R32I]:ae.INT,[r.R32UI]:ae.UINT,[r.RG8I]:ae.INT,[r.RG8UI]:ae.UINT,[r.RG16I]:ae.INT,[r.RG16UI]:ae.UINT,[r.RG32I]:ae.INT,[r.RG32UI]:ae.UINT,[r.RGB8I]:ae.INT,[r.RGB8UI]:ae.UINT,[r.RGB16I]:ae.INT,[r.RGB16UI]:ae.UINT,[r.RGB32I]:ae.INT,[r.RGB32UI]:ae.UINT,[r.RGBA8I]:ae.INT,[r.RGBA8UI]:ae.UINT,[r.RGBA16I]:ae.INT,[r.RGBA16UI]:ae.UINT,[r.RGBA32I]:ae.INT,[r.RGBA32UI]:ae.UINT,[r.DEPTH_COMPONENT16]:ae.FLOAT,[r.DEPTH_COMPONENT24]:ae.FLOAT,[r.DEPTH_COMPONENT32F]:ae.FLOAT,[r.DEPTH_STENCIL]:ae.FLOAT,[r.DEPTH24_STENCIL8]:ae.FLOAT,[r.DEPTH32F_STENCIL8]:ae.FLOAT}:e={[r.RGB]:ae.FLOAT,[r.RGBA]:ae.FLOAT,[r.ALPHA]:ae.FLOAT,[r.LUMINANCE]:ae.FLOAT,[r.LUMINANCE_ALPHA]:ae.FLOAT,[r.DEPTH_STENCIL]:ae.FLOAT},e}function EN(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[me.UNSIGNED_BYTE]:{[J.RGBA]:r.RGBA8,[J.RGB]:r.RGB8,[J.RG]:r.RG8,[J.RED]:r.R8,[J.RGBA_INTEGER]:r.RGBA8UI,[J.RGB_INTEGER]:r.RGB8UI,[J.RG_INTEGER]:r.RG8UI,[J.RED_INTEGER]:r.R8UI,[J.ALPHA]:r.ALPHA,[J.LUMINANCE]:r.LUMINANCE,[J.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[me.BYTE]:{[J.RGBA]:r.RGBA8_SNORM,[J.RGB]:r.RGB8_SNORM,[J.RG]:r.RG8_SNORM,[J.RED]:r.R8_SNORM,[J.RGBA_INTEGER]:r.RGBA8I,[J.RGB_INTEGER]:r.RGB8I,[J.RG_INTEGER]:r.RG8I,[J.RED_INTEGER]:r.R8I},[me.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:r.RGBA16UI,[J.RGB_INTEGER]:r.RGB16UI,[J.RG_INTEGER]:r.RG16UI,[J.RED_INTEGER]:r.R16UI,[J.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[me.SHORT]:{[J.RGBA_INTEGER]:r.RGBA16I,[J.RGB_INTEGER]:r.RGB16I,[J.RG_INTEGER]:r.RG16I,[J.RED_INTEGER]:r.R16I},[me.UNSIGNED_INT]:{[J.RGBA_INTEGER]:r.RGBA32UI,[J.RGB_INTEGER]:r.RGB32UI,[J.RG_INTEGER]:r.RG32UI,[J.RED_INTEGER]:r.R32UI,[J.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[me.INT]:{[J.RGBA_INTEGER]:r.RGBA32I,[J.RGB_INTEGER]:r.RGB32I,[J.RG_INTEGER]:r.RG32I,[J.RED_INTEGER]:r.R32I},[me.FLOAT]:{[J.RGBA]:r.RGBA32F,[J.RGB]:r.RGB32F,[J.RG]:r.RG32F,[J.RED]:r.R32F,[J.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[me.HALF_FLOAT]:{[J.RGBA]:r.RGBA16F,[J.RGB]:r.RGB16F,[J.RG]:r.RG16F,[J.RED]:r.R16F},[me.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:r.RGB565},[me.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:r.RGBA4},[me.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:r.RGB5_A1},[me.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:r.RGB10_A2,[J.RGBA_INTEGER]:r.RGB10_A2UI},[me.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:r.R11F_G11F_B10F},[me.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:r.RGB9_E5},[me.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[me.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[me.UNSIGNED_BYTE]:{[J.RGBA]:r.RGBA,[J.RGB]:r.RGB,[J.ALPHA]:r.ALPHA,[J.LUMINANCE]:r.LUMINANCE,[J.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[me.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:r.RGB},[me.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:r.RGBA},[me.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:r.RGBA}},e}class ST{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new xe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=EN(e),this.samplerTypes=bN(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new vm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new vm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=t[s];o&&o._glTextures[i].samplerType!==ae.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const t=new vm(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n;t.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??ae.FLOAT,this.webGLVersion===2&&e.type===me.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var i;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),(i=e.resource)==null?void 0:i.upload(n,e,t))t.samplerType!==ae.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(t.width!==s||t.height!==o||t.dirtyId<0)&&(t.width=s,t.height=o,l.texImage2D(e.target,0,t.internalFormat,s,o,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&fa(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Vn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=gi.CLAMP:t.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==Vn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ci.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ci.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ci.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ci.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}ST.extension={type:ne.RendererSystem,name:"texture"};de.add(ST);class TT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:i}=this;t&&i.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:i}=this,s=t.createTransformFeedback();e._glTransformFeedbacks[i]=s,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const h=l._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!t&&s.dispose(l,t))}n&&(t||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TT.extension={type:ne.RendererSystem,name:"transformFeedback"};de.add(TT);class fd{constructor(e){this.renderer=e}init(e){this.screen=new _e(0,0,e.width,e.height),this.element=e.view||le.ADAPTER.createCanvas(),this.resolution=e.resolution||le.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}fd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},fd.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_view"};de.add(fd);le.PREFER_ENV=ao.WEBGL2;le.STRICT_TEXTURE_CACHE=!1;le.RENDER_OPTIONS={...cd.defaultOptions,...hd.defaultOptions,...fd.defaultOptions,...dd.defaultOptions};Object.defineProperties(le,{WRAP_MODE:{get(){return xe.defaultOptions.wrapMode},set(r){Te("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),xe.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return xe.defaultOptions.scaleMode},set(r){Te("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),xe.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return xe.defaultOptions.mipmap},set(r){Te("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),xe.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return xe.defaultOptions.anisotropicLevel},set(r){Te("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),xe.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return Te("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),tr.defaultResolution},set(r){tr.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return Te("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),tr.defaultMultisample},set(r){tr.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return Bs.defaultMaxTextures},set(r){Te("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Bs.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return Bs.defaultBatchSize},set(r){Te("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Bs.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return Bs.canUploadSameBuffer},set(r){Te("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Bs.canUploadSameBuffer=r}},GC_MODE:{get(){return Us.defaultMode},set(r){Te("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Us.defaultMode=r}},GC_MAX_IDLE:{get(){return Us.defaultMaxIdle},set(r){Te("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Us.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Us.defaultCheckCountMax},set(r){Te("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Us.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return di.defaultVertexPrecision},set(r){Te("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),di.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return di.defaultFragmentPrecision},set(r){Te("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),di.defaultFragmentPrecision=r}}});var cs=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(cs||{});class _m{constructor(e,t=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const AT=class wr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _m(null,null,1/0),this.deltaMS=1/wr.targetFPMS,this.elapsedMS=1/wr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=cs.NORMAL){return this._addListener(new _m(e,t,n))}addOnce(e,t,n=cs.NORMAL){return this._addListener(new _m(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*wr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,wr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!wr._shared){const e=wr._shared=new wr;e.autoStart=!0,e._protected=!0}return wr._shared}static get system(){if(!wr._system){const e=wr._system=new wr;e.autoStart=!0,e._protected=!0}return wr._system}};AT.targetFPMS=.06;let Ot=AT;Object.defineProperties(le,{TARGET_FPMS:{get(){return Ot.targetFPMS},set(r){Te("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ot.targetFPMS=r}}});class CT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,cs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ot.shared:new Ot,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}CT.extension=ne.Application;de.add(CT);const PT=[];de.handleByList(ne.Renderer,PT);function SN(r){for(const e of PT)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var TN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,AN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const CN=TN,IT=AN;class RT{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=yt.HIGH?this.multisample=yt.HIGH:t>=yt.MEDIUM?this.multisample=yt.MEDIUM:t>=yt.LOW?this.multisample=yt.LOW:this.multisample=yt.NONE}destroy(){}}RT.extension={type:ne.RendererSystem,name:"_multisample"};de.add(RT);class PN{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class kT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,s.buffer)}}bindBufferRange(e,t,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,o.buffer,n*256,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const s=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,s)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new PN(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}kT.extension={type:ne.RendererSystem,name:"buffer"};de.add(kT);class MT{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let i,s,o,l;if(t&&(i=t.renderTexture,s=t.clear,o=t.transform,l=t.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(t.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}MT.extension={type:ne.RendererSystem,name:"objectRenderer"};de.add(MT);const Ac=class sy extends wN{constructor(e){super(),this.type=ES.WEBGL,e=Object.assign({},le.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new gn({projectionMatrix:new Qe},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sy.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(Te("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=sy.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:KM()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Te("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Te("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Te("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Te("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Te("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Te("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Te("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Te("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Ac.extension={type:ne.Renderer,priority:1},Ac.__plugins={},Ac.__systems={};let $0=Ac;de.handleByMap(ne.RendererPlugin,$0.__plugins);de.handleByMap(ne.RendererSystem,$0.__systems);de.add($0);class OT extends lu{constructor(e,t){const{width:n,height:i}=t||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new xe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof lu?this.addResourceAt(e[n],n):this.addResourceAt(ZS(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:n}=this.items[0];return this.resize(t,n),this.update(),Promise.resolve(this)}),this._load}}class IN extends OT{constructor(e,t){const{width:n,height:i}=t||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ha.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(let h=0;h<i;h++){const d=o[h];s[h]<d.dirtyId&&(s[h]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,h,d.resource.width,d.resource.height,1,t.format,n.type,d.resource.source))}return!0}}class RN extends hs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const NT=class xl extends OT{constructor(e,t){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=t||{};if(e&&e.length!==xl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let l=0;l<xl.SIDES;l++)this.items[l].target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,t),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ha.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,n){const i=this.itemDirtyIds;for(let s=0;s<xl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===xl.SIDES}};NT.SIDES=6;let kN=NT;class ea extends hs{constructor(e,t){t=t||{};let n,i,s;typeof e=="string"?(n=ea.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??s,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const n=await le.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===dr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;t(n),this.onError.emit(n)}}),this._load)}upload(e,t,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ea._EMPTY=ea._EMPTY??le.ADAPTER.createCanvas(0,0),ea._EMPTY}}const oy=class Cc extends hs{constructor(e,t){t=t||{},super(le.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Cc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;hs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*t,s=this._overrideHeight||this._overrideWidth/t*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${io()}`,o.getContext("2d").drawImage(e,0,0,t,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const t=Cc.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Cc.SVG_XML.test(e)}};oy.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,oy.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let ay=oy;const ly=class uy extends hs{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");t.autoLoad!==!1&&n.setAttribute("preload","auto"),t.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),t.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),t.loop===!0&&n.setAttribute("loop",""),t.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];hs.crossOrigin(n,i,t.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:l,mime:h}=e[s];if(l=l||e[s],l.startsWith("data:"))h=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),g=d.slice(d.lastIndexOf(".")+1);h=h||uy.MIME_TYPES[g]||`video/${g}`}o.src=l,h&&(o.type=h),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Ot.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ot.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||uy.TYPES.includes(t)}};ly.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ly.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let DT=ly;Qg.push(ea,aT,RN,DT,ay,Wd,kN,IN);class pd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?_e.EMPTY:(e=e||new _e(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:i,c:s,d:o,tx:l,ty:h}=e,d=n*t.x+s*t.y+l,g=i*t.x+o*t.y+h;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(e){let t=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];t=o<t?o:t,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],t=o<t?o:t,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],t=o<t?o:t,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],t=o<t?o:t,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=t,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,t,n,i,s){this.addFrameMatrix(e.worldTransform,t,n,i,s)}addFrameMatrix(e,t,n,i,s){const o=e.a,l=e.b,h=e.c,d=e.d,g=e.tx,c=e.ty;let f=this.minX,m=this.minY,v=this.maxX,w=this.maxY,T=o*t+h*n+g,x=l*t+d*n+c;f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*i+h*n+g,x=l*i+d*n+c,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*t+h*s+g,x=l*t+d*s+c,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,T=o*i+h*s+g,x=l*i+d*s+c,f=T<f?T:f,m=x<m?x:m,v=T>v?T:v,w=x>w?x:w,this.minX=f,this.minY=m,this.maxX=v,this.maxY=w}addVertexData(e,t,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let h=t;h<n;h+=2){const d=e[h],g=e[h+1];i=d<i?d:i,s=g<s?g:s,o=d>o?d:o,l=g>l?g:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)}addVerticesMatrix(e,t,n,i,s=0,o=s){const l=e.a,h=e.b,d=e.c,g=e.d,c=e.tx,f=e.ty;let m=this.minX,v=this.minY,w=this.maxX,T=this.maxY;for(let x=n;x<i;x+=2){const E=t[x],S=t[x+1],A=l*E+d*S+c,P=g*S+h*E+f;m=Math.min(m,A-s),w=Math.max(w,A+s),v=Math.min(v,P-o),T=Math.max(T,P+o)}this.minX=m,this.minY=v,this.maxX=w,this.maxY=T}addBounds(e){const t=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=s&&i<=o){const l=this.minX,h=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>g?o:g}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=s&&i<=o){const l=this.minX,h=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>g?o:g}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,i,s,o){e-=s,t-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class et extends Eu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new qd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const i=t[n];Object.defineProperty(et.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new _e),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new _e),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pd);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,n=1,i=1,s=0,o=0,l=0,h=0,d=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=h,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new MN),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*TO}set angle(e){this.transform.rotation=e*AO}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class MN extends et{constructor(){super(...arguments),this.sortDirty=null}}et.prototype.displayObjectUpdateTransform=et.prototype.updateTransform;const ON=new Qe;function NN(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const FT=class hy extends et{constructor(){super(),this.children=[],this.sortableChildren=hy.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);fa(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,fa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,fa(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,i=t,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const i=this.children[t];i._lastSortedIndex=t,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(NN),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==hy.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=ON.copyFrom(i),i.prepend(s)):i=s),n&&t.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const h=this.children[o],d=h.cullable;h.cullable=d||!this.cullArea,h.render(e),h.cullable=d}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,l;const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<t.length;h++)t[h].enabled&&this._enabledFilters.push(t[h])}const i=t&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==xt.NONE));if(i&&e.batch.flush(),t&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,d=this.children.length;h<d;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};FT.defaultSortableChildren=!1;let nr=FT;nr.prototype.containerUpdateTransform=nr.prototype.updateTransform;Object.defineProperties(le,{SORTABLE_CHILDREN:{get(){return nr.defaultSortableChildren},set(r){Te("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),nr.defaultSortableChildren=r}}});const cl=new Ce,DN=new Uint16Array([0,1,2,0,2,3]);class qn extends nr{constructor(e){super(),this._anchor=new Gn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new je(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ye.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=DN,this.pluginName="batch",this.isSprite=!0,this._roundPixels=le.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=qi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=qi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,o=t.d,l=t.tx,h=t.ty,d=this.vertexData,g=e.trim,c=e.orig,f=this._anchor;let m=0,v=0,w=0,T=0;if(g?(v=g.x-f._x*c.width,m=v+g.width,T=g.y-f._y*c.height,w=T+g.height):(v=-f._x*c.width,m=v+c.width,T=-f._y*c.height,w=T+c.height),d[0]=n*v+s*T+l,d[1]=o*T+i*v+h,d[2]=n*m+s*T+l,d[3]=o*T+i*m+h,d[4]=n*m+s*w+l,d[5]=o*w+i*m+h,d[6]=n*v+s*w+l,d[7]=o*w+i*v+h,this._roundPixels){const x=le.RESOLUTION;for(let E=0;E<d.length;++E)d[E]=Math.round(d[E]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,h=s.c,d=s.d,g=s.tx,c=s.ty,f=-i._x*n.width,m=f+n.width,v=-i._y*n.height,w=v+n.height;if(t[0]=o*f+h*v+g,t[1]=d*v+l*f+c,t[2]=o*m+h*v+g,t[3]=d*v+l*m+c,t[4]=o*m+h*w+g,t[5]=d*w+l*m+c,t[6]=o*f+h*w+g,t[7]=d*w+l*f+c,this._roundPixels){const T=le.RESOLUTION;for(let x=0;x<t.length;++x)t[x]=Math.round(t[x]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new _e),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,cl);const t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x;let s=0;return cl.x>=i&&cl.x<i+t&&(s=-n*this.anchor.y,cl.y>=s&&cl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof se?e:se.from(e,t);return new qn(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=qi(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=qi(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const LT=new Qe;et.prototype._cacheAsBitmap=!1;et.prototype._cacheData=null;et.prototype._cacheAsBitmapResolution=null;et.prototype._cacheAsBitmapMultisample=null;class FN{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(et.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new FN),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});et.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};et.prototype._initCachedDisplayObject=function(r){var f,m;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const t=this.getLocalBounds(new _e,!0);if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;t.pad(v)}const n=this.cacheAsBitmapResolution||r.resolution;t.ceil(n),t.width=Math.max(t.width,1/n),t.height=Math.max(t.height,1/n);const i=r.renderTexture.current,s=r.renderTexture.sourceFrame.clone(),o=r.renderTexture.destinationFrame.clone(),l=r.projection.transform,h=uo.create({width:t.width,height:t.height,resolution:n,multisample:this.cacheAsBitmapMultisample??r.multisample}),d=`cacheAsBitmap_${io()}`;this._cacheData.textureCacheId=d,xe.addToCache(h.baseTexture,d),se.addToCache(h,d);const g=this.transform.localTransform.copyTo(LT).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:h,clear:!0,transform:g,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=l,r.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const c=new qn(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(t.x/t.width),c.anchor.y=-(t.y/t.height),c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};et.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};et.prototype._initCachedDisplayObjectCanvas=function(r){var g;if((g=this._cacheData)!=null&&g.sprite)return;const e=this.getLocalBounds(new _e,!0),t=this.alpha;this.alpha=1;const n=r.canvasContext.activeContext,i=r._projTransform,s=this.cacheAsBitmapResolution||r.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=uo.create({width:e.width,height:e.height,resolution:s}),l=`cacheAsBitmap_${io()}`;this._cacheData.textureCacheId=l,xe.addToCache(o.baseTexture,l),se.addToCache(o,l);const h=LT;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),r.canvasContext.activeContext=n,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const d=new qn(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=t,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};et.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};et.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};et.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,xe.removeFromCache(this._cacheData.textureCacheId),se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};et.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};et.prototype.name=null;nr.prototype.getChildByName=function(r,e){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===r)return this.children[t];if(e)for(let t=0,n=this.children.length;t<n;t++){const i=this.children[t];if(!i.getChildByName)continue;const s=i.getChildByName(r,!0);if(s)return s}return null};et.prototype.getGlobalPosition=function(r=new Ce,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var LN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class BN extends tr{constructor(e=1){super(CN,LN,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const UN={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},GN=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function zN(r){const e=UN[r],t=e.length;let n=GN,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<r;l++){let h=s.replace("%index%",l.toString());o=l,l>=t&&(o=r-l-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}const HN=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function $N(r,e){const t=Math.ceil(r/2);let n=HN,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<r;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(t-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}class cy extends tr{constructor(e,t=8,n=4,i=tr.defaultResolution,s=5){const o=$N(s,e),l=zN(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=t,h=s;this.state.blend=!1,e.applyFilter(this,l,h,Fn.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,Fn.BLIT),this.uniforms.uSampler=h;const g=h;h=l,l=g,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class jN extends tr{constructor(e=8,t=4,n=tr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new cy(!0,e,t,n,i),this.blurYFilter=new cy(!1,e,t,n,i),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,t,l,Fn.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,t,n,i):this.blurXFilter.apply(e,t,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var VN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class dy extends tr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(IT,VN,e),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,i,s]=je.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),h=n+(1-n)*o,d=o*(1-n)-l*i,g=o*(1-n)+l*i,c=o*(1-n)+l*i,f=n+o*(1-n),m=o*(1-n)-l*i,v=o*(1-n)-l*i,w=o*(1-n)+l*i,T=n+o*(1-n),x=[h,d,g,0,0,c,f,m,0,0,v,w,T,0,0,0,0,0,1,0];this._loadMatrix(x,t)}contrast(e,t){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,t)}saturate(e=0,t){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,n,i,s){e=e||.2,t=t||.15,n=n||16770432,i=i||3375104;const o=je.shared,[l,h,d]=o.setValue(n).toArray(),[g,c,f]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,l,h,d,e,0,g,c,f,t,0,l-g,h-c,d-f,0,0];this._loadMatrix(m,s)}night(e,t){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}dy.prototype.grayscale=dy.prototype.greyscale;var WN=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,XN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class YN extends tr{constructor(e,t){const n=new Qe;e.renderable=!1,super(XN,WN,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,t==null&&(t=20),this.scale=new Ce(t,t)}apply(e,t,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,t,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var QN=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,qN=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class KN extends tr{constructor(){super(qN,QN)}}var ZN=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class JN extends tr{constructor(e=.5,t=Math.random()){super(IT,ZN,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const lw={AlphaFilter:BN,BlurFilter:jN,BlurFilterPass:cy,ColorMatrixFilter:dy,DisplacementFilter:YN,FXAAFilter:KN,NoiseFilter:JN};Object.entries(lw).forEach(([r,e])=>{Object.defineProperty(lw,r,{get(){return Te("7.1.0",`filters.${r} has moved to ${r}`),e}})});class eD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ot.system.add(this.tickerUpdate,this,cs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ot.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Wi=new eD;class Tu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Tu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ce,this.page=new Ce,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class md extends Tu{constructor(){super(...arguments),this.client=new Ce,this.movement=new Ce,this.offset=new Ce,this.global=new Ce,this.screen=new Ce}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,i,s,o,l,h,d,g,c,f,m,v,w){throw new Error("Method not implemented.")}}class sn extends md{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ma extends md{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ma.DOM_DELTA_PIXEL=0,ma.DOM_DELTA_LINE=1,ma.DOM_DELTA_PAGE=2;const tD=2048,rD=new Ce,xm=new Ce;class nD{constructor(e){this.dispatch=new Eu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,i=t.length;n<i;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){Wi.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,rD.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(t)?t:[t];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const t=[e];for(let n=0;n<tD&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Wi.pauseUpdate=!1),e.interactiveChildren&&e.children){const g=e.children;for(let c=g.length-1;c>=0;c--){const f=g[c],m=this.hitTestMoveRecursive(f,this._isInteractive(t)?t:f.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const v=e.isInteractive();(m.length>0||v)&&(v&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),l=!0}}}const h=this._isInteractive(t),d=e.isInteractive();return h&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:h&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,t,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Wi.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let d=h.length-1;d>=0;d--){const g=h[d],c=this.hitTestRecursive(g,this._isInteractive(t)?t:g.eventMode,n,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const f=e.isInteractive();return(c.length>0||f)&&c.push(e),c}}}const o=this._isInteractive(t),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var n;if(e.hitArea&&(e.worldTransform.applyInverse(t,xm),!e.hitArea.contains(xm.x,xm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var s,o;t=t??e.type;const n=`on${t}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var h,d;if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==t.target){const g=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,g,s);if(this.dispatchEvent(c,"pointerout"),n&&this.dispatchEvent(c,"mouseout"),!t.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!t.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}if(s!==t.target){const g=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(t,g);this.dispatchEvent(c,"pointerover"),n&&this.dispatchEvent(c,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==t.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(t,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(c)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),l&&o.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(d=t.target)==null?void 0:d.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var o;if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:t});const h=i.clicksByButton[e.button];if(h.target===l.target&&t-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=l.target,h.timeStamp=t,l.detail=h.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ma)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const i=this.allocateEvent(sn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(ma);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(sn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof sn&&t instanceof sn&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof md&&t instanceof md&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(t,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const iD=1,sD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},fy=class py{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new nD(null),Wi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new sn(null),this.rootWheelEvent=new ma(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...py.defaultEventFeatures},{set:(t,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),t[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:n}=this.renderer;this.setTargetElement(t),this.resolution=n,py._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=t.length;n<i;n++){const s=t[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Wi.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const l=this.bootstrapEvent(this.rootPointerEvent,i[s]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,Wi.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Wi.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Wi.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=iD),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=sD[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};fy.extension={name:"events",type:[ne.RendererSystem,ne.CanvasRendererSystem]},fy.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let my=fy;de.add(my);function uw(r){return r==="dynamic"||r==="static"}const oD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??uw(my.defaultEventMode)},set interactive(r){Te("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??my.defaultEventMode},set eventMode(r){this._internalInteractive=uw(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.on(r,e,i)},removeEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,i)},dispatchEvent(r){if(!(r instanceof Tu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};et.mixin(oD);const aD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};et.mixin(aD);const lD=9,Yh=100,uD=0,hD=0,hw=2,cw=1,cD=-1e3,dD=-1e3,fD=2;class BT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Un.tablet||Un.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Yh}px`,t.style.height=`${Yh}px`,t.style.position="absolute",t.style.top=`${uD}px`,t.style.left=`${hD}px`,t.style.zIndex=hw.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${cw}px`,e.style.height=`${cw}px`,e.style.position="absolute",e.style.top=`${cD}px`,e.style.left=`${dD}px`,e.style.zIndex=fD.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}update(){const e=performance.now();if(Un.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:h}=this.renderer,d=i/o*h,g=s/l*h;let c=this.div;c.style.left=`${t}px`,c.style.top=`${n}px`,c.style.width=`${o}px`,c.style.height=`${l}px`;for(let f=0;f<this.children.length;f++){const m=this.children[f];if(m.renderId!==this.renderId)m._accessibleActive=!1,fa(this.children,f,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,f--;else{c=m._accessibleDiv;let v=m.hitArea;const w=m.worldTransform;m.hitArea?(c.style.left=`${(w.tx+v.x*w.a)*d}px`,c.style.top=`${(w.ty+v.y*w.d)*g}px`,c.style.width=`${v.width*w.a*d}px`,c.style.height=`${v.height*w.d*g}px`):(v=m.getBounds(),this.capHitArea(v),c.style.left=`${v.x*d}px`,c.style.top=`${v.y*g}px`,c.style.width=`${v.width*d}px`,c.style.height=`${v.height*g}px`,c.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(c.title=m.accessibleTitle),c.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&c.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==c.title||m.tabIndex!==c.tabIndex)&&(c.title=m.accessibleTitle,c.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Yh}px`,t.style.height=`${Yh}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=hw.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Tu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===lD&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}BT.extension={name:"accessibility",type:[ne.RendererPlugin,ne.CanvasRendererPlugin]};de.add(BT);const UT=class gy{constructor(e){this.stage=new nr,e=Object.assign({forceCanvas:!1},e),this.renderer=SN(e),gy._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const n=gy._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};UT._plugins=[];let Zd=UT;de.handleByList(ne.Application,Zd._plugins);class GT{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,n;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;t=i,n=s}this.renderer.resize(t,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}GT.extension=ne.Application;de.add(GT);const dw={loader:ne.LoadParser,resolver:ne.ResolveParser,cache:ne.CacheParser,detection:ne.DetectionParser};de.handle(ne.Asset,r=>{const e=r.ref;Object.entries(dw).filter(([t])=>!!e[t]).forEach(([t,n])=>de.add(Object.assign(e[t],{extension:e[t].extension??n})))},r=>{const e=r.ref;Object.keys(dw).filter(t=>!!e[t]).forEach(t=>de.remove(e[t]))});class pD{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ka(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function ys(r,e){const t=r.split("?")[0],n=Et.extname(t).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const un=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(n=>typeof n=="string"||t?e(n):n):r),yy=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function zT(r,e,t,n,i){const s=e[t];for(let o=0;o<s.length;o++){const l=s[o];t<e.length-1?zT(r.replace(n[t],l),e,t+1,n,i):i.push(r.replace(n[t],l))}}function mD(r){const e=/\{(.*?)\}/g,t=r.match(e),n=[];if(t){const i=[];t.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),zT(r,i,0,t,n)}else n.push(r);return n}const gd=r=>!Array.isArray(r);class gD{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=un(e);let i;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.test(t)){i=h.getCacheableAssets(n,t);break}}i||(i={},n.forEach(l=>{i[l]=t}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==t&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),t instanceof se){const l=t;n.forEach(h=>{l.baseTexture!==se.EMPTY.baseTexture&&xe.addToCache(l.baseTexture,h),se.addToCache(l,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(n=>{this._cache.delete(n)}),t.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const zs=new gD;class yD{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];if(d.load&&((o=d.test)!=null&&o.call(d,e,t,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,t,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,i,t,this))&&(i=await d.parse(i,t,this)||i,n.parser=d)}return i})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const i={},s=gd(e),o=un(e,d=>({alias:[d],src:d})),l=o.length,h=o.map(async d=>{const g=Et.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,d)),i[d.src]=await this.promiseCache[g].promise,t&&t(++n/l)}catch(c){throw delete this.promiseCache[g],delete i[d.src],new Error(`[Loader.load] Failed to load ${g}.
${c}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const t=un(e,n=>({alias:[n],src:n})).map(async n=>{var o,l;const i=Et.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,h,n,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var vn=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(vn||{});const vD=".json",_D="application/json",xD={extension:{type:ne.LoadParser,priority:vn.Low},name:"loadJson",test(r){return ka(r,_D)||ys(r,vD)},async load(r){return await(await le.ADAPTER.fetch(r)).json()}};de.add(xD);const wD=".txt",bD="text/plain",ED={name:"loadTxt",extension:{type:ne.LoadParser,priority:vn.Low},test(r){return ka(r,bD)||ys(r,wD)},async load(r){return await(await le.ADAPTER.fetch(r)).text()}};de.add(ED);const SD=["normal","bold","100","200","300","400","500","600","700","800","900"],TD=[".ttf",".otf",".woff",".woff2"],AD=["font/ttf","font/otf","font/woff","font/woff2"],CD=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function PD(r){const e=Et.extname(r),t=Et.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=t.length>0;for(const s of t)if(!s.match(CD)){n=!1;break}let i=t.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const ID=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function RD(r){return ID.test(r)?r:encodeURI(r)}const kD={extension:{type:ne.LoadParser,priority:vn.Low},name:"loadWebFont",test(r){return ka(r,AD)||ys(r,TD)},async load(r,e){var n,i,s;const t=le.ADAPTER.getFontFaceSet();if(t){const o=[],l=((n=e.data)==null?void 0:n.family)??PD(r),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(g=>SD.includes(g)))??["normal"],d=e.data??{};for(let g=0;g<h.length;g++){const c=h[g],f=new FontFace(l,`url(${RD(r)})`,{...d,weight:c});await f.load(),t.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>le.ADAPTER.getFontFaceSet().delete(e))}};de.add(kD);let fw=0,wm;const MD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",OD={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${MD}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},ND={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let bm;class DD{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const t=URL.createObjectURL(new Blob([OD.code],{type:"application/javascript"})),n=new Worker(t);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(t),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){wm===void 0&&(wm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<wm&&(bm||(bm=URL.createObjectURL(new Blob([ND.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(bm),e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[fw]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:fw++,id:n})}}const pw=new DD;function Au(r,e,t){r.resource.internal=!0;const n=new se(r),i=()=>{delete e.promiseCache[t],zs.has(t)&&zs.remove(t)};return n.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const FD=[".jpeg",".jpg",".png",".webp",".avif"],LD=["image/jpeg","image/png","image/webp","image/avif"];async function BD(r){const e=await le.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Jd={name:"loadTextures",extension:{type:ne.LoadParser,priority:vn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return ka(r,LD)||ys(r,FD)},async load(r,e,t){var l;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await pw.isImageBitmapSupported()?i=await pw.loadImageBitmap(r):i=await BD(r):i=await new Promise((h,d)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=r,g.complete?h(g):(g.onload=()=>h(g),g.onerror=c=>d(c))});const s={...e.data};s.resolution??(s.resolution=bi(r)),n&&((l=s.resourceOptions)==null?void 0:l.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new xe(i,s);return o.resource.src=r,Au(o,t,r)},unload(r){r.destroy(!0)}};de.add(Jd);const UD=".svg",GD="image/svg+xml",zD={extension:{type:ne.LoadParser,priority:vn.High},name:"loadSVG",test(r){return ka(r,GD)||ys(r,UD)},async testParse(r){return ay.test(r)},async parse(r,e,t){var s;const n=new ay(r,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new xe(n,{resolution:bi(r),...e==null?void 0:e.data});return i.resource.src=e.src,Au(i,t,e.src)},async load(r,e){return(await le.ADAPTER.fetch(r)).text()},unload:Jd.unload};de.add(zD);const HD=[".mp4",".m4v",".webm",".ogv"],$D=["video/mp4","video/webm","video/ogg"],jD={name:"loadVideo",extension:{type:ne.LoadParser,priority:vn.High},config:{defaultAutoPlay:!0},test(r){return ka(r,$D)||ys(r,HD)},async load(r,e,t){var o;let n;const i=await(await le.ADAPTER.fetch(r)).blob(),s=URL.createObjectURL(i);try{const l={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},h=new DT(s,l);await h.load();const d=new xe(h,{alphaMode:await qM(),resolution:bi(r),...e==null?void 0:e.data});d.resource.src=r,n=Au(d,t,r),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(l){throw URL.revokeObjectURL(s),l}return n},unload(r){r.destroy(!0)}};de.add(jD);class VD{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:i,srcs:s}=e;return un(t||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(l=>(l==null?void 0:l.src)??(l==null?void 0:l.srcs)??l):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let l;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);n.push(h),l=[o,h]}else{const h=o.map(d=>this._createBundleAssetId(e,d));n.push(...h),l=[...o,...h]}this.add({...i,alias:l,src:s})}):Object.keys(t).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:s,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:s,src:t[i]});else{const o=t[i],l=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(l)?l:[l]})}n.push(...s)}),this._bundles[e]=n}add(e,t,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Te("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:t,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},un(o).forEach(h=>{const{src:d,srcs:g}=h;let{data:c,format:f,loadParser:m}=h;const v=un(d||g).map(x=>typeof x=="string"?mD(x):Array.isArray(x)?x:[x]),w=this.getAlias(h);Array.isArray(w)?w.forEach(l):l(w);const T=[];v.forEach(x=>{x.forEach(E=>{let S={};if(typeof E!="object"){S.src=E;for(let A=0;A<this._parsers.length;A++){const P=this._parsers[A];if(P.test(E)){S=P.parse(E);break}}}else c=E.data??c,f=E.format??f,m=E.loadParser??m,S={...S,...E};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:w,data:c,format:f,loadParser:m}),T.push(S)})}),w.forEach(x=>{this._assetMap[x]=T})})}resolveBundle(e){const t=gd(e);e=un(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const h in o){const d=o[h];l[this._extractAssetIdFromBundle(i,h)]=d}n[i]=l}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const n={};for(const i in t)n[i]=t[i].src;return n}return t.src}resolve(e){const t=gd(e);e=un(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],l=this._getPreferredOrder(s);l==null||l.priority.forEach(h=>{l.params[h].forEach(d=>{const g=s.filter(c=>c[h]?c[h]===d:!1);g.length&&(s=g)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:n,data:i,loadParser:s,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=Et.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Et.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class WD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new VD,this.loader=new yD,this.cache=zs,this._backgroundLoader=new pD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const t=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,i,s){this.resolver.add(e,t,n,i,s)}async load(e,t){this._initialized||await this.init();const n=gd(e),i=un(e).map(l=>{if(typeof l!="string"){const h=this.resolver.getAlias(l);return h.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,t);return n?o[i[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,h=0;const d=()=>{t==null||t(++l/h)},g=o.map(c=>{const f=i[c];return h+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(m=>{s[c]=m})});return await Promise.all(g),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return zs.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=zs.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,t);this._backgroundLoader.active=!0;const o={};return n.forEach((l,h)=>{const d=s[l.src],g=[l.src];l.alias&&g.push(...l.alias),o[i[h]]=d,zs.set(g,d)}),o}async unload(e){this._initialized||await this.init();const t=un(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=un(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(n=>{zs.remove(n.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((n,i)=>t.indexOf(n)===i),t}get detections(){return this._detections}get preferWorkers(){return Jd.config.preferWorkers}set preferWorkers(e){Te("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(n=>n in e).forEach(n=>{t.config[n]=e[n]})})}}const Vs=new WD;de.handleByList(ne.LoadParser,Vs.loader.parsers).handleByList(ne.ResolveParser,Vs.resolver.parsers).handleByList(ne.CacheParser,Vs.cache.parsers).handleByList(ne.DetectionParser,Vs.detections);const XD={extension:ne.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof se),getCacheableAssets:(r,e)=>{const t={};return r.forEach(n=>{e.forEach((i,s)=>{t[n+(s===0?"":s+1)]=i})}),t}};de.add(XD);async function HT(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const $T={extension:{type:ne.DetectionParser,priority:1},test:async()=>HT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};de.add($T);const jT={extension:{type:ne.DetectionParser,priority:0},test:async()=>HT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};de.add(jT);const mw=["png","jpg","jpeg"],YD={extension:{type:ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...mw],remove:async r=>r.filter(e=>!mw.includes(e))};de.add(YD);const QD="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function j0(r){return QD?!1:document.createElement("video").canPlayType(r)!==""}const qD={extension:{type:ne.DetectionParser,priority:0},test:async()=>j0("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};de.add(qD);const KD={extension:{type:ne.DetectionParser,priority:0},test:async()=>j0("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};de.add(KD);const ZD={extension:{type:ne.DetectionParser,priority:0},test:async()=>j0("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};de.add(ZD);const JD={extension:ne.ResolveParser,test:Jd.test,parse:r=>{var e;return{resolution:parseFloat(((e=le.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:Et.extname(r).slice(1),src:r}}};de.add(JD);var br=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r))(br||{});const yd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let ni,Bo;function gw(){Bo={s3tc:ni.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ni.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ni.getExtension("WEBGL_compressed_texture_etc"),etc1:ni.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ni.getExtension("WEBGL_compressed_texture_pvrtc")||ni.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ni.getExtension("WEBGL_compressed_texture_atc"),astc:ni.getExtension("WEBGL_compressed_texture_astc")}}const eF={extension:{type:ne.DetectionParser,priority:2},test:async()=>{const r=le.ADAPTER.createCanvas().getContext("webgl");return r?(ni=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Bo||gw();const e=[];for(const t in Bo)Bo[t]&&e.push(t);return[...e,...r]},remove:async r=>(Bo||gw(),r.filter(e=>!(e in Bo)))};de.add(eF);class tF extends Wd{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,t),this.origin=n,this.buffer=i?new Yg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Yg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Ks extends tF{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Ks._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Ks._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:h,levelHeight:d,levelBuffer:g}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,h,d,0,g)}return!0}onBlobLoaded(){this._levelBuffers=Ks._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,n,i,s,o,l){const h=new Array(n);let d=e.byteOffset,g=o,c=l,f=g+i-1&~(i-1),m=c+s-1&~(s-1),v=f*m*yd[t];for(let w=0;w<n;w++)h[w]={levelID:w,levelWidth:n>1?g:f,levelHeight:n>1?c:m,levelBuffer:new Uint8Array(e.buffer,d,v)},d+=v,g=g>>1||1,c=c>>1||1,f=g+i-1&~(i-1),m=c+s-1&~(s-1),v=f*m*yd[t];return h}}const Em=4,Qh=124,rF=32,yw=20,nF=542327876,qh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},iF={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Kh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},sF=1,oF=2,aF=4,lF=64,uF=512,hF=131072,cF=827611204,dF=861165636,fF=894720068,pF=808540228,mF=4,gF={[cF]:br.COMPRESSED_RGBA_S3TC_DXT1_EXT,[dF]:br.COMPRESSED_RGBA_S3TC_DXT3_EXT,[fF]:br.COMPRESSED_RGBA_S3TC_DXT5_EXT},yF={70:br.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:br.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:br.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:br.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:br.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:br.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:br.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:br.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:br.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function vF(r){const e=new Uint32Array(r);if(e[0]!==nF)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(r,0,Qh/Uint32Array.BYTES_PER_ELEMENT),n=t[qh.HEIGHT],i=t[qh.WIDTH],s=t[qh.MIPMAP_COUNT],o=new Uint32Array(r,qh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,rF/Uint32Array.BYTES_PER_ELEMENT),l=o[sF];if(l&aF){const h=o[iF.FOURCC];if(h!==pF){const E=gF[h],S=Em+Qh,A=new Uint8Array(r,S);return[new Ks(A,{format:E,width:i,height:n,levels:s})]}const d=Em+Qh,g=new Uint32Array(e.buffer,d,yw/Uint32Array.BYTES_PER_ELEMENT),c=g[Kh.DXGI_FORMAT],f=g[Kh.RESOURCE_DIMENSION],m=g[Kh.MISC_FLAG],v=g[Kh.ARRAY_SIZE],w=yF[c];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(m===mF)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,x=Em+Qh+yw;if(v===1)T.push(new Uint8Array(r,x));else{const E=yd[w];let S=0,A=i,P=n;for(let k=0;k<s;k++){const R=Math.max(1,A+3&-4),U=Math.max(1,P+3&-4),H=R*U*E;S+=H,A=A>>>1,P=P>>>1}let L=x;for(let k=0;k<v;k++)T.push(new Uint8Array(r,L,S)),L+=S}return T.map(E=>new Ks(E,{format:w,width:i,height:n,levels:s}))}throw l&lF?new Error("DDSParser does not support uncompressed texture data."):l&uF?new Error("DDSParser does not supported YUV uncompressed texture data."):l&hF?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&oF?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const vw=[171,75,84,88,32,49,49,187,13,10,26,10],_F=67305985,rn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},vy=64,_w={[me.UNSIGNED_BYTE]:1,[me.UNSIGNED_SHORT]:2,[me.INT]:4,[me.UNSIGNED_INT]:4,[me.FLOAT]:4,[me.HALF_FLOAT]:8},xF={[J.RGBA]:4,[J.RGB]:3,[J.RG]:2,[J.RED]:1,[J.LUMINANCE]:1,[J.LUMINANCE_ALPHA]:2,[J.ALPHA]:1},wF={[me.UNSIGNED_SHORT_4_4_4_4]:2,[me.UNSIGNED_SHORT_5_5_5_1]:2,[me.UNSIGNED_SHORT_5_6_5]:2};function bF(r,e,t=!1){const n=new DataView(e);if(!EF(r,n))return null;const i=n.getUint32(rn.ENDIANNESS,!0)===_F,s=n.getUint32(rn.GL_TYPE,i),o=n.getUint32(rn.GL_FORMAT,i),l=n.getUint32(rn.GL_INTERNAL_FORMAT,i),h=n.getUint32(rn.PIXEL_WIDTH,i),d=n.getUint32(rn.PIXEL_HEIGHT,i)||1,g=n.getUint32(rn.PIXEL_DEPTH,i)||1,c=n.getUint32(rn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(rn.NUMBER_OF_FACES,i),m=n.getUint32(rn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(rn.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||g!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const w=4,T=4,x=h+3&-4,E=d+3&-4,S=new Array(c);let A=h*d;s===0&&(A=x*E);let P;if(s!==0?_w[s]?P=_w[s]*xF[o]:P=wF[s]:P=yd[l],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=t?TF(n,v,i):null;let k=A*P,R=h,U=d,H=x,re=E,Y=vy+v;for(let N=0;N<m;N++){const j=n.getUint32(Y,i);let ee=Y+4;for(let oe=0;oe<c;oe++){let ie=S[oe];ie||(ie=S[oe]=new Array(m)),ie[N]={levelID:N,levelWidth:m>1||s!==0?R:H,levelHeight:m>1||s!==0?U:re,levelBuffer:new Uint8Array(e,ee,k)},ee+=k}Y+=j+4,Y=Y%4!==0?Y+4-Y%4:Y,R=R>>1||1,U=U>>1||1,H=R+w-1&~(w-1),re=U+T-1&~(T-1),k=H*re*P}return s!==0?{uncompressed:S.map(N=>{let j=N[0].levelBuffer,ee=!1;return s===me.FLOAT?j=new Float32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4):s===me.UNSIGNED_INT?(ee=!0,j=new Uint32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)):s===me.INT&&(ee=!0,j=new Int32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)),{resource:new Wd(j,{width:N[0].levelWidth,height:N[0].levelHeight}),type:s,format:ee?SF(o):o}}),kvData:L}:{compressed:S.map(N=>new Ks(null,{format:l,width:h,height:d,levels:m,levelBuffers:N})),kvData:L}}function EF(r,e){for(let t=0;t<vw.length;t++)if(e.getUint8(t)!==vw[t])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function SF(r){switch(r){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return r}}function TF(r,e,t){const n=new Map;let i=0;for(;i<e;){const s=r.getUint32(vy+i,t),o=vy+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&r.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(r.buffer,o,h)),g=new DataView(r.buffer,o+h+1,s-h-1);n.set(d,g),i+=4+s+l}return n}const AF={extension:{type:ne.LoadParser,priority:vn.High},name:"loadDDS",test(r){return ys(r,".dds")},async load(r,e,t){const n=await(await le.ADAPTER.fetch(r)).arrayBuffer(),i=vF(n).map(s=>{const o=new xe(s,{mipmap:Vn.OFF,alphaMode:dr.NO_PREMULTIPLIED_ALPHA,resolution:bi(r),...e.data});return Au(o,t,r)});return i.length===1?i[0]:i},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};de.add(AF);const CF={extension:{type:ne.LoadParser,priority:vn.High},name:"loadKTX",test(r){return ys(r,".ktx")},async load(r,e,t){const n=await(await le.ADAPTER.fetch(r)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=bF(r,n),l=i??s,h={mipmap:Vn.OFF,alphaMode:dr.NO_PREMULTIPLIED_ALPHA,resolution:bi(r),...e.data},d=l.map(g=>{l===s&&Object.assign(h,{type:g.type,format:g.format});const c=g.resource??g,f=new xe(c,h);return f.ktxKeyValueData=o,Au(f,t,r)});return d.length===1?d[0]:d},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};de.add(CF);const PF={extension:ne.ResolveParser,test:r=>{const e=Et.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{var t,n;const e=Et.extname(r).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>r.endsWith(s)))return{resolution:parseFloat(((t=le.RETINA_PREFIX.exec(r))==null?void 0:t[1])??"1"),format:i.find(s=>r.endsWith(s)),src:r}}return{resolution:parseFloat(((n=le.RETINA_PREFIX.exec(r))==null?void 0:n[1])??"1"),format:e,src:r}}};de.add(PF);const Zh=new _e,IF=4,VT=class wl{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,n,i){const s=new Image;return s.src=await this.base64(e,t,n,i),s}async base64(e,t,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,l)=>{s.toBlob(h=>{if(!h){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=l,d.readAsDataURL(h)},t,n)});if(s.toDataURL!==void 0)return s.toDataURL(t,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:t,quality:n});return new Promise((l,h)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=h,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,t);o&&wl._flipY(n,i,s),l&&wl._unpremultiplyAlpha(n);const h=new dO(i,s,1),d=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return h.context.putImageData(d,0,0),h.canvas}pixels(e,t){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,t);return o&&wl._flipY(n,i,s),l&&wl._unpremultiplyAlpha(n),n}_rawPixels(e,t){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,l,h=!1;e&&(e instanceof uo?l=e:(l=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),h=!0,t&&(Zh.width=t.width,Zh.height=t.height,t=Zh)));const d=n.gl;if(l){if(i=l.baseTexture.resolution,t=t??l.frame,s=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===J.RGBA,!h){n.renderTexture.bind(l);const m=l.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,t||(t=Zh,t.width=n.width/i,t.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(t.width*i),1),c=Math.max(Math.round(t.height*i),1),f=new Uint8Array(IF*g*c);return d.readPixels(Math.round(t.x*i),Math.round(t.y*i),g,c,d.RGBA,d.UNSIGNED_BYTE,f),h&&(l==null||l.destroy(!0)),{pixels:f,width:g,height:c,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,t,n){const i=t<<2,s=n>>1,o=new Uint8Array(i);for(let l=0;l<s;l++){const h=l*i,d=(n-l-1)*i;o.set(e.subarray(h,h+i)),e.copyWithin(h,d,d+i),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};VT.extension={name:"extract",type:ne.RendererSystem};let RF=VT;de.add(RF);const vd={build(r){const e=r.points;let t,n,i,s,o,l;if(r.type===Ut.CIRC){const v=r.shape;t=v.x,n=v.y,o=l=v.radius,i=s=0}else if(r.type===Ut.ELIP){const v=r.shape;t=v.x,n=v.y,o=v.width,l=v.height,i=s=0}else{const v=r.shape,w=v.width/2,T=v.height/2;t=v.x+w,n=v.y+T,o=l=Math.max(0,Math.min(v.radius,Math.min(w,T))),i=w-o,s=T-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+l)),d=h*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(h===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+s,e[2]=e[4]=t-i,e[5]=e[7]=n-s;return}let g=0,c=h*4+(i?2:0)+2,f=c,m=d;{const v=i+o,w=s,T=t+v,x=t-v,E=n+w;if(e[g++]=T,e[g++]=E,e[--c]=E,e[--c]=x,s){const S=n-w;e[f++]=x,e[f++]=S,e[--m]=S,e[--m]=T}}for(let v=1;v<h;v++){const w=Math.PI/2*(v/h),T=i+Math.cos(w)*o,x=s+Math.sin(w)*l,E=t+T,S=t-T,A=n+x,P=n-x;e[g++]=E,e[g++]=A,e[--c]=A,e[--c]=S,e[f++]=S,e[f++]=P,e[--m]=P,e[--m]=E}{const v=i,w=s+l,T=t+v,x=t-v,E=n+w,S=n-w;e[g++]=T,e[g++]=E,e[--m]=S,e[--m]=T,i&&(e[g++]=x,e[g++]=E,e[--m]=S,e[--m]=x)}},triangulate(r,e){const t=r.points,n=e.points,i=e.indices;if(t.length===0)return;let s=n.length/2;const o=s;let l,h;if(r.type!==Ut.RREC){const g=r.shape;l=g.x,h=g.y}else{const g=r.shape;l=g.x+g.width/2,h=g.y+g.height/2}const d=r.matrix;n.push(r.matrix?d.a*l+d.c*h+d.tx:l,r.matrix?d.b*l+d.d*h+d.ty:h),s++,n.push(t[0],t[1]);for(let g=2;g<t.length;g+=2)n.push(t[g],t[g+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function xw(r,e=!1){const t=r.length;if(t<6)return;let n=0;for(let i=0,s=r[t-2],o=r[t-1];i<t;i+=2){const l=r[i],h=r[i+1];n+=(l-s)*(h+o),s=l,o=h}if(!e&&n>0||e&&n<=0){const i=t/2;for(let s=i+i%2;s<t;s+=2){const o=t-s-2,l=t-s-1,h=s,d=s+1;[r[o],r[h]]=[r[h],r[o]],[r[l],r[d]]=[r[d],r[l]]}}}const WT={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const n=r.holes,i=e.points,s=e.indices;if(t.length>=6){xw(t,!1);const o=[];for(let d=0;d<n.length;d++){const g=n[d];xw(g.points,!0),o.push(t.length/2),t=t.concat(g.points)}const l=C2(t,o,2);if(!l)return;const h=i.length/2;for(let d=0;d<l.length;d+=3)s.push(l[d]+h),s.push(l[d+1]+h),s.push(l[d+2]+h);for(let d=0;d<t.length;d++)i.push(t[d])}}},kF={build(r){const e=r.shape,t=e.x,n=e.y,i=e.width,s=e.height,o=r.points;o.length=0,i>=0&&s>=0&&o.push(t,n,t+i,n,t+i,n+s,t,n+s)},triangulate(r,e){const t=r.points,n=e.points;if(t.length===0)return;const i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},MF={build(r){vd.build(r)},triangulate(r,e){vd.triangulate(r,e)}};var Gr=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(Gr||{}),Ki=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(Ki||{});const Aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class ww{static curveTo(e,t,n,i,s,o){const l=o[o.length-2],h=o[o.length-1]-t,d=l-e,g=i-t,c=n-e,f=Math.abs(h*c-d*g);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const m=h*h+d*d,v=g*g+c*c,w=h*g+d*c,T=s*Math.sqrt(m)/f,x=s*Math.sqrt(v)/f,E=T*w/m,S=x*w/v,A=T*c+x*d,P=T*g+x*h,L=d*(x+E),k=h*(x+E),R=c*(T+S),U=g*(T+S),H=Math.atan2(k-P,L-A),re=Math.atan2(U-P,R-A);return{cx:A+e,cy:P+t,radius:s,startAngle:H,endAngle:re,anticlockwise:d*g>c*h}}static arc(e,t,n,i,s,o,l,h,d){const g=l-o,c=Aa._segmentsCount(Math.abs(g)*s,Math.ceil(Math.abs(g)/ud)*40),f=g/(c*2),m=f*2,v=Math.cos(f),w=Math.sin(f),T=c-1,x=T%1/T;for(let E=0;E<=T;++E){const S=E+x*E,A=f+o+m*S,P=Math.cos(A),L=-Math.sin(A);d.push((v*P+w*L)*s+n,(v*-L+w*P)*s+i)}}}class OF{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class V0{static curveLength(e,t,n,i,s,o,l,h){let d=0,g=0,c=0,f=0,m=0,v=0,w=0,T=0,x=0,E=0,S=0,A=e,P=t;for(let L=1;L<=10;++L)g=L/10,c=g*g,f=c*g,m=1-g,v=m*m,w=v*m,T=w*e+3*v*g*n+3*m*c*s+f*l,x=w*t+3*v*g*i+3*m*c*o+f*h,E=A-T,S=P-x,A=T,P=x,d+=Math.sqrt(E*E+S*S);return d}static curveTo(e,t,n,i,s,o,l){const h=l[l.length-2],d=l[l.length-1];l.length-=2;const g=Aa._segmentsCount(V0.curveLength(h,d,e,t,n,i,s,o));let c=0,f=0,m=0,v=0,w=0;l.push(h,d);for(let T=1,x=0;T<=g;++T)x=T/g,c=1-x,f=c*c,m=f*c,v=x*x,w=v*x,l.push(m*h+3*f*x*e+3*c*v*n+w*s,m*d+3*f*x*t+3*c*v*i+w*o)}}function bw(r,e,t,n,i,s,o,l){const h=r-t*i,d=e-n*i,g=r+t*s,c=e+n*s;let f,m;o?(f=n,m=-t):(f=-n,m=t);const v=h+f,w=d+m,T=g+f,x=c+m;return l.push(v,w,T,x),2}function Rs(r,e,t,n,i,s,o,l){const h=t-r,d=n-e;let g=Math.atan2(h,d),c=Math.atan2(i-r,s-e);l&&g<c?g+=Math.PI*2:!l&&g>c&&(c+=Math.PI*2);let f=g;const m=c-g,v=Math.abs(m),w=Math.sqrt(h*h+d*d),T=(15*v*Math.sqrt(w)/Math.PI>>0)+1,x=m/T;if(f+=x,l){o.push(r,e,t,n);for(let E=1,S=f;E<T;E++,S+=x)o.push(r,e,r+Math.sin(S)*w,e+Math.cos(S)*w);o.push(r,e,i,s)}else{o.push(t,n,r,e);for(let E=1,S=f;E<T;E++,S+=x)o.push(r+Math.sin(S)*w,e+Math.cos(S)*w,r,e);o.push(i,s,r,e)}return T*2}function NF(r,e){const t=r.shape;let n=r.points||t.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=r.lineStyle,o=new Ce(n[0],n[1]),l=new Ce(n[n.length-2],n[n.length-1]),h=t.type!==Ut.POLY||t.closeStroke,d=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(h){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const ie=(o.x+l.x)*.5,M=(l.y+o.y)*.5;n.unshift(ie,M),n.push(ie,M)}const g=e.points,c=n.length/2;let f=n.length;const m=g.length/2,v=s.width/2,w=v*v,T=s.miterLimit*s.miterLimit;let x=n[0],E=n[1],S=n[2],A=n[3],P=0,L=0,k=-(E-A),R=x-S,U=0,H=0,re=Math.sqrt(k*k+R*R);k/=re,R/=re,k*=v,R*=v;const Y=s.alignment,N=(1-Y)*2,j=Y*2;h||(s.cap===Ki.ROUND?f+=Rs(x-k*(N-j)*.5,E-R*(N-j)*.5,x-k*N,E-R*N,x+k*j,E+R*j,g,!0)+2:s.cap===Ki.SQUARE&&(f+=bw(x,E,k,R,N,j,!0,g))),g.push(x-k*N,E-R*N,x+k*j,E+R*j);for(let ie=1;ie<c-1;++ie){x=n[(ie-1)*2],E=n[(ie-1)*2+1],S=n[ie*2],A=n[ie*2+1],P=n[(ie+1)*2],L=n[(ie+1)*2+1],k=-(E-A),R=x-S,re=Math.sqrt(k*k+R*R),k/=re,R/=re,k*=v,R*=v,U=-(A-L),H=S-P,re=Math.sqrt(U*U+H*H),U/=re,H/=re,U*=v,H*=v;const M=S-x,$=E-A,D=S-P,B=L-A,q=M*D+$*B,we=$*D-B*M,ve=we<0;if(Math.abs(we)<.001*Math.abs(q)){g.push(S-k*N,A-R*N,S+k*j,A+R*j),q>=0&&(s.join===Gr.ROUND?f+=Rs(S,A,S-k*N,A-R*N,S-U*N,A-H*N,g,!1)+4:f+=2,g.push(S-U*j,A-H*j,S+U*N,A+H*N));continue}const Fe=(-k+x)*(-R+A)-(-k+S)*(-R+E),Ee=(-U+P)*(-H+A)-(-U+S)*(-H+L),De=(M*Ee-D*Fe)/we,St=(B*Fe-$*Ee)/we,Dt=(De-S)*(De-S)+(St-A)*(St-A),lt=S+(De-S)*N,Se=A+(St-A)*N,Ve=S-(De-S)*j,Me=A-(St-A)*j,Rr=Math.min(M*M+$*$,D*D+B*B),kr=ve?N:j,_s=Rr+kr*kr*w,of=Dt<=_s;let ho=s.join;if(ho===Gr.MITER&&Dt/w>T&&(ho=Gr.BEVEL),of)switch(ho){case Gr.MITER:{g.push(lt,Se,Ve,Me);break}case Gr.BEVEL:{ve?g.push(lt,Se,S+k*j,A+R*j,lt,Se,S+U*j,A+H*j):g.push(S-k*N,A-R*N,Ve,Me,S-U*N,A-H*N,Ve,Me),f+=2;break}case Gr.ROUND:{ve?(g.push(lt,Se,S+k*j,A+R*j),f+=Rs(S,A,S+k*j,A+R*j,S+U*j,A+H*j,g,!0)+4,g.push(lt,Se,S+U*j,A+H*j)):(g.push(S-k*N,A-R*N,Ve,Me),f+=Rs(S,A,S-k*N,A-R*N,S-U*N,A-H*N,g,!1)+4,g.push(S-U*N,A-H*N,Ve,Me));break}}else{switch(g.push(S-k*N,A-R*N,S+k*j,A+R*j),ho){case Gr.MITER:{ve?g.push(Ve,Me,Ve,Me):g.push(lt,Se,lt,Se),f+=2;break}case Gr.ROUND:{ve?f+=Rs(S,A,S+k*j,A+R*j,S+U*j,A+H*j,g,!0)+2:f+=Rs(S,A,S-k*N,A-R*N,S-U*N,A-H*N,g,!1)+2;break}}g.push(S-U*N,A-H*N,S+U*j,A+H*j),f+=2}}x=n[(c-2)*2],E=n[(c-2)*2+1],S=n[(c-1)*2],A=n[(c-1)*2+1],k=-(E-A),R=x-S,re=Math.sqrt(k*k+R*R),k/=re,R/=re,k*=v,R*=v,g.push(S-k*N,A-R*N,S+k*j,A+R*j),h||(s.cap===Ki.ROUND?f+=Rs(S-k*(N-j)*.5,A-R*(N-j)*.5,S-k*N,A-R*N,S+k*j,A+R*j,g,!1)+2:s.cap===Ki.SQUARE&&(f+=bw(S,A,k,R,N,j,!1,g)));const ee=e.indices,oe=Aa.epsilon*Aa.epsilon;for(let ie=m;ie<f+m-2;++ie)x=g[ie*2],E=g[ie*2+1],S=g[(ie+1)*2],A=g[(ie+1)*2+1],P=g[(ie+2)*2],L=g[(ie+2)*2+1],!(Math.abs(x*(A-L)+S*(L-E)+P*(E-A))<oe)&&ee.push(ie,ie+1,ie+2)}function DF(r,e){let t=0;const n=r.shape,i=r.points||n.points,s=n.type!==Ut.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,h=i.length/2,d=o.length/2;let g=d;for(o.push(i[0],i[1]),t=1;t<h;t++)o.push(i[t*2],i[t*2+1]),l.push(g,g+1),g++;s&&l.push(g,d)}function Ew(r,e){r.lineStyle.native?DF(r,e):NF(r,e)}class W0{static curveLength(e,t,n,i,s,o){const l=e-2*n+s,h=t-2*i+o,d=2*n-2*e,g=2*i-2*t,c=4*(l*l+h*h),f=4*(l*d+h*g),m=d*d+g*g,v=2*Math.sqrt(c+f+m),w=Math.sqrt(c),T=2*c*w,x=2*Math.sqrt(m),E=f/w;return(T*v+w*f*(v-x)+(4*m*c-f*f)*Math.log((2*w+E+v)/(E+x)))/(4*T)}static curveTo(e,t,n,i,s){const o=s[s.length-2],l=s[s.length-1],h=Aa._segmentsCount(W0.curveLength(o,l,e,t,n,i));let d=0,g=0;for(let c=1;c<=h;++c){const f=c/h;d=o+(e-o)*f,g=l+(t-l)*f,s.push(d+(e+(n-e)*f-d)*f,g+(t+(i-t)*f-g)*f)}}}const Sm={[Ut.POLY]:WT,[Ut.CIRC]:vd,[Ut.ELIP]:vd,[Ut.RECT]:kF,[Ut.RREC]:MF},Sw=[],Jh=[];class _d{constructor(e,t=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new _d(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Mo=new Ce,XT=class YT extends JS{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Jh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),Sw.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,i=null){const s=new _d(e,t,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new _d(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const i=t[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Mo):Mo.copyFrom(e),i.shape.contains(Mo.x,Mo.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Mo.x,Mo.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<t.length;h++){this.shapeIndex++;const d=t[h],g=d.fillStyle,c=d.lineStyle;Sm[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(g.visible||c.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const m=f===0?g:c;if(!m.visible)continue;const v=m.texture.baseTexture,w=this.indices.length,T=this.points.length/2;v.wrapMode=gi.REPEAT,f===0?this.processFill(d):this.processLine(d);const x=this.points.length/2-T;x!==0&&(n&&!this._compareStyles(i,m)&&(n.end(w,T),n=null),n||(n=Sw.pop()||new OF,n.begin(m,w,T),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,T,x,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const i=e[t];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<YT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++xe._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),Jh.push(this.drawCalls[c]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let i=Jh.pop();i||(i=new Kg,i.texArray=new ty),i.texArray.count=0,i.start=0,i.size=0,i.type=hn.TRIANGLES;let s=0,o=null,l=0,h=!1,d=hn.TRIANGLES,g=0;this.drawCalls.push(i);for(let c=0;c<this.batches.length;c++){const f=this.batches[c],m=8,v=f.style,w=v.texture.baseTexture;h!==!!v.native&&(h=!!v.native,d=h?hn.LINES:hn.TRIANGLES,o=null,s=m,e++),o!==w&&(o=w,w._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=Jh.pop(),i||(i=new Kg,i.texArray=new ty),this.drawCalls.push(i)),i.start=g,i.size=0,i.texArray.count=0,i.type=d),w.touched=1,w._batchEnabled=e,w._batchLocation=s,w.wrapMode=gi.REPEAT,i.texArray.elements[i.texArray.count++]=w,s++)),i.size+=f.size,g+=f.size,l=w._batchLocation,this.addColors(t,v.color,v.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,l,f.attribSize,f.attribStart)}xe._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),l=new Uint32Array(s);let h=0;for(let d=0;d<e.length/2;d++)o[h++]=e[d*2],o[h++]=e[d*2+1],o[h++]=t[d*2],o[h++]=t[d*2+1],l[h++]=n[d],o[h++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?WT.triangulate(e,this):Sm[e.type].triangulate(e,this)}processLine(e){Ew(e,this);for(let t=0;t<e.holes.length;t++)Ew(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];Sm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=t.a*i+t.c*s+t.tx,e[n*2+1]=t.b*i+t.d*s+t.ty}}addColors(e,t,n,i,s=0){const o=je.shared.setValue(t).toLittleEndianNumber(),l=je.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=l}addTextureIds(e,t,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=t}addUvs(e,t,n,i,s,o=null){let l=0;const h=t.length,d=n.frame;for(;l<s;){let c=e[(i+l)*2],f=e[(i+l)*2+1];if(o){const m=o.a*c+o.c*f+o.tx;f=o.b*c+o.d*f+o.ty,c=m}l++,t.push(c/d.width,f/d.height)}const g=n.baseTexture;(d.width<g.width||d.height<g.height)&&this.adjustUvs(t,n,h,s)}adjustUvs(e,t,n,i){const s=t.baseTexture,o=1e-6,l=n+i*2,h=t.frame,d=h.width/s.width,g=h.height/s.height;let c=h.x/h.width,f=h.y/h.height,m=Math.floor(e[n]+o),v=Math.floor(e[n+1]+o);for(let w=n+2;w<l;w+=2)m=Math.min(m,Math.floor(e[w]+o)),v=Math.min(v,Math.floor(e[w+1]+o));c-=m,f-=v;for(let w=n;w<l;w+=2)e[w]=(e[w]+c)*d,e[w+1]=(e[w+1]+f)*g}};XT.BATCHABLE_SIZE=100;let FF=XT;class ef{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new ef;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class X0 extends ef{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ki.BUTT,this.join=Gr.MITER,this.miterLimit=10}clone(){const e=new X0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ki.BUTT,this.join=Gr.MITER,this.miterLimit=10}}const Tm={},_y=class Pc extends nr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ef,this._lineStyle=new X0,this._matrix=null,this._holeMode=!1,this.state=Qn.for2d(),this._geometry=e||new FF,this._geometry.refCount++,this._transformID=-1,this._tintColor=new je(16777215),this.blendMode=ye.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Pc(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:se.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ki.BUTT,join:Gr.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new qs,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new qs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),W0.curveTo(e,t,n,i,s),this}bezierCurveTo(e,t,n,i,s,o){return this._initCurve(),V0.curveTo(e,t,n,i,s,o,this.currentPath.points),this}arcTo(e,t,n,i,s){this._initCurve(e,t);const o=this.currentPath.points,l=ww.curveTo(e,t,n,i,s,o);if(l){const{cx:h,cy:d,radius:g,startAngle:c,endAngle:f,anticlockwise:m}=l;this.arc(h,d,g,c,f,m)}return this}arc(e,t,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=ud:o&&i<=s&&(i+=ud),s-i===0)return this;const l=e+Math.cos(i)*n,h=t+Math.sin(i)*n,d=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const c=Math.abs(g[g.length-2]-l),f=Math.abs(g[g.length-1]-h);c<d&&f<d||g.push(l,h)}else this.moveTo(l,h),g=this.currentPath.points;return ww.arc(l,h,e,t,n,i,s,o,g),this}beginFill(e=0,t){return this.beginTextureFill({texture:se.WHITE,color:e,alpha:t})}normalizeColor(e){const t=je.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:se.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,i){return this.drawShape(new _e(e,t,n,i))}drawRoundedRect(e,t,n,i,s){return this.drawShape(new Qd(e,t,n,i,s))}drawCircle(e,t,n){return this.drawShape(new Xd(e,t,n))}drawEllipse(e,t,n,i){return this.drawShape(new Yd(e,t,n,i))}drawPolygon(...e){let t,n=!0;const i=e[0];i.points?(n=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;const s=new qs(t);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ut.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,l=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),g={vertexData:l,blendMode:t,indices:d,uvs:h,_batchRGB:je.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=g}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=t.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,je.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let l=0,h=o.length;l<h;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,t){const{texArray:n,type:i,size:s,start:o}=t,l=n.count;for(let h=0;h<l;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!Tm[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Qe,default:gn.from({uSamplers:s},!0)},l=e.plugins[n]._shader.program;Tm[n]=new jn(l,o)}t=Tm[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,t,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Pc._TEMP_POINT),this._geometry.containsPoint(Pc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=je.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,o=t.d,l=t.tx,h=t.ty,d=this._geometry.points,g=this.vertexData;let c=0;for(let f=0;f<d.length;f+=2){const m=d[f],v=d[f+1];g[c++]=n*m+s*v+l,g[c++]=o*v+i*m+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};_y.curves=Aa,_y._TEMP_POINT=new Ce;let Gl=_y;class LF{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Am=new Ce,Tw=new qs,QT=class qT extends nr{constructor(e,t,n,i=hn.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||Qn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=le.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===hn.TRIANGLES&&t.length<qT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,s=i.a,o=i.b,l=i.c,h=i.d,d=i.tx,g=i.ty,c=this.vertexData;for(let f=0;f<c.length/2;f++){const m=t[f*2],v=t[f*2+1];c[f*2]=s*m+l*v+d,c[f*2+1]=o*m+h*v+g}if(this._roundPixels){const f=le.RESOLUTION;for(let m=0;m<c.length;++m)c[m]=Math.round(c[m]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new LF(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Am);const t=this.geometry.getBuffer("aVertexPosition").data,n=Tw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let l=0;l+2<s;l+=o){const h=i[l]*2,d=i[l+1]*2,g=i[l+2]*2;if(n[0]=t[h],n[1]=t[h+1],n[2]=t[d],n[3]=t[d+1],n[4]=t[g],n[5]=t[g+1],Tw.contains(Am.x,Am.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};QT.BATCHABLE_SIZE=100;let uu=QT;class tf extends us{constructor(e,t,n){super();const i=new pt(e),s=new pt(t,!0),o=new pt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,me.FLOAT).addAttribute("aTextureCoord",s,2,!1,me.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var BF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,UF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class hu extends jn{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:Qe.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(n,t.uniforms),super(t.program||di.from(UF,BF),n),this._colorDirty=!1,this.uvMatrix=new H0(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new je(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;je.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class GF extends tf{constructor(e=100,t=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,h=this.height/o;for(let g=0;g<e;g++){const c=g%this.segWidth,f=g/this.segWidth|0;t.push(c*l,f*h),n.push(c/s,f/o)}const d=s*o;for(let g=0;g<d;g++){const c=g%s,f=g/s|0,m=f*this.segWidth+c,v=f*this.segWidth+c+1,w=(f+1)*this.segWidth+c,T=(f+1)*this.segWidth+c+1;i.push(m,v,w,v,T,w)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class zF extends tf{constructor(e=200,t,n=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,h=e[0];const d=this._width*this.textureScale,g=e.length;for(let f=0;f<g;f++){const m=f*4;if(this.textureScale>0){const v=h.x-e[f].x,w=h.y-e[f].y,T=Math.sqrt(v*v+w*w);h=e[f],l+=T/d}else l=f/(g-1);s[m]=l,s[m+1]=0,s[m+2]=l,s[m+3]=1}let c=0;for(let f=0;f<g-1;f++){const m=f*2;o[c++]=m,o[c++]=m+1,o[c++]=m+2,o[c++]=m+2,o[c++]=m+1,o[c++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const g=e[d],c=d*4;d<e.length-1?n=e[d+1]:n=g,s=-(n.x-t.x),i=n.y-t.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=h,s*=h),o[c]=g.x+i,o[c+1]=g.y+s,o[c+2]=g.x-i,o[c+3]=g.y-s,t=g}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class HF extends uu{constructor(e,t,n){const i=new GF(e.width,e.height,t,n),s=new hu(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:n}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const ec=10;class $F extends HF{constructor(e,t,n,i,s){var o,l,h,d;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((o=e.defaultBorders)==null?void 0:o.left)??ec,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??ec,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??ec,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??ec,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(t,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class jF extends uu{constructor(e=se.EMPTY,t,n,i,s){const o=new tf(t,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new hu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class VF extends uu{constructor(e,t,n=0){const i=new zF(e.height,t,n),s=new hu(e);n>0&&(e.baseTexture.wrapMode=gi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class WF extends nr{constructor(e=1500,t,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ye.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new je(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Aw{constructor(e,t,n){this.geometry=new us,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||me.FLOAT,offset:s.offset},t[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new pt(hO(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=t,t+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new pt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new pt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===me.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===me.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,t,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,t,n,s.type===me.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,t,n,s.type===me.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var XF=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,YF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class KT extends Kd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Qe,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:me.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=jn.from(YF,XF,{}),this.state=Qn.for2d()}render(e){const t=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=t.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const h=t[0]._texture.baseTexture,d=h.alphaMode>0;this.state.blendMode=qS(e.blendMode,d),s.state.set(this.state);const g=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=je.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let f=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let w=o-m;w>i&&(w=i),v>=l.length&&l.push(this._generateOneMoreBuffer(e));const T=l[v];T.uploadDynamic(t,m,w);const x=e._bufferUpdateIDs[v]||0;f=f||T._updateID<x,f&&(T._updateID=e._updateID,T.uploadStatic(t,m,w)),s.geometry.bind(T.geometry),g.drawElements(g.TRIANGLES,w*6,g.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)t.push(new Aw(this.properties,s,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new Aw(this.properties,n,t)}uploadVertices(e,t,n,i,s,o){let l=0,h=0,d=0,g=0;for(let c=0;c<n;++c){const f=e[t+c],m=f._texture,v=f.scale.x,w=f.scale.y,T=m.trim,x=m.orig;T?(h=T.x-f.anchor.x*x.width,l=h+T.width,g=T.y-f.anchor.y*x.height,d=g+T.height):(l=x.width*(1-f.anchor.x),h=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),g=x.height*-f.anchor.y),i[o]=h*v,i[o+1]=g*w,i[o+s]=l*v,i[o+s+1]=g*w,i[o+s*2]=l*v,i[o+s*2+1]=d*w,i[o+s*3]=h*v,i[o+s*3+1]=d*w,o+=s*4}}uploadPosition(e,t,n,i,s,o){for(let l=0;l<n;l++){const h=e[t+l].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,t,n,i,s,o){for(let l=0;l<n;l++){const h=e[t+l].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,t,n,i,s,o){for(let l=0;l<n;++l){const h=e[t+l]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,t,n,i,s,o){for(let l=0;l<n;++l){const h=e[t+l],d=je.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}KT.extension={name:"particle",type:ne.RendererPlugin};de.add(KT);var rf=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(rf||{});const tc={willReadFrequently:!0},On=class pe{static get experimentalLetterSpacingSupported(){let e=pe._experimentalLetterSpacingSupported;if(e!==void 0){const t=le.ADAPTER.getCanvasRenderingContext2D().prototype;e=pe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,n,i,s,o,l,h,d){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=h,this.fontProperties=d}static measureText(e,t,n,i=pe._canvas){n=n??t.wordWrap;const s=t.toFontString(),o=pe.measureFont(s);o.fontSize===0&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);const l=i.getContext("2d",tc);l.font=s;const h=(n?pe.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(h.length);let g=0;for(let v=0;v<h.length;v++){const w=pe._measureText(h[v],t.letterSpacing,l);d[v]=w,g=Math.max(g,w)}let c=g+t.strokeThickness;t.dropShadow&&(c+=t.dropShadowDistance);const f=t.lineHeight||o.fontSize+t.strokeThickness;let m=Math.max(f,o.fontSize+t.strokeThickness*2)+t.leading+(h.length-1)*(f+t.leading);return t.dropShadow&&(m+=t.dropShadowDistance),new pe(e,t,c,m,h,d,f+t.leading,g,o)}static _measureText(e,t,n){let i=!1;pe.experimentalLetterSpacingSupported&&(pe.experimentalLetterSpacing?(n.letterSpacing=`${t}px`,n.textLetterSpacing=`${t}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=t:s+=(pe.graphemeSegmenter(e).length-1)*t),s}static wordWrap(e,t,n=pe._canvas){const i=n.getContext("2d",tc);let s=0,o="",l="";const h=Object.create(null),{letterSpacing:d,whiteSpace:g}=t,c=pe.collapseSpaces(g),f=pe.collapseNewlines(g);let m=!c;const v=t.wordWrapWidth+d,w=pe.tokenize(e);for(let T=0;T<w.length;T++){let x=w[T];if(pe.isNewline(x)){if(!f){l+=pe.addLine(o),m=!c,o="",s=0;continue}x=" "}if(c){const S=pe.isBreakingSpace(x),A=pe.isBreakingSpace(o[o.length-1]);if(S&&A)continue}const E=pe.getFromCache(x,d,h,i);if(E>v)if(o!==""&&(l+=pe.addLine(o),o="",s=0),pe.canBreakWords(x,t.breakWords)){const S=pe.wordWrapSplit(x);for(let A=0;A<S.length;A++){let P=S[A],L=P,k=1;for(;S[A+k];){const U=S[A+k];if(!pe.canBreakChars(L,U,x,A,t.breakWords))P+=U;else break;L=U,k++}A+=k-1;const R=pe.getFromCache(P,d,h,i);R+s>v&&(l+=pe.addLine(o),m=!1,o="",s=0),o+=P,s+=R}}else{o.length>0&&(l+=pe.addLine(o),o="",s=0);const S=T===w.length-1;l+=pe.addLine(x,!S),m=!1,o="",s=0}else E+s>v&&(m=!1,l+=pe.addLine(o),o="",s=0),(o.length>0||!pe.isBreakingSpace(x)||m)&&(o+=x,s+=E)}return l+=pe.addLine(o,!1),l}static addLine(e,t=!0){return e=pe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,n,i){let s=n[e];return typeof s!="number"&&(s=pe._measureText(e,t,i)+t,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const n=e[t];if(!pe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:pe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:pe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let n="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(pe.isBreakingSpace(s,o)||pe.isNewline(s)){n!==""&&(t.push(n),n=""),t.push(s);continue}n+=s}return n!==""&&t.push(n),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,i,s){return!0}static wordWrapSplit(e){return pe.graphemeSegmenter(e)}static measureFont(e){if(pe._fonts[e])return pe._fonts[e];const t={ascent:0,descent:0,fontSize:0},n=pe._canvas,i=pe._context;i.font=e;const s=pe.METRICS_STRING+pe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let l=Math.ceil(i.measureText(pe.BASELINE_SYMBOL).width);const h=Math.ceil(pe.HEIGHT_MULTIPLIER*l);if(l=l*pe.BASELINE_MULTIPLIER|0,o===0||h===0)return pe._fonts[e]=t,t;n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,l);const d=i.getImageData(0,0,o,h).data,g=d.length,c=o*4;let f=0,m=0,v=!1;for(f=0;f<l;++f){for(let w=0;w<c;w+=4)if(d[m+w]!==255){v=!0;break}if(!v)m+=c;else break}for(t.ascent=l-f,m=g-c,v=!1,f=h;f>l;--f){for(let w=0;w<c;w+=4)if(d[m+w]!==255){v=!0;break}if(!v)m-=c;else break}return t.descent=f-l,t.fontSize=t.ascent+t.descent,pe._fonts[e]=t,t}static clearMetrics(e=""){e?delete pe._fonts[e]:pe._fonts={}}static get _canvas(){var e;if(!pe.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",tc))!=null&&e.measureText)return pe.__canvas=n,n;t=le.ADAPTER.createCanvas()}catch{t=le.ADAPTER.createCanvas()}t.width=t.height=10,pe.__canvas=t}return pe.__canvas}static get _context(){return pe.__context||(pe.__context=pe._canvas.getContext("2d",tc)),pe.__context}};On.METRICS_STRING="|ÉqÅ",On.BASELINE_SYMBOL="M",On.BASELINE_MULTIPLIER=1.4,On.HEIGHT_MULTIPLIER=2,On.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),On.experimentalLetterSpacing=!1,On._fonts={},On._newlines=[10,13],On._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let $i=On;const QF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ZT=class bl{constructor(e){this.styleID=0,this.reset(),Pm(this,e,e)}clone(){const e={};return Pm(e,this,bl.defaultStyle),new bl(e)}reset(){Pm(this,bl.defaultStyle,bl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Cm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Cm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){qF(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Cm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!QF.includes(i)&&(i=`"${i}"`),t[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};ZT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:rf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ds=ZT;function Cm(r){const e=je.shared,t=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function qF(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function Pm(r,e,t){for(const n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}const KF={texture:!0,children:!1,baseTexture:!0},JT=class xy extends qn{constructor(e,t,n){let i=!1;n||(n=le.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=se.from(n);s.orig=new _e,s.trim=new _e,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=xy.defaultResolution??le.RESOLUTION,this._autoResolution=xy.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return $i.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Te("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),$i.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=$i.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,l=i.lines,h=i.lineHeight,d=i.lineWidths,g=i.maxLineWidth,c=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;let f,m;const v=t.dropShadow?2:1;for(let w=0;w<v;++w){const T=t.dropShadow&&w===0,x=T?Math.ceil(Math.max(1,o)+t.padding*2):0,E=x*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const A=t.dropShadowColor,P=t.dropShadowBlur*this._resolution,L=t.dropShadowDistance*this._resolution;n.shadowColor=je.shared.setValue(A).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*L,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*L+E}else n.fillStyle=this._generateFillStyle(t,l,i),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(h-c.fontSize)/2;h-c.fontSize<0&&(S=0);for(let A=0;A<l.length;A++)f=t.strokeThickness/2,m=t.strokeThickness/2+A*h+c.ascent+S,t.align==="right"?f+=g-d[A]:t.align==="center"&&(f+=(g-d[A])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[A],f+t.padding,m+t.padding-x,!0),t.fill&&this.drawLetterSpacing(l[A],f+t.padding,m+t.padding-x)}this.updateTexture()}drawLetterSpacing(e,t,n,i=!1){const s=this._style.letterSpacing;let o=!1;if($i.experimentalLetterSpacingSupported&&($i.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let l=t;const h=$i.graphemeSegmenter(e);let d=this.context.measureText(e).width,g=0;for(let c=0;c<h.length;++c){const f=h[c];i?this.context.strokeText(f,l,n):this.context.fillText(f,l,n);let m="";for(let v=c+1;v<h.length;++v)m+=h[v];g=this.context.measureText(m).width,l+=d-g+s,d=g}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=pO(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const t=this._texture,n=this._style,i=n.trim?0:n.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,h=this.canvas.width/this._resolution-o-l*2,d=this.canvas.height/this._resolution-o-l*2,g=i.slice(),c=e.fillGradientStops.slice();if(!c.length){const f=g.length+1;for(let m=1;m<f;++m)c.push(m/f)}if(g.unshift(i[0]),c.unshift(0),g.push(i[i.length-1]),c.push(1),e.fillGradientType===rf.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,l,h/2,d+l);const f=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<t.length;m++){const v=n.lineHeight*(m-1)+f,w=n.lineHeight*m;let T=w;m>0&&v>w&&(T=(w+v)/2);const x=w+f,E=n.lineHeight*(m+1);let S=x;m+1<t.length&&E<x&&(S=(x+E)/2);const A=(S-T)/d;for(let P=0;P<g.length;P++){let L=0;typeof c[P]=="number"?L=c[P]:L=P/g.length;let k=Math.min(1,Math.max(0,T/d+L*A));k=Number(k.toFixed(5)),s.addColorStop(k,g[P])}}}else{s=this.context.createLinearGradient(l,d/2,h+l,d/2);const f=g.length+1;let m=1;for(let v=0;v<g.length;v++){let w;typeof c[v]=="number"?w=c[v]:w=m/f,s.addColorStop(w,g[v]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},KF,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=qi(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=qi(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ds?this._style=e:this._style=new ds(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};JT.defaultAutoResolution=!0;let Y0=JT;class ZF{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function JF(r,e){var n;let t=!1;if((n=r==null?void 0:r._textures)!=null&&n.length){for(let i=0;i<r._textures.length;i++)if(r._textures[i]instanceof se){const s=r._textures[i].baseTexture;e.includes(s)||(e.push(s),t=!0)}}return t}function e3(r,e){if(r.baseTexture instanceof xe){const t=r.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function t3(r,e){if(r._texture&&r._texture instanceof se){const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function r3(r,e){return e instanceof Y0?(e.updateText(!0),!0):!1}function n3(r,e){if(e instanceof ds){const t=e.toFontString();return $i.measureFont(t),!0}return!1}function i3(r,e){if(r instanceof Y0){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function s3(r,e){return r instanceof ds?(e.includes(r)||e.push(r),!0):!1}const eA=class tA{constructor(e){this.limiter=new ZF(tA.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(i3),this.registerFindHook(s3),this.registerFindHook(JF),this.registerFindHook(e3),this.registerFindHook(t3),this.registerUploadHook(r3),this.registerUploadHook(n3)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Ot.system.addOnce(this.tick,this,cs.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Ot.system.addOnce(this.tick,this,cs.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof nr)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Ot.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};eA.uploadsPerFrame=4;let wy=eA;Object.defineProperties(le,{UPLOADS_PER_FRAME:{get(){return wy.uploadsPerFrame},set(r){Te("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),wy.uploadsPerFrame=r}}});function rA(r,e){return e instanceof xe?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function o3(r,e){if(!(e instanceof Gl))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:n}=t;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&rA(r,s.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function a3(r,e){return r instanceof Gl?(e.push(r),!0):!1}class nA extends wy{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(a3),this.registerUploadHook(rA),this.registerUploadHook(o3)}}nA.extension={name:"prepare",type:ne.RendererSystem};de.add(nA);class cu extends qn{constructor(e,t=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ot.shared.add(this.update,this,cs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(se.from(e[n]));return new cu(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(se.from(e[n]));return new cu(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ot.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const dl=new Ce;class Q0 extends qn{constructor(e,t=100,n=100){super(e),this.tileTransform=new qd,this._width=t,this._height=n,this.uvMatrix=this.texture.uvMatrix||new H0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new _e),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,dl);const t=this._width,n=this._height,i=-t*this.anchor._x;if(dl.x>=i&&dl.x<i+t){const s=-n*this.anchor._y;if(dl.y>=s&&dl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const n=e instanceof se?e:se.from(e,t);return new Q0(n,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var l3=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,u3=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,h3=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Cw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,c3=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const rc=new Qe;class iA extends Kd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new uT,this.state=Qn.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=jn.from(Cw,c3,t),this.shader=e.context.webGLVersion>1?jn.from(u3,l3,t):jn.from(Cw,h3,t)}render(e){const t=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,h=l.baseTexture,d=h.alphaMode>0,g=e.tileTransform.localTransform,c=e.uvMatrix;let f=h.isPowerOfTwo&&l.frame.width===h.width&&l.frame.height===h.height;f&&(h._glTextures[t.CONTEXT_UID]?f=h.wrapMode!==gi.CLAMP:h.wrapMode===gi.CLAMP&&(h.wrapMode=gi.REPEAT));const m=f?this.simpleShader:this.shader,v=l.width,w=l.height,T=e._width,x=e._height;rc.set(g.a*v/T,g.b*v/x,g.c*w/T,g.d*w/x,g.tx/T,g.ty/x),rc.invert(),f?rc.prepend(c.mapCoord):(m.uniforms.uMapCoord=c.mapCoord.toArray(!0),m.uniforms.uClampFrame=c.uClampFrame,m.uniforms.uClampOffset=c.uClampOffset),m.uniforms.uTransform=rc.toArray(!0),m.uniforms.uColor=je.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=l,t.shader.bind(m),t.geometry.bind(n),this.state.blendMode=qS(e.blendMode,d),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}iA.extension={name:"tilingSprite",type:ne.RendererPlugin};de.add(iA);const sA=class El{constructor(e,t,n=null){this.linkedSheets=[],this._texture=e instanceof se?e:null,this.baseTexture=e instanceof xe?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let n=bi(e,null);return n===null&&(n=parseFloat(t??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=El.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const n=El.BATCH_SIZE;for(;t-e<n&&t<this._frameKeys.length;){const i=this._frameKeys[t],s=this._frames[i],o=s.frame;if(o){let l=null,h=null;const d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,g=new _e(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?l=new _e(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new _e(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new _e(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new se(this.baseTexture,l,g,h,s.rotated?2:0,s.anchor,s.borders),se.addToCache(this.textures[i],i.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const i=e[t][n];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*El.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*El.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};sA.BATCH_SIZE=1e3;let Pw=sA;const d3=["jpg","png","jpeg","avif","webp"];function oA(r,e,t){const n={};if(r.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!t){const i=Et.dirname(r[0]);e.linkedSheets.forEach((s,o)=>{const l=oA([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,l)})}return n}const f3={extension:ne.Asset,cache:{test:r=>r instanceof Pw,getCacheableAssets:(r,e)=>oA(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),t=e.pop(),n=e.pop();return t==="json"&&d3.includes(n)},parse:r=>{var t;const e=r.split(".");return{resolution:parseFloat(((t=le.RETINA_PREFIX.exec(r))==null?void 0:t[1])??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:ne.LoadParser,priority:vn.Normal},async testParse(r,e){return Et.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,t){var h,d;let n=Et.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+r.meta.image;i=yy(i,e.src);const s=(await t.load([i]))[i],o=new Pw(s.baseTexture,r,e.src);await o.parse();const l=(h=r==null?void 0:r.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(l)){const g=[];for(const f of l){if(typeof f!="string")continue;let m=n+f;(d=e.data)!=null&&d.ignoreMultiPack||(m=yy(m,e.src),g.push(t.load({src:m,data:{ignoreMultiPack:!0}})))}const c=await Promise.all(g);o.linkedSheets=c,c.forEach(f=>{f.linkedSheets=[o].concat(o.linkedSheets.filter(m=>m!==f))})}return o},unload(r){r.destroy(!0)}}};de.add(f3);class xd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ic{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in t){const o=t[s].match(/^[a-z]+/gm)[0],l=t[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const d in l){const g=l[d].split("="),c=g[0],f=g[1].replace(/"/gm,""),m=parseFloat(f),v=isNaN(m)?f:m;h[c]=v}n[o].push(h)}const i=new xd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class by{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new xd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)t.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)t.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)t.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const g=o[d];t.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)t.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<h.length;d++)t.distanceField.push({fieldType:h[d].getAttribute("fieldType"),distanceRange:parseInt(h[d].getAttribute("distanceRange"),10)});return t}}class Ey{static test(e){return typeof e=="string"&&e.includes("<font>")?by.test(le.ADAPTER.parseXML(e)):!1}static parse(e){return by.parse(le.ADAPTER.parseXML(e))}}const Im=[Ic,by,Ey];function p3(r){for(let e=0;e<Im.length;e++)if(Im[e].test(r))return Im[e];return null}function m3(r,e,t,n,i,s){const o=t.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const h=t.dropShadow?t.dropShadowDistance:0,d=t.padding||0,g=r.width/n-h-d*2,c=r.height/n-h-d*2,f=o.slice(),m=t.fillGradientStops.slice();if(!m.length){const v=f.length+1;for(let w=1;w<v;++w)m.push(w/v)}if(f.unshift(o[0]),m.unshift(0),f.push(o[o.length-1]),m.push(1),t.fillGradientType===rf.LINEAR_VERTICAL){l=e.createLinearGradient(g/2,d,g/2,c+d);let v=0;const w=(s.fontProperties.fontSize+t.strokeThickness)/c;for(let T=0;T<i.length;T++){const x=s.lineHeight*T;for(let E=0;E<f.length;E++){let S=0;typeof m[E]=="number"?S=m[E]:S=E/f.length;const A=x/c+S*w;let P=Math.max(v,A);P=Math.min(P,1),l.addColorStop(P,f[E]),v=P}}}else{l=e.createLinearGradient(d,c/2,g+d,c/2);const v=f.length+1;let w=1;for(let T=0;T<f.length;T++){let x;typeof m[T]=="number"?x=m[T]:x=w/v,l.addColorStop(x,f[T]),w++}}return l}function g3(r,e,t,n,i,s,o){const l=t.text,h=t.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,g=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=m3(r,e,o,s,[l],t),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,f=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=je.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,d,g+t.lineHeight-h.descent),o.fill&&e.fillText(l,d,g+t.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Rc(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function aA(r){return Array.from?Array.from(r):r.split("")}function y3(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,h=o;l<=h;l++)e.push(String.fromCharCode(l))}else e.push(...aA(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Bi=class Nn{constructor(e,t,n){var g;const[i]=e.info,[s]=e.common,[o]=e.page,[l]=e.distanceField,h=bi(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=d;for(let c=0;c<e.page.length;c++){const{id:f,file:m}=e.page[c];d[f]=t instanceof Array?t[c]:t[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[f].baseTexture.alphaMode=dr.NO_PREMULTIPLIED_ALPHA,d[f].baseTexture.mipmap=Vn.OFF)}for(let c=0;c<e.char.length;c++){const{id:f,page:m}=e.char[c];let{x:v,y:w,width:T,height:x,xoffset:E,yoffset:S,xadvance:A}=e.char[c];v/=h,w/=h,T/=h,x/=h,E/=h,S/=h,A/=h;const P=new _e(v+d[m].frame.x/h,w+d[m].frame.y/h,T,x);this.chars[f]={xOffset:E,yOffset:S,xAdvance:A,kerning:{},texture:new se(d[m].baseTexture,P),page:m}}for(let c=0;c<e.kerning.length;c++){let{first:f,second:m,amount:v}=e.kerning[c];f/=h,m/=h,v/=h,this.chars[m]&&(this.chars[m].kerning[f]=v)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((g=l==null?void 0:l.fieldType)==null?void 0:g.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,n){let i;if(e instanceof xd)i=e;else{const o=p3(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}t instanceof se&&(t=[t]);const s=new Nn(i,t,n);return Nn.available[s.font]=s,s}static uninstall(e){const t=Nn.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Nn.available[e]}static from(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:l,textureHeight:h,...d}=Object.assign({},Nn.defaultOptions,n),g=y3(i),c=t instanceof ds?t:new ds(t),f=l,m=new xd;m.info[0]={face:c.fontFamily,size:c.fontSize},m.common[0]={lineHeight:c.fontSize};let v=0,w=0,T,x,E,S=0;const A=[];for(let L=0;L<g.length;L++){T||(T=le.ADAPTER.createCanvas(),T.width=l,T.height=h,x=T.getContext("2d"),E=new xe(T,{resolution:o,...d}),A.push(new se(E)),m.page.push({id:A.length-1,file:""}));const k=g[L],R=$i.measureText(k,c,!1,T),U=R.width,H=Math.ceil(R.height),re=Math.ceil((c.fontStyle==="italic"?2:1)*U);if(w>=h-H*o){if(w===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--L,T=null,x=null,E=null,w=0,v=0,S=0;continue}if(S=Math.max(H+R.fontProperties.descent,S),re*o+v>=f){if(v===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--L,w+=S*o,w=Math.ceil(w),v=0,S=0;continue}g3(T,x,R,v,w,o,c);const Y=Rc(R.text);m.char.push({id:Y,page:A.length-1,x:v/o,y:w/o,width:re,height:H,xoffset:0,yoffset:0,xadvance:U-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),v+=(re+2*s)*o,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(let L=0,k=g.length;L<k;L++){const R=g[L];for(let U=0;U<k;U++){const H=g[U],re=x.measureText(R).width,Y=x.measureText(H).width,N=x.measureText(R+H).width-(re+Y);N&&m.kerning.push({first:Rc(R),second:Rc(H),amount:N})}}const P=new Nn(m,A,!0);return Nn.available[e]!==void 0&&Nn.uninstall(e),Nn.available[e]=P,P}};Bi.ALPHA=[["a","z"],["A","Z"]," "],Bi.NUMERIC=[["0","9"]],Bi.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Bi.ASCII=[[" ","~"]],Bi.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Bi.ALPHANUMERIC},Bi.available={};let Ui=Bi;var v3=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,_3=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Iw=[],Rw=[],kw=[],lA=class uA extends nr{constructor(e,t={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:l,fontSize:h}=Object.assign({},uA.styleDefaults,t);if(!Ui.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new je(i),this._font=void 0,this._fontName=l,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Gn(()=>{this.dirty=!0},this,0,0),this._roundPixels=le.ROUND_PIXELS,this.dirty=!0,this._resolution=le.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var re;const e=Ui.available[this._fontName],t=this.fontSize,n=t/e.size,i=new Ce,s=[],o=[],l=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=aA(h),g=this._maxWidth*e.size/t,c=e.distanceFieldType==="none"?Iw:Rw;let f=null,m=0,v=0,w=0,T=-1,x=0,E=0,S=0,A=0;for(let Y=0;Y<d.length;Y++){const N=d[Y],j=Rc(N);if(/(?:\s)/.test(N)&&(T=Y,x=m,A++),N==="\r"||N===`
`){o.push(m),l.push(-1),v=Math.max(v,m),++w,++E,i.x=0,i.y+=e.lineHeight,f=null,A=0;continue}const ee=e.chars[j];if(!ee)continue;f&&ee.kerning[f]&&(i.x+=ee.kerning[f]);const oe=kw.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ce};oe.texture=ee.texture,oe.line=w,oe.charCode=j,oe.position.x=Math.round(i.x+ee.xOffset+this._letterSpacing/2),oe.position.y=Math.round(i.y+ee.yOffset),oe.prevSpaces=A,s.push(oe),m=oe.position.x+Math.max(ee.xAdvance-ee.xOffset,ee.texture.orig.width),i.x+=ee.xAdvance+this._letterSpacing,S=Math.max(S,ee.yOffset+ee.texture.height),f=j,T!==-1&&g>0&&i.x>g&&(++E,fa(s,1+T-E,1+Y-T),Y=T,T=-1,o.push(x),l.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,x),w++,i.x=0,i.y+=e.lineHeight,f=null,A=0)}const P=d[d.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(m=x),o.push(m),v=Math.max(v,m),l.push(-1));const L=[];for(let Y=0;Y<=w;Y++){let N=0;this._align==="right"?N=v-o[Y]:this._align==="center"?N=(v-o[Y])/2:this._align==="justify"&&(N=l[Y]<0?0:(v-o[Y])/l[Y]),L.push(N)}const k=s.length,R={},U=[],H=this._activePagesMeshData;c.push(...H);for(let Y=0;Y<k;Y++){const N=s[Y].texture,j=N.baseTexture.uid;if(!R[j]){let ee=c.pop();if(!ee){const ie=new tf;let M,$;e.distanceFieldType==="none"?(M=new hu(se.EMPTY),$=ye.NORMAL):(M=new hu(se.EMPTY,{program:di.from(_3,v3),uniforms:{uFWidth:0}}),$=ye.NORMAL_NPM);const D=new uu(ie,M);D.blendMode=$,ee={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}ee.index=0,ee.indexCount=0,ee.vertexCount=0,ee.uvsCount=0,ee.total=0;const{_textureCache:oe}=this;oe[j]=oe[j]||new se(N.baseTexture),ee.mesh.texture=oe[j],ee.mesh.tint=this._tintColor.value,U.push(ee),R[j]=ee}R[j].total++}for(let Y=0;Y<H.length;Y++)U.includes(H[Y])||this.removeChild(H[Y].mesh);for(let Y=0;Y<U.length;Y++)U[Y].mesh.parent!==this&&this.addChild(U[Y].mesh);this._activePagesMeshData=U;for(const Y in R){const N=R[Y],j=N.total;if(!(((re=N.indices)==null?void 0:re.length)>6*j)||N.vertices.length<uu.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*j),N.uvs=new Float32Array(4*2*j),N.indices=new Uint16Array(6*j);else{const ee=N.total,oe=N.vertices;for(let ie=ee*4*2;ie<oe.length;ie++)oe[ie]=0}N.mesh.size=6*j}for(let Y=0;Y<k;Y++){const N=s[Y];let j=N.position.x+L[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(j=Math.round(j));const ee=j*n,oe=N.position.y*n,ie=N.texture,M=R[ie.baseTexture.uid],$=ie.frame,D=ie._uvs,B=M.index++;M.indices[B*6+0]=0+B*4,M.indices[B*6+1]=1+B*4,M.indices[B*6+2]=2+B*4,M.indices[B*6+3]=0+B*4,M.indices[B*6+4]=2+B*4,M.indices[B*6+5]=3+B*4,M.vertices[B*8+0]=ee,M.vertices[B*8+1]=oe,M.vertices[B*8+2]=ee+$.width*n,M.vertices[B*8+3]=oe,M.vertices[B*8+4]=ee+$.width*n,M.vertices[B*8+5]=oe+$.height*n,M.vertices[B*8+6]=ee,M.vertices[B*8+7]=oe+$.height*n,M.uvs[B*8+0]=D.x0,M.uvs[B*8+1]=D.y0,M.uvs[B*8+2]=D.x1,M.uvs[B*8+3]=D.y1,M.uvs[B*8+4]=D.x2,M.uvs[B*8+5]=D.y2,M.uvs[B*8+6]=D.x3,M.uvs[B*8+7]=D.y3}this._textWidth=v*n,this._textHeight=(i.y+e.lineHeight)*n;for(const Y in R){const N=R[Y];if(this.anchor.x!==0||this.anchor.y!==0){let ie=0;const M=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let D=0;D<N.total;D++)N.vertices[ie++]-=M,N.vertices[ie++]-=$,N.vertices[ie++]-=M,N.vertices[ie++]-=$,N.vertices[ie++]-=M,N.vertices[ie++]-=$,N.vertices[ie++]-=M,N.vertices[ie++]-=$}this._maxLineHeight=S*n;const j=N.mesh.geometry.getBuffer("aVertexPosition"),ee=N.mesh.geometry.getBuffer("aTextureCoord"),oe=N.mesh.geometry.getIndex();j.data=N.vertices,ee.data=N.uvs,oe.data=N.indices,j.update(),ee.update(),oe.update()}for(let Y=0;Y<s.length;Y++)kw.push(s[Y]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:i}=Ui.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:l,d:h}=this.worldTransform,d=Math.sqrt(s*s+o*o),g=Math.sqrt(l*l+h*h),c=(Math.abs(d)+Math.abs(g))/2,f=this.fontSize/i,m=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=c*t*f*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ui.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ui.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ui.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=Ui.available[this._fontName].distanceFieldType==="none"?Iw:Rw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};lA.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let x3=lA;const w3=[".xml",".fnt"],b3={extension:{type:ne.LoadParser,priority:vn.Normal},name:"loadBitmapFont",test(r){return w3.includes(Et.extname(r).toLowerCase())},async testParse(r){return Ic.test(r)||Ey.test(r)},async parse(r,e,t){const n=Ic.test(r)?Ic.parse(r):Ey.parse(r),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const g=s[d].file;let c=Et.join(Et.dirname(i),g);c=yy(c,i),o.push(c)}const l=await t.load(o),h=o.map(d=>l[d]);return Ui.install(n,h,!0)},async load(r,e){return(await le.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};de.add(b3);const Sy=class Uo extends ds{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Uo(Object.keys(Uo.defaultOptions).reduce((t,n)=>({...t,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Uo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:n}=Uo;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return le.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const l=URL.createObjectURL(i),h=new FileReader;h.onload=()=>s([l,h.result]),h.onerror=o,h.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Et.basename(e,Et.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},t);n[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(n=>!this._overrides.includes(n));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(n=>this._overrides.includes(n));t.length>0&&(this._overrides=this._overrides.filter(n=>!t.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=lO(e)),typeof e=="number"?aO(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Uo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=le.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Sy.availableFonts={},Sy.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Rm=Sy;const nc=class Go extends qn{constructor(e="",t={}){super(se.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=se.from(n,{scaleMode:le.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new _e,i.trim=new _e,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),d=document.createElementNS(o,"div"),g=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",l.appendChild(h),this.maxWidth=Go.defaultMaxWidth,this.maxHeight=Go.defaultMaxHeight,this._domElement=d,this._styleElement=g,this._svgRoot=l,this._foreignObject=h,this._foreignObject.appendChild(g),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=Go.defaultAutoResolution,this._resolution=Go.defaultResolution??le.RESOLUTION,this.text=e,this.style=t}measureText(e){var g,c;const{text:t,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=s;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",d.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(g=this._style)==null?void 0:g.toCSS(i)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:h+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:t,_image:n,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(h=>{i.onload=async()=>{if(l<this._updateID){h();return}await t.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),h()};const d=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=n.width/i,t.trim.height=t._frame.height=n.height/i,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Go.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=t,(i=this._svgRoot)==null||i.remove(),this._svgRoot=t,(s=this._domElement)==null||s.remove(),this._domElement=t,(o=this._foreignObject)==null||o.remove(),this._foreignObject=t,(l=this._styleElement)==null||l.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=qi(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=qi(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Rm?(this.ownsStyle=!1,this._style=e):e instanceof ds?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Rm.from(e)):(this.ownsStyle=!0,this._style=new Rm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};nc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},nc.defaultMaxWidth=2024,nc.defaultMaxHeight=2024,nc.defaultAutoResolution=!0;function E3({children:r}){return Ge("div",{id:"App",className:"app-mod",children:r})}function S3(){window.oncontextmenu=function(r){r.preventDefault()}}function T3(){return Promise.all([$T.test(),jT.test()]).then(([r,e])=>{pn.Obj.setSupportImagesFormat(e,r)})}function A3(r,e=[]){S3();let t=0;const n=i=>{i==e.length&&T3().then(()=>{fS(document.getElementById("root")).render(Ge(E3,{children:r}))})};n(t);for(let i of e)new VR(i).load().then(()=>{t++,n(t)})}var nf={exports:{}},hA={exports:{}},C3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P3=C3,I3=P3;function cA(){}function dA(){}dA.resetWarningCache=cA;var R3=function(){function r(n,i,s,o,l,h){if(h!==I3){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dA,resetWarningCache:cA};return t.PropTypes=t,t};hA.exports=R3();var k3=hA.exports;const Xe=mu(k3);function Ar(r){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(r)}function fA(r){var e=function(t,n){if(Ar(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,n||"default");if(Ar(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return Ar(e)==="symbol"?e:String(e)}function ft(r,e,t){return(e=fA(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function km(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ei(r){return function(e){if(Array.isArray(e))return km(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return km(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?km(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ct(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i]}var M3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O3(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var N3=function(r){return r==null};function Sl(r){var e=[];if(r===void 0)return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=Ei(r);else{if(r===null||Ar(r)!=="object")return e;e=[r&&(r==null?void 0:r.x)||0,r&&(r==null?void 0:r.y)||0]}return e.filter(function(t){return!N3(t)&&!isNaN(t)}).map(Number)}function Mw(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Mm(r){return r instanceof Ce||r instanceof Gn}var wd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Om(r,e,t){if(Mm(r[e])&&Mm(t))r[e].copyFrom(t);else if(Mm(r[e])){var n=Sl(t);ct(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(t),Ar(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var Oo,pA=function(r){var e,t=r;if(!Array.isArray(t)){if(e=r,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(r)}var n={};return t.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},mA=function(r){return function(){return!r.apply(void 0,arguments)}},Ty="children",D3=(ft(Oo={},Ty,!0),ft(Oo,"parent",!0),ft(Oo,"worldAlpha",!0),ft(Oo,"worldTransform",!0),ft(Oo,"worldVisible",!0),Oo),Ay={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Wn=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var h,d;l==null||(h=l.__reactpixi)===null||h===void 0||(d=h.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,h){if(t.hasOwnProperty(l))return ct(h.typeofs.some(function(d){return Ar(t[l])===d})||h.instanceofs.some(function(d){return t[l]instanceof d}),"".concat(r," ").concat(l," prop is invalid")),t[l]};if(t.texture)return ct(t.texture instanceof se,"".concat(r," texture needs to be typeof `Texture`")),t.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});ct(!!s,"".concat(r," could not get texture from props"));var o=se.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},F3=mA(pA([].concat(Ei(Object.keys(D3)),Ei(wd))));function Xn(r,e,t){var n=!1;if(ct(et.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",Ar(r)),!t.ignoreEvents)for(var i=typeof r.removeListener=="function",s=typeof r.on=="function",o=0;o<wd.length;o++){var l=wd[o];e[l]!==t[l]&&(n=!0,typeof e[l]=="function"&&i&&r.removeListener(l,e[l]),typeof t[l]=="function"&&s&&r.on(l,t[l]))}var h=Object.keys(t||{});if(t.overwriteProps){for(var d=0;d<h.length;d++){var g=h[d];e[g]!==t[g]&&(n=!0,Om(r,g,t[g]))}return n}for(var c=h.filter(F3),f=0;f<c.length;f++){var m=c[f],v=t[m];t[m]!==e[m]&&(n=!0),v!==void 0?Om(r,m,v):m in Ay?(console.warn("setting default value: ".concat(m,", from: ").concat(r[m]," to: ").concat(v," for"),r),n=!0,Om(r,m,Ay[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(r[m]," to ").concat(v," for"),r)}return n}var L3=function(r,e){var t=e.text,n=e.style;return new x3(t,n)},B3=function(){return new nr};function vs(r,e){if(r==null)return{};var t,n,i=function(o,l){if(o==null)return{};var h,d,g={},c=Object.keys(o);for(d=0;d<c.length;d++)h=c[d],l.indexOf(h)>=0||(g[h]=o[h]);return g}(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var U3=["draw","geometry"],G3=function(r,e){var t=e.geometry;ct(!t||t instanceof Gl,"Graphics geometry needs to be a `PIXI.Graphics`");var n=t?new Gl(t.geometry):new Gl;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var h=Xn(i,s,vs(o,U3));return s.draw!==l&&typeof l=="function"&&(h=!0,l.call(n,n)),h},n},z3=["image","texture"],H3=function(r,e){var t=e.leftWidth,n=t===void 0?10:t,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,h=e.bottomHeight,d=h===void 0?10:h,g=Wn("NineSlicePlane",r,e),c=new $F(g,n,s,l,d);return c.applyProps=function(f,m,v){var w=v.image,T=v.texture,x=Xn(f,m,vs(v,z3));return(w||T)&&(T!==m.texture&&(x=!0),f.texture=Wn("NineSlicePlane",r,v)),x},c};function Ow(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ic(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(t),!0).forEach(function(n){ft(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ow(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var $3=function(r,e){var t=e.maxSize,n=t===void 0?1500:t,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,h=ic(ic({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=ic(ic({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),g=new WF(n,h,s,l);return g.willUnmount=function(c,f,m){c.destroy(d)},g},j3=["image","texture"],V3=function(r,e){var t=new qn(Wn("Sprite",r,e));return t.applyProps=function(n,i,s){var o=s.image,l=s.texture,h=Xn(n,i,vs(s,j3));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Wn("Sprite",r,s)),h},t},W3=["textures","isPlaying","initialFrame","images"],X3=function(r,e){var t=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(d){return d.map(function(g){return ct(g instanceof se||(g==null?void 0:g.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),g})},h=n?cu.fromImages(n):new cu(l(t));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(d,g,c){var f=c.textures,m=c.isPlaying,v=c.initialFrame,w=c.images,T=Xn(d,g,vs(c,W3));if(w&&g.images!==w){for(var x=[],E=0;E<w.length;++E)x.push(se.from(w[E]));d.textures=x,T=!0}if(f&&g.textures!==f&&(d.textures=l(f),T=!0),m!==g.isPlaying||v!==g.initialFrame){var S=typeof v=="number"?v:h.currentFrame||0;h[m?"gotoAndPlay":"gotoAndStop"](S),T=!0}return T},h},Y3=function(r,e){var t=e.text,n=t===void 0?"":t,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new Y0(n,s);return o?(l.updateText(),new qn(l.texture)):l},Q3=["tileScale","tilePosition","image","texture"],q3=function(r,e){var t=e.width,n=t===void 0?100:t,i=e.height,s=i===void 0?100:i,o=Wn("TilingSprite",r,e),l=new Q0(o,n,s);return l.applyProps=function(h,d,g){var c=g.tileScale,f=g.tilePosition,m=g.image,v=g.texture,w=Xn(h,d,vs(g,Q3));if(f){var T,x=Sl(f);(T=h.tilePosition).set.apply(T,Ei(x)),w=!Mw(Sl(d.tilePosition),x)||w}if(c){var E,S=Sl(c);(E=h.tileScale).set.apply(E,Ei(S)),w=!Mw(Sl(d.tileScale),S)||w}return(m||v)&&(v!==d.texture&&(w=!0),h.texture=Wn("Sprite",r,g)),w},l},K3=["image","texture"],Z3=function(r,e){var t=Wn("Mesh",r,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?hn.TRIANGLES:o,h=new jF(t,n,i,s,l);return h.applyProps=function(d,g,c){var f=c.image,m=c.texture,v=Xn(d,g,vs(c,K3));return(f||m)&&(m!==g.texture&&(v=!0),d.texture=Wn("Mesh",r,c)),v},h},J3=["image","texture"],eL=function(r,e){var t=Wn("SimpleRope",r,e),n=e.points,i=new VF(t,n);return i.applyProps=function(s,o,l){var h=l.image,d=l.texture,g=vs(l,J3);ct(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var c=Xn(s,o,g);return(h||d)&&(d!==o.texture&&(c=!0),s.texture=Wn("SimpleRope",r,l)),c},i},tL=Object.freeze({__proto__:null,BitmapText:L3,Container:B3,Graphics:G3,NineSlicePlane:H3,ParticleContainer:$3,Sprite:V3,Text:Y3,TilingSprite:q3,SimpleMesh:Z3,SimpleRope:eL,AnimatedSprite:X3});function Nw(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Dw(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(t),!0).forEach(function(n){ft(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Nw(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var gr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},rL=Object.keys(gr).reduce(function(r,e){return Dw(Dw({},r),{},ft({},e,tL[e]))},{}),gA={};function nL(r,e){return ct(!!r,"Expect type to be defined, got `%s`",r),ct(!gr[r],"Component `%s` could not be created, already exists in default components.",r),gA[r]=e,r}var Fw,Lw,Bw,Uw,Cy={},Py={},iL={get exports(){return Py},set exports(r){Py=r}},Gw={};function sL(){return Lw||(Lw=1,iL.exports=(Fw||(Fw=1,function(r){function e(M,$){var D=M.length;M.push($);e:for(;0<D;){var B=D-1>>>1,q=M[B];if(!(0<i(q,$)))break e;M[B]=$,M[D]=q,D=B}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],D=M.pop();if(D!==$){M[0]=D;e:for(var B=0,q=M.length,we=q>>>1;B<we;){var ve=2*(B+1)-1,Fe=M[ve],Ee=ve+1,De=M[Ee];if(0>i(Fe,D))Ee<q&&0>i(De,Fe)?(M[B]=De,M[Ee]=D,B=Ee):(M[B]=Fe,M[ve]=D,B=ve);else{if(!(Ee<q&&0>i(De,D)))break e;M[B]=De,M[Ee]=D,B=Ee}}}return $}function i(M,$){var D=M.sortIndex-$.sortIndex;return D!==0?D:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var h=[],d=[],g=1,c=null,f=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(M){for(var $=t(d);$!==null;){if($.callback===null)n(d);else{if(!($.startTime<=M))break;n(d),$.sortIndex=$.expirationTime,e(h,$)}$=t(d)}}function A(M){if(w=!1,S(M),!v)if(t(h)!==null)v=!0,oe(P);else{var $=t(d);$!==null&&ie(A,$.startTime-M)}}function P(M,$){v=!1,w&&(w=!1,x(U),U=-1),m=!0;var D=f;try{for(S($),c=t(h);c!==null&&(!(c.expirationTime>$)||M&&!Y());){var B=c.callback;if(typeof B=="function"){c.callback=null,f=c.priorityLevel;var q=B(c.expirationTime<=$);$=r.unstable_now(),typeof q=="function"?c.callback=q:c===t(h)&&n(h),S($)}else n(h);c=t(h)}if(c!==null)var we=!0;else{var ve=t(d);ve!==null&&ie(A,ve.startTime-$),we=!1}return we}finally{c=null,f=D,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,k=!1,R=null,U=-1,H=5,re=-1;function Y(){return!(r.unstable_now()-re<H)}function N(){if(R!==null){var M=r.unstable_now();re=M;var $=!0;try{$=R(!0,M)}finally{$?L():(k=!1,R=null)}}else k=!1}if(typeof E=="function")L=function(){E(N)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ee=j.port2;j.port1.onmessage=N,L=function(){ee.postMessage(null)}}else L=function(){T(N,0)};function oe(M){R=M,k||(k=!0,L())}function ie(M,$){U=T(function(){M(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){v||m||(v=!0,oe(P))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var D=f;f=$;try{return M()}finally{f=D}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=f;f=M;try{return $()}finally{f=D}},r.unstable_scheduleCallback=function(M,$,D){var B=r.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?B+D:B,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return M={id:g++,callback:$,priorityLevel:M,startTime:D,expirationTime:q=D+q,sortIndex:-1},D>B?(M.sortIndex=D,e(d,M),t(h)===null&&M===t(d)&&(w?(x(U),U=-1):w=!0,ie(A,D-B))):(M.sortIndex=q,e(h,M),v||m||(v=!0,oe(P))),M},r.unstable_shouldYield=Y,r.unstable_wrapCallback=function(M){var $=f;return function(){var D=f;f=$;try{return M.apply(this,arguments)}finally{f=D}}}}(Gw)),Gw)),Py}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function oL(){return Uw||(Uw=1,Bw=function(r){var e={},t=fi,n=sL(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:typeof(a=A&&a[A]||a["@@iterator"])=="function"?a:null}function L(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case h:return"Portal";case c:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case m:return(a.displayName||"Context")+".Consumer";case f:return(a._context.displayName||"Context")+".Provider";case v:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case x:return(u=a.displayName||null)!==null?u:L(a.type)||"Memo";case E:u=a._payload,a=a._init;try{return L(a(u))}catch{}}return null}function k(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function U(a){if(R(a)!==a)throw Error(s(188))}function H(a){var u=a.alternate;if(!u){if((u=R(a))===null)throw Error(s(188));return u!==a?null:a}for(var p=a,y=u;;){var _=p.return;if(_===null)break;var b=_.alternate;if(b===null){if((y=_.return)!==null){p=y;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===p)return U(_),a;if(b===y)return U(_),u;b=b.sibling}throw Error(s(188))}if(p.return!==y.return)p=_,y=b;else{for(var C=!1,I=_.child;I;){if(I===p){C=!0,p=_,y=b;break}if(I===y){C=!0,y=_,p=b;break}I=I.sibling}if(!C){for(I=b.child;I;){if(I===p){C=!0,p=b,y=_;break}if(I===y){C=!0,y=b,p=_;break}I=I.sibling}if(!C)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?a:u}function re(a){return(a=H(a))!==null?Y(a):null}function Y(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Y(a);if(u!==null)return u;a=a.sibling}return null}function N(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=N(a);if(u!==null)return u}a=a.sibling}return null}var j,ee=Array.isArray,oe=r.getPublicInstance,ie=r.getRootHostContext,M=r.getChildHostContext,$=r.prepareForCommit,D=r.resetAfterCommit,B=r.createInstance,q=r.appendInitialChild,we=r.finalizeInitialChildren,ve=r.prepareUpdate,Fe=r.shouldSetTextContent,Ee=r.createTextInstance,De=r.scheduleTimeout,St=r.cancelTimeout,Dt=r.noTimeout,lt=r.isPrimaryRenderer,Se=r.supportsMutation,Ve=r.supportsPersistence,Me=r.supportsHydration,Rr=r.getInstanceFromNode,kr=r.preparePortalMount,_s=r.getCurrentEventPriority,of=r.detachDeletedInstance,ho=r.supportsMicrotasks,RA=r.scheduleMicrotask,Ma=r.supportsTestSelectors,kA=r.findFiberRoot,MA=r.getBoundingRect,OA=r.getTextContent,Oa=r.isHiddenSubtree,NA=r.matchAccessibilityRole,DA=r.setFocusIfFocusable,FA=r.setupIntersectionObserver,LA=r.appendChild,BA=r.appendChildToContainer,UA=r.commitTextUpdate,GA=r.commitMount,zA=r.commitUpdate,HA=r.insertBefore,$A=r.insertInContainerBefore,jA=r.removeChild,VA=r.removeChildFromContainer,q0=r.resetTextContent,WA=r.hideInstance,XA=r.hideTextInstance,YA=r.unhideInstance,QA=r.unhideTextInstance,qA=r.clearContainer,KA=r.cloneInstance,K0=r.createContainerChildSet,Z0=r.appendChildToContainerChildSet,ZA=r.finalizeContainerChildren,af=r.replaceContainerChildren,J0=r.cloneHiddenInstance,ev=r.cloneHiddenTextInstance,JA=r.canHydrateInstance,eC=r.canHydrateTextInstance,tC=r.canHydrateSuspenseInstance,tv=r.isSuspenseInstancePending,lf=r.isSuspenseInstanceFallback,rC=r.getSuspenseInstanceFallbackErrorDetails,nC=r.registerSuspenseInstanceRetry,Cu=r.getNextHydratableSibling,iC=r.getFirstHydratableChild,sC=r.getFirstHydratableChildWithinContainer,oC=r.getFirstHydratableChildWithinSuspenseInstance,aC=r.hydrateInstance,lC=r.hydrateTextInstance,uC=r.hydrateSuspenseInstance,hC=r.getNextHydratableInstanceAfterSuspenseInstance,cC=r.commitHydratedContainer,dC=r.commitHydratedSuspenseInstance,fC=r.clearSuspenseBoundary,pC=r.clearSuspenseBoundaryFromContainer,mC=r.shouldDeleteUnhydratedTailInstances,gC=r.didNotMatchHydratedContainerTextInstance,yC=r.didNotMatchHydratedTextInstance;function Na(a){if(j===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+a}var uf=!1;function hf(a,u){if(!a||uf)return"";uf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(z){var y=z}Reflect.construct(a,[],u)}else{try{u.call()}catch(z){y=z}a.call(u.prototype)}else{try{throw Error()}catch(z){y=z}a()}}catch(z){if(z&&y&&typeof z.stack=="string"){for(var _=z.stack.split(`
`),b=y.stack.split(`
`),C=_.length-1,I=b.length-1;1<=C&&0<=I&&_[C]!==b[I];)I--;for(;1<=C&&0<=I;C--,I--)if(_[C]!==b[I]){if(C!==1||I!==1)do if(C--,0>--I||_[C]!==b[I]){var F=`
`+_[C].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=C&&0<=I);break}}}finally{uf=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?Na(a):""}var vC=Object.prototype.hasOwnProperty,cf=[],co=-1;function Ti(a){return{current:a}}function qe(a){0>co||(a.current=cf[co],cf[co]=null,co--)}function He(a,u){co++,cf[co]=a.current,a.current=u}var Ai={},Ht=Ti(Ai),or=Ti(!1),xs=Ai;function fo(a,u){var p=a.type.contextTypes;if(!p)return Ai;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var _,b={};for(_ in p)b[_]=u[_];return y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function yr(a){return(a=a.childContextTypes)!=null}function df(){qe(or),qe(Ht)}function rv(a,u,p){if(Ht.current!==Ai)throw Error(s(168));He(Ht,u),He(or,p)}function nv(a,u,p){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;for(var _ in y=y.getChildContext())if(!(_ in u))throw Error(s(108,k(a)||"Unknown",_));return i({},p,y)}function Pu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ai,xs=Ht.current,He(Ht,a),He(or,or.current),!0}function iv(a,u,p){var y=a.stateNode;if(!y)throw Error(s(169));p?(a=nv(a,u,xs),y.__reactInternalMemoizedMergedChildContext=a,qe(or),qe(Ht),He(Ht,a)):qe(or),He(or,p)}var Qr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(_C(a)/xC|0)|0},_C=Math.log,xC=Math.LN2,ff=64,pf=4194304;function Da(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Iu(a,u){var p=a.pendingLanes;if(p===0)return 0;var y=0,_=a.suspendedLanes,b=a.pingedLanes,C=268435455&p;if(C!==0){var I=C&~_;I!==0?y=Da(I):(b&=C)!==0&&(y=Da(b))}else(C=p&~_)!==0?y=Da(C):b!==0&&(y=Da(b));if(y===0)return 0;if(u!==0&&u!==y&&!(u&_)&&((_=y&-y)>=(b=u&-u)||_===16&&4194240&b))return u;if(4&y&&(y|=16&p),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=y;0<u;)_=1<<(p=31-Qr(u)),y|=a[p],u&=~_;return y}function wC(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function mf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function sv(){var a=ff;return!(4194240&(ff<<=1))&&(ff=64),a}function gf(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function Fa(a,u,p){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-Qr(u)]=p}function yf(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var y=31-Qr(p),_=1<<y;_&u|a[y]&u&&(a[y]|=u),p&=~_}}var Oe=0;function ov(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var vf=n.unstable_scheduleCallback,av=n.unstable_cancelCallback,bC=n.unstable_shouldYield,EC=n.unstable_requestPaint,Tt=n.unstable_now,_f=n.unstable_ImmediatePriority,SC=n.unstable_UserBlockingPriority,lv=n.unstable_NormalPriority,TC=n.unstable_IdlePriority,Ru=null,_n=null,qr=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},Kn=null,ku=!1,xf=!1;function uv(a){Kn===null?Kn=[a]:Kn.push(a)}function xn(){if(!xf&&Kn!==null){xf=!0;var a=0,u=Oe;try{var p=Kn;for(Oe=1;a<p.length;a++){var y=p[a];do y=y(!0);while(y!==null)}Kn=null,ku=!1}catch(_){throw Kn!==null&&(Kn=Kn.slice(a+1)),vf(_f,xn),_}finally{Oe=u,xf=!1}}return null}var po=[],mo=0,Mu=null,Ou=0,Mr=[],Or=0,ws=null,wn=1,Zn="";function bs(a,u){po[mo++]=Ou,po[mo++]=Mu,Mu=a,Ou=u}function hv(a,u,p){Mr[Or++]=wn,Mr[Or++]=Zn,Mr[Or++]=ws,ws=a;var y=wn;a=Zn;var _=32-Qr(y)-1;y&=~(1<<_),p+=1;var b=32-Qr(u)+_;if(30<b){var C=_-_%5;b=(y&(1<<C)-1).toString(32),y>>=C,_-=C,wn=1<<32-Qr(u)+_|p<<_|y,Zn=b+a}else wn=1<<b|p<<_|y,Zn=a}function wf(a){a.return!==null&&(bs(a,1),hv(a,1,0))}function bf(a){for(;a===Mu;)Mu=po[--mo],po[mo]=null,Ou=po[--mo],po[mo]=null;for(;a===ws;)ws=Mr[--Or],Mr[Or]=null,Zn=Mr[--Or],Mr[Or]=null,wn=Mr[--Or],Mr[Or]=null}var vr=null,Nr=null,Ke=!1,La=!1,Kr=null;function cv(a,u){var p=Ur(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=a,(u=a.deletions)===null?(a.deletions=[p],a.flags|=16):u.push(p)}function dv(a,u){switch(a.tag){case 5:return(u=JA(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,vr=a,Nr=iC(u),!0);case 6:return(u=eC(u,a.pendingProps))!==null&&(a.stateNode=u,vr=a,Nr=null,!0);case 13:if((u=tC(u))!==null){var p=ws!==null?{id:wn,overflow:Zn}:null;return a.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},(p=Ur(18,null,null,0)).stateNode=u,p.return=a,a.child=p,vr=a,Nr=null,!0}return!1;default:return!1}}function Ef(a){return(1&a.mode)!=0&&(128&a.flags)==0}function Sf(a){if(Ke){var u=Nr;if(u){var p=u;if(!dv(a,u)){if(Ef(a))throw Error(s(418));u=Cu(p);var y=vr;u&&dv(a,u)?cv(y,p):(a.flags=-4097&a.flags|2,Ke=!1,vr=a)}}else{if(Ef(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ke=!1,vr=a}}}function fv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;vr=a}function Nu(a){if(!Me||a!==vr)return!1;if(!Ke)return fv(a),Ke=!0,!1;if(a.tag!==3&&(a.tag!==5||mC(a.type)&&!Fe(a.type,a.memoizedProps))){var u=Nr;if(u){if(Ef(a))throw pv(),Error(s(418));for(;u;)cv(a,u),u=Cu(u)}}if(fv(a),a.tag===13){if(!Me)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Nr=hC(a)}else Nr=vr?Cu(a.stateNode):null;return!0}function pv(){for(var a=Nr;a;)a=Cu(a)}function go(){Me&&(Nr=vr=null,La=Ke=!1)}function Tf(a){Kr===null?Kr=[a]:Kr.push(a)}var AC=o.ReactCurrentBatchConfig;function Du(a,u){if(qr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!vC.call(u,_)||!qr(a[_],u[_]))return!1}return!0}function CC(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return a=hf(a.type,!1);case 11:return a=hf(a.type.render,!1);case 1:return a=hf(a.type,!0);default:return""}}function Zr(a,u){if(a&&a.defaultProps){for(var p in u=i({},u),a=a.defaultProps)u[p]===void 0&&(u[p]=a[p]);return u}return u}var Fu=Ti(null),Lu=null,yo=null,Af=null;function Cf(){Af=yo=Lu=null}function mv(a,u,p){lt?(He(Fu,u._currentValue),u._currentValue=p):(He(Fu,u._currentValue2),u._currentValue2=p)}function Pf(a){var u=Fu.current;qe(Fu),lt?a._currentValue=u:a._currentValue2=u}function If(a,u,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===p)break;a=a.return}}function vo(a,u){Lu=a,Af=yo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(ar=!0),a.firstContext=null)}function Dr(a){var u=lt?a._currentValue:a._currentValue2;if(Af!==a)if(a={context:a,memoizedValue:u,next:null},yo===null){if(Lu===null)throw Error(s(308));yo=a,Lu.dependencies={lanes:0,firstContext:a}}else yo=yo.next=a;return u}var Es=null;function Rf(a){Es===null?Es=[a]:Es.push(a)}function gv(a,u,p,y){var _=u.interleaved;return _===null?(p.next=p,Rf(u)):(p.next=_.next,_.next=p),u.interleaved=p,bn(a,y)}function bn(a,u){a.lanes|=u;var p=a.alternate;for(p!==null&&(p.lanes|=u),p=a,a=a.return;a!==null;)a.childLanes|=u,(p=a.alternate)!==null&&(p.childLanes|=u),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Ci=!1;function kf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yv(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Jn(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Pi(a,u,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(2&Re)!=0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,bn(a,p)}return(_=y.interleaved)===null?(u.next=u,Rf(y)):(u.next=_.next,_.next=u),y.interleaved=u,bn(a,p)}function Bu(a,u,p){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&p)!=0)){var y=u.lanes;p|=y&=a.pendingLanes,u.lanes=p,yf(a,p)}}function vv(a,u){var p=a.updateQueue,y=a.alternate;if(y!==null&&p===(y=y.updateQueue)){var _=null,b=null;if((p=p.firstBaseUpdate)!==null){do{var C={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};b===null?_=b=C:b=b.next=C,p=p.next}while(p!==null);b===null?_=b=u:b=b.next=u}else _=b=u;return p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:y.shared,effects:y.effects},void(a.updateQueue=p)}(a=p.lastBaseUpdate)===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}function Uu(a,u,p,y){var _=a.updateQueue;Ci=!1;var b=_.firstBaseUpdate,C=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var F=I,z=F.next;F.next=null,C===null?b=z:C.next=z,C=F;var W=a.alternate;W!==null&&(I=(W=W.updateQueue).lastBaseUpdate)!==C&&(I===null?W.firstBaseUpdate=z:I.next=z,W.lastBaseUpdate=F)}if(b!==null){var te=_.baseState;for(C=0,W=z=F=null,I=b;;){var V=I.lane,Z=I.eventTime;if((y&V)===V){W!==null&&(W=W.next={eventTime:Z,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=a,be=I;switch(V=u,Z=p,be.tag){case 1:if(typeof(ce=be.payload)=="function"){te=ce.call(Z,te,V);break e}te=ce;break e;case 3:ce.flags=-65537&ce.flags|128;case 0:if((V=typeof(ce=be.payload)=="function"?ce.call(Z,te,V):ce)==null)break e;te=i({},te,V);break e;case 2:Ci=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(V=_.effects)===null?_.effects=[I]:V.push(I))}else Z={eventTime:Z,lane:V,tag:I.tag,payload:I.payload,callback:I.callback,next:null},W===null?(z=W=Z,F=te):W=W.next=Z,C|=V;if((I=I.next)===null){if((I=_.shared.pending)===null)break;I=(V=I).next,V.next=null,_.lastBaseUpdate=V,_.shared.pending=null}}if(W===null&&(F=te),_.baseState=F,_.firstBaseUpdate=z,_.lastBaseUpdate=W,(u=_.shared.interleaved)!==null){_=u;do C|=_.lane,_=_.next;while(_!==u)}else b===null&&(_.shared.lanes=0);Ts|=C,a.lanes=C,a.memoizedState=te}}function _v(a,u,p){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],_=y.callback;if(_!==null){if(y.callback=null,y=p,typeof _!="function")throw Error(s(191,_));_.call(y)}}}var xv=new t.Component().refs;function Mf(a,u,p,y){p=(p=p(y,u=a.memoizedState))==null?u:i({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Gu={isMounted:function(a){return!!(a=a._reactInternals)&&R(a)===a},enqueueSetState:function(a,u,p){a=a._reactInternals;var y=Vt(),_=Mi(a),b=Jn(y,_);b.payload=u,p!=null&&(b.callback=p),(u=Pi(a,b,_))!==null&&(Br(u,a,_,y),Bu(u,a,_))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var y=Vt(),_=Mi(a),b=Jn(y,_);b.tag=1,b.payload=u,p!=null&&(b.callback=p),(u=Pi(a,b,_))!==null&&(Br(u,a,_,y),Bu(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=Vt(),y=Mi(a),_=Jn(p,y);_.tag=2,u!=null&&(_.callback=u),(u=Pi(a,_,y))!==null&&(Br(u,a,y,p),Bu(u,a,y))}};function wv(a,u,p,y,_,b,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,b,C):!u.prototype||!u.prototype.isPureReactComponent||!Du(p,y)||!Du(_,b)}function bv(a,u,p){var y=!1,_=Ai,b=u.contextType;return typeof b=="object"&&b!==null?b=Dr(b):(_=yr(u)?xs:Ht.current,b=(y=(y=u.contextTypes)!=null)?fo(a,_):Ai),u=new u(p,b),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Gu,a.stateNode=u,u._reactInternals=a,y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=b),u}function Ev(a,u,p,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==a&&Gu.enqueueReplaceState(u,u.state,null)}function Of(a,u,p,y){var _=a.stateNode;_.props=p,_.state=a.memoizedState,_.refs=xv,kf(a);var b=u.contextType;typeof b=="object"&&b!==null?_.context=Dr(b):(b=yr(u)?xs:Ht.current,_.context=fo(a,b)),_.state=a.memoizedState,typeof(b=u.getDerivedStateFromProps)=="function"&&(Mf(a,u,b,p),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Gu.enqueueReplaceState(_,_.state,null),Uu(a,p,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Ba(a,u,p){if((a=p.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var y=p.stateNode}if(!y)throw Error(s(147,a));var _=y,b=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(C){var I=_.refs;I===xv&&(I=_.refs={}),C===null?delete I[b]:I[b]=C},u._stringRef=b,u)}if(typeof a!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,a))}return a}function zu(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Sv(a){return(0,a._init)(a._payload)}function Tv(a){function u(X,O){if(a){var G=X.deletions;G===null?(X.deletions=[O],X.flags|=16):G.push(O)}}function p(X,O){if(!a)return null;for(;O!==null;)u(X,O),O=O.sibling;return null}function y(X,O){for(X=new Map;O!==null;)O.key!==null?X.set(O.key,O):X.set(O.index,O),O=O.sibling;return X}function _(X,O){return(X=Ni(X,O)).index=0,X.sibling=null,X}function b(X,O,G){return X.index=G,a?(G=X.alternate)!==null?(G=G.index)<O?(X.flags|=2,O):G:(X.flags|=2,O):(X.flags|=1048576,O)}function C(X){return a&&X.alternate===null&&(X.flags|=2),X}function I(X,O,G,Q){return O===null||O.tag!==6?((O=_p(G,X.mode,Q)).return=X,O):((O=_(O,G)).return=X,O)}function F(X,O,G,Q){var ge=G.type;return ge===d?W(X,O,G.props.children,Q,G.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===E&&Sv(ge)===O.type)?((Q=_(O,G.props)).ref=Ba(X,O,G),Q.return=X,Q):((Q=fh(G.type,G.key,G.props,null,X.mode,Q)).ref=Ba(X,O,G),Q.return=X,Q)}function z(X,O,G,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?((O=xp(G,X.mode,Q)).return=X,O):((O=_(O,G.children||[])).return=X,O)}function W(X,O,G,Q,ge){return O===null||O.tag!==7?((O=Ps(G,X.mode,Q,ge)).return=X,O):((O=_(O,G)).return=X,O)}function te(X,O,G){if(typeof O=="string"&&O!==""||typeof O=="number")return(O=_p(""+O,X.mode,G)).return=X,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case l:return(G=fh(O.type,O.key,O.props,null,X.mode,G)).ref=Ba(X,null,O),G.return=X,G;case h:return(O=xp(O,X.mode,G)).return=X,O;case E:return te(X,(0,O._init)(O._payload),G)}if(ee(O)||P(O))return(O=Ps(O,X.mode,G,null)).return=X,O;zu(X,O)}return null}function V(X,O,G,Q){var ge=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ge!==null?null:I(X,O,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return G.key===ge?F(X,O,G,Q):null;case h:return G.key===ge?z(X,O,G,Q):null;case E:return V(X,O,(ge=G._init)(G._payload),Q)}if(ee(G)||P(G))return ge!==null?null:W(X,O,G,Q,null);zu(X,G)}return null}function Z(X,O,G,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return I(O,X=X.get(G)||null,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return F(O,X=X.get(Q.key===null?G:Q.key)||null,Q,ge);case h:return z(O,X=X.get(Q.key===null?G:Q.key)||null,Q,ge);case E:return Z(X,O,G,(0,Q._init)(Q._payload),ge)}if(ee(Q)||P(Q))return W(O,X=X.get(G)||null,Q,ge,null);zu(O,Q)}return null}function ce(X,O,G,Q){for(var ge=null,Le=null,fe=O,Ne=O=0,Lt=null;fe!==null&&Ne<G.length;Ne++){fe.index>Ne?(Lt=fe,fe=null):Lt=fe.sibling;var Be=V(X,fe,G[Ne],Q);if(Be===null){fe===null&&(fe=Lt);break}a&&fe&&Be.alternate===null&&u(X,fe),O=b(Be,O,Ne),Le===null?ge=Be:Le.sibling=Be,Le=Be,fe=Lt}if(Ne===G.length)return p(X,fe),Ke&&bs(X,Ne),ge;if(fe===null){for(;Ne<G.length;Ne++)(fe=te(X,G[Ne],Q))!==null&&(O=b(fe,O,Ne),Le===null?ge=fe:Le.sibling=fe,Le=fe);return Ke&&bs(X,Ne),ge}for(fe=y(X,fe);Ne<G.length;Ne++)(Lt=Z(fe,X,Ne,G[Ne],Q))!==null&&(a&&Lt.alternate!==null&&fe.delete(Lt.key===null?Ne:Lt.key),O=b(Lt,O,Ne),Le===null?ge=Lt:Le.sibling=Lt,Le=Lt);return a&&fe.forEach(function(Di){return u(X,Di)}),Ke&&bs(X,Ne),ge}function be(X,O,G,Q){var ge=P(G);if(typeof ge!="function")throw Error(s(150));if((G=ge.call(G))==null)throw Error(s(151));for(var Le=ge=null,fe=O,Ne=O=0,Lt=null,Be=G.next();fe!==null&&!Be.done;Ne++,Be=G.next()){fe.index>Ne?(Lt=fe,fe=null):Lt=fe.sibling;var Di=V(X,fe,Be.value,Q);if(Di===null){fe===null&&(fe=Lt);break}a&&fe&&Di.alternate===null&&u(X,fe),O=b(Di,O,Ne),Le===null?ge=Di:Le.sibling=Di,Le=Di,fe=Lt}if(Be.done)return p(X,fe),Ke&&bs(X,Ne),ge;if(fe===null){for(;!Be.done;Ne++,Be=G.next())(Be=te(X,Be.value,Q))!==null&&(O=b(Be,O,Ne),Le===null?ge=Be:Le.sibling=Be,Le=Be);return Ke&&bs(X,Ne),ge}for(fe=y(X,fe);!Be.done;Ne++,Be=G.next())(Be=Z(fe,X,Ne,Be.value,Q))!==null&&(a&&Be.alternate!==null&&fe.delete(Be.key===null?Ne:Be.key),O=b(Be,O,Ne),Le===null?ge=Be:Le.sibling=Be,Le=Be);return a&&fe.forEach(function(KC){return u(X,KC)}),Ke&&bs(X,Ne),ge}return function X(O,G,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:e:{for(var Le=Q.key,fe=G;fe!==null;){if(fe.key===Le){if((Le=Q.type)===d){if(fe.tag===7){p(O,fe.sibling),(G=_(fe,Q.props.children)).return=O,O=G;break e}}else if(fe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===E&&Sv(Le)===fe.type){p(O,fe.sibling),(G=_(fe,Q.props)).ref=Ba(O,fe,Q),G.return=O,O=G;break e}p(O,fe);break}u(O,fe),fe=fe.sibling}Q.type===d?((G=Ps(Q.props.children,O.mode,ge,Q.key)).return=O,O=G):((ge=fh(Q.type,Q.key,Q.props,null,O.mode,ge)).ref=Ba(O,G,Q),ge.return=O,O=ge)}return C(O);case h:e:{for(fe=Q.key;G!==null;){if(G.key===fe){if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){p(O,G.sibling),(G=_(G,Q.children||[])).return=O,O=G;break e}p(O,G);break}u(O,G),G=G.sibling}(G=xp(Q,O.mode,ge)).return=O,O=G}return C(O);case E:return X(O,G,(fe=Q._init)(Q._payload),ge)}if(ee(Q))return ce(O,G,Q,ge);if(P(Q))return be(O,G,Q,ge);zu(O,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,G!==null&&G.tag===6?(p(O,G.sibling),(G=_(G,Q)).return=O,O=G):(p(O,G),(G=_p(Q,O.mode,ge)).return=O,O=G),C(O)):p(O,G)}}var _o=Tv(!0),Av=Tv(!1),Ua={},Fr=Ti(Ua),Ga=Ti(Ua),xo=Ti(Ua);function En(a){if(a===Ua)throw Error(s(174));return a}function Nf(a,u){He(xo,u),He(Ga,a),He(Fr,Ua),a=ie(u),qe(Fr),He(Fr,a)}function wo(){qe(Fr),qe(Ga),qe(xo)}function Cv(a){var u=En(xo.current),p=En(Fr.current);p!==(u=M(p,a.type,u))&&(He(Ga,a),He(Fr,u))}function Df(a){Ga.current===a&&(qe(Fr),qe(Ga))}var ut=Ti(0);function Hu(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&((p=p.dehydrated)===null||tv(p)||lf(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ff=[];function Lf(){for(var a=0;a<Ff.length;a++){var u=Ff[a];lt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ff.length=0}var $u=o.ReactCurrentDispatcher,Bf=o.ReactCurrentBatchConfig,Ss=0,tt=null,At=null,Ct=null,ju=!1,za=!1,Ha=0,PC=0;function $t(){throw Error(s(321))}function Uf(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!qr(a[p],u[p]))return!1;return!0}function Gf(a,u,p,y,_,b){if(Ss=b,tt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$u.current=a===null||a.memoizedState===null?MC:OC,a=p(y,_),za){b=0;do{if(za=!1,Ha=0,25<=b)throw Error(s(301));b+=1,Ct=At=null,u.updateQueue=null,$u.current=NC,a=p(y,_)}while(za)}if($u.current=Xu,u=At!==null&&At.next!==null,Ss=0,Ct=At=tt=null,ju=!1,u)throw Error(s(300));return a}function zf(){var a=Ha!==0;return Ha=0,a}function Sn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=a:Ct=Ct.next=a,Ct}function Lr(){if(At===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var u=Ct===null?tt.memoizedState:Ct.next;if(u!==null)Ct=u,At=a;else{if(a===null)throw Error(s(310));a={memoizedState:(At=a).memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ct===null?tt.memoizedState=Ct=a:Ct=Ct.next=a}return Ct}function $a(a,u){return typeof u=="function"?u(a):u}function Hf(a){var u=Lr(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=At,_=y.baseQueue,b=p.pending;if(b!==null){if(_!==null){var C=_.next;_.next=b.next,b.next=C}y.baseQueue=_=b,p.pending=null}if(_!==null){b=_.next,y=y.baseState;var I=C=null,F=null,z=b;do{var W=z.lane;if((Ss&W)===W)F!==null&&(F=F.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),y=z.hasEagerState?z.eagerState:a(y,z.action);else{var te={lane:W,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};F===null?(I=F=te,C=y):F=F.next=te,tt.lanes|=W,Ts|=W}z=z.next}while(z!==null&&z!==b);F===null?C=y:F.next=I,qr(y,u.memoizedState)||(ar=!0),u.memoizedState=y,u.baseState=C,u.baseQueue=F,p.lastRenderedState=y}if((a=p.interleaved)!==null){_=a;do b=_.lane,tt.lanes|=b,Ts|=b,_=_.next;while(_!==a)}else _===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function $f(a){var u=Lr(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=p.dispatch,_=p.pending,b=u.memoizedState;if(_!==null){p.pending=null;var C=_=_.next;do b=a(b,C.action),C=C.next;while(C!==_);qr(b,u.memoizedState)||(ar=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),p.lastRenderedState=b}return[b,y]}function Pv(){}function Iv(a,u){var p=tt,y=Lr(),_=u(),b=!qr(y.memoizedState,_);if(b&&(y.memoizedState=_,ar=!0),y=y.queue,jf(Mv.bind(null,p,y,a),[a]),y.getSnapshot!==u||b||Ct!==null&&1&Ct.memoizedState.tag){if(p.flags|=2048,ja(9,kv.bind(null,p,y,_,u),void 0,null),Pt===null)throw Error(s(349));30&Ss||Rv(p,u,_)}return _}function Rv(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},(u=tt.updateQueue)===null?(u={lastEffect:null,stores:null},tt.updateQueue=u,u.stores=[a]):(p=u.stores)===null?u.stores=[a]:p.push(a)}function kv(a,u,p,y){u.value=p,u.getSnapshot=y,Ov(u)&&Nv(a)}function Mv(a,u,p){return p(function(){Ov(u)&&Nv(a)})}function Ov(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!qr(a,p)}catch{return!0}}function Nv(a){var u=bn(a,1);u!==null&&Br(u,a,1,-1)}function Dv(a){var u=Sn();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:a},u.queue=a,a=a.dispatch=kC.bind(null,tt,a),[u.memoizedState,a]}function ja(a,u,p,y){return a={tag:a,create:u,destroy:p,deps:y,next:null},(u=tt.updateQueue)===null?(u={lastEffect:null,stores:null},tt.updateQueue=u,u.lastEffect=a.next=a):(p=u.lastEffect)===null?u.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,u.lastEffect=a),a}function Fv(){return Lr().memoizedState}function Vu(a,u,p,y){var _=Sn();tt.flags|=a,_.memoizedState=ja(1|u,p,void 0,y===void 0?null:y)}function Wu(a,u,p,y){var _=Lr();y=y===void 0?null:y;var b=void 0;if(At!==null){var C=At.memoizedState;if(b=C.destroy,y!==null&&Uf(y,C.deps))return void(_.memoizedState=ja(u,p,b,y))}tt.flags|=a,_.memoizedState=ja(1|u,p,b,y)}function Lv(a,u){return Vu(8390656,8,a,u)}function jf(a,u){return Wu(2048,8,a,u)}function Bv(a,u){return Wu(4,2,a,u)}function Uv(a,u){return Wu(4,4,a,u)}function Gv(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function zv(a,u,p){return p=p!=null?p.concat([a]):null,Wu(4,4,Gv.bind(null,u,a),p)}function Vf(){}function Hv(a,u){var p=Lr();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Uf(u,y[1])?y[0]:(p.memoizedState=[a,u],a)}function $v(a,u){var p=Lr();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Uf(u,y[1])?y[0]:(a=a(),p.memoizedState=[a,u],a)}function jv(a,u,p){return 21&Ss?(qr(p,u)||(p=sv(),tt.lanes|=p,Ts|=p,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,ar=!0),a.memoizedState=p)}function IC(a,u){var p=Oe;Oe=p!==0&&4>p?p:4,a(!0);var y=Bf.transition;Bf.transition={};try{a(!1),u()}finally{Oe=p,Bf.transition=y}}function Vv(){return Lr().memoizedState}function RC(a,u,p){var y=Mi(a);p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},Wv(a)?Xv(u,p):(p=gv(a,u,p,y))!==null&&(Br(p,a,y,Vt()),Yv(p,u,y))}function kC(a,u,p){var y=Mi(a),_={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(Wv(a))Xv(u,_);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=b(C,p);if(_.hasEagerState=!0,_.eagerState=I,qr(I,C)){var F=u.interleaved;return F===null?(_.next=_,Rf(u)):(_.next=F.next,F.next=_),void(u.interleaved=_)}}catch{}(p=gv(a,u,_,y))!==null&&(Br(p,a,y,_=Vt()),Yv(p,u,y))}}function Wv(a){var u=a.alternate;return a===tt||u!==null&&u===tt}function Xv(a,u){za=ju=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function Yv(a,u,p){if(4194240&p){var y=u.lanes;p|=y&=a.pendingLanes,u.lanes=p,yf(a,p)}}var Xu={readContext:Dr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},MC={readContext:Dr,useCallback:function(a,u){return Sn().memoizedState=[a,u===void 0?null:u],a},useContext:Dr,useEffect:Lv,useImperativeHandle:function(a,u,p){return p=p!=null?p.concat([a]):null,Vu(4194308,4,Gv.bind(null,u,a),p)},useLayoutEffect:function(a,u){return Vu(4194308,4,a,u)},useInsertionEffect:function(a,u){return Vu(4,2,a,u)},useMemo:function(a,u){var p=Sn();return u=u===void 0?null:u,a=a(),p.memoizedState=[a,u],a},useReducer:function(a,u,p){var y=Sn();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=RC.bind(null,tt,a),[y.memoizedState,a]},useRef:function(a){return a={current:a},Sn().memoizedState=a},useState:Dv,useDebugValue:Vf,useDeferredValue:function(a){return Sn().memoizedState=a},useTransition:function(){var a=Dv(!1),u=a[0];return a=IC.bind(null,a[1]),Sn().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,p){var y=tt,_=Sn();if(Ke){if(p===void 0)throw Error(s(407));p=p()}else{if(p=u(),Pt===null)throw Error(s(349));30&Ss||Rv(y,u,p)}_.memoizedState=p;var b={value:p,getSnapshot:u};return _.queue=b,Lv(Mv.bind(null,y,b,a),[a]),y.flags|=2048,ja(9,kv.bind(null,y,b,p,u),void 0,null),p},useId:function(){var a=Sn(),u=Pt.identifierPrefix;if(Ke){var p=Zn;u=":"+u+"R"+(p=(wn&~(1<<32-Qr(wn)-1)).toString(32)+p),0<(p=Ha++)&&(u+="H"+p.toString(32)),u+=":"}else u=":"+u+"r"+(p=PC++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},OC={readContext:Dr,useCallback:Hv,useContext:Dr,useEffect:jf,useImperativeHandle:zv,useInsertionEffect:Bv,useLayoutEffect:Uv,useMemo:$v,useReducer:Hf,useRef:Fv,useState:function(){return Hf($a)},useDebugValue:Vf,useDeferredValue:function(a){return jv(Lr(),At.memoizedState,a)},useTransition:function(){return[Hf($a)[0],Lr().memoizedState]},useMutableSource:Pv,useSyncExternalStore:Iv,useId:Vv,unstable_isNewReconciler:!1},NC={readContext:Dr,useCallback:Hv,useContext:Dr,useEffect:jf,useImperativeHandle:zv,useInsertionEffect:Bv,useLayoutEffect:Uv,useMemo:$v,useReducer:$f,useRef:Fv,useState:function(){return $f($a)},useDebugValue:Vf,useDeferredValue:function(a){var u=Lr();return At===null?u.memoizedState=a:jv(u,At.memoizedState,a)},useTransition:function(){return[$f($a)[0],Lr().memoizedState]},useMutableSource:Pv,useSyncExternalStore:Iv,useId:Vv,unstable_isNewReconciler:!1};function bo(a,u){try{var p="",y=u;do p+=CC(y),y=y.return;while(y);var _=p}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:u,stack:_,digest:null}}function Wf(a,u,p){return{value:a,source:null,stack:p??null,digest:u??null}}function Xf(a,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var DC=typeof WeakMap=="function"?WeakMap:Map;function Qv(a,u,p){(p=Jn(-1,p)).tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){ah||(ah=!0,dp=y),Xf(0,u)},p}function qv(a,u,p){(p=Jn(-1,p)).tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;p.payload=function(){return y(_)},p.callback=function(){Xf(0,u)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(p.callback=function(){Xf(0,u),typeof y!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),p}function Kv(a,u,p){var y=a.pingCache;if(y===null){y=a.pingCache=new DC;var _=new Set;y.set(u,_)}else(_=y.get(u))===void 0&&(_=new Set,y.set(u,_));_.has(p)||(_.add(p),a=jC.bind(null,a,u,p),u.then(a,a))}function Zv(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function Jv(a,u,p,y,_){return 1&a.mode?(a.flags|=65536,a.lanes=_,a):(a===u?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((u=Jn(-1,1)).tag=2,Pi(p,u,1))),p.lanes|=1),a)}var FC=o.ReactCurrentOwner,ar=!1;function lr(a,u,p,y){u.child=a===null?Av(u,null,p,y):_o(u,a.child,p,y)}function e_(a,u,p,y,_){p=p.render;var b=u.ref;return vo(u,_),y=Gf(a,u,p,y,b,_),p=zf(),a===null||ar?(Ke&&p&&wf(u),u.flags|=1,lr(a,u,y,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ei(a,u,_))}function t_(a,u,p,y,_){if(a===null){var b=p.type;return typeof b!="function"||vp(b)||b.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((a=fh(p.type,null,y,u,u.mode,_)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=b,r_(a,u,b,y,_))}if(b=a.child,(a.lanes&_)==0){var C=b.memoizedProps;if((p=(p=p.compare)!==null?p:Du)(C,y)&&a.ref===u.ref)return ei(a,u,_)}return u.flags|=1,(a=Ni(b,y)).ref=u.ref,a.return=u,u.child=a}function r_(a,u,p,y,_){if(a!==null){var b=a.memoizedProps;if(Du(b,y)&&a.ref===u.ref){if(ar=!1,u.pendingProps=y=b,(a.lanes&_)==0)return u.lanes=a.lanes,ei(a,u,_);131072&a.flags&&(ar=!0)}}return Yf(a,u,p,y,_)}function n_(a,u,p){var y=u.pendingProps,_=y.children,b=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(So,_r),_r|=p;else{if(!(1073741824&p))return a=b!==null?b.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,He(So,_r),_r|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=b!==null?b.baseLanes:p,He(So,_r),_r|=y}else b!==null?(y=b.baseLanes|p,u.memoizedState=null):y=p,He(So,_r),_r|=y;return lr(a,u,_,p),u.child}function i_(a,u){var p=u.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Yf(a,u,p,y,_){var b=yr(p)?xs:Ht.current;return b=fo(u,b),vo(u,_),p=Gf(a,u,p,y,b,_),y=zf(),a===null||ar?(Ke&&y&&wf(u),u.flags|=1,lr(a,u,p,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ei(a,u,_))}function s_(a,u,p,y,_){if(yr(p)){var b=!0;Pu(u)}else b=!1;if(vo(u,_),u.stateNode===null)Ku(a,u),bv(u,p,y),Of(u,p,y,_),y=!0;else if(a===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var F=C.context,z=p.contextType;typeof z=="object"&&z!==null?z=Dr(z):z=fo(u,z=yr(p)?xs:Ht.current);var W=p.getDerivedStateFromProps,te=typeof W=="function"||typeof C.getSnapshotBeforeUpdate=="function";te||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==y||F!==z)&&Ev(u,C,y,z),Ci=!1;var V=u.memoizedState;C.state=V,Uu(u,y,C,_),F=u.memoizedState,I!==y||V!==F||or.current||Ci?(typeof W=="function"&&(Mf(u,p,W,y),F=u.memoizedState),(I=Ci||wv(u,p,I,y,V,F,z))?(te||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=F),C.props=y,C.state=F,C.context=z,y=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{C=u.stateNode,yv(a,u),I=u.memoizedProps,z=u.type===u.elementType?I:Zr(u.type,I),C.props=z,te=u.pendingProps,V=C.context,typeof(F=p.contextType)=="object"&&F!==null?F=Dr(F):F=fo(u,F=yr(p)?xs:Ht.current);var Z=p.getDerivedStateFromProps;(W=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==te||V!==F)&&Ev(u,C,y,F),Ci=!1,V=u.memoizedState,C.state=V,Uu(u,y,C,_);var ce=u.memoizedState;I!==te||V!==ce||or.current||Ci?(typeof Z=="function"&&(Mf(u,p,Z,y),ce=u.memoizedState),(z=Ci||wv(u,p,z,y,V,ce,F)||!1)?(W||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,ce,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,ce,F)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ce),C.props=y,C.state=ce,C.context=F,y=z):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),y=!1)}return Qf(a,u,p,y,b,_)}function Qf(a,u,p,y,_,b){i_(a,u);var C=(128&u.flags)!=0;if(!y&&!C)return _&&iv(u,p,!1),ei(a,u,b);y=u.stateNode,FC.current=u;var I=C&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&C?(u.child=_o(u,a.child,null,b),u.child=_o(u,null,I,b)):lr(a,u,I,b),u.memoizedState=y.state,_&&iv(u,p,!0),u.child}function o_(a){var u=a.stateNode;u.pendingContext?rv(0,u.pendingContext,u.pendingContext!==u.context):u.context&&rv(0,u.context,!1),Nf(a,u.containerInfo)}function a_(a,u,p,y,_){return go(),Tf(_),u.flags|=256,lr(a,u,p,y),u.child}var Va,Wa,Yu,Qu,qf={dehydrated:null,treeContext:null,retryLane:0};function Kf(a){return{baseLanes:a,cachePool:null,transitions:null}}function l_(a,u,p){var y,_=u.pendingProps,b=ut.current,C=!1,I=(128&u.flags)!=0;if((y=I)||(y=(a===null||a.memoizedState!==null)&&(2&b)!=0),y?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(b|=1),He(ut,1&b),a===null)return Sf(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?lf(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=_.children,a=_.fallback,C?(_=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&_)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=ph(I,_,0,null),a=Ps(a,_,p,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=Kf(p),u.memoizedState=qf,a):Zf(u,I));if((b=a.memoizedState)!==null&&(y=b.dehydrated)!==null)return function(z,W,te,V,Z,ce,be){if(te)return 256&W.flags?(W.flags&=-257,qu(z,W,be,V=Wf(Error(s(422))))):W.memoizedState!==null?(W.child=z.child,W.flags|=128,null):(ce=V.fallback,Z=W.mode,V=ph({mode:"visible",children:V.children},Z,0,null),(ce=Ps(ce,Z,be,null)).flags|=2,V.return=W,ce.return=W,V.sibling=ce,W.child=V,1&W.mode&&_o(W,z.child,null,be),W.child.memoizedState=Kf(be),W.memoizedState=qf,ce);if(!(1&W.mode))return qu(z,W,be,null);if(lf(Z))return V=rC(Z).digest,ce=Error(s(419)),V=Wf(ce,V,void 0),qu(z,W,be,V);if(te=(be&z.childLanes)!=0,ar||te){if((V=Pt)!==null){switch(be&-be){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}(Z=Z&(V.suspendedLanes|be)?0:Z)!==0&&Z!==ce.retryLane&&(ce.retryLane=Z,bn(z,Z),Br(V,z,Z,-1))}return yp(),qu(z,W,be,V=Wf(Error(s(421))))}return tv(Z)?(W.flags|=128,W.child=z.child,W=VC.bind(null,z),nC(Z,W),null):(z=ce.treeContext,Me&&(Nr=oC(Z),vr=W,Ke=!0,Kr=null,La=!1,z!==null&&(Mr[Or++]=wn,Mr[Or++]=Zn,Mr[Or++]=ws,wn=z.id,Zn=z.overflow,ws=W)),W=Zf(W,V.children),W.flags|=4096,W)}(a,u,I,_,y,b,p);if(C){C=_.fallback,I=u.mode,y=(b=a.child).sibling;var F={mode:"hidden",children:_.children};return!(1&I)&&u.child!==b?((_=u.child).childLanes=0,_.pendingProps=F,u.deletions=null):(_=Ni(b,F)).subtreeFlags=14680064&b.subtreeFlags,y!==null?C=Ni(y,C):(C=Ps(C,I,p,null)).flags|=2,C.return=u,_.return=u,_.sibling=C,u.child=_,_=C,C=u.child,I=(I=a.child.memoizedState)===null?Kf(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=a.childLanes&~p,u.memoizedState=qf,_}return a=(C=a.child).sibling,_=Ni(C,{mode:"visible",children:_.children}),!(1&u.mode)&&(_.lanes=p),_.return=u,_.sibling=null,a!==null&&((p=u.deletions)===null?(u.deletions=[a],u.flags|=16):p.push(a)),u.child=_,u.memoizedState=null,_}function Zf(a,u){return(u=ph({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function qu(a,u,p,y){return y!==null&&Tf(y),_o(u,a.child,null,p),(a=Zf(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function u_(a,u,p){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),If(a.return,u,p)}function Jf(a,u,p,y,_){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=y,b.tail=p,b.tailMode=_)}function h_(a,u,p){var y=u.pendingProps,_=y.revealOrder,b=y.tail;if(lr(a,u,y.children,p),(2&(y=ut.current))!=0)y=1&y|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&u_(a,p,u);else if(a.tag===19)u_(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(He(ut,y),(1&u.mode)==0)u.memoizedState=null;else switch(_){case"forwards":for(p=u.child,_=null;p!==null;)(a=p.alternate)!==null&&Hu(a)===null&&(_=p),p=p.sibling;(p=_)===null?(_=u.child,u.child=null):(_=p.sibling,p.sibling=null),Jf(u,!1,_,p,b);break;case"backwards":for(p=null,_=u.child,u.child=null;_!==null;){if((a=_.alternate)!==null&&Hu(a)===null){u.child=_;break}a=_.sibling,_.sibling=p,p=_,_=a}Jf(u,!0,p,null,b);break;case"together":Jf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ku(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ei(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),Ts|=u.lanes,(p&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(p=Ni(a=u.child,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,(p=p.sibling=Ni(a,a.pendingProps)).return=u;p.sibling=null}return u.child}function Tn(a){a.flags|=4}function c_(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Se)Va=function(a,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)q(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Wa=function(){},Yu=function(a,u,p,y,_){if((a=a.memoizedProps)!==y){var b=u.stateNode,C=En(Fr.current);p=ve(b,p,a,y,_,C),(u.updateQueue=p)&&Tn(u)}},Qu=function(a,u,p,y){p!==y&&Tn(u)};else if(Ve){Va=function(a,u,p,y){for(var _=u.child;_!==null;){if(_.tag===5){var b=_.stateNode;p&&y&&(b=J0(b,_.type,_.memoizedProps,_)),q(a,b)}else if(_.tag===6)b=_.stateNode,p&&y&&(b=ev(b,_.memoizedProps,_)),q(a,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(b=_.child)!==null&&(b.return=_),Va(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var d_=function(a,u,p,y){for(var _=u.child;_!==null;){if(_.tag===5){var b=_.stateNode;p&&y&&(b=J0(b,_.type,_.memoizedProps,_)),Z0(a,b)}else if(_.tag===6)b=_.stateNode,p&&y&&(b=ev(b,_.memoizedProps,_)),Z0(a,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(b=_.child)!==null&&(b.return=_),d_(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Wa=function(a,u){var p=u.stateNode;if(!c_(a,u)){a=p.containerInfo;var y=K0(a);d_(y,u,!1,!1),p.pendingChildren=y,Tn(u),ZA(a,y)}},Yu=function(a,u,p,y,_){var b=a.stateNode,C=a.memoizedProps;if((a=c_(a,u))&&C===y)u.stateNode=b;else{var I=u.stateNode,F=En(Fr.current),z=null;C!==y&&(z=ve(I,p,C,y,_,F)),a&&z===null?u.stateNode=b:(b=KA(b,z,p,C,y,u,a,I),we(b,p,y,_,F)&&Tn(u),u.stateNode=b,a?Tn(u):Va(b,u,!1,!1))}},Qu=function(a,u,p,y){p!==y?(a=En(xo.current),p=En(Fr.current),u.stateNode=Ee(y,a,p,u),Tn(u)):u.stateNode=a.stateNode}}else Wa=function(){},Yu=function(){},Qu=function(){};function Xa(a,u){if(!Ke)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Zt(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(u)for(var _=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=14680064&_.subtreeFlags,y|=14680064&_.flags,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=p,u}function LC(a,u,p){var y=u.pendingProps;switch(bf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(u),null;case 1:case 17:return yr(u.type)&&df(),Zt(u),null;case 3:return p=u.stateNode,wo(),qe(or),qe(Ht),Lf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),a!==null&&a.child!==null||(Nu(u)?Tn(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Kr!==null&&(mp(Kr),Kr=null))),Wa(a,u),Zt(u),null;case 5:Df(u),p=En(xo.current);var _=u.type;if(a!==null&&u.stateNode!=null)Yu(a,u,_,y,p),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(s(166));return Zt(u),null}if(a=En(Fr.current),Nu(u)){if(!Me)throw Error(s(175));a=aC(u.stateNode,u.type,u.memoizedProps,p,a,u,!La),u.updateQueue=a,a!==null&&Tn(u)}else{var b=B(_,y,p,a,u);Va(b,u,!1,!1),u.stateNode=b,we(b,_,y,p,a)&&Tn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zt(u),null;case 6:if(a&&u.stateNode!=null)Qu(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(s(166));if(a=En(xo.current),p=En(Fr.current),Nu(u)){if(!Me)throw Error(s(176));if(a=u.stateNode,p=u.memoizedProps,(y=lC(a,p,u,!La))&&(_=vr)!==null)switch(_.tag){case 3:gC(_.stateNode.containerInfo,a,p,(1&_.mode)!=0);break;case 5:yC(_.type,_.memoizedProps,_.stateNode,a,p,(1&_.mode)!=0)}y&&Tn(u)}else u.stateNode=Ee(y,a,p,u)}return Zt(u),null;case 13:if(qe(ut),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ke&&Nr!==null&&1&u.mode&&!(128&u.flags))pv(),go(),u.flags|=98560,_=!1;else if(_=Nu(u),y!==null&&y.dehydrated!==null){if(a===null){if(!_)throw Error(s(318));if(!Me)throw Error(s(344));if(!(_=(_=u.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));uC(_,u)}else go(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;Zt(u),_=!1}else Kr!==null&&(mp(Kr),Kr=null),_=!0;if(!_)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=p,u):((p=y!==null)!=(a!==null&&a.memoizedState!==null)&&p&&(u.child.flags|=8192,1&u.mode&&(a===null||1&ut.current?_t===0&&(_t=3):yp())),u.updateQueue!==null&&(u.flags|=4),Zt(u),null);case 4:return wo(),Wa(a,u),a===null&&kr(u.stateNode.containerInfo),Zt(u),null;case 10:return Pf(u.type._context),Zt(u),null;case 19:if(qe(ut),(_=u.memoizedState)===null)return Zt(u),null;if(y=(128&u.flags)!=0,(b=_.rendering)===null)if(y)Xa(_,!1);else{if(_t!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((b=Hu(a))!==null){for(u.flags|=128,Xa(_,!1),(a=b.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=p,p=u.child;p!==null;)_=a,(y=p).flags&=14680066,(b=y.alternate)===null?(y.childLanes=0,y.lanes=_,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,_=b.dependencies,y.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return He(ut,1&ut.current|2),u.child}a=a.sibling}_.tail!==null&&Tt()>cp&&(u.flags|=128,y=!0,Xa(_,!1),u.lanes=4194304)}else{if(!y)if((a=Hu(b))!==null){if(u.flags|=128,y=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),Xa(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!Ke)return Zt(u),null}else 2*Tt()-_.renderingStartTime>cp&&p!==1073741824&&(u.flags|=128,y=!0,Xa(_,!1),u.lanes=4194304);_.isBackwards?(b.sibling=u.child,u.child=b):((a=_.last)!==null?a.sibling=b:u.child=b,_.last=b)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Tt(),u.sibling=null,a=ut.current,He(ut,y?1&a|2:1&a),u):(Zt(u),null);case 22:case 23:return gp(),p=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(u.flags|=8192),p&&1&u.mode?1073741824&_r&&(Zt(u),Se&&6&u.subtreeFlags&&(u.flags|=8192)):Zt(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function BC(a,u){switch(bf(u),u.tag){case 1:return yr(u.type)&&df(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return wo(),qe(or),qe(Ht),Lf(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return Df(u),null;case 13:if(qe(ut),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));go()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return qe(ut),null;case 4:return wo(),null;case 10:return Pf(u.type._context),null;case 22:case 23:return gp(),null;default:return null}}var Zu=!1,jt=!1,UC=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Eo(a,u){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){Ze(a,u,y)}else p.current=null}function f_(a,u,p){try{p()}catch(y){Ze(a,u,y)}}var p_=!1;function Ya(a,u,p){var y=u.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var _=y=y.next;do{if((_.tag&a)===a){var b=_.destroy;_.destroy=void 0,b!==void 0&&f_(u,p,b)}_=_.next}while(_!==y)}}function Ju(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var p=u=u.next;do{if((p.tag&a)===a){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function ep(a){var u=a.ref;if(u!==null){var p=a.stateNode;a.tag===5?a=oe(p):a=p,typeof u=="function"?u(a):u.current=a}}function m_(a){var u=a.alternate;u!==null&&(a.alternate=null,m_(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&of(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function g_(a){return a.tag===5||a.tag===3||a.tag===4}function y_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||g_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function tp(a,u,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?$A(p,a,u):BA(p,a);else if(y!==4&&(a=a.child)!==null)for(tp(a,u,p),a=a.sibling;a!==null;)tp(a,u,p),a=a.sibling}function rp(a,u,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?HA(p,a,u):LA(p,a);else if(y!==4&&(a=a.child)!==null)for(rp(a,u,p),a=a.sibling;a!==null;)rp(a,u,p),a=a.sibling}var Jt=null,An=!1;function Cn(a,u,p){for(p=p.child;p!==null;)np(a,u,p),p=p.sibling}function np(a,u,p){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Ru,p)}catch{}switch(p.tag){case 5:jt||Eo(p,u);case 6:if(Se){var y=Jt,_=An;Jt=null,Cn(a,u,p),An=_,(Jt=y)!==null&&(An?VA(Jt,p.stateNode):jA(Jt,p.stateNode))}else Cn(a,u,p);break;case 18:Se&&Jt!==null&&(An?pC(Jt,p.stateNode):fC(Jt,p.stateNode));break;case 4:Se?(y=Jt,_=An,Jt=p.stateNode.containerInfo,An=!0,Cn(a,u,p),Jt=y,An=_):(Ve&&(y=p.stateNode.containerInfo,_=K0(y),af(y,_)),Cn(a,u,p));break;case 0:case 11:case 14:case 15:if(!jt&&(y=p.updateQueue)!==null&&(y=y.lastEffect)!==null){_=y=y.next;do{var b=_,C=b.destroy;b=b.tag,C!==void 0&&(2&b||4&b)&&f_(p,u,C),_=_.next}while(_!==y)}Cn(a,u,p);break;case 1:if(!jt&&(Eo(p,u),typeof(y=p.stateNode).componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(I){Ze(p,u,I)}Cn(a,u,p);break;case 21:Cn(a,u,p);break;case 22:1&p.mode?(jt=(y=jt)||p.memoizedState!==null,Cn(a,u,p),jt=y):Cn(a,u,p);break;default:Cn(a,u,p)}}function v_(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new UC),u.forEach(function(y){var _=WC.bind(null,a,y);p.has(y)||(p.add(y),y.then(_,_))})}}function Jr(a,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y];try{var b=a,C=u;if(Se){var I=C;e:for(;I!==null;){switch(I.tag){case 5:Jt=I.stateNode,An=!1;break e;case 3:case 4:Jt=I.stateNode.containerInfo,An=!0;break e}I=I.return}if(Jt===null)throw Error(s(160));np(b,C,_),Jt=null,An=!1}else np(b,C,_);var F=_.alternate;F!==null&&(F.return=null),_.return=null}catch(z){Ze(_,u,z)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)__(u,a),u=u.sibling}function __(a,u){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jr(u,a),Pn(a),4&y){try{Ya(3,a,a.return),Ju(3,a)}catch(V){Ze(a,a.return,V)}try{Ya(5,a,a.return)}catch(V){Ze(a,a.return,V)}}break;case 1:Jr(u,a),Pn(a),512&y&&p!==null&&Eo(p,p.return);break;case 5:if(Jr(u,a),Pn(a),512&y&&p!==null&&Eo(p,p.return),Se){if(32&a.flags){var _=a.stateNode;try{q0(_)}catch(V){Ze(a,a.return,V)}}if(4&y&&(_=a.stateNode)!=null){var b=a.memoizedProps;if(p=p!==null?p.memoizedProps:b,y=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{zA(_,u,y,p,b,a)}catch(V){Ze(a,a.return,V)}}}break;case 6:if(Jr(u,a),Pn(a),4&y&&Se){if(a.stateNode===null)throw Error(s(162));_=a.stateNode,b=a.memoizedProps,p=p!==null?p.memoizedProps:b;try{UA(_,p,b)}catch(V){Ze(a,a.return,V)}}break;case 3:if(Jr(u,a),Pn(a),4&y){if(Se&&Me&&p!==null&&p.memoizedState.isDehydrated)try{cC(u.containerInfo)}catch(V){Ze(a,a.return,V)}if(Ve){_=u.containerInfo,b=u.pendingChildren;try{af(_,b)}catch(V){Ze(a,a.return,V)}}}break;case 4:if(Jr(u,a),Pn(a),4&y&&Ve){_=(b=a.stateNode).containerInfo,b=b.pendingChildren;try{af(_,b)}catch(V){Ze(a,a.return,V)}}break;case 13:Jr(u,a),Pn(a),8192&(_=a.child).flags&&(b=_.memoizedState!==null,_.stateNode.isHidden=b,!b||_.alternate!==null&&_.alternate.memoizedState!==null||(hp=Tt())),4&y&&v_(a);break;case 22:var C=p!==null&&p.memoizedState!==null;if(1&a.mode?(jt=(p=jt)||C,Jr(u,a),jt=p):Jr(u,a),Pn(a),8192&y){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!C&&(1&a.mode)!=0)for(ue=a,y=a.child;y!==null;){for(u=ue=y;ue!==null;){var I=(C=ue).child;switch(C.tag){case 0:case 11:case 14:case 15:Ya(4,C,C.return);break;case 1:Eo(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){var z=C,W=C.return;try{var te=z;F.props=te.memoizedProps,F.state=te.memoizedState,F.componentWillUnmount()}catch(V){Ze(z,W,V)}}break;case 5:Eo(C,C.return);break;case 22:if(C.memoizedState!==null){b_(u);continue}}I!==null?(I.return=C,ue=I):b_(u)}y=y.sibling}if(Se){e:if(y=null,Se)for(u=a;;){if(u.tag===5){if(y===null){y=u;try{_=u.stateNode,p?WA(_):YA(u.stateNode,u.memoizedProps)}catch(V){Ze(a,a.return,V)}}}else if(u.tag===6){if(y===null)try{b=u.stateNode,p?XA(b):QA(b,u.memoizedProps)}catch(V){Ze(a,a.return,V)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;y===u&&(y=null),u=u.return}y===u&&(y=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Jr(u,a),Pn(a),4&y&&v_(a);break;case 21:break;default:Jr(u,a),Pn(a)}}function Pn(a){var u=a.flags;if(2&u){try{if(Se){e:{for(var p=a.return;p!==null;){if(g_(p)){var y=p;break e}p=p.return}throw Error(s(160))}switch(y.tag){case 5:var _=y.stateNode;32&y.flags&&(q0(_),y.flags&=-33),rp(a,y_(a),_);break;case 3:case 4:var b=y.stateNode.containerInfo;tp(a,y_(a),b);break;default:throw Error(s(161))}}}catch(C){Ze(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function GC(a,u,p){ue=a,x_(a)}function x_(a,u,p){for(var y=(1&a.mode)!=0;ue!==null;){var _=ue,b=_.child;if(_.tag===22&&y){var C=_.memoizedState!==null||Zu;if(!C){var I=_.alternate,F=I!==null&&I.memoizedState!==null||jt;I=Zu;var z=jt;if(Zu=C,(jt=F)&&!z)for(ue=_;ue!==null;)F=(C=ue).child,C.tag===22&&C.memoizedState!==null?E_(_):F!==null?(F.return=C,ue=F):E_(_);for(;b!==null;)ue=b,x_(b),b=b.sibling;ue=_,Zu=I,jt=z}w_(a)}else 8772&_.subtreeFlags&&b!==null?(b.return=_,ue=b):w_(a)}}function w_(a){for(;ue!==null;){var u=ue;if(8772&u.flags){var p=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:jt||Ju(5,u);break;case 1:var y=u.stateNode;if(4&u.flags&&!jt)if(p===null)y.componentDidMount();else{var _=u.elementType===u.type?p.memoizedProps:Zr(u.type,p.memoizedProps);y.componentDidUpdate(_,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&_v(u,b,y);break;case 3:var C=u.updateQueue;if(C!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=oe(u.child.stateNode);break;case 1:p=u.child.stateNode}_v(u,C,p)}break;case 5:var I=u.stateNode;p===null&&4&u.flags&&GA(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Me&&u.memoizedState===null){var F=u.alternate;if(F!==null){var z=F.memoizedState;if(z!==null){var W=z.dehydrated;W!==null&&dC(W)}}}break;default:throw Error(s(163))}jt||512&u.flags&&ep(u)}catch(te){Ze(u,u.return,te)}}if(u===a){ue=null;break}if((p=u.sibling)!==null){p.return=u.return,ue=p;break}ue=u.return}}function b_(a){for(;ue!==null;){var u=ue;if(u===a){ue=null;break}var p=u.sibling;if(p!==null){p.return=u.return,ue=p;break}ue=u.return}}function E_(a){for(;ue!==null;){var u=ue;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Ju(4,u)}catch(F){Ze(u,p,F)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var _=u.return;try{y.componentDidMount()}catch(F){Ze(u,_,F)}}var b=u.return;try{ep(u)}catch(F){Ze(u,b,F)}break;case 5:var C=u.return;try{ep(u)}catch(F){Ze(u,C,F)}}}catch(F){Ze(u,u.return,F)}if(u===a){ue=null;break}var I=u.sibling;if(I!==null){I.return=u.return,ue=I;break}ue=u.return}}var eh=0,th=1,rh=2,nh=3,ih=4;if(typeof Symbol=="function"&&Symbol.for){var Qa=Symbol.for;eh=Qa("selector.component"),th=Qa("selector.has_pseudo_class"),rh=Qa("selector.role"),nh=Qa("selector.test_id"),ih=Qa("selector.text")}function ip(a){var u=Rr(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=kA(a))===null)throw Error(s(362));return a.stateNode.current}function sp(a,u){switch(u.$$typeof){case eh:if(a.type===u.value)return!0;break;case th:e:{u=u.value,a=[a,0];for(var p=0;p<a.length;){var y=a[p++],_=a[p++],b=u[_];if(y.tag!==5||!Oa(y)){for(;b!=null&&sp(y,b);)b=u[++_];if(_===u.length){u=!0;break e}for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}u=!1}return u;case rh:if(a.tag===5&&NA(a.stateNode,u.value))return!0;break;case ih:if((a.tag===5||a.tag===6)&&(a=OA(a))!==null&&0<=a.indexOf(u.value))return!0;break;case nh:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function op(a){switch(a.$$typeof){case eh:return"<"+(L(a.value)||"Unknown")+">";case th:return":has("+(op(a)||"")+")";case rh:return'[role="'+a.value+'"]';case ih:return'"'+a.value+'"';case nh:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function S_(a,u){var p=[];a=[a,0];for(var y=0;y<a.length;){var _=a[y++],b=a[y++],C=u[b];if(_.tag!==5||!Oa(_)){for(;C!=null&&sp(_,C);)C=u[++b];if(b===u.length)p.push(_);else for(_=_.child;_!==null;)a.push(_,b),_=_.sibling}}return p}function ap(a,u){if(!Ma)throw Error(s(363));a=S_(a=ip(a),u),u=[],a=Array.from(a);for(var p=0;p<a.length;){var y=a[p++];if(y.tag===5)Oa(y)||u.push(y.stateNode);else for(y=y.child;y!==null;)a.push(y),y=y.sibling}return u}var zC=Math.ceil,sh=o.ReactCurrentDispatcher,lp=o.ReactCurrentOwner,dt=o.ReactCurrentBatchConfig,Re=0,Pt=null,gt=null,Ft=0,_r=0,So=Ti(0),_t=0,qa=null,Ts=0,oh=0,up=0,Ka=null,xr=null,hp=0,cp=1/0,Ii=null;function To(){cp=Tt()+500}var T_,ah=!1,dp=null,Ri=null,lh=!1,ki=null,uh=0,Za=0,fp=null,hh=-1,ch=0;function Vt(){return 6&Re?Tt():hh!==-1?hh:hh=Tt()}function Mi(a){return 1&a.mode?2&Re&&Ft!==0?Ft&-Ft:AC.transition!==null?(ch===0&&(ch=sv()),ch):(a=Oe)!==0?a:_s():1}function Br(a,u,p,y){if(50<Za)throw Za=0,fp=null,Error(s(185));Fa(a,p,y),2&Re&&a===Pt||(a===Pt&&(!(2&Re)&&(oh|=p),_t===4&&Oi(a,Ft)),ur(a,y),p===1&&Re===0&&!(1&u.mode)&&(To(),ku&&xn()))}function ur(a,u){var p=a.callbackNode;(function(_,b){for(var C=_.suspendedLanes,I=_.pingedLanes,F=_.expirationTimes,z=_.pendingLanes;0<z;){var W=31-Qr(z),te=1<<W,V=F[W];V===-1?te&C&&!(te&I)||(F[W]=wC(te,b)):V<=b&&(_.expiredLanes|=te),z&=~te}})(a,u);var y=Iu(a,a===Pt?Ft:0);if(y===0)p!==null&&av(p),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(p!=null&&av(p),u===1)a.tag===0?function(_){ku=!0,uv(_)}(C_.bind(null,a)):uv(C_.bind(null,a)),ho?RA(function(){!(6&Re)&&xn()}):vf(_f,xn),p=null;else{switch(ov(y)){case 1:p=_f;break;case 4:p=SC;break;case 16:default:p=lv;break;case 536870912:p=TC}p=D_(p,A_.bind(null,a))}a.callbackPriority=u,a.callbackNode=p}}function A_(a,u){if(hh=-1,ch=0,(6&Re)!=0)throw Error(s(327));var p=a.callbackNode;if(Cs()&&a.callbackNode!==p)return null;var y=Iu(a,a===Pt?Ft:0);if(y===0)return null;if(30&y||y&a.expiredLanes||u)u=dh(a,y);else{u=y;var _=Re;Re|=2;var b=R_();for(Pt===a&&Ft===u||(Ii=null,To(),As(a,u));;)try{$C();break}catch(I){I_(a,I)}Cf(),sh.current=b,Re=_,gt!==null?u=0:(Pt=null,Ft=0,u=_t)}if(u!==0){if(u===2&&(_=mf(a))!==0&&(y=_,u=pp(a,_)),u===1)throw p=qa,As(a,0),Oi(a,y),ur(a,Tt()),p;if(u===6)Oi(a,y);else{if(_=a.current.alternate,(30&y)==0&&!function(I){for(var F=I;;){if(16384&F.flags){var z=F.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var W=0;W<z.length;W++){var te=z[W],V=te.getSnapshot;te=te.value;try{if(!qr(V(),te))return!1}catch{return!1}}}if(z=F.child,16384&F.subtreeFlags&&z!==null)z.return=F,F=z;else{if(F===I)break;for(;F.sibling===null;){if(F.return===null||F.return===I)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(_)&&((u=dh(a,y))===2&&(b=mf(a))!==0&&(y=b,u=pp(a,b)),u===1))throw p=qa,As(a,0),Oi(a,y),ur(a,Tt()),p;switch(a.finishedWork=_,a.finishedLanes=y,u){case 0:case 1:throw Error(s(345));case 2:case 5:Ao(a,xr,Ii);break;case 3:if(Oi(a,y),(130023424&y)===y&&10<(u=hp+500-Tt())){if(Iu(a,0)!==0)break;if(((_=a.suspendedLanes)&y)!==y){Vt(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=De(Ao.bind(null,a,xr,Ii),u);break}Ao(a,xr,Ii);break;case 4:if(Oi(a,y),(4194240&y)===y)break;for(u=a.eventTimes,_=-1;0<y;){var C=31-Qr(y);b=1<<C,(C=u[C])>_&&(_=C),y&=~b}if(y=_,10<(y=(120>(y=Tt()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*zC(y/1960))-y)){a.timeoutHandle=De(Ao.bind(null,a,xr,Ii),y);break}Ao(a,xr,Ii);break;default:throw Error(s(329))}}}return ur(a,Tt()),a.callbackNode===p?A_.bind(null,a):null}function pp(a,u){var p=Ka;return a.current.memoizedState.isDehydrated&&(As(a,u).flags|=256),(a=dh(a,u))!==2&&(u=xr,xr=p,u!==null&&mp(u)),a}function mp(a){xr===null?xr=a:xr.push.apply(xr,a)}function Oi(a,u){for(u&=~up,u&=~oh,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var p=31-Qr(u),y=1<<p;a[p]=-1,u&=~y}}function C_(a){if(6&Re)throw Error(s(327));Cs();var u=Iu(a,0);if(!(1&u))return ur(a,Tt()),null;var p=dh(a,u);if(a.tag!==0&&p===2){var y=mf(a);y!==0&&(u=y,p=pp(a,y))}if(p===1)throw p=qa,As(a,0),Oi(a,u),ur(a,Tt()),p;if(p===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ao(a,xr,Ii),ur(a,Tt()),null}function P_(a){ki!==null&&ki.tag===0&&!(6&Re)&&Cs();var u=Re;Re|=1;var p=dt.transition,y=Oe;try{if(dt.transition=null,Oe=1,a)return a()}finally{Oe=y,dt.transition=p,!(6&(Re=u))&&xn()}}function gp(){_r=So.current,qe(So)}function As(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==Dt&&(a.timeoutHandle=Dt,St(p)),gt!==null)for(p=gt.return;p!==null;){var y=p;switch(bf(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&df();break;case 3:wo(),qe(or),qe(Ht),Lf();break;case 5:Df(y);break;case 4:wo();break;case 13:case 19:qe(ut);break;case 10:Pf(y.type._context);break;case 22:case 23:gp()}p=p.return}if(Pt=a,gt=a=Ni(a.current,null),Ft=_r=u,_t=0,qa=null,up=oh=Ts=0,xr=Ka=null,Es!==null){for(u=0;u<Es.length;u++)if((y=(p=Es[u]).interleaved)!==null){p.interleaved=null;var _=y.next,b=p.pending;if(b!==null){var C=b.next;b.next=_,y.next=C}p.pending=y}Es=null}return a}function I_(a,u){for(;;){var p=gt;try{if(Cf(),$u.current=Xu,ju){for(var y=tt.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}ju=!1}if(Ss=0,Ct=At=tt=null,za=!1,Ha=0,lp.current=null,p===null||p.return===null){_t=1,qa=u,gt=null;break}e:{var b=a,C=p.return,I=p,F=u;if(u=Ft,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var z=F,W=I,te=W.tag;if(!(1&W.mode)&&(te===0||te===11||te===15)){var V=W.alternate;V?(W.updateQueue=V.updateQueue,W.memoizedState=V.memoizedState,W.lanes=V.lanes):(W.updateQueue=null,W.memoizedState=null)}var Z=Zv(C);if(Z!==null){Z.flags&=-257,Jv(Z,C,I,0,u),1&Z.mode&&Kv(b,z,u),F=z;var ce=(u=Z).updateQueue;if(ce===null){var be=new Set;be.add(F),u.updateQueue=be}else ce.add(F);break e}if(!(1&u)){Kv(b,z,u),yp();break e}F=Error(s(426))}else if(Ke&&1&I.mode){var X=Zv(C);if(X!==null){!(65536&X.flags)&&(X.flags|=256),Jv(X,C,I,0,u),Tf(bo(F,I));break e}}b=F=bo(F,I),_t!==4&&(_t=2),Ka===null?Ka=[b]:Ka.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u,vv(b,Qv(0,F,u));break e;case 1:I=F;var O=b.type,G=b.stateNode;if(!(128&b.flags)&&(typeof O.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ri===null||!Ri.has(G)))){b.flags|=65536,u&=-u,b.lanes|=u,vv(b,qv(b,I,u));break e}}b=b.return}while(b!==null)}M_(p)}catch(Q){u=Q,gt===p&&p!==null&&(gt=p=p.return);continue}break}}function R_(){var a=sh.current;return sh.current=Xu,a===null?Xu:a}function yp(){_t!==0&&_t!==3&&_t!==2||(_t=4),Pt===null||!(268435455&Ts)&&!(268435455&oh)||Oi(Pt,Ft)}function dh(a,u){var p=Re;Re|=2;var y=R_();for(Pt===a&&Ft===u||(Ii=null,As(a,u));;)try{HC();break}catch(_){I_(a,_)}if(Cf(),Re=p,sh.current=y,gt!==null)throw Error(s(261));return Pt=null,Ft=0,_t}function HC(){for(;gt!==null;)k_(gt)}function $C(){for(;gt!==null&&!bC();)k_(gt)}function k_(a){var u=T_(a.alternate,a,_r);a.memoizedProps=a.pendingProps,u===null?M_(a):gt=u,lp.current=null}function M_(a){var u=a;do{var p=u.alternate;if(a=u.return,(32768&u.flags)==0){if((p=LC(p,u,_r))!==null)return void(gt=p)}else{if((p=BC(p,u))!==null)return p.flags&=32767,void(gt=p);if(a===null)return _t=6,void(gt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(gt=u);gt=u=a}while(u!==null);_t===0&&(_t=5)}function Ao(a,u,p){var y=Oe,_=dt.transition;try{dt.transition=null,Oe=1,function(b,C,I,F){do Cs();while(ki!==null);if(6&Re)throw Error(s(327));I=b.finishedWork;var z=b.finishedLanes;if(I===null)return null;if(b.finishedWork=null,b.finishedLanes=0,I===b.current)throw Error(s(177));b.callbackNode=null,b.callbackPriority=0;var W=I.lanes|I.childLanes;if(function(Z,ce){var be=Z.pendingLanes&~ce;Z.pendingLanes=ce,Z.suspendedLanes=0,Z.pingedLanes=0,Z.expiredLanes&=ce,Z.mutableReadLanes&=ce,Z.entangledLanes&=ce,ce=Z.entanglements;var X=Z.eventTimes;for(Z=Z.expirationTimes;0<be;){var O=31-Qr(be),G=1<<O;ce[O]=0,X[O]=-1,Z[O]=-1,be&=~G}}(b,W),b===Pt&&(gt=Pt=null,Ft=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||lh||(lh=!0,D_(lv,function(){return Cs(),null})),W=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||W){W=dt.transition,dt.transition=null;var te=Oe;Oe=1;var V=Re;Re|=4,lp.current=null,function(Z,ce){for($(Z.containerInfo),ue=ce;ue!==null;)if(ce=(Z=ue).child,(1028&Z.subtreeFlags)!=0&&ce!==null)ce.return=Z,ue=ce;else for(;ue!==null;){Z=ue;try{var be=Z.alternate;if(1024&Z.flags)switch(Z.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(be!==null){var X=be.memoizedProps,O=be.memoizedState,G=Z.stateNode,Q=G.getSnapshotBeforeUpdate(Z.elementType===Z.type?X:Zr(Z.type,X),O);G.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:Se&&qA(Z.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ge){Ze(Z,Z.return,ge)}if((ce=Z.sibling)!==null){ce.return=Z.return,ue=ce;break}ue=Z.return}be=p_,p_=!1}(b,I),__(I,b),D(b.containerInfo),b.current=I,GC(I),EC(),Re=V,Oe=te,dt.transition=W}else b.current=I;if(lh&&(lh=!1,ki=b,uh=z),W=b.pendingLanes,W===0&&(Ri=null),function(Z){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Ru,Z,void 0,(128&Z.current.flags)==128)}catch{}}(I.stateNode),ur(b,Tt()),C!==null)for(F=b.onRecoverableError,I=0;I<C.length;I++)z=C[I],F(z.value,{componentStack:z.stack,digest:z.digest});if(ah)throw ah=!1,b=dp,dp=null,b;1&uh&&b.tag!==0&&Cs(),W=b.pendingLanes,1&W?b===fp?Za++:(Za=0,fp=b):Za=0,xn()}(a,u,p,y)}finally{dt.transition=_,Oe=y}return null}function Cs(){if(ki!==null){var a=ov(uh),u=dt.transition,p=Oe;try{if(dt.transition=null,Oe=16>a?16:a,ki===null)var y=!1;else{if(a=ki,ki=null,uh=0,(6&Re)!=0)throw Error(s(331));var _=Re;for(Re|=4,ue=a.current;ue!==null;){var b=ue,C=b.child;if(16&ue.flags){var I=b.deletions;if(I!==null){for(var F=0;F<I.length;F++){var z=I[F];for(ue=z;ue!==null;){var W=ue;switch(W.tag){case 0:case 11:case 15:Ya(8,W,b)}var te=W.child;if(te!==null)te.return=W,ue=te;else for(;ue!==null;){var V=(W=ue).sibling,Z=W.return;if(m_(W),W===z){ue=null;break}if(V!==null){V.return=Z,ue=V;break}ue=Z}}}var ce=b.alternate;if(ce!==null){var be=ce.child;if(be!==null){ce.child=null;do{var X=be.sibling;be.sibling=null,be=X}while(be!==null)}}ue=b}}if(2064&b.subtreeFlags&&C!==null)C.return=b,ue=C;else e:for(;ue!==null;){if(2048&(b=ue).flags)switch(b.tag){case 0:case 11:case 15:Ya(9,b,b.return)}var O=b.sibling;if(O!==null){O.return=b.return,ue=O;break e}ue=b.return}}var G=a.current;for(ue=G;ue!==null;){var Q=(C=ue).child;if(2064&C.subtreeFlags&&Q!==null)Q.return=C,ue=Q;else e:for(C=G;ue!==null;){if(2048&(I=ue).flags)try{switch(I.tag){case 0:case 11:case 15:Ju(9,I)}}catch(Le){Ze(I,I.return,Le)}if(I===C){ue=null;break e}var ge=I.sibling;if(ge!==null){ge.return=I.return,ue=ge;break e}ue=I.return}}if(Re=_,xn(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Ru,a)}catch{}y=!0}return y}finally{Oe=p,dt.transition=u}}return!1}function O_(a,u,p){a=Pi(a,u=Qv(0,u=bo(p,u),1),1),u=Vt(),a!==null&&(Fa(a,1,u),ur(a,u))}function Ze(a,u,p){if(a.tag===3)O_(a,a,p);else for(;u!==null;){if(u.tag===3){O_(u,a,p);break}if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ri===null||!Ri.has(y))){u=Pi(u,a=qv(u,a=bo(p,a),1),1),a=Vt(),u!==null&&(Fa(u,1,a),ur(u,a));break}}u=u.return}}function jC(a,u,p){var y=a.pingCache;y!==null&&y.delete(u),u=Vt(),a.pingedLanes|=a.suspendedLanes&p,Pt===a&&(Ft&p)===p&&(_t===4||_t===3&&(130023424&Ft)===Ft&&500>Tt()-hp?As(a,0):up|=p),ur(a,u)}function N_(a,u){u===0&&(1&a.mode?(u=pf,!(130023424&(pf<<=1))&&(pf=4194304)):u=1);var p=Vt();(a=bn(a,u))!==null&&(Fa(a,u,p),ur(a,p))}function VC(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),N_(a,p)}function WC(a,u){var p=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(u),N_(a,p)}function D_(a,u){return vf(a,u)}function XC(a,u,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,u,p,y){return new XC(a,u,p,y)}function vp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ni(a,u){var p=a.alternate;return p===null?((p=Ur(a.tag,u,a.key,a.mode)).elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&a.flags,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function fh(a,u,p,y,_,b){var C=2;if(y=a,typeof a=="function")vp(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case d:return Ps(p.children,_,b,u);case g:C=8,_|=8;break;case c:return(a=Ur(12,p,u,2|_)).elementType=c,a.lanes=b,a;case w:return(a=Ur(13,p,u,_)).elementType=w,a.lanes=b,a;case T:return(a=Ur(19,p,u,_)).elementType=T,a.lanes=b,a;case S:return ph(p,_,b,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case f:C=10;break e;case m:C=9;break e;case v:C=11;break e;case x:C=14;break e;case E:C=16,y=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=Ur(C,p,u,_)).elementType=a,u.type=y,u.lanes=b,u}function Ps(a,u,p,y){return(a=Ur(7,a,y,u)).lanes=p,a}function ph(a,u,p,y){return(a=Ur(22,a,y,u)).elementType=S,a.lanes=p,a.stateNode={isHidden:!1},a}function _p(a,u,p){return(a=Ur(6,a,null,u)).lanes=p,a}function xp(a,u,p){return(u=Ur(4,a.children!==null?a.children:[],a.key,u)).lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function YC(a,u,p,y,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Dt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=y,this.onRecoverableError=_,Me&&(this.mutableSourceEagerHydrationData=null)}function F_(a,u,p,y,_,b,C,I,F){return a=new YC(a,u,p,I,F),u===1?(u=1,b===!0&&(u|=8)):u=0,b=Ur(3,null,null,u),a.current=b,b.stateNode=a,b.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(b),a}function L_(a){if(!a)return Ai;e:{if(R(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var p=a.type;if(yr(p))return nv(a,p,u)}return u}function B_(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=re(u))===null?null:a.stateNode}function U_(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function mh(a,u){U_(a,u),(a=a.alternate)&&U_(a,u)}function QC(a){return(a=re(a))===null?null:a.stateNode}function qC(){return null}return T_=function(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps||or.current)ar=!0;else{if(!(a.lanes&p)&&!(128&u.flags))return ar=!1,function(te,V,Z){switch(V.tag){case 3:o_(V),go();break;case 5:Cv(V);break;case 1:yr(V.type)&&Pu(V);break;case 4:Nf(V,V.stateNode.containerInfo);break;case 10:mv(0,V.type._context,V.memoizedProps.value);break;case 13:var ce=V.memoizedState;if(ce!==null)return ce.dehydrated!==null?(He(ut,1&ut.current),V.flags|=128,null):Z&V.child.childLanes?l_(te,V,Z):(He(ut,1&ut.current),(te=ei(te,V,Z))!==null?te.sibling:null);He(ut,1&ut.current);break;case 19:if(ce=(Z&V.childLanes)!=0,(128&te.flags)!=0){if(ce)return h_(te,V,Z);V.flags|=128}var be=V.memoizedState;if(be!==null&&(be.rendering=null,be.tail=null,be.lastEffect=null),He(ut,ut.current),ce)break;return null;case 22:case 23:return V.lanes=0,n_(te,V,Z)}return ei(te,V,Z)}(a,u,p);ar=(131072&a.flags)!=0}else ar=!1,Ke&&1048576&u.flags&&hv(u,Ou,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Ku(a,u),a=u.pendingProps;var _=fo(u,Ht.current);vo(u,p),_=Gf(null,u,y,a,_,p);var b=zf();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,yr(y)?(b=!0,Pu(u)):b=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,kf(u),_.updater=Gu,u.stateNode=_,_._reactInternals=u,Of(u,y,a,p),u=Qf(null,u,y,!0,b,p)):(u.tag=0,Ke&&b&&wf(u),lr(null,u,_,p),u=u.child),u;case 16:y=u.elementType;e:{switch(Ku(a,u),a=u.pendingProps,y=(_=y._init)(y._payload),u.type=y,_=u.tag=function(te){if(typeof te=="function")return vp(te)?1:0;if(te!=null){if((te=te.$$typeof)===v)return 11;if(te===x)return 14}return 2}(y),a=Zr(y,a),_){case 0:u=Yf(null,u,y,a,p);break e;case 1:u=s_(null,u,y,a,p);break e;case 11:u=e_(null,u,y,a,p);break e;case 14:u=t_(null,u,y,Zr(y.type,a),p);break e}throw Error(s(306,y,""))}return u;case 0:return y=u.type,_=u.pendingProps,Yf(a,u,y,_=u.elementType===y?_:Zr(y,_),p);case 1:return y=u.type,_=u.pendingProps,s_(a,u,y,_=u.elementType===y?_:Zr(y,_),p);case 3:e:{if(o_(u),a===null)throw Error(s(387));y=u.pendingProps,_=(b=u.memoizedState).element,yv(a,u),Uu(u,y,null,p);var C=u.memoizedState;if(y=C.element,Me&&b.isDehydrated){if(b={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=b,u.memoizedState=b,256&u.flags){u=a_(a,u,y,p,_=bo(Error(s(423)),u));break e}if(y!==_){u=a_(a,u,y,p,_=bo(Error(s(424)),u));break e}for(Me&&(Nr=sC(u.stateNode.containerInfo),vr=u,Ke=!0,Kr=null,La=!1),p=Av(u,null,y,p),u.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(go(),y===_){u=ei(a,u,p);break e}lr(a,u,y,p)}u=u.child}return u;case 5:return Cv(u),a===null&&Sf(u),y=u.type,_=u.pendingProps,b=a!==null?a.memoizedProps:null,C=_.children,Fe(y,_)?C=null:b!==null&&Fe(y,b)&&(u.flags|=32),i_(a,u),lr(a,u,C,p),u.child;case 6:return a===null&&Sf(u),null;case 13:return l_(a,u,p);case 4:return Nf(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=_o(u,null,y,p):lr(a,u,y,p),u.child;case 11:return y=u.type,_=u.pendingProps,e_(a,u,y,_=u.elementType===y?_:Zr(y,_),p);case 7:return lr(a,u,u.pendingProps,p),u.child;case 8:case 12:return lr(a,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,_=u.pendingProps,b=u.memoizedProps,mv(0,y,C=_.value),b!==null)if(qr(b.value,C)){if(b.children===_.children&&!or.current){u=ei(a,u,p);break e}}else for((b=u.child)!==null&&(b.return=u);b!==null;){var I=b.dependencies;if(I!==null){C=b.child;for(var F=I.firstContext;F!==null;){if(F.context===y){if(b.tag===1){(F=Jn(-1,p&-p)).tag=2;var z=b.updateQueue;if(z!==null){var W=(z=z.shared).pending;W===null?F.next=F:(F.next=W.next,W.next=F),z.pending=F}}b.lanes|=p,(F=b.alternate)!==null&&(F.lanes|=p),If(b.return,p,u),I.lanes|=p;break}F=F.next}}else if(b.tag===10)C=b.type===u.type?null:b.child;else if(b.tag===18){if((C=b.return)===null)throw Error(s(341));C.lanes|=p,(I=C.alternate)!==null&&(I.lanes|=p),If(C,p,u),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===u){C=null;break}if((b=C.sibling)!==null){b.return=C.return,C=b;break}C=C.return}b=C}lr(a,u,_.children,p),u=u.child}return u;case 9:return _=u.type,y=u.pendingProps.children,vo(u,p),y=y(_=Dr(_)),u.flags|=1,lr(a,u,y,p),u.child;case 14:return _=Zr(y=u.type,u.pendingProps),t_(a,u,y,_=Zr(y.type,_),p);case 15:return r_(a,u,u.type,u.pendingProps,p);case 17:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:Zr(y,_),Ku(a,u),u.tag=1,yr(y)?(a=!0,Pu(u)):a=!1,vo(u,p),bv(u,y,_),Of(u,y,_,p),Qf(null,u,y,!0,a,p);case 19:return h_(a,u,p);case 22:return n_(a,u,p)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=bn(a,134217728);u!==null&&Br(u,a,134217728,Vt()),mh(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=bn(a,1);u!==null&&Br(u,a,1,Vt()),mh(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Mi(a),p=bn(a,u);p!==null&&Br(p,a,u,Vt()),mh(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var p=Da(u.pendingLanes);p!==0&&(yf(u,1|p),ur(u,Tt()),!(6&Re)&&(To(),xn()))}break;case 13:P_(function(){var y=bn(a,1);if(y!==null){var _=Vt();Br(y,a,1,_)}}),mh(a,1)}},e.batchedUpdates=function(a,u){var p=Re;Re|=1;try{return a(u)}finally{(Re=p)===0&&(To(),ku&&xn())}},e.createComponentSelector=function(a){return{$$typeof:eh,value:a}},e.createContainer=function(a,u,p,y,_,b,C){return F_(a,u,!1,null,0,y,0,b,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:th,value:a}},e.createHydrationContainer=function(a,u,p,y,_,b,C,I,F){return(a=F_(p,y,!0,a,0,b,0,I,F)).context=L_(null),p=a.current,(b=Jn(y=Vt(),_=Mi(p))).callback=u??null,Pi(p,b,_),a.current.lanes=_,Fa(a,_,y),ur(a,y),a},e.createPortal=function(a,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:y==null?null:""+y,children:a,containerInfo:u,implementation:p}},e.createRoleSelector=function(a){return{$$typeof:rh,value:a}},e.createTestNameSelector=function(a){return{$$typeof:nh,value:a}},e.createTextSelector=function(a){return{$$typeof:ih,value:a}},e.deferredUpdates=function(a){var u=Oe,p=dt.transition;try{return dt.transition=null,Oe=16,a()}finally{Oe=u,dt.transition=p}},e.discreteUpdates=function(a,u,p,y,_){var b=Oe,C=dt.transition;try{return dt.transition=null,Oe=1,a(u,p,y,_)}finally{Oe=b,dt.transition=C,Re===0&&To()}},e.findAllNodes=ap,e.findBoundingRects=function(a,u){if(!Ma)throw Error(s(363));u=ap(a,u),a=[];for(var p=0;p<u.length;p++)a.push(MA(u[p]));for(u=a.length-1;0<u;u--)for(var y=(p=a[u]).x,_=y+p.width,b=p.y,C=b+p.height,I=u-1;0<=I;I--)if(u!==I){var F=a[I],z=F.x,W=z+F.width,te=F.y,V=te+F.height;if(y>=z&&b>=te&&_<=W&&C<=V){a.splice(u,1);break}if(!(y!==z||p.width!==F.width||V<b||te>C)){te>b&&(F.height+=te-b,F.y=b),V<C&&(F.height=C-te),a.splice(u,1);break}if(!(b!==te||p.height!==F.height||W<y||z>_)){z>y&&(F.width+=z-y,F.x=y),W<_&&(F.width=_-z),a.splice(u,1);break}}return a},e.findHostInstance=B_,e.findHostInstanceWithNoPortals=function(a){return(a=(a=H(a))!==null?N(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return B_(a)},e.flushControlled=function(a){var u=Re;Re|=1;var p=dt.transition,y=Oe;try{dt.transition=null,Oe=1,a()}finally{Oe=y,dt.transition=p,(Re=u)===0&&(To(),xn())}},e.flushPassiveEffects=Cs,e.flushSync=P_,e.focusWithin=function(a,u){if(!Ma)throw Error(s(363));for(u=S_(a=ip(a),u),u=Array.from(u),a=0;a<u.length;){var p=u[a++];if(!Oa(p)){if(p.tag===5&&DA(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Oe},e.getFindAllNodesFailureDescription=function(a,u){if(!Ma)throw Error(s(363));var p=0,y=[];a=[ip(a),0];for(var _=0;_<a.length;){var b=a[_++],C=a[_++],I=u[C];if((b.tag!==5||!Oa(b))&&(sp(b,I)&&(y.push(op(I)),++C>p&&(p=C)),C<u.length))for(b=b.child;b!==null;)a.push(b,C),b=b.sibling}if(p<u.length){for(a=[];p<u.length;p++)a.push(op(u[p]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?oe(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:QC,findFiberByHostInstance:a.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Ru=u.inject(a),_n=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,p,y){if(!Ma)throw Error(s(363));a=ap(a,u);var _=FA(a,p,y).disconnect;return{disconnect:function(){_()}}},e.registerMutableSourceForHydration=function(a,u){var p=u._getVersion;p=p(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,p]:a.mutableSourceEagerHydrationData.push(u,p)},e.runWithPriority=function(a,u){var p=Oe;try{return Oe=a,u()}finally{Oe=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,p,y){var _=u.current,b=Vt(),C=Mi(_);return p=L_(p),u.context===null?u.context=p:u.pendingContext=p,(u=Jn(b,C)).payload={element:a},(y=y===void 0?null:y)!==null&&(u.callback=y),(a=Pi(_,u,C))!==null&&(Br(a,_,C,b),Bu(a,_,C)),C},e}),Bw}({get exports(){return Cy},set exports(r){Cy=r}}).exports=oL();var aL=O3(Cy),yA={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Iy={},sc={get exports(){return Iy},set exports(r){Iy=r}};(function(){var r,e,t,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?sc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(sc.exports=function(){return(r()-i)/1e6},e=process.hrtime,n=(r=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(sc.exports=function(){return Date.now()-t},t=Date.now()):(sc.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(M3);var zw,ta={},ks={};({get exports(){return ta},set exports(r){ta=r}}).exports=(zw||(zw=1,ks.ConcurrentRoot=1,ks.ContinuousEventPriority=4,ks.DefaultEventPriority=16,ks.DiscreteEventPriority=1,ks.IdleEventPriority=536870912,ks.LegacyRoot=0),ks);var lL={};function Nm(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function vA(r,e){var t,n,i;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=r.children)!==null&&i!==void 0&&i.length&&Ei(r.children).forEach(function(s){vA(s,r)})}function Hw(r,e){var t;vA(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,h=n.destroyTexture,d=h!==void 0&&h,g=n.destroyBaseTexture,c=g!==void 0&&g;s&&e.destroy({children:l,texture:d,baseTexture:c})}function $w(r,e,t){ct(e!==t,"pixi-react: PixiFiber cannot insert node before itself"),r.children.indexOf(e)!==-1&&r.removeChild(e);var n=r.getChildIndex(t);r.addChildAt(e,n)}var jw=null,cn=aL({getRootHostContext:function(){return lL},getChildHostContext:function(r){return r},getChildHostContextForEventComponent:function(r){return r},getPublicInstance:function(r){return r},getCurrentEventPriority:function(){return function(){var r,e;if(typeof window>"u")return ta.DefaultEventPriority;switch((r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ta.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ta.ContinuousEventPriority;default:return ta.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(r){var e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=rL[r];if(typeof s=="function"&&(e=s(i,n)),!e){var o=gA[r];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Xn)(e,{},n)),e},hideInstance:function(r){r.visible=!1},unhideInstance:function(r,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;r.visible=t},finalizeInitialChildren:function(r,e,t){return!1},prepareUpdate:function(r,e,t,n,i,s){return jw=function(o,l,h,d){var g=null;for(var c in h)!d.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==null&&(c===Ty||(g||(g=[]),g.push(c,null)));for(var f in d){var m=d[f],v=h!==null?h[f]:void 0;!d.hasOwnProperty(f)||m===v||m===null&&v===null||f===Ty||(g||(g=[]),g.push(f,m))}return g}(0,0,t,n)},shouldSetTextContent:function(r,e){return!1},shouldDeprioritizeSubtree:function(r,e){var t=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(t&&n&&i)},createTextInstance:function(r,e,t){ct(!1,'pixi-react: Error trying to add text node "'.concat(r,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(r,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Iy,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Nm.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Nm.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Nm.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Hw.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Hw.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:$w,insertInContainerBefore:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=$w.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(r,e,t,n,i){var s,o,l=r&&r.applyProps;typeof l!="function"&&(l=Xn),(l(r,n,i)||jw)&&((s=r.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(r,e,t,n,i){},commitTextUpdate:function(r,e,t){},resetTextContent:function(r){},clearContainer:function(r){},getFundamentalComponentInstance:function(r){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(r){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},getInstanceFromNode:function(r){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(r){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(r){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(r){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(r){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(r){}}),uL=yA.dependencies["react-dom"].replace(/[^0-9.]/g,""),hL=yA.name;cn.injectIntoDevTools({bundleType:0,version:uL,rendererPackageName:hL,findHostInstanceByFiber:cn.findHostInstance});var os=new Map;function _A(r){if(ct(nr.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `PIXI.Container`."),os.has(r)){var e=os.get(r).pixiFiberContainer;cn.updateContainer(null,e,void 0,function(){os.delete(r)})}}function xA(r){ct(nr.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=os.get(r);if(ct(!e,"Pixi React: createRoot should only be called once"),!e){var t=cn.createContainer(r);e={pixiFiberContainer:t,reactRoot:{render:function(n){return cn.updateContainer(n,t,void 0),cn.getPublicRootInstance(t)},unmount:function(){_A(r),os.delete(r)}}},os.set(r,e)}return e.reactRoot}function cL(r,e,t){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),os.has(e)?n=os.get(e).reactRoot:n=xA(e),n.render(r)}function dL(r){_A(r)}function du(){return du=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},du.apply(this,arguments)}function fL(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,fA(n.key),n)}}function ii(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bd(r,e){return bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},bd(r,e)}function mL(r,e){if(e&&(Ar(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(r)}function Ed(r){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ed(r)}var sf=fi.createContext(null),wA=sf.Provider,bA=sf.Consumer,gL=function(r){var e=fi.forwardRef(function(t,n){return fi.createElement(bA,null,function(i){return fi.createElement(r,du({},t,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(r.displayName||r.name,")"),e};function yL(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=Ed(r);if(e){var i=Ed(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return mL(this,t)}}function Vw(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vw(Object(t),!0).forEach(function(n){ft(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Vw(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ww=function(){},EA={width:Xe.number,height:Xe.number,onMount:Xe.func,onUnmount:Xe.func,raf:Xe.bool,renderOnComponentChange:Xe.bool,children:Xe.node,options:Xe.shape({autoStart:Xe.bool,width:Xe.number,height:Xe.number,useContextAlpha:Xe.bool,backgroundAlpha:Xe.number,autoDensity:Xe.bool,antialias:Xe.bool,preserveDrawingBuffer:Xe.bool,resolution:Xe.number,forceCanvas:Xe.bool,backgroundColor:Xe.number,clearBeforeRender:Xe.bool,powerPreference:Xe.string,sharedTicker:Xe.bool,sharedLoader:Xe.bool,resizeTo:function(r,e){var t=r[e];t&&ct(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ar(t),", expect `window` or an `HTMLElement`."))},view:function(r,e,t){var n=r[e];n&&ct(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ar(n),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},vL={width:800,height:600,onMount:Ww,onUnmount:Ww,raf:!0,renderOnComponentChange:!0},Ry=function(r){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&bd(s,o)})(i,fi.Component);var e,t,n=yL(i);function i(){var s;fL(this,i);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return ft(ii(s=n.call.apply(n,[this].concat(l))),"_canvas",null),ft(ii(s),"_mediaQuery",null),ft(ii(s),"_ticker",null),ft(ii(s),"_needsUpdate",!0),ft(ii(s),"app",null),ft(ii(s),"updateSize",function(){var d=s.props,g=d.width,c=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(g,c)}),ft(ii(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ft(ii(s),"renderStage",function(){var d=s.props,g=d.renderOnComponentChange;!d.raf&&g&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(t=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,h=s.height,d=s.options,g=s.raf,c=s.renderOnComponentChange;this.app=new Zd(oc(oc({width:l,height:h,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[g?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=cn.createContainer(this.app.stage),cn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),c&&!g&&(this._ticker=new Ot,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var h,d=this.props,g=d.width,c=d.height,f=d.raf,m=d.renderOnComponentChange,v=d.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===c&&s.width===g&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),cn.updateContainer(this.getChildren(),this.mountNode,this),s.width===g&&s.height===c&&s.raf===f&&s.renderOnComponentChange===m&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return fi.createElement(wA,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),cn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,h=this.props.options;return h&&h.view?(ct(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):fi.createElement("canvas",du({},(s=this.props,o=[].concat(Ei(Object.keys(EA)),Ei(Object.keys(Ay))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,g){return oc(oc({},d),{},ft({},g,s[g]))},{})),{ref:function(d){return l._canvas=d}}))}}])&&pL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}();Ry.propTypes=EA,Ry.defaultProps=vL;var _L=Ry;function SA(){var r=Pe.useContext(sf);return ct(r instanceof Zd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),r}function xL(r){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=SA();ct(typeof r=="function","`useTick` needs a callback function."),ct(t instanceof Zd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=Pe.useRef(null);Pe.useEffect(function(){n.current=r},[r]),Pe.useEffect(function(){if(e){var i=function(s){return n.current.apply(t.ticker,[s,t.ticker])};return t.ticker.add(i),function(){t.ticker&&t.ticker.remove(i)}}},[e])}function wL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ky(r,e,t){return ky=wL()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&bd(l,s.prototype),l},ky.apply(null,arguments)}var bL=["children","apply"];function Xw(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ac(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(t),!0).forEach(function(n){ft(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xw(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var EL=function(r,e){ct(Ar(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=vs(i,bL),h=Pe.useRef(Pe.useMemo(function(){return t.map(function(c){var f,m=(l==null||(f=l[c])===null||f===void 0?void 0:f.construct)||[];return ky(e[c],Ei(m))})},[t])),d=Pe.useMemo(function(){return t.reduce(function(c,f,m){return ac(ac({},c),{},ft({},f,h.current[m]))},{})},[t]),g=Pe.useMemo(function(){return Object.keys(l).filter(mA(pA(t))).reduce(function(c,f){return ac(ac({},c),{},ft({},f,l[f]))},{})},[l,t]);return t.forEach(function(c,f){return Object.assign(h.current[f],l[c])}),o&&function(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];return f.every(function(v){return typeof v=="function"})}(o)&&o.call(r,d),fi.createElement(r,du({},g,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Xe.node,apply:Xe.func},n},SL=gr.BitmapText,TL=gr.Container,AL=gr.Graphics,CL=gr.NineSlicePlane,PL=gr.ParticleContainer,IL=gr.Sprite,RL=gr.AnimatedSprite,kL=gr.Text,ML=gr.TilingSprite,OL=gr.SimpleMesh,NL=gr.SimpleRope;const DL=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:RL,AppConsumer:bA,AppContext:sf,AppProvider:wA,BitmapText:SL,Container:TL,Graphics:AL,NineSlicePlane:CL,ParticleContainer:PL,PixiComponent:nL,PixiFiber:cn,SimpleMesh:OL,SimpleRope:NL,Sprite:IL,Stage:_L,TYPES:gr,Text:kL,TilingSprite:ML,applyDefaultProps:Xn,createRoot:xA,eventHandlers:wd,render:cL,unmountComponentAtNode:dL,useApp:SA,useTick:xL,withFilters:EL,withPixiApp:gL},Symbol.toStringTag,{value:"Module"})),FL=qw(DL);nf.exports=FL;var fu=nf.exports,Tl;typeof self>"u"&&typeof process<"u"&&process.hrtime?Tl=function(){var r=process.hrtime();return r[0]*1e3+r[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Tl=self.performance.now.bind(self.performance):Date.now!==void 0?Tl=Date.now:Tl=function(){return new Date().getTime()};var LL=Tl,BL=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,t){e===void 0&&(e=LL()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),UL=new BL,Yn=UL;Yn.getAll.bind(Yn);Yn.removeAll.bind(Yn);Yn.add.bind(Yn);Yn.remove.bind(Yn);var GL=Yn.update.bind(Yn);function My(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Dm=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yw={INIT:"@@redux/INIT"+Dm(),REPLACE:"@@redux/REPLACE"+Dm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dm()}};function zL(r){Object.keys(r).forEach(function(e){var t=r[e],n=t(void 0,{type:Yw.INIT});if(typeof n>"u")throw new Error(My(12));if(typeof t(void 0,{type:Yw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(My(13))})}function HL(r){for(var e=Object.keys(r),t={},n=0;n<e.length;n++){var i=e[n];typeof r[i]=="function"&&(t[i]=r[i])}var s=Object.keys(t),o;try{zL(t)}catch(l){o=l}return function(h,d){if(h===void 0&&(h={}),o)throw o;for(var g=!1,c={},f=0;f<s.length;f++){var m=s[f],v=t[m],w=h[m],T=v(w,d);if(typeof T>"u")throw d&&d.type,new Error(My(14));c[m]=T,g=g||T!==w}return g=g||s.length!==Object.keys(h).length,g?c:h}}const $L="action_scene_push",jL="action_scene_pop",TA="action_scene_replace",VL="action_scene_to_root",AA="action_assets_loading",CA="action_orientation_changed",WL="action_sound_open",XL=(r={},e)=>{let t=[].concat(r.scenes);switch(e.type){case $L:return t.push(e.value),{...r,scenes:t};case jL:return t.pop(),{...r,scenes:t};case TA:return t.pop(),t.push(e.value),{...r,scenes:t};case VL:return{...r};case AA:return{...r,assetsLoadingProgress:e.value};case CA:return{...r,orientation:e.value};case WL:return{...r,soundOn:e.value};default:return r}},YL={sceneManager:{scenes:["preload"],assetsLoadingProgress:0,orientation:"l",soundOn:!0}};function QL(r){return{type:TA,value:r}}function Qw(r){return{type:AA,value:r}}function qL(r){return{type:CA,value:r}}function KL(){let r=RP("scene")||XL;return HL({sceneManager:r})}function ZL(r,e={},t){const n=Object.assign(r[t],e[t]||{});return r[t]=n,r}function JL(){let r=ZL(YL,lb("scene"),"sceneManager");return EP(r)}var Oy={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||t;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||t;if(c=parseFloat(c),f.ctx||g(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),w=0;w<v.length;w++){var T=f._howls[m]._soundById(v[w]);T&&T._node&&(T._node.volume=T._volume*c)}return f}return f._volume},mute:function(c){var f=this||t;f.ctx||g(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),w=0;w<v.length;w++){var T=f._howls[m]._soundById(v[w]);T&&T._node&&(T._node.muted=c?!0:T._muted)}return f},stop:function(){for(var c=this||t,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||t,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,g()),c},codecs:function(c){return(this||t)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||t;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||t,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var m=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",w=v.match(/OPR\/(\d+)/g),T=w&&parseInt(w[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,E=v.match(/Version\/(.*?) /),S=x&&E&&parseInt(E[1],10)<15;return c._codecs={mp3:!!(!T&&(m||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!m,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||t;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(m){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var w=0;w<c._howls.length;w++)if(!c._howls[w]._webAudio)for(var T=c._howls[w]._getSoundIds(),x=0;x<T.length;x++){var E=c._howls[w]._soundById(T[x]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}c._autoResume();var S=c.ctx.createBufferSource();S.buffer=c._scratchBuffer,S.connect(c.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),S.onended=function(){S.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<c._howls.length;A++)c._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||t;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||t;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!t.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var m=0;m<c._howls[f]._sounds.length;m++)if(!c._howls[f]._sounds[m]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!t.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var t=new e,n=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};n.prototype={init:function(c){var f=this;return t.ctx||g(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=t.usingWebAudio&&!f._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(t.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var m=0;m<c._src.length;m++){var v,w;if(c._format&&c._format[m])v=c._format[m];else{if(w=c._src[m],typeof w!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(w),v||(v=/\.([^.]+)$/.exec(w.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&t.codecs(v)){f=c._src[m];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,f){var m=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&m._state==="loaded"&&!m._sprite[c])return null;if(typeof c>"u"&&(c="__default",!m._playLock)){for(var w=0,T=0;T<m._sounds.length;T++)m._sounds[T]._paused&&!m._sounds[T]._ended&&(w++,v=m._sounds[T]._id);w===1?c=null:v=null}}var x=v?m._soundById(v):m._inactiveSound();if(!x)return null;if(v&&!c&&(c=x._sprite||"__default"),m._state!=="loaded"){x._sprite=c,x._ended=!1;var E=x._id;return m._queue.push({event:"play",action:function(){m.play(E)}}),E}if(v&&!x._paused)return f||m._loadQueue("play"),x._id;m._webAudio&&t._autoResume();var S=Math.max(0,x._seek>0?x._seek:m._sprite[c][0]/1e3),A=Math.max(0,(m._sprite[c][0]+m._sprite[c][1])/1e3-S),P=A*1e3/Math.abs(x._rate),L=m._sprite[c][0]/1e3,k=(m._sprite[c][0]+m._sprite[c][1])/1e3;x._sprite=c,x._ended=!1;var R=function(){x._paused=!1,x._seek=S,x._start=L,x._stop=k,x._loop=!!(x._loop||m._sprite[c][2])};if(S>=k){m._ended(x);return}var U=x._node;if(m._webAudio){var H=function(){m._playLock=!1,R(),m._refreshBuffer(x);var j=x._muted||m._muted?0:x._volume;U.gain.setValueAtTime(j,t.ctx.currentTime),x._playStart=t.ctx.currentTime,typeof U.bufferSource.start>"u"?x._loop?U.bufferSource.noteGrainOn(0,S,86400):U.bufferSource.noteGrainOn(0,S,A):x._loop?U.bufferSource.start(0,S,86400):U.bufferSource.start(0,S,A),P!==1/0&&(m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),P)),f||setTimeout(function(){m._emit("play",x._id),m._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?H():(m._playLock=!0,m.once("resume",H),m._clearTimer(x._id))}else{var re=function(){U.currentTime=S,U.muted=x._muted||m._muted||t._muted||U.muted,U.volume=x._volume*t.volume(),U.playbackRate=x._rate;try{var j=U.play();if(j&&typeof Promise<"u"&&(j instanceof Promise||typeof j.then=="function")?(m._playLock=!0,R(),j.then(function(){m._playLock=!1,U._unlocked=!0,f?m._loadQueue():m._emit("play",x._id)}).catch(function(){m._playLock=!1,m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(m._playLock=!1,R(),m._emit("play",x._id)),U.playbackRate=x._rate,U.paused){m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||x._loop?m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),P):(m._endTimers[x._id]=function(){m._ended(x),U.removeEventListener("ended",m._endTimers[x._id],!1)},U.addEventListener("ended",m._endTimers[x._id],!1))}catch(ee){m._emit("playerror",x._id,ee)}};U.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(U.src=m._src,U.load());var Y=window&&window.ejecta||!U.readyState&&t._navigator.isCocoonJS;if(U.readyState>=3||Y)re();else{m._playLock=!0,m._state="loading";var N=function(){m._state="loaded",re(),U.removeEventListener(t._canPlayEvent,N,!1)};U.addEventListener(t._canPlayEvent,N,!1),m._clearTimer(x._id)}}return x._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var m=f._getSoundIds(c),v=0;v<m.length;v++){f._clearTimer(m[v]);var w=f._soundById(m[v]);if(w&&!w._paused&&(w._seek=f.seek(m[v]),w._rateSeek=0,w._paused=!0,f._stopFade(m[v]),w._node))if(f._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||f._emit("pause",w?w._id:null)}return f},stop:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"stop",action:function(){m.stop(c)}}),m;for(var v=m._getSoundIds(c),w=0;w<v.length;w++){m._clearTimer(v[w]);var T=m._soundById(v[w]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,m._stopFade(v[w]),T._node&&(m._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),m._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&m._clearSound(T._node))),f||m._emit("stop",T._id))}return m},mute:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"mute",action:function(){m.mute(c,f)}}),m;if(typeof f>"u")if(typeof c=="boolean")m._muted=c;else return m._muted;for(var v=m._getSoundIds(f),w=0;w<v.length;w++){var T=m._soundById(v[w]);T&&(T._muted=c,T._interval&&m._stopFade(T._id),m._webAudio&&T._node?T._node.gain.setValueAtTime(c?0:T._volume,t.ctx.currentTime):T._node&&(T._node.muted=t._muted?!0:c),m._emit("mute",T._id))}return m},volume:function(){var c=this,f=arguments,m,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var w=c._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length>=2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m<"u"&&m>=0&&m<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=m),v=c._getSoundIds(v);for(var E=0;E<v.length;E++)x=c._soundById(v[E]),x&&(x._volume=m,f[2]||c._stopFade(v[E]),c._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(m,t.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=m*t.volume()),c._emit("volume",x._id))}else return x=v?c._soundById(v):c._sounds[0],x?x._volume:0;return c},fade:function(c,f,m,v){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(c,f,m,v)}}),w;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),m=parseFloat(m),w.volume(c,v);for(var T=w._getSoundIds(v),x=0;x<T.length;x++){var E=w._soundById(T[x]);if(E){if(v||w._stopFade(T[x]),w._webAudio&&!E._muted){var S=t.ctx.currentTime,A=S+m/1e3;E._volume=c,E._node.gain.setValueAtTime(c,S),E._node.gain.linearRampToValueAtTime(f,A)}w._startFadeInterval(E,c,f,m,T[x],typeof v>"u")}}return w},_startFadeInterval:function(c,f,m,v,w,T){var x=this,E=f,S=m-f,A=Math.abs(S/.01),P=Math.max(4,A>0?v/A:v),L=Date.now();c._fadeTo=m,c._interval=setInterval(function(){var k=(Date.now()-L)/v;L=Date.now(),E+=S*k,E=Math.round(E*100)/100,S<0?E=Math.max(m,E):E=Math.min(m,E),x._webAudio?c._volume=E:x.volume(E,c._id,!0),T&&(x._volume=E),(m<f&&E<=m||m>f&&E>=m)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,x.volume(m,c._id),x._emit("fade",c._id))},P)},_stopFade:function(c){var f=this,m=f._soundById(c);return m&&m._interval&&(f._webAudio&&m._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(m._interval),m._interval=null,f.volume(m._fadeTo,c),m._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,m,v,w;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")m=f[0],c._loop=m;else return w=c._soundById(parseInt(f[0],10)),w?w._loop:!1;else f.length===2&&(m=f[0],v=parseInt(f[1],10));for(var T=c._getSoundIds(v),x=0;x<T.length;x++)w=c._soundById(T[x]),w&&(w._loop=m,c._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=m,m&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,c.playing(T[x])&&(c.pause(T[x],!0),c.play(T[x],!0)))));return c},rate:function(){var c=this,f=arguments,m,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var w=c._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=m),v=c._getSoundIds(v);for(var E=0;E<v.length;E++)if(x=c._soundById(v[E]),x){c.playing(v[E])&&(x._rateSeek=c.seek(v[E]),x._playStart=c._webAudio?t.ctx.currentTime:x._playStart),x._rate=m,c._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(m,t.ctx.currentTime):x._node&&(x._node.playbackRate=m);var S=c.seek(v[E]),A=(c._sprite[x._sprite][0]+c._sprite[x._sprite][1])/1e3-S,P=A*1e3/Math.abs(x._rate);(c._endTimers[v[E]]||!x._paused)&&(c._clearTimer(v[E]),c._endTimers[v[E]]=setTimeout(c._ended.bind(c,x),P)),c._emit("rate",x._id)}}else return x=c._soundById(v),x?x._rate:c._rate;return c},seek:function(){var c=this,f=arguments,m,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var w=c._getSoundIds(),T=w.indexOf(f[0]);T>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,m=parseFloat(f[0]))}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof m=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var x=c._soundById(v);if(x)if(typeof m=="number"&&m>=0){var E=c.playing(v);E&&c.pause(v,!0),x._seek=m,x._ended=!1,c._clearTimer(v),!c._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=m);var S=function(){E&&c.play(v,!0),c._emit("seek",v)};if(E&&!c._webAudio){var A=function(){c._playLock?setTimeout(A,0):S()};setTimeout(A,0)}else S()}else if(c._webAudio){var P=c.playing(v)?t.ctx.currentTime-x._playStart:0,L=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(L+P*Math.abs(x._rate))}else return x._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var m=f._soundById(c);return m?!m._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,m=f._duration,v=f._soundById(c);return v&&(m=f._sprite[v._sprite][1]/1e3),m},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,m=0;m<f.length;m++)f[m]._paused||c.stop(f[m]._id),c._webAudio||(c._clearSound(f[m]._node),f[m]._node.removeEventListener("error",f[m]._errorFn,!1),f[m]._node.removeEventListener(t._canPlayEvent,f[m]._loadFn,!1),f[m]._node.removeEventListener("ended",f[m]._endFn,!1),t._releaseHtml5Audio(f[m]._node)),delete f[m]._node,c._clearTimer(f[m]._id);var v=t._howls.indexOf(c);v>=0&&t._howls.splice(v,1);var w=!0;for(m=0;m<t._howls.length;m++)if(t._howls[m]._src===c._src||c._src.indexOf(t._howls[m]._src)>=0){w=!1;break}return s&&w&&delete s[c._src],t.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,m,v){var w=this,T=w["_on"+c];return typeof f=="function"&&T.push(v?{id:m,fn:f,once:v}:{id:m,fn:f}),w},off:function(c,f,m){var v=this,w=v["_on"+c],T=0;if(typeof f=="number"&&(m=f,f=null),f||m)for(T=0;T<w.length;T++){var x=m===w[T].id;if(f===w[T].fn&&x||!f&&x){w.splice(T,1);break}}else if(c)v["_on"+c]=[];else{var E=Object.keys(v);for(T=0;T<E.length;T++)E[T].indexOf("_on")===0&&Array.isArray(v[E[T]])&&(v[E[T]]=[])}return v},once:function(c,f,m){var v=this;return v.on(c,f,m,1),v},_emit:function(c,f,m){for(var v=this,w=v["_on"+c],T=w.length-1;T>=0;T--)(!w[T].id||w[T].id===f||c==="load")&&(setTimeout((function(x){x.call(this,f,m)}).bind(v,w[T].fn),0),w[T].once&&v.off(c,w[T].fn,w[T].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var m=f._queue[0];m.event===c&&(f._queue.shift(),f._loadQueue()),c||m.action()}return f},_ended:function(c){var f=this,m=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[m][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=t.ctx.currentTime;var w=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),w)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),t._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var m=f._soundById(c);m&&m._node&&m._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,m=0;m<f._sounds.length;m++)if(c===f._sounds[m]._id)return f._sounds[m];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,m=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&m++;for(v=c._sounds.length-1;v>=0;v--){if(m<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),m--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var m=[],v=0;v<f._sounds.length;v++)m.push(f._sounds[v]._id);return m}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=t.ctx.createBufferSource(),c._node.bufferSource.buffer=s[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,t.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,m=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return f;if(t._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),m))try{c.bufferSource.buffer=t._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,m=t._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),c._node.gain.setValueAtTime(m,t.ctx.currentTime),c._node.paused=!0,c._node.connect(t.masterGain)):t.noAudio||(c._node=t._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(t._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=m*t.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(t._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var f=c._src;if(s[f]){c._duration=s[f].duration,d(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var m=atob(f.split(",")[1]),v=new Uint8Array(m.length),w=0;w<m.length;++w)v[w]=m.charCodeAt(w);h(v.buffer,c)}else{var T=new XMLHttpRequest;T.open(c._xhr.method,f,!0),T.withCredentials=c._xhr.withCredentials,T.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(x){T.setRequestHeader(x,c._xhr.headers[x])}),T.onload=function(){var x=(T.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}h(T.response,c)},T.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[f],c.load())},l(T)}},l=function(c){try{c.send()}catch{c.onerror()}},h=function(c,f){var m=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(w){w&&f._sounds.length>0?(s[f._src]=w,d(f,w)):m()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(c).then(v).catch(m):t.ctx.decodeAudioData(c,v,m)},d=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},g=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),f=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),m=f?parseInt(f[1],10):null;if(c&&m&&m<9){var v=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!v&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};r.Howler=t,r.Howl=n,typeof li<"u"?(li.HowlerGlobal=e,li.Howler=t,li.Howl=n,li.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(t);return n},HowlerGlobal.prototype.pos=function(t,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,n,i,s,o,l){var h=this;if(!h.ctx||!h.ctx.listener)return h;var d=h._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,l=typeof l!="number"?d[5]:l,typeof t=="number")h._orientation=[t,n,i,s,o,l],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(t,n,i,s,o,l);else return d;return h},Howl.prototype.init=function(t){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(n),l=0;l<o.length;l++){var h=i._soundById(o[l]);if(h)if(typeof t=="number")h._stereo=t,h._pos=[t,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(t,0,0):h._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",h._id);else return h._stereo}return i},Howl.prototype.pos=function(t,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")o._pos=[t,n,i];else return o._pos;for(var l=o._getSoundIds(s),h=0;h<l.length;h++){var d=o._soundById(l[h]);if(d)if(typeof t=="number")d._pos=[t,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(t,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(t,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof t=="number")o._orientation=[t,n,i];else return o._orientation;for(var l=o._getSoundIds(s),h=0;h<l.length;h++){var d=o._soundById(l[h]);if(d)if(typeof t=="number")d._orientation=[t,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(t,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,n=arguments,i,s,o;if(!t._webAudio)return t;if(n.length===0)return t._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(n[0],10)),o?o._pannerAttr:t._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var l=t._getSoundIds(s),h=0;h<l.length;h++)if(o=t._soundById(l[h]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var g=o._panner;g||(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"),g=o._panner),g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel}return t},Sound.prototype.init=function(t){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,t.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),t.call(this)}}(Sound.prototype.reset);var e=function(t,n){n=n||"spatial",n==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Oy);function eB(r,e){return`./assets/${r}${e?`?v=${e}`:""}`}function tB(r,e){const t=r.match(/\[(.+)\]/);if(t){let n=t[1].split(",");r=r.replace(t[0],pn.Obj.filterImageFormat(n))}return eB(r,e)}function rB(r,e,t){let n=[];function i(s,o,l={}){Vs.add({src:tB(o,e),alias:s,...l})}for(let s of r)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return Vs.load(n,t)}function nB(r){return Vs.get(r)}class iB{constructor(){rt(this,"channels",{})}exist(e,t){let n=this.channels[e];return ra(e)&&ra(n[t])}add(e,t,n,i=1,s=!1,o){let l=this.channels[e];zl(l)&&(l={},this.channels[e]=l),ra(l[t])&&console.warn(`sound "${t}" is existing in channel "${e}"`);let h={channelId:e,name:t,soundId:n,volume:i,softBgm:s,onComplete:o};return l[t]=h,h}getPlaybackBy(e){for(let t in this.channels){let n=this.channels[t];for(let i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(t=>t.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(t=>t.name==e)}removeBy(e){for(let t in this.channels){let n=this.channels[t];for(let i in n){let s=n[i];e(s)&&(delete n[i],bP(n)&&delete this.channels[t])}}}removeBySoundId(e){return this.removeBy(t=>t.soundId==e)}removeBySoundName(e){return this.removeBy(t=>t.name==e)}getSoundIds(e){const t=[],n=this.channels[e];for(let i in n)t.push(n[i].soundId);return t}}const Ad=class Ad{constructor(){rt(this,"howlers",{});rt(this,"_muted",!1);rt(this,"_volume",1);rt(this,"bgm");rt(this,"channelManager");rt(this,"_pause");this.channelManager=new iB}static get Obj(){return this._Obj||(this._Obj=new Ad),this._Obj}getSoundIdBySoundName(e){let t=this.channelManager.getPlaybackBySoundName(e);if(t)return t.soundId}getChannelIdBySoundName(e){let t=this.channelManager.getPlaybackBySoundName(e);if(t)return t.channelId}play(e,t,n=1,i=!1,s,o){let l=this.channelManager.getPlaybackBySoundName(t),h=this.getVolumn(n),d=this.getSoundPlayer(e);if(l&&l.channelId==e)d.stop(l.soundId),d.play(l.soundId),d.volume(h,l.soundId);else{let g=d.play(t);d.volume(h,g),l=this.channelManager.add(e,t,g,n,i,c=>{o&&o(c)})}i&&this.softBgm(!0)}plays(e,t,n=1,i=!1,s){const[o,...l]=t;o?this.play(e,o,n,i,!1,()=>{this.plays(e,l,n,i,s)}):s&&s(o)}playBgm(e,t,n=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(t),o=this.getSoundPlayer(e),l=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(l,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let h=o.play(t);o.volume(l,h),this.channelManager.add(e,t,h,n),this.bgm={soundId:h,channelId:e,name:t,soft:i}}}isReady(e){return ra(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let t=nB(e);if(ra(t)){t.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){let s=this.channelManager.getPlaybackBySoundId(i);s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};let n=new Oy.Howl(t);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(let t in this.howlers)if(e)this.howlers[t].pause();else{const n=this.channelManager.getSoundIds(t),i=this.howlers[t];for(let s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,t){let n=this.getSoundIdBySoundName(t);n&&this.getSoundPlayer(e).pause(n)}stop(e,t){let n=this.getSoundIdBySoundName(t);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,t){t.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){let t=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(t){let n=this.getVolumn(e?this.bgm.soft:1,t.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,t.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,t,n){let i=this.getSoundIdBySoundName(t);if(i){const s=this.channelManager.getPlaybackBySoundId(i);s.volume=n,this.getSoundPlayer(e).volume(n)}}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let t in this.channelManager.channels){let n=this.channelManager.channels[t],i=this.getSoundPlayer(t);for(let s in n){let o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,Oy.Howler.mute(e)}};rt(Ad,"_Obj");let pu=Ad;const sB=document.querySelector("html"),oB="resize",aB=()=>{const r=fu.useApp(),{state:e,dispatch:t}=Pe.useContext(pi),n=pn.Obj,[i,s]=Pe.useState([0,0]),o=Pe.useMemo(()=>document.getElementById("App"),[]),[l,h]=Pe.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]),d=()=>{pn.Obj.updateOrientation();const c=n.orientation;let{displayArea:f,safeArea:m}=n.layoutOptions;const[v,w]=f,T=w/v;m=m||[0,0,v,w];const[x,E]=m,S=E/x,A=document.documentElement.clientWidth,P=document.documentElement.clientHeight,L=P/A;let k,R,U,H,re,Y,N;c=="l"?L<=S?(R=P*(w/E),k=R/T,R=Math.min(w,R),k=Math.min(v,k),N=P,Y=k):(A<=x?k=A*(v/x):A<=v?k=v:k=A,R=k*T,R=Math.min(w,R),k=Math.min(v,k),N=R,Y=A):L>=S?(k=A*(v/x),R=k*T,R=Math.min(w,R),k=Math.min(v,k),Y=A,N=R):(P<=E?R=P*(w/E):P<=w?R=w:R=P,k=R/T,R=Math.min(w,R),k=Math.min(v,k),Y=k,N=P),re=k/v,H=(A-k)/2,U=(P-R)/2;const j=Math.round(Math.min(H,0)),ee=Math.round(Math.min(U,0));r.stage.scale.set(re),r.renderer.resize(k,R),r.view.style.top=`${ee}px`,r.view.style.left=`${j}px`;const oe=Math.round(Math.min(A,Y,k)),ie=Math.round(Math.min(P,N,R)),M=Math.round(Math.max(0,U)),$=Math.round(Math.max(0,H));o.style.width=`${oe}px`,o.style.height=`${ie}px`,o.style.top=`${M}px`,o.style.left=`${$}px`;let D=0;c=="l"?D=Math.max(12,20*(document.documentElement.clientWidth-$*2)/960):D=Math.max(12,20*document.documentElement.clientWidth/540),sB.style.fontSize=`${D}px`,e.sceneManager.orientation!=c&&t(qL(c)),pn.Obj.updateViewport(j/re,ee/re,Math.round(oe/re),Math.round(ie/re)),n.notice.emit(oB)};function g(){document[l]?(pu.Obj.pauses(!0),r.ticker.stop()):(pu.Obj.pauses(!1),r.ticker.start())}return fu.useTick((c,f)=>((i[0]!=document.documentElement.clientWidth||i[1]!=document.documentElement.clientHeight)&&(d(),s([document.documentElement.clientWidth,document.documentElement.clientHeight])),document.addEventListener(h,g),()=>{document.removeEventListener(h,g)}),!0),Ge(yu,{})},lB=()=>{const{state:r}=Pe.useContext(pi),{soundOn:e}=r.sceneManager;return Pe.useEffect(()=>{pu.Obj.muted=!e},[e]),Ge(yu,{})},uB=({children:r,Context:e,render:t})=>Ge(e.Consumer,{children:n=>t(Uy(e.Provider,{value:n,children:[Ge(BP,{}),Ge(fB,{}),Ge(aB,{}),Ge(lB,{}),r]}))}),hB=KL(),cB=JL(),dB=({children:r,maxResolution:e=1,...t})=>{const[n,i]=Pe.useReducer(hB,cB);let[s,...o]=Pe.Children.map(r,h=>h),l=Un.any?window.devicePixelRatio:1;return l=Math.min(l>=2?2:l,e),Uy(pi.Provider,{value:{state:n,dispatch:i},children:[Ge(uB,{Context:pi,render:h=>Ge(fu.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:l,antialias:!0,autoDensity:!0},...t,children:h}),children:s}),Ge(pi.Consumer,{children:({state:h})=>h.sceneManager.scenes[0]=="preload"?Ge(yu,{}):o})]})};function fB(){const r=pn.Obj;return fu.useTick((e,t)=>{GL(r.tweenTime),r.tweenTime+=t.elapsedMS},!0),Ge(yu,{})}const pB=({children:r})=>{const{state:e}=Pe.useContext(pi),{scenes:t}=e.sceneManager;return Pe.useMemo(()=>{let i=[];return Pe.Children.forEach(r,s=>{t.indexOf(s.props.id)!=-1&&i.push(s)}),i},[t])};function PA(r,e){function t(n){if(n&&n.props){const i={},s=n.props;for(let o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=PA(n.props.children,e)),Pe.cloneElement(n,i)}return n}return Array.isArray(r)?Pe.Children.map(r,n=>t(n)):t(r)}function mB(r,e=[]){const{state:t}=Pe.useContext(pi),n=t.sceneManager.orientation;return PA(r,`${n}-`)}const kc=Pe.forwardRef(({hitFrame:r,children:e,...t},n)=>{const i=Pe.useMemo(()=>r?new _e(...r):null,[]);return Ge(fu.Container,{hitArea:i,...t,ref:n,children:e})}),gB=({children:r})=>mB(r),IA=r=>{const{children:e,...t}=r,{l:n,p:i}=pn.Obj.configOptions.layoutMap,s=Pe.useMemo(()=>!!(n&&i),[]),[o,l,h,d]=Pe.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const g=n??i;return[-g.displayArea[0],-g.displayArea[1],0,0]}},[]);return Ge(kc,{...t,children:s?Ge(gB,{children:Ge(kc,{"l-x":o,"l-y":l,"p-x":h,"p-y":d,children:e})}):Ge(kc,{x:o,y:l,children:e})})},yB=({assets:r,next:e,...t})=>{const n=pn.Obj.configOptions.assetVersion,{dispatch:i}=Pe.useContext(pi),{current:s}=Pe.useRef({loaded:!1,loggingIn:!1});return Pe.useEffect(()=>{i(Qw(0)),rB(r,n,o=>{i(Qw(Math.floor(o*100)))}).then(()=>{s.loaded=!0,i(QL(e))})},[]),Ge(IA,{...t})};function vB(){return pn.Obj.urlOptions.lang,[]}const _B=({...r})=>{const e=Pe.useMemo(()=>vB(),[]);return Ge(yB,{assets:e,...r})},xB=({...r})=>Ge(IA,{}),wB=()=>Ge(dB,{id:"game-canvas",className:"game-context-mod",children:Ge(kc,{children:Uy(pB,{children:[Ge(_B,{id:"preload",next:"main"}),Ge(xB,{id:"main"})]})})});A3(Ge(wB,{}))});export default bB();
