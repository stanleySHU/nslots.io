var UI=Object.defineProperty;var GI=(t,e,r)=>e in t?UI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var se=(t,e,r)=>(GI(t,typeof e!="symbol"?e+"":e,r),r);var x8=$I((A8,ip)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var wE={exports:{}},Sf={},bE={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),zI=Symbol.for("react.portal"),HI=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),WI=Symbol.for("react.profiler"),VI=Symbol.for("react.provider"),XI=Symbol.for("react.context"),YI=Symbol.for("react.forward_ref"),qI=Symbol.for("react.suspense"),QI=Symbol.for("react.memo"),KI=Symbol.for("react.lazy"),tx=Symbol.iterator;function ZI(t){return t===null||typeof t!="object"?null:(t=tx&&t[tx]||t["@@iterator"],typeof t=="function"?t:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,SE={};function dl(t,e,r){this.props=t,this.context=e,this.refs=SE,this.updater=r||EE}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=dl.prototype;function jy(t,e,r){this.props=t,this.context=e,this.refs=SE,this.updater=r||EE}var Wy=jy.prototype=new AE;Wy.constructor=jy;TE(Wy,dl.prototype);Wy.isPureReactComponent=!0;var rx=Array.isArray,CE=Object.prototype.hasOwnProperty,Vy={current:null},PE={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)CE.call(e,n)&&!PE.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ic,type:t,key:s,ref:o,props:i,_owner:Vy.current}}function JI(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function e2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nx=/\/+/g;function bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e2(""+t.key):e.toString(36)}function Jh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case zI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+bm(o,0):n,rx(i)?(r="",t!=null&&(r=t.replace(nx,"$&/")+"/"),Jh(i,e,r,"",function(d){return d})):i!=null&&(Xy(i)&&(i=JI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",rx(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+bm(s,a);o+=Jh(s,e,r,c,i)}else if(c=ZI(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+bm(s,a++),o+=Jh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,r){if(t==null)return t;var n=[],i=0;return Jh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function t2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Er={current:null},ed={transition:null},r2={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:ed,ReactCurrentOwner:Vy};Be.Children={map:oh,forEach:function(t,e,r){oh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!Xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=dl;Be.Fragment=HI;Be.Profiler=WI;Be.PureComponent=jy;Be.StrictMode=jI;Be.Suspense=qI;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;Be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=TE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)CE.call(e,c)&&!PE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:ic,type:t.type,key:i,ref:s,props:n,_owner:o}};Be.createContext=function(t){return t={$$typeof:XI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VI,_context:t},t.Consumer=t};Be.createElement=IE;Be.createFactory=function(t){var e=IE.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:YI,render:t}};Be.isValidElement=Xy;Be.lazy=function(t){return{$$typeof:KI,_payload:{_status:-1,_result:t},_init:t2}};Be.memo=function(t,e){return{$$typeof:QI,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=ed.transition;ed.transition={};try{t()}finally{ed.transition=e}};Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Be.useCallback=function(t,e){return Er.current.useCallback(t,e)};Be.useContext=function(t){return Er.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Er.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Er.current.useEffect(t,e)};Be.useId=function(){return Er.current.useId()};Be.useImperativeHandle=function(t,e,r){return Er.current.useImperativeHandle(t,e,r)};Be.useInsertionEffect=function(t,e){return Er.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Er.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Er.current.useMemo(t,e)};Be.useReducer=function(t,e,r){return Er.current.useReducer(t,e,r)};Be.useRef=function(t){return Er.current.useRef(t)};Be.useState=function(t){return Er.current.useState(t)};Be.useSyncExternalStore=function(t,e,r){return Er.current.useSyncExternalStore(t,e,r)};Be.useTransition=function(){return Er.current.useTransition()};Be.version="18.2.0";bE.exports=Be;var ae=bE.exports;const Gi=nc(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=ae,i2=Symbol.for("react.element"),s2=Symbol.for("react.fragment"),o2=Object.prototype.hasOwnProperty,a2=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l2={key:!0,ref:!0,__self:!0,__source:!0};function RE(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)o2.call(e,n)&&!l2.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:i2,type:t,key:s,ref:o,props:i,_owner:a2.current}}Sf.Fragment=s2;Sf.jsx=RE;Sf.jsxs=RE;wE.exports=Sf;var Yy=wE.exports;const qt=Yy.Fragment,P=Yy.jsx,de=Yy.jsxs;function So(t){return t!=null}function Iu(t){return t==null}function u2(t){return typeof t=="string"}function ix(t){return Array.isArray(t)}function c2(t){return typeof t=="number"}function h2(t){return Object.keys(t).length===0&&t.constructor===Object}function d2(...t){let e={};for(let r=0;r<t.length;r++){let n=t[r];if(n!=null)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const bf=class bf{constructor(){se(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new bf),this._Obj}map(e,r){let n=new v2(e,r);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...r){let n=this.mappings[e];if(!Iu(n))return n.get(r)}resolve(){console.warn("Injector.resolve() is not implement yet")}};se(bf,"_Obj");let Ug=bf;class f2{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class p2{constructor(e){this.type=e}get(e){return kE(this.type,e)}destroy(){this.type=void 0}}class m2{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class g2{constructor(e){se(this,"instance");this.type=e}get(e){return Iu(this.instance)&&(this.instance=kE(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class y2{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class v2{constructor(e,r){se(this,"provider");this.name=e,this.type=r}get(e){return Iu(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new f2(e)}toType(e){this.destroy(),this.provider=new p2(e)}toSingleton(e){this.destroy(),this.provider=new g2(e)}asSingleton(){if(this.destroy(),Iu(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new y2(e)}toFunction(e){this.destroy(),this.provider=new m2(e)}destroy(){So(this.provider)&&this.provider.destroy()}}function kE(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const Go=Ug.Obj;function Bl(t){return Go.get(`action_fc:${t}`)}function sc(t,e){Go.map(`action_init:${t}`).toValue(e)}function ba(t){return Go.get(`action_init:${t}`)}const ME="apiService";function _2(t){return Go.map(ME).toSingleton(t)}function x2(){return Go.get(ME)}function w2(t,e){return Go.map(`parser:${t}`).toValue(e)}function Ai(t){return Go.get(`parser:${t}`)}const b2="geisha",E2=1710773152273,T2={title:b2,assetVersion:E2};/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ea=9e15,Ws=1e9,Gg="0123456789abcdef",Ad="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Cd="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",$g={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ea,maxE:Ea,crypto:!1},NE,Li,Ce=!0,Af="[DecimalError] ",Fs=Af+"Invalid argument: ",OE=Af+"Precision limit exceeded",LE=Af+"crypto unavailable",DE="[object Decimal]",pr=Math.floor,Lt=Math.pow,S2=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,A2=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,C2=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,FE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dn=1e7,Se=7,P2=9007199254740991,I2=Ad.length-1,zg=Cd.length-1,K={toStringTag:DE};K.absoluteValue=K.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),be(t)};K.ceil=function(){return be(new this.constructor(this),this.e+1,2)};K.clampedTo=K.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Fs+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};K.comparedTo=K.cmp=function(t){var e,r,n,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,c=s.s,d=t.s;if(!o||!a)return!c||!d?NaN:c!==d?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-d:0;if(c!==d)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(n=o.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==a[e])return o[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};K.cosine=K.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Se,n.rounding=1,r=R2(n,zE(n,r)),n.precision=t,n.rounding=e,be(Li==2||Li==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};K.cubeRoot=K.cbrt=function(){var t,e,r,n,i,s,o,a,c,d,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);for(Ce=!1,s=p.s*Lt(p.s*p,1/3),!s||Math.abs(s)==1/0?(r=nr(p.d),t=p.e,(s=(t-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=Lt(r,1/3),t=pr((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new h(r),n.s=p.s):n=new h(s.toString()),o=(t=h.precision)+3;;)if(a=n,c=a.times(a).times(a),d=c.plus(p),n=Ze(d.plus(p).times(a),d.plus(c),o+2,1),nr(a.d).slice(0,o)===(r=nr(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(be(a,t+1,0),a.times(a).times(a).eq(p))){n=a;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(be(n,t+1,1),e=!n.times(n).times(n).eq(p));break}return Ce=!0,be(n,t,h.rounding,e)};K.decimalPlaces=K.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-pr(this.e/Se))*Se,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};K.dividedBy=K.div=function(t){return Ze(this,new this.constructor(t))};K.dividedToIntegerBy=K.divToInt=function(t){var e=this,r=e.constructor;return be(Ze(e,new r(t),0,1,1),r.precision,r.rounding)};K.equals=K.eq=function(t){return this.cmp(t)===0};K.floor=function(){return be(new this.constructor(this),this.e+1,3)};K.greaterThan=K.gt=function(t){return this.cmp(t)>0};K.greaterThanOrEqualTo=K.gte=function(t){var e=this.cmp(t);return e==1||e===0};K.hyperbolicCosine=K.cosh=function(){var t,e,r,n,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/Pf(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=Ja(o,1,s.times(e),new o(1),!0);for(var c,d=t,p=new o(8);d--;)c=s.times(s),s=a.minus(c.times(p.minus(c.times(p))));return be(s,o.precision=r,o.rounding=n,!0)};K.hyperbolicSine=K.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=Ja(s,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Pf(5,t)),i=Ja(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),d=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(d))))}return s.precision=e,s.rounding=r,be(i,e,r,!0)};K.hyperbolicTangent=K.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Ze(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};K.inverseCosine=K.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return n!==-1?n===0?e.isNeg()?Mn(r,i,s):new r(0):new r(NaN):e.isZero()?Mn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Mn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))};K.inverseHyperbolicCosine=K.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Ce=!1,r=r.times(r).minus(1).sqrt().plus(r),Ce=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};K.inverseHyperbolicSine=K.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Ce=!1,r=r.times(r).plus(1).sqrt().plus(r),Ce=!0,n.precision=t,n.rounding=e,r.ln())};K.inverseHyperbolicTangent=K.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?be(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Ze(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};K.inverseSine=K.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,e!==-1?e===0?(t=Mn(s,r+4,n).times(.5),t.s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};K.inverseTangent=K.atan=function(){var t,e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&h+4<=zg)return o=Mn(p,h+4,f).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(h+4<=zg)return o=Mn(p,h+4,f).times(.5),o.s=d.s,o}for(p.precision=a=h+10,p.rounding=1,r=Math.min(28,a/Se+2|0),t=r;t;--t)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ce=!1,e=Math.ceil(a/Se),n=1,c=d.times(d),o=new p(d),i=d;t!==-1;)if(i=i.times(c),s=o.minus(i.div(n+=2)),i=i.times(c),o=s.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===s.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),Ce=!0,be(o,p.precision=h,p.rounding=f,!0)};K.isFinite=function(){return!!this.d};K.isInteger=K.isInt=function(){return!!this.d&&pr(this.e/Se)>this.d.length-2};K.isNaN=function(){return!this.s};K.isNegative=K.isNeg=function(){return this.s<0};K.isPositive=K.isPos=function(){return this.s>0};K.isZero=function(){return!!this.d&&this.d[0]===0};K.lessThan=K.lt=function(t){return this.cmp(t)<0};K.lessThanOrEqualTo=K.lte=function(t){return this.cmp(t)<1};K.logarithm=K.log=function(t){var e,r,n,i,s,o,a,c,d=this,p=d.constructor,h=p.precision,f=p.rounding,g=5;if(t==null)t=new p(10),e=!0;else{if(t=new p(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new p(NaN);e=t.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new p(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(Ce=!1,a=h+g,o=ws(d,a),n=e?Pd(p,a+10):ws(t,a),c=Ze(o,n,a,1),Ru(c.d,i=h,f))do if(a+=10,o=ws(d,a),n=e?Pd(p,a+10):ws(t,a),c=Ze(o,n,a,1),!s){+nr(c.d).slice(i+1,i+15)+1==1e14&&(c=be(c,h+1,0));break}while(Ru(c.d,i+=10,f));return Ce=!0,be(c,h,f)};K.minus=K.sub=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.constructor;if(t=new y(t),!g.d||!t.d)return!g.s||!t.s?t=new y(NaN):g.d?t.s=-t.s:t=new y(t.d||g.s!==t.s?g:NaN),t;if(g.s!=t.s)return t.s=-t.s,g.plus(t);if(d=g.d,f=t.d,a=y.precision,c=y.rounding,!d[0]||!f[0]){if(f[0])t.s=-t.s;else if(d[0])t=new y(g);else return new y(c===3?-0:0);return Ce?be(t,a,c):t}if(r=pr(t.e/Se),p=pr(g.e/Se),d=d.slice(),s=p-r,s){for(h=s<0,h?(e=d,s=-s,o=f.length):(e=f,r=p,o=d.length),n=Math.max(Math.ceil(a/Se),o)+2,s>n&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse()}else{for(n=d.length,o=f.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}s=0}for(h&&(e=d,d=f,f=e,t.s=-t.s),o=d.length,n=f.length-o;n>0;--n)d[o++]=0;for(n=f.length;n>s;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Dn-1;--d[i],d[n]+=Dn}d[n]-=f[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=Cf(d,r),Ce?be(t,a,c):t):new y(c===3?-0:0)};K.modulo=K.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?be(new n(r),n.precision,n.rounding):(Ce=!1,n.modulo==9?(e=Ze(r,t.abs(),0,3,1),e.s*=t.s):e=Ze(r,t,0,n.modulo,1),e=e.times(t),Ce=!0,r.minus(e))};K.naturalExponential=K.exp=function(){return Hg(this)};K.naturalLogarithm=K.ln=function(){return ws(this)};K.negated=K.neg=function(){var t=new this.constructor(this);return t.s=-t.s,be(t)};K.plus=K.add=function(t){var e,r,n,i,s,o,a,c,d,p,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return!h.s||!t.s?t=new f(NaN):h.d||(t=new f(t.d||h.s===t.s?h:NaN)),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(d=h.d,p=t.d,a=f.precision,c=f.rounding,!d[0]||!p[0])return p[0]||(t=new f(h)),Ce?be(t,a,c):t;if(s=pr(h.e/Se),n=pr(t.e/Se),d=d.slice(),i=s-n,i){for(i<0?(r=d,i=-i,o=p.length):(r=p,n=s,o=d.length),s=Math.ceil(a/Se),o=s>o?s+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=d.length,i=p.length,o-i<0&&(i=o,r=p,p=d,d=r),e=0;i;)e=(d[--i]=d[i]+p[i]+e)/Dn|0,d[i]%=Dn;for(e&&(d.unshift(e),++n),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=Cf(d,n),Ce?be(t,a,c):t};K.precision=K.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fs+t);return r.d?(e=BE(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};K.round=function(){var t=this,e=t.constructor;return be(new e(t),t.e+1,e.rounding)};K.sine=K.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Se,n.rounding=1,r=M2(n,zE(n,r)),n.precision=t,n.rounding=e,be(Li>2?r.neg():r,t,e,!0)):new n(NaN)};K.squareRoot=K.sqrt=function(){var t,e,r,n,i,s,o=this,a=o.d,c=o.e,d=o.s,p=o.constructor;if(d!==1||!a||!a[0])return new p(!d||d<0&&(!a||a[0])?NaN:a?o:1/0);for(Ce=!1,d=Math.sqrt(+o),d==0||d==1/0?(e=nr(a),(e.length+c)%2==0&&(e+="0"),d=Math.sqrt(e),c=pr((c+1)/2)-(c<0||c%2),d==1/0?e="5e"+c:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new p(e)):n=new p(d.toString()),r=(c=p.precision)+3;;)if(s=n,n=s.plus(Ze(o,s,r+2,1)).times(.5),nr(s.d).slice(0,r)===(e=nr(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(be(s,c+1,0),s.times(s).eq(o))){n=s;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(be(n,c+1,1),t=!n.times(n).eq(o));break}return Ce=!0,be(n,c,p.rounding,t)};K.tangent=K.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Ze(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,be(Li==2||Li==4?r.neg():r,t,e,!0)):new n(NaN)};K.times=K.mul=function(t){var e,r,n,i,s,o,a,c,d,p=this,h=p.constructor,f=p.d,g=(t=new h(t)).d;if(t.s*=p.s,!f||!f[0]||!g||!g[0])return new h(!t.s||f&&!f[0]&&!g||g&&!g[0]&&!f?NaN:!f||!g?t.s/0:t.s*0);for(r=pr(p.e/Se)+pr(t.e/Se),c=f.length,d=g.length,c<d&&(s=f,f=g,g=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)a=s[i]+g[n]*f[i-n-1]+e,s[i--]=a%Dn|0,e=a/Dn|0;s[i]=(s[i]+e)%Dn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=Cf(s,r),Ce?be(t,h.precision,h.rounding):t};K.toBinary=function(t,e){return qy(this,2,t,e)};K.toDecimalPlaces=K.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Dr(t,0,Ws),e===void 0?e=n.rounding:Dr(e,0,8),be(r,t+r.e+1,e))};K.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=mi(n,!0):(Dr(t,0,Ws),e===void 0?e=i.rounding:Dr(e,0,8),n=be(new i(n),t+1,e),r=mi(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};K.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?r=mi(i):(Dr(t,0,Ws),e===void 0?e=s.rounding:Dr(e,0,8),n=be(new s(i),t+i.e+1,e),r=mi(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};K.toFraction=function(t){var e,r,n,i,s,o,a,c,d,p,h,f,g=this,y=g.d,x=g.constructor;if(!y)return new x(g);if(d=r=new x(1),n=c=new x(0),e=new x(n),s=e.e=BE(y)-g.e-1,o=s%Se,e.d[0]=Lt(10,o<0?Se+o:o),t==null)t=s>0?e:d;else{if(a=new x(t),!a.isInt()||a.lt(d))throw Error(Fs+a);t=a.gt(e)?s>0?e:d:a}for(Ce=!1,a=new x(nr(y)),p=x.precision,x.precision=s=y.length*Se*2;h=Ze(a,e,0,1,1),i=r.plus(h.times(n)),i.cmp(t)!=1;)r=n,n=i,i=d,d=c.plus(h.times(i)),c=i,i=e,e=a.minus(h.times(i)),a=i;return i=Ze(t.minus(r),n,0,1,1),c=c.plus(i.times(d)),r=r.plus(i.times(n)),c.s=d.s=g.s,f=Ze(d,n,s,1).minus(g).abs().cmp(Ze(c,r,s,1).minus(g).abs())<1?[d,n]:[c,r],x.precision=p,Ce=!0,f};K.toHexadecimal=K.toHex=function(t,e){return qy(this,16,t,e)};K.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Dr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Ce=!1,r=Ze(r,t,0,e,1).times(t),Ce=!0,be(r)):(t.s=r.s,r=t),r};K.toNumber=function(){return+this};K.toOctal=function(t,e){return qy(this,8,t,e)};K.toPower=K.pow=function(t){var e,r,n,i,s,o,a=this,c=a.constructor,d=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Lt(+a,d));if(a=new c(a),a.eq(1))return a;if(n=c.precision,s=c.rounding,t.eq(1))return be(a,n,s);if(e=pr(t.e/Se),e>=t.d.length-1&&(r=d<0?-d:d)<=P2)return i=UE(c,a,r,n),t.s<0?new c(1).div(i):be(i,n,s);if(o=a.s,o<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Lt(+a,d),e=r==0||!isFinite(r)?pr(d*(Math.log("0."+nr(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?o/0:0):(Ce=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=Hg(t.times(ws(a,n+r)),n),i.d&&(i=be(i,n+5,1),Ru(i.d,n,s)&&(e=n+10,i=be(Hg(t.times(ws(a,e+r)),e),e+5,1),+nr(i.d).slice(n+1,n+15)+1==1e14&&(i=be(i,n+1,0)))),i.s=o,Ce=!0,c.rounding=s,be(i,n,s))};K.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=mi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Dr(t,1,Ws),e===void 0?e=i.rounding:Dr(e,0,8),n=be(new i(n),t,e),r=mi(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};K.toSignificantDigits=K.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Dr(t,1,Ws),e===void 0?e=n.rounding:Dr(e,0,8)),be(new n(r),t,e)};K.toString=function(){var t=this,e=t.constructor,r=mi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};K.truncated=K.trunc=function(){return be(new this.constructor(this),this.e+1,1)};K.valueOf=K.toJSON=function(){var t=this,e=t.constructor,r=mi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function nr(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Se-n.length,r&&(s+=fs(r)),s+=n;o=t[e],n=o+"",r=Se-n.length,r&&(s+=fs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function Dr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fs+t)}function Ru(t,e,r,n){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=Se,i=0):(i=Math.ceil((e+1)/Se),e%=Se),s=Lt(10,Se-e),a=t[i]%s|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==s||r>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Lt(10,e-2)-1||(a==s/2||a==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==s||!n&&r>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Lt(10,e-3)-1,o}function td(t,e,r){for(var n,i=[0],s,o=0,a=t.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=Gg.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function R2(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Pf(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Ja(t,1,e.times(i),new t(1));for(var s=r;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Ze=function(){function t(n,i,s){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*i+a,n[c]=o%s|0,a=o/s|0;return a&&n.unshift(a),n}function e(n,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,s,o){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*o+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o,a,c){var d,p,h,f,g,y,x,b,_,E,T,A,I,O,M,R,U,G,Q,X,D=n.constructor,H=n.s==i.s?1:-1,J=n.d,Z=i.d;if(!J||!J[0]||!Z||!Z[0])return new D(!n.s||!i.s||(J?Z&&J[0]==Z[0]:!Z)?NaN:J&&J[0]==0||!Z?H*0:H/0);for(c?(g=1,p=n.e-i.e):(c=Dn,g=Se,p=pr(n.e/g)-pr(i.e/g)),Q=Z.length,U=J.length,_=new D(H),E=_.d=[],h=0;Z[h]==(J[h]||0);h++);if(Z[h]>(J[h]||0)&&p--,s==null?(O=s=D.precision,o=D.rounding):a?O=s+(n.e-i.e)+1:O=s,O<0)E.push(1),y=!0;else{if(O=O/g+2|0,h=0,Q==1){for(f=0,Z=Z[0],O++;(h<U||f)&&O--;h++)M=f*c+(J[h]||0),E[h]=M/Z|0,f=M%Z|0;y=f||h<U}else{for(f=c/(Z[0]+1)|0,f>1&&(Z=t(Z,f,c),J=t(J,f,c),Q=Z.length,U=J.length),R=Q,T=J.slice(0,Q),A=T.length;A<Q;)T[A++]=0;X=Z.slice(),X.unshift(0),G=Z[0],Z[1]>=c/2&&++G;do f=0,d=e(Z,T,Q,A),d<0?(I=T[0],Q!=A&&(I=I*c+(T[1]||0)),f=I/G|0,f>1?(f>=c&&(f=c-1),x=t(Z,f,c),b=x.length,A=T.length,d=e(x,T,b,A),d==1&&(f--,r(x,Q<b?X:Z,b,c))):(f==0&&(d=f=1),x=Z.slice()),b=x.length,b<A&&x.unshift(0),r(T,x,A,c),d==-1&&(A=T.length,d=e(Z,T,Q,A),d<1&&(f++,r(T,Q<A?X:Z,A,c))),A=T.length):d===0&&(f++,T=[0]),E[h++]=f,d&&T[0]?T[A++]=J[R]||0:(T=[J[R]],A=1);while((R++<U||T[0]!==void 0)&&O--);y=T[0]!==void 0}E[0]||E.shift()}if(g==1)_.e=p,NE=y;else{for(h=1,f=E[0];f>=10;f/=10)h++;_.e=h+p*g-1,be(_,a?s+_.e+1:s,o,y)}return _}}();function be(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor;e:if(e!=null){if(h=t.d,!h)return t;for(i=1,a=h[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=Se,o=e,p=h[f=0],c=p/Lt(10,i-o-1)%10|0;else if(f=Math.ceil((s+1)/Se),a=h.length,f>=a)if(n){for(;a++<=f;)h.push(0);p=c=0,i=1,s%=Se,o=s-Se+1}else break e;else{for(p=a=h[f],i=1;a>=10;a/=10)i++;s%=Se,o=s-Se+i,c=o<0?0:p/Lt(10,i-o-1)%10|0}if(n=n||e<0||h[f+1]!==void 0||(o<0?p:p%Lt(10,i-o-1)),d=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(s>0?o>0?p/Lt(10,i-o):0:h[f-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,d?(e-=t.e+1,h[0]=Lt(10,(Se-e%Se)%Se),t.e=-e||0):h[0]=t.e=0,t;if(s==0?(h.length=f,a=1,f--):(h.length=f+1,a=Lt(10,Se-s),h[f]=o>0?(p/Lt(10,i-o)%Lt(10,o)|0)*a:0),d)for(;;)if(f==0){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,h[0]==Dn&&(h[0]=1));break}else{if(h[f]+=a,h[f]!=Dn)break;h[f--]=0,a=1}for(s=h.length;h[--s]===0;)h.pop()}return Ce&&(t.e>g.maxE?(t.d=null,t.e=NaN):t.e<g.minE&&(t.e=0,t.d=[0])),t}function mi(t,e,r){if(!t.isFinite())return $E(t);var n,i=t.e,s=nr(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+fs(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+fs(-i-1)+s,r&&(n=r-o)>0&&(s+=fs(n))):i>=o?(s+=fs(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+fs(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=fs(n))),s}function Cf(t,e){var r=t[0];for(e*=Se;r>=10;r/=10)e++;return e}function Pd(t,e,r){if(e>I2)throw Ce=!0,r&&(t.precision=r),Error(OE);return be(new t(Ad),e,1,!0)}function Mn(t,e,r){if(e>zg)throw Error(OE);return be(new t(Cd),e,r,!0)}function BE(t){var e=t.length-1,r=e*Se+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function fs(t){for(var e="";t--;)e+="0";return e}function UE(t,e,r,n){var i,s=new t(1),o=Math.ceil(n/Se+4);for(Ce=!1;;){if(r%2&&(s=s.times(e),ox(s.d,o)&&(i=!0)),r=pr(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}e=e.times(e),ox(e.d,o)}return Ce=!0,s}function sx(t){return t.d[t.d.length-1]&1}function GE(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;)if(n=new t(e[s]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Hg(t,e){var r,n,i,s,o,a,c,d=0,p=0,h=0,f=t.constructor,g=f.rounding,y=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Ce=!1,c=y):c=e,a=new f(.03125);t.e>-2;)t=t.times(a),h+=5;for(n=Math.log(Lt(2,h))/Math.LN10*2+5|0,c+=n,r=s=o=new f(1),f.precision=c;;){if(s=be(s.times(t),c,1),r=r.times(++p),a=o.plus(Ze(s,r,c,1)),nr(a.d).slice(0,c)===nr(o.d).slice(0,c)){for(i=h;i--;)o=be(o.times(o),c,1);if(e==null)if(d<3&&Ru(o.d,c-n,g,d))f.precision=c+=10,r=s=a=new f(1),p=0,d++;else return be(o,f.precision=y,g,Ce=!0);else return f.precision=y,o}o=a}}function ws(t,e){var r,n,i,s,o,a,c,d,p,h,f,g=1,y=10,x=t,b=x.d,_=x.constructor,E=_.rounding,T=_.precision;if(x.s<0||!b||!b[0]||!x.e&&b[0]==1&&b.length==1)return new _(b&&!b[0]?-1/0:x.s!=1?NaN:b?0:x);if(e==null?(Ce=!1,p=T):p=e,_.precision=p+=y,r=nr(b),n=r.charAt(0),Math.abs(s=x.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=nr(x.d),n=r.charAt(0),g++;s=x.e,n>1?(x=new _("0."+r),s++):x=new _(n+"."+r.slice(1))}else return d=Pd(_,p+2,T).times(s+""),x=ws(new _(n+"."+r.slice(1)),p-y).plus(d),_.precision=T,e==null?be(x,T,E,Ce=!0):x;for(h=x,c=o=x=Ze(x.minus(1),x.plus(1),p,1),f=be(x.times(x),p,1),i=3;;){if(o=be(o.times(f),p,1),d=c.plus(Ze(o,new _(i),p,1)),nr(d.d).slice(0,p)===nr(c.d).slice(0,p))if(c=c.times(2),s!==0&&(c=c.plus(Pd(_,p+2,T).times(s+""))),c=Ze(c,new _(g),p,1),e==null)if(Ru(c.d,p-y,E,a))_.precision=p+=y,d=o=x=Ze(h.minus(1),h.plus(1),p,1),f=be(x.times(x),p,1),i=a=1;else return be(c,_.precision=T,E,Ce=!0);else return _.precision=T,c;c=d,i+=2}}function $E(t){return String(t.s*t.s/0)}function jg(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%Se,r<0&&(n+=Se),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Se;n<i;)t.d.push(+e.slice(n,n+=Se));e=e.slice(n),n=Se-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Ce&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function k2(t,e){var r,n,i,s,o,a,c,d,p;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),FE.test(e))return jg(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(A2.test(e))r=16,e=e.toLowerCase();else if(S2.test(e))r=2;else if(C2.test(e))r=8;else throw Error(Fs+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,n=t.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=UE(n,new n(r),s,s*2)),d=td(e,r,Dn),p=d.length-1,s=p;d[s]===0;--s)d.pop();return s<0?new n(t.s*0):(t.e=Cf(d,p),t.d=d,Ce=!1,o&&(t=Ze(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Lt(2,c):$e.pow(2,c))),Ce=!0,t)}function M2(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Ja(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Pf(5,r)),e=Ja(t,2,e,e);for(var i,s=new t(5),o=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function Ja(t,e,r,n,i){var s,o,a,c,d=t.precision,p=Math.ceil(d/Se);for(Ce=!1,c=r.times(r),a=new t(n);;){if(o=Ze(a.times(c),new t(e++*e++),d,1),a=i?n.plus(o):n.minus(o),n=Ze(o.times(c),new t(e++*e++),d,1),o=a.plus(n),o.d[p]!==void 0){for(s=p;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=n,n=o,o=s}return Ce=!0,o.d.length=p+1,o}function Pf(t,e){for(var r=t;--e;)r*=t;return r}function zE(t,e){var r,n=e.s<0,i=Mn(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return Li=n?4:1,e;if(r=e.divToInt(i),r.isZero())Li=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(s))return Li=sx(r)?n?2:3:n?4:1,e;Li=sx(r)?n?1:4:n?3:2}return e.minus(i).abs()}function qy(t,e,r,n){var i,s,o,a,c,d,p,h,f,g=t.constructor,y=r!==void 0;if(y?(Dr(r,1,Ws),n===void 0?n=g.rounding:Dr(n,0,8)):(r=g.precision,n=g.rounding),!t.isFinite())p=$E(t);else{for(p=mi(t),o=p.indexOf("."),y?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(p=p.replace(".",""),f=new g(1),f.e=p.length-o,f.d=td(mi(f),10,i),f.e=f.d.length),h=td(p,10,i),s=c=h.length;h[--c]==0;)h.pop();if(!h[0])p=y?"0p+0":"0";else{if(o<0?s--:(t=new g(t),t.d=h,t.e=s,t=Ze(t,f,r,n,0,i),h=t.d,s=t.e,d=NE),o=h[r],a=i/2,d=d||h[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(t.s<0?3:2)):o>a||o===a&&(n===4||d||n===6&&h[r-1]&1||n===(t.s<0?8:7)),h.length=r,d)for(;++h[--r]>i-1;)h[r]=0,r||(++s,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,p="";o<c;o++)p+=Gg.charAt(h[o]);if(y){if(c>1)if(e==16||e==8){for(o=e==16?4:3,--c;c%o;c++)p+="0";for(h=td(p,i,e),c=h.length;!h[c-1];--c);for(o=1,p="1.";o<c;o++)p+=Gg.charAt(h[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>c)for(s-=c;s--;)p+="0";else s<c&&(p=p.slice(0,s)+"."+p.slice(s))}p=(e==16?"0x":e==2?"0b":e==8?"0o":"")+p}return t.s<0?"-"+p:p}function ox(t,e){if(t.length>e)return t.length=e,!0}function N2(t){return new this(t).abs()}function O2(t){return new this(t).acos()}function L2(t){return new this(t).acosh()}function D2(t,e){return new this(t).plus(e)}function F2(t){return new this(t).asin()}function B2(t){return new this(t).asinh()}function U2(t){return new this(t).atan()}function G2(t){return new this(t).atanh()}function $2(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Mn(this,s,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Mn(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Mn(this,s,1).times(.5),r.s=t.s):e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Ze(t,e,s,1)),e=Mn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Ze(t,e,s,1)),r}function z2(t){return new this(t).cbrt()}function H2(t){return be(t=new this(t),t.e+1,2)}function j2(t,e,r){return new this(t).clamp(e,r)}function W2(t){if(!t||typeof t!="object")throw Error(Af+"Object expected");var e,r,n,i=t.defaults===!0,s=["precision",1,Ws,"rounding",0,8,"toExpNeg",-Ea,0,"toExpPos",0,Ea,"maxE",0,Ea,"minE",-Ea,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=$g[r]),(n=t[r])!==void 0)if(pr(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Fs+r+": "+n);if(r="crypto",i&&(this[r]=$g[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(LE);else this[r]=!1;else throw Error(Fs+r+": "+n);return this}function V2(t){return new this(t).cos()}function X2(t){return new this(t).cosh()}function HE(t){var e,r,n;function i(s){var o,a,c,d=this;if(!(d instanceof i))return new i(s);if(d.constructor=i,ax(s)){d.s=s.s,Ce?!s.d||s.e>i.maxE?(d.e=NaN,d.d=null):s.e<i.minE?(d.e=0,d.d=[0]):(d.e=s.e,d.d=s.d.slice()):(d.e=s.e,d.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){d.s=1/s<0?-1:1,d.e=0,d.d=[0];return}if(s<0?(s=-s,d.s=-1):d.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;Ce?o>i.maxE?(d.e=NaN,d.d=null):o<i.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[s]):(d.e=o,d.d=[s]);return}else if(s*0!==0){s||(d.s=NaN),d.e=NaN,d.d=null;return}return jg(d,s.toString())}else if(c!=="string")throw Error(Fs+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),d.s=-1):(a===43&&(s=s.slice(1)),d.s=1),FE.test(s)?jg(d,s):k2(d,s)}if(i.prototype=K,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=W2,i.clone=HE,i.isDecimal=ax,i.abs=N2,i.acos=O2,i.acosh=L2,i.add=D2,i.asin=F2,i.asinh=B2,i.atan=U2,i.atanh=G2,i.atan2=$2,i.cbrt=z2,i.ceil=H2,i.clamp=j2,i.cos=V2,i.cosh=X2,i.div=Y2,i.exp=q2,i.floor=Q2,i.hypot=K2,i.ln=Z2,i.log=J2,i.log10=tR,i.log2=eR,i.max=rR,i.min=nR,i.mod=iR,i.mul=sR,i.pow=oR,i.random=aR,i.round=lR,i.sign=uR,i.sin=cR,i.sinh=hR,i.sqrt=dR,i.sub=fR,i.sum=pR,i.tan=mR,i.tanh=gR,i.trunc=yR,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Y2(t,e){return new this(t).div(e)}function q2(t){return new this(t).exp()}function Q2(t){return be(t=new this(t),t.e+1,3)}function K2(){var t,e,r=new this(0);for(Ce=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Ce=!0,new this(1/0);r=e}return Ce=!0,r.sqrt()}function ax(t){return t instanceof $e||t&&t.toStringTag===DE||!1}function Z2(t){return new this(t).ln()}function J2(t,e){return new this(t).log(e)}function eR(t){return new this(t).log(2)}function tR(t){return new this(t).log(10)}function rR(){return GE(this,arguments,"lt")}function nR(){return GE(this,arguments,"gt")}function iR(t,e){return new this(t).mod(e)}function sR(t,e){return new this(t).mul(e)}function oR(t,e){return new this(t).pow(e)}function aR(t){var e,r,n,i,s=0,o=new this(1),a=[];if(t===void 0?t=this.precision:Dr(t,1,Ws),n=Math.ceil(t/Se),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);s<n;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=n/4}else throw Error(LE);else for(;s<n;)a[s++]=Math.random()*1e7|0;for(n=a[--s],t%=Se,n&&t&&(i=Lt(10,Se-t),a[s]=(n/i|0)*i);a[s]===0;s--)a.pop();if(s<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=Se)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<Se&&(r-=Se-n)}return o.e=r,o.d=a,o}function lR(t){return be(t=new this(t),t.e+1,this.rounding)}function uR(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function cR(t){return new this(t).sin()}function hR(t){return new this(t).sinh()}function dR(t){return new this(t).sqrt()}function fR(t,e){return new this(t).sub(e)}function pR(){var t=0,e=arguments,r=new this(e[t]);for(Ce=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Ce=!0,be(r,this.precision,this.rounding)}function mR(t){return new this(t).tan()}function gR(t){return new this(t).tanh()}function yR(t){return be(t=new this(t),t.e+1,1)}K[Symbol.for("nodejs.util.inspect.custom")]=K.toString;K[Symbol.toStringTag]="Decimal";var $e=K.constructor=HE($g);Ad=new $e(Ad);Cd=new $e(Cd);function vR(t){let e={};for(let r in t){let n=t[r];e[r]=n.map((i,s)=>[s,i])}return e}function _R(t){let e={};for(let r in t){let n=t[r],i=n.length,s=[];for(let c=0;c<i;c++){let d=n[c];s.push([c+.5,d+.5])}let o=n[0];s.unshift([0,o+.5]);let a=n[i-1];s.push([i,a+.5]),e[r]=s}return e}function xR(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(r=>{let n=r.replace(/\+/g," ").split("="),i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function wR(t){let e="",r=0;for(let n in t)t[n]&&(r++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function bR(t){return t===void 0&&(t=Qy()),`${location.protocol}//${location.host}${location.pathname}?`+wR(t)}function Qy(){return xR(location.search)}function ER(t,e){let r=Qy();return r[t]=e,bR(r)}function Ir(t,e){let r=Qy();return r[t]?r[t]:e}let lx={0:[1,1,1,1,1],1:[0,0,0,0,0],2:[2,2,2,2,2],3:[0,1,2,1,0],4:[2,1,0,1,2],5:[0,0,1,0,0],6:[2,2,1,2,2],7:[1,2,2,2,1],8:[1,0,0,0,1]};const TR={row:3,column:5,paylineMap:vR(lx),paylinePathMap:_R(lx),symbolSize:[104,102],symbolFrame:[104,102]};sc("table",TR);const SR={id:1,layoutMap:{l:{safeArea:[35,220,1170,658.125],displayArea:[0,0,1170,1170]},p:{safeArea:[315,120,540,960],displayArea:[0,0,1170,1170]}}};sc("gameconfig",Object.assign(SR,T2));const AR={spin:{betLevel:new $e(9),betAmount:new $e(.01)}};sc("spin",AR);const CR={setting:{historyDetail:{on:!0,data:JSON.parse(decodeURIComponent(Ir("tdata")))}}};sc("setting",CR);const PR={user:{currency:Ir("currency").toUpperCase()}};sc("user",PR);var IR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RR=window.device,oe={},Wg=[];window.device=oe;var ku=window.document.documentElement,kR=window.navigator.userAgent.toLowerCase(),ux=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];oe.macos=function(){return Pt("mac")};oe.ios=function(){return oe.iphone()||oe.ipod()||oe.ipad()};oe.iphone=function(){return!oe.windows()&&Pt("iphone")};oe.ipod=function(){return Pt("ipod")};oe.ipad=function(){var t=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return Pt("ipad")||t};oe.android=function(){return!oe.windows()&&Pt("android")};oe.androidPhone=function(){return oe.android()&&Pt("mobile")};oe.androidTablet=function(){return oe.android()&&!Pt("mobile")};oe.blackberry=function(){return Pt("blackberry")||Pt("bb10")};oe.blackberryPhone=function(){return oe.blackberry()&&!Pt("tablet")};oe.blackberryTablet=function(){return oe.blackberry()&&Pt("tablet")};oe.windows=function(){return Pt("windows")};oe.windowsPhone=function(){return oe.windows()&&Pt("phone")};oe.windowsTablet=function(){return oe.windows()&&Pt("touch")&&!oe.windowsPhone()};oe.fxos=function(){return(Pt("(mobile")||Pt("(tablet"))&&Pt(" rv:")};oe.fxosPhone=function(){return oe.fxos()&&Pt("mobile")};oe.fxosTablet=function(){return oe.fxos()&&Pt("tablet")};oe.meego=function(){return Pt("meego")};oe.cordova=function(){return window.cordova&&location.protocol==="file:"};oe.nodeWebkit=function(){return IR(window.process)==="object"};oe.mobile=function(){return oe.androidPhone()||oe.iphone()||oe.ipod()||oe.windowsPhone()||oe.blackberryPhone()||oe.fxosPhone()||oe.meego()};oe.tablet=function(){return oe.ipad()||oe.androidTablet()||oe.blackberryTablet()||oe.windowsTablet()||oe.fxosTablet()};oe.desktop=function(){return!oe.tablet()&&!oe.mobile()};oe.television=function(){for(var t=0;t<ux.length;){if(Pt(ux[t]))return!0;t++}return!1};oe.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ky(screen.orientation.type,"portrait"):oe.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:window.innerHeight/window.innerWidth>1};oe.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ky(screen.orientation.type,"landscape"):oe.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1};oe.noConflict=function(){return window.device=RR,this};function Ky(t,e){return t.indexOf(e)!==-1}function Pt(t){return Ky(kR,t)}function jE(t){return ku.className.match(new RegExp(t,"i"))}function Rt(t){var e=null;jE(t)||(e=ku.className.replace(/^\s+|\s+$/g,""),ku.className=e+" "+t)}function cx(t){jE(t)&&(ku.className=ku.className.replace(" "+t,""))}oe.ios()?oe.ipad()?Rt("ios ipad tablet"):oe.iphone()?Rt("ios iphone mobile"):oe.ipod()&&Rt("ios ipod mobile"):oe.macos()?Rt("macos desktop"):oe.android()?oe.androidTablet()?Rt("android tablet"):Rt("android mobile"):oe.blackberry()?oe.blackberryTablet()?Rt("blackberry tablet"):Rt("blackberry mobile"):oe.windows()?oe.windowsTablet()?Rt("windows tablet"):oe.windowsPhone()?Rt("windows mobile"):Rt("windows desktop"):oe.fxos()?oe.fxosTablet()?Rt("fxos tablet"):Rt("fxos mobile"):oe.meego()?Rt("meego mobile"):oe.nodeWebkit()?Rt("node-webkit"):oe.television()?Rt("television"):oe.desktop()&&Rt("desktop");oe.cordova()&&Rt("cordova");function rd(){oe.landscape()?(cx("portrait"),Rt("landscape"),hx("landscape")):(cx("landscape"),Rt("portrait"),hx("portrait")),WE()}function hx(t){for(var e=0;e<Wg.length;e++)Wg[e](t)}oe.onChangeOrientation=function(t){typeof t=="function"&&Wg.push(t)};var nd="resize";Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(nd="orientationchange");window.addEventListener?window.addEventListener(nd,rd,!1):window.attachEvent?window.attachEvent(nd,rd):window[nd]=rd;rd();function Zy(t){for(var e=0;e<t.length;e++)if(oe[t[e]]())return t[e];return"unknown"}oe.type=Zy(["mobile","tablet","desktop"]);oe.os=Zy(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]);function WE(){oe.orientation=Zy(["portrait","landscape"])}WE();var Jy={exports:{}},Ga=typeof Reflect=="object"?Reflect:null,dx=Ga&&typeof Ga.apply=="function"?Ga.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},id;Ga&&typeof Ga.ownKeys=="function"?id=Ga.ownKeys:Object.getOwnPropertySymbols?id=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:id=function(e){return Object.getOwnPropertyNames(e)};function MR(t){console&&console.warn&&console.warn(t)}var VE=Number.isNaN||function(e){return e!==e};function Ke(){Ke.init.call(this)}Jy.exports=Ke;Jy.exports.once=DR;Ke.EventEmitter=Ke;Ke.prototype._events=void 0;Ke.prototype._eventsCount=0;Ke.prototype._maxListeners=void 0;var fx=10;function If(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ke,"defaultMaxListeners",{enumerable:!0,get:function(){return fx},set:function(t){if(typeof t!="number"||t<0||VE(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");fx=t}});Ke.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ke.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||VE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function XE(t){return t._maxListeners===void 0?Ke.defaultMaxListeners:t._maxListeners}Ke.prototype.getMaxListeners=function(){return XE(this)};Ke.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")dx(c,this,r);else for(var d=c.length,p=ZE(c,d),n=0;n<d;++n)dx(p[n],this,r);return!0};function YE(t,e,r,n){var i,s,o;if(If(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=XE(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,MR(a)}return t}Ke.prototype.addListener=function(e,r){return YE(this,e,r,!1)};Ke.prototype.on=Ke.prototype.addListener;Ke.prototype.prependListener=function(e,r){return YE(this,e,r,!0)};function NR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function qE(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=NR.bind(n);return i.listener=r,n.wrapFn=i,i}Ke.prototype.once=function(e,r){return If(r),this.on(e,qE(this,e,r)),this};Ke.prototype.prependOnceListener=function(e,r){return If(r),this.prependListener(e,qE(this,e,r)),this};Ke.prototype.removeListener=function(e,r){var n,i,s,o,a;if(If(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():OR(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Ke.prototype.off=Ke.prototype.removeListener;Ke.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function QE(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?LR(i):ZE(i,i.length)}Ke.prototype.listeners=function(e){return QE(this,e,!0)};Ke.prototype.rawListeners=function(e){return QE(this,e,!1)};Ke.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):KE.call(t,e)};Ke.prototype.listenerCount=KE;function KE(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ke.prototype.eventNames=function(){return this._eventsCount>0?id(this._events):[]};function ZE(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function OR(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function LR(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function DR(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}JE(t,e,s,{once:!0}),e!=="error"&&FR(t,i,{once:!0})})}function FR(t,e,r){typeof t.on=="function"&&JE(t,"error",e,r)}function JE(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var BR=Jy.exports,$o=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))($o||{}),eT=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(eT||{}),Vg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Vg||{}),Te=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Te||{}),Nn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Nn||{}),ie=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ie||{}),$a=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))($a||{}),we=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(we||{}),fe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(fe||{}),Di=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Di||{}),$i=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))($i||{}),gi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(gi||{}),kr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(kr||{}),ai=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ai||{}),ev=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(ev||{}),hn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(hn||{}),Ot=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ot||{}),kt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(kt||{}),hi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(hi||{});const UR={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},pe={ADAPTER:UR,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Em=/iPhone/i,px=/iPod/i,mx=/iPad/i,gx=/\biOS-universal(?:.+)Mac\b/i,Tm=/\bAndroid(?:.+)Mobile\b/i,yx=/Android/i,la=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ah=/Silk/i,Ci=/Windows Phone/i,vx=/\bWindows(?:.+)ARM\b/i,_x=/BlackBerry/i,xx=/BB10/i,wx=/Opera Mini/i,bx=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ex=/Mobile(?:.+)Firefox\b/i,Tx=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function GR(t){return function(e){return e.test(t)}}function Sx(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=GR(r),s={apple:{phone:i(Em)&&!i(Ci),ipod:i(px),tablet:!i(Em)&&(i(mx)||Tx(e))&&!i(Ci),universal:i(gx),device:(i(Em)||i(px)||i(mx)||i(gx)||Tx(e))&&!i(Ci)},amazon:{phone:i(la),tablet:!i(la)&&i(ah),device:i(la)||i(ah)},android:{phone:!i(Ci)&&i(la)||!i(Ci)&&i(Tm),tablet:!i(Ci)&&!i(la)&&!i(Tm)&&(i(ah)||i(yx)),device:!i(Ci)&&(i(la)||i(ah)||i(Tm)||i(yx))||i(/\bokhttp\b/i)},windows:{phone:i(Ci),tablet:i(vx),device:i(Ci)||i(vx)},other:{blackberry:i(_x),blackberry10:i(xx),opera:i(wx),firefox:i(Ex),chrome:i(bx),device:i(_x)||i(xx)||i(wx)||i(Ex)||i(bx)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const $R=Sx.default??Sx,On=$R(globalThis.navigator);pe.RETINA_PREFIX=/@([0-9\.]+)x/;pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var tT={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function s(c,d,p,h,f){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,h||c,f),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,g=h.length,y=new Array(g);f<g;f++)y[f]=h[f].fn;return y},a.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},a.prototype.emit=function(d,p,h,f,g,y){var x=r?r+d:d;if(!this._events[x])return!1;var b=this._events[x],_=arguments.length,E,T;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,h),!0;case 4:return b.fn.call(b.context,p,h,f),!0;case 5:return b.fn.call(b.context,p,h,f,g),!0;case 6:return b.fn.call(b.context,p,h,f,g,y),!0}for(T=1,E=new Array(_-1);T<_;T++)E[T-1]=arguments[T];b.fn.apply(b.context,E)}else{var A=b.length,I;for(T=0;T<A;T++)switch(b[T].once&&this.removeListener(d,b[T].fn,void 0,!0),_){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,p);break;case 3:b[T].fn.call(b[T].context,p,h);break;case 4:b[T].fn.call(b[T].context,p,h,f);break;default:if(!E)for(I=1,E=new Array(_-1);I<_;I++)E[I-1]=arguments[I];b[T].fn.apply(b[T].context,E)}}return!0},a.prototype.on=function(d,p,h){return s(this,d,p,h,!1)},a.prototype.once=function(d,p,h){return s(this,d,p,h,!0)},a.prototype.removeListener=function(d,p,h,f){var g=r?r+d:d;if(!this._events[g])return this;if(!p)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===p&&(!f||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var x=0,b=[],_=y.length;x<_;x++)(y[x].fn!==p||f&&!y[x].once||h&&y[x].context!==h)&&b.push(y[x]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(tT);var zR=tT.exports;const oc=nc(zR);var tv={exports:{}};tv.exports=Rf;tv.exports.default=Rf;function Rf(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=rT(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,d,p,h,f,g;if(n&&(s=XR(t,e,s,r)),t.length>80*r){a=d=t[0],c=p=t[1];for(var y=r;y<i;y+=r)h=t[y],f=t[y+1],h<a&&(a=h),f<c&&(c=f),h>d&&(d=h),f>p&&(p=f);g=Math.max(d-a,p-c),g=g!==0?32767/g:0}return Mu(s,o,r,a,c,g,0),o}function rT(t,e,r,n,i){var s,o;if(i===qg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Ax(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Ax(s,t[s],t[s+1],o);return o&&kf(o,o.next)&&(Ou(o),o=o.next),o}function Mo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(kf(r,r.next)||mt(r.prev,r,r.next)===0)){if(Ou(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Mu(t,e,r,n,i,s,o){if(t){!o&&s&&ZR(t,n,i,s);for(var a=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?jR(t,n,i,s):HR(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Ou(t),t=d.next,a=d.next;continue}if(t=d,t===a){o?o===1?(t=WR(Mo(t),e,r),Mu(t,e,r,n,i,s,2)):o===2&&VR(t,e,r,n,i,s):Mu(Mo(t),e,r,n,i,s,1);break}}}}function HR(t){var e=t.prev,r=t,n=t.next;if(mt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,d=n.y,p=i<s?i<o?i:o:s<o?s:o,h=a<c?a<d?a:d:c<d?c:d,f=i>s?i>o?i:o:s>o?s:o,g=a>c?a>d?a:d:c>d?c:d,y=n.next;y!==e;){if(y.x>=p&&y.x<=f&&y.y>=h&&y.y<=g&&Ta(i,a,s,c,o,d,y.x,y.y)&&mt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function jR(t,e,r,n){var i=t.prev,s=t,o=t.next;if(mt(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,d=o.x,p=i.y,h=s.y,f=o.y,g=a<c?a<d?a:d:c<d?c:d,y=p<h?p<f?p:f:h<f?h:f,x=a>c?a>d?a:d:c>d?c:d,b=p>h?p>f?p:f:h>f?h:f,_=Xg(g,y,e,r,n),E=Xg(x,b,e,r,n),T=t.prevZ,A=t.nextZ;T&&T.z>=_&&A&&A.z<=E;){if(T.x>=g&&T.x<=x&&T.y>=y&&T.y<=b&&T!==i&&T!==o&&Ta(a,p,c,h,d,f,T.x,T.y)&&mt(T.prev,T,T.next)>=0||(T=T.prevZ,A.x>=g&&A.x<=x&&A.y>=y&&A.y<=b&&A!==i&&A!==o&&Ta(a,p,c,h,d,f,A.x,A.y)&&mt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;T&&T.z>=_;){if(T.x>=g&&T.x<=x&&T.y>=y&&T.y<=b&&T!==i&&T!==o&&Ta(a,p,c,h,d,f,T.x,T.y)&&mt(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;A&&A.z<=E;){if(A.x>=g&&A.x<=x&&A.y>=y&&A.y<=b&&A!==i&&A!==o&&Ta(a,p,c,h,d,f,A.x,A.y)&&mt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function WR(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!kf(i,s)&&nT(i,n,n.next,s)&&Nu(i,s)&&Nu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ou(n),Ou(n.next),n=t=s),n=n.next}while(n!==t);return Mo(n)}function VR(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&tk(o,a)){var c=iT(o,a);o=Mo(o,o.next),c=Mo(c,c.next),Mu(o,e,r,n,i,s,0),Mu(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function XR(t,e,r,n){var i=[],s,o,a,c,d;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,d=rT(t,a,c,n,!1),d===d.next&&(d.steiner=!0),i.push(ek(d));for(i.sort(YR),s=0;s<i.length;s++)r=qR(i[s],r);return r}function YR(t,e){return t.x-e.x}function qR(t,e){var r=QR(t,e);if(!r)return e;var n=iT(r,t);return Mo(n,n.next),Mo(r,r.next)}function QR(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,p=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&Ta(i<p?n:s,i,d,p,i<p?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Nu(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&KR(o,r)))&&(o=r,h=f)),r=r.next;while(r!==c);return o}function KR(t,e){return mt(t.prev,t,e.prev)<0&&mt(e.next,t,t.next)<0}function ZR(t,e,r,n){var i=t;do i.z===0&&(i.z=Xg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,JR(i)}function JR(t){var e,r,n,i,s,o,a,c,d=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<d&&(a++,n=n.nextZ,!!n);e++);for(c=d;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(o>1);return t}function Xg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ek(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ta(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function tk(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!rk(t,e)&&(Nu(t,e)&&Nu(e,t)&&nk(t,e)&&(mt(t.prev,t,e.prev)||mt(t,e.prev,e))||kf(t,e)&&mt(t.prev,t,t.next)>0&&mt(e.prev,e,e.next)>0)}function mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function kf(t,e){return t.x===e.x&&t.y===e.y}function nT(t,e,r,n){var i=uh(mt(t,e,r)),s=uh(mt(t,e,n)),o=uh(mt(r,n,t)),a=uh(mt(r,n,e));return!!(i!==s&&o!==a||i===0&&lh(t,r,e)||s===0&&lh(t,n,e)||o===0&&lh(r,t,n)||a===0&&lh(r,e,n))}function lh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function uh(t){return t>0?1:t<0?-1:0}function rk(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&nT(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Nu(t,e){return mt(t.prev,t,t.next)<0?mt(t,e,t.next)>=0&&mt(t,t.prev,e)>=0:mt(t,e,t.prev)<0||mt(t,t.next,e)<0}function nk(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function iT(t,e){var r=new Yg(t.i,t.x,t.y),n=new Yg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Ax(t,e,r,n){var i=new Yg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ou(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Yg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rf.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(qg(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var d=e[a]*r,p=a<c-1?e[a+1]*r:t.length;o-=Math.abs(qg(t,d,p,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,g=n[a+1]*r,y=n[a+2]*r;h+=Math.abs((t[f]-t[y])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[y+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function qg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Rf.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var ik=tv.exports;const sk=nc(ik);var Id={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Id.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Oi=="object"&&Oi;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,d=1,p=26,h=38,f=700,g=72,y=128,x="-",b=/^xn--/,_=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-d,I=Math.floor,O=String.fromCharCode,M;function R(F){throw new RangeError(T[F])}function U(F,$){for(var ee=F.length,Ie=[];ee--;)Ie[ee]=$(F[ee]);return Ie}function G(F,$){var ee=F.split("@"),Ie="";ee.length>1&&(Ie=ee[0]+"@",F=ee[1]),F=F.replace(E,".");var Ae=F.split("."),Ge=U(Ae,$).join(".");return Ie+Ge}function Q(F){for(var $=[],ee=0,Ie=F.length,Ae,Ge;ee<Ie;)Ae=F.charCodeAt(ee++),Ae>=55296&&Ae<=56319&&ee<Ie?(Ge=F.charCodeAt(ee++),(Ge&64512)==56320?$.push(((Ae&1023)<<10)+(Ge&1023)+65536):($.push(Ae),ee--)):$.push(Ae);return $}function X(F){return U(F,function($){var ee="";return $>65535&&($-=65536,ee+=O($>>>10&1023|55296),$=56320|$&1023),ee+=O($),ee}).join("")}function D(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:c}function H(F,$){return F+22+75*(F<26)-(($!=0)<<5)}function J(F,$,ee){var Ie=0;for(F=ee?I(F/f):F>>1,F+=I(F/$);F>A*p>>1;Ie+=c)F=I(F/A);return I(Ie+(A+1)*F/(F+h))}function Z(F){var $=[],ee=F.length,Ie,Ae=0,Ge=y,Me=g,Ve,Gt,Zt,vt,Ne,rt,He,Kr,Zr;for(Ve=F.lastIndexOf(x),Ve<0&&(Ve=0),Gt=0;Gt<Ve;++Gt)F.charCodeAt(Gt)>=128&&R("not-basic"),$.push(F.charCodeAt(Gt));for(Zt=Ve>0?Ve+1:0;Zt<ee;){for(vt=Ae,Ne=1,rt=c;Zt>=ee&&R("invalid-input"),He=D(F.charCodeAt(Zt++)),(He>=c||He>I((a-Ae)/Ne))&&R("overflow"),Ae+=He*Ne,Kr=rt<=Me?d:rt>=Me+p?p:rt-Me,!(He<Kr);rt+=c)Zr=c-Kr,Ne>I(a/Zr)&&R("overflow"),Ne*=Zr;Ie=$.length+1,Me=J(Ae-vt,Ie,vt==0),I(Ae/Ie)>a-Ge&&R("overflow"),Ge+=I(Ae/Ie),Ae%=Ie,$.splice(Ae++,0,Ge)}return X($)}function ce(F){var $,ee,Ie,Ae,Ge,Me,Ve,Gt,Zt,vt,Ne,rt=[],He,Kr,Zr,Zs;for(F=Q(F),He=F.length,$=y,ee=0,Ge=g,Me=0;Me<He;++Me)Ne=F[Me],Ne<128&&rt.push(O(Ne));for(Ie=Ae=rt.length,Ae&&rt.push(x);Ie<He;){for(Ve=a,Me=0;Me<He;++Me)Ne=F[Me],Ne>=$&&Ne<Ve&&(Ve=Ne);for(Kr=Ie+1,Ve-$>I((a-ee)/Kr)&&R("overflow"),ee+=(Ve-$)*Kr,$=Ve,Me=0;Me<He;++Me)if(Ne=F[Me],Ne<$&&++ee>a&&R("overflow"),Ne==$){for(Gt=ee,Zt=c;vt=Zt<=Ge?d:Zt>=Ge+p?p:Zt-Ge,!(Gt<vt);Zt+=c)Zs=Gt-vt,Zr=c-vt,rt.push(O(H(vt+Zs%Zr,0))),Gt=I(Zs/Zr);rt.push(O(H(Gt,0))),Ge=J(ee,Kr,Ie==Ae),ee=0,++Ie}++ee,++$}return rt.join("")}function N(F){return G(F,function($){return b.test($)?Z($.slice(4).toLowerCase()):$})}function W(F){return G(F,function($){return _.test($)?"xn--"+ce($):$})}if(o={version:"1.4.1",ucs2:{decode:Q,encode:X},decode:Z,encode:ce,toASCII:W,toUnicode:N},n&&i)if(t.exports==n)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(n[M]=o[M]);else r.punycode=o})(Oi)})(Id,Id.exports);var ok=Id.exports,ak=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Cx=typeof Symbol<"u"&&Symbol,lk=ak,uk=function(){return typeof Cx!="function"||typeof Symbol!="function"||typeof Cx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lk()},Px={foo:{}},ck=Object,hk=function(){return{__proto__:Px}.foo===Px.foo&&!({__proto__:null}instanceof ck)},dk="Function.prototype.bind called on incompatible ",fk=Object.prototype.toString,pk=Math.max,mk="[object Function]",Ix=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},gk=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},yk=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},vk=function(e){var r=this;if(typeof r!="function"||fk.apply(r)!==mk)throw new TypeError(dk+r);for(var n=gk(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,Ix(n,arguments));return Object(p)===p?p:this}return r.apply(e,Ix(n,arguments))},o=pk(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+yk(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},_k=vk,rv=Function.prototype.bind||_k,xk=Function.prototype.call,wk=Object.prototype.hasOwnProperty,bk=rv,Ek=bk.call(xk,wk),De,el=SyntaxError,sT=Function,za=TypeError,Sm=function(t){try{return sT('"use strict"; return ('+t+").constructor;")()}catch{}},Ao=Object.getOwnPropertyDescriptor;if(Ao)try{Ao({},"")}catch{Ao=null}var Am=function(){throw new za},Tk=Ao?function(){try{return arguments.callee,Am}catch{try{return Ao(arguments,"callee").get}catch{return Am}}}():Am,ua=uk(),Sk=hk(),Vt=Object.getPrototypeOf||(Sk?function(t){return t.__proto__}:null),ma={},Ak=typeof Uint8Array>"u"||!Vt?De:Vt(Uint8Array),Co={"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":ua&&Vt?Vt([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":ma,"%AsyncGenerator%":ma,"%AsyncGeneratorFunction%":ma,"%AsyncIteratorPrototype%":ma,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":sT,"%GeneratorFunction%":ma,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ua&&Vt?Vt(Vt([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ua||!Vt?De:Vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ua||!Vt?De:Vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ua&&Vt?Vt(""[Symbol.iterator]()):De,"%Symbol%":ua?Symbol:De,"%SyntaxError%":el,"%ThrowTypeError%":Tk,"%TypedArray%":Ak,"%TypeError%":za,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};if(Vt)try{null.error}catch(t){var Ck=Vt(Vt(t));Co["%Error.prototype%"]=Ck}var Pk=function t(e){var r;if(e==="%AsyncFunction%")r=Sm("async function () {}");else if(e==="%GeneratorFunction%")r=Sm("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Sm("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Vt&&(r=Vt(i.prototype))}return Co[e]=r,r},Rx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ac=rv,Rd=Ek,Ik=ac.call(Function.call,Array.prototype.concat),Rk=ac.call(Function.apply,Array.prototype.splice),kx=ac.call(Function.call,String.prototype.replace),kd=ac.call(Function.call,String.prototype.slice),kk=ac.call(Function.call,RegExp.prototype.exec),Mk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Nk=/\\(\\)?/g,Ok=function(e){var r=kd(e,0,1),n=kd(e,-1);if(r==="%"&&n!=="%")throw new el("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new el("invalid intrinsic syntax, expected opening `%`");var i=[];return kx(e,Mk,function(s,o,a,c){i[i.length]=a?kx(c,Nk,"$1"):o||s}),i},Lk=function(e,r){var n=e,i;if(Rd(Rx,n)&&(i=Rx[n],n="%"+i[0]+"%"),Rd(Co,n)){var s=Co[n];if(s===ma&&(s=Pk(n)),typeof s>"u"&&!r)throw new za("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new el("intrinsic "+e+" does not exist!")},zo=function(e,r){if(typeof e!="string"||e.length===0)throw new za("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new za('"allowMissing" argument must be a boolean');if(kk(/^%?[^%]*%?$/,e)===null)throw new el("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ok(e),i=n.length>0?n[0]:"",s=Lk("%"+i+"%",r),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],Rk(n,Ik([0,1],d)));for(var p=1,h=!0;p<n.length;p+=1){var f=n[p],g=kd(f,0,1),y=kd(f,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new el("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",Rd(Co,o))a=Co[o];else if(a!=null){if(!(f in a)){if(!r)throw new za("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ao&&p+1>=n.length){var x=Ao(a,f);h=!!x,h&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[f]}else h=Rd(a,f),a=a[f];h&&!c&&(Co[o]=a)}}return a},oT={exports:{}},Dk=zo,Qg=Dk("%Object.defineProperty%",!0),Kg=function(){if(Qg)try{return Qg({},"a",{value:1}),!0}catch{return!1}return!1};Kg.hasArrayLengthDefineBug=function(){if(!Kg())return null;try{return Qg([],"length",{value:1}).length!==1}catch{return!0}};var aT=Kg,Fk=zo,sd=Fk("%Object.getOwnPropertyDescriptor%",!0);if(sd)try{sd([],"length")}catch{sd=null}var lT=sd,Bk=aT(),nv=zo,du=Bk&&nv("%Object.defineProperty%",!0);if(du)try{du({},"a",{value:1})}catch{du=!1}var Uk=nv("%SyntaxError%"),ca=nv("%TypeError%"),Mx=lT,Gk=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ca("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ca("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ca("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ca("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ca("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ca("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Mx&&Mx(e,r);if(du)du(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Uk("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},uT=zo,Nx=Gk,$k=aT(),Ox=lT,Lx=uT("%TypeError%"),zk=uT("%Math.floor%"),Hk=function(e,r){if(typeof e!="function")throw new Lx("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||zk(r)!==r)throw new Lx("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Ox){var o=Ox(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&($k?Nx(e,"length",r,!0,!0):Nx(e,"length",r)),e};(function(t){var e=rv,r=zo,n=Hk,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+d(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p})(oT);var jk=oT.exports,cT=zo,hT=jk,Wk=hT(cT("String.prototype.indexOf")),Vk=function(e,r){var n=cT(e,!!r);return typeof n=="function"&&Wk(e,".prototype.")>-1?hT(n):n};const Xk={},Yk=Object.freeze(Object.defineProperty({__proto__:null,default:Xk},Symbol.toStringTag,{value:"Module"})),qk=xE(Yk);var iv=typeof Map=="function"&&Map.prototype,Cm=Object.getOwnPropertyDescriptor&&iv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Md=iv&&Cm&&typeof Cm.get=="function"?Cm.get:null,Dx=iv&&Map.prototype.forEach,sv=typeof Set=="function"&&Set.prototype,Pm=Object.getOwnPropertyDescriptor&&sv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Nd=sv&&Pm&&typeof Pm.get=="function"?Pm.get:null,Fx=sv&&Set.prototype.forEach,Qk=typeof WeakMap=="function"&&WeakMap.prototype,fu=Qk?WeakMap.prototype.has:null,Kk=typeof WeakSet=="function"&&WeakSet.prototype,pu=Kk?WeakSet.prototype.has:null,Zk=typeof WeakRef=="function"&&WeakRef.prototype,Bx=Zk?WeakRef.prototype.deref:null,Jk=Boolean.prototype.valueOf,eM=Object.prototype.toString,tM=Function.prototype.toString,rM=String.prototype.match,ov=String.prototype.slice,bs=String.prototype.replace,nM=String.prototype.toUpperCase,Ux=String.prototype.toLowerCase,dT=RegExp.prototype.test,Gx=Array.prototype.concat,li=Array.prototype.join,iM=Array.prototype.slice,$x=Math.floor,Zg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Im=Object.getOwnPropertySymbols,Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,tl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===tl||"symbol")?Symbol.toStringTag:null,fT=Object.prototype.propertyIsEnumerable,zx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Hx(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||dT.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-$x(-t):$x(t);if(n!==t){var i=String(n),s=ov.call(e,i.length+1);return bs.call(i,r,"$&_")+"."+bs.call(bs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return bs.call(e,r,"$&_")}var e0=qk,jx=e0.custom,Wx=mT(jx)?jx:null,sM=function t(e,r,n,i){var s=r||{};if(ps(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ps(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ps(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ps(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ps(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return yT(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Hx(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return a?Hx(e,d):d}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return t0(e)?"[Array]":"[Object]";var h=EM(s,n);if(typeof i>"u")i=[];else if(gT(i,e)>=0)return"[Circular]";function f(D,H,J){if(H&&(i=iM.call(i),i.push(H)),J){var Z={depth:s.depth};return ps(s,"quoteStyle")&&(Z.quoteStyle=s.quoteStyle),t(D,Z,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!Vx(e)){var g=pM(e),y=ch(e,f);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+li.call(y,", ")+" }":"")}if(mT(e)){var x=tl?bs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Jg.call(e);return typeof e=="object"&&!tl?Ul(x):x}if(xM(e)){for(var b="<"+Ux.call(String(e.nodeName)),_=e.attributes||[],E=0;E<_.length;E++)b+=" "+_[E].name+"="+pT(oM(_[E].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+Ux.call(String(e.nodeName))+">",b}if(t0(e)){if(e.length===0)return"[]";var T=ch(e,f);return h&&!bM(T)?"["+r0(T,h)+"]":"[ "+li.call(T,", ")+" ]"}if(lM(e)){var A=ch(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!fT.call(e,"cause")?"{ ["+String(e)+"] "+li.call(Gx.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+li.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Wx&&typeof e[Wx]=="function"&&e0)return e0(e,{depth:p-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(mM(e)){var I=[];return Dx&&Dx.call(e,function(D,H){I.push(f(H,e,!0)+" => "+f(D,e))}),Xx("Map",Md.call(e),I,h)}if(vM(e)){var O=[];return Fx&&Fx.call(e,function(D){O.push(f(D,e))}),Xx("Set",Nd.call(e),O,h)}if(gM(e))return Rm("WeakMap");if(_M(e))return Rm("WeakSet");if(yM(e))return Rm("WeakRef");if(cM(e))return Ul(f(Number(e)));if(dM(e))return Ul(f(Zg.call(e)));if(hM(e))return Ul(Jk.call(e));if(uM(e))return Ul(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Oi)return"{ [object globalThis] }";if(!aM(e)&&!Vx(e)){var M=ch(e,f),R=zx?zx(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",G=!R&&mr&&Object(e)===e&&mr in e?ov.call(Vs(e),8,-1):U?"Object":"",Q=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=Q+(G||U?"["+li.call(Gx.call([],G||[],U||[]),": ")+"] ":"");return M.length===0?X+"{}":h?X+"{"+r0(M,h)+"}":X+"{ "+li.call(M,", ")+" }"}return String(e)};function pT(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function oM(t){return bs.call(String(t),/"/g,"&quot;")}function t0(t){return Vs(t)==="[object Array]"&&(!mr||!(typeof t=="object"&&mr in t))}function aM(t){return Vs(t)==="[object Date]"&&(!mr||!(typeof t=="object"&&mr in t))}function Vx(t){return Vs(t)==="[object RegExp]"&&(!mr||!(typeof t=="object"&&mr in t))}function lM(t){return Vs(t)==="[object Error]"&&(!mr||!(typeof t=="object"&&mr in t))}function uM(t){return Vs(t)==="[object String]"&&(!mr||!(typeof t=="object"&&mr in t))}function cM(t){return Vs(t)==="[object Number]"&&(!mr||!(typeof t=="object"&&mr in t))}function hM(t){return Vs(t)==="[object Boolean]"&&(!mr||!(typeof t=="object"&&mr in t))}function mT(t){if(tl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Jg)return!1;try{return Jg.call(t),!0}catch{}return!1}function dM(t){if(!t||typeof t!="object"||!Zg)return!1;try{return Zg.call(t),!0}catch{}return!1}var fM=Object.prototype.hasOwnProperty||function(t){return t in this};function ps(t,e){return fM.call(t,e)}function Vs(t){return eM.call(t)}function pM(t){if(t.name)return t.name;var e=rM.call(tM.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function gT(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function mM(t){if(!Md||!t||typeof t!="object")return!1;try{Md.call(t);try{Nd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function gM(t){if(!fu||!t||typeof t!="object")return!1;try{fu.call(t,fu);try{pu.call(t,pu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function yM(t){if(!Bx||!t||typeof t!="object")return!1;try{return Bx.call(t),!0}catch{}return!1}function vM(t){if(!Nd||!t||typeof t!="object")return!1;try{Nd.call(t);try{Md.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function _M(t){if(!pu||!t||typeof t!="object")return!1;try{pu.call(t,pu);try{fu.call(t,fu)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function xM(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function yT(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return yT(ov.call(t,0,e.maxStringLength),e)+n}var i=bs.call(bs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wM);return pT(i,"single",e)}function wM(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+nM.call(e.toString(16))}function Ul(t){return"Object("+t+")"}function Rm(t){return t+" { ? }"}function Xx(t,e,r,n){var i=n?r0(r,n):li.call(r,", ");return t+" ("+e+") {"+i+"}"}function bM(t){for(var e=0;e<t.length;e++)if(gT(t[e],`
`)>=0)return!1;return!0}function EM(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=li.call(Array(t.indent+1)," ");else return null;return{base:r,prev:li.call(Array(e+1),r)}}function r0(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+li.call(t,","+r)+`
`+e.prev}function ch(t,e){var r=t0(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ps(t,i)?e(t[i],t):""}var s=typeof Im=="function"?Im(t):[],o;if(tl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)ps(t,c)&&(r&&String(Number(c))===c&&c<t.length||tl&&o["$"+c]instanceof Symbol||(dT.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Im=="function")for(var d=0;d<s.length;d++)fT.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var av=zo,fl=Vk,TM=sM,SM=av("%TypeError%"),hh=av("%WeakMap%",!0),dh=av("%Map%",!0),AM=fl("WeakMap.prototype.get",!0),CM=fl("WeakMap.prototype.set",!0),PM=fl("WeakMap.prototype.has",!0),IM=fl("Map.prototype.get",!0),RM=fl("Map.prototype.set",!0),kM=fl("Map.prototype.has",!0),lv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},MM=function(t,e){var r=lv(t,e);return r&&r.value},NM=function(t,e,r){var n=lv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},OM=function(t,e){return!!lv(t,e)},LM=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new SM("Side channel does not contain "+TM(s))},get:function(s){if(hh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return AM(e,s)}else if(dh){if(r)return IM(r,s)}else if(n)return MM(n,s)},has:function(s){if(hh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return PM(e,s)}else if(dh){if(r)return kM(r,s)}else if(n)return OM(n,s);return!1},set:function(s,o){hh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new hh),CM(e,s,o)):dh?(r||(r=new dh),RM(r,s,o)):(n||(n={key:{},next:null}),NM(n,s,o))}};return i},DM=String.prototype.replace,FM=/%20/g,km={RFC1738:"RFC1738",RFC3986:"RFC3986"},uv={default:km.RFC3986,formatters:{RFC1738:function(t){return DM.call(t,FM,"+")},RFC3986:function(t){return String(t)}},RFC1738:km.RFC1738,RFC3986:km.RFC3986},BM=uv,Mm=Object.prototype.hasOwnProperty,xo=Array.isArray,ei=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),UM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(xo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},vT=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},GM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(xo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Mm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return xo(e)&&!xo(r)&&(i=vT(e,n)),xo(e)&&xo(r)?(r.forEach(function(s,o){if(Mm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Mm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},$M=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},zM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},HM=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var d=o.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===BM.RFC1738&&(d===40||d===41)){a+=o.charAt(c);continue}if(d<128){a=a+ei[d];continue}if(d<2048){a=a+(ei[192|d>>6]+ei[128|d&63]);continue}if(d<55296||d>=57344){a=a+(ei[224|d>>12]+ei[128|d>>6&63]+ei[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|o.charCodeAt(c)&1023),a+=ei[240|d>>18]+ei[128|d>>12&63]+ei[128|d>>6&63]+ei[128|d&63]}return a},jM=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var d=a[c],p=o[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:d}),n.push(p))}return UM(r),e},WM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},VM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},XM=function(e,r){return[].concat(e,r)},YM=function(e,r){if(xo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},_T={arrayToObject:vT,assign:$M,combine:XM,compact:jM,decode:zM,encode:HM,isBuffer:VM,isRegExp:WM,maybeMap:YM,merge:GM},xT=LM,od=_T,mu=uv,qM=Object.prototype.hasOwnProperty,Yx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Mi=Array.isArray,QM=Array.prototype.push,wT=function(t,e){QM.apply(t,Mi(e)?e:[e])},KM=Date.prototype.toISOString,qx=mu.default,dr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:od.encode,encodeValuesOnly:!1,format:qx,formatter:mu.formatters[qx],indices:!1,serializeDate:function(e){return KM.call(e)},skipNulls:!1,strictNullHandling:!1},ZM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Nm={},JM=function t(e,r,n,i,s,o,a,c,d,p,h,f,g,y,x,b){for(var _=e,E=b,T=0,A=!1;(E=E.get(Nm))!==void 0&&!A;){var I=E.get(e);if(T+=1,typeof I<"u"){if(I===T)throw new RangeError("Cyclic object value");A=!0}typeof E.get(Nm)>"u"&&(T=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=h(_):n==="comma"&&Mi(_)&&(_=od.maybeMap(_,function(Z){return Z instanceof Date?h(Z):Z})),_===null){if(s)return a&&!y?a(r,dr.encoder,x,"key",f):r;_=""}if(ZM(_)||od.isBuffer(_)){if(a){var O=y?r:a(r,dr.encoder,x,"key",f);return[g(O)+"="+g(a(_,dr.encoder,x,"value",f))]}return[g(r)+"="+g(String(_))]}var M=[];if(typeof _>"u")return M;var R;if(n==="comma"&&Mi(_))y&&a&&(_=od.maybeMap(_,a)),R=[{value:_.length>0?_.join(",")||null:void 0}];else if(Mi(c))R=c;else{var U=Object.keys(_);R=d?U.sort(d):U}for(var G=i&&Mi(_)&&_.length===1?r+"[]":r,Q=0;Q<R.length;++Q){var X=R[Q],D=typeof X=="object"&&typeof X.value<"u"?X.value:_[X];if(!(o&&D===null)){var H=Mi(_)?typeof n=="function"?n(G,X):G:G+(p?"."+X:"["+X+"]");b.set(e,T);var J=xT();J.set(Nm,b),wT(M,t(D,H,n,i,s,o,n==="comma"&&y&&Mi(_)?null:a,c,d,p,h,f,g,y,x,J))}}return M},eN=function(e){if(!e)return dr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||dr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=mu.default;if(typeof e.format<"u"){if(!qM.call(mu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=mu.formatters[n],s=dr.filter;return(typeof e.filter=="function"||Mi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:dr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?dr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dr.charsetSentinel,delimiter:typeof e.delimiter>"u"?dr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:dr.encode,encoder:typeof e.encoder=="function"?e.encoder:dr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:dr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:dr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:dr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dr.strictNullHandling}},tN=function(t,e){var r=t,n=eN(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Mi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Yx?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Yx[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=xT(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||wT(o,JM(r[f],f,c,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var g=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""},rl=_T,n0=Object.prototype.hasOwnProperty,rN=Array.isArray,Wt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:rl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},nN=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},bT=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},iN="utf8=%26%2310003%3B",sN="utf8=%E2%9C%93",oN=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===sN?d="utf-8":o[c]===iN&&(d="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],h=p.indexOf("]="),f=h===-1?p.indexOf("="):h+1,g,y;f===-1?(g=r.decoder(p,Wt.decoder,d,"key"),y=r.strictNullHandling?null:""):(g=r.decoder(p.slice(0,f),Wt.decoder,d,"key"),y=rl.maybeMap(bT(p.slice(f+1),r),function(x){return r.decoder(x,Wt.decoder,d,"value")})),y&&r.interpretNumericEntities&&d==="iso-8859-1"&&(y=nN(y)),p.indexOf("[]=")>-1&&(y=rN(y)?[y]:y),n0.call(n,g)?n[g]=rl.combine(n[g],y):n[g]=y}return n},aN=function(t,e,r,n){for(var i=n?e:bT(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},lN=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),d=c?s.slice(0,c.index):s,p=[];if(d){if(!n.plainObjects&&n0.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&n0.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),aN(p,r,n,i)}},uN=function(e){if(!e)return Wt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Wt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Wt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Wt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Wt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Wt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Wt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Wt.comma,decoder:typeof e.decoder=="function"?e.decoder:Wt.decoder,delimiter:typeof e.delimiter=="string"||rl.isRegExp(e.delimiter)?e.delimiter:Wt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Wt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Wt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Wt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Wt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Wt.strictNullHandling}},cN=function(t,e){var r=uN(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?oN(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=lN(a,n[a],r,typeof t=="string");i=rl.merge(i,c,r)}return r.allowSparse===!0?i:rl.compact(i)},hN=tN,dN=cN,fN=uv,pN={formats:fN,parse:dN,stringify:hN},mN=ok;function zi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var gN=/^([a-z0-9.+-]+:)/i,yN=/:[0-9]*$/,vN=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,_N=["<",">",'"',"`"," ","\r",`
`,"	"],xN=["{","}","|","\\","^","`"].concat(_N),i0=["'"].concat(xN),Qx=["%","/","?",";","#"].concat(i0),Kx=["/","?","#"],wN=255,Zx=/^[+a-z0-9A-Z_-]{0,63}$/,bN=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,EN={javascript:!0,"javascript:":!0},s0={javascript:!0,"javascript:":!0},Ha={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},o0=pN;function TN(t,e,r){if(t&&typeof t=="object"&&t instanceof zi)return t;var n=new zi;return n.parse(t,e,r),n}zi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=vN.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=o0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=gN.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(d&&s0[d])&&(a=a.substr(2),this.slashes=!0)}if(!s0[d]&&(h||d&&!Ha[d])){for(var f=-1,g=0;g<Kx.length;g++){var y=a.indexOf(Kx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}var x,b;f===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",f),b!==-1&&(x=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(x)),f=-1;for(var g=0;g<Qx.length;g++){var y=a.indexOf(Qx[g]);y!==-1&&(f===-1||y<f)&&(f=y)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var E=this.hostname.split(/\./),g=0,T=E.length;g<T;g++){var A=E[g];if(A&&!A.match(Zx)){for(var I="",O=0,M=A.length;O<M;O++)A.charCodeAt(O)>127?I+="x":I+=A[O];if(!I.match(Zx)){var R=E.slice(0,g),U=E.slice(g+1),G=A.match(bN);G&&(R.push(G[1]),U.unshift(G[2])),U.length&&(a="/"+U.join(".")+a),this.hostname=R.join(".");break}}}this.hostname.length>wN?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=mN.toASCII(this.hostname));var Q=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+Q,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!EN[p])for(var g=0,T=i0.length;g<T;g++){var D=i0[g];if(a.indexOf(D)!==-1){var H=encodeURIComponent(D);H===D&&(H=escape(D)),a=a.split(D).join(H)}}var J=a.indexOf("#");J!==-1&&(this.hash=a.substr(J),a=a.slice(0,J));var Z=a.indexOf("?");if(Z!==-1?(this.search=a.substr(Z),this.query=a.substr(Z+1),e&&(this.query=o0.parse(this.query)),a=a.slice(0,Z)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ha[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",ce=this.search||"";this.path=Q+ce}return this.href=this.format(),this};zi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=o0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ha[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};zi.prototype.resolve=function(t){return this.resolveObject(TN(t,!1,!0)).format()};zi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new zi;e.parse(t,!1,!0),t=e}for(var r=new zi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return Ha[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ha[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var h=d[p];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!s0[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",g=r.search||"";r.path=f+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=x||y||r.host&&t.pathname,_=b,E=r.pathname&&r.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!Ha[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),b=b&&(T[0]===""||E[0]==="")),x)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=T;else if(T.length)E||(E=[]),E.pop(),E=E.concat(T),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=E.shift(),r.hostname=r.host;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=E.slice(-1)[0],M=(r.host||t.host||E.length>1)&&(O==="."||O==="..")||O==="",R=0,U=E.length;U>=0;U--)O=E[U],O==="."?E.splice(U,1):O===".."?(E.splice(U,1),R++):R&&(E.splice(U,1),R--);if(!b&&!_)for(;R--;R)E.unshift("..");b&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),M&&E.join("/").substr(-1)!=="/"&&E.push("");var G=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(A){r.hostname=G?"":E.length?E.shift():"",r.host=r.hostname;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return b=b||r.host&&E.length,b&&!G&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};zi.prototype.parseHost=function(){var t=this.host,e=yN.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Jx={};function Oe(t,e,r=3){if(Jx[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Jx[e]=!0}function bn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Gl(t){return t.split("?")[0].split("#")[0]}function SN(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function AN(t,e,r){return t.replace(new RegExp(SN(e),"g"),r)}function CN(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ut={toPosix(t){return AN(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){bn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(bn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Gl(this.toPosix(e??pe.ADAPTER.getBaseUrl())),i=Gl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ut.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(bn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=CN(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return bn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(bn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(bn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){bn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){bn(t),e&&bn(e),t=Gl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){bn(t),t=Gl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){bn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Gl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,d=t.length-1,p=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}a===-1&&(c=!1,a=d+1),r===46?s===-1?s=d:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||a===-1||p===0||p===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let Om;async function PN(){return Om??(Om=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return kr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return kr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?kr.PMA:kr.UNPACK})()),Om}let Lm;function ET(){return typeof Lm>"u"&&(Lm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!pe.ADAPTER.getWebGLRenderingContext())return!1;const r=pe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Lm}var IN={grad:.9,turn:360,rad:360/(2*Math.PI)},Pi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Xt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},dn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},TT=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ew=function(t){return{r:dn(t.r,0,255),g:dn(t.g,0,255),b:dn(t.b,0,255),a:dn(t.a)}},Dm=function(t){return{r:Xt(t.r),g:Xt(t.g),b:Xt(t.b),a:Xt(t.a,3)}},RN=/^#([0-9a-f]{3,8})$/i,fh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},ST=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},AT=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,a,o,o,c,n][d],g:255*[c,n,n,a,o,o][d],b:255*[o,o,c,n,n,a][d],a:i}},tw=function(t){return{h:TT(t.h),s:dn(t.s,0,100),l:dn(t.l,0,100),a:dn(t.a)}},rw=function(t){return{h:Xt(t.h),s:Xt(t.s),l:Xt(t.l),a:Xt(t.a,3)}},nw=function(t){return AT((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},gu=function(t){return{h:(e=ST(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},kN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,MN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,NN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ON=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,a0={string:[[function(t){var e=RN.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Xt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Xt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=NN.exec(t)||ON.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ew({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=kN.exec(t)||MN.exec(t);if(!e)return null;var r,n,i=tw({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(IN[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return nw(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Pi(e)&&Pi(r)&&Pi(n)?ew({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Pi(e)||!Pi(r)||!Pi(n))return null;var o=tw({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return nw(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Pi(e)||!Pi(r)||!Pi(n))return null;var o=function(a){return{h:TT(a.h),s:dn(a.s,0,100),v:dn(a.v,0,100),a:dn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return AT(o)},"hsv"]]},iw=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},LN=function(t){return typeof t=="string"?iw(t.trim(),a0.string):typeof t=="object"&&t!==null?iw(t,a0.object):[null,void 0]},Fm=function(t,e){var r=gu(t);return{h:r.h,s:dn(r.s+100*e,0,100),l:r.l,a:r.a}},Bm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},sw=function(t,e){var r=gu(t);return{h:r.h,s:r.s,l:dn(r.l+100*e,0,100),a:r.a}},l0=function(){function t(e){this.parsed=LN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Xt(Bm(this.rgba),2)},t.prototype.isDark=function(){return Bm(this.rgba)<.5},t.prototype.isLight=function(){return Bm(this.rgba)>=.5},t.prototype.toHex=function(){return e=Dm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?fh(Xt(255*s)):"","#"+fh(r)+fh(n)+fh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Dm(this.rgba)},t.prototype.toRgbString=function(){return e=Dm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return rw(gu(this.rgba))},t.prototype.toHslString=function(){return e=rw(gu(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=ST(this.rgba),{h:Xt(e.h),s:Xt(e.s),v:Xt(e.v),a:Xt(e.a,3)};var e},t.prototype.invert=function(){return ri({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ri(Fm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ri(Fm(this.rgba,-e))},t.prototype.grayscale=function(){return ri(Fm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ri(sw(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ri(sw(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ri({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Xt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=gu(this.rgba);return typeof e=="number"?ri({h:e,s:r.s,l:r.l,a:r.a}):Xt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ri(e).toHex()},t}(),ri=function(t){return t instanceof l0?t:new l0(t)},ow=[],DN=function(t){t.forEach(function(e){ow.indexOf(e)<0&&(e(l0,a0),ow.push(e))})};function FN(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var p=this.toRgb(),h=1/0,f="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var y in r){var x=(a=p,c=s[y],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));x<h&&(h=x,f=y)}return f}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}DN([FN]);const ga=class ad{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof ad)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=ad.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=ad.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=ri(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};ga.shared=new ga,ga.temp=new ga,ga.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let et=ga;function BN(t){return Oe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),et.shared.setValue(t).toHex()}function UN(t){return Oe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),et.shared.setValue(t).toNumber()}function GN(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Te.NORMAL_NPM]=Te.NORMAL,t[Te.ADD_NPM]=Te.ADD,t[Te.SCREEN_NPM]=Te.SCREEN,e[Te.NORMAL]=Te.NORMAL_NPM,e[Te.ADD]=Te.ADD_NPM,e[Te.SCREEN]=Te.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const CT=GN();function PT(t,e){return CT[e?1:0][t]}function $N(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function IT(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Od(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function aw(t){return!(t&t-1)&&!!t}function lw(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ja(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Es(t){return t===0?0:t<0?-1:1}let zN=0;function No(){return++zN}const u0=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};u0.EMPTY=new u0(0,0,0,0);let uw=u0;const cw={},ni=Object.create(null),us=Object.create(null);class HN{constructor(e,r,n){this._canvas=pe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||pe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function hw(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function dw(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function jN(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&hw(i,e,o);)++o;if(o===r)return uw.EMPTY;for(;hw(i,e,c);)--c;for(;dw(i,e,s,o,c);)++s;for(;dw(i,e,a,o,c);)--a;return++a,++c,new uw(s,o,a,c)}function WN(t){const e=jN(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function VN(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ji(t,e=1){var n;const r=(n=pe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ue=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ue||{});const c0=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},fw=(t,e)=>c0(t).priority??e,ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(c0).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(c0).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>fw(s,r)-fw(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class h0{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const XN=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function YN(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function qN(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=XN.replace(/%forloop%/gi,YN(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Um=0,Gm=1,$m=2,zm=3,Hm=4,jm=5;class xi{constructor(){this.data=0,this.blendMode=Te.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Um)}set blend(e){!!(this.data&1<<Um)!==e&&(this.data^=1<<Um)}get offsets(){return!!(this.data&1<<Gm)}set offsets(e){!!(this.data&1<<Gm)!==e&&(this.data^=1<<Gm)}get culling(){return!!(this.data&1<<$m)}set culling(e){!!(this.data&1<<$m)!==e&&(this.data^=1<<$m)}get depthTest(){return!!(this.data&1<<zm)}set depthTest(e){!!(this.data&1<<zm)!==e&&(this.data^=1<<zm)}get depthMask(){return!!(this.data&1<<jm)}set depthMask(e){!!(this.data&1<<jm)!==e&&(this.data^=1<<jm)}get clockwiseFrontFace(){return!!(this.data&1<<Hm)}set clockwiseFrontFace(e){!!(this.data&1<<Hm)!==e&&(this.data^=1<<Hm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Te.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new xi;return e.depthTest=!1,e.blend=!0,e}}xi.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const d0=[];function RT(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=d0.length-1;n>=0;--n){const i=d0[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Fn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let h=0,f=p.length;h<f;h++)p[h][d](e,r,n,i,s,o,a,c);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Fn.prototype,{dispatch:{value:Fn.prototype.emit},run:{value:Fn.prototype.emit}});class Lu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Fn("setRealSize"),this.onUpdate=new Fn("update"),this.onError=new Fn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Mf extends Lu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===kr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const QN={scaleMode:Di.NEAREST,alphaMode:kr.NPM},f0=class ya extends oc{constructor(e=null,r=null){super(),r=Object.assign({},ya.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:d,format:p,type:h,target:f,resolution:g,resourceOptions:y}=r;e&&!(e instanceof Lu)&&(e=RT(e,y),e.internal=!0),this.resolution=g||pe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=p,this.type=h,this.target=f,this.alphaMode=n,this.uid=No(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=aw(this.realWidth)&&aw(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete us[this.cacheId],delete ni[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),ya.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${No()}`}s=e._pixiId}let o=us[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new ya(e,r),o.cacheId=s,ya.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Mf(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ie.RGBA,a=we.FLOAT):e instanceof Int32Array?(o=ie.RGBA_INTEGER,a=we.INT):e instanceof Uint32Array?(o=ie.RGBA_INTEGER,a=we.UNSIGNED_INT):e instanceof Int16Array?(o=ie.RGBA_INTEGER,a=we.SHORT):e instanceof Uint16Array?(o=ie.RGBA_INTEGER,a=we.UNSIGNED_SHORT):e instanceof Int8Array?(o=ie.RGBA,a=we.BYTE):(o=ie.RGBA,a=we.UNSIGNED_BYTE),s.internal=!0,new ya(s,Object.assign({},QN,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),us[r]&&us[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),us[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=us[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete us[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete us[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};f0.defaultOptions={mipmap:gi.POW2,anisotropicLevel:0,scaleMode:Di.LINEAR,wrapMode:$i.CLAMP,alphaMode:kr.UNPACK,target:$a.TEXTURE_2D,format:ie.RGBA,type:we.UNSIGNED_BYTE},f0._globalBatch=0;let Re=f0;class p0{constructor(){this.texArray=null,this.blend=0,this.type=Nn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let KN=0;class Tt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=KN++,this.disposeRunner=new Fn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?hi.ELEMENT_ARRAY_BUFFER:hi.ARRAY_BUFFER}get index(){return this.type===hi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Tt(e)}}class Ld{constructor(e,r=0,n=!1,i=we.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Ld(e,r,n,i,s)}}const ZN={Float32Array,Uint32Array,Int32Array,Uint8Array};function JN(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],p=t[c],h=IT(p);i[h]||(i[h]=new ZN[h](s)),o=i[h];for(let f=0;f<p.length;f++){const g=(f/d|0)*n+a,y=f%d;o[g+y]=p[f]}a+=d}return new Float32Array(s)}const pw={5126:4,5123:2,5121:1};let eO=0;const tO={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Bs{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=eO++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Fn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Tt||(r instanceof Array&&(r=new Float32Array(r)),r=new Tt(r));const d=e.split("|");if(d.length>1){for(let h=0;h<d.length;h++)this.addAttribute(d[h],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new Ld(p,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Tt||(e instanceof Array&&(e=new Uint16Array(e)),e=new Tt(e)),e.type=hi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Tt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*pw[s.type]/4),s.buffer=0}for(n.data=JN(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Bs;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Tt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Ld(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=hi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Bs,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new tO[IT(o.buffers[a].data)](i[a]),r.buffers[a]=new Tt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=hi.ELEMENT_ARRAY_BUFFER;let a=0,c=0,d=0,p=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){p=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===p&&(c+=f.size*pw[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let g=0;g<f.length;g++)r.indexBuffer.data[g+d]+=a;a+=e[h].buffers[p].data.length/c,d+=f.length}}return r}}class kT extends Bs{constructor(e=!1){super(),this._buffer=new Tt(null,e,!1),this._indexBuffer=new Tt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,we.FLOAT).addAttribute("aColor",this._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,we.FLOAT).addIndex(this._indexBuffer)}}const Dd=Math.PI*2,rO=180/Math.PI,nO=Math.PI/180;var rr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(rr||{});class Fe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Fe.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ph=[new Fe,new Fe,new Fe,new Fe];class Pe{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=rr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Pe(0,0,0,0)}clone(){return new Pe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const U=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>U}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=ph[0].set(e.left,e.top),c=ph[1].set(e.left,e.bottom),d=ph[2].set(e.right,e.top),p=ph[3].set(e.right,e.bottom);if(d.x<=a.x||c.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(c,c),r.apply(d,d),r.apply(p,p),Math.max(a.x,c.x,d.x,p.x)<=n||Math.min(a.x,c.x,d.x,p.x)>=i||Math.max(a.y,c.y,d.y,p.y)<=s||Math.min(a.y,c.y,d.y,p.y)>=o))return!1;const f=h*(c.y-a.y),g=h*(a.x-c.x),y=f*n+g*s,x=f*i+g*s,b=f*n+g*o,_=f*i+g*o;if(Math.max(y,x,b,_)<=f*a.x+g*a.y||Math.min(y,x,b,_)>=f*p.x+g*p.y)return!1;const E=h*(a.y-d.y),T=h*(d.x-a.x),A=E*n+T*s,I=E*i+T*s,O=E*n+T*o,M=E*i+T*o;return!(Math.max(A,I,O,M)<=E*a.x+T*a.y||Math.min(A,I,O,M)>=E*p.x+T*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Pe.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Nf{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=rr.CIRC}clone(){return new Nf(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Pe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Nf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Of{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=rr.ELIP}clone(){return new Of(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Pe(this.x-this.width,this.y-this.height,this.width,this.height)}}Of.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Po{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=rr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Po(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],p=this.points[o*2+1];c>r!=p>r&&e<(d-a)*((r-c)/(p-c))+a&&(n=!n)}return n}}Po.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Lf{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=rr.RREC}clone(){return new Lf(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Lf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ot{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Fe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Fe;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,d){return this.a=Math.cos(a+d)*s,this.b=Math.sin(a+d)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(a+c);return d<1e-5||Math.abs(Dd-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ot;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new ot}static get TEMP_MATRIX(){return new ot}}ot.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ho=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],po=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],m0=[],MT=[],mh=Math.sign;function iO(){for(let t=0;t<16;t++){const e=[];m0.push(e);for(let r=0;r<16;r++){const n=mh(ho[t]*ho[r]+po[t]*fo[r]),i=mh(fo[t]*ho[r]+mo[t]*fo[r]),s=mh(ho[t]*po[r]+po[t]*mo[r]),o=mh(fo[t]*po[r]+mo[t]*mo[r]);for(let a=0;a<16;a++)if(ho[a]===n&&fo[a]===i&&po[a]===s&&mo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ot;e.set(ho[t],fo[t],po[t],mo[t],0,0),MT.push(e)}}iO();const ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ho[t],uY:t=>fo[t],vX:t=>po[t],vY:t=>mo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>m0[t][e],sub:(t,e)=>m0[t][ft.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=MT[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class ci{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new ci(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ci.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const g0=class{constructor(){this.worldTransform=new ot,this.localTransform=new ot,this.position=new ci(this.onChange,this,0,0),this.scale=new ci(this.onChange,this,1,1),this.pivot=new ci(this.onChange,this,0,0),this.skew=new ci(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};g0.IDENTITY=new g0;let Df=g0;Df.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var sO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,oO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function mw(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Wm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function NT(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Wm(2*e);case"bvec3":return Wm(3*e);case"bvec4":return Wm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Wa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],aO={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},lO={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function uO(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<Wa.length;c++)if(Wa[c].test(s,o)){r.push(Wa[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?aO:lO)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const OT={};let ha=OT;function cO(){if(ha===OT||ha!=null&&ha.isContextLost()){const t=pe.ADAPTER.createCanvas();let e;pe.PREFER_ENV>=$o.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ha=e}return ha}let gh;function hO(){if(!gh){gh=hn.MEDIUM;const t=cO();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(gh=e.precision?hn.HIGH:hn.MEDIUM)}}return gh}function gw(t,e){const r=t.getShaderSource(e).split(`
`).map((d,p)=>`${p}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),a=[""];o.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function dO(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||gw(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||gw(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const fO={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function LT(t){return fO[t]}let yh=null;const yw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function DT(t,e){if(!yh){const r=Object.keys(yw);yh={};for(let n=0;n<r.length;++n){const i=r[n];yh[t[i]]=yw[i]}}return yh[e]}function vw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===hn.HIGH&&r!==hn.HIGH&&(n=hn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==hn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let $l;function pO(){if(typeof $l=="boolean")return $l;try{$l=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$l=!1}return $l}let mO=0;const vh={},y0=class va{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=mO++,this.vertexSrc=e||va.defaultVertexSrc,this.fragmentSrc=r||va.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),vh[n]?(vh[n]++,n+=`-${vh[n]}`):vh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=vw(this.vertexSrc,va.defaultVertexPrecision,hn.HIGH),this.fragmentSrc=vw(this.fragmentSrc,va.defaultFragmentPrecision,hO())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return oO}static get defaultFragmentSrc(){return sO}static from(e,r,n){const i=e+r;let s=cw[i];return s||(cw[i]=s=new va(e,r,n)),s}};y0.defaultVertexPrecision=hn.HIGH,y0.defaultFragmentPrecision=On.apple.device?hn.HIGH:hn.MEDIUM;let Fi=y0,gO=0;class Bn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=gO++,this.static=!!r,this.ubo=!!n,e instanceof Tt?(this.buffer=e,this.buffer.type=hi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Tt(new Float32Array(1)),this.buffer.type=hi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Bn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Bn(e,r,n)}static uboFrom(e,r){return new Bn(e,r??!0,!0)}}class di{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Bn?this.uniformGroup=r:this.uniformGroup=new Bn(r):this.uniformGroup=new Bn({}),this.disposeRunner=new Fn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Fi.from(e,r);return new di(i,n)}}class yO{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Bn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Fi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ot,default:this.defaultGroupCache[e]};return new di(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class v0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function vO(){return!On.apple.device}function _O(t){let e=!0;const r=pe.ADAPTER.getNavigator();if(On.tablet||On.phone){if(On.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(On.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Ff{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var xO=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,wO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Jl=class Sn extends Ff{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=kT,this.vertexSize=6,this.state=xi.for2d(),this.size=Sn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??_O(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??vO(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Oe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return wO}static get defaultFragmentTemplate(){return xO}setShaderGenerator({vertex:e=Sn.defaultVertexSrc,fragment:r=Sn.defaultFragmentTemplate}={}){this.shaderGenerator=new yO(e,r)}contextChange(){const e=this.renderer.gl;pe.PREFER_ENV===$o.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Sn.defaultMaxTextures),this.maxTextures=qN(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Sn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new p0);for(;r.length<i;)r.push(new v0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Sn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Re._globalBatch,c=0,d=n[0],p=0;i.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const f=e[h];e[h]=null,f._batchEnabled!==a&&(d.count>=r&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,h),p=h,d=n[++c],++a),f._batchEnabled=a,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,this._bufferSize),++c,++a);for(let h=0;h<s.length;h++)s[h]=null;Re._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=Sn._drawCallPool;let d=this._dcIndex,p=this._aIndex,h=this._iIndex,f=c[d];f.start=this._iIndex,f.texArray=e;for(let g=r;g<n;++g){const y=i[g],x=y._texture.baseTexture,b=CT[x.alphaMode?1:0][y.blendMode];i[g]=null,r<g&&f.blend!==b&&(f.size=h-f.start,r=g,f=c[++d],f.texArray=e,f.start=h),this.packInterleavedGeometry(y,s,o,p,h),p+=y.vertexData.length/2*a,h+=y.indices.length,f.blend=b}r<n&&(f.size=h-f.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Sn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Sn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:d,start:p,blend:h}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Sn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Od(Math.ceil(e/8)),n=lw(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new h0(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Od(Math.ceil(e/12)),n=lw(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,d=e.uvs,p=e.indices,h=e.vertexData,f=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),y=et.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let x=0;x<h.length;x+=2)a[i++]=h[x],a[i++]=h[x+1],a[i++]=d[x],a[i++]=d[x+1],o[i++]=y,a[i++]=f;for(let x=0;x<p.length;x++)n[s++]=c+p[x]}};Jl.defaultBatchSize=4096,Jl.extension={name:"batch",type:ue.RendererPlugin},Jl._drawCallPool=[],Jl._textureArrayPool=[];let go=Jl;ve.add(go);var bO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,EO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _0=class eu extends di{constructor(e,r,n){const i=Fi.from(e||eu.defaultVertexSrc,r||eu.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=eu.defaultResolution,this.multisample=eu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new xi}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return EO}static get defaultFragmentSrc(){return bO}};_0.defaultResolution=1,_0.defaultMultisample=kt.NONE;let xr=_0;class Fd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new et(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Fd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Fd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"background"};ve.add(Fd);class FT{constructor(e){this.renderer=e,this.emptyRenderer=new Ff(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let d=0;d<a;d++){const p=s[d],h=p._batchLocation;if(h>=0&&h<i&&r[h]===p){o[d]=h;continue}for(;c<i;){const f=r[c];if(f&&f._batchEnabled===n&&f._batchLocation===c){c++;continue}o[d]=c,p._batchLocation=c,r[c]=p;break}}}destroy(){this.renderer=null}}FT.extension={type:ue.RendererSystem,name:"batch"};ve.add(FT);let _w=0;class Bd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=_w++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=_w++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(pe.PREFER_ENV>=$o.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Bd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Bd.extension={type:ue.RendererSystem,name:"context"};ve.add(Bd);class x0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Fn("disposeFramebuffer"),this.multisample=kt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Re(null,{scaleMode:Di.NEAREST,resolution:1,mipmap:gi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Re(null,{scaleMode:Di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:gi.OFF,format:ie.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BT extends Re{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=kt.NONE),super(null,e),this.mipmap=gi.OFF,this.valid=!0,this._clear=new et([0,0,0,0]),this.framebuffer=new x0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Us extends Lu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=VN(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===kr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class UT extends Us{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Us.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??pe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class cv{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,d=e.y/s+a;n=ft.add(n,ft.NW),this.x0=c+o*ft.uX(n),this.y0=d+a*ft.uY(n),n=ft.add(n,2),this.x1=c+o*ft.uX(n),this.y1=d+a*ft.uY(n),n=ft.add(n,2),this.x2=c+o*ft.uX(n),this.y2=d+a*ft.uY(n),n=ft.add(n,2),this.x3=c+o*ft.uX(n),this.y3=d+a*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}cv.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const xw=new cv;function _h(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class he extends oc{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Pe(0,0,1,1)),e instanceof he&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=xw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Fe(o.x,o.y):new Fe(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ni[r.url]&&he.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,he.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new he(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===xw&&(this._uvs=new cv),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Re){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${No()}`,Re.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${No()}`}s=e._pixiId}let o=ni[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Re)?(r.resolution||(r.resolution=ji(e)),o=new he(new Re(e,r)),o.baseTexture.cacheId=s,Re.addToCache(o.baseTexture,s),he.addToCache(o,s)):!o&&e instanceof Re&&(o=new he(e),he.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=he.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new he(Re.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Re(e,Object.assign({scaleMode:Re.defaultOptions.scaleMode,resolution:ji(r)},i)),{resource:o}=s;o instanceof UT&&(o.url=r);const a=new he(s);return n||(n=r),Re.addToCache(a.baseTexture,n),he.addToCache(a,n),n!==r&&(Re.addToCache(a.baseTexture,r),he.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ni[r]&&ni[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ni[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ni[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ni[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ni[e.textureCacheIds[r]]===e&&delete ni[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return he._EMPTY||(he._EMPTY=new he(new Re),_h(he._EMPTY),_h(he._EMPTY.baseTexture)),he._EMPTY}static get WHITE(){if(!he._WHITE){const e=pe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),he._WHITE=new he(Re.from(e)),_h(he._WHITE),_h(he._WHITE.baseTexture)}return he._WHITE}}class Ho extends he{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ho(new BT(e))}}class GT{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=kt.NONE){const i=new BT(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ho(i)}getOptimalTexture(e,r,n=1,i=kt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Od(e),r=Od(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||kt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}GT.SCREEN_KEY=-1;class TO extends Bs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class $T extends Bs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Tt(this.vertices),this.uvBuffer=new Tt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class SO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=kt.NONE,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.bindingSourceFrame=new Pe,this.bindingDestinationFrame=new Pe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const xh=[new Fe,new Fe,new Fe,new Fe],Vm=new ot;class zT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new GT,this.statePool=[],this.quad=new TO,this.quadUv=new $T,this.tempRect=new Pe,this.activeState={},this.globalUniforms=new Bn({outputFrame:new Pe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new SO,o=n.renderTexture;let a,c;if(o.current){const b=o.current;a=b.resolution,c=b.multisample}else a=n.resolution,c=n.multisample;let d=r[0].resolution||a,p=r[0].multisample??c,h=r[0].padding,f=r[0].autoFit,g=r[0].legacy??!0;for(let b=1;b<r.length;b++){const _=r[b];d=Math.min(d,_.resolution||a),p=Math.min(p,_.multisample??c),h=this.useMaxPadding?Math.max(h,_.padding):h+_.padding,f=f&&_.autoFit,g=g||(_.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=p,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Vm.copyFrom(n.projection.transform).invert(),y),f?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,p),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const x=this.tempRect;x.x=0,x.y=0,x.width=s.sourceFrame.width,x.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,x),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,ai.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[h].apply(this,d,p,ai.CLEAR,r);const f=d;d=p,p=f}n[h].apply(this,d,c.renderTexture,ai.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ai.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ai.CLEAR||r===ai.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Nn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Nn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(ot.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=kt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||kt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=xh[0],i=xh[1],s=xh[2],o=xh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),p=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=d-a,r.height=p-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?Vm.copyFrom(s):Vm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}zT.extension={type:ue.RendererSystem,name:"filter"};ve.add(zT);class AO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=kt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const CO=new Pe;class HT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new x0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;pe.PREFER_ENV===$o.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Vg.COLOR|Vg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new AO(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,p._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=kt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=kt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;c.blitFramebuffer||(c.blitFramebuffer=new x0(i.width,i.height),c.blitFramebuffer.addColorTexture(0,p)),e=c.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=CO,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Pe}destroy(){this.renderer=null}}HT.extension={type:ue.RendererSystem,name:"framebuffer"};ve.add(HT);const Xm={5126:4,5123:2,5121:1};class jT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;pe.PREFER_ENV===$o.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),d=e.glVertexArrayObjects[this.CONTEXT_UID];let p=d[c];if(p)return d[a.id]=p,p;const h=e.buffers,f=e.attributes,g={},y={};for(const x in h)g[x]=0,y[x]=0;for(const x in f)!f[x].size&&a.attributeData[x]?f[x].size=a.attributeData[x].size:f[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),g[f[x].buffer]+=f[x].size*Xm[f[x].type];for(const x in f){const b=f[x],_=b.size;b.stride===void 0&&(g[b.buffer]===_*Xm[b.type]?b.stride=0:b.stride=g[b.buffer]),b.start===void 0&&(b.start=y[b.buffer],y[b.buffer]+=_*Xm[b.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let x=0;x<h.length;x++){const b=h[x];o.bind(b),n&&b._glBuffers[s].refCount++}return this.activateVao(e,a),d[a.id]=p,d[c]=p,i.bindVertexArray(null),o.unbind(hi.ARRAY_BUFFER),p}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in a){const p=a[d],h=o[p.buffer],f=h._glBuffers[i];if(r.attributeData[d]){c!==f&&(s.bind(h),c=f);const g=r.attributeData[d].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(g,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}jT.extension={type:ue.RendererSystem,name:"geometry"};ve.add(jT);const ww=new ot;class hv{constructor(e,r){this._texture=e,this.mapCoord=new ot,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ww.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ww));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return a[0]=(r._frame.x+c+d)/o.width,a[1]=(r._frame.y+c+d)/o.height,a[2]=(r._frame.x+r._frame.width-c+d)/o.width,a[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var PO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,IO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class RO extends xr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||IO,r||PO,n),this.maskSprite=i,this.maskMatrix=new ot}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new hv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class kO{constructor(e=null){this.type=Ot.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=xr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ot.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class WT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new kO;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ot.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ot.SCISSOR:this.renderer.scissor.push(n);break;case Ot.STENCIL:this.renderer.stencil.push(n);break;case Ot.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ot.COLOR:this.pushColorMask(n);break}n.type===Ot.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ot.SCISSOR:this.renderer.scissor.pop(r);break;case Ot.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ot.SPRITE:this.popSpriteMask(r);break;case Ot.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ot.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ot.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ot.SCISSOR:e.type=Ot.STENCIL:e.type=Ot.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new RO])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}WT.extension={type:ue.RendererSystem,name:"mask"};ve.add(WT);class VT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const bw=new ot,Ew=[],XT=class ld extends VT{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,Ew.pop()??new Pe);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||ld.isMatrixRotated(r.worldTransform)||ld.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){ld.isMatrixRotated(s)||(s=s?bw.copyFrom(s):bw.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&Ew.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};XT.extension={type:ue.RendererSystem,name:"scissor"};let MO=XT;ve.add(MO);class YT extends VT{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}YT.extension={type:ue.RendererSystem,name:"stencil"};ve.add(YT);class qT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}qT.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_plugin"};ve.add(qT);class QT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ot,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}QT.extension={type:ue.RendererSystem,name:"projection"};ve.add(QT);const NO=new Df,Tw=new Pe;class KT{constructor(e){this.renderer=e,this._tempMatrix=new ot}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(Tw))||e.getLocalBounds(Tw,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Ho.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=NO,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}KT.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"textureGenerator"};ve.add(KT);const lo=new Pe,zl=new Pe;class ZT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.viewportFrame=new Pe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(lo.width=e.frame.width,lo.height=e.frame.height,r=lo),n||(zl.x=e.frame.x,zl.y=e.frame.y,zl.width=r.width,zl.height=r.height,n=zl),o=s.framebuffer):(a=i.resolution,r||(lo.width=i._view.screen.width,lo.height=i._view.screen.height,r=lo),n||(n=lo,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=et.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:d,width:p,height:h}=this.viewportFrame;c=Math.round(c),d=Math.round(d),p=Math.round(p),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,p,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ZT.extension={type:ue.RendererSystem,name:"renderTexture"};ve.add(ZT);class OO{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function LO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=DT(e,s.type),a={type:o,name:s.name,size:LT(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function DO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=DT(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:NT(c,s.size)}}return r}function FO(t,e){var a;const r=mw(t,t.VERTEX_SHADER,e.vertexSrc),n=mw(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||dO(t,i,r,n),e.attributeData=LO(i,t),e.uniformData=DO(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:NT(d.type,d.size)}}return new OO(i,o)}function BO(t,e,r,n,i){r.buffer.update(i)}const UO={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},JT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function GO(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=JT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function $O(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function zO(t,e){if(!t.autoManage)return{size:0,syncFunc:BO};const r=$O(t.uniforms,e),{uboElements:n,size:i}=GO(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],d=a.data.name;let p=!1;for(let h=0;h<Wa.length;h++){const f=Wa[h];if(f.codeUbo&&f.test(a.data,c)){s.push(`offset = ${a.offset/4};`,Wa[h].codeUbo(a.data.name,c)),p=!0;break}}if(!p)if(a.data.size>1){const h=LT(a.data.type),f=Math.max(JT[a.data.type]/16,1),g=h/f,y=(4-g%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const h=UO[a.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let HO=0;const wh={textureCount:0,uboCount:0};class eS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=HO++}systemCheck(){if(!pO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(wh.textureCount=0,wh.uboCount=0,this.syncUniformGroup(e.uniformGroup,wh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=uO(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,wh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=zO(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=FO(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}eS.extension={type:ue.RendererSystem,name:"shader"};ve.add(eS);class Ud{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Ud.defaultOptions={hello:!1},Ud.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"startup"};ve.add(Ud);function jO(t,e=[]){return e[Te.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD]=[t.ONE,t.ONE],e[Te.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.NONE]=[0,0],e[Te.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Te.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Te.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Te.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Te.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Te.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Te.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const WO=0,VO=1,XO=2,YO=3,qO=4,QO=5,tS=class w0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Te.NONE,this._blendEq=!1,this.map=[],this.map[WO]=this.setBlend,this.map[VO]=this.setOffset,this.map[XO]=this.setCullFace,this.map[YO]=this.setDepthTest,this.map[qO]=this.setFrontFace,this.map[QO]=this.setDepthMask,this.checks=[],this.defaultState=new xi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=jO(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(w0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(w0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};tS.extension={type:ue.RendererSystem,name:"state"};let KO=tS;ve.add(KO);class ZO extends oc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Fn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const tu=class ud{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=ud.defaultMaxIdle,this.checkCountMax=ud.defaultCheckCountMax,this.mode=ud.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==ev.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};tu.defaultMode=ev.AUTO,tu.defaultMaxIdle=60*60,tu.defaultCheckCountMax=60*10,tu.extension={type:ue.RendererSystem,name:"textureGC"};let yo=tu;ve.add(yo);class Ym{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=ie.RGBA,this.samplerType=0}}function JO(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.R8]:fe.FLOAT,[t.R8_SNORM]:fe.FLOAT,[t.RG8]:fe.FLOAT,[t.RG8_SNORM]:fe.FLOAT,[t.RGB8]:fe.FLOAT,[t.RGB8_SNORM]:fe.FLOAT,[t.RGB565]:fe.FLOAT,[t.RGBA4]:fe.FLOAT,[t.RGB5_A1]:fe.FLOAT,[t.RGBA8]:fe.FLOAT,[t.RGBA8_SNORM]:fe.FLOAT,[t.RGB10_A2]:fe.FLOAT,[t.RGB10_A2UI]:fe.FLOAT,[t.SRGB8]:fe.FLOAT,[t.SRGB8_ALPHA8]:fe.FLOAT,[t.R16F]:fe.FLOAT,[t.RG16F]:fe.FLOAT,[t.RGB16F]:fe.FLOAT,[t.RGBA16F]:fe.FLOAT,[t.R32F]:fe.FLOAT,[t.RG32F]:fe.FLOAT,[t.RGB32F]:fe.FLOAT,[t.RGBA32F]:fe.FLOAT,[t.R11F_G11F_B10F]:fe.FLOAT,[t.RGB9_E5]:fe.FLOAT,[t.R8I]:fe.INT,[t.R8UI]:fe.UINT,[t.R16I]:fe.INT,[t.R16UI]:fe.UINT,[t.R32I]:fe.INT,[t.R32UI]:fe.UINT,[t.RG8I]:fe.INT,[t.RG8UI]:fe.UINT,[t.RG16I]:fe.INT,[t.RG16UI]:fe.UINT,[t.RG32I]:fe.INT,[t.RG32UI]:fe.UINT,[t.RGB8I]:fe.INT,[t.RGB8UI]:fe.UINT,[t.RGB16I]:fe.INT,[t.RGB16UI]:fe.UINT,[t.RGB32I]:fe.INT,[t.RGB32UI]:fe.UINT,[t.RGBA8I]:fe.INT,[t.RGBA8UI]:fe.UINT,[t.RGBA16I]:fe.INT,[t.RGBA16UI]:fe.UINT,[t.RGBA32I]:fe.INT,[t.RGBA32UI]:fe.UINT,[t.DEPTH_COMPONENT16]:fe.FLOAT,[t.DEPTH_COMPONENT24]:fe.FLOAT,[t.DEPTH_COMPONENT32F]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT,[t.DEPTH24_STENCIL8]:fe.FLOAT,[t.DEPTH32F_STENCIL8]:fe.FLOAT}:e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT},e}function e3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:t.RGBA8,[ie.RGB]:t.RGB8,[ie.RG]:t.RG8,[ie.RED]:t.R8,[ie.RGBA_INTEGER]:t.RGBA8UI,[ie.RGB_INTEGER]:t.RGB8UI,[ie.RG_INTEGER]:t.RG8UI,[ie.RED_INTEGER]:t.R8UI,[ie.ALPHA]:t.ALPHA,[ie.LUMINANCE]:t.LUMINANCE,[ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.BYTE]:{[ie.RGBA]:t.RGBA8_SNORM,[ie.RGB]:t.RGB8_SNORM,[ie.RG]:t.RG8_SNORM,[ie.RED]:t.R8_SNORM,[ie.RGBA_INTEGER]:t.RGBA8I,[ie.RGB_INTEGER]:t.RGB8I,[ie.RG_INTEGER]:t.RG8I,[ie.RED_INTEGER]:t.R8I},[we.UNSIGNED_SHORT]:{[ie.RGBA_INTEGER]:t.RGBA16UI,[ie.RGB_INTEGER]:t.RGB16UI,[ie.RG_INTEGER]:t.RG16UI,[ie.RED_INTEGER]:t.R16UI,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[we.SHORT]:{[ie.RGBA_INTEGER]:t.RGBA16I,[ie.RGB_INTEGER]:t.RGB16I,[ie.RG_INTEGER]:t.RG16I,[ie.RED_INTEGER]:t.R16I},[we.UNSIGNED_INT]:{[ie.RGBA_INTEGER]:t.RGBA32UI,[ie.RGB_INTEGER]:t.RGB32UI,[ie.RG_INTEGER]:t.RG32UI,[ie.RED_INTEGER]:t.R32UI,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[we.INT]:{[ie.RGBA_INTEGER]:t.RGBA32I,[ie.RGB_INTEGER]:t.RGB32I,[ie.RG_INTEGER]:t.RG32I,[ie.RED_INTEGER]:t.R32I},[we.FLOAT]:{[ie.RGBA]:t.RGBA32F,[ie.RGB]:t.RGB32F,[ie.RG]:t.RG32F,[ie.RED]:t.R32F,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[we.HALF_FLOAT]:{[ie.RGBA]:t.RGBA16F,[ie.RGB]:t.RGB16F,[ie.RG]:t.RG16F,[ie.RED]:t.R16F},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:t.RGB565},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:t.RGBA4},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:t.RGB5_A1},[we.UNSIGNED_INT_2_10_10_10_REV]:{[ie.RGBA]:t.RGB10_A2,[ie.RGBA_INTEGER]:t.RGB10_A2UI},[we.UNSIGNED_INT_10F_11F_11F_REV]:{[ie.RGB]:t.R11F_G11F_B10F},[we.UNSIGNED_INT_5_9_9_9_REV]:{[ie.RGB]:t.RGB9_E5},[we.UNSIGNED_INT_24_8]:{[ie.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[we.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ie.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:t.RGBA,[ie.RGB]:t.RGB,[ie.ALPHA]:t.ALPHA,[ie.LUMINANCE]:t.LUMINANCE,[ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:t.RGB},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:t.RGBA},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:t.RGBA}},e}class rS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Re,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=e3(e),this.samplerTypes=JO(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Ym(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ym(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==fe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Ym(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??fe.FLOAT,this.webGLVersion===2&&e.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==fe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ja(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===gi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=$i.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==gi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Di.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Di.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}rS.extension={type:ue.RendererSystem,name:"texture"};ve.add(rS);class nS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}nS.extension={type:ue.RendererSystem,name:"transformFeedback"};ve.add(nS);class Gd{constructor(e){this.renderer=e}init(e){this.screen=new Pe(0,0,e.width,e.height),this.element=e.view||pe.ADAPTER.createCanvas(),this.resolution=e.resolution||pe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Gd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Gd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_view"};ve.add(Gd);pe.PREFER_ENV=$o.WEBGL2;pe.STRICT_TEXTURE_CACHE=!1;pe.RENDER_OPTIONS={...Bd.defaultOptions,...Fd.defaultOptions,...Gd.defaultOptions,...Ud.defaultOptions};Object.defineProperties(pe,{WRAP_MODE:{get(){return Re.defaultOptions.wrapMode},set(t){Oe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Re.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Re.defaultOptions.scaleMode},set(t){Oe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Re.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Re.defaultOptions.mipmap},set(t){Oe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Re.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Re.defaultOptions.anisotropicLevel},set(t){Oe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Re.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Oe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),xr.defaultResolution},set(t){xr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Oe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),xr.defaultMultisample},set(t){xr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return go.defaultMaxTextures},set(t){Oe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),go.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return go.defaultBatchSize},set(t){Oe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),go.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return go.canUploadSameBuffer},set(t){Oe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),go.canUploadSameBuffer=t}},GC_MODE:{get(){return yo.defaultMode},set(t){Oe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),yo.defaultMode=t}},GC_MAX_IDLE:{get(){return yo.defaultMaxIdle},set(t){Oe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),yo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return yo.defaultCheckCountMax},set(t){Oe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),yo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Fi.defaultVertexPrecision},set(t){Oe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Fi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Fi.defaultFragmentPrecision},set(t){Oe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Fi.defaultFragmentPrecision=t}}});var Gs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Gs||{});class qm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const iS=class zr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qm(null,null,1/0),this.deltaMS=1/zr.targetFPMS,this.elapsedMS=1/zr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Gs.NORMAL){return this._addListener(new qm(e,r,n))}addOnce(e,r,n=Gs.NORMAL){return this._addListener(new qm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*zr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,zr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!zr._shared){const e=zr._shared=new zr;e.autoStart=!0,e._protected=!0}return zr._shared}static get system(){if(!zr._system){const e=zr._system=new zr;e.autoStart=!0,e._protected=!0}return zr._system}};iS.targetFPMS=.06;let Ft=iS;Object.defineProperties(pe,{TARGET_FPMS:{get(){return Ft.targetFPMS},set(t){Oe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ft.targetFPMS=t}}});class sS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Gs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ft.shared:new Ft,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}sS.extension=ue.Application;ve.add(sS);const oS=[];ve.handleByList(ue.Renderer,oS);function t3(t){for(const e of oS)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var r3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const i3=r3,aS=n3;class lS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=kt.HIGH?this.multisample=kt.HIGH:r>=kt.MEDIUM?this.multisample=kt.MEDIUM:r>=kt.LOW?this.multisample=kt.LOW:this.multisample=kt.NONE}destroy(){}}lS.extension={type:ue.RendererSystem,name:"_multisample"};ve.add(lS);class s3{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class uS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new s3(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}uS.extension={type:ue.RendererSystem,name:"buffer"};ve.add(uS);class cS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}cS.extension={type:ue.RendererSystem,name:"objectRenderer"};ve.add(cS);const cd=class b0 extends ZO{constructor(e){super(),this.type=eT.WEBGL,e=Object.assign({},pe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Bn({projectionMatrix:new ot},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:b0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Oe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=b0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:ET()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Oe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Oe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Oe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Oe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};cd.extension={type:ue.Renderer,priority:1},cd.__plugins={},cd.__systems={};let dv=cd;ve.handleByMap(ue.RendererPlugin,dv.__plugins);ve.handleByMap(ue.RendererSystem,dv.__systems);ve.add(dv);class hS extends Lu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Re;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Lu?this.addResourceAt(e[n],n):this.addResourceAt(RT(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class o3 extends hS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$a.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class a3 extends Us{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const dS=class ru extends hS{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==ru.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<ru.SIDES;a++)this.items[a].target=$a.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=$a.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$a.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<ru.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ru.SIDES}};dS.SIDES=6;let l3=dS;class Sa extends Us{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Sa.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await pe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Sa._EMPTY=Sa._EMPTY??pe.ADAPTER.createCanvas(0,0),Sa._EMPTY}}const E0=class hd extends Us{constructor(e,r){r=r||{},super(pe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},hd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Us.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${No()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=hd.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&hd.SVG_XML.test(e)}};E0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,E0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let T0=E0;const S0=class A0 extends Us{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Us.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const d=a.split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);c=c||A0.MIME_TYPES[p]||`video/${p}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Ft.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ft.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||A0.TYPES.includes(r)}};S0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],S0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let fS=S0;d0.push(Sa,UT,a3,fS,T0,Mf,l3,o3);class $d{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Pe.EMPTY:(e=e||new Pe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,d=n*r.x+s*r.y+a,p=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,d=e.d,p=e.tx,h=e.ty;let f=this.minX,g=this.minY,y=this.maxX,x=this.maxY,b=o*r+c*n+p,_=a*r+d*n+h;f=b<f?b:f,g=_<g?_:g,y=b>y?b:y,x=_>x?_:x,b=o*i+c*n+p,_=a*i+d*n+h,f=b<f?b:f,g=_<g?_:g,y=b>y?b:y,x=_>x?_:x,b=o*r+c*s+p,_=a*r+d*s+h,f=b<f?b:f,g=_<g?_:g,y=b>y?b:y,x=_>x?_:x,b=o*i+c*s+p,_=a*i+d*s+h,f=b<f?b:f,g=_<g?_:g,y=b>y?b:y,x=_>x?_:x,this.minX=f,this.minY=g,this.maxX=y,this.maxY=x}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],p=e[c+1];i=d<i?d:i,s=p<s?p:s,o=d>o?d:o,a=p>a?p:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,d=e.c,p=e.d,h=e.tx,f=e.ty;let g=this.minX,y=this.minY,x=this.maxX,b=this.maxY;for(let _=n;_<i;_+=2){const E=r[_],T=r[_+1],A=a*E+d*T+h,I=p*T+c*E+f;g=Math.min(g,A-s),x=Math.max(x,A+s),y=Math.min(y,I-o),b=Math.max(b,I+o)}this.minX=g,this.minY=y,this.maxX=x,this.maxY=b}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ht extends oc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Df,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new $d,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ht.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Pe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new $d);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new u3),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*rO}set angle(e){this.transform.rotation=e*nO}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class u3 extends ht{constructor(){super(...arguments),this.sortDirty=null}}ht.prototype.displayObjectUpdateTransform=ht.prototype.updateTransform;const c3=new ot;function h3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const pS=class C0 extends ht{constructor(){super(),this.children=[],this.sortableChildren=C0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);ja(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ja(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ja(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(h3),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==C0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=c3.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ot.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};pS.defaultSortableChildren=!1;let br=pS;br.prototype.containerUpdateTransform=br.prototype.updateTransform;Object.defineProperties(pe,{SORTABLE_CHILDREN:{get(){return br.defaultSortableChildren},set(t){Oe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),br.defaultSortableChildren=t}}});const Hl=new Fe,d3=new Uint16Array([0,1,2,0,2,3]);class wi extends br{constructor(e){super(),this._anchor=new ci(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new et(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Te.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||he.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=d3,this.pluginName="batch",this.isSprite=!0,this._roundPixels=pe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Es(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Es(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this.vertexData,p=e.trim,h=e.orig,f=this._anchor;let g=0,y=0,x=0,b=0;if(p?(y=p.x-f._x*h.width,g=y+p.width,b=p.y-f._y*h.height,x=b+p.height):(y=-f._x*h.width,g=y+h.width,b=-f._y*h.height,x=b+h.height),d[0]=n*y+s*b+a,d[1]=o*b+i*y+c,d[2]=n*g+s*b+a,d[3]=o*b+i*g+c,d[4]=n*g+s*x+a,d[5]=o*x+i*g+c,d[6]=n*y+s*x+a,d[7]=o*x+i*y+c,this._roundPixels){const _=pe.RESOLUTION;for(let E=0;E<d.length;++E)d[E]=Math.round(d[E]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,d=s.d,p=s.tx,h=s.ty,f=-i._x*n.width,g=f+n.width,y=-i._y*n.height,x=y+n.height;if(r[0]=o*f+c*y+p,r[1]=d*y+a*f+h,r[2]=o*g+c*y+p,r[3]=d*y+a*g+h,r[4]=o*g+c*x+p,r[5]=d*x+a*g+h,r[6]=o*f+c*x+p,r[7]=d*x+a*f+h,this._roundPixels){const b=pe.RESOLUTION;for(let _=0;_<r.length;++_)r[_]=Math.round(r[_]*b)/b}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new $d),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Hl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Hl.x>=i&&Hl.x<i+r&&(s=-n*this.anchor.y,Hl.y>=s&&Hl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new wi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Es(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Es(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||he.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const mS=new ot;ht.prototype._cacheAsBitmap=!1;ht.prototype._cacheData=null;ht.prototype._cacheAsBitmapResolution=null;ht.prototype._cacheAsBitmapMultisample=null;class f3{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ht.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new f3),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ht.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ht.prototype._initCachedDisplayObject=function(t){var f,g;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Pe,!0);if((g=this.filters)!=null&&g.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=Ho.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),d=`cacheAsBitmap_${No()}`;this._cacheData.textureCacheId=d,Re.addToCache(c.baseTexture,d),he.addToCache(c,d);const p=this.transform.localTransform.copyTo(mS).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new wi(c);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};ht.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ht.prototype._initCachedDisplayObjectCanvas=function(t){var p;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.getLocalBounds(new Pe,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Ho.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${No()}`;this._cacheData.textureCacheId=a,Re.addToCache(o.baseTexture,a),he.addToCache(o,a);const c=mS;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new wi(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};ht.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ht.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ht.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Re.removeFromCache(this._cacheData.textureCacheId),he.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ht.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ht.prototype.name=null;br.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};ht.prototype.getGlobalPosition=function(t=new Fe,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var p3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class m3 extends xr{constructor(e=1){super(i3,p3,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const g3={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},y3=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function v3(t){const e=g3[t],r=e.length;let n=y3,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const _3=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function x3(t,e){const r=Math.ceil(t/2);let n=_3,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class P0 extends xr{constructor(e,r=8,n=4,i=xr.defaultResolution,s=5){const o=x3(s,e),a=v3(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,ai.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(a,ai.BLIT),this.uniforms.uSampler=c;const p=c;c=a,a=p,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class w3 extends xr{constructor(e=8,r=4,n=xr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new P0(!0,e,r,n,i),this.blurYFilter=new P0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,ai.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var b3=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class I0 extends xr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(aS,b3,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=et.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,d=o*(1-n)-a*i,p=o*(1-n)+a*i,h=o*(1-n)+a*i,f=n+o*(1-n),g=o*(1-n)-a*i,y=o*(1-n)-a*i,x=o*(1-n)+a*i,b=n+o*(1-n),_=[c,d,p,0,0,h,f,g,0,0,y,x,b,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=et.shared,[a,c,d]=o.setValue(n).toArray(),[p,h,f]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,c,d,e,0,p,h,f,r,0,a-p,c-h,d-f,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}I0.prototype.grayscale=I0.prototype.greyscale;var E3=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,T3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class S3 extends xr{constructor(e,r){const n=new ot;e.renderable=!1,super(T3,E3,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Fe(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var A3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,C3=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class P3 extends xr{constructor(){super(C3,A3)}}var I3=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class R3 extends xr{constructor(e=.5,r=Math.random()){super(aS,I3,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Sw={AlphaFilter:m3,BlurFilter:w3,BlurFilterPass:P0,ColorMatrixFilter:I0,DisplacementFilter:S3,FXAAFilter:P3,NoiseFilter:R3};Object.entries(Sw).forEach(([t,e])=>{Object.defineProperty(Sw,t,{get(){return Oe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class k3{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ft.system.add(this.tickerUpdate,this,Gs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ft.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const vs=new k3;class lc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=lc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Fe,this.page=new Fe,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class zd extends lc{constructor(){super(...arguments),this.client=new Fe,this.movement=new Fe,this.offset=new Fe,this.global=new Fe,this.screen=new Fe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,d,p,h,f,g,y,x){throw new Error("Method not implemented.")}}class An extends zd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Va extends zd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Va.DOM_DELTA_PIXEL=0,Va.DOM_DELTA_LINE=1,Va.DOM_DELTA_PAGE=2;const M3=2048,N3=new Fe,Qm=new Fe;class O3{constructor(e){this.dispatch=new oc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){vs.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,N3.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<M3&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(vs.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let h=p.length-1;h>=0;h--){const f=p[h],g=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const y=e.isInteractive();(g.length>0||y)&&(y&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(vs.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const p=c[d],h=this.hitTestRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Qm),!e.hitArea.contains(Qm.x,Qm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d;if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const p=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,p,s);if(this.dispatchEvent(h,"pointerout"),n&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const p=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,p);this.dispatchEvent(h,"pointerover"),n&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(h)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(d=r.target)==null?void 0:d.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const d=a.button===2;this.dispatchEvent(a,d?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof An)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Va)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(An);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Va);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(An);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof An&&r instanceof An&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof zd&&r instanceof zd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const L3=1,D3={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},R0=class k0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new O3(null),vs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new An(null),this.rootWheelEvent=new Va(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...k0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,k0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,vs.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,vs.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;vs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;vs.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=L3),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=D3[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};R0.extension={name:"events",type:[ue.RendererSystem,ue.CanvasRendererSystem]},R0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let M0=R0;ve.add(M0);function Aw(t){return t==="dynamic"||t==="static"}const F3={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Aw(M0.defaultEventMode)},set interactive(t){Oe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??M0.defaultEventMode},set eventMode(t){this._internalInteractive=Aw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof lc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ht.mixin(F3);const B3={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ht.mixin(B3);const U3=9,bh=100,G3=0,$3=0,Cw=2,Pw=1,z3=-1e3,H3=-1e3,j3=2;class gS{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(On.tablet||On.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${bh}px`,r.style.height=`${bh}px`,r.style.position="absolute",r.style.top=`${G3}px`,r.style.left=`${$3}px`,r.style.zIndex=Cw.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Pw}px`,e.style.height=`${Pw}px`,e.style.position="absolute",e.style.top=`${z3}px`,e.style.left=`${H3}px`,e.style.zIndex=j3.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(On.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,d=i/o*c,p=s/a*c;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const g=this.children[f];if(g.renderId!==this.renderId)g._accessibleActive=!1,ja(this.children,f,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,f--;else{h=g._accessibleDiv;let y=g.hitArea;const x=g.worldTransform;g.hitArea?(h.style.left=`${(x.tx+y.x*x.a)*d}px`,h.style.top=`${(x.ty+y.y*x.d)*p}px`,h.style.width=`${y.width*x.a*d}px`,h.style.height=`${y.height*x.d*p}px`):(y=g.getBounds(),this.capHitArea(y),h.style.left=`${y.x*d}px`,h.style.top=`${y.y*p}px`,h.style.width=`${y.width*d}px`,h.style.height=`${y.height*p}px`,h.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(h.title=g.accessibleTitle),h.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&h.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==h.title||g.tabIndex!==h.tabIndex)&&(h.title=g.accessibleTitle,h.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${bh}px`,r.style.height=`${bh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Cw.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new lc(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===U3&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}gS.extension={name:"accessibility",type:[ue.RendererPlugin,ue.CanvasRendererPlugin]};ve.add(gS);const yS=class N0{constructor(e){this.stage=new br,e=Object.assign({forceCanvas:!1},e),this.renderer=t3(e),N0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=N0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};yS._plugins=[];let Bf=yS;ve.handleByList(ue.Application,Bf._plugins);class vS{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}vS.extension=ue.Application;ve.add(vS);const Iw={loader:ue.LoadParser,resolver:ue.ResolveParser,cache:ue.CacheParser,detection:ue.DetectionParser};ve.handle(ue.Asset,t=>{const e=t.ref;Object.entries(Iw).filter(([r])=>!!e[r]).forEach(([r,n])=>ve.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(Iw).filter(r=>!!e[r]).forEach(r=>ve.remove(e[r]))});class W3{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function pl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Xs(t,e){const r=t.split("?")[0],n=Ut.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const kn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),O0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function _S(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?_S(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function V3(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),_S(t,i,0,r,n)}else n.push(t);return n}const Hd=t=>!Array.isArray(t);class X3{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=kn(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof he){const a=r;n.forEach(c=>{a.baseTexture!==he.EMPTY.baseTexture&&Re.addToCache(a.baseTexture,c),he.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const wo=new X3;class Y3{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((a=d.testParse)==null?void 0:a.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Hd(e),o=kn(e,d=>({alias:[d],src:d})),a=o.length,c=o.map(async d=>{const p=Ut.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),i[d.src]=await this.promiseCache[p].promise,r&&r(++n/a)}catch(h){throw delete this.promiseCache[p],delete i[d.src],new Error(`[Loader.load] Failed to load ${p}.
${h}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=kn(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Ut.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Hn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Hn||{});const q3=".json",Q3="application/json",K3={extension:{type:ue.LoadParser,priority:Hn.Low},name:"loadJson",test(t){return pl(t,Q3)||Xs(t,q3)},async load(t){return await(await pe.ADAPTER.fetch(t)).json()}};ve.add(K3);const Z3=".txt",J3="text/plain",eL={name:"loadTxt",extension:{type:ue.LoadParser,priority:Hn.Low},test(t){return pl(t,J3)||Xs(t,Z3)},async load(t){return await(await pe.ADAPTER.fetch(t)).text()}};ve.add(eL);const tL=["normal","bold","100","200","300","400","500","600","700","800","900"],rL=[".ttf",".otf",".woff",".woff2"],nL=["font/ttf","font/otf","font/woff","font/woff2"],iL=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function sL(t){const e=Ut.extname(t),r=Ut.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(iL)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const oL=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function aL(t){return oL.test(t)?t:encodeURI(t)}const lL={extension:{type:ue.LoadParser,priority:Hn.Low},name:"loadWebFont",test(t){return pl(t,nL)||Xs(t,rL)},async load(t,e){var n,i,s;const r=pe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??sL(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>tL.includes(p)))??["normal"],d=e.data??{};for(let p=0;p<c.length;p++){const h=c[p],f=new FontFace(a,`url(${aL(t)})`,{...d,weight:h});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>pe.ADAPTER.getFontFaceSet().delete(e))}};ve.add(lL);let Rw=0,Km;const uL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",cL={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${uL}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},hL={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Zm;class dL{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([cL.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Km===void 0&&(Km=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Km&&(Zm||(Zm=URL.createObjectURL(new Blob([hL.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Zm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[Rw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Rw++,id:n})}}const kw=new dL;function uc(t,e,r){t.resource.internal=!0;const n=new he(t),i=()=>{delete e.promiseCache[r],wo.has(r)&&wo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const fL=[".jpeg",".jpg",".png",".webp",".avif"],pL=["image/jpeg","image/png","image/webp","image/avif"];async function mL(t){const e=await pe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Uf={name:"loadTextures",extension:{type:ue.LoadParser,priority:Hn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return pl(t,pL)||Xs(t,fL)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await kw.isImageBitmapSupported()?i=await kw.loadImageBitmap(t):i=await mL(t):i=await new Promise((c,d)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=t,p.complete?c(p):(p.onload=()=>c(p),p.onerror=h=>d(h))});const s={...e.data};s.resolution??(s.resolution=ji(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Re(i,s);return o.resource.src=t,uc(o,r,t)},unload(t){t.destroy(!0)}};ve.add(Uf);const gL=".svg",yL="image/svg+xml",vL={extension:{type:ue.LoadParser,priority:Hn.High},name:"loadSVG",test(t){return pl(t,yL)||Xs(t,gL)},async testParse(t){return T0.test(t)},async parse(t,e,r){var s;const n=new T0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Re(n,{resolution:ji(t),...e==null?void 0:e.data});return i.resource.src=e.src,uc(i,r,e.src)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload:Uf.unload};ve.add(vL);const _L=[".mp4",".m4v",".webm",".ogv"],xL=["video/mp4","video/webm","video/ogg"],wL={name:"loadVideo",extension:{type:ue.LoadParser,priority:Hn.High},config:{defaultAutoPlay:!0},test(t){return pl(t,xL)||Xs(t,_L)},async load(t,e,r){var o;let n;const i=await(await pe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new fS(s,a);await c.load();const d=new Re(c,{alphaMode:await PN(),resolution:ji(t),...e==null?void 0:e.data});d.resource.src=t,n=uc(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};ve.add(wL);class bL{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return kn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(d=>this._createBundleAssetId(e,d));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Oe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},kn(o).forEach(c=>{const{src:d,srcs:p}=c;let{data:h,format:f,loadParser:g}=c;const y=kn(d||p).map(_=>typeof _=="string"?V3(_):Array.isArray(_)?_:[_]),x=this.getAlias(c);Array.isArray(x)?x.forEach(a):a(x);const b=[];y.forEach(_=>{_.forEach(E=>{let T={};if(typeof E!="object"){T.src=E;for(let A=0;A<this._parsers.length;A++){const I=this._parsers[A];if(I.test(E)){T=I.parse(E);break}}}else h=E.data??h,f=E.format??f,g=E.loadParser??g,T={...T,...E};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this.buildResolvedAsset(T,{aliases:x,data:h,format:f,loadParser:g}),b.push(T)})}),x.forEach(_=>{this._assetMap[_]=b})})}resolveBundle(e){const r=Hd(e);e=kn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const d=o[c];a[this._extractAssetIdFromBundle(i,c)]=d}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Hd(e);e=kn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(d=>{const p=s.filter(h=>h[c]?h[c]===d:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ut.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Ut.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class EL{constructor(){this._detections=[],this._initialized=!1,this.resolver=new bL,this.loader=new Y3,this.cache=wo,this._backgroundLoader=new W3(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Hd(e),i=kn(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(d=>!this.resolver.hasKey(d))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const d=()=>{r==null||r(++a/c)},p=o.map(h=>{const f=i[h];return c+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(g=>{s[h]=g})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return wo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=wo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const d=s[a.src],p=[a.src];a.alias&&p.push(...a.alias),o[i[c]]=d,wo.set(p,d)}),o}async unload(e){this._initialized||await this.init();const r=kn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=kn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{wo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Uf.config.preferWorkers}set preferWorkers(e){Oe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Ts=new EL;ve.handleByList(ue.LoadParser,Ts.loader.parsers).handleByList(ue.ResolveParser,Ts.resolver.parsers).handleByList(ue.CacheParser,Ts.cache.parsers).handleByList(ue.DetectionParser,Ts.detections);const TL={extension:ue.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof he),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ve.add(TL);async function xS(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const wS={extension:{type:ue.DetectionParser,priority:1},test:async()=>xS("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ve.add(wS);const bS={extension:{type:ue.DetectionParser,priority:0},test:async()=>xS("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ve.add(bS);const Mw=["png","jpg","jpeg"],SL={extension:{type:ue.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Mw],remove:async t=>t.filter(e=>!Mw.includes(e))};ve.add(SL);const AL="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function fv(t){return AL?!1:document.createElement("video").canPlayType(t)!==""}const CL={extension:{type:ue.DetectionParser,priority:0},test:async()=>fv("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ve.add(CL);const PL={extension:{type:ue.DetectionParser,priority:0},test:async()=>fv("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ve.add(PL);const IL={extension:{type:ue.DetectionParser,priority:0},test:async()=>fv("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ve.add(IL);const RL={extension:ue.ResolveParser,test:Uf.test,parse:t=>{var e;return{resolution:parseFloat(((e=pe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ut.extname(t).slice(1),src:t}}};ve.add(RL);var Hr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Hr||{});const jd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ii,_a;function Nw(){_a={s3tc:Ii.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ii.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ii.getExtension("WEBGL_compressed_texture_etc"),etc1:Ii.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ii.getExtension("WEBGL_compressed_texture_pvrtc")||Ii.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ii.getExtension("WEBGL_compressed_texture_atc"),astc:Ii.getExtension("WEBGL_compressed_texture_astc")}}const kL={extension:{type:ue.DetectionParser,priority:2},test:async()=>{const t=pe.ADAPTER.createCanvas().getContext("webgl");return t?(Ii=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{_a||Nw();const e=[];for(const r in _a)_a[r]&&e.push(r);return[...e,...t]},remove:async t=>(_a||Nw(),t.filter(e=>!(e in _a)))};ve.add(kL);class ML extends Mf{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new h0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new h0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Io extends ML{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Io._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Io._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:d,levelBuffer:p}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,d,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Io._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let d=e.byteOffset,p=o,h=a,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*jd[r];for(let x=0;x<n;x++)c[x]={levelID:x,levelWidth:n>1?p:f,levelHeight:n>1?h:g,levelBuffer:new Uint8Array(e.buffer,d,y)},d+=y,p=p>>1||1,h=h>>1||1,f=p+i-1&~(i-1),g=h+s-1&~(s-1),y=f*g*jd[r];return c}}const Jm=4,Eh=124,NL=32,Ow=20,OL=542327876,Th={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},LL={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Sh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DL=1,FL=2,BL=4,UL=64,GL=512,$L=131072,zL=827611204,HL=861165636,jL=894720068,WL=808540228,VL=4,XL={[zL]:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[HL]:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[jL]:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT},YL={70:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function qL(t){const e=new Uint32Array(t);if(e[0]!==OL)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Eh/Uint32Array.BYTES_PER_ELEMENT),n=r[Th.HEIGHT],i=r[Th.WIDTH],s=r[Th.MIPMAP_COUNT],o=new Uint32Array(t,Th.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,NL/Uint32Array.BYTES_PER_ELEMENT),a=o[DL];if(a&BL){const c=o[LL.FOURCC];if(c!==WL){const E=XL[c],T=Jm+Eh,A=new Uint8Array(t,T);return[new Io(A,{format:E,width:i,height:n,levels:s})]}const d=Jm+Eh,p=new Uint32Array(e.buffer,d,Ow/Uint32Array.BYTES_PER_ELEMENT),h=p[Sh.DXGI_FORMAT],f=p[Sh.RESOURCE_DIMENSION],g=p[Sh.MISC_FLAG],y=p[Sh.ARRAY_SIZE],x=YL[h];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(g===VL)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,_=Jm+Eh+Ow;if(y===1)b.push(new Uint8Array(t,_));else{const E=jd[x];let T=0,A=i,I=n;for(let M=0;M<s;M++){const R=Math.max(1,A+3&-4),U=Math.max(1,I+3&-4),G=R*U*E;T+=G,A=A>>>1,I=I>>>1}let O=_;for(let M=0;M<y;M++)b.push(new Uint8Array(t,O,T)),O+=T}return b.map(E=>new Io(E,{format:x,width:i,height:n,levels:s}))}throw a&UL?new Error("DDSParser does not support uncompressed texture data."):a&GL?new Error("DDSParser does not supported YUV uncompressed texture data."):a&$L?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&FL?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Lw=[171,75,84,88,32,49,49,187,13,10,26,10],QL=67305985,En={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},L0=64,Dw={[we.UNSIGNED_BYTE]:1,[we.UNSIGNED_SHORT]:2,[we.INT]:4,[we.UNSIGNED_INT]:4,[we.FLOAT]:4,[we.HALF_FLOAT]:8},KL={[ie.RGBA]:4,[ie.RGB]:3,[ie.RG]:2,[ie.RED]:1,[ie.LUMINANCE]:1,[ie.LUMINANCE_ALPHA]:2,[ie.ALPHA]:1},ZL={[we.UNSIGNED_SHORT_4_4_4_4]:2,[we.UNSIGNED_SHORT_5_5_5_1]:2,[we.UNSIGNED_SHORT_5_6_5]:2};function JL(t,e,r=!1){const n=new DataView(e);if(!eD(t,n))return null;const i=n.getUint32(En.ENDIANNESS,!0)===QL,s=n.getUint32(En.GL_TYPE,i),o=n.getUint32(En.GL_FORMAT,i),a=n.getUint32(En.GL_INTERNAL_FORMAT,i),c=n.getUint32(En.PIXEL_WIDTH,i),d=n.getUint32(En.PIXEL_HEIGHT,i)||1,p=n.getUint32(En.PIXEL_DEPTH,i)||1,h=n.getUint32(En.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(En.NUMBER_OF_FACES,i),g=n.getUint32(En.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(En.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const x=4,b=4,_=c+3&-4,E=d+3&-4,T=new Array(h);let A=c*d;s===0&&(A=_*E);let I;if(s!==0?Dw[s]?I=Dw[s]*KL[o]:I=ZL[s]:I=jd[a],I===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const O=r?rD(n,y,i):null;let M=A*I,R=c,U=d,G=_,Q=E,X=L0+y;for(let D=0;D<g;D++){const H=n.getUint32(X,i);let J=X+4;for(let Z=0;Z<h;Z++){let ce=T[Z];ce||(ce=T[Z]=new Array(g)),ce[D]={levelID:D,levelWidth:g>1||s!==0?R:G,levelHeight:g>1||s!==0?U:Q,levelBuffer:new Uint8Array(e,J,M)},J+=M}X+=H+4,X=X%4!==0?X+4-X%4:X,R=R>>1||1,U=U>>1||1,G=R+x-1&~(x-1),Q=U+b-1&~(b-1),M=G*Q*I}return s!==0?{uncompressed:T.map(D=>{let H=D[0].levelBuffer,J=!1;return s===we.FLOAT?H=new Float32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4):s===we.UNSIGNED_INT?(J=!0,H=new Uint32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)):s===we.INT&&(J=!0,H=new Int32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)),{resource:new Mf(H,{width:D[0].levelWidth,height:D[0].levelHeight}),type:s,format:J?tD(o):o}}),kvData:O}:{compressed:T.map(D=>new Io(null,{format:a,width:c,height:d,levels:g,levelBuffers:D})),kvData:O}}function eD(t,e){for(let r=0;r<Lw.length;r++)if(e.getUint8(r)!==Lw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function tD(t){switch(t){case ie.RGBA:return ie.RGBA_INTEGER;case ie.RGB:return ie.RGB_INTEGER;case ie.RG:return ie.RG_INTEGER;case ie.RED:return ie.RED_INTEGER;default:return t}}function rD(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(L0+i,r),o=L0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),p=new DataView(t.buffer,o+c+1,s-c-1);n.set(d,p),i+=4+s+a}return n}const nD={extension:{type:ue.LoadParser,priority:Hn.High},name:"loadDDS",test(t){return Xs(t,".dds")},async load(t,e,r){const n=await(await pe.ADAPTER.fetch(t)).arrayBuffer(),i=qL(n).map(s=>{const o=new Re(s,{mipmap:gi.OFF,alphaMode:kr.NO_PREMULTIPLIED_ALPHA,resolution:ji(t),...e.data});return uc(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(nD);const iD={extension:{type:ue.LoadParser,priority:Hn.High},name:"loadKTX",test(t){return Xs(t,".ktx")},async load(t,e,r){const n=await(await pe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=JL(t,n),a=i??s,c={mipmap:gi.OFF,alphaMode:kr.NO_PREMULTIPLIED_ALPHA,resolution:ji(t),...e.data},d=a.map(p=>{a===s&&Object.assign(c,{type:p.type,format:p.format});const h=p.resource??p,f=new Re(h,c);return f.ktxKeyValueData=o,uc(f,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(iD);const sD={extension:ue.ResolveParser,test:t=>{const e=Ut.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Ut.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=pe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=pe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};ve.add(sD);const Ah=new Pe,oD=4,ES=class nu{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=a,d.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const d=new FileReader;d.onload=()=>a(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&nu._flipY(n,i,s),a&&nu._unpremultiplyAlpha(n);const c=new HN(i,s,1),d=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&nu._flipY(n,i,s),a&&nu._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof Ho?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(Ah.width=r.width,Ah.height=r.height,r=Ah)));const d=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ie.RGBA,!c){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=Ah,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const p=Math.max(Math.round(r.width*i),1),h=Math.max(Math.round(r.height*i),1),f=new Uint8Array(oD*p*h);return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),p,h,d.RGBA,d.UNSIGNED_BYTE,f),c&&(a==null||a.destroy(!0)),{pixels:f,width:p,height:h,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,d=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,d,d+i),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};ES.extension={name:"extract",type:ue.RendererSystem};let aD=ES;ve.add(aD);const Wd={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===rr.CIRC){const y=t.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(t.type===rr.ELIP){const y=t.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=t.shape,x=y.width/2,b=y.height/2;r=y.x+x,n=y.y+b,o=a=Math.max(0,Math.min(y.radius,Math.min(x,b))),i=x-o,s=b-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,h=c*4+(i?2:0)+2,f=h,g=d;{const y=i+o,x=s,b=r+y,_=r-y,E=n+x;if(e[p++]=b,e[p++]=E,e[--h]=E,e[--h]=_,s){const T=n-x;e[f++]=_,e[f++]=T,e[--g]=T,e[--g]=b}}for(let y=1;y<c;y++){const x=Math.PI/2*(y/c),b=i+Math.cos(x)*o,_=s+Math.sin(x)*a,E=r+b,T=r-b,A=n+_,I=n-_;e[p++]=E,e[p++]=A,e[--h]=A,e[--h]=T,e[f++]=T,e[f++]=I,e[--g]=I,e[--g]=E}{const y=i,x=s+a,b=r+y,_=r-y,E=n+x,T=n-x;e[p++]=b,e[p++]=E,e[--g]=T,e[--g]=b,i&&(e[p++]=_,e[p++]=E,e[--g]=T,e[--g]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==rr.RREC){const p=t.shape;a=p.x,c=p.y}else{const p=t.shape;a=p.x+p.width/2,c=p.y+p.height/2}const d=t.matrix;n.push(t.matrix?d.a*a+d.c*c+d.tx:a,t.matrix?d.b*a+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Fw(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[d]]=[t[d],t[a]]}}}const TS={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Fw(r,!1);const o=[];for(let d=0;d<n.length;d++){const p=n[d];Fw(p.points,!0),o.push(r.length/2),r=r.concat(p.points)}const a=sk(r,o,2);if(!a)return;const c=i.length/2;for(let d=0;d<a.length;d+=3)s.push(a[d]+c),s.push(a[d+1]+c),s.push(a[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},lD={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},uD={build(t){Wd.build(t)},triangulate(t,e){Wd.triangulate(t,e)}};var ln=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ln||{}),Ss=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ss||{});const nl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Bw{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,d=a-e,p=i-r,h=n-e,f=Math.abs(c*h-d*p);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=c*c+d*d,y=p*p+h*h,x=c*p+d*h,b=s*Math.sqrt(g)/f,_=s*Math.sqrt(y)/f,E=b*x/g,T=_*x/y,A=b*h+_*d,I=b*p+_*c,O=d*(_+E),M=c*(_+E),R=h*(b+T),U=p*(b+T),G=Math.atan2(M-I,O-A),Q=Math.atan2(U-I,R-A);return{cx:A+e,cy:I+r,radius:s,startAngle:G,endAngle:Q,anticlockwise:d*p>h*c}}static arc(e,r,n,i,s,o,a,c,d){const p=a-o,h=nl._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/Dd)*40),f=p/(h*2),g=f*2,y=Math.cos(f),x=Math.sin(f),b=h-1,_=b%1/b;for(let E=0;E<=b;++E){const T=E+_*E,A=f+o+g*T,I=Math.cos(A),O=-Math.sin(A);d.push((y*I+x*O)*s+n,(y*-O+x*I)*s+i)}}}class cD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class pv{static curveLength(e,r,n,i,s,o,a,c){let d=0,p=0,h=0,f=0,g=0,y=0,x=0,b=0,_=0,E=0,T=0,A=e,I=r;for(let O=1;O<=10;++O)p=O/10,h=p*p,f=h*p,g=1-p,y=g*g,x=y*g,b=x*e+3*y*p*n+3*g*h*s+f*a,_=x*r+3*y*p*i+3*g*h*o+f*c,E=A-b,T=I-_,A=b,I=_,d+=Math.sqrt(E*E+T*T);return d}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],d=a[a.length-1];a.length-=2;const p=nl._segmentsCount(pv.curveLength(c,d,e,r,n,i,s,o));let h=0,f=0,g=0,y=0,x=0;a.push(c,d);for(let b=1,_=0;b<=p;++b)_=b/p,h=1-_,f=h*h,g=f*h,y=_*_,x=y*_,a.push(g*c+3*f*_*e+3*h*y*n+x*s,g*d+3*f*_*r+3*h*y*i+x*o)}}function Uw(t,e,r,n,i,s,o,a){const c=t-r*i,d=e-n*i,p=t+r*s,h=e+n*s;let f,g;o?(f=n,g=-r):(f=-n,g=r);const y=c+f,x=d+g,b=p+f,_=h+g;return a.push(y,x,b,_),2}function uo(t,e,r,n,i,s,o,a){const c=r-t,d=n-e;let p=Math.atan2(c,d),h=Math.atan2(i-t,s-e);a&&p<h?p+=Math.PI*2:!a&&p>h&&(h+=Math.PI*2);let f=p;const g=h-p,y=Math.abs(g),x=Math.sqrt(c*c+d*d),b=(15*y*Math.sqrt(x)/Math.PI>>0)+1,_=g/b;if(f+=_,a){o.push(t,e,r,n);for(let E=1,T=f;E<b;E++,T+=_)o.push(t,e,t+Math.sin(T)*x,e+Math.cos(T)*x);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let E=1,T=f;E<b;E++,T+=_)o.push(t+Math.sin(T)*x,e+Math.cos(T)*x,t,e);o.push(i,s,t,e)}return b*2}function hD(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Fe(n[0],n[1]),a=new Fe(n[n.length-2],n[n.length-1]),c=r.type!==rr.POLY||r.closeStroke,d=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const ce=(o.x+a.x)*.5,N=(a.y+o.y)*.5;n.unshift(ce,N),n.push(ce,N)}const p=e.points,h=n.length/2;let f=n.length;const g=p.length/2,y=s.width/2,x=y*y,b=s.miterLimit*s.miterLimit;let _=n[0],E=n[1],T=n[2],A=n[3],I=0,O=0,M=-(E-A),R=_-T,U=0,G=0,Q=Math.sqrt(M*M+R*R);M/=Q,R/=Q,M*=y,R*=y;const X=s.alignment,D=(1-X)*2,H=X*2;c||(s.cap===Ss.ROUND?f+=uo(_-M*(D-H)*.5,E-R*(D-H)*.5,_-M*D,E-R*D,_+M*H,E+R*H,p,!0)+2:s.cap===Ss.SQUARE&&(f+=Uw(_,E,M,R,D,H,!0,p))),p.push(_-M*D,E-R*D,_+M*H,E+R*H);for(let ce=1;ce<h-1;++ce){_=n[(ce-1)*2],E=n[(ce-1)*2+1],T=n[ce*2],A=n[ce*2+1],I=n[(ce+1)*2],O=n[(ce+1)*2+1],M=-(E-A),R=_-T,Q=Math.sqrt(M*M+R*R),M/=Q,R/=Q,M*=y,R*=y,U=-(A-O),G=T-I,Q=Math.sqrt(U*U+G*G),U/=Q,G/=Q,U*=y,G*=y;const N=T-_,W=E-A,F=T-I,$=O-A,ee=N*F+W*$,Ie=W*F-$*N,Ae=Ie<0;if(Math.abs(Ie)<.001*Math.abs(ee)){p.push(T-M*D,A-R*D,T+M*H,A+R*H),ee>=0&&(s.join===ln.ROUND?f+=uo(T,A,T-M*D,A-R*D,T-U*D,A-G*D,p,!1)+4:f+=2,p.push(T-U*H,A-G*H,T+U*D,A+G*D));continue}const Ge=(-M+_)*(-R+A)-(-M+T)*(-R+E),Me=(-U+I)*(-G+A)-(-U+T)*(-G+O),Ve=(N*Me-F*Ge)/Ie,Gt=($*Ge-W*Me)/Ie,Zt=(Ve-T)*(Ve-T)+(Gt-A)*(Gt-A),vt=T+(Ve-T)*D,Ne=A+(Gt-A)*D,rt=T-(Ve-T)*H,He=A-(Gt-A)*H,Kr=Math.min(N*N+W*W,F*F+$*$),Zr=Ae?D:H,Zs=Kr+Zr*Zr*x,ap=Zt<=Zs;let Vo=s.join;if(Vo===ln.MITER&&Zt/x>b&&(Vo=ln.BEVEL),ap)switch(Vo){case ln.MITER:{p.push(vt,Ne,rt,He);break}case ln.BEVEL:{Ae?p.push(vt,Ne,T+M*H,A+R*H,vt,Ne,T+U*H,A+G*H):p.push(T-M*D,A-R*D,rt,He,T-U*D,A-G*D,rt,He),f+=2;break}case ln.ROUND:{Ae?(p.push(vt,Ne,T+M*H,A+R*H),f+=uo(T,A,T+M*H,A+R*H,T+U*H,A+G*H,p,!0)+4,p.push(vt,Ne,T+U*H,A+G*H)):(p.push(T-M*D,A-R*D,rt,He),f+=uo(T,A,T-M*D,A-R*D,T-U*D,A-G*D,p,!1)+4,p.push(T-U*D,A-G*D,rt,He));break}}else{switch(p.push(T-M*D,A-R*D,T+M*H,A+R*H),Vo){case ln.MITER:{Ae?p.push(rt,He,rt,He):p.push(vt,Ne,vt,Ne),f+=2;break}case ln.ROUND:{Ae?f+=uo(T,A,T+M*H,A+R*H,T+U*H,A+G*H,p,!0)+2:f+=uo(T,A,T-M*D,A-R*D,T-U*D,A-G*D,p,!1)+2;break}}p.push(T-U*D,A-G*D,T+U*H,A+G*H),f+=2}}_=n[(h-2)*2],E=n[(h-2)*2+1],T=n[(h-1)*2],A=n[(h-1)*2+1],M=-(E-A),R=_-T,Q=Math.sqrt(M*M+R*R),M/=Q,R/=Q,M*=y,R*=y,p.push(T-M*D,A-R*D,T+M*H,A+R*H),c||(s.cap===Ss.ROUND?f+=uo(T-M*(D-H)*.5,A-R*(D-H)*.5,T-M*D,A-R*D,T+M*H,A+R*H,p,!1)+2:s.cap===Ss.SQUARE&&(f+=Uw(T,A,M,R,D,H,!1,p)));const J=e.indices,Z=nl.epsilon*nl.epsilon;for(let ce=g;ce<f+g-2;++ce)_=p[ce*2],E=p[ce*2+1],T=p[(ce+1)*2],A=p[(ce+1)*2+1],I=p[(ce+2)*2],O=p[(ce+2)*2+1],!(Math.abs(_*(A-O)+T*(O-E)+I*(E-A))<Z)&&J.push(ce,ce+1,ce+2)}function dD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==rr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,d=o.length/2;let p=d;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(p,p+1),p++;s&&a.push(p,d)}function Gw(t,e){t.lineStyle.native?dD(t,e):hD(t,e)}class mv{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,d=2*n-2*e,p=2*i-2*r,h=4*(a*a+c*c),f=4*(a*d+c*p),g=d*d+p*p,y=2*Math.sqrt(h+f+g),x=Math.sqrt(h),b=2*h*x,_=2*Math.sqrt(g),E=f/x;return(b*y+x*f*(y-_)+(4*g*h-f*f)*Math.log((2*x+E+y)/(E+_)))/(4*b)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=nl._segmentsCount(mv.curveLength(o,a,e,r,n,i));let d=0,p=0;for(let h=1;h<=c;++h){const f=h/c;d=o+(e-o)*f,p=a+(r-a)*f,s.push(d+(e+(n-e)*f-d)*f,p+(r+(i-r)*f-p)*f)}}}const eg={[rr.POLY]:TS,[rr.CIRC]:Wd,[rr.ELIP]:Wd,[rr.RECT]:lD,[rr.RREC]:uD},$w=[],Ch=[];class Vd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Vd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const da=new Fe,SS=class AS extends kT{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new $d,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ch.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),$w.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Vd(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Vd(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,da):da.copyFrom(e),i.shape.contains(da.x,da.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(da.x,da.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],p=d.fillStyle,h=d.lineStyle;eg[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(p.visible||h.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const g=f===0?p:h;if(!g.visible)continue;const y=g.texture.baseTexture,x=this.indices.length,b=this.points.length/2;y.wrapMode=$i.REPEAT,f===0?this.processFill(d):this.processLine(d);const _=this.points.length/2-b;_!==0&&(n&&!this._compareStyles(i,g)&&(n.end(x,b),n=null),n||(n=$w.pop()||new cD,n.begin(g,x,b),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,b,_,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<AS.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Re._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Ch.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Ch.pop();i||(i=new p0,i.texArray=new v0),i.texArray.count=0,i.start=0,i.size=0,i.type=Nn.TRIANGLES;let s=0,o=null,a=0,c=!1,d=Nn.TRIANGLES,p=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],g=8,y=f.style,x=y.texture.baseTexture;c!==!!y.native&&(c=!!y.native,d=c?Nn.LINES:Nn.TRIANGLES,o=null,s=g,e++),o!==x&&(o=x,x._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=Ch.pop(),i||(i=new p0,i.texArray=new v0),this.drawCalls.push(i)),i.start=p,i.size=0,i.texArray.count=0,i.type=d),x.touched=1,x._batchEnabled=e,x._batchLocation=s,x.wrapMode=$i.REPEAT,i.texArray.elements[i.texArray.count++]=x,s++)),i.size+=f.size,p+=f.size,a=x._batchLocation,this.addColors(r,y.color,y.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,a,f.attribSize,f.attribStart)}Re._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],a[c++]=n[d],o[c++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?TS.triangulate(e,this):eg[e.type].triangulate(e,this)}processLine(e){Gw(e,this);for(let r=0;r<e.holes.length;r++)Gw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];eg[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=et.shared.setValue(r).toLittleEndianNumber(),a=et.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,d=n.frame;for(;a<s;){let h=e[(i+a)*2],f=e[(i+a)*2+1];if(o){const g=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty,h=g}a++,r.push(h/d.width,f/d.height)}const p=n.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,d=c.width/s.width,p=c.height/s.height;let h=c.x/c.width,f=c.y/c.height,g=Math.floor(e[n]+o),y=Math.floor(e[n+1]+o);for(let x=n+2;x<a;x+=2)g=Math.min(g,Math.floor(e[x]+o)),y=Math.min(y,Math.floor(e[x+1]+o));h-=g,f-=y;for(let x=n;x<a;x+=2)e[x]=(e[x]+h)*d,e[x+1]=(e[x+1]+f)*p}};SS.BATCHABLE_SIZE=100;let fD=SS;class Gf{constructor(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Gf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class gv extends Gf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ss.BUTT,this.join=ln.MITER,this.miterLimit=10}clone(){const e=new gv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ss.BUTT,this.join=ln.MITER,this.miterLimit=10}}const tg={},D0=class dd extends br{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Gf,this._lineStyle=new gv,this._matrix=null,this._holeMode=!1,this.state=xi.for2d(),this._geometry=e||new fD,this._geometry.refCount++,this._transformID=-1,this._tintColor=new et(16777215),this.blendMode=Te.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new dd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:he.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ss.BUTT,join:ln.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Po,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Po,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),mv.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),pv.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=Bw.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:d,radius:p,startAngle:h,endAngle:f,anticlockwise:g}=a;this.arc(c,d,p,h,f,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Dd:o&&i<=s&&(i+=Dd),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const h=Math.abs(p[p.length-2]-a),f=Math.abs(p[p.length-1]-c);h<d&&f<d||p.push(a,c)}else this.moveTo(a,c),p=this.currentPath.points;return Bw.arc(a,c,e,r,n,i,s,o,p),this}beginFill(e=0,r){return this.beginTextureFill({texture:he.WHITE,color:e,alpha:r})}normalizeColor(e){const r=et.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:he.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Pe(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Lf(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Nf(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Of(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Po(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===rr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),p={vertexData:a,blendMode:r,indices:d,uvs:c,_batchRGB:et.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=p}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,et.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!tg[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new ot,default:Bn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;tg[n]=new di(a,o)}r=tg[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,dd._TEMP_POINT),this._geometry.containsPoint(dd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=et.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this._geometry.points,p=this.vertexData;let h=0;for(let f=0;f<d.length;f+=2){const g=d[f],y=d[f+1];p[h++]=n*g+s*y+a,p[h++]=o*y+i*g+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};D0.curves=nl,D0._TEMP_POINT=new Fe;let yu=D0;class pD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const rg=new Fe,zw=new Po,CS=class PS extends br{constructor(e,r,n,i=Nn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||xi.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=pe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Nn.TRIANGLES&&r.length<PS.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,d=i.tx,p=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const g=r[f*2],y=r[f*2+1];h[f*2]=s*g+a*y+d,h[f*2+1]=o*g+c*y+p}if(this._roundPixels){const f=pe.RESOLUTION;for(let g=0;g<h.length;++g)h[g]=Math.round(h[g]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new pD(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,rg);const r=this.geometry.getBuffer("aVertexPosition").data,n=zw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,d=i[a+1]*2,p=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[p],n[5]=r[p+1],zw.contains(rg.x,rg.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};CS.BATCHABLE_SIZE=100;let Du=CS;class $f extends Bs{constructor(e,r,n){super();const i=new Tt(e),s=new Tt(r,!0),o=new Tt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,we.FLOAT).addAttribute("aTextureCoord",s,2,!1,we.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var mD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,gD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Fu extends di{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ot.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Fi.from(gD,mD),n),this._colorDirty=!1,this.uvMatrix=new hv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new et(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;et.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class yD extends $f{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let p=0;p<e;p++){const h=p%this.segWidth,f=p/this.segWidth|0;r.push(h*a,f*c),n.push(h/s,f/o)}const d=s*o;for(let p=0;p<d;p++){const h=p%s,f=p/s|0,g=f*this.segWidth+h,y=f*this.segWidth+h+1,x=(f+1)*this.segWidth+h,b=(f+1)*this.segWidth+h+1;i.push(g,y,x,y,b,x)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class vD extends $f{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const d=this._width*this.textureScale,p=e.length;for(let f=0;f<p;f++){const g=f*4;if(this.textureScale>0){const y=c.x-e[f].x,x=c.y-e[f].y,b=Math.sqrt(y*y+x*x);c=e[f],a+=b/d}else a=f/(p-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let h=0;for(let f=0;f<p-1;f++){const g=f*2;o[h++]=g,o[h++]=g+1,o[h++]=g+2,o[h++]=g+2,o[h++]=g+1,o[h++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<a;d++){const p=e[d],h=d*4;d<e.length-1?n=e[d+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=c,s*=c),o[h]=p.x+i,o[h+1]=p.y+s,o[h+2]=p.x-i,o[h+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class _D extends Du{constructor(e,r,n){const i=new yD(e.width,e.height,r,n),s=new Fu(he.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Ph=10;class xD extends _D{constructor(e,r,n,i,s){var o,a,c,d;super(he.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Ph,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Ph,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Ph,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??Ph,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class wD extends Du{constructor(e=he.EMPTY,r,n,i,s){const o=new $f(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Fu(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class bD extends Du{constructor(e,r,n=0){const i=new vD(e.height,r,n),s=new Fu(e);n>0&&(e.baseTexture.wrapMode=$i.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class ED extends br{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Te.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new et(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Hw{constructor(e,r,n){this.geometry=new Bs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||we.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Tt($N(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Tt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Tt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===we.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===we.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var TD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,SD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class IS extends Ff{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ot,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=di.from(SD,TD,{}),this.state=xi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=PT(e.blendMode,d),s.state.set(this.state);const p=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=et.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let f=!1;for(let g=0,y=0;g<o;g+=i,y+=1){let x=o-g;x>i&&(x=i),y>=a.length&&a.push(this._generateOneMoreBuffer(e));const b=a[y];b.uploadDynamic(r,g,x);const _=e._bufferUpdateIDs[y]||0;f=f||b._updateID<_,f&&(b._updateID=e._updateID,b.uploadStatic(r,g,x)),s.geometry.bind(b.geometry),p.drawElements(p.TRIANGLES,x*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Hw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Hw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,d=0,p=0;for(let h=0;h<n;++h){const f=e[r+h],g=f._texture,y=f.scale.x,x=f.scale.y,b=g.trim,_=g.orig;b?(c=b.x-f.anchor.x*_.width,a=c+b.width,p=b.y-f.anchor.y*_.height,d=p+b.height):(a=_.width*(1-f.anchor.x),c=_.width*-f.anchor.x,d=_.height*(1-f.anchor.y),p=_.height*-f.anchor.y),i[o]=c*y,i[o+1]=p*x,i[o+s]=a*y,i[o+s+1]=p*x,i[o+s*2]=a*y,i[o+s*2+1]=d*x,i[o+s*3]=c*y,i[o+s*3+1]=d*x,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],d=et.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}IS.extension={name:"particle",type:ue.RendererPlugin};ve.add(IS);var zf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(zf||{});const Ih={willReadFrequently:!0},ii=class xe{static get experimentalLetterSpacingSupported(){let e=xe._experimentalLetterSpacingSupported;if(e!==void 0){const r=pe.ADAPTER.getCanvasRenderingContext2D().prototype;e=xe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,i=xe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=xe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",Ih);a.font=s;const c=(n?xe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let p=0;for(let y=0;y<c.length;y++){const x=xe._measureText(c[y],r.letterSpacing,a);d[y]=x,p=Math.max(p,x)}let h=p+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const f=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(f,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(f+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new xe(e,r,h,g,c,d,f+r.leading,p,o)}static _measureText(e,r,n){let i=!1;xe.experimentalLetterSpacingSupported&&(xe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(xe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=xe._canvas){const i=n.getContext("2d",Ih);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:d,whiteSpace:p}=r,h=xe.collapseSpaces(p),f=xe.collapseNewlines(p);let g=!h;const y=r.wordWrapWidth+d,x=xe.tokenize(e);for(let b=0;b<x.length;b++){let _=x[b];if(xe.isNewline(_)){if(!f){a+=xe.addLine(o),g=!h,o="",s=0;continue}_=" "}if(h){const T=xe.isBreakingSpace(_),A=xe.isBreakingSpace(o[o.length-1]);if(T&&A)continue}const E=xe.getFromCache(_,d,c,i);if(E>y)if(o!==""&&(a+=xe.addLine(o),o="",s=0),xe.canBreakWords(_,r.breakWords)){const T=xe.wordWrapSplit(_);for(let A=0;A<T.length;A++){let I=T[A],O=I,M=1;for(;T[A+M];){const U=T[A+M];if(!xe.canBreakChars(O,U,_,A,r.breakWords))I+=U;else break;O=U,M++}A+=M-1;const R=xe.getFromCache(I,d,c,i);R+s>y&&(a+=xe.addLine(o),g=!1,o="",s=0),o+=I,s+=R}}else{o.length>0&&(a+=xe.addLine(o),o="",s=0);const T=b===x.length-1;a+=xe.addLine(_,!T),g=!1,o="",s=0}else E+s>y&&(g=!1,a+=xe.addLine(o),o="",s=0),(o.length>0||!xe.isBreakingSpace(_)||g)&&(o+=_,s+=E)}return a+=xe.addLine(o,!1),a}static addLine(e,r=!0){return e=xe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=xe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!xe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:xe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:xe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(xe.isBreakingSpace(s,o)||xe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return xe.graphemeSegmenter(e)}static measureFont(e){if(xe._fonts[e])return xe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=xe._canvas,i=xe._context;i.font=e;const s=xe.METRICS_STRING+xe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(xe.BASELINE_SYMBOL).width);const c=Math.ceil(xe.HEIGHT_MULTIPLIER*a);if(a=a*xe.BASELINE_MULTIPLIER|0,o===0||c===0)return xe._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const d=i.getImageData(0,0,o,c).data,p=d.length,h=o*4;let f=0,g=0,y=!1;for(f=0;f<a;++f){for(let x=0;x<h;x+=4)if(d[g+x]!==255){y=!0;break}if(!y)g+=h;else break}for(r.ascent=a-f,g=p-h,y=!1,f=c;f>a;--f){for(let x=0;x<h;x+=4)if(d[g+x]!==255){y=!0;break}if(!y)g-=h;else break}return r.descent=f-a,r.fontSize=r.ascent+r.descent,xe._fonts[e]=r,r}static clearMetrics(e=""){e?delete xe._fonts[e]:xe._fonts={}}static get _canvas(){var e;if(!xe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Ih))!=null&&e.measureText)return xe.__canvas=n,n;r=pe.ADAPTER.createCanvas()}catch{r=pe.ADAPTER.createCanvas()}r.width=r.height=10,xe.__canvas=r}return xe.__canvas}static get _context(){return xe.__context||(xe.__context=xe._canvas.getContext("2d",Ih)),xe.__context}};ii.METRICS_STRING="|ÉqÅ",ii.BASELINE_SYMBOL="M",ii.BASELINE_MULTIPLIER=1.4,ii.HEIGHT_MULTIPLIER=2,ii.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ii.experimentalLetterSpacing=!1,ii._fonts={},ii._newlines=[10,13],ii._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ms=ii;const AD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],RS=class iu{constructor(e){this.styleID=0,this.reset(),ig(this,e,e)}clone(){const e={};return ig(e,this,iu.defaultStyle),new iu(e)}reset(){ig(this,iu.defaultStyle,iu.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=ng(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=ng(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){CD(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=ng(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!AD.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};RS.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:zf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let $s=RS;function ng(t){const e=et.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function CD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function ig(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const PD={texture:!0,children:!1,baseTexture:!0},kS=class F0 extends wi{constructor(e,r,n){let i=!1;n||(n=pe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=he.from(n);s.orig=new Pe,s.trim=new Pe,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=F0.defaultResolution??pe.RESOLUTION,this._autoResolution=F0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ms.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Oe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ms.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=ms.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,d=i.lineWidths,p=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let f,g;const y=r.dropShadow?2:1;for(let x=0;x<y;++x){const b=r.dropShadow&&x===0,_=b?Math.ceil(Math.max(1,o)+r.padding*2):0,E=_*this._resolution;if(b){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,I=r.dropShadowBlur*this._resolution,O=r.dropShadowDistance*this._resolution;n.shadowColor=et.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=I,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*O,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*O+E}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let T=(c-h.fontSize)/2;c-h.fontSize<0&&(T=0);for(let A=0;A<a.length;A++)f=r.strokeThickness/2,g=r.strokeThickness/2+A*c+h.ascent+T,r.align==="right"?f+=p-d[A]:r.align==="center"&&(f+=(p-d[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-_,!0),r.fill&&this.drawLetterSpacing(a[A],f+r.padding,g+r.padding-_)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(ms.experimentalLetterSpacingSupported&&(ms.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=ms.graphemeSegmenter(e);let d=this.context.measureText(e).width,p=0;for(let h=0;h<c.length;++h){const f=c[h];i?this.context.strokeText(f,a,n):this.context.fillText(f,a,n);let g="";for(let y=h+1;y<c.length;++y)g+=c[y];p=this.context.measureText(g).width,a+=d-p+s,d=p}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=WN(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,d=this.canvas.height/this._resolution-o-a*2,p=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const f=p.length+1;for(let g=1;g<f;++g)h.push(g/f)}if(p.unshift(i[0]),h.unshift(0),p.push(i[i.length-1]),h.push(1),e.fillGradientType===zf.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,d+a);const f=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const y=n.lineHeight*(g-1)+f,x=n.lineHeight*g;let b=x;g>0&&y>x&&(b=(x+y)/2);const _=x+f,E=n.lineHeight*(g+1);let T=_;g+1<r.length&&E<_&&(T=(_+E)/2);const A=(T-b)/d;for(let I=0;I<p.length;I++){let O=0;typeof h[I]=="number"?O=h[I]:O=I/p.length;let M=Math.min(1,Math.max(0,b/d+O*A));M=Number(M.toFixed(5)),s.addColorStop(M,p[I])}}}else{s=this.context.createLinearGradient(a,d/2,c+a,d/2);const f=p.length+1;let g=1;for(let y=0;y<p.length;y++){let x;typeof h[y]=="number"?x=h[y]:x=g/f,s.addColorStop(x,p[y]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},PD,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Es(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Es(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof $s?this._style=e:this._style=new $s(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};kS.defaultAutoResolution=!0;let yv=kS;class ID{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function RD(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof he){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function kD(t,e){if(t.baseTexture instanceof Re){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function MD(t,e){if(t._texture&&t._texture instanceof he){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ND(t,e){return e instanceof yv?(e.updateText(!0),!0):!1}function OD(t,e){if(e instanceof $s){const r=e.toFontString();return ms.measureFont(r),!0}return!1}function LD(t,e){if(t instanceof yv){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function DD(t,e){return t instanceof $s?(e.includes(t)||e.push(t),!0):!1}const MS=class NS{constructor(e){this.limiter=new ID(NS.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(LD),this.registerFindHook(DD),this.registerFindHook(RD),this.registerFindHook(kD),this.registerFindHook(MD),this.registerUploadHook(ND),this.registerUploadHook(OD)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Ft.system.addOnce(this.tick,this,Gs.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Ft.system.addOnce(this.tick,this,Gs.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof br)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Ft.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};MS.uploadsPerFrame=4;let B0=MS;Object.defineProperties(pe,{UPLOADS_PER_FRAME:{get(){return B0.uploadsPerFrame},set(t){Oe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),B0.uploadsPerFrame=t}}});function OS(t,e){return e instanceof Re?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function FD(t,e){if(!(e instanceof yu))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&OS(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function BD(t,e){return t instanceof yu?(e.push(t),!0):!1}class LS extends B0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(BD),this.registerUploadHook(OS),this.registerUploadHook(FD)}}LS.extension={name:"prepare",type:ue.RendererSystem};ve.add(LS);class Bu extends wi{constructor(e,r=!0){super(e[0]instanceof he?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ft.shared.add(this.update,this,Gs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Bu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Bu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof he)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ft.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const jl=new Fe;class vv extends wi{constructor(e,r=100,n=100){super(e),this.tileTransform=new Df,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new hv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,jl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(jl.x>=i&&jl.x<i+r){const s=-n*this.anchor._y;if(jl.y>=s&&jl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new vv(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var UD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,GD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$D=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,jw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Rh=new ot;class DS extends Ff{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new $T,this.state=xi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=di.from(jw,zD,r),this.shader=e.context.webGLVersion>1?di.from(GD,UD,r):di.from(jw,$D,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,h=e.uvMatrix;let f=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;f&&(c._glTextures[r.CONTEXT_UID]?f=c.wrapMode!==$i.CLAMP:c.wrapMode===$i.CLAMP&&(c.wrapMode=$i.REPEAT));const g=f?this.simpleShader:this.shader,y=a.width,x=a.height,b=e._width,_=e._height;Rh.set(p.a*y/b,p.b*y/_,p.c*x/b,p.d*x/_,p.tx/b,p.ty/_),Rh.invert(),f?Rh.prepend(h.mapCoord):(g.uniforms.uMapCoord=h.mapCoord.toArray(!0),g.uniforms.uClampFrame=h.uClampFrame,g.uniforms.uClampOffset=h.uClampOffset),g.uniforms.uTransform=Rh.toArray(!0),g.uniforms.uColor=et.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=PT(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}DS.extension={name:"tilingSprite",type:ue.RendererPlugin};ve.add(DS);const FS=class su{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof he?e:null,this.baseTexture=e instanceof Re?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ji(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=su.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=su.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,p=new Pe(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?a=new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Pe(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new he(this.baseTexture,a,p,c,s.rotated?2:0,s.anchor,s.borders),he.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*su.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*su.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};FS.BATCH_SIZE=1e3;let Ww=FS;const HD=["jpg","png","jpeg","avif","webp"];function BS(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Ut.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=BS([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const jD={extension:ue.Asset,cache:{test:t=>t instanceof Ww,getCacheableAssets:(t,e)=>BS(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&HD.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=pe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ue.LoadParser,priority:Hn.Normal},async testParse(t,e){return Ut.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;let n=Ut.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=O0(i,e.src);const s=(await r.load([i]))[i],o=new Ww(s.baseTexture,t,e.src);await o.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const p=[];for(const f of a){if(typeof f!="string")continue;let g=n+f;(d=e.data)!=null&&d.ignoreMultiPack||(g=O0(g,e.src),p.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(p);o.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==f))})}return o},unload(t){t.destroy(!0)}}};ve.add(jD);class Xd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class fd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in a){const p=a[d].split("="),h=p[0],f=p[1].replace(/"/gm,""),g=parseFloat(f),y=isNaN(g)?f:g;c[h]=y}n[o].push(c)}const i=new Xd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class U0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Xd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const p=o[d];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<a.length;d++)r.kerning.push({first:parseInt(a[d].getAttribute("first"),10),second:parseInt(a[d].getAttribute("second"),10),amount:parseInt(a[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class G0{static test(e){return typeof e=="string"&&e.includes("<font>")?U0.test(pe.ADAPTER.parseXML(e)):!1}static parse(e){return U0.parse(pe.ADAPTER.parseXML(e))}}const sg=[fd,U0,G0];function WD(t){for(let e=0;e<sg.length;e++)if(sg[e].test(t))return sg[e];return null}function VD(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,p=t.width/n-c-d*2,h=t.height/n-c-d*2,f=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const y=f.length+1;for(let x=1;x<y;++x)g.push(x/y)}if(f.unshift(o[0]),g.unshift(0),f.push(o[o.length-1]),g.push(1),r.fillGradientType===zf.LINEAR_VERTICAL){a=e.createLinearGradient(p/2,d,p/2,h+d);let y=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let b=0;b<i.length;b++){const _=s.lineHeight*b;for(let E=0;E<f.length;E++){let T=0;typeof g[E]=="number"?T=g[E]:T=E/f.length;const A=_/h+T*x;let I=Math.max(y,A);I=Math.min(I,1),a.addColorStop(I,f[E]),y=I}}}else{a=e.createLinearGradient(d,h/2,p+d,h/2);const y=f.length+1;let x=1;for(let b=0;b<f.length;b++){let _;typeof g[b]=="number"?_=g[b]:_=x/y,a.addColorStop(_,f[b]),x++}}return a}function XD(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,p=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=VD(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=et.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,d,p+r.lineHeight-c.descent),o.fill&&e.fillText(a,d,p+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function pd(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function US(t){return Array.from?Array.from(t):t.split("")}function YD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...US(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const hs=class si{constructor(e,r,n){var p;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=ji(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=d;for(let h=0;h<e.page.length;h++){const{id:f,file:g}=e.page[h];d[f]=r instanceof Array?r[h]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(d[f].baseTexture.alphaMode=kr.NO_PREMULTIPLIED_ALPHA,d[f].baseTexture.mipmap=gi.OFF)}for(let h=0;h<e.char.length;h++){const{id:f,page:g}=e.char[h];let{x:y,y:x,width:b,height:_,xoffset:E,yoffset:T,xadvance:A}=e.char[h];y/=c,x/=c,b/=c,_/=c,E/=c,T/=c,A/=c;const I=new Pe(y+d[g].frame.x/c,x+d[g].frame.y/c,b,_);this.chars[f]={xOffset:E,yOffset:T,xAdvance:A,kerning:{},texture:new he(d[g].baseTexture,I),page:g}}for(let h=0;h<e.kerning.length;h++){let{first:f,second:g,amount:y}=e.kerning[h];f/=c,g/=c,y/=c,this.chars[g]&&(this.chars[g].kerning[f]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((p=a==null?void 0:a.fieldType)==null?void 0:p.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Xd)i=e;else{const o=WD(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof he&&(r=[r]);const s=new si(i,r,n);return si.available[s.font]=s,s}static uninstall(e){const r=si.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete si.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...d}=Object.assign({},si.defaultOptions,n),p=YD(i),h=r instanceof $s?r:new $s(r),f=a,g=new Xd;g.info[0]={face:h.fontFamily,size:h.fontSize},g.common[0]={lineHeight:h.fontSize};let y=0,x=0,b,_,E,T=0;const A=[];for(let O=0;O<p.length;O++){b||(b=pe.ADAPTER.createCanvas(),b.width=a,b.height=c,_=b.getContext("2d"),E=new Re(b,{resolution:o,...d}),A.push(new he(E)),g.page.push({id:A.length-1,file:""}));const M=p[O],R=ms.measureText(M,h,!1,b),U=R.width,G=Math.ceil(R.height),Q=Math.ceil((h.fontStyle==="italic"?2:1)*U);if(x>=c-G*o){if(x===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${M}')`);--O,b=null,_=null,E=null,x=0,y=0,T=0;continue}if(T=Math.max(G+R.fontProperties.descent,T),Q*o+y>=f){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${M}')`);--O,x+=T*o,x=Math.ceil(x),y=0,T=0;continue}XD(b,_,R,y,x,o,h);const X=pd(R.text);g.char.push({id:X,page:A.length-1,x:y/o,y:x/o,width:Q,height:G,xoffset:0,yoffset:0,xadvance:U-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),y+=(Q+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let O=0,M=p.length;O<M;O++){const R=p[O];for(let U=0;U<M;U++){const G=p[U],Q=_.measureText(R).width,X=_.measureText(G).width,D=_.measureText(R+G).width-(Q+X);D&&g.kerning.push({first:pd(R),second:pd(G),amount:D})}}const I=new si(g,A,!0);return si.available[e]!==void 0&&si.uninstall(e),si.available[e]=I,I}};hs.ALPHA=[["a","z"],["A","Z"]," "],hs.NUMERIC=[["0","9"]],hs.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],hs.ASCII=[[" ","~"]],hs.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:hs.ALPHANUMERIC},hs.available={};let ds=hs;var qD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,QD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Vw=[],Xw=[],Yw=[],GS=class $S extends br{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},$S.styleDefaults,r);if(!ds.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new et(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ci(()=>{this.dirty=!0},this,0,0),this._roundPixels=pe.ROUND_PIXELS,this.dirty=!0,this._resolution=pe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const e=ds.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Fe,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=US(c),p=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?Vw:Xw;let f=null,g=0,y=0,x=0,b=-1,_=0,E=0,T=0,A=0;for(let X=0;X<d.length;X++){const D=d[X],H=pd(D);if(/(?:\s)/.test(D)&&(b=X,_=g,A++),D==="\r"||D===`
`){o.push(g),a.push(-1),y=Math.max(y,g),++x,++E,i.x=0,i.y+=e.lineHeight,f=null,A=0;continue}const J=e.chars[H];if(!J)continue;f&&J.kerning[f]&&(i.x+=J.kerning[f]);const Z=Yw.pop()||{texture:he.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Fe};Z.texture=J.texture,Z.line=x,Z.charCode=H,Z.position.x=Math.round(i.x+J.xOffset+this._letterSpacing/2),Z.position.y=Math.round(i.y+J.yOffset),Z.prevSpaces=A,s.push(Z),g=Z.position.x+Math.max(J.xAdvance-J.xOffset,J.texture.orig.width),i.x+=J.xAdvance+this._letterSpacing,T=Math.max(T,J.yOffset+J.texture.height),f=H,b!==-1&&p>0&&i.x>p&&(++E,ja(s,1+b-E,1+X-b),X=b,b=-1,o.push(_),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,_),x++,i.x=0,i.y+=e.lineHeight,f=null,A=0)}const I=d[d.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(g=_),o.push(g),y=Math.max(y,g),a.push(-1));const O=[];for(let X=0;X<=x;X++){let D=0;this._align==="right"?D=y-o[X]:this._align==="center"?D=(y-o[X])/2:this._align==="justify"&&(D=a[X]<0?0:(y-o[X])/a[X]),O.push(D)}const M=s.length,R={},U=[],G=this._activePagesMeshData;h.push(...G);for(let X=0;X<M;X++){const D=s[X].texture,H=D.baseTexture.uid;if(!R[H]){let J=h.pop();if(!J){const ce=new $f;let N,W;e.distanceFieldType==="none"?(N=new Fu(he.EMPTY),W=Te.NORMAL):(N=new Fu(he.EMPTY,{program:Fi.from(QD,qD),uniforms:{uFWidth:0}}),W=Te.NORMAL_NPM);const F=new Du(ce,N);F.blendMode=W,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;const{_textureCache:Z}=this;Z[H]=Z[H]||new he(D.baseTexture),J.mesh.texture=Z[H],J.mesh.tint=this._tintColor.value,U.push(J),R[H]=J}R[H].total++}for(let X=0;X<G.length;X++)U.includes(G[X])||this.removeChild(G[X].mesh);for(let X=0;X<U.length;X++)U[X].mesh.parent!==this&&this.addChild(U[X].mesh);this._activePagesMeshData=U;for(const X in R){const D=R[X],H=D.total;if(!(((Q=D.indices)==null?void 0:Q.length)>6*H)||D.vertices.length<Du.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*H),D.uvs=new Float32Array(4*2*H),D.indices=new Uint16Array(6*H);else{const J=D.total,Z=D.vertices;for(let ce=J*4*2;ce<Z.length;ce++)Z[ce]=0}D.mesh.size=6*H}for(let X=0;X<M;X++){const D=s[X];let H=D.position.x+O[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(H=Math.round(H));const J=H*n,Z=D.position.y*n,ce=D.texture,N=R[ce.baseTexture.uid],W=ce.frame,F=ce._uvs,$=N.index++;N.indices[$*6+0]=0+$*4,N.indices[$*6+1]=1+$*4,N.indices[$*6+2]=2+$*4,N.indices[$*6+3]=0+$*4,N.indices[$*6+4]=2+$*4,N.indices[$*6+5]=3+$*4,N.vertices[$*8+0]=J,N.vertices[$*8+1]=Z,N.vertices[$*8+2]=J+W.width*n,N.vertices[$*8+3]=Z,N.vertices[$*8+4]=J+W.width*n,N.vertices[$*8+5]=Z+W.height*n,N.vertices[$*8+6]=J,N.vertices[$*8+7]=Z+W.height*n,N.uvs[$*8+0]=F.x0,N.uvs[$*8+1]=F.y0,N.uvs[$*8+2]=F.x1,N.uvs[$*8+3]=F.y1,N.uvs[$*8+4]=F.x2,N.uvs[$*8+5]=F.y2,N.uvs[$*8+6]=F.x3,N.uvs[$*8+7]=F.y3}this._textWidth=y*n,this._textHeight=(i.y+e.lineHeight)*n;for(const X in R){const D=R[X];if(this.anchor.x!==0||this.anchor.y!==0){let ce=0;const N=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y;for(let F=0;F<D.total;F++)D.vertices[ce++]-=N,D.vertices[ce++]-=W,D.vertices[ce++]-=N,D.vertices[ce++]-=W,D.vertices[ce++]-=N,D.vertices[ce++]-=W,D.vertices[ce++]-=N,D.vertices[ce++]-=W}this._maxLineHeight=T*n;const H=D.mesh.geometry.getBuffer("aVertexPosition"),J=D.mesh.geometry.getBuffer("aTextureCoord"),Z=D.mesh.geometry.getIndex();H.data=D.vertices,J.data=D.uvs,Z.data=D.indices,H.update(),J.update(),Z.update()}for(let X=0;X<s.length;X++)Yw.push(s[X]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=ds.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,d=Math.sqrt(s*s+o*o),p=Math.sqrt(a*a+c*c),h=(Math.abs(d)+Math.abs(p))/2,f=this.fontSize/i,g=e._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=h*r*f*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ds.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ds.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ds.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=ds.available[this._fontName].distanceFieldType==="none"?Vw:Xw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=he.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};GS.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let KD=GS;const ZD=[".xml",".fnt"],JD={extension:{type:ue.LoadParser,priority:Hn.Normal},name:"loadBitmapFont",test(t){return ZD.includes(Ut.extname(t).toLowerCase())},async testParse(t){return fd.test(t)||G0.test(t)},async parse(t,e,r){const n=fd.test(t)?fd.parse(t):G0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const p=s[d].file;let h=Ut.join(Ut.dirname(i),p);h=O0(h,i),o.push(h)}const a=await r.load(o),c=o.map(d=>a[d]);return ds.install(n,c,!0)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ve.add(JD);const $0=class xa extends $s{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new xa(Object.keys(xa.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete xa.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=xa;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return pe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ut.basename(e,Ut.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=UN(e)),typeof e=="number"?BN(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,xa.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=pe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};$0.availableFonts={},$0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let og=$0;const kh=class wa extends wi{constructor(e="",r={}){super(he.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=he.from(n,{scaleMode:pe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Pe,i.trim=new Pe,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),d=document.createElementNS(o,"div"),p=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=wa.defaultMaxWidth,this.maxHeight=wa.defaultMaxHeight,this._domElement=d,this._styleElement=p,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(p),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=wa.defaultAutoResolution,this._resolution=wa.defaultResolution??pe.RESOLUTION,this.text=e,this.style=r}measureText(e){var p,h;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(p=this._style)==null?void 0:p.toCSS(i)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},wa.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Es(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Es(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof og?(this.ownsStyle=!1,this._style=e):e instanceof $s?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=og.from(e)):(this.ownsStyle=!0,this._style=new og(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};kh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},kh.defaultMaxWidth=2024,kh.defaultMaxHeight=2024,kh.defaultAutoResolution=!0;const eF={Random:(t,e=0)=>Math.floor(Math.random()*(t-e))+e};function Ct(t,e){let r=[];for(let n=0;n<t;n++)r.push(e(n));return r}function tF(t){return t[t.length-1]}function rF(t){return t[eF.Random(t.length)]}var vu=(t=>(t.English="en",t.Chinese="cs",t.Vietnamese="vn",t.Thai="th",t.Khmer="kh",t.Indonesian="id",t.Korean="kr",t.Japanese="jp",t.Turkish="tr",t.Portuguese="pt",t.IndianHindi="hi",t))(vu||{});class nF{constructor(){se(this,"urlOptions");se(this,"tableOptions");se(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.tableOptions=ba("table")||{},this.configOptions=ba("gameconfig")||{}}configureLanguage(){let e=Ir("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;case e.indexOf("hi")>=0:e="hi";break;case e.indexOf("tr")>=0:e="tr";break;case e.indexOf("pt")>=0:e="pt";break;default:e="en"}return e}getUrlConfig(){const e={operator:Ir("op",""),funPLay:Ir("fun","0")=="1",showLog:Ir("log","0")=="1",loginUrl:Ir("loginUrl",""),lobbyUrl:Ir("lobbyUrl",""),fundsUrl:Ir("fundsUrl",""),livechatUrl:Ir("livechatUrl",""),token:Ir("token")||Ir("s"),lang:this.configureLanguage(),platform:Ir("p")||(On.any?"mobile":"web")};return!e.token&&!e.loginUrl&&(e.funPLay=!0),e}getSymbolColumnRowKey(e,r){return`${e}_${r}`}loopForReels(e){const r=this.tableOptions.column,n=this.tableOptions.row;for(let i=0;i<r;i++){const s=c2(n)?n:n[i];for(let o=0;o<s;o++)e(i,o)}}randomSymbols(e){const r=[];return this.loopForReels((n,i)=>{let s=r[n];const o=rF(e);s?s.push(o):r[n]=[o]}),r}getLoginUrl(){return this.urlOptions.loginUrl?`${this.urlOptions.loginUrl}?url=${encodeURIComponent(ER("fun","0"))}`:this.getLobbyUrl()}getLobbyUrl(){return this.urlOptions.lobbyUrl||""}}var _u=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-_u.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?_u.Bounce.In(t*2)*.5:_u.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),ou=function(){return performance.now()},zS=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=ou()),r===void 0&&(r=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!r;s&&s.update(e,o)===!1&&!r&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Aa={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=Aa.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[r],t[r-1],r-n):s(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,s=Aa.Utils.Bernstein,o=0;o<=n;o++)r+=i(1-e,n-o)*i(e,o)*t[o]*s(n,o);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),s=Aa.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),s(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(s(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):s(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Aa.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var n=e;n>1;n--)r*=n;return t[e]=r,r}}(),CatmullRom:function(t,e,r,n,i){var s=(r-t)*.5,o=(n-e)*.5,a=i*i,c=i*a;return(2*e-2*r+s+o)*c+(-3*e+3*r-2*s-o)*a+s*i+e}}},iF=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),z0=new zS,sF=function(){function t(e,r){r===void 0&&(r=z0),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=_u.Linear.None,this._interpolationFunction=Aa.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=iF.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,r){if(e===void 0&&(e=ou()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,r,n,i,s){for(var o in n){var a=e[o],c=Array.isArray(a),d=c?"array":typeof a,p=!c&&Array.isArray(n[o]);if(!(d==="undefined"||d==="function")){if(p){var h=n[o];if(h.length===0)continue;for(var f=[a],g=0,y=h.length;g<y;g+=1){var x=this._handleRelativeValue(a,h[g]);if(isNaN(x)){p=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(x)}p&&(n[o]=f)}if((d==="object"||c)&&a&&!p){r[o]=c?[]:{};var b=a;for(var _ in b)r[o][_]=b[_];i[o]=c?[]:{};var h=n[o];if(!this._isDynamic){var E={};for(var _ in h)E[_]=h[_];n[o]=h=E}this._setupProperties(b,r[o],h,i[o],s)}else(typeof r[o]>"u"||s)&&(r[o]=a),c||(r[o]*=1),p?i[o]=n[o].slice().reverse():i[o]=r[o]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ou()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ou()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=z0),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=_u.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Aa.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){var n=this,i;if(e===void 0&&(e=ou()),r===void 0&&(r=!0),this._isPaused)return!0;var s,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;r&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,c=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),d=this._duration+this._repeat*c,p=function(){if(n._duration===0||a>d)return 1;var b=Math.trunc(a/c),_=a-b*c,E=Math.min(_/n._duration,1);return E===0&&a===n._duration?1:E},h=p(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||a>=this._duration)if(this._repeat>0){var g=Math.min(Math.trunc((a-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=g);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*g,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var y=0,x=this._chainedTweens.length;y<x;y++)this._chainedTweens[y].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,n,i){for(var s in n)if(r[s]!==void 0){var o=r[s]||0,a=n[s],c=Array.isArray(e[s]),d=Array.isArray(a),p=!c&&d;p?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}(),yi=z0;yi.getAll.bind(yi);yi.removeAll.bind(yi);yi.add.bind(yi);yi.remove.bind(yi);var oF=yi.update.bind(yi);class aF extends nF{constructor(){super();se(this,"_time",0);se(this,"_turboTime",0);se(this,"turboTicker",new Ft);se(this,"turboTweenGroup",new zS);this.turboTicker.autoStart=!1}deltaTime(r){this._time+=r}deltaTurboTime(r){this._turboTime+=r}getTime(r){return r?this._turboTime:this._time}}class lF extends aF{constructor(){super(...arguments);se(this,"eventEmitter",new BR.EventEmitter)}get notice(){return this.eventEmitter}}class uF extends lF{constructor(){super(...arguments);se(this,"_viewport");se(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(r,n,i,s){this._viewport=[r,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}getOrientationType(){const r=this.configOptions.layoutMap;return r.p&&r.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":r.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class cF extends uF{constructor(){super(...arguments);se(this,"_isSupportAvif",!1);se(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(r,n){this._isSupportAvif=n,this._isSupportWebp=r}filterImageFormat(r){return this.isSupportAvif||r.splice(r.indexOf("avif"),1),this.isSupportWebp||r.splice(r.indexOf("webp"),1),r[0]}}class hF extends cF{constructor(){super();se(this,"isTablet");se(this,"isMobile");this.isMobile=oe.mobile(),this.isTablet=oe.tablet()}}const Ef=class Ef extends hF{static get Obj(){return this._Obj||(this._Obj=new Ef),this._Obj}};se(Ef,"_Obj");let qe=Ef;const dF="action_sign_in",fF="action_get_player_info",pF="action_balance_change",mF="action_sound_open",gF="action_volume_changed",yF="action_menu_open",vF="action_paytable_open",_F="action_betpanel_open",xF="action_auto_panel_open",HS="action_orientation_changed",wF="action_force_update",bF="action_history_list_open",jS="action_history_detail_open",WS="action_error_detail",EF="action_spin",TF="action_loaded",SF="action_spin_stopping",AF="action_spin_stop",CF="action_set_bet_amount",PF="action_set_bet_level",IF="action_set_auto_spin_detail",RF="action_do_auto_spin",kF="action_stop_auto_spin",MF="action_set_spin_speed",NF="action_linebets_loaded",OF="action_scene_push",LF="action_scene_pop",VS="action_scene_replace",DF="action_scene_to_root",XS="action_assets_loading",FF=(t={},e)=>{switch(e.type){case mF:return{...t,soundOn:e.value};case gF:return{...t};case yF:return{...t,menuOn:e.value};case vF:return{...t,payTableOn:e.value};case _F:return{...t,betPanelOn:e.value};case xF:return{...t,autoSpinPanelOn:e.value};case HS:return{...t,orientation:e.value};case wF:return{...t,forceUpdate:!t.forceUpdate};case bF:return{...t,historyListOn:e.value};case jS:return{...t,historyDetail:{...e.value}};case WS:return{...t,error:{...e.value}};default:return t}},BF={setting:{volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1,orientation:"l",forceUpdate:!1,historyListOn:!1,historyDetail:{on:!1,data:null},error:{code:0,show:!1,allowClose:!0}}};function UF(t){return{type:HS,value:t}}function cc(t,e){return{type:jS,value:{on:t,data:e}}}function In(t,e=!1,r=!0){return{type:WS,value:{code:t,show:e,allowClose:r}}}const Qt=ae.createContext({}),ag="authorization",GF="https://dev-crescendo-real.gpistudios.com",$F="https://dev-crescendo-slot-api.gpistudios.com";class zF{constructor(){se(this,"context",qe.Obj);se(this,"authorization",sessionStorage.getItem(ag));se(this,"canReAuth",!!this.authorization);se(this,"_dispatch")}get domain(){return this.context.urlOptions.funPLay?$F:GF}setDispatch(e){this._dispatch=e}authAndCanReTry(){this.authorization="",sessionStorage.setItem(ag,"");const e=this.canReAuth;return this.canReAuth=!1,e}request(e,r="GET",n="json",i=null){const s=this.authorization?{Authorization:`${this.authorization}`}:{};return navigator.onLine==!1?(this._dispatch(In("000")),Promise.reject()):new Promise((o,a)=>{const c=new AbortController,d=setTimeout(()=>{clearTimeout(d),c.abort(),this._dispatch(In("001"))},15e3);fetch(e,{method:r,headers:s,signal:c.signal}).then(p=>{clearTimeout(d),p.status==200?p[n]().then(f=>{if(i){const g=new i(f);g.code&&this._dispatch(In(g.code)),o(g)}else o(f)}).catch(()=>{this._dispatch(In("000")),a()}):(this._dispatch(In(p.status)),o({code:p.status}))}).catch(p=>{clearTimeout(d),p.name!="AbortError"&&this._dispatch(In("000")),a()})})}auth(){const{operator:e,token:r}=this.context.urlOptions,n=r||Math.random().toFixed(8),i=`${this.domain}/auth/${e}/${n}`;return!r&&this.authorization?Promise.resolve(this.authorization):this.request(i,"GET","text").then(s=>{u2(s)&&(s=`Bearer ${s}`,this.authorization=s,sessionStorage.setItem(ag,s))})}player(){const e=Ai("player"),r=`${this.domain}/s/player`;return this.request(r,"GET","json",e)}meta(){const e=Ai("meta"),r=this.context.configOptions.id,n=`${this.domain}/s/meta/${r}`;return this.request(n,"GET","json",e)}spin(e){const r=Ai("spin"),n=this.context.configOptions.id,i=`${this.domain}/s/spin/${n}?lineBet=${e}`;return this.request(i,"GET","json",r)}spin2(e,r){const n=Ai("spin"),i=this.context.configOptions.id,s=`${this.domain}/s/spin/${i}?lineBet=${e}&level=${r}`;return this.request(s,"GET","json",n)}load(){const e=Ai("load"),r=this.context.configOptions.id,n=`${this.domain}/s/load/${r}`;return this.request(n,"GET","json",e)}start(e){const r=Ai("start"),n=this.context.configOptions.id,i=`${this.domain}/s/start/${n}/${e}`;return this.request(i,"GET","json",r)}continue(){const e=Ai("continue"),r=this.context.configOptions.id,n=`${this.domain}/s/cont/${r}`;return this.request(n,"GET","json",e)}history(e,r,n,i,s){const o=Ai("history"),a=this.context.configOptions.id,c=`${this.domain}/s/list/${a}/${e}/${r}/${n}/${i}/${s}`;return this.request(c,"GET","json",o)}lineBets(){const e=Ai("lineBets"),r=this.context.configOptions.id,n=`${this.domain}/s/lineBets/${r}`;return this.request(n,"GET","json",e)}}function HF(){const{state:t,dispatch:e}=ae.useContext(Qt);return ae.useEffect(()=>{x2().setDispatch(e)},[]),P(qt,{})}class _v{constructor(e){se(this,"data");se(this,"code");se(this,"message");this.data=e;const r=e.result||e;r.code&&(this.code=r.code,this.message=r.message)}static Init(e,r){return new _v({code:e,message:r})}}class hc extends _v{constructor(r){super(r);se(this,"isFromLoad",!1);se(this,"credit");se(this,"cost");se(this,"payout");se(this,"balance");!this.code&&(this.credit=new $e(r.credit||0),this.cost=new $e(r.cost||0),this.payout=new $e(r.payout||0),this.balance=new $e(r.balance||0))}}let YS=class extends hc{constructor(r){super(r);se(this,"columnSymbolsMap");se(this,"linewins");se(this,"scatterLinewins");se(this,"scaterMultiplier");se(this,"lineMultiplier");if(this.code)return;const n=qe.Obj.tableOptions,i=r.result;this.scaterMultiplier=i.sm,this.lineMultiplier=new $e(i.lm);const s={};i.ss.forEach((c,d)=>s[d]=c),this.columnSymbolsMap=s;let o=[],a=[];if(i.lw)for(let c in i.lw)for(let d of i.lw[c]){let p=d[0],h=d[2],f={id:p,type:d[1],multiplier:new $e(d[3]),columnRowSymbolArr:[...n.paylineMap[p]].splice(c=="l2r"?0:n.column-h,h).map(g=>[...g,this.columnSymbolsMap[g[0]][g[1]]]),columnMapRowSymbolMap:{},path:n.paylinePathMap[p],director:c,scatterWin:!1,existWild:d[4]};o.push(f)}if(i.sw)for(let c in i.sw)for(let d of i.sw[c]){const p=new $e(d[1]),h=d[0];let f={id:null,type:10,multiplier:p,columnRowSymbolArr:Ct(h,g=>{let y,x,b=11;return c=="l2r"?(y=g,x=i.ss[y].indexOf(11),x==-1&&(b=10,x=i.ss[y].indexOf(10))):(y=4-g,x=i.ss[y].indexOf(11),x==-1&&(b=10,x=i.ss[y].indexOf(10))),[y,x,b]}),columnMapRowSymbolMap:{},path:null,director:c,scatterWin:!0,existWild:d[2]};o.push(f),a.push(f)}this.linewins=o.sort((c,d)=>c.director==d.director?c.id-d.id:c.director=="l2r"?-1:1),this.scatterLinewins=a}get isExist5OfAKind(){for(let r of this.linewins)if(r.columnRowSymbolArr.length==5)return!0;return!1}get totalMultiplier(){return this.lineMultiplier.add(this.scaterMultiplier)}get winType(){const r=this.payout.div(this.cost);return r.greaterThanOrEqualTo(38)?"big":r.greaterThanOrEqualTo(26)?"high":r.greaterThanOrEqualTo(17)?"medium":r.greaterThanOrEqualTo(6)?"normal":"small"}get isBigWin(){return this.winType=="big"}};_2(zF);w2("spin",YS);var qS={exports:{}},qr={},QS={exports:{}},KS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var F=N.length;N.push(W);e:for(;0<F;){var $=F-1>>>1,ee=N[$];if(0<i(ee,W))N[$]=W,N[F]=ee,F=$;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],F=N.pop();if(F!==W){N[0]=F;e:for(var $=0,ee=N.length,Ie=ee>>>1;$<Ie;){var Ae=2*($+1)-1,Ge=N[Ae],Me=Ae+1,Ve=N[Me];if(0>i(Ge,F))Me<ee&&0>i(Ve,Ge)?(N[$]=Ve,N[Me]=F,$=Me):(N[$]=Ge,N[Ae]=F,$=Ae);else if(Me<ee&&0>i(Ve,F))N[$]=Ve,N[Me]=F,$=Me;else break e}}return W}function i(N,W){var F=N.sortIndex-W.sortIndex;return F!==0?F:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(N){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=N)n(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(d)}}function A(N){if(x=!1,T(N),!y)if(r(c)!==null)y=!0,Z(I);else{var W=r(d);W!==null&&ce(A,W.startTime-N)}}function I(N,W){y=!1,x&&(x=!1,_(R),R=-1),g=!0;var F=f;try{for(T(W),h=r(c);h!==null&&(!(h.expirationTime>W)||N&&!Q());){var $=h.callback;if(typeof $=="function"){h.callback=null,f=h.priorityLevel;var ee=$(h.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),T(W)}else n(c);h=r(c)}if(h!==null)var Ie=!0;else{var Ae=r(d);Ae!==null&&ce(A,Ae.startTime-W),Ie=!1}return Ie}finally{h=null,f=F,g=!1}}var O=!1,M=null,R=-1,U=5,G=-1;function Q(){return!(t.unstable_now()-G<U)}function X(){if(M!==null){var N=t.unstable_now();G=N;var W=!0;try{W=M(!0,N)}finally{W?D():(O=!1,M=null)}}else O=!1}var D;if(typeof E=="function")D=function(){E(X)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=X,D=function(){J.postMessage(null)}}else D=function(){b(X,0)};function Z(N){M=N,O||(O=!0,D())}function ce(N,W){R=b(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Z(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return N()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=f;f=N;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(N,W,F){var $=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,N={id:p++,callback:W,priorityLevel:N,startTime:F,expirationTime:ee,sortIndex:-1},F>$?(N.sortIndex=F,e(d,N),r(c)===null&&N===r(d)&&(x?(_(R),R=-1):x=!0,ce(A,F-$))):(N.sortIndex=ee,e(c,N),y||g||(y=!0,Z(I))),N},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(N){var W=f;return function(){var F=f;f=W;try{return N.apply(this,arguments)}finally{f=F}}}})(KS);QS.exports=KS;var jF=QS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=ae,Yr=jF;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JS=new Set,Uu={};function jo(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Uu[t]=e,t=0;t<e.length;t++)JS.add(e[t])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H0=Object.prototype.hasOwnProperty,WF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qw={},Qw={};function VF(t){return H0.call(Qw,t)?!0:H0.call(qw,t)?!1:WF.test(t)?Qw[t]=!0:(qw[t]=!0,!1)}function XF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YF(t,e,r,n){if(e===null||typeof e>"u"||XF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xv=/[\-:]([a-z])/g;function wv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xv,wv);sr[e]=new Tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xv,wv);sr[e]=new Tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xv,wv);sr[e]=new Tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Tr(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bv(t,e,r,n){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YF(e,r,i,n)&&(r=null),n||i===null?VF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ki=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mh=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),Ev=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),Sv=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),rA=Symbol.for("react.offscreen"),Kw=Symbol.iterator;function Wl(t){return t===null||typeof t!="object"?null:(t=Kw&&t[Kw]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,lg;function au(t){if(lg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var ug=!1;function cg(t,e){if(!t||ug)return"";ug=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ug=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?au(t):""}function qF(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function X0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Ca:return"Portal";case j0:return"Profiler";case Ev:return"StrictMode";case W0:return"Suspense";case V0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tA:return(t.displayName||"Context")+".Consumer";case eA:return(t._context.displayName||"Context")+".Provider";case Tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sv:return e=t.displayName||null,e!==null?e:X0(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return X0(t(e))}catch{}}return null}function QF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X0(e);case 8:return e===Ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KF(t){var e=nA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nh(t){t._valueTracker||(t._valueTracker=KF(t))}function iA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Y0(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sA(t,e){e=e.checked,e!=null&&bv(t,"checked",e,!1)}function q0(t,e){sA(t,e);var r=zs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Q0(t,e.type,r):e.hasOwnProperty("defaultValue")&&Q0(t,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Q0(t,e,r){(e!=="number"||Yd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var lu=Array.isArray;function Xa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(lu(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zs(r)}}function oA(t,e){var r=zs(e.value),n=zs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oh,lA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZF=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){ZF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function uA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function cA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var JF=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J0(t,e){if(e){if(JF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ry=null,Ya=null,qa=null;function rb(t){if(t=pc(t)){if(typeof ry!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Xf(e),ry(t.stateNode,t.type,e))}}function hA(t){Ya?qa?qa.push(t):qa=[t]:Ya=t}function dA(){if(Ya){var t=Ya,e=qa;if(qa=Ya=null,rb(t),e)for(t=0;t<e.length;t++)rb(e[t])}}function fA(t,e){return t(e)}function pA(){}var hg=!1;function mA(t,e,r){if(hg)return t(e,r);hg=!0;try{return fA(t,e,r)}finally{hg=!1,(Ya!==null||qa!==null)&&(pA(),dA())}}function $u(t,e){var r=t.stateNode;if(r===null)return null;var n=Xf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var ny=!1;if(Wi)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){ny=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{ny=!1}function eB(t,e,r,n,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var wu=!1,qd=null,Qd=!1,iy=null,tB={onError:function(t){wu=!0,qd=t}};function rB(t,e,r,n,i,s,o,a,c){wu=!1,qd=null,eB.apply(tB,arguments)}function nB(t,e,r,n,i,s,o,a,c){if(rB.apply(this,arguments),wu){if(wu){var d=qd;wu=!1,qd=null}else throw Error(re(198));Qd||(Qd=!0,iy=d)}}function Wo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nb(t){if(Wo(t)!==t)throw Error(re(188))}function iB(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return nb(i),t;if(s===n)return nb(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function yA(t){return t=iB(t),t!==null?vA(t):null}function vA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vA(t);if(e!==null)return e;t=t.sibling}return null}var _A=Yr.unstable_scheduleCallback,ib=Yr.unstable_cancelCallback,sB=Yr.unstable_shouldYield,oB=Yr.unstable_requestPaint,St=Yr.unstable_now,aB=Yr.unstable_getCurrentPriorityLevel,Cv=Yr.unstable_ImmediatePriority,xA=Yr.unstable_UserBlockingPriority,Kd=Yr.unstable_NormalPriority,lB=Yr.unstable_LowPriority,wA=Yr.unstable_IdlePriority,Hf=null,fi=null;function uB(t){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Hf,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:dB,cB=Math.log,hB=Math.LN2;function dB(t){return t>>>=0,t===0?32:31-(cB(t)/hB|0)|0}var Lh=64,Dh=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=uu(a):(s&=o,s!==0&&(n=uu(s)))}else o=r&~i,o!==0?n=uu(o):s!==0&&(n=uu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Un(e),i=1<<r,n|=t[r],e&=~i;return n}function fB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pB(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=fB(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bA(){var t=Lh;return Lh<<=1,!(Lh&4194240)&&(Lh=64),t}function dg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=r}function mB(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Un(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Pv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Un(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qe=0;function EA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TA,Iv,SA,AA,CA,oy=!1,Fh=[],Ps=null,Is=null,Rs=null,zu=new Map,Hu=new Map,_s=[],gB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sb(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Xl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pc(e),e!==null&&Iv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yB(t,e,r,n,i){switch(e){case"focusin":return Ps=Xl(Ps,t,e,r,n,i),!0;case"dragenter":return Is=Xl(Is,t,e,r,n,i),!0;case"mouseover":return Rs=Xl(Rs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return zu.set(s,Xl(zu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Hu.set(s,Xl(Hu.get(s)||null,t,e,r,n,i)),!0}return!1}function PA(t){var e=bo(t.target);if(e!==null){var r=Wo(e);if(r!==null){if(e=r.tag,e===13){if(e=gA(r),e!==null){t.blockedOn=e,CA(t.priority,function(){SA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ty=n,r.target.dispatchEvent(n),ty=null}else return e=pc(r),e!==null&&Iv(e),t.blockedOn=r,!1;e.shift()}return!0}function ob(t,e,r){md(t)&&r.delete(e)}function vB(){oy=!1,Ps!==null&&md(Ps)&&(Ps=null),Is!==null&&md(Is)&&(Is=null),Rs!==null&&md(Rs)&&(Rs=null),zu.forEach(ob),Hu.forEach(ob)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,oy||(oy=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,vB)))}function ju(t){function e(i){return Yl(i,t)}if(0<Fh.length){Yl(Fh[0],t);for(var r=1;r<Fh.length;r++){var n=Fh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ps!==null&&Yl(Ps,t),Is!==null&&Yl(Is,t),Rs!==null&&Yl(Rs,t),zu.forEach(e),Hu.forEach(e),r=0;r<_s.length;r++)n=_s[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_s.length&&(r=_s[0],r.blockedOn===null);)PA(r),r.blockedOn===null&&_s.shift()}var Qa=Ki.ReactCurrentBatchConfig,Jd=!0;function _B(t,e,r,n){var i=Qe,s=Qa.transition;Qa.transition=null;try{Qe=1,Rv(t,e,r,n)}finally{Qe=i,Qa.transition=s}}function xB(t,e,r,n){var i=Qe,s=Qa.transition;Qa.transition=null;try{Qe=4,Rv(t,e,r,n)}finally{Qe=i,Qa.transition=s}}function Rv(t,e,r,n){if(Jd){var i=ay(t,e,r,n);if(i===null)bg(t,e,n,ef,r),sb(t,n);else if(yB(i,t,e,r,n))n.stopPropagation();else if(sb(t,n),e&4&&-1<gB.indexOf(t)){for(;i!==null;){var s=pc(i);if(s!==null&&TA(s),s=ay(t,e,r,n),s===null&&bg(t,e,n,ef,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else bg(t,e,n,null,r)}}var ef=null;function ay(t,e,r,n){if(ef=null,t=Av(n),t=bo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ef=t,null}function IA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aB()){case Cv:return 1;case xA:return 4;case Kd:case lB:return 16;case wA:return 536870912;default:return 16}default:return 16}}var As=null,kv=null,gd=null;function RA(){if(gd)return gd;var t,e=kv,r=e.length,n,i="value"in As?As.value:As.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return gd=i.slice(t,1<n?1-n:void 0)}function yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bh(){return!0}function ab(){return!1}function Qr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bh:ab,this.isPropagationStopped=ab,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mv=Qr(ml),fc=yt({},ml,{view:0,detail:0}),wB=Qr(fc),fg,pg,ql,jf=yt({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(fg=t.screenX-ql.screenX,pg=t.screenY-ql.screenY):pg=fg=0,ql=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),lb=Qr(jf),bB=yt({},jf,{dataTransfer:0}),EB=Qr(bB),TB=yt({},fc,{relatedTarget:0}),mg=Qr(TB),SB=yt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),AB=Qr(SB),CB=yt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PB=Qr(CB),IB=yt({},ml,{data:0}),ub=Qr(IB),RB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MB[t])?!!e[t]:!1}function Nv(){return NB}var OB=yt({},fc,{key:function(t){if(t.key){var e=RB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(t){return t.type==="keypress"?yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LB=Qr(OB),DB=yt({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Qr(DB),FB=yt({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),BB=Qr(FB),UB=yt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=Qr(UB),$B=yt({},jf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zB=Qr($B),HB=[9,13,27,32],Ov=Wi&&"CompositionEvent"in window,bu=null;Wi&&"documentMode"in document&&(bu=document.documentMode);var jB=Wi&&"TextEvent"in window&&!bu,kA=Wi&&(!Ov||bu&&8<bu&&11>=bu),hb=String.fromCharCode(32),db=!1;function MA(t,e){switch(t){case"keyup":return HB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function WB(t,e){switch(t){case"compositionend":return NA(e);case"keypress":return e.which!==32?null:(db=!0,hb);case"textInput":return t=e.data,t===hb&&db?null:t;default:return null}}function VB(t,e){if(Ia)return t==="compositionend"||!Ov&&MA(t,e)?(t=RA(),gd=kv=As=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kA&&e.locale!=="ko"?null:e.data;default:return null}}var XB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XB[t.type]:e==="textarea"}function OA(t,e,r,n){hA(n),e=tf(e,"onChange"),0<e.length&&(r=new Mv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Eu=null,Wu=null;function YB(t){WA(t,0)}function Wf(t){var e=Ma(t);if(iA(e))return t}function qB(t,e){if(t==="change")return e}var LA=!1;if(Wi){var gg;if(Wi){var yg="oninput"in document;if(!yg){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),yg=typeof pb.oninput=="function"}gg=yg}else gg=!1;LA=gg&&(!document.documentMode||9<document.documentMode)}function mb(){Eu&&(Eu.detachEvent("onpropertychange",DA),Wu=Eu=null)}function DA(t){if(t.propertyName==="value"&&Wf(Wu)){var e=[];OA(e,Wu,t,Av(t)),mA(YB,e)}}function QB(t,e,r){t==="focusin"?(mb(),Eu=e,Wu=r,Eu.attachEvent("onpropertychange",DA)):t==="focusout"&&mb()}function KB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wf(Wu)}function ZB(t,e){if(t==="click")return Wf(e)}function JB(t,e){if(t==="input"||t==="change")return Wf(e)}function e4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:e4;function Vu(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!H0.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function gb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yb(t,e){var r=gb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gb(r)}}function FA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BA(){for(var t=window,e=Yd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Yd(t.document)}return e}function Lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t4(t){var e=BA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&FA(r.ownerDocument.documentElement,r)){if(n!==null&&Lv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=yb(r,s);var o=yb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r4=Wi&&"documentMode"in document&&11>=document.documentMode,Ra=null,ly=null,Tu=null,uy=!1;function vb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uy||Ra==null||Ra!==Yd(n)||(n=Ra,"selectionStart"in n&&Lv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tu&&Vu(Tu,n)||(Tu=n,n=tf(ly,"onSelect"),0<n.length&&(e=new Mv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ra)))}function Uh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ka={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},vg={},UA={};Wi&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Vf(t){if(vg[t])return vg[t];if(!ka[t])return t;var e=ka[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in UA)return vg[t]=e[r];return t}var GA=Vf("animationend"),$A=Vf("animationiteration"),zA=Vf("animationstart"),HA=Vf("transitionend"),jA=new Map,_b="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){jA.set(t,e),jo(e,[t])}for(var _g=0;_g<_b.length;_g++){var xg=_b[_g],n4=xg.toLowerCase(),i4=xg[0].toUpperCase()+xg.slice(1);Ys(n4,"on"+i4)}Ys(GA,"onAnimationEnd");Ys($A,"onAnimationIteration");Ys(zA,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(HA,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s4=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function xb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nB(n,e,void 0,t),t.currentTarget=null}function WA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;xb(i,a,d),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;xb(i,a,d),s=c}}}if(Qd)throw t=iy,Qd=!1,iy=null,t}function nt(t,e){var r=e[py];r===void 0&&(r=e[py]=new Set);var n=t+"__bubble";r.has(n)||(VA(e,t,2,!1),r.add(n))}function wg(t,e,r){var n=0;e&&(n|=4),VA(r,t,n,e)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Gh]){t[Gh]=!0,JS.forEach(function(r){r!=="selectionchange"&&(s4.has(r)||wg(r,!1,t),wg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gh]||(e[Gh]=!0,wg("selectionchange",!1,e))}}function VA(t,e,r,n){switch(IA(e)){case 1:var i=_B;break;case 4:i=xB;break;default:i=Rv}r=i.bind(null,e,r,t),i=void 0,!ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function bg(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bo(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}mA(function(){var d=s,p=Av(r),h=[];e:{var f=jA.get(t);if(f!==void 0){var g=Mv,y=t;switch(t){case"keypress":if(yd(r)===0)break e;case"keydown":case"keyup":g=LB;break;case"focusin":y="focus",g=mg;break;case"focusout":y="blur",g=mg;break;case"beforeblur":case"afterblur":g=mg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BB;break;case GA:case $A:case zA:g=AB;break;case HA:g=GB;break;case"scroll":g=wB;break;case"wheel":g=zB;break;case"copy":case"cut":case"paste":g=PB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cb}var x=(e&4)!==0,b=!x&&t==="scroll",_=x?f!==null?f+"Capture":null:f;x=[];for(var E=d,T;E!==null;){T=E;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=$u(E,_),A!=null&&x.push(Yu(E,A,T)))),b)break;E=E.return}0<x.length&&(f=new g(f,y,null,r,p),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ty&&(y=r.relatedTarget||r.fromElement)&&(bo(y)||y[Vi]))break e;if((g||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?bo(y):null,y!==null&&(b=Wo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(x=lb,A="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(x=cb,A="onPointerLeave",_="onPointerEnter",E="pointer"),b=g==null?f:Ma(g),T=y==null?f:Ma(y),f=new x(A,E+"leave",g,r,p),f.target=b,f.relatedTarget=T,A=null,bo(p)===d&&(x=new x(_,E+"enter",y,r,p),x.target=T,x.relatedTarget=b,A=x),b=A,g&&y)t:{for(x=g,_=y,E=0,T=x;T;T=fa(T))E++;for(T=0,A=_;A;A=fa(A))T++;for(;0<E-T;)x=fa(x),E--;for(;0<T-E;)_=fa(_),T--;for(;E--;){if(x===_||_!==null&&x===_.alternate)break t;x=fa(x),_=fa(_)}x=null}else x=null;g!==null&&wb(h,f,g,x,!1),y!==null&&b!==null&&wb(h,b,y,x,!0)}}e:{if(f=d?Ma(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var I=qB;else if(fb(f))if(LA)I=JB;else{I=KB;var O=QB}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=ZB);if(I&&(I=I(t,d))){OA(h,I,r,p);break e}O&&O(t,f,d),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Q0(f,"number",f.value)}switch(O=d?Ma(d):window,t){case"focusin":(fb(O)||O.contentEditable==="true")&&(Ra=O,ly=d,Tu=null);break;case"focusout":Tu=ly=Ra=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,vb(h,r,p);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":vb(h,r,p)}var M;if(Ov)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ia?MA(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(kA&&r.locale!=="ko"&&(Ia||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ia&&(M=RA()):(As=p,kv="value"in As?As.value:As.textContent,Ia=!0)),O=tf(d,R),0<O.length&&(R=new ub(R,t,null,r,p),h.push({event:R,listeners:O}),M?R.data=M:(M=NA(r),M!==null&&(R.data=M)))),(M=jB?WB(t,r):VB(t,r))&&(d=tf(d,"onBeforeInput"),0<d.length&&(p=new ub("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:d}),p.data=M))}WA(h,e)})}function Yu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function tf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$u(t,r),s!=null&&n.unshift(Yu(t,s,i)),s=$u(t,e),s!=null&&n.push(Yu(t,s,i))),t=t.return}return n}function fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=$u(r,s),c!=null&&o.unshift(Yu(r,c,a))):i||(c=$u(r,s),c!=null&&o.push(Yu(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var o4=/\r\n?/g,a4=/\u0000|\uFFFD/g;function bb(t){return(typeof t=="string"?t:""+t).replace(o4,`
`).replace(a4,"")}function $h(t,e,r){if(e=bb(e),bb(t)!==e&&r)throw Error(re(425))}function rf(){}var cy=null,hy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,l4=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,u4=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(t){return Eb.resolve(null).then(t).catch(c4)}:fy;function c4(t){setTimeout(function(){throw t})}function Eg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ju(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ju(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),ui="__reactFiber$"+gl,qu="__reactProps$"+gl,Vi="__reactContainer$"+gl,py="__reactEvents$"+gl,h4="__reactListeners$"+gl,d4="__reactHandles$"+gl;function bo(t){var e=t[ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Vi]||r[ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Tb(t);t!==null;){if(r=t[ui])return r;t=Tb(t)}return e}t=r,r=t.parentNode}return null}function pc(t){return t=t[ui]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Xf(t){return t[qu]||null}var my=[],Na=-1;function qs(t){return{current:t}}function st(t){0>Na||(t.current=my[Na],my[Na]=null,Na--)}function tt(t,e){Na++,my[Na]=t.current,t.current=e}var Hs={},gr=qs(Hs),Nr=qs(!1),Oo=Hs;function sl(t,e){var r=t.type.contextTypes;if(!r)return Hs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function nf(){st(Nr),st(gr)}function Sb(t,e,r){if(gr.current!==Hs)throw Error(re(168));tt(gr,e),tt(Nr,r)}function XA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,QF(t)||"Unknown",i));return yt({},r,n)}function sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hs,Oo=gr.current,tt(gr,t),tt(Nr,Nr.current),!0}function Ab(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=XA(t,e,Oo),n.__reactInternalMemoizedMergedChildContext=t,st(Nr),st(gr),tt(gr,t)):st(Nr),tt(Nr,r)}var Ni=null,Yf=!1,Tg=!1;function YA(t){Ni===null?Ni=[t]:Ni.push(t)}function f4(t){Yf=!0,YA(t)}function Qs(){if(!Tg&&Ni!==null){Tg=!0;var t=0,e=Qe;try{var r=Ni;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ni=null,Yf=!1}catch(i){throw Ni!==null&&(Ni=Ni.slice(t+1)),_A(Cv,Qs),i}finally{Qe=e,Tg=!1}}return null}var Oa=[],La=0,of=null,af=0,un=[],cn=0,Lo=null,Bi=1,Ui="";function vo(t,e){Oa[La++]=af,Oa[La++]=of,of=t,af=e}function qA(t,e,r){un[cn++]=Bi,un[cn++]=Ui,un[cn++]=Lo,Lo=t;var n=Bi;t=Ui;var i=32-Un(n)-1;n&=~(1<<i),r+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Bi=1<<32-Un(e)+i|r<<i|n,Ui=s+t}else Bi=1<<s|r<<i|n,Ui=t}function Dv(t){t.return!==null&&(vo(t,1),qA(t,1,0))}function Fv(t){for(;t===of;)of=Oa[--La],Oa[La]=null,af=Oa[--La],Oa[La]=null;for(;t===Lo;)Lo=un[--cn],un[cn]=null,Ui=un[--cn],un[cn]=null,Bi=un[--cn],un[cn]=null}var Vr=null,Wr=null,ct=!1,Rn=null;function QA(t,e){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Cb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vr=t,Wr=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lo!==null?{id:Bi,overflow:Ui}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Vr=t,Wr=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(ct){var e=Wr;if(e){var r=e;if(!Cb(t,e)){if(gy(t))throw Error(re(418));e=ks(r.nextSibling);var n=Vr;e&&Cb(t,e)?QA(n,r):(t.flags=t.flags&-4097|2,ct=!1,Vr=t)}}else{if(gy(t))throw Error(re(418));t.flags=t.flags&-4097|2,ct=!1,Vr=t}}}function Pb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vr=t}function zh(t){if(t!==Vr)return!1;if(!ct)return Pb(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=Wr)){if(gy(t))throw KA(),Error(re(418));for(;e;)QA(t,e),e=ks(e.nextSibling)}if(Pb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wr=ks(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Vr?ks(t.stateNode.nextSibling):null;return!0}function KA(){for(var t=Wr;t;)t=ks(t.nextSibling)}function ol(){Wr=Vr=null,ct=!1}function Bv(t){Rn===null?Rn=[t]:Rn.push(t)}var p4=Ki.ReactCurrentBatchConfig;function Cn(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var lf=qs(null),uf=null,Da=null,Uv=null;function Gv(){Uv=Da=uf=null}function $v(t){var e=lf.current;st(lf),t._currentValue=e}function vy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ka(t,e){uf=t,Uv=Da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Uv!==t)if(t={context:t,memoizedValue:e,next:null},Da===null){if(uf===null)throw Error(re(308));Da=t,uf.dependencies={lanes:0,firstContext:t}}else Da=Da.next=t;return e}var Eo=null;function zv(t){Eo===null?Eo=[t]:Eo.push(t)}function ZA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zv(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xi(t,n)}function Xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ys=!1;function Hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xi(t,r)}return i=n.interleaved,i===null?(e.next=e,zv(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xi(t,r)}function vd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pv(t,r)}}function Ib(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cf(t,e,r,n){var i=t.updateQueue;ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,p=d=c=null,a=s;do{var f=a.lane,g=a.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,g=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=yt({},h,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=g,c=h):p=p.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(p===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fo|=o,t.lanes=o,t.memoizedState=h}}function Rb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var eC=new ZS.Component().refs;function _y(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qf={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wr(),i=Os(t),s=Hi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ms(t,s,i),e!==null&&(Gn(e,t,i,n),vd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wr(),i=Os(t),s=Hi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ms(t,s,i),e!==null&&(Gn(e,t,i,n),vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wr(),n=Os(t),i=Hi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ms(t,i,n),e!==null&&(Gn(e,t,n,r),vd(e,t,n))}};function kb(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vu(r,n)||!Vu(i,s):!0}function tC(t,e,r){var n=!1,i=Hs,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Or(e)?Oo:gr.current,n=e.contextTypes,s=(n=n!=null)?sl(t,i):Hs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Mb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qf.enqueueReplaceState(e,e.state,null)}function xy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=eC,Hv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Or(e)?Oo:gr.current,i.context=sl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_y(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qf.enqueueReplaceState(i,i.state,null),cf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Hh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nb(t){var e=t._init;return e(t._payload)}function rC(t){function e(_,E){if(t){var T=_.deletions;T===null?(_.deletions=[E],_.flags|=16):T.push(E)}}function r(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function n(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Ls(_,E),_.index=0,_.sibling=null,_}function s(_,E,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<E?(_.flags|=2,E):T):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,T,A){return E===null||E.tag!==6?(E=kg(T,_.mode,A),E.return=_,E):(E=i(E,T),E.return=_,E)}function c(_,E,T,A){var I=T.type;return I===Pa?p(_,E,T.props.children,A,T.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gs&&Nb(I)===E.type)?(A=i(E,T.props),A.ref=Ql(_,E,T),A.return=_,A):(A=Td(T.type,T.key,T.props,null,_.mode,A),A.ref=Ql(_,E,T),A.return=_,A)}function d(_,E,T,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Mg(T,_.mode,A),E.return=_,E):(E=i(E,T.children||[]),E.return=_,E)}function p(_,E,T,A,I){return E===null||E.tag!==7?(E=ko(T,_.mode,A,I),E.return=_,E):(E=i(E,T),E.return=_,E)}function h(_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=kg(""+E,_.mode,T),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mh:return T=Td(E.type,E.key,E.props,null,_.mode,T),T.ref=Ql(_,null,E),T.return=_,T;case Ca:return E=Mg(E,_.mode,T),E.return=_,E;case gs:var A=E._init;return h(_,A(E._payload),T)}if(lu(E)||Wl(E))return E=ko(E,_.mode,T,null),E.return=_,E;Hh(_,E)}return null}function f(_,E,T,A){var I=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return I!==null?null:a(_,E,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mh:return T.key===I?c(_,E,T,A):null;case Ca:return T.key===I?d(_,E,T,A):null;case gs:return I=T._init,f(_,E,I(T._payload),A)}if(lu(T)||Wl(T))return I!==null?null:p(_,E,T,A,null);Hh(_,T)}return null}function g(_,E,T,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(E,_,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mh:return _=_.get(A.key===null?T:A.key)||null,c(E,_,A,I);case Ca:return _=_.get(A.key===null?T:A.key)||null,d(E,_,A,I);case gs:var O=A._init;return g(_,E,T,O(A._payload),I)}if(lu(A)||Wl(A))return _=_.get(T)||null,p(E,_,A,I,null);Hh(E,A)}return null}function y(_,E,T,A){for(var I=null,O=null,M=E,R=E=0,U=null;M!==null&&R<T.length;R++){M.index>R?(U=M,M=null):U=M.sibling;var G=f(_,M,T[R],A);if(G===null){M===null&&(M=U);break}t&&M&&G.alternate===null&&e(_,M),E=s(G,E,R),O===null?I=G:O.sibling=G,O=G,M=U}if(R===T.length)return r(_,M),ct&&vo(_,R),I;if(M===null){for(;R<T.length;R++)M=h(_,T[R],A),M!==null&&(E=s(M,E,R),O===null?I=M:O.sibling=M,O=M);return ct&&vo(_,R),I}for(M=n(_,M);R<T.length;R++)U=g(M,_,R,T[R],A),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?R:U.key),E=s(U,E,R),O===null?I=U:O.sibling=U,O=U);return t&&M.forEach(function(Q){return e(_,Q)}),ct&&vo(_,R),I}function x(_,E,T,A){var I=Wl(T);if(typeof I!="function")throw Error(re(150));if(T=I.call(T),T==null)throw Error(re(151));for(var O=I=null,M=E,R=E=0,U=null,G=T.next();M!==null&&!G.done;R++,G=T.next()){M.index>R?(U=M,M=null):U=M.sibling;var Q=f(_,M,G.value,A);if(Q===null){M===null&&(M=U);break}t&&M&&Q.alternate===null&&e(_,M),E=s(Q,E,R),O===null?I=Q:O.sibling=Q,O=Q,M=U}if(G.done)return r(_,M),ct&&vo(_,R),I;if(M===null){for(;!G.done;R++,G=T.next())G=h(_,G.value,A),G!==null&&(E=s(G,E,R),O===null?I=G:O.sibling=G,O=G);return ct&&vo(_,R),I}for(M=n(_,M);!G.done;R++,G=T.next())G=g(M,_,R,G.value,A),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?R:G.key),E=s(G,E,R),O===null?I=G:O.sibling=G,O=G);return t&&M.forEach(function(X){return e(_,X)}),ct&&vo(_,R),I}function b(_,E,T,A){if(typeof T=="object"&&T!==null&&T.type===Pa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Mh:e:{for(var I=T.key,O=E;O!==null;){if(O.key===I){if(I=T.type,I===Pa){if(O.tag===7){r(_,O.sibling),E=i(O,T.props.children),E.return=_,_=E;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gs&&Nb(I)===O.type){r(_,O.sibling),E=i(O,T.props),E.ref=Ql(_,O,T),E.return=_,_=E;break e}r(_,O);break}else e(_,O);O=O.sibling}T.type===Pa?(E=ko(T.props.children,_.mode,A,T.key),E.return=_,_=E):(A=Td(T.type,T.key,T.props,null,_.mode,A),A.ref=Ql(_,E,T),A.return=_,_=A)}return o(_);case Ca:e:{for(O=T.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){r(_,E.sibling),E=i(E,T.children||[]),E.return=_,_=E;break e}else{r(_,E);break}else e(_,E);E=E.sibling}E=Mg(T,_.mode,A),E.return=_,_=E}return o(_);case gs:return O=T._init,b(_,E,O(T._payload),A)}if(lu(T))return y(_,E,T,A);if(Wl(T))return x(_,E,T,A);Hh(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(r(_,E.sibling),E=i(E,T),E.return=_,_=E):(r(_,E),E=kg(T,_.mode,A),E.return=_,_=E),o(_)):r(_,E)}return b}var al=rC(!0),nC=rC(!1),mc={},pi=qs(mc),Qu=qs(mc),Ku=qs(mc);function To(t){if(t===mc)throw Error(re(174));return t}function jv(t,e){switch(tt(Ku,e),tt(Qu,t),tt(pi,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z0(e,t)}st(pi),tt(pi,e)}function ll(){st(pi),st(Qu),st(Ku)}function iC(t){To(Ku.current);var e=To(pi.current),r=Z0(e,t.type);e!==r&&(tt(Qu,t),tt(pi,r))}function Wv(t){Qu.current===t&&(st(pi),st(Qu))}var pt=qs(0);function hf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sg=[];function Vv(){for(var t=0;t<Sg.length;t++)Sg[t]._workInProgressVersionPrimary=null;Sg.length=0}var _d=Ki.ReactCurrentDispatcher,Ag=Ki.ReactCurrentBatchConfig,Do=0,gt=null,Dt=null,Yt=null,df=!1,Su=!1,Zu=0,m4=0;function cr(){throw Error(re(321))}function Xv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zn(t[r],e[r]))return!1;return!0}function Yv(t,e,r,n,i,s){if(Do=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_d.current=t===null||t.memoizedState===null?_4:x4,t=r(n,i),Su){s=0;do{if(Su=!1,Zu=0,25<=s)throw Error(re(301));s+=1,Yt=Dt=null,e.updateQueue=null,_d.current=w4,t=r(n,i)}while(Su)}if(_d.current=ff,e=Dt!==null&&Dt.next!==null,Do=0,Yt=Dt=gt=null,df=!1,e)throw Error(re(300));return t}function qv(){var t=Zu!==0;return Zu=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function gn(){if(Dt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Yt===null?gt.memoizedState:Yt.next;if(e!==null)Yt=e,Dt=t;else{if(t===null)throw Error(re(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Ju(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=gn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Dt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,d=s;do{var p=d.lane;if((Do&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,gt.lanes|=p,Fo|=p}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=a,zn(n,e.memoizedState)||(Mr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,Fo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pg(t){var e=gn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zn(s,e.memoizedState)||(Mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function sC(){}function oC(t,e){var r=gt,n=gn(),i=e(),s=!zn(n.memoizedState,i);if(s&&(n.memoizedState=i,Mr=!0),n=n.queue,Qv(uC.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,ec(9,lC.bind(null,r,n,i,e),void 0,null),Kt===null)throw Error(re(349));Do&30||aC(r,e,i)}return i}function aC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lC(t,e,r,n){e.value=r,e.getSnapshot=n,cC(e)&&hC(t)}function uC(t,e,r){return r(function(){cC(e)&&hC(t)})}function cC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zn(t,r)}catch{return!0}}function hC(t){var e=Xi(t,1);e!==null&&Gn(e,t,1,-1)}function Ob(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:t},e.queue=t,t=t.dispatch=v4.bind(null,gt,t),[e.memoizedState,t]}function ec(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dC(){return gn().memoizedState}function xd(t,e,r,n){var i=oi();gt.flags|=t,i.memoizedState=ec(1|e,r,void 0,n===void 0?null:n)}function Qf(t,e,r,n){var i=gn();n=n===void 0?null:n;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,n!==null&&Xv(n,o.deps)){i.memoizedState=ec(e,r,s,n);return}}gt.flags|=t,i.memoizedState=ec(1|e,r,s,n)}function Lb(t,e){return xd(8390656,8,t,e)}function Qv(t,e){return Qf(2048,8,t,e)}function fC(t,e){return Qf(4,2,t,e)}function pC(t,e){return Qf(4,4,t,e)}function mC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gC(t,e,r){return r=r!=null?r.concat([t]):null,Qf(4,4,mC.bind(null,e,t),r)}function Kv(){}function yC(t,e){var r=gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vC(t,e){var r=gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _C(t,e,r){return Do&21?(zn(r,e)||(r=bA(),gt.lanes|=r,Fo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=r)}function g4(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=Ag.transition;Ag.transition={};try{t(!1),e()}finally{Qe=r,Ag.transition=n}}function xC(){return gn().memoizedState}function y4(t,e,r){var n=Os(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wC(t))bC(e,r);else if(r=ZA(t,e,r,n),r!==null){var i=wr();Gn(r,t,n,i),EC(r,e,n)}}function v4(t,e,r){var n=Os(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wC(t))bC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,zn(a,o)){var c=e.interleaved;c===null?(i.next=i,zv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=ZA(t,e,i,n),r!==null&&(i=wr(),Gn(r,t,n,i),EC(r,e,n))}}function wC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function bC(t,e){Su=df=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pv(t,r)}}var ff={readContext:mn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},_4={readContext:mn,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:Lb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xd(4194308,4,mC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return xd(4,2,t,e)},useMemo:function(t,e){var r=oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=y4.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:Ob,useDebugValue:Kv,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=Ob(!1),e=t[0];return t=g4.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=oi();if(ct){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),Kt===null)throw Error(re(349));Do&30||aC(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Lb(uC.bind(null,n,s,t),[t]),n.flags|=2048,ec(9,lC.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=oi(),e=Kt.identifierPrefix;if(ct){var r=Ui,n=Bi;r=(n&~(1<<32-Un(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x4={readContext:mn,useCallback:yC,useContext:mn,useEffect:Qv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Cg,useRef:dC,useState:function(){return Cg(Ju)},useDebugValue:Kv,useDeferredValue:function(t){var e=gn();return _C(e,Dt.memoizedState,t)},useTransition:function(){var t=Cg(Ju)[0],e=gn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:xC,unstable_isNewReconciler:!1},w4={readContext:mn,useCallback:yC,useContext:mn,useEffect:Qv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Pg,useRef:dC,useState:function(){return Pg(Ju)},useDebugValue:Kv,useDeferredValue:function(t){var e=gn();return Dt===null?e.memoizedState=t:_C(e,Dt.memoizedState,t)},useTransition:function(){var t=Pg(Ju)[0],e=gn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:xC,unstable_isNewReconciler:!1};function ul(t,e){try{var r="",n=e;do r+=qF(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ig(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function TC(t,e,r){r=Hi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){mf||(mf=!0,ky=n),wy(t,e)},r}function SC(t,e,r){r=Hi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){wy(t,e),typeof n!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Db(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new b4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=D4.bind(null,t,e,r),e.then(t,t))}function Fb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hi(-1,1),e.tag=2,Ms(r,e,1))),r.lanes|=1),t)}var E4=Ki.ReactCurrentOwner,Mr=!1;function _r(t,e,r,n){e.child=t===null?nC(e,null,r,n):al(e,t.child,r,n)}function Ub(t,e,r,n,i){r=r.render;var s=e.ref;return Ka(e,i),n=Yv(t,e,r,n,s,i),r=qv(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(ct&&r&&Dv(e),e.flags|=1,_r(t,e,n,i),e.child)}function Gb(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!s_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,AC(t,e,s,n,i)):(t=Td(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vu,r(o,n)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ls(s,n),t.ref=e.ref,t.return=e,e.child=t}function AC(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Vu(s,n)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return by(t,e,r,n,i)}function CC(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ba,jr),jr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Ba,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tt(Ba,jr),jr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tt(Ba,jr),jr|=n;return _r(t,e,i,r),e.child}function PC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function by(t,e,r,n,i){var s=Or(r)?Oo:gr.current;return s=sl(e,s),Ka(e,i),r=Yv(t,e,r,n,s,i),n=qv(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(ct&&n&&Dv(e),e.flags|=1,_r(t,e,r,i),e.child)}function $b(t,e,r,n,i){if(Or(r)){var s=!0;sf(e)}else s=!1;if(Ka(e,i),e.stateNode===null)wd(t,e),tC(e,r,n),xy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=mn(d):(d=Or(r)?Oo:gr.current,d=sl(e,d));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==d)&&Mb(e,o,n,d),ys=!1;var f=e.memoizedState;o.state=f,cf(e,n,o,i),c=e.memoizedState,a!==n||f!==c||Nr.current||ys?(typeof p=="function"&&(_y(e,r,p,n),c=e.memoizedState),(a=ys||kb(e,r,a,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,JA(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Cn(e.type,a),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mn(c):(c=Or(r)?Oo:gr.current,c=sl(e,c));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Mb(e,o,n,c),ys=!1,f=e.memoizedState,o.state=f,cf(e,n,o,i);var y=e.memoizedState;a!==h||f!==y||Nr.current||ys?(typeof g=="function"&&(_y(e,r,g,n),y=e.memoizedState),(d=ys||kb(e,r,d,n,f,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ey(t,e,r,n,s,i)}function Ey(t,e,r,n,i,s){PC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ab(e,r,!1),Yi(t,e,s);n=e.stateNode,E4.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,s),e.child=al(e,null,a,s)):_r(t,e,a,s),e.memoizedState=n.state,i&&Ab(e,r,!0),e.child}function IC(t){var e=t.stateNode;e.pendingContext?Sb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sb(t,e.context,!1),jv(t,e.containerInfo)}function zb(t,e,r,n,i){return ol(),Bv(i),e.flags|=256,_r(t,e,r,n),e.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function RC(t,e,r){var n=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(pt,i&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jf(o,n,0,null),t=ko(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sy(r),e.memoizedState=Ty,t):Zv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return T4(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ls(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=ko(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Sy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Ty,n}return s=t.child,t=s.sibling,n=Ls(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Zv(t,e){return e=Jf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,r,n){return n!==null&&Bv(n),al(e,t.child,null,r),t=Zv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T4(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Ig(Error(re(422))),jh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Jf({mode:"visible",children:n.children},i,0,null),s=ko(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=Sy(o),e.memoizedState=Ty,s);if(!(e.mode&1))return jh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(re(419)),n=Ig(s,n,void 0),jh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Mr||a){if(n=Kt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xi(t,i),Gn(n,t,i,-1))}return i_(),n=Ig(Error(re(421))),jh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wr=ks(i.nextSibling),Vr=e,ct=!0,Rn=null,t!==null&&(un[cn++]=Bi,un[cn++]=Ui,un[cn++]=Lo,Bi=t.id,Ui=t.overflow,Lo=e),e=Zv(e,n.children),e.flags|=4096,e)}function Hb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vy(t.return,e,r)}function Rg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kC(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_r(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hb(t,r,e);else if(t.tag===19)Hb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&hf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Rg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Rg(e,!0,r,null,s);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Ls(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ls(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function S4(t,e,r){switch(e.tag){case 3:IC(e),ol();break;case 5:iC(e);break;case 1:Or(e.type)&&sf(e);break;case 4:jv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tt(lf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?RC(t,e,r):(tt(pt,pt.current&1),t=Yi(t,e,r),t!==null?t.sibling:null);tt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,CC(t,e,r)}return Yi(t,e,r)}var MC,Ay,NC,OC;MC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ay=function(){};NC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,To(pi.current);var s=null;switch(r){case"input":i=Y0(t,i),n=Y0(t,n),s=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),s=[];break;case"textarea":i=K0(t,i),n=K0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rf)}J0(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Uu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};OC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function A4(t,e,r){var n=e.pendingProps;switch(Fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return Or(e.type)&&nf(),hr(e),null;case 3:return n=e.stateNode,ll(),st(Nr),st(gr),Vv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Oy(Rn),Rn=null))),Ay(t,e),hr(e),null;case 5:Wv(e);var i=To(Ku.current);if(r=e.type,t!==null&&e.stateNode!=null)NC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return hr(e),null}if(t=To(pi.current),zh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ui]=e,n[qu]=s,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<cu.length;i++)nt(cu[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Zw(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":eb(n,s),nt("invalid",n)}J0(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&$h(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$h(n.textContent,a,t),i=["children",""+a]):Uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":Nh(n),Jw(n,s,!0);break;case"textarea":Nh(n),tb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=rf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ui]=e,t[qu]=n,MC(t,e,!1,!1),e.stateNode=t;e:{switch(o=ey(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<cu.length;i++)nt(cu[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":Zw(t,n),i=Y0(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":eb(t,n),i=K0(t,n),nt("invalid",t);break;default:i=n}J0(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?cA(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lA(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gu(t,c):typeof c=="number"&&Gu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&nt("scroll",t):c!=null&&bv(t,s,c,o))}switch(r){case"input":Nh(t),Jw(t,n,!1);break;case"textarea":Nh(t),tb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Xa(t,!!n.multiple,s,!1):n.defaultValue!=null&&Xa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)OC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=To(Ku.current),To(pi.current),zh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ui]=e,(s=n.nodeValue!==r)&&(t=Vr,t!==null))switch(t.tag){case 3:$h(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$h(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ui]=e,e.stateNode=n}return hr(e),null;case 13:if(st(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Wr!==null&&e.mode&1&&!(e.flags&128))KA(),ol(),e.flags|=98560,s=!1;else if(s=zh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[ui]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),s=!1}else Rn!==null&&(Oy(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Bt===0&&(Bt=3):i_())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return ll(),Ay(t,e),t===null&&Xu(e.stateNode.containerInfo),hr(e),null;case 10:return $v(e.type._context),hr(e),null;case 17:return Or(e.type)&&nf(),hr(e),null;case 19:if(st(pt),s=e.memoizedState,s===null)return hr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Kl(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hf(t),o!==null){for(e.flags|=128,Kl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>cl&&(e.flags|=128,n=!0,Kl(s,!1),e.lanes=4194304)}else{if(!n)if(t=hf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return hr(e),null}else 2*St()-s.renderingStartTime>cl&&r!==1073741824&&(e.flags|=128,n=!0,Kl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,r=pt.current,tt(pt,n?r&1|2:r&1),e):(hr(e),null);case 22:case 23:return n_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function C4(t,e){switch(Fv(e),e.tag){case 1:return Or(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),st(Nr),st(gr),Vv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wv(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return ll(),null;case 10:return $v(e.type._context),null;case 22:case 23:return n_(),null;case 24:return null;default:return null}}var Wh=!1,fr=!1,P4=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Fa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Cy(t,e,r){try{r()}catch(n){xt(t,e,n)}}var jb=!1;function I4(t,e){if(cy=Jd,t=BA(),Lv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,d=0,p=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===i&&(a=o),f===s&&++p===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hy={focusedElem:t,selectionRange:r},Jd=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:Cn(e.type,x),b);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(A){xt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return y=jb,jb=!1,y}function Au(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cy(e,r,s)}i=i.next}while(i!==n)}}function Kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Py(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function LC(t){var e=t.alternate;e!==null&&(t.alternate=null,LC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[qu],delete e[py],delete e[h4],delete e[d4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DC(t){return t.tag===5||t.tag===3||t.tag===4}function Wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rf));else if(n!==4&&(t=t.child,t!==null))for(Iy(t,e,r),t=t.sibling;t!==null;)Iy(t,e,r),t=t.sibling}function Ry(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ry(t,e,r),t=t.sibling;t!==null;)Ry(t,e,r),t=t.sibling}var tr=null,Pn=!1;function cs(t,e,r){for(r=r.child;r!==null;)FC(t,e,r),r=r.sibling}function FC(t,e,r){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Hf,r)}catch{}switch(r.tag){case 5:fr||Fa(r,e);case 6:var n=tr,i=Pn;tr=null,cs(t,e,r),tr=n,Pn=i,tr!==null&&(Pn?(t=tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(Pn?(t=tr,r=r.stateNode,t.nodeType===8?Eg(t.parentNode,r):t.nodeType===1&&Eg(t,r),ju(t)):Eg(tr,r.stateNode));break;case 4:n=tr,i=Pn,tr=r.stateNode.containerInfo,Pn=!0,cs(t,e,r),tr=n,Pn=i;break;case 0:case 11:case 14:case 15:if(!fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cy(r,e,o),i=i.next}while(i!==n)}cs(t,e,r);break;case 1:if(!fr&&(Fa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xt(r,e,a)}cs(t,e,r);break;case 21:cs(t,e,r);break;case 22:r.mode&1?(fr=(n=fr)||r.memoizedState!==null,cs(t,e,r),fr=n):cs(t,e,r);break;default:cs(t,e,r)}}function Vb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new P4),e.forEach(function(n){var i=B4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tr=a.stateNode,Pn=!1;break e;case 3:tr=a.stateNode.containerInfo,Pn=!0;break e;case 4:tr=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(tr===null)throw Error(re(160));FC(s,o,i),tr=null,Pn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){xt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BC(e,t),e=e.sibling}function BC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),ti(t),n&4){try{Au(3,t,t.return),Kf(3,t)}catch(x){xt(t,t.return,x)}try{Au(5,t,t.return)}catch(x){xt(t,t.return,x)}}break;case 1:Tn(e,t),ti(t),n&512&&r!==null&&Fa(r,r.return);break;case 5:if(Tn(e,t),ti(t),n&512&&r!==null&&Fa(r,r.return),t.flags&32){var i=t.stateNode;try{Gu(i,"")}catch(x){xt(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sA(i,s),ey(a,o);var d=ey(a,s);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?cA(i,h):p==="dangerouslySetInnerHTML"?lA(i,h):p==="children"?Gu(i,h):bv(i,p,h,d)}switch(a){case"input":q0(i,s);break;case"textarea":oA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Xa(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xa(i,!!s.multiple,s.defaultValue,!0):Xa(i,!!s.multiple,s.multiple?[]:"",!1))}i[qu]=s}catch(x){xt(t,t.return,x)}}break;case 6:if(Tn(e,t),ti(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){xt(t,t.return,x)}}break;case 3:if(Tn(e,t),ti(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(x){xt(t,t.return,x)}break;case 4:Tn(e,t),ti(t);break;case 13:Tn(e,t),ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t_=St())),n&4&&Vb(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(fr=(d=fr)||p,Tn(e,t),fr=d):Tn(e,t),ti(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ge=t,p=t.child;p!==null;){for(h=ge=p;ge!==null;){switch(f=ge,g=f.child,f.tag){case 0:case 11:case 14:case 15:Au(4,f,f.return);break;case 1:Fa(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){xt(n,r,x)}}break;case 5:Fa(f,f.return);break;case 22:if(f.memoizedState!==null){Yb(h);continue}}g!==null?(g.return=f,ge=g):Yb(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uA("display",o))}catch(x){xt(t,t.return,x)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){xt(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),ti(t),n&4&&Vb(t);break;case 21:break;default:Tn(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(DC(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gu(i,""),n.flags&=-33);var s=Wb(t);Ry(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Wb(t);Iy(t,a,o);break;default:throw Error(re(161))}}catch(c){xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R4(t,e,r){ge=t,UC(t)}function UC(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Wh;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||fr;a=Wh;var d=fr;if(Wh=o,(fr=c)&&!d)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?qb(i):c!==null?(c.return=o,ge=c):qb(i);for(;s!==null;)ge=s,UC(s),s=s.sibling;ge=i,Wh=a,fr=d}Xb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):Xb(t)}}function Xb(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fr||Kf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!fr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Cn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Rb(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Rb(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&ju(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}fr||e.flags&512&&Py(e)}catch(f){xt(e,e.return,f)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Yb(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function qb(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kf(4,e)}catch(c){xt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){xt(e,i,c)}}var s=e.return;try{Py(e)}catch(c){xt(e,s,c)}break;case 5:var o=e.return;try{Py(e)}catch(c){xt(e,o,c)}}}catch(c){xt(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var k4=Math.ceil,pf=Ki.ReactCurrentDispatcher,Jv=Ki.ReactCurrentOwner,pn=Ki.ReactCurrentBatchConfig,ze=0,Kt=null,Mt=null,ir=0,jr=0,Ba=qs(0),Bt=0,tc=null,Fo=0,Zf=0,e_=0,Cu=null,Rr=null,t_=0,cl=1/0,ki=null,mf=!1,ky=null,Ns=null,Vh=!1,Cs=null,gf=0,Pu=0,My=null,bd=-1,Ed=0;function wr(){return ze&6?St():bd!==-1?bd:bd=St()}function Os(t){return t.mode&1?ze&2&&ir!==0?ir&-ir:p4.transition!==null?(Ed===0&&(Ed=bA()),Ed):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:IA(t.type)),t):1}function Gn(t,e,r,n){if(50<Pu)throw Pu=0,My=null,Error(re(185));dc(t,r,n),(!(ze&2)||t!==Kt)&&(t===Kt&&(!(ze&2)&&(Zf|=r),Bt===4&&xs(t,ir)),Lr(t,n),r===1&&ze===0&&!(e.mode&1)&&(cl=St()+500,Yf&&Qs()))}function Lr(t,e){var r=t.callbackNode;pB(t,e);var n=Zd(t,t===Kt?ir:0);if(n===0)r!==null&&ib(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ib(r),e===1)t.tag===0?f4(Qb.bind(null,t)):YA(Qb.bind(null,t)),u4(function(){!(ze&6)&&Qs()}),r=null;else{switch(EA(n)){case 1:r=Cv;break;case 4:r=xA;break;case 16:r=Kd;break;case 536870912:r=wA;break;default:r=Kd}r=XC(r,GC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function GC(t,e){if(bd=-1,Ed=0,ze&6)throw Error(re(327));var r=t.callbackNode;if(Za()&&t.callbackNode!==r)return null;var n=Zd(t,t===Kt?ir:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=yf(t,n);else{e=n;var i=ze;ze|=2;var s=zC();(Kt!==t||ir!==e)&&(ki=null,cl=St()+500,Ro(t,e));do try{O4();break}catch(a){$C(t,a)}while(1);Gv(),pf.current=s,ze=i,Mt!==null?e=0:(Kt=null,ir=0,e=Bt)}if(e!==0){if(e===2&&(i=sy(t),i!==0&&(n=i,e=Ny(t,i))),e===1)throw r=tc,Ro(t,0),xs(t,n),Lr(t,St()),r;if(e===6)xs(t,n);else{if(i=t.current.alternate,!(n&30)&&!M4(i)&&(e=yf(t,n),e===2&&(s=sy(t),s!==0&&(n=s,e=Ny(t,s))),e===1))throw r=tc,Ro(t,0),xs(t,n),Lr(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:_o(t,Rr,ki);break;case 3:if(xs(t,n),(n&130023424)===n&&(e=t_+500-St(),10<e)){if(Zd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fy(_o.bind(null,t,Rr,ki),e);break}_o(t,Rr,ki);break;case 4:if(xs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Un(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k4(n/1960))-n,10<n){t.timeoutHandle=fy(_o.bind(null,t,Rr,ki),n);break}_o(t,Rr,ki);break;case 5:_o(t,Rr,ki);break;default:throw Error(re(329))}}}return Lr(t,St()),t.callbackNode===r?GC.bind(null,t):null}function Ny(t,e){var r=Cu;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=yf(t,e),t!==2&&(e=Rr,Rr=r,e!==null&&Oy(e)),t}function Oy(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function M4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~e_,e&=~Zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Un(e),n=1<<r;t[r]=-1,e&=~n}}function Qb(t){if(ze&6)throw Error(re(327));Za();var e=Zd(t,0);if(!(e&1))return Lr(t,St()),null;var r=yf(t,e);if(t.tag!==0&&r===2){var n=sy(t);n!==0&&(e=n,r=Ny(t,n))}if(r===1)throw r=tc,Ro(t,0),xs(t,e),Lr(t,St()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Rr,ki),Lr(t,St()),null}function r_(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(cl=St()+500,Yf&&Qs())}}function Bo(t){Cs!==null&&Cs.tag===0&&!(ze&6)&&Za();var e=ze;ze|=1;var r=pn.transition,n=Qe;try{if(pn.transition=null,Qe=1,t)return t()}finally{Qe=n,pn.transition=r,ze=e,!(ze&6)&&Qs()}}function n_(){jr=Ba.current,st(Ba)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,l4(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(Fv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nf();break;case 3:ll(),st(Nr),st(gr),Vv();break;case 5:Wv(n);break;case 4:ll();break;case 13:st(pt);break;case 19:st(pt);break;case 10:$v(n.type._context);break;case 22:case 23:n_()}r=r.return}if(Kt=t,Mt=t=Ls(t.current,null),ir=jr=e,Bt=0,tc=null,e_=Zf=Fo=0,Rr=Cu=null,Eo!==null){for(e=0;e<Eo.length;e++)if(r=Eo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Eo=null}return t}function $C(t,e){do{var r=Mt;try{if(Gv(),_d.current=ff,df){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}df=!1}if(Do=0,Yt=Dt=gt=null,Su=!1,Zu=0,Jv.current=null,r===null||r.return===null){Bt=1,tc=e,Mt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=ir,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Fb(o);if(g!==null){g.flags&=-257,Bb(g,o,a,s,e),g.mode&1&&Db(s,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Db(s,d,e),i_();break e}c=Error(re(426))}}else if(ct&&a.mode&1){var b=Fb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bb(b,o,a,s,e),Bv(ul(c,a));break e}}s=c=ul(c,a),Bt!==4&&(Bt=2),Cu===null?Cu=[s]:Cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=TC(s,c,e);Ib(s,_);break e;case 1:a=c;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ns===null||!Ns.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=SC(s,a,e);Ib(s,A);break e}}s=s.return}while(s!==null)}jC(r)}catch(I){e=I,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(1)}function zC(){var t=pf.current;return pf.current=ff,t===null?ff:t}function i_(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||!(Fo&268435455)&&!(Zf&268435455)||xs(Kt,ir)}function yf(t,e){var r=ze;ze|=2;var n=zC();(Kt!==t||ir!==e)&&(ki=null,Ro(t,e));do try{N4();break}catch(i){$C(t,i)}while(1);if(Gv(),ze=r,pf.current=n,Mt!==null)throw Error(re(261));return Kt=null,ir=0,Bt}function N4(){for(;Mt!==null;)HC(Mt)}function O4(){for(;Mt!==null&&!sB();)HC(Mt)}function HC(t){var e=VC(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?jC(t):Mt=e,Jv.current=null}function jC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=C4(r,e),r!==null){r.flags&=32767,Mt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Mt=null;return}}else if(r=A4(r,e,jr),r!==null){Mt=r;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Bt===0&&(Bt=5)}function _o(t,e,r){var n=Qe,i=pn.transition;try{pn.transition=null,Qe=1,L4(t,e,r,n)}finally{pn.transition=i,Qe=n}return null}function L4(t,e,r,n){do Za();while(Cs!==null);if(ze&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(mB(t,s),t===Kt&&(Mt=Kt=null,ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vh||(Vh=!0,XC(Kd,function(){return Za(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=Qe;Qe=1;var a=ze;ze|=4,Jv.current=null,I4(t,r),BC(r,t),t4(hy),Jd=!!cy,hy=cy=null,t.current=r,R4(r),oB(),ze=a,Qe=o,pn.transition=s}else t.current=r;if(Vh&&(Vh=!1,Cs=t,gf=i),s=t.pendingLanes,s===0&&(Ns=null),uB(r.stateNode),Lr(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(mf)throw mf=!1,t=ky,ky=null,t;return gf&1&&t.tag!==0&&Za(),s=t.pendingLanes,s&1?t===My?Pu++:(Pu=0,My=t):Pu=0,Qs(),null}function Za(){if(Cs!==null){var t=EA(gf),e=pn.transition,r=Qe;try{if(pn.transition=null,Qe=16>t?16:t,Cs===null)var n=!1;else{if(t=Cs,Cs=null,gf=0,ze&6)throw Error(re(331));var i=ze;for(ze|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ge=d;ge!==null;){var p=ge;switch(p.tag){case 0:case 11:case 15:Au(8,p,s)}var h=p.child;if(h!==null)h.return=p,ge=h;else for(;ge!==null;){p=ge;var f=p.sibling,g=p.return;if(LC(p),p===d){ge=null;break}if(f!==null){f.return=g,ge=f;break}ge=g}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Au(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ge=_;break e}ge=s.return}}var E=t.current;for(ge=E;ge!==null;){o=ge;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ge=T;else e:for(o=E;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kf(9,a)}}catch(I){xt(a,a.return,I)}if(a===o){ge=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ge=A;break e}ge=a.return}}if(ze=i,Qs(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Hf,t)}catch{}n=!0}return n}finally{Qe=r,pn.transition=e}}return!1}function Kb(t,e,r){e=ul(r,e),e=TC(t,e,1),t=Ms(t,e,1),e=wr(),t!==null&&(dc(t,1,e),Lr(t,e))}function xt(t,e,r){if(t.tag===3)Kb(t,t,r);else for(;e!==null;){if(e.tag===3){Kb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ns===null||!Ns.has(n))){t=ul(r,t),t=SC(e,t,1),e=Ms(e,t,1),t=wr(),e!==null&&(dc(e,1,t),Lr(e,t));break}}e=e.return}}function D4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&r,Kt===t&&(ir&r)===r&&(Bt===4||Bt===3&&(ir&130023424)===ir&&500>St()-t_?Ro(t,0):e_|=r),Lr(t,e)}function WC(t,e){e===0&&(t.mode&1?(e=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):e=1);var r=wr();t=Xi(t,e),t!==null&&(dc(t,e,r),Lr(t,r))}function F4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),WC(t,r)}function B4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),WC(t,r)}var VC;VC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Mr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mr=!1,S4(t,e,r);Mr=!!(t.flags&131072)}else Mr=!1,ct&&e.flags&1048576&&qA(e,af,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wd(t,e),t=e.pendingProps;var i=sl(e,gr.current);Ka(e,r),i=Yv(null,e,n,t,i,r);var s=qv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(s=!0,sf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hv(e),i.updater=qf,e.stateNode=i,i._reactInternals=e,xy(e,n,t,r),e=Ey(null,e,n,!0,s,r)):(e.tag=0,ct&&s&&Dv(e),_r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=G4(n),t=Cn(n,t),i){case 0:e=by(null,e,n,t,r);break e;case 1:e=$b(null,e,n,t,r);break e;case 11:e=Ub(null,e,n,t,r);break e;case 14:e=Gb(null,e,n,Cn(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Cn(n,i),by(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Cn(n,i),$b(t,e,n,i,r);case 3:e:{if(IC(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,JA(t,e),cf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ul(Error(re(423)),e),e=zb(t,e,n,r,i);break e}else if(n!==i){i=ul(Error(re(424)),e),e=zb(t,e,n,r,i);break e}else for(Wr=ks(e.stateNode.containerInfo.firstChild),Vr=e,ct=!0,Rn=null,r=nC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),n===i){e=Yi(t,e,r);break e}_r(t,e,n,r)}e=e.child}return e;case 5:return iC(e),t===null&&yy(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dy(n,i)?o=null:s!==null&&dy(n,s)&&(e.flags|=32),PC(t,e),_r(t,e,o,r),e.child;case 6:return t===null&&yy(e),null;case 13:return RC(t,e,r);case 4:return jv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=al(e,null,n,r):_r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Cn(n,i),Ub(t,e,n,i,r);case 7:return _r(t,e,e.pendingProps,r),e.child;case 8:return _r(t,e,e.pendingProps.children,r),e.child;case 12:return _r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(lf,n._currentValue),n._currentValue=o,s!==null)if(zn(s.value,o)){if(s.children===i.children&&!Nr.current){e=Yi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Hi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),vy(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),vy(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ka(e,r),i=mn(i),n=n(i),e.flags|=1,_r(t,e,n,r),e.child;case 14:return n=e.type,i=Cn(n,e.pendingProps),i=Cn(n.type,i),Gb(t,e,n,i,r);case 15:return AC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Cn(n,i),wd(t,e),e.tag=1,Or(n)?(t=!0,sf(e)):t=!1,Ka(e,r),tC(e,n,i),xy(e,n,i,r),Ey(null,e,n,!0,t,r);case 19:return kC(t,e,r);case 22:return CC(t,e,r)}throw Error(re(156,e.tag))};function XC(t,e){return _A(t,e)}function U4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,r,n){return new U4(t,e,r,n)}function s_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G4(t){if(typeof t=="function")return s_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tv)return 11;if(t===Sv)return 14}return 2}function Ls(t,e){var r=t.alternate;return r===null?(r=fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Td(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")s_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pa:return ko(r.children,i,s,e);case Ev:o=8,i|=8;break;case j0:return t=fn(12,r,e,i|2),t.elementType=j0,t.lanes=s,t;case W0:return t=fn(13,r,e,i),t.elementType=W0,t.lanes=s,t;case V0:return t=fn(19,r,e,i),t.elementType=V0,t.lanes=s,t;case rA:return Jf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eA:o=10;break e;case tA:o=9;break e;case Tv:o=11;break e;case Sv:o=14;break e;case gs:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=fn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ko(t,e,r,n){return t=fn(7,t,n,e),t.lanes=r,t}function Jf(t,e,r,n){return t=fn(22,t,n,e),t.elementType=rA,t.lanes=r,t.stateNode={isHidden:!1},t}function kg(t,e,r){return t=fn(6,t,null,e),t.lanes=r,t}function Mg(t,e,r){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o_(t,e,r,n,i,s,o,a,c){return t=new $4(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hv(s),t}function z4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function YC(t){if(!t)return Hs;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(Or(r))return XA(t,r,e)}return e}function qC(t,e,r,n,i,s,o,a,c){return t=o_(r,n,!0,t,i,s,o,a,c),t.context=YC(null),r=t.current,n=wr(),i=Os(r),s=Hi(n,i),s.callback=e??null,Ms(r,s,i),t.current.lanes=i,dc(t,i,n),Lr(t,n),t}function ep(t,e,r,n){var i=e.current,s=wr(),o=Os(i);return r=YC(r),e.context===null?e.context=r:e.pendingContext=r,e=Hi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ms(i,e,o),t!==null&&(Gn(t,i,o,s),vd(t,i,o)),o}function vf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function a_(t,e){Zb(t,e),(t=t.alternate)&&Zb(t,e)}function H4(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function l_(t){this._internalRoot=t}tp.prototype.render=l_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));ep(t,e,null,null)};tp.prototype.unmount=l_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){ep(null,t,null,null)}),e[Vi]=null}};function tp(t){this._internalRoot=t}tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=AA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_s.length&&e!==0&&e<_s[r].priority;r++);_s.splice(r,0,t),r===0&&PA(t)}};function u_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function j4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=vf(o);s.call(d)}}var o=qC(e,n,t,0,null,!1,!1,"",Jb);return t._reactRootContainer=o,t[Vi]=o.current,Xu(t.nodeType===8?t.parentNode:t),Bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=vf(c);a.call(d)}}var c=o_(t,0,!1,null,null,!1,!1,"",Jb);return t._reactRootContainer=c,t[Vi]=c.current,Xu(t.nodeType===8?t.parentNode:t),Bo(function(){ep(e,c,r,n)}),c}function np(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=vf(o);a.call(c)}}ep(e,o,t,i)}else o=j4(r,e,t,i,n);return vf(o)}TA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uu(e.pendingLanes);r!==0&&(Pv(e,r|1),Lr(e,St()),!(ze&6)&&(cl=St()+500,Qs()))}break;case 13:Bo(function(){var n=Xi(t,1);if(n!==null){var i=wr();Gn(n,t,1,i)}}),a_(t,1)}};Iv=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var r=wr();Gn(e,t,134217728,r)}a_(t,134217728)}};SA=function(t){if(t.tag===13){var e=Os(t),r=Xi(t,e);if(r!==null){var n=wr();Gn(r,t,e,n)}a_(t,e)}};AA=function(){return Qe};CA=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};ry=function(t,e,r){switch(e){case"input":if(q0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Xf(n);if(!i)throw Error(re(90));iA(n),q0(n,i)}}}break;case"textarea":oA(t,r);break;case"select":e=r.value,e!=null&&Xa(t,!!r.multiple,e,!1)}};fA=r_;pA=Bo;var W4={usingClientEntryPoint:!1,Events:[pc,Ma,Xf,hA,dA,r_]},Zl={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},V4={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yA(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||H4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Hf=Xh.inject(V4),fi=Xh}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u_(e))throw Error(re(200));return z4(t,e,null,r)};qr.createRoot=function(t,e){if(!u_(t))throw Error(re(299));var r=!1,n="",i=QC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o_(t,1,!1,null,null,r,!1,n,i),t[Vi]=e.current,Xu(t.nodeType===8?t.parentNode:t),new l_(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=yA(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return Bo(t)};qr.hydrate=function(t,e,r){if(!rp(e))throw Error(re(200));return np(null,t,e,!0,r)};qr.hydrateRoot=function(t,e,r){if(!u_(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=QC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=qC(e,null,t,1,r??null,i,!1,s,o),t[Vi]=e.current,Xu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new tp(e)};qr.render=function(t,e,r){if(!rp(e))throw Error(re(200));return np(null,t,e,!1,r)};qr.unmountComponentAtNode=function(t){if(!rp(t))throw Error(re(40));return t._reactRootContainer?(Bo(function(){np(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};qr.unstable_batchedUpdates=r_;qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!rp(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return np(t,e,r,!1,n)};qr.version="18.2.0-next-9e3b772b8-20220608";function KC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KC)}catch(t){console.error(t)}}KC(),qS.exports=qr;var X4=qS.exports,c_,eE=X4;c_=eE.createRoot,eE.hydrateRoot;var ZC={exports:{}};(function(t){(function(){function e(x,b){document.addEventListener?x.addEventListener("scroll",b,!1):x.attachEvent("scroll",b)}function r(x){document.body?x():document.addEventListener?document.addEventListener("DOMContentLoaded",function b(){document.removeEventListener("DOMContentLoaded",b),x()}):document.attachEvent("onreadystatechange",function b(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",b),x())})}function n(x){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(x)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(x,b){x.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function s(x){var b=x.g.offsetWidth,_=b+100;return x.j.style.width=_+"px",x.i.scrollLeft=_,x.h.scrollLeft=x.h.scrollWidth+100,x.l!==b?(x.l=b,!0):!1}function o(x,b){function _(){var T=E;s(T)&&T.g.parentNode!==null&&b(T.l)}var E=x;e(x.h,_),e(x.i,_),s(x)}function a(x,b,_){b=b||{},_=_||window,this.family=x,this.style=b.style||"normal",this.weight=b.weight||"normal",this.stretch=b.stretch||"normal",this.context=_}var c=null,d=null,p=null,h=null;function f(x){return d===null&&(g(x)&&/Apple/.test(window.navigator.vendor)?(x=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!x&&603>parseInt(x[1],10)):d=!1),d}function g(x){return h===null&&(h=!!x.document.fonts),h}function y(x,b){var _=x.style,E=x.weight;if(p===null){var T=document.createElement("div");try{T.style.font="condensed 100px sans-serif"}catch{}p=T.style.font!==""}return[_,E,p?x.stretch:"","100px",b].join(" ")}a.prototype.load=function(x,b){var _=this,E=x||"BESbswy",T=0,A=b||3e3,I=new Date().getTime();return new Promise(function(O,M){if(g(_.context)&&!f(_.context)){var R=new Promise(function(G,Q){function X(){new Date().getTime()-I>=A?Q(Error(""+A+"ms timeout exceeded")):_.context.document.fonts.load(y(_,'"'+_.family+'"'),E).then(function(D){1<=D.length?G():setTimeout(X,25)},Q)}X()}),U=new Promise(function(G,Q){T=setTimeout(function(){Q(Error(""+A+"ms timeout exceeded"))},A)});Promise.race([U,R]).then(function(){clearTimeout(T),O(_)},M)}else r(function(){function G(){var ee;(ee=J!=-1&&Z!=-1||J!=-1&&ce!=-1||Z!=-1&&ce!=-1)&&((ee=J!=Z&&J!=ce&&Z!=ce)||(c===null&&(ee=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!ee&&(536>parseInt(ee[1],10)||parseInt(ee[1],10)===536&&11>=parseInt(ee[2],10))),ee=c&&(J==N&&Z==N&&ce==N||J==W&&Z==W&&ce==W||J==F&&Z==F&&ce==F)),ee=!ee),ee&&($.parentNode!==null&&$.parentNode.removeChild($),clearTimeout(T),O(_))}function Q(){if(new Date().getTime()-I>=A)$.parentNode!==null&&$.parentNode.removeChild($),M(Error(""+A+"ms timeout exceeded"));else{var ee=_.context.document.hidden;(ee===!0||ee===void 0)&&(J=X.g.offsetWidth,Z=D.g.offsetWidth,ce=H.g.offsetWidth,G()),T=setTimeout(Q,50)}}var X=new n(E),D=new n(E),H=new n(E),J=-1,Z=-1,ce=-1,N=-1,W=-1,F=-1,$=document.createElement("div");$.dir="ltr",i(X,y(_,"sans-serif")),i(D,y(_,"serif")),i(H,y(_,"monospace")),$.appendChild(X.g),$.appendChild(D.g),$.appendChild(H.g),_.context.document.body.appendChild($),N=X.g.offsetWidth,W=D.g.offsetWidth,F=H.g.offsetWidth,Q(),o(X,function(ee){J=ee,G()}),i(X,y(_,'"'+_.family+'",sans-serif')),o(D,function(ee){Z=ee,G()}),i(D,y(_,'"'+_.family+'",serif')),o(H,function(ee){ce=ee,G()}),i(H,y(_,'"'+_.family+'",monospace'))})})},t.exports=a})()})(ZC);var Y4=ZC.exports;const q4=nc(Y4);function Q4({children:t}){return P("div",{id:"App",className:"app-mod",children:t})}function K4(){if(ET())return Promise.resolve();{const t={cs:`游戏加载失败。
您的浏览器不支持或已禁用WebGL。
请关闭浏览器限制并重新加载游戏。`,kh:`ដំនើការចូលក្នុងហ្គេមត្រូវបរាជ័យ។
កម្មវិធីអ៊ីនធឺណេតរបស់អ្នកមិនទ្រទ្រង់លើការប្រើប្រាស់ ឬបានបិត WebGL។
សូមចូលទៅកាន់ហ្គេមម្តងទៀតដោយបើក WebGL។`,id:`Loadin game gagal.
Browser Anda tidak mendukung atau telah menonaktifkan WebGL. 
Load ulang game di browser dengan WebGL diaktifkan.`,kr:`게임 로딩에 실패했습니다.
브라우저가 WebGL을 지원하지 않거나 비활성화했습니다.
WebGL이 활성화된 브라우저에서 게임을 새로고침하세요.`,th:`โหลดเกมไม่สำเร็จ
เบราว์เซอร์ของคุณไม่รองรับ WebGLหรือถูกปิดใช้งาน,
โปรดเปิดใช้งานบนเบราว์เซอร์ของคุณ และโหลดเกมใหม่`,vn:`Tải trò chơi không thành công.
Trình duyệt của bạn không hỗ trợ hoặc đã tắt WebGL. 
Vui lòng tải lại trò chơi trong trình duyệt có bật WebGL.`,tr:"Oyun yükleme başarısız oldu Tarayıcınız WebGL'yi desteklemiyor veya devre dışı bırakmış.Lütfen oyunu WebGL'nin etkin olduğu tarayıcılarda yeniden yükleyin.",pt:"O carregamento do jogo falhou. Seu navegador não suporta ou desabilitou o WebGL. Por favor, recarregue o jogo em navegadores com o WebGL ativado."}[qe.Obj.urlOptions.lang]??`Game loading failed. 
Your browser does not support or has disabled the WebGL. 
Please reload game in browsers with WebGL enabled.`;return c_(document.body).render(P("div",{className:"webgl-not-support",children:P("div",{className:"text",children:t})})),Promise.reject("webgl not support")}}function Z4(t=[]){let e=0;return new Promise((r,n)=>{function i(s){s==t.length&&r()}i(e);for(let s of t)new q4(s).load(null,3e5).then(()=>{e++,i(e)})})}function J4(){return Promise.all([wS.test(),bS.test()]).then(([t,e])=>{qe.Obj.setSupportImagesFormat(e,t);const r=document.getElementById("blur-bg");r.className=r.className+" "+qe.Obj.filterImageFormat(["avif","webp","jpg"])})}function e5(t,e=[]){const r=qe.Obj,{operator:n,token:i,loginUrl:s,funPLay:o}=r.urlOptions;n?!o&&!i&&s?window.open(r.getLoginUrl(),"_self"):K4().then(Z4.bind(null,e)).then(J4).then(()=>{c_(document.getElementById("root")).render(P(Q4,{children:t}))}).catch(a=>{console.error(a)}):alert("The operator parameter is missing!")}var ip={exports:{}},JC={exports:{}},t5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r5=t5,n5=r5;function eP(){}function tP(){}tP.resetWarningCache=eP;var i5=function(){function t(n,i,s,o,a,c){if(c!==n5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tP,resetWarningCache:eP};return r.PropTypes=r,r};JC.exports=i5();var s5=JC.exports;const it=nc(s5);function Xr(t){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function rP(t){var e=function(r,n){if(Xr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Xr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Xr(e)==="symbol"?e:String(e)}function Et(t,e,r){return(e=rP(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qi(t){return function(e){if(Array.isArray(e))return Ng(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Ng(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ng(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var o5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l5=function(t){return t==null};function hu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=qi(t);else{if(t===null||Xr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!l5(r)&&!isNaN(r)}).map(Number)}function tE(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Og(t){return t instanceof Fe||t instanceof ci}var _f=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Lg(t,e,r){if(Og(t[e])&&Og(r))t[e].copyFrom(r);else if(Og(t[e])){var n=hu(r);wt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Xr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var pa,nP=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},iP=function(t){return function(){return!t.apply(void 0,arguments)}},Ly="children",u5=(Et(pa={},Ly,!0),Et(pa,"parent",!0),Et(pa,"worldAlpha",!0),Et(pa,"worldTransform",!0),Et(pa,"worldVisible",!0),pa),Dy={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},vi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,d;a==null||(c=a.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return wt(c.typeofs.some(function(d){return Xr(r[a])===d})||c.instanceofs.some(function(d){return r[a]instanceof d}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return wt(r.texture instanceof he,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,he]});wt(!!s,"".concat(t," could not get texture from props"));var o=he.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},c5=iP(nP([].concat(qi(Object.keys(u5)),qi(_f))));function _i(t,e,r){var n=!1;if(wt(ht.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Xr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<_f.length;o++){var a=_f[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var p=c[d];e[p]!==r[p]&&(n=!0,Lg(t,p,r[p]))}return n}for(var h=c.filter(c5),f=0;f<h.length;f++){var g=h[f],y=r[g];r[g]!==e[g]&&(n=!0),y!==void 0?Lg(t,g,y):g in Dy?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(y," for"),t),n=!0,Lg(t,g,Dy[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(y," for"),t)}return n}var h5=function(t,e){var r=e.text,n=e.style;return new KD(r,n)},d5=function(){return new br};function Ks(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,d,p={},h=Object.keys(o);for(d=0;d<h.length;d++)c=h[d],a.indexOf(c)>=0||(p[c]=o[c]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var f5=["draw","geometry"],p5=function(t,e){var r=e.geometry;wt(!r||r instanceof yu,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new yu(r.geometry):new yu;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=_i(i,s,Ks(o,f5));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},m5=["image","texture"],g5=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,p=vi("NineSlicePlane",t,e),h=new xD(p,n,s,a,d);return h.applyProps=function(f,g,y){var x=y.image,b=y.texture,_=_i(f,g,Ks(y,m5));return(x||b)&&(b!==g.texture&&(_=!0),f.texture=vi("NineSlicePlane",t,y)),_},h};function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var y5=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=Yh(Yh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=Yh(Yh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new ED(n,c,s,a);return p.willUnmount=function(h,f,g){h.destroy(d)},p},v5=["image","texture"],_5=function(t,e){var r=new wi(vi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=_i(n,i,Ks(s,v5));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=vi("Sprite",t,s)),c},r},x5=["textures","isPlaying","initialFrame","images"],w5=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(d){return d.map(function(p){return wt(p instanceof he||(p==null?void 0:p.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),p})},c=n?Bu.fromImages(n):new Bu(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,p,h){var f=h.textures,g=h.isPlaying,y=h.initialFrame,x=h.images,b=_i(d,p,Ks(h,x5));if(x&&p.images!==x){for(var _=[],E=0;E<x.length;++E)_.push(he.from(x[E]));d.textures=_,b=!0}if(f&&p.textures!==f&&(d.textures=a(f),b=!0),g!==p.isPlaying||y!==p.initialFrame){var T=typeof y=="number"?y:c.currentFrame||0;c[g?"gotoAndPlay":"gotoAndStop"](T),b=!0}return b},c},b5=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new yv(n,s);return o?(a.updateText(),new wi(a.texture)):a},E5=["tileScale","tilePosition","image","texture"],T5=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=vi("TilingSprite",t,e),a=new vv(o,n,s);return a.applyProps=function(c,d,p){var h=p.tileScale,f=p.tilePosition,g=p.image,y=p.texture,x=_i(c,d,Ks(p,E5));if(f){var b,_=hu(f);(b=c.tilePosition).set.apply(b,qi(_)),x=!tE(hu(d.tilePosition),_)||x}if(h){var E,T=hu(h);(E=c.tileScale).set.apply(E,qi(T)),x=!tE(hu(d.tileScale),T)||x}return(g||y)&&(y!==d.texture&&(x=!0),c.texture=vi("Sprite",t,p)),x},a},S5=["image","texture"],A5=function(t,e){var r=vi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Nn.TRIANGLES:o,c=new wD(r,n,i,s,a);return c.applyProps=function(d,p,h){var f=h.image,g=h.texture,y=_i(d,p,Ks(h,S5));return(f||g)&&(g!==p.texture&&(y=!0),d.texture=vi("Mesh",t,h)),y},c},C5=["image","texture"],P5=function(t,e){var r=vi("SimpleRope",t,e),n=e.points,i=new bD(r,n);return i.applyProps=function(s,o,a){var c=a.image,d=a.texture,p=Ks(a,C5);wt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var h=_i(s,o,p);return(c||d)&&(d!==o.texture&&(h=!0),s.texture=vi("SimpleRope",t,a)),h},i},I5=Object.freeze({__proto__:null,BitmapText:h5,Container:d5,Graphics:p5,NineSlicePlane:g5,ParticleContainer:y5,Sprite:_5,Text:b5,TilingSprite:T5,SimpleMesh:A5,SimpleRope:P5,AnimatedSprite:w5});function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Fr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},R5=Object.keys(Fr).reduce(function(t,e){return iE(iE({},t),{},Et({},e,I5[e]))},{}),sP={};function k5(t,e){return wt(!!t,"Expect type to be defined, got `%s`",t),wt(!Fr[t],"Component `%s` could not be created, already exists in default components.",t),sP[t]=e,t}var sE,oE,aE,lE,Fy={},By={},M5={get exports(){return By},set exports(t){By=t}},uE={};function N5(){return oE||(oE=1,M5.exports=(sE||(sE=1,function(t){function e(N,W){var F=N.length;N.push(W);e:for(;0<F;){var $=F-1>>>1,ee=N[$];if(!(0<i(ee,W)))break e;N[$]=W,N[F]=ee,F=$}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],F=N.pop();if(F!==W){N[0]=F;e:for(var $=0,ee=N.length,Ie=ee>>>1;$<Ie;){var Ae=2*($+1)-1,Ge=N[Ae],Me=Ae+1,Ve=N[Me];if(0>i(Ge,F))Me<ee&&0>i(Ve,Ge)?(N[$]=Ve,N[Me]=F,$=Me):(N[$]=Ge,N[Ae]=F,$=Ae);else{if(!(Me<ee&&0>i(Ve,F)))break e;N[$]=Ve,N[Me]=F,$=Me}}}return W}function i(N,W){var F=N.sortIndex-W.sortIndex;return F!==0?F:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,g=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(N){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else{if(!(W.startTime<=N))break;n(d),W.sortIndex=W.expirationTime,e(c,W)}W=r(d)}}function A(N){if(x=!1,T(N),!y)if(r(c)!==null)y=!0,Z(I);else{var W=r(d);W!==null&&ce(A,W.startTime-N)}}function I(N,W){y=!1,x&&(x=!1,_(U),U=-1),g=!0;var F=f;try{for(T(W),h=r(c);h!==null&&(!(h.expirationTime>W)||N&&!X());){var $=h.callback;if(typeof $=="function"){h.callback=null,f=h.priorityLevel;var ee=$(h.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),T(W)}else n(c);h=r(c)}if(h!==null)var Ie=!0;else{var Ae=r(d);Ae!==null&&ce(A,Ae.startTime-W),Ie=!1}return Ie}finally{h=null,f=F,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,M=!1,R=null,U=-1,G=5,Q=-1;function X(){return!(t.unstable_now()-Q<G)}function D(){if(R!==null){var N=t.unstable_now();Q=N;var W=!0;try{W=R(!0,N)}finally{W?O():(M=!1,R=null)}}else M=!1}if(typeof E=="function")O=function(){E(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=D,O=function(){J.postMessage(null)}}else O=function(){b(D,0)};function Z(N){R=N,M||(M=!0,O())}function ce(N,W){U=b(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Z(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return N()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=f;f=N;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(N,W,F){var $=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?$+F:$,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return N={id:p++,callback:W,priorityLevel:N,startTime:F,expirationTime:ee=F+ee,sortIndex:-1},F>$?(N.sortIndex=F,e(d,N),r(c)===null&&N===r(d)&&(x?(_(U),U=-1):x=!0,ce(A,F-$))):(N.sortIndex=ee,e(c,N),y||g||(y=!0,Z(I))),N},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(N){var W=f;return function(){var F=f;f=W;try{return N.apply(this,arguments)}finally{f=F}}}}(uE)),uE)),By}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O5(){return lE||(lE=1,aE=function(t){var e={},r=Gi,n=N5(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),A=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:typeof(l=A&&l[A]||l["@@iterator"])=="function"?l:null}function O(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case b:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case f:return(l._context.displayName||"Context")+".Provider";case y:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case _:return(u=l.displayName||null)!==null?u:O(l.type)||"Memo";case E:u=l._payload,l=l._init;try{return O(l(u))}catch{}}return null}function M(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(u);case 8:return u===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function U(l){if(R(l)!==l)throw Error(s(188))}function G(l){var u=l.alternate;if(!u){if((u=R(l))===null)throw Error(s(188));return u!==l?null:l}for(var m=l,v=u;;){var w=m.return;if(w===null)break;var S=w.alternate;if(S===null){if((v=w.return)!==null){m=v;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===m)return U(w),l;if(S===v)return U(w),u;S=S.sibling}throw Error(s(188))}if(m.return!==v.return)m=w,v=S;else{for(var C=!1,k=w.child;k;){if(k===m){C=!0,m=w,v=S;break}if(k===v){C=!0,v=w,m=S;break}k=k.sibling}if(!C){for(k=S.child;k;){if(k===m){C=!0,m=S,v=w;break}if(k===v){C=!0,v=S,m=w;break}k=k.sibling}if(!C)throw Error(s(189))}}if(m.alternate!==v)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:u}function Q(l){return(l=G(l))!==null?X(l):null}function X(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=X(l);if(u!==null)return u;l=l.sibling}return null}function D(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=D(l);if(u!==null)return u}l=l.sibling}return null}var H,J=Array.isArray,Z=t.getPublicInstance,ce=t.getRootHostContext,N=t.getChildHostContext,W=t.prepareForCommit,F=t.resetAfterCommit,$=t.createInstance,ee=t.appendInitialChild,Ie=t.finalizeInitialChildren,Ae=t.prepareUpdate,Ge=t.shouldSetTextContent,Me=t.createTextInstance,Ve=t.scheduleTimeout,Gt=t.cancelTimeout,Zt=t.noTimeout,vt=t.isPrimaryRenderer,Ne=t.supportsMutation,rt=t.supportsPersistence,He=t.supportsHydration,Kr=t.getInstanceFromNode,Zr=t.preparePortalMount,Zs=t.getCurrentEventPriority,ap=t.detachDeletedInstance,Vo=t.supportsMicrotasks,yP=t.scheduleMicrotask,yl=t.supportsTestSelectors,vP=t.findFiberRoot,_P=t.getBoundingRect,xP=t.getTextContent,vl=t.isHiddenSubtree,wP=t.matchAccessibilityRole,bP=t.setFocusIfFocusable,EP=t.setupIntersectionObserver,TP=t.appendChild,SP=t.appendChildToContainer,AP=t.commitTextUpdate,CP=t.commitMount,PP=t.commitUpdate,IP=t.insertBefore,RP=t.insertInContainerBefore,kP=t.removeChild,MP=t.removeChildFromContainer,h_=t.resetTextContent,NP=t.hideInstance,OP=t.hideTextInstance,LP=t.unhideInstance,DP=t.unhideTextInstance,FP=t.clearContainer,BP=t.cloneInstance,d_=t.createContainerChildSet,f_=t.appendChildToContainerChildSet,UP=t.finalizeContainerChildren,lp=t.replaceContainerChildren,p_=t.cloneHiddenInstance,m_=t.cloneHiddenTextInstance,GP=t.canHydrateInstance,$P=t.canHydrateTextInstance,zP=t.canHydrateSuspenseInstance,g_=t.isSuspenseInstancePending,up=t.isSuspenseInstanceFallback,HP=t.getSuspenseInstanceFallbackErrorDetails,jP=t.registerSuspenseInstanceRetry,yc=t.getNextHydratableSibling,WP=t.getFirstHydratableChild,VP=t.getFirstHydratableChildWithinContainer,XP=t.getFirstHydratableChildWithinSuspenseInstance,YP=t.hydrateInstance,qP=t.hydrateTextInstance,QP=t.hydrateSuspenseInstance,KP=t.getNextHydratableInstanceAfterSuspenseInstance,ZP=t.commitHydratedContainer,JP=t.commitHydratedSuspenseInstance,eI=t.clearSuspenseBoundary,tI=t.clearSuspenseBoundaryFromContainer,rI=t.shouldDeleteUnhydratedTailInstances,nI=t.didNotMatchHydratedContainerTextInstance,iI=t.didNotMatchHydratedTextInstance;function _l(l){if(H===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);H=u&&u[1]||""}return`
`+H+l}var cp=!1;function hp(l,u){if(!l||cp)return"";cp=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var v=j}Reflect.construct(l,[],u)}else{try{u.call()}catch(j){v=j}l.call(u.prototype)}else{try{throw Error()}catch(j){v=j}l()}}catch(j){if(j&&v&&typeof j.stack=="string"){for(var w=j.stack.split(`
`),S=v.stack.split(`
`),C=w.length-1,k=S.length-1;1<=C&&0<=k&&w[C]!==S[k];)k--;for(;1<=C&&0<=k;C--,k--)if(w[C]!==S[k]){if(C!==1||k!==1)do if(C--,0>--k||w[C]!==S[k]){var B=`
`+w[C].replace(" at new "," at ");return l.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",l.displayName)),B}while(1<=C&&0<=k);break}}}finally{cp=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?_l(l):""}var sI=Object.prototype.hasOwnProperty,dp=[],Xo=-1;function Zi(l){return{current:l}}function at(l){0>Xo||(l.current=dp[Xo],dp[Xo]=null,Xo--)}function Je(l,u){Xo++,dp[Xo]=l.current,l.current=u}var Ji={},or=Zi(Ji),Sr=Zi(!1),Js=Ji;function Yo(l,u){var m=l.type.contextTypes;if(!m)return Ji;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var w,S={};for(w in m)S[w]=u[w];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function Br(l){return(l=l.childContextTypes)!=null}function fp(){at(Sr),at(or)}function y_(l,u,m){if(or.current!==Ji)throw Error(s(168));Je(or,u),Je(Sr,m)}function v_(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var w in v=v.getChildContext())if(!(w in u))throw Error(s(108,M(l)||"Unknown",w));return i({},m,v)}function vc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ji,Js=or.current,Je(or,l),Je(Sr,Sr.current),!0}function __(l,u,m){var v=l.stateNode;if(!v)throw Error(s(169));m?(l=v_(l,u,Js),v.__reactInternalMemoizedMergedChildContext=l,at(Sr),at(or),Je(or,l)):at(Sr),Je(Sr,m)}var yn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(oI(l)/aI|0)|0},oI=Math.log,aI=Math.LN2,pp=64,mp=4194304;function xl(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function _c(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,w=l.suspendedLanes,S=l.pingedLanes,C=268435455&m;if(C!==0){var k=C&~w;k!==0?v=xl(k):(S&=C)!==0&&(v=xl(S))}else(C=m&~w)!==0?v=xl(C):S!==0&&(v=xl(S));if(v===0)return 0;if(u!==0&&u!==v&&!(u&w)&&((w=v&-v)>=(S=u&-u)||w===16&&4194240&S))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)w=1<<(m=31-yn(u)),v|=l[m],u&=~w;return v}function lI(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function gp(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function x_(){var l=pp;return!(4194240&(pp<<=1))&&(pp=64),l}function yp(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function wl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-yn(u)]=m}function vp(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-yn(m),w=1<<v;w&u|l[v]&u&&(l[v]|=u),m&=~w}}var je=0;function w_(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var _p=n.unstable_scheduleCallback,b_=n.unstable_cancelCallback,uI=n.unstable_shouldYield,cI=n.unstable_requestPaint,$t=n.unstable_now,xp=n.unstable_ImmediatePriority,hI=n.unstable_UserBlockingPriority,E_=n.unstable_NormalPriority,dI=n.unstable_IdlePriority,xc=null,jn=null,vn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},bi=null,wc=!1,wp=!1;function T_(l){bi===null?bi=[l]:bi.push(l)}function Wn(){if(!wp&&bi!==null){wp=!0;var l=0,u=je;try{var m=bi;for(je=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}bi=null,wc=!1}catch(w){throw bi!==null&&(bi=bi.slice(l+1)),_p(xp,Wn),w}finally{je=u,wp=!1}}return null}var qo=[],Qo=0,bc=null,Ec=0,Jr=[],en=0,eo=null,Vn=1,Ei="";function to(l,u){qo[Qo++]=Ec,qo[Qo++]=bc,bc=l,Ec=u}function S_(l,u,m){Jr[en++]=Vn,Jr[en++]=Ei,Jr[en++]=eo,eo=l;var v=Vn;l=Ei;var w=32-yn(v)-1;v&=~(1<<w),m+=1;var S=32-yn(u)+w;if(30<S){var C=w-w%5;S=(v&(1<<C)-1).toString(32),v>>=C,w-=C,Vn=1<<32-yn(u)+w|m<<w|v,Ei=S+l}else Vn=1<<S|m<<w|v,Ei=l}function bp(l){l.return!==null&&(to(l,1),S_(l,1,0))}function Ep(l){for(;l===bc;)bc=qo[--Qo],qo[Qo]=null,Ec=qo[--Qo],qo[Qo]=null;for(;l===eo;)eo=Jr[--en],Jr[en]=null,Ei=Jr[--en],Jr[en]=null,Vn=Jr[--en],Jr[en]=null}var Ur=null,tn=null,lt=!1,bl=!1,_n=null;function A_(l,u){var m=an(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function C_(l,u){switch(l.tag){case 5:return(u=GP(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Ur=l,tn=WP(u),!0);case 6:return(u=$P(u,l.pendingProps))!==null&&(l.stateNode=u,Ur=l,tn=null,!0);case 13:if((u=zP(u))!==null){var m=eo!==null?{id:Vn,overflow:Ei}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=an(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Ur=l,tn=null,!0}return!1;default:return!1}}function Tp(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Sp(l){if(lt){var u=tn;if(u){var m=u;if(!C_(l,u)){if(Tp(l))throw Error(s(418));u=yc(m);var v=Ur;u&&C_(l,u)?A_(v,m):(l.flags=-4097&l.flags|2,lt=!1,Ur=l)}}else{if(Tp(l))throw Error(s(418));l.flags=-4097&l.flags|2,lt=!1,Ur=l}}}function P_(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ur=l}function Tc(l){if(!He||l!==Ur)return!1;if(!lt)return P_(l),lt=!0,!1;if(l.tag!==3&&(l.tag!==5||rI(l.type)&&!Ge(l.type,l.memoizedProps))){var u=tn;if(u){if(Tp(l))throw I_(),Error(s(418));for(;u;)A_(l,u),u=yc(u)}}if(P_(l),l.tag===13){if(!He)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));tn=KP(l)}else tn=Ur?yc(l.stateNode):null;return!0}function I_(){for(var l=tn;l;)l=yc(l)}function Ko(){He&&(tn=Ur=null,bl=lt=!1)}function Ap(l){_n===null?_n=[l]:_n.push(l)}var fI=o.ReactCurrentBatchConfig;function Sc(l,u){if(vn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var w=m[v];if(!sI.call(u,w)||!vn(l[w],u[w]))return!1}return!0}function pI(l){switch(l.tag){case 5:return _l(l.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return l=hp(l.type,!1);case 11:return l=hp(l.type.render,!1);case 1:return l=hp(l.type,!0);default:return""}}function xn(l,u){if(l&&l.defaultProps){for(var m in u=i({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var Ac=Zi(null),Cc=null,Zo=null,Cp=null;function Pp(){Cp=Zo=Cc=null}function R_(l,u,m){vt?(Je(Ac,u._currentValue),u._currentValue=m):(Je(Ac,u._currentValue2),u._currentValue2=m)}function Ip(l){var u=Ac.current;at(Ac),vt?l._currentValue=u:l._currentValue2=u}function Rp(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function Jo(l,u){Cc=l,Cp=Zo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Ar=!0),l.firstContext=null)}function rn(l){var u=vt?l._currentValue:l._currentValue2;if(Cp!==l)if(l={context:l,memoizedValue:u,next:null},Zo===null){if(Cc===null)throw Error(s(308));Zo=l,Cc.dependencies={lanes:0,firstContext:l}}else Zo=Zo.next=l;return u}var ro=null;function kp(l){ro===null?ro=[l]:ro.push(l)}function k_(l,u,m,v){var w=u.interleaved;return w===null?(m.next=m,kp(u)):(m.next=w.next,w.next=m),u.interleaved=m,Xn(l,v)}function Xn(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var es=!1;function Mp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ti(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ts(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&Ue)!=0){var w=v.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),v.pending=u,Xn(l,m)}return(w=v.interleaved)===null?(u.next=u,kp(v)):(u.next=w.next,w.next=u),v.interleaved=u,Xn(l,m)}function Pc(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,vp(l,m)}}function N_(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var w=null,S=null;if((m=m.firstBaseUpdate)!==null){do{var C={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};S===null?w=S=C:S=S.next=C,m=m.next}while(m!==null);S===null?w=S=u:S=S.next=u}else w=S=u;return m={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Ic(l,u,m,v){var w=l.updateQueue;es=!1;var S=w.firstBaseUpdate,C=w.lastBaseUpdate,k=w.shared.pending;if(k!==null){w.shared.pending=null;var B=k,j=B.next;B.next=null,C===null?S=j:C.next=j,C=B;var Y=l.alternate;Y!==null&&(k=(Y=Y.updateQueue).lastBaseUpdate)!==C&&(k===null?Y.firstBaseUpdate=j:k.next=j,Y.lastBaseUpdate=B)}if(S!==null){var le=w.baseState;for(C=0,Y=j=B=null,k=S;;){var V=k.lane,ne=k.eventTime;if((v&V)===V){Y!==null&&(Y=Y.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ye=l,ke=k;switch(V=u,ne=m,ke.tag){case 1:if(typeof(ye=ke.payload)=="function"){le=ye.call(ne,le,V);break e}le=ye;break e;case 3:ye.flags=-65537&ye.flags|128;case 0:if((V=typeof(ye=ke.payload)=="function"?ye.call(ne,le,V):ye)==null)break e;le=i({},le,V);break e;case 2:es=!0}}k.callback!==null&&k.lane!==0&&(l.flags|=64,(V=w.effects)===null?w.effects=[k]:V.push(k))}else ne={eventTime:ne,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(j=Y=ne,B=le):Y=Y.next=ne,C|=V;if((k=k.next)===null){if((k=w.shared.pending)===null)break;k=(V=k).next,V.next=null,w.lastBaseUpdate=V,w.shared.pending=null}}if(Y===null&&(B=le),w.baseState=B,w.firstBaseUpdate=j,w.lastBaseUpdate=Y,(u=w.shared.interleaved)!==null){w=u;do C|=w.lane,w=w.next;while(w!==u)}else S===null&&(w.shared.lanes=0);io|=C,l.lanes=C,l.memoizedState=le}}function O_(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],w=v.callback;if(w!==null){if(v.callback=null,v=m,typeof w!="function")throw Error(s(191,w));w.call(v)}}}var L_=new r.Component().refs;function Np(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:i({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Rc={isMounted:function(l){return!!(l=l._reactInternals)&&R(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=ur(),w=ss(l),S=Ti(v,w);S.payload=u,m!=null&&(S.callback=m),(u=ts(l,S,w))!==null&&(on(u,l,w,v),Pc(u,l,w))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=ur(),w=ss(l),S=Ti(v,w);S.tag=1,S.payload=u,m!=null&&(S.callback=m),(u=ts(l,S,w))!==null&&(on(u,l,w,v),Pc(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ur(),v=ss(l),w=Ti(m,v);w.tag=2,u!=null&&(w.callback=u),(u=ts(l,w,v))!==null&&(on(u,l,v,m),Pc(u,l,v))}};function D_(l,u,m,v,w,S,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,S,C):!u.prototype||!u.prototype.isPureReactComponent||!Sc(m,v)||!Sc(w,S)}function F_(l,u,m){var v=!1,w=Ji,S=u.contextType;return typeof S=="object"&&S!==null?S=rn(S):(w=Br(u)?Js:or.current,S=(v=(v=u.contextTypes)!=null)?Yo(l,w):Ji),u=new u(m,S),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Rc,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=S),u}function B_(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Rc.enqueueReplaceState(u,u.state,null)}function Op(l,u,m,v){var w=l.stateNode;w.props=m,w.state=l.memoizedState,w.refs=L_,Mp(l);var S=u.contextType;typeof S=="object"&&S!==null?w.context=rn(S):(S=Br(u)?Js:or.current,w.context=Yo(l,S)),w.state=l.memoizedState,typeof(S=u.getDerivedStateFromProps)=="function"&&(Np(l,u,S,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Rc.enqueueReplaceState(w,w.state,null),Ic(l,m,w,v),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function El(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(s(309));var v=m.stateNode}if(!v)throw Error(s(147,l));var w=v,S=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(C){var k=w.refs;k===L_&&(k=w.refs={}),C===null?delete k[S]:k[S]=C},u._stringRef=S,u)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function kc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function U_(l){return(0,l._init)(l._payload)}function G_(l){function u(q,L){if(l){var z=q.deletions;z===null?(q.deletions=[L],q.flags|=16):z.push(L)}}function m(q,L){if(!l)return null;for(;L!==null;)u(q,L),L=L.sibling;return null}function v(q,L){for(q=new Map;L!==null;)L.key!==null?q.set(L.key,L):q.set(L.index,L),L=L.sibling;return q}function w(q,L){return(q=as(q,L)).index=0,q.sibling=null,q}function S(q,L,z){return q.index=z,l?(z=q.alternate)!==null?(z=z.index)<L?(q.flags|=2,L):z:(q.flags|=2,L):(q.flags|=1048576,L)}function C(q){return l&&q.alternate===null&&(q.flags|=2),q}function k(q,L,z,te){return L===null||L.tag!==6?((L=xm(z,q.mode,te)).return=q,L):((L=w(L,z)).return=q,L)}function B(q,L,z,te){var Ee=z.type;return Ee===d?Y(q,L,z.props.children,te,z.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===E&&U_(Ee)===L.type)?((te=w(L,z.props)).ref=El(q,L,z),te.return=q,te):((te=nh(z.type,z.key,z.props,null,q.mode,te)).ref=El(q,L,z),te.return=q,te)}function j(q,L,z,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?((L=wm(z,q.mode,te)).return=q,L):((L=w(L,z.children||[])).return=q,L)}function Y(q,L,z,te,Ee){return L===null||L.tag!==7?((L=ao(z,q.mode,te,Ee)).return=q,L):((L=w(L,z)).return=q,L)}function le(q,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return(L=xm(""+L,q.mode,z)).return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case a:return(z=nh(L.type,L.key,L.props,null,q.mode,z)).ref=El(q,null,L),z.return=q,z;case c:return(L=wm(L,q.mode,z)).return=q,L;case E:return le(q,(0,L._init)(L._payload),z)}if(J(L)||I(L))return(L=ao(L,q.mode,z,null)).return=q,L;kc(q,L)}return null}function V(q,L,z,te){var Ee=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return Ee!==null?null:k(q,L,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case a:return z.key===Ee?B(q,L,z,te):null;case c:return z.key===Ee?j(q,L,z,te):null;case E:return V(q,L,(Ee=z._init)(z._payload),te)}if(J(z)||I(z))return Ee!==null?null:Y(q,L,z,te,null);kc(q,z)}return null}function ne(q,L,z,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number")return k(L,q=q.get(z)||null,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case a:return B(L,q=q.get(te.key===null?z:te.key)||null,te,Ee);case c:return j(L,q=q.get(te.key===null?z:te.key)||null,te,Ee);case E:return ne(q,L,z,(0,te._init)(te._payload),Ee)}if(J(te)||I(te))return Y(L,q=q.get(z)||null,te,Ee,null);kc(L,te)}return null}function ye(q,L,z,te){for(var Ee=null,Xe=null,_e=L,We=L=0,er=null;_e!==null&&We<z.length;We++){_e.index>We?(er=_e,_e=null):er=_e.sibling;var Ye=V(q,_e,z[We],te);if(Ye===null){_e===null&&(_e=er);break}l&&_e&&Ye.alternate===null&&u(q,_e),L=S(Ye,L,We),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye,_e=er}if(We===z.length)return m(q,_e),lt&&to(q,We),Ee;if(_e===null){for(;We<z.length;We++)(_e=le(q,z[We],te))!==null&&(L=S(_e,L,We),Xe===null?Ee=_e:Xe.sibling=_e,Xe=_e);return lt&&to(q,We),Ee}for(_e=v(q,_e);We<z.length;We++)(er=ne(_e,q,We,z[We],te))!==null&&(l&&er.alternate!==null&&_e.delete(er.key===null?We:er.key),L=S(er,L,We),Xe===null?Ee=er:Xe.sibling=er,Xe=er);return l&&_e.forEach(function(ls){return u(q,ls)}),lt&&to(q,We),Ee}function ke(q,L,z,te){var Ee=I(z);if(typeof Ee!="function")throw Error(s(150));if((z=Ee.call(z))==null)throw Error(s(151));for(var Xe=Ee=null,_e=L,We=L=0,er=null,Ye=z.next();_e!==null&&!Ye.done;We++,Ye=z.next()){_e.index>We?(er=_e,_e=null):er=_e.sibling;var ls=V(q,_e,Ye.value,te);if(ls===null){_e===null&&(_e=er);break}l&&_e&&ls.alternate===null&&u(q,_e),L=S(ls,L,We),Xe===null?Ee=ls:Xe.sibling=ls,Xe=ls,_e=er}if(Ye.done)return m(q,_e),lt&&to(q,We),Ee;if(_e===null){for(;!Ye.done;We++,Ye=z.next())(Ye=le(q,Ye.value,te))!==null&&(L=S(Ye,L,We),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye);return lt&&to(q,We),Ee}for(_e=v(q,_e);!Ye.done;We++,Ye=z.next())(Ye=ne(_e,q,We,Ye.value,te))!==null&&(l&&Ye.alternate!==null&&_e.delete(Ye.key===null?We:Ye.key),L=S(Ye,L,We),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye);return l&&_e.forEach(function(BI){return u(q,BI)}),lt&&to(q,We),Ee}return function q(L,z,te,Ee){if(typeof te=="object"&&te!==null&&te.type===d&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case a:e:{for(var Xe=te.key,_e=z;_e!==null;){if(_e.key===Xe){if((Xe=te.type)===d){if(_e.tag===7){m(L,_e.sibling),(z=w(_e,te.props.children)).return=L,L=z;break e}}else if(_e.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===E&&U_(Xe)===_e.type){m(L,_e.sibling),(z=w(_e,te.props)).ref=El(L,_e,te),z.return=L,L=z;break e}m(L,_e);break}u(L,_e),_e=_e.sibling}te.type===d?((z=ao(te.props.children,L.mode,Ee,te.key)).return=L,L=z):((Ee=nh(te.type,te.key,te.props,null,L.mode,Ee)).ref=El(L,z,te),Ee.return=L,L=Ee)}return C(L);case c:e:{for(_e=te.key;z!==null;){if(z.key===_e){if(z.tag===4&&z.stateNode.containerInfo===te.containerInfo&&z.stateNode.implementation===te.implementation){m(L,z.sibling),(z=w(z,te.children||[])).return=L,L=z;break e}m(L,z);break}u(L,z),z=z.sibling}(z=wm(te,L.mode,Ee)).return=L,L=z}return C(L);case E:return q(L,z,(_e=te._init)(te._payload),Ee)}if(J(te))return ye(L,z,te,Ee);if(I(te))return ke(L,z,te,Ee);kc(L,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,z!==null&&z.tag===6?(m(L,z.sibling),(z=w(z,te)).return=L,L=z):(m(L,z),(z=xm(te,L.mode,Ee)).return=L,L=z),C(L)):m(L,z)}}var ea=G_(!0),$_=G_(!1),Tl={},nn=Zi(Tl),Sl=Zi(Tl),ta=Zi(Tl);function Yn(l){if(l===Tl)throw Error(s(174));return l}function Lp(l,u){Je(ta,u),Je(Sl,l),Je(nn,Tl),l=ce(u),at(nn),Je(nn,l)}function ra(){at(nn),at(Sl),at(ta)}function z_(l){var u=Yn(ta.current),m=Yn(nn.current);m!==(u=N(m,l.type,u))&&(Je(Sl,l),Je(nn,u))}function Dp(l){Sl.current===l&&(at(nn),at(Sl))}var _t=Zi(0);function Mc(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||g_(m)||up(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Fp=[];function Bp(){for(var l=0;l<Fp.length;l++){var u=Fp[l];vt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Fp.length=0}var Nc=o.ReactCurrentDispatcher,Up=o.ReactCurrentBatchConfig,no=0,dt=null,zt=null,Ht=null,Oc=!1,Al=!1,Cl=0,mI=0;function ar(){throw Error(s(321))}function Gp(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!vn(l[m],u[m]))return!1;return!0}function $p(l,u,m,v,w,S){if(no=S,dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Nc.current=l===null||l.memoizedState===null?_I:xI,l=m(v,w),Al){S=0;do{if(Al=!1,Cl=0,25<=S)throw Error(s(301));S+=1,Ht=zt=null,u.updateQueue=null,Nc.current=wI,l=m(v,w)}while(Al)}if(Nc.current=Fc,u=zt!==null&&zt.next!==null,no=0,Ht=zt=dt=null,Oc=!1,u)throw Error(s(300));return l}function zp(){var l=Cl!==0;return Cl=0,l}function qn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?dt.memoizedState=Ht=l:Ht=Ht.next=l,Ht}function sn(){if(zt===null){var l=dt.alternate;l=l!==null?l.memoizedState:null}else l=zt.next;var u=Ht===null?dt.memoizedState:Ht.next;if(u!==null)Ht=u,zt=l;else{if(l===null)throw Error(s(310));l={memoizedState:(zt=l).memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Ht===null?dt.memoizedState=Ht=l:Ht=Ht.next=l}return Ht}function Pl(l,u){return typeof u=="function"?u(l):u}function Hp(l){var u=sn(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=zt,w=v.baseQueue,S=m.pending;if(S!==null){if(w!==null){var C=w.next;w.next=S.next,S.next=C}v.baseQueue=w=S,m.pending=null}if(w!==null){S=w.next,v=v.baseState;var k=C=null,B=null,j=S;do{var Y=j.lane;if((no&Y)===Y)B!==null&&(B=B.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),v=j.hasEagerState?j.eagerState:l(v,j.action);else{var le={lane:Y,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};B===null?(k=B=le,C=v):B=B.next=le,dt.lanes|=Y,io|=Y}j=j.next}while(j!==null&&j!==S);B===null?C=v:B.next=k,vn(v,u.memoizedState)||(Ar=!0),u.memoizedState=v,u.baseState=C,u.baseQueue=B,m.lastRenderedState=v}if((l=m.interleaved)!==null){w=l;do S=w.lane,dt.lanes|=S,io|=S,w=w.next;while(w!==l)}else w===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function jp(l){var u=sn(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=m.dispatch,w=m.pending,S=u.memoizedState;if(w!==null){m.pending=null;var C=w=w.next;do S=l(S,C.action),C=C.next;while(C!==w);vn(S,u.memoizedState)||(Ar=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),m.lastRenderedState=S}return[S,v]}function H_(){}function j_(l,u){var m=dt,v=sn(),w=u(),S=!vn(v.memoizedState,w);if(S&&(v.memoizedState=w,Ar=!0),v=v.queue,Wp(X_.bind(null,m,v,l),[l]),v.getSnapshot!==u||S||Ht!==null&&1&Ht.memoizedState.tag){if(m.flags|=2048,Il(9,V_.bind(null,m,v,w,u),void 0,null),jt===null)throw Error(s(349));30&no||W_(m,u,w)}return w}function W_(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function V_(l,u,m,v){u.value=m,u.getSnapshot=v,Y_(u)&&q_(l)}function X_(l,u,m){return m(function(){Y_(u)&&q_(l)})}function Y_(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!vn(l,m)}catch{return!0}}function q_(l){var u=Xn(l,1);u!==null&&on(u,l,1,-1)}function Q_(l){var u=qn();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:l},u.queue=l,l=l.dispatch=vI.bind(null,dt,l),[u.memoizedState,l]}function Il(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function K_(){return sn().memoizedState}function Lc(l,u,m,v){var w=qn();dt.flags|=l,w.memoizedState=Il(1|u,m,void 0,v===void 0?null:v)}function Dc(l,u,m,v){var w=sn();v=v===void 0?null:v;var S=void 0;if(zt!==null){var C=zt.memoizedState;if(S=C.destroy,v!==null&&Gp(v,C.deps))return void(w.memoizedState=Il(u,m,S,v))}dt.flags|=l,w.memoizedState=Il(1|u,m,S,v)}function Z_(l,u){return Lc(8390656,8,l,u)}function Wp(l,u){return Dc(2048,8,l,u)}function J_(l,u){return Dc(4,2,l,u)}function e1(l,u){return Dc(4,4,l,u)}function t1(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function r1(l,u,m){return m=m!=null?m.concat([l]):null,Dc(4,4,t1.bind(null,u,l),m)}function Vp(){}function n1(l,u){var m=sn();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Gp(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function i1(l,u){var m=sn();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Gp(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function s1(l,u,m){return 21&no?(vn(m,u)||(m=x_(),dt.lanes|=m,io|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Ar=!0),l.memoizedState=m)}function gI(l,u){var m=je;je=m!==0&&4>m?m:4,l(!0);var v=Up.transition;Up.transition={};try{l(!1),u()}finally{je=m,Up.transition=v}}function o1(){return sn().memoizedState}function yI(l,u,m){var v=ss(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},a1(l)?l1(u,m):(m=k_(l,u,m,v))!==null&&(on(m,l,v,ur()),u1(m,u,v))}function vI(l,u,m){var v=ss(l),w={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(a1(l))l1(u,w);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,k=S(C,m);if(w.hasEagerState=!0,w.eagerState=k,vn(k,C)){var B=u.interleaved;return B===null?(w.next=w,kp(u)):(w.next=B.next,B.next=w),void(u.interleaved=w)}}catch{}(m=k_(l,u,w,v))!==null&&(on(m,l,v,w=ur()),u1(m,u,v))}}function a1(l){var u=l.alternate;return l===dt||u!==null&&u===dt}function l1(l,u){Al=Oc=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function u1(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,vp(l,m)}}var Fc={readContext:rn,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},_I={readContext:rn,useCallback:function(l,u){return qn().memoizedState=[l,u===void 0?null:u],l},useContext:rn,useEffect:Z_,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Lc(4194308,4,t1.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Lc(4194308,4,l,u)},useInsertionEffect:function(l,u){return Lc(4,2,l,u)},useMemo:function(l,u){var m=qn();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=qn();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=yI.bind(null,dt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},qn().memoizedState=l},useState:Q_,useDebugValue:Vp,useDeferredValue:function(l){return qn().memoizedState=l},useTransition:function(){var l=Q_(!1),u=l[0];return l=gI.bind(null,l[1]),qn().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=dt,w=qn();if(lt){if(m===void 0)throw Error(s(407));m=m()}else{if(m=u(),jt===null)throw Error(s(349));30&no||W_(v,u,m)}w.memoizedState=m;var S={value:m,getSnapshot:u};return w.queue=S,Z_(X_.bind(null,v,S,l),[l]),v.flags|=2048,Il(9,V_.bind(null,v,S,m,u),void 0,null),m},useId:function(){var l=qn(),u=jt.identifierPrefix;if(lt){var m=Ei;u=":"+u+"R"+(m=(Vn&~(1<<32-yn(Vn)-1)).toString(32)+m),0<(m=Cl++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=mI++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},xI={readContext:rn,useCallback:n1,useContext:rn,useEffect:Wp,useImperativeHandle:r1,useInsertionEffect:J_,useLayoutEffect:e1,useMemo:i1,useReducer:Hp,useRef:K_,useState:function(){return Hp(Pl)},useDebugValue:Vp,useDeferredValue:function(l){return s1(sn(),zt.memoizedState,l)},useTransition:function(){return[Hp(Pl)[0],sn().memoizedState]},useMutableSource:H_,useSyncExternalStore:j_,useId:o1,unstable_isNewReconciler:!1},wI={readContext:rn,useCallback:n1,useContext:rn,useEffect:Wp,useImperativeHandle:r1,useInsertionEffect:J_,useLayoutEffect:e1,useMemo:i1,useReducer:jp,useRef:K_,useState:function(){return jp(Pl)},useDebugValue:Vp,useDeferredValue:function(l){var u=sn();return zt===null?u.memoizedState=l:s1(u,zt.memoizedState,l)},useTransition:function(){return[jp(Pl)[0],sn().memoizedState]},useMutableSource:H_,useSyncExternalStore:j_,useId:o1,unstable_isNewReconciler:!1};function na(l,u){try{var m="",v=u;do m+=pI(v),v=v.return;while(v);var w=m}catch(S){w=`
Error generating stack: `+S.message+`
`+S.stack}return{value:l,source:u,stack:w,digest:null}}function Xp(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Yp(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var bI=typeof WeakMap=="function"?WeakMap:Map;function c1(l,u,m){(m=Ti(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Kc||(Kc=!0,fm=v),Yp(0,u)},m}function h1(l,u,m){(m=Ti(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var w=u.value;m.payload=function(){return v(w)},m.callback=function(){Yp(0,u)}}var S=l.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(m.callback=function(){Yp(0,u),typeof v!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),m}function d1(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new bI;var w=new Set;v.set(u,w)}else(w=v.get(u))===void 0&&(w=new Set,v.set(u,w));w.has(m)||(w.add(m),l=kI.bind(null,l,u,m),u.then(l,l))}function f1(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function p1(l,u,m,v,w){return 1&l.mode?(l.flags|=65536,l.lanes=w,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Ti(-1,1)).tag=2,ts(m,u,1))),m.lanes|=1),l)}var EI=o.ReactCurrentOwner,Ar=!1;function Cr(l,u,m,v){u.child=l===null?$_(u,null,m,v):ea(u,l.child,m,v)}function m1(l,u,m,v,w){m=m.render;var S=u.ref;return Jo(u,w),v=$p(l,u,m,v,S,w),m=zp(),l===null||Ar?(lt&&m&&bp(u),u.flags|=1,Cr(l,u,v,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,Si(l,u,w))}function g1(l,u,m,v,w){if(l===null){var S=m.type;return typeof S!="function"||_m(S)||S.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=nh(m.type,null,v,u,u.mode,w)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=S,y1(l,u,S,v,w))}if(S=l.child,(l.lanes&w)==0){var C=S.memoizedProps;if((m=(m=m.compare)!==null?m:Sc)(C,v)&&l.ref===u.ref)return Si(l,u,w)}return u.flags|=1,(l=as(S,v)).ref=u.ref,l.return=u,u.child=l}function y1(l,u,m,v,w){if(l!==null){var S=l.memoizedProps;if(Sc(S,v)&&l.ref===u.ref){if(Ar=!1,u.pendingProps=v=S,(l.lanes&w)==0)return u.lanes=l.lanes,Si(l,u,w);131072&l.flags&&(Ar=!0)}}return qp(l,u,m,v,w)}function v1(l,u,m){var v=u.pendingProps,w=v.children,S=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(sa,Gr),Gr|=m;else{if(!(1073741824&m))return l=S!==null?S.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Je(sa,Gr),Gr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=S!==null?S.baseLanes:m,Je(sa,Gr),Gr|=v}else S!==null?(v=S.baseLanes|m,u.memoizedState=null):v=m,Je(sa,Gr),Gr|=v;return Cr(l,u,w,m),u.child}function _1(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function qp(l,u,m,v,w){var S=Br(m)?Js:or.current;return S=Yo(u,S),Jo(u,w),m=$p(l,u,m,v,S,w),v=zp(),l===null||Ar?(lt&&v&&bp(u),u.flags|=1,Cr(l,u,m,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,Si(l,u,w))}function x1(l,u,m,v,w){if(Br(m)){var S=!0;vc(u)}else S=!1;if(Jo(u,w),u.stateNode===null)$c(l,u),F_(u,m,v),Op(u,m,v,w),v=!0;else if(l===null){var C=u.stateNode,k=u.memoizedProps;C.props=k;var B=C.context,j=m.contextType;typeof j=="object"&&j!==null?j=rn(j):j=Yo(u,j=Br(m)?Js:or.current);var Y=m.getDerivedStateFromProps,le=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function";le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==v||B!==j)&&B_(u,C,v,j),es=!1;var V=u.memoizedState;C.state=V,Ic(u,v,C,w),B=u.memoizedState,k!==v||V!==B||Sr.current||es?(typeof Y=="function"&&(Np(u,m,Y,v),B=u.memoizedState),(k=es||D_(u,m,k,v,V,B,j))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=B),C.props=v,C.state=B,C.context=j,v=k):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,M_(l,u),k=u.memoizedProps,j=u.type===u.elementType?k:xn(u.type,k),C.props=j,le=u.pendingProps,V=C.context,typeof(B=m.contextType)=="object"&&B!==null?B=rn(B):B=Yo(u,B=Br(m)?Js:or.current);var ne=m.getDerivedStateFromProps;(Y=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==le||V!==B)&&B_(u,C,v,B),es=!1,V=u.memoizedState,C.state=V,Ic(u,v,C,w);var ye=u.memoizedState;k!==le||V!==ye||Sr.current||es?(typeof ne=="function"&&(Np(u,m,ne,v),ye=u.memoizedState),(j=es||D_(u,m,j,v,V,ye,B)||!1)?(Y||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,ye,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,ye,B)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===l.memoizedProps&&V===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===l.memoizedProps&&V===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ye),C.props=v,C.state=ye,C.context=B,v=j):(typeof C.componentDidUpdate!="function"||k===l.memoizedProps&&V===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===l.memoizedProps&&V===l.memoizedState||(u.flags|=1024),v=!1)}return Qp(l,u,m,v,S,w)}function Qp(l,u,m,v,w,S){_1(l,u);var C=(128&u.flags)!=0;if(!v&&!C)return w&&__(u,m,!1),Si(l,u,S);v=u.stateNode,EI.current=u;var k=C&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&C?(u.child=ea(u,l.child,null,S),u.child=ea(u,null,k,S)):Cr(l,u,k,S),u.memoizedState=v.state,w&&__(u,m,!0),u.child}function w1(l){var u=l.stateNode;u.pendingContext?y_(0,u.pendingContext,u.pendingContext!==u.context):u.context&&y_(0,u.context,!1),Lp(l,u.containerInfo)}function b1(l,u,m,v,w){return Ko(),Ap(w),u.flags|=256,Cr(l,u,m,v),u.child}var Rl,kl,Bc,Uc,Kp={dehydrated:null,treeContext:null,retryLane:0};function Zp(l){return{baseLanes:l,cachePool:null,transitions:null}}function E1(l,u,m){var v,w=u.pendingProps,S=_t.current,C=!1,k=(128&u.flags)!=0;if((v=k)||(v=(l===null||l.memoizedState!==null)&&(2&S)!=0),v?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(S|=1),Je(_t,1&S),l===null)return Sp(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?up(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(k=w.children,l=w.fallback,C?(w=u.mode,C=u.child,k={mode:"hidden",children:k},!(1&w)&&C!==null?(C.childLanes=0,C.pendingProps=k):C=ih(k,w,0,null),l=ao(l,w,m,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=Zp(m),u.memoizedState=Kp,l):Jp(u,k));if((S=l.memoizedState)!==null&&(v=S.dehydrated)!==null)return function(j,Y,le,V,ne,ye,ke){if(le)return 256&Y.flags?(Y.flags&=-257,Gc(j,Y,ke,V=Xp(Error(s(422))))):Y.memoizedState!==null?(Y.child=j.child,Y.flags|=128,null):(ye=V.fallback,ne=Y.mode,V=ih({mode:"visible",children:V.children},ne,0,null),(ye=ao(ye,ne,ke,null)).flags|=2,V.return=Y,ye.return=Y,V.sibling=ye,Y.child=V,1&Y.mode&&ea(Y,j.child,null,ke),Y.child.memoizedState=Zp(ke),Y.memoizedState=Kp,ye);if(!(1&Y.mode))return Gc(j,Y,ke,null);if(up(ne))return V=HP(ne).digest,ye=Error(s(419)),V=Xp(ye,V,void 0),Gc(j,Y,ke,V);if(le=(ke&j.childLanes)!=0,Ar||le){if((V=jt)!==null){switch(ke&-ke){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}(ne=ne&(V.suspendedLanes|ke)?0:ne)!==0&&ne!==ye.retryLane&&(ye.retryLane=ne,Xn(j,ne),on(V,j,ne,-1))}return vm(),Gc(j,Y,ke,V=Xp(Error(s(421))))}return g_(ne)?(Y.flags|=128,Y.child=j.child,Y=MI.bind(null,j),jP(ne,Y),null):(j=ye.treeContext,He&&(tn=XP(ne),Ur=Y,lt=!0,_n=null,bl=!1,j!==null&&(Jr[en++]=Vn,Jr[en++]=Ei,Jr[en++]=eo,Vn=j.id,Ei=j.overflow,eo=Y)),Y=Jp(Y,V.children),Y.flags|=4096,Y)}(l,u,k,w,v,S,m);if(C){C=w.fallback,k=u.mode,v=(S=l.child).sibling;var B={mode:"hidden",children:w.children};return!(1&k)&&u.child!==S?((w=u.child).childLanes=0,w.pendingProps=B,u.deletions=null):(w=as(S,B)).subtreeFlags=14680064&S.subtreeFlags,v!==null?C=as(v,C):(C=ao(C,k,m,null)).flags|=2,C.return=u,w.return=u,w.sibling=C,u.child=w,w=C,C=u.child,k=(k=l.child.memoizedState)===null?Zp(m):{baseLanes:k.baseLanes|m,cachePool:null,transitions:k.transitions},C.memoizedState=k,C.childLanes=l.childLanes&~m,u.memoizedState=Kp,w}return l=(C=l.child).sibling,w=as(C,{mode:"visible",children:w.children}),!(1&u.mode)&&(w.lanes=m),w.return=u,w.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=w,u.memoizedState=null,w}function Jp(l,u){return(u=ih({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Gc(l,u,m,v){return v!==null&&Ap(v),ea(u,l.child,null,m),(l=Jp(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function T1(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Rp(l.return,u,m)}function em(l,u,m,v,w){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:w}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=v,S.tail=m,S.tailMode=w)}function S1(l,u,m){var v=u.pendingProps,w=v.revealOrder,S=v.tail;if(Cr(l,u,v.children,m),(2&(v=_t.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&T1(l,m,u);else if(l.tag===19)T1(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Je(_t,v),(1&u.mode)==0)u.memoizedState=null;else switch(w){case"forwards":for(m=u.child,w=null;m!==null;)(l=m.alternate)!==null&&Mc(l)===null&&(w=m),m=m.sibling;(m=w)===null?(w=u.child,u.child=null):(w=m.sibling,m.sibling=null),em(u,!1,w,m,S);break;case"backwards":for(m=null,w=u.child,u.child=null;w!==null;){if((l=w.alternate)!==null&&Mc(l)===null){u.child=w;break}l=w.sibling,w.sibling=m,m=w,w=l}em(u,!0,m,null,S);break;case"together":em(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function $c(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Si(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),io|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(m=as(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=as(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Qn(l){l.flags|=4}function A1(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Ne)Rl=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)ee(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},kl=function(){},Bc=function(l,u,m,v,w){if((l=l.memoizedProps)!==v){var S=u.stateNode,C=Yn(nn.current);m=Ae(S,m,l,v,w,C),(u.updateQueue=m)&&Qn(u)}},Uc=function(l,u,m,v){m!==v&&Qn(u)};else if(rt){Rl=function(l,u,m,v){for(var w=u.child;w!==null;){if(w.tag===5){var S=w.stateNode;m&&v&&(S=p_(S,w.type,w.memoizedProps,w)),ee(l,S)}else if(w.tag===6)S=w.stateNode,m&&v&&(S=m_(S,w.memoizedProps,w)),ee(l,S);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(S=w.child)!==null&&(S.return=w),Rl(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var C1=function(l,u,m,v){for(var w=u.child;w!==null;){if(w.tag===5){var S=w.stateNode;m&&v&&(S=p_(S,w.type,w.memoizedProps,w)),f_(l,S)}else if(w.tag===6)S=w.stateNode,m&&v&&(S=m_(S,w.memoizedProps,w)),f_(l,S);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(S=w.child)!==null&&(S.return=w),C1(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};kl=function(l,u){var m=u.stateNode;if(!A1(l,u)){l=m.containerInfo;var v=d_(l);C1(v,u,!1,!1),m.pendingChildren=v,Qn(u),UP(l,v)}},Bc=function(l,u,m,v,w){var S=l.stateNode,C=l.memoizedProps;if((l=A1(l,u))&&C===v)u.stateNode=S;else{var k=u.stateNode,B=Yn(nn.current),j=null;C!==v&&(j=Ae(k,m,C,v,w,B)),l&&j===null?u.stateNode=S:(S=BP(S,j,m,C,v,u,l,k),Ie(S,m,v,w,B)&&Qn(u),u.stateNode=S,l?Qn(u):Rl(S,u,!1,!1))}},Uc=function(l,u,m,v){m!==v?(l=Yn(ta.current),m=Yn(nn.current),u.stateNode=Me(v,l,m,u),Qn(u)):u.stateNode=l.stateNode}}else kl=function(){},Bc=function(){},Uc=function(){};function Ml(l,u){if(!lt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function yr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var w=l.child;w!==null;)m|=w.lanes|w.childLanes,v|=14680064&w.subtreeFlags,v|=14680064&w.flags,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)m|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function TI(l,u,m){var v=u.pendingProps;switch(Ep(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(u),null;case 1:case 17:return Br(u.type)&&fp(),yr(u),null;case 3:return m=u.stateNode,ra(),at(Sr),at(or),Bp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(Tc(u)?Qn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,_n!==null&&(gm(_n),_n=null))),kl(l,u),yr(u),null;case 5:Dp(u),m=Yn(ta.current);var w=u.type;if(l!==null&&u.stateNode!=null)Bc(l,u,w,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(s(166));return yr(u),null}if(l=Yn(nn.current),Tc(u)){if(!He)throw Error(s(175));l=YP(u.stateNode,u.type,u.memoizedProps,m,l,u,!bl),u.updateQueue=l,l!==null&&Qn(u)}else{var S=$(w,v,m,l,u);Rl(S,u,!1,!1),u.stateNode=S,Ie(S,w,v,m,l)&&Qn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return yr(u),null;case 6:if(l&&u.stateNode!=null)Uc(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(s(166));if(l=Yn(ta.current),m=Yn(nn.current),Tc(u)){if(!He)throw Error(s(176));if(l=u.stateNode,m=u.memoizedProps,(v=qP(l,m,u,!bl))&&(w=Ur)!==null)switch(w.tag){case 3:nI(w.stateNode.containerInfo,l,m,(1&w.mode)!=0);break;case 5:iI(w.type,w.memoizedProps,w.stateNode,l,m,(1&w.mode)!=0)}v&&Qn(u)}else u.stateNode=Me(v,l,m,u)}return yr(u),null;case 13:if(at(_t),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(lt&&tn!==null&&1&u.mode&&!(128&u.flags))I_(),Ko(),u.flags|=98560,w=!1;else if(w=Tc(u),v!==null&&v.dehydrated!==null){if(l===null){if(!w)throw Error(s(318));if(!He)throw Error(s(344));if(!(w=(w=u.memoizedState)!==null?w.dehydrated:null))throw Error(s(317));QP(w,u)}else Ko(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;yr(u),w=!1}else _n!==null&&(gm(_n),_n=null),w=!0;if(!w)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&_t.current?Nt===0&&(Nt=3):vm())),u.updateQueue!==null&&(u.flags|=4),yr(u),null);case 4:return ra(),kl(l,u),l===null&&Zr(u.stateNode.containerInfo),yr(u),null;case 10:return Ip(u.type._context),yr(u),null;case 19:if(at(_t),(w=u.memoizedState)===null)return yr(u),null;if(v=(128&u.flags)!=0,(S=w.rendering)===null)if(v)Ml(w,!1);else{if(Nt!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((S=Mc(l))!==null){for(u.flags|=128,Ml(w,!1),(l=S.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)w=l,(v=m).flags&=14680066,(S=v.alternate)===null?(v.childLanes=0,v.lanes=w,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,w=S.dependencies,v.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),m=m.sibling;return Je(_t,1&_t.current|2),u.child}l=l.sibling}w.tail!==null&&$t()>dm&&(u.flags|=128,v=!0,Ml(w,!1),u.lanes=4194304)}else{if(!v)if((l=Mc(S))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Ml(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!lt)return yr(u),null}else 2*$t()-w.renderingStartTime>dm&&m!==1073741824&&(u.flags|=128,v=!0,Ml(w,!1),u.lanes=4194304);w.isBackwards?(S.sibling=u.child,u.child=S):((l=w.last)!==null?l.sibling=S:u.child=S,w.last=S)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=$t(),u.sibling=null,l=_t.current,Je(_t,v?1&l|2:1&l),u):(yr(u),null);case 22:case 23:return ym(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&Gr&&(yr(u),Ne&&6&u.subtreeFlags&&(u.flags|=8192)):yr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function SI(l,u){switch(Ep(u),u.tag){case 1:return Br(u.type)&&fp(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return ra(),at(Sr),at(or),Bp(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Dp(u),null;case 13:if(at(_t),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Ko()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return at(_t),null;case 4:return ra(),null;case 10:return Ip(u.type._context),null;case 22:case 23:return ym(),null;default:return null}}var zc=!1,lr=!1,AI=typeof WeakSet=="function"?WeakSet:Set,me=null;function ia(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){ut(l,u,v)}else m.current=null}function P1(l,u,m){try{m()}catch(v){ut(l,u,v)}}var I1=!1;function Nl(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var w=v=v.next;do{if((w.tag&l)===l){var S=w.destroy;w.destroy=void 0,S!==void 0&&P1(u,m,S)}w=w.next}while(w!==v)}}function Hc(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function tm(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=Z(m):l=m,typeof u=="function"?u(l):u.current=l}}function R1(l){var u=l.alternate;u!==null&&(l.alternate=null,R1(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&ap(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function k1(l){return l.tag===5||l.tag===3||l.tag===4}function M1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||k1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function rm(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?RP(m,l,u):SP(m,l);else if(v!==4&&(l=l.child)!==null)for(rm(l,u,m),l=l.sibling;l!==null;)rm(l,u,m),l=l.sibling}function nm(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?IP(m,l,u):TP(m,l);else if(v!==4&&(l=l.child)!==null)for(nm(l,u,m),l=l.sibling;l!==null;)nm(l,u,m),l=l.sibling}var vr=null,Kn=!1;function Zn(l,u,m){for(m=m.child;m!==null;)im(l,u,m),m=m.sibling}function im(l,u,m){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(xc,m)}catch{}switch(m.tag){case 5:lr||ia(m,u);case 6:if(Ne){var v=vr,w=Kn;vr=null,Zn(l,u,m),Kn=w,(vr=v)!==null&&(Kn?MP(vr,m.stateNode):kP(vr,m.stateNode))}else Zn(l,u,m);break;case 18:Ne&&vr!==null&&(Kn?tI(vr,m.stateNode):eI(vr,m.stateNode));break;case 4:Ne?(v=vr,w=Kn,vr=m.stateNode.containerInfo,Kn=!0,Zn(l,u,m),vr=v,Kn=w):(rt&&(v=m.stateNode.containerInfo,w=d_(v),lp(v,w)),Zn(l,u,m));break;case 0:case 11:case 14:case 15:if(!lr&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){w=v=v.next;do{var S=w,C=S.destroy;S=S.tag,C!==void 0&&(2&S||4&S)&&P1(m,u,C),w=w.next}while(w!==v)}Zn(l,u,m);break;case 1:if(!lr&&(ia(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(k){ut(m,u,k)}Zn(l,u,m);break;case 21:Zn(l,u,m);break;case 22:1&m.mode?(lr=(v=lr)||m.memoizedState!==null,Zn(l,u,m),lr=v):Zn(l,u,m);break;default:Zn(l,u,m)}}function N1(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new AI),u.forEach(function(v){var w=NI.bind(null,l,v);m.has(v)||(m.add(v),v.then(w,w))})}}function wn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var w=m[v];try{var S=l,C=u;if(Ne){var k=C;e:for(;k!==null;){switch(k.tag){case 5:vr=k.stateNode,Kn=!1;break e;case 3:case 4:vr=k.stateNode.containerInfo,Kn=!0;break e}k=k.return}if(vr===null)throw Error(s(160));im(S,C,w),vr=null,Kn=!1}else im(S,C,w);var B=w.alternate;B!==null&&(B.return=null),w.return=null}catch(j){ut(w,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)O1(u,l),u=u.sibling}function O1(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(wn(u,l),Jn(l),4&v){try{Nl(3,l,l.return),Hc(3,l)}catch(V){ut(l,l.return,V)}try{Nl(5,l,l.return)}catch(V){ut(l,l.return,V)}}break;case 1:wn(u,l),Jn(l),512&v&&m!==null&&ia(m,m.return);break;case 5:if(wn(u,l),Jn(l),512&v&&m!==null&&ia(m,m.return),Ne){if(32&l.flags){var w=l.stateNode;try{h_(w)}catch(V){ut(l,l.return,V)}}if(4&v&&(w=l.stateNode)!=null){var S=l.memoizedProps;if(m=m!==null?m.memoizedProps:S,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{PP(w,u,v,m,S,l)}catch(V){ut(l,l.return,V)}}}break;case 6:if(wn(u,l),Jn(l),4&v&&Ne){if(l.stateNode===null)throw Error(s(162));w=l.stateNode,S=l.memoizedProps,m=m!==null?m.memoizedProps:S;try{AP(w,m,S)}catch(V){ut(l,l.return,V)}}break;case 3:if(wn(u,l),Jn(l),4&v){if(Ne&&He&&m!==null&&m.memoizedState.isDehydrated)try{ZP(u.containerInfo)}catch(V){ut(l,l.return,V)}if(rt){w=u.containerInfo,S=u.pendingChildren;try{lp(w,S)}catch(V){ut(l,l.return,V)}}}break;case 4:if(wn(u,l),Jn(l),4&v&&rt){w=(S=l.stateNode).containerInfo,S=S.pendingChildren;try{lp(w,S)}catch(V){ut(l,l.return,V)}}break;case 13:wn(u,l),Jn(l),8192&(w=l.child).flags&&(S=w.memoizedState!==null,w.stateNode.isHidden=S,!S||w.alternate!==null&&w.alternate.memoizedState!==null||(hm=$t())),4&v&&N1(l);break;case 22:var C=m!==null&&m.memoizedState!==null;if(1&l.mode?(lr=(m=lr)||C,wn(u,l),lr=m):wn(u,l),Jn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!C&&(1&l.mode)!=0)for(me=l,v=l.child;v!==null;){for(u=me=v;me!==null;){var k=(C=me).child;switch(C.tag){case 0:case 11:case 14:case 15:Nl(4,C,C.return);break;case 1:ia(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){var j=C,Y=C.return;try{var le=j;B.props=le.memoizedProps,B.state=le.memoizedState,B.componentWillUnmount()}catch(V){ut(j,Y,V)}}break;case 5:ia(C,C.return);break;case 22:if(C.memoizedState!==null){F1(u);continue}}k!==null?(k.return=C,me=k):F1(u)}v=v.sibling}if(Ne){e:if(v=null,Ne)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{w=u.stateNode,m?NP(w):LP(u.stateNode,u.memoizedProps)}catch(V){ut(l,l.return,V)}}}else if(u.tag===6){if(v===null)try{S=u.stateNode,m?OP(S):DP(S,u.memoizedProps)}catch(V){ut(l,l.return,V)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:wn(u,l),Jn(l),4&v&&N1(l);break;case 21:break;default:wn(u,l),Jn(l)}}function Jn(l){var u=l.flags;if(2&u){try{if(Ne){e:{for(var m=l.return;m!==null;){if(k1(m)){var v=m;break e}m=m.return}throw Error(s(160))}switch(v.tag){case 5:var w=v.stateNode;32&v.flags&&(h_(w),v.flags&=-33),nm(l,M1(l),w);break;case 3:case 4:var S=v.stateNode.containerInfo;rm(l,M1(l),S);break;default:throw Error(s(161))}}}catch(C){ut(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function CI(l,u,m){me=l,L1(l)}function L1(l,u,m){for(var v=(1&l.mode)!=0;me!==null;){var w=me,S=w.child;if(w.tag===22&&v){var C=w.memoizedState!==null||zc;if(!C){var k=w.alternate,B=k!==null&&k.memoizedState!==null||lr;k=zc;var j=lr;if(zc=C,(lr=B)&&!j)for(me=w;me!==null;)B=(C=me).child,C.tag===22&&C.memoizedState!==null?B1(w):B!==null?(B.return=C,me=B):B1(w);for(;S!==null;)me=S,L1(S),S=S.sibling;me=w,zc=k,lr=j}D1(l)}else 8772&w.subtreeFlags&&S!==null?(S.return=w,me=S):D1(l)}}function D1(l){for(;me!==null;){var u=me;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:lr||Hc(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!lr)if(m===null)v.componentDidMount();else{var w=u.elementType===u.type?m.memoizedProps:xn(u.type,m.memoizedProps);v.componentDidUpdate(w,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&O_(u,S,v);break;case 3:var C=u.updateQueue;if(C!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=Z(u.child.stateNode);break;case 1:m=u.child.stateNode}O_(u,C,m)}break;case 5:var k=u.stateNode;m===null&&4&u.flags&&CP(k,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(He&&u.memoizedState===null){var B=u.alternate;if(B!==null){var j=B.memoizedState;if(j!==null){var Y=j.dehydrated;Y!==null&&JP(Y)}}}break;default:throw Error(s(163))}lr||512&u.flags&&tm(u)}catch(le){ut(u,u.return,le)}}if(u===l){me=null;break}if((m=u.sibling)!==null){m.return=u.return,me=m;break}me=u.return}}function F1(l){for(;me!==null;){var u=me;if(u===l){me=null;break}var m=u.sibling;if(m!==null){m.return=u.return,me=m;break}me=u.return}}function B1(l){for(;me!==null;){var u=me;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Hc(4,u)}catch(B){ut(u,m,B)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var w=u.return;try{v.componentDidMount()}catch(B){ut(u,w,B)}}var S=u.return;try{tm(u)}catch(B){ut(u,S,B)}break;case 5:var C=u.return;try{tm(u)}catch(B){ut(u,C,B)}}}catch(B){ut(u,u.return,B)}if(u===l){me=null;break}var k=u.sibling;if(k!==null){k.return=u.return,me=k;break}me=u.return}}var jc=0,Wc=1,Vc=2,Xc=3,Yc=4;if(typeof Symbol=="function"&&Symbol.for){var Ol=Symbol.for;jc=Ol("selector.component"),Wc=Ol("selector.has_pseudo_class"),Vc=Ol("selector.role"),Xc=Ol("selector.test_id"),Yc=Ol("selector.text")}function sm(l){var u=Kr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=vP(l))===null)throw Error(s(362));return l.stateNode.current}function om(l,u){switch(u.$$typeof){case jc:if(l.type===u.value)return!0;break;case Wc:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],w=l[m++],S=u[w];if(v.tag!==5||!vl(v)){for(;S!=null&&om(v,S);)S=u[++w];if(w===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,w),v=v.sibling}}u=!1}return u;case Vc:if(l.tag===5&&wP(l.stateNode,u.value))return!0;break;case Yc:if((l.tag===5||l.tag===6)&&(l=xP(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Xc:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function am(l){switch(l.$$typeof){case jc:return"<"+(O(l.value)||"Unknown")+">";case Wc:return":has("+(am(l)||"")+")";case Vc:return'[role="'+l.value+'"]';case Yc:return'"'+l.value+'"';case Xc:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function U1(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var w=l[v++],S=l[v++],C=u[S];if(w.tag!==5||!vl(w)){for(;C!=null&&om(w,C);)C=u[++S];if(S===u.length)m.push(w);else for(w=w.child;w!==null;)l.push(w,S),w=w.sibling}}return m}function lm(l,u){if(!yl)throw Error(s(363));l=U1(l=sm(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)vl(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var PI=Math.ceil,qc=o.ReactCurrentDispatcher,um=o.ReactCurrentOwner,bt=o.ReactCurrentBatchConfig,Ue=0,jt=null,It=null,Jt=0,Gr=0,sa=Zi(0),Nt=0,Ll=null,io=0,Qc=0,cm=0,Dl=null,$r=null,hm=0,dm=1/0,rs=null;function oa(){dm=$t()+500}var G1,Kc=!1,fm=null,ns=null,Zc=!1,is=null,Jc=0,Fl=0,pm=null,eh=-1,th=0;function ur(){return 6&Ue?$t():eh!==-1?eh:eh=$t()}function ss(l){return 1&l.mode?2&Ue&&Jt!==0?Jt&-Jt:fI.transition!==null?(th===0&&(th=x_()),th):(l=je)!==0?l:Zs():1}function on(l,u,m,v){if(50<Fl)throw Fl=0,pm=null,Error(s(185));wl(l,m,v),2&Ue&&l===jt||(l===jt&&(!(2&Ue)&&(Qc|=m),Nt===4&&os(l,Jt)),Pr(l,v),m===1&&Ue===0&&!(1&u.mode)&&(oa(),wc&&Wn()))}function Pr(l,u){var m=l.callbackNode;(function(w,S){for(var C=w.suspendedLanes,k=w.pingedLanes,B=w.expirationTimes,j=w.pendingLanes;0<j;){var Y=31-yn(j),le=1<<Y,V=B[Y];V===-1?le&C&&!(le&k)||(B[Y]=lI(le,S)):V<=S&&(w.expiredLanes|=le),j&=~le}})(l,u);var v=_c(l,l===jt?Jt:0);if(v===0)m!==null&&b_(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&b_(m),u===1)l.tag===0?function(w){wc=!0,T_(w)}(z1.bind(null,l)):T_(z1.bind(null,l)),Vo?yP(function(){!(6&Ue)&&Wn()}):_p(xp,Wn),m=null;else{switch(w_(v)){case 1:m=xp;break;case 4:m=hI;break;case 16:default:m=E_;break;case 536870912:m=dI}m=Q1(m,$1.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function $1(l,u){if(eh=-1,th=0,(6&Ue)!=0)throw Error(s(327));var m=l.callbackNode;if(oo()&&l.callbackNode!==m)return null;var v=_c(l,l===jt?Jt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=rh(l,v);else{u=v;var w=Ue;Ue|=2;var S=W1();for(jt===l&&Jt===u||(rs=null,oa(),so(l,u));;)try{RI();break}catch(k){j1(l,k)}Pp(),qc.current=S,Ue=w,It!==null?u=0:(jt=null,Jt=0,u=Nt)}if(u!==0){if(u===2&&(w=gp(l))!==0&&(v=w,u=mm(l,w)),u===1)throw m=Ll,so(l,0),os(l,v),Pr(l,$t()),m;if(u===6)os(l,v);else{if(w=l.current.alternate,(30&v)==0&&!function(k){for(var B=k;;){if(16384&B.flags){var j=B.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var Y=0;Y<j.length;Y++){var le=j[Y],V=le.getSnapshot;le=le.value;try{if(!vn(V(),le))return!1}catch{return!1}}}if(j=B.child,16384&B.subtreeFlags&&j!==null)j.return=B,B=j;else{if(B===k)break;for(;B.sibling===null;){if(B.return===null||B.return===k)return!0;B=B.return}B.sibling.return=B.return,B=B.sibling}}return!0}(w)&&((u=rh(l,v))===2&&(S=gp(l))!==0&&(v=S,u=mm(l,S)),u===1))throw m=Ll,so(l,0),os(l,v),Pr(l,$t()),m;switch(l.finishedWork=w,l.finishedLanes=v,u){case 0:case 1:throw Error(s(345));case 2:case 5:aa(l,$r,rs);break;case 3:if(os(l,v),(130023424&v)===v&&10<(u=hm+500-$t())){if(_c(l,0)!==0)break;if(((w=l.suspendedLanes)&v)!==v){ur(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=Ve(aa.bind(null,l,$r,rs),u);break}aa(l,$r,rs);break;case 4:if(os(l,v),(4194240&v)===v)break;for(u=l.eventTimes,w=-1;0<v;){var C=31-yn(v);S=1<<C,(C=u[C])>w&&(w=C),v&=~S}if(v=w,10<(v=(120>(v=$t()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*PI(v/1960))-v)){l.timeoutHandle=Ve(aa.bind(null,l,$r,rs),v);break}aa(l,$r,rs);break;default:throw Error(s(329))}}}return Pr(l,$t()),l.callbackNode===m?$1.bind(null,l):null}function mm(l,u){var m=Dl;return l.current.memoizedState.isDehydrated&&(so(l,u).flags|=256),(l=rh(l,u))!==2&&(u=$r,$r=m,u!==null&&gm(u)),l}function gm(l){$r===null?$r=l:$r.push.apply($r,l)}function os(l,u){for(u&=~cm,u&=~Qc,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-yn(u),v=1<<m;l[m]=-1,u&=~v}}function z1(l){if(6&Ue)throw Error(s(327));oo();var u=_c(l,0);if(!(1&u))return Pr(l,$t()),null;var m=rh(l,u);if(l.tag!==0&&m===2){var v=gp(l);v!==0&&(u=v,m=mm(l,v))}if(m===1)throw m=Ll,so(l,0),os(l,u),Pr(l,$t()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,aa(l,$r,rs),Pr(l,$t()),null}function H1(l){is!==null&&is.tag===0&&!(6&Ue)&&oo();var u=Ue;Ue|=1;var m=bt.transition,v=je;try{if(bt.transition=null,je=1,l)return l()}finally{je=v,bt.transition=m,!(6&(Ue=u))&&Wn()}}function ym(){Gr=sa.current,at(sa)}function so(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Zt&&(l.timeoutHandle=Zt,Gt(m)),It!==null)for(m=It.return;m!==null;){var v=m;switch(Ep(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&fp();break;case 3:ra(),at(Sr),at(or),Bp();break;case 5:Dp(v);break;case 4:ra();break;case 13:case 19:at(_t);break;case 10:Ip(v.type._context);break;case 22:case 23:ym()}m=m.return}if(jt=l,It=l=as(l.current,null),Jt=Gr=u,Nt=0,Ll=null,cm=Qc=io=0,$r=Dl=null,ro!==null){for(u=0;u<ro.length;u++)if((v=(m=ro[u]).interleaved)!==null){m.interleaved=null;var w=v.next,S=m.pending;if(S!==null){var C=S.next;S.next=w,v.next=C}m.pending=v}ro=null}return l}function j1(l,u){for(;;){var m=It;try{if(Pp(),Nc.current=Fc,Oc){for(var v=dt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}Oc=!1}if(no=0,Ht=zt=dt=null,Al=!1,Cl=0,um.current=null,m===null||m.return===null){Nt=1,Ll=u,It=null;break}e:{var S=l,C=m.return,k=m,B=u;if(u=Jt,k.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var j=B,Y=k,le=Y.tag;if(!(1&Y.mode)&&(le===0||le===11||le===15)){var V=Y.alternate;V?(Y.updateQueue=V.updateQueue,Y.memoizedState=V.memoizedState,Y.lanes=V.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ne=f1(C);if(ne!==null){ne.flags&=-257,p1(ne,C,k,0,u),1&ne.mode&&d1(S,j,u),B=j;var ye=(u=ne).updateQueue;if(ye===null){var ke=new Set;ke.add(B),u.updateQueue=ke}else ye.add(B);break e}if(!(1&u)){d1(S,j,u),vm();break e}B=Error(s(426))}else if(lt&&1&k.mode){var q=f1(C);if(q!==null){!(65536&q.flags)&&(q.flags|=256),p1(q,C,k,0,u),Ap(na(B,k));break e}}S=B=na(B,k),Nt!==4&&(Nt=2),Dl===null?Dl=[S]:Dl.push(S),S=C;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u,N_(S,c1(0,B,u));break e;case 1:k=B;var L=S.type,z=S.stateNode;if(!(128&S.flags)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ns===null||!ns.has(z)))){S.flags|=65536,u&=-u,S.lanes|=u,N_(S,h1(S,k,u));break e}}S=S.return}while(S!==null)}X1(m)}catch(te){u=te,It===m&&m!==null&&(It=m=m.return);continue}break}}function W1(){var l=qc.current;return qc.current=Fc,l===null?Fc:l}function vm(){Nt!==0&&Nt!==3&&Nt!==2||(Nt=4),jt===null||!(268435455&io)&&!(268435455&Qc)||os(jt,Jt)}function rh(l,u){var m=Ue;Ue|=2;var v=W1();for(jt===l&&Jt===u||(rs=null,so(l,u));;)try{II();break}catch(w){j1(l,w)}if(Pp(),Ue=m,qc.current=v,It!==null)throw Error(s(261));return jt=null,Jt=0,Nt}function II(){for(;It!==null;)V1(It)}function RI(){for(;It!==null&&!uI();)V1(It)}function V1(l){var u=G1(l.alternate,l,Gr);l.memoizedProps=l.pendingProps,u===null?X1(l):It=u,um.current=null}function X1(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=TI(m,u,Gr))!==null)return void(It=m)}else{if((m=SI(m,u))!==null)return m.flags&=32767,void(It=m);if(l===null)return Nt=6,void(It=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(It=u);It=u=l}while(u!==null);Nt===0&&(Nt=5)}function aa(l,u,m){var v=je,w=bt.transition;try{bt.transition=null,je=1,function(S,C,k,B){do oo();while(is!==null);if(6&Ue)throw Error(s(327));k=S.finishedWork;var j=S.finishedLanes;if(k===null)return null;if(S.finishedWork=null,S.finishedLanes=0,k===S.current)throw Error(s(177));S.callbackNode=null,S.callbackPriority=0;var Y=k.lanes|k.childLanes;if(function(ne,ye){var ke=ne.pendingLanes&~ye;ne.pendingLanes=ye,ne.suspendedLanes=0,ne.pingedLanes=0,ne.expiredLanes&=ye,ne.mutableReadLanes&=ye,ne.entangledLanes&=ye,ye=ne.entanglements;var q=ne.eventTimes;for(ne=ne.expirationTimes;0<ke;){var L=31-yn(ke),z=1<<L;ye[L]=0,q[L]=-1,ne[L]=-1,ke&=~z}}(S,Y),S===jt&&(It=jt=null,Jt=0),!(2064&k.subtreeFlags)&&!(2064&k.flags)||Zc||(Zc=!0,Q1(E_,function(){return oo(),null})),Y=(15990&k.flags)!=0,(15990&k.subtreeFlags)!=0||Y){Y=bt.transition,bt.transition=null;var le=je;je=1;var V=Ue;Ue|=4,um.current=null,function(ne,ye){for(W(ne.containerInfo),me=ye;me!==null;)if(ye=(ne=me).child,(1028&ne.subtreeFlags)!=0&&ye!==null)ye.return=ne,me=ye;else for(;me!==null;){ne=me;try{var ke=ne.alternate;if(1024&ne.flags)switch(ne.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ke!==null){var q=ke.memoizedProps,L=ke.memoizedState,z=ne.stateNode,te=z.getSnapshotBeforeUpdate(ne.elementType===ne.type?q:xn(ne.type,q),L);z.__reactInternalSnapshotBeforeUpdate=te}break;case 3:Ne&&FP(ne.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ee){ut(ne,ne.return,Ee)}if((ye=ne.sibling)!==null){ye.return=ne.return,me=ye;break}me=ne.return}ke=I1,I1=!1}(S,k),O1(k,S),F(S.containerInfo),S.current=k,CI(k),cI(),Ue=V,je=le,bt.transition=Y}else S.current=k;if(Zc&&(Zc=!1,is=S,Jc=j),Y=S.pendingLanes,Y===0&&(ns=null),function(ne){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(xc,ne,void 0,(128&ne.current.flags)==128)}catch{}}(k.stateNode),Pr(S,$t()),C!==null)for(B=S.onRecoverableError,k=0;k<C.length;k++)j=C[k],B(j.value,{componentStack:j.stack,digest:j.digest});if(Kc)throw Kc=!1,S=fm,fm=null,S;1&Jc&&S.tag!==0&&oo(),Y=S.pendingLanes,1&Y?S===pm?Fl++:(Fl=0,pm=S):Fl=0,Wn()}(l,u,m,v)}finally{bt.transition=w,je=v}return null}function oo(){if(is!==null){var l=w_(Jc),u=bt.transition,m=je;try{if(bt.transition=null,je=16>l?16:l,is===null)var v=!1;else{if(l=is,is=null,Jc=0,(6&Ue)!=0)throw Error(s(331));var w=Ue;for(Ue|=4,me=l.current;me!==null;){var S=me,C=S.child;if(16&me.flags){var k=S.deletions;if(k!==null){for(var B=0;B<k.length;B++){var j=k[B];for(me=j;me!==null;){var Y=me;switch(Y.tag){case 0:case 11:case 15:Nl(8,Y,S)}var le=Y.child;if(le!==null)le.return=Y,me=le;else for(;me!==null;){var V=(Y=me).sibling,ne=Y.return;if(R1(Y),Y===j){me=null;break}if(V!==null){V.return=ne,me=V;break}me=ne}}}var ye=S.alternate;if(ye!==null){var ke=ye.child;if(ke!==null){ye.child=null;do{var q=ke.sibling;ke.sibling=null,ke=q}while(ke!==null)}}me=S}}if(2064&S.subtreeFlags&&C!==null)C.return=S,me=C;else e:for(;me!==null;){if(2048&(S=me).flags)switch(S.tag){case 0:case 11:case 15:Nl(9,S,S.return)}var L=S.sibling;if(L!==null){L.return=S.return,me=L;break e}me=S.return}}var z=l.current;for(me=z;me!==null;){var te=(C=me).child;if(2064&C.subtreeFlags&&te!==null)te.return=C,me=te;else e:for(C=z;me!==null;){if(2048&(k=me).flags)try{switch(k.tag){case 0:case 11:case 15:Hc(9,k)}}catch(Xe){ut(k,k.return,Xe)}if(k===C){me=null;break e}var Ee=k.sibling;if(Ee!==null){Ee.return=k.return,me=Ee;break e}me=k.return}}if(Ue=w,Wn(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(xc,l)}catch{}v=!0}return v}finally{je=m,bt.transition=u}}return!1}function Y1(l,u,m){l=ts(l,u=c1(0,u=na(m,u),1),1),u=ur(),l!==null&&(wl(l,1,u),Pr(l,u))}function ut(l,u,m){if(l.tag===3)Y1(l,l,m);else for(;u!==null;){if(u.tag===3){Y1(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ns===null||!ns.has(v))){u=ts(u,l=h1(u,l=na(m,l),1),1),l=ur(),u!==null&&(wl(u,1,l),Pr(u,l));break}}u=u.return}}function kI(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=ur(),l.pingedLanes|=l.suspendedLanes&m,jt===l&&(Jt&m)===m&&(Nt===4||Nt===3&&(130023424&Jt)===Jt&&500>$t()-hm?so(l,0):cm|=m),Pr(l,u)}function q1(l,u){u===0&&(1&l.mode?(u=mp,!(130023424&(mp<<=1))&&(mp=4194304)):u=1);var m=ur();(l=Xn(l,u))!==null&&(wl(l,u,m),Pr(l,m))}function MI(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),q1(l,m)}function NI(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(m=w.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(s(314))}v!==null&&v.delete(u),q1(l,m)}function Q1(l,u){return _p(l,u)}function OI(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(l,u,m,v){return new OI(l,u,m,v)}function _m(l){return!(!(l=l.prototype)||!l.isReactComponent)}function as(l,u){var m=l.alternate;return m===null?((m=an(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function nh(l,u,m,v,w,S){var C=2;if(v=l,typeof l=="function")_m(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case d:return ao(m.children,w,S,u);case p:C=8,w|=8;break;case h:return(l=an(12,m,u,2|w)).elementType=h,l.lanes=S,l;case x:return(l=an(13,m,u,w)).elementType=x,l.lanes=S,l;case b:return(l=an(19,m,u,w)).elementType=b,l.lanes=S,l;case T:return ih(m,w,S,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case f:C=10;break e;case g:C=9;break e;case y:C=11;break e;case _:C=14;break e;case E:C=16,v=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=an(C,m,u,w)).elementType=l,u.type=v,u.lanes=S,u}function ao(l,u,m,v){return(l=an(7,l,v,u)).lanes=m,l}function ih(l,u,m,v){return(l=an(22,l,v,u)).elementType=T,l.lanes=m,l.stateNode={isHidden:!1},l}function xm(l,u,m){return(l=an(6,l,null,u)).lanes=m,l}function wm(l,u,m){return(u=an(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function LI(l,u,m,v,w){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Zt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=v,this.onRecoverableError=w,He&&(this.mutableSourceEagerHydrationData=null)}function K1(l,u,m,v,w,S,C,k,B){return l=new LI(l,u,m,k,B),u===1?(u=1,S===!0&&(u|=8)):u=0,S=an(3,null,null,u),l.current=S,S.stateNode=l,S.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(S),l}function Z1(l){if(!l)return Ji;e:{if(R(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Br(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if(Br(m))return v_(l,m,u)}return u}function J1(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=Q(u))===null?null:l.stateNode}function ex(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function sh(l,u){ex(l,u),(l=l.alternate)&&ex(l,u)}function DI(l){return(l=Q(l))===null?null:l.stateNode}function FI(){return null}return G1=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Sr.current)Ar=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return Ar=!1,function(le,V,ne){switch(V.tag){case 3:w1(V),Ko();break;case 5:z_(V);break;case 1:Br(V.type)&&vc(V);break;case 4:Lp(V,V.stateNode.containerInfo);break;case 10:R_(0,V.type._context,V.memoizedProps.value);break;case 13:var ye=V.memoizedState;if(ye!==null)return ye.dehydrated!==null?(Je(_t,1&_t.current),V.flags|=128,null):ne&V.child.childLanes?E1(le,V,ne):(Je(_t,1&_t.current),(le=Si(le,V,ne))!==null?le.sibling:null);Je(_t,1&_t.current);break;case 19:if(ye=(ne&V.childLanes)!=0,(128&le.flags)!=0){if(ye)return S1(le,V,ne);V.flags|=128}var ke=V.memoizedState;if(ke!==null&&(ke.rendering=null,ke.tail=null,ke.lastEffect=null),Je(_t,_t.current),ye)break;return null;case 22:case 23:return V.lanes=0,v1(le,V,ne)}return Si(le,V,ne)}(l,u,m);Ar=(131072&l.flags)!=0}else Ar=!1,lt&&1048576&u.flags&&S_(u,Ec,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;$c(l,u),l=u.pendingProps;var w=Yo(u,or.current);Jo(u,m),w=$p(null,u,v,l,w,m);var S=zp();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Br(v)?(S=!0,vc(u)):S=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Mp(u),w.updater=Rc,u.stateNode=w,w._reactInternals=u,Op(u,v,l,m),u=Qp(null,u,v,!0,S,m)):(u.tag=0,lt&&S&&bp(u),Cr(null,u,w,m),u=u.child),u;case 16:v=u.elementType;e:{switch($c(l,u),l=u.pendingProps,v=(w=v._init)(v._payload),u.type=v,w=u.tag=function(le){if(typeof le=="function")return _m(le)?1:0;if(le!=null){if((le=le.$$typeof)===y)return 11;if(le===_)return 14}return 2}(v),l=xn(v,l),w){case 0:u=qp(null,u,v,l,m);break e;case 1:u=x1(null,u,v,l,m);break e;case 11:u=m1(null,u,v,l,m);break e;case 14:u=g1(null,u,v,xn(v.type,l),m);break e}throw Error(s(306,v,""))}return u;case 0:return v=u.type,w=u.pendingProps,qp(l,u,v,w=u.elementType===v?w:xn(v,w),m);case 1:return v=u.type,w=u.pendingProps,x1(l,u,v,w=u.elementType===v?w:xn(v,w),m);case 3:e:{if(w1(u),l===null)throw Error(s(387));v=u.pendingProps,w=(S=u.memoizedState).element,M_(l,u),Ic(u,v,null,m);var C=u.memoizedState;if(v=C.element,He&&S.isDehydrated){if(S={element:v,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=S,u.memoizedState=S,256&u.flags){u=b1(l,u,v,m,w=na(Error(s(423)),u));break e}if(v!==w){u=b1(l,u,v,m,w=na(Error(s(424)),u));break e}for(He&&(tn=VP(u.stateNode.containerInfo),Ur=u,lt=!0,_n=null,bl=!1),m=$_(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Ko(),v===w){u=Si(l,u,m);break e}Cr(l,u,v,m)}u=u.child}return u;case 5:return z_(u),l===null&&Sp(u),v=u.type,w=u.pendingProps,S=l!==null?l.memoizedProps:null,C=w.children,Ge(v,w)?C=null:S!==null&&Ge(v,S)&&(u.flags|=32),_1(l,u),Cr(l,u,C,m),u.child;case 6:return l===null&&Sp(u),null;case 13:return E1(l,u,m);case 4:return Lp(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=ea(u,null,v,m):Cr(l,u,v,m),u.child;case 11:return v=u.type,w=u.pendingProps,m1(l,u,v,w=u.elementType===v?w:xn(v,w),m);case 7:return Cr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Cr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,w=u.pendingProps,S=u.memoizedProps,R_(0,v,C=w.value),S!==null)if(vn(S.value,C)){if(S.children===w.children&&!Sr.current){u=Si(l,u,m);break e}}else for((S=u.child)!==null&&(S.return=u);S!==null;){var k=S.dependencies;if(k!==null){C=S.child;for(var B=k.firstContext;B!==null;){if(B.context===v){if(S.tag===1){(B=Ti(-1,m&-m)).tag=2;var j=S.updateQueue;if(j!==null){var Y=(j=j.shared).pending;Y===null?B.next=B:(B.next=Y.next,Y.next=B),j.pending=B}}S.lanes|=m,(B=S.alternate)!==null&&(B.lanes|=m),Rp(S.return,m,u),k.lanes|=m;break}B=B.next}}else if(S.tag===10)C=S.type===u.type?null:S.child;else if(S.tag===18){if((C=S.return)===null)throw Error(s(341));C.lanes|=m,(k=C.alternate)!==null&&(k.lanes|=m),Rp(C,m,u),C=S.sibling}else C=S.child;if(C!==null)C.return=S;else for(C=S;C!==null;){if(C===u){C=null;break}if((S=C.sibling)!==null){S.return=C.return,C=S;break}C=C.return}S=C}Cr(l,u,w.children,m),u=u.child}return u;case 9:return w=u.type,v=u.pendingProps.children,Jo(u,m),v=v(w=rn(w)),u.flags|=1,Cr(l,u,v,m),u.child;case 14:return w=xn(v=u.type,u.pendingProps),g1(l,u,v,w=xn(v.type,w),m);case 15:return y1(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:xn(v,w),$c(l,u),u.tag=1,Br(v)?(l=!0,vc(u)):l=!1,Jo(u,m),F_(u,v,w),Op(u,v,w,m),Qp(null,u,v,!0,l,m);case 19:return S1(l,u,m);case 22:return v1(l,u,m)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=Xn(l,134217728);u!==null&&on(u,l,134217728,ur()),sh(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=Xn(l,1);u!==null&&on(u,l,1,ur()),sh(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=ss(l),m=Xn(l,u);m!==null&&on(m,l,u,ur()),sh(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=xl(u.pendingLanes);m!==0&&(vp(u,1|m),Pr(u,$t()),!(6&Ue)&&(oa(),Wn()))}break;case 13:H1(function(){var v=Xn(l,1);if(v!==null){var w=ur();on(v,l,1,w)}}),sh(l,1)}},e.batchedUpdates=function(l,u){var m=Ue;Ue|=1;try{return l(u)}finally{(Ue=m)===0&&(oa(),wc&&Wn())}},e.createComponentSelector=function(l){return{$$typeof:jc,value:l}},e.createContainer=function(l,u,m,v,w,S,C){return K1(l,u,!1,null,0,v,0,S,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:Wc,value:l}},e.createHydrationContainer=function(l,u,m,v,w,S,C,k,B){return(l=K1(m,v,!0,l,0,S,0,k,B)).context=Z1(null),m=l.current,(S=Ti(v=ur(),w=ss(m))).callback=u??null,ts(m,S,w),l.current.lanes=w,wl(l,w,v),Pr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Vc,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Xc,value:l}},e.createTextSelector=function(l){return{$$typeof:Yc,value:l}},e.deferredUpdates=function(l){var u=je,m=bt.transition;try{return bt.transition=null,je=16,l()}finally{je=u,bt.transition=m}},e.discreteUpdates=function(l,u,m,v,w){var S=je,C=bt.transition;try{return bt.transition=null,je=1,l(u,m,v,w)}finally{je=S,bt.transition=C,Ue===0&&oa()}},e.findAllNodes=lm,e.findBoundingRects=function(l,u){if(!yl)throw Error(s(363));u=lm(l,u),l=[];for(var m=0;m<u.length;m++)l.push(_P(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,w=v+m.width,S=m.y,C=S+m.height,k=u-1;0<=k;k--)if(u!==k){var B=l[k],j=B.x,Y=j+B.width,le=B.y,V=le+B.height;if(v>=j&&S>=le&&w<=Y&&C<=V){l.splice(u,1);break}if(!(v!==j||m.width!==B.width||V<S||le>C)){le>S&&(B.height+=le-S,B.y=S),V<C&&(B.height=C-le),l.splice(u,1);break}if(!(S!==le||m.height!==B.height||Y<v||j>w)){j>v&&(B.width+=j-v,B.x=v),Y<w&&(B.width=w-j),l.splice(u,1);break}}return l},e.findHostInstance=J1,e.findHostInstanceWithNoPortals=function(l){return(l=(l=G(l))!==null?D(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return J1(l)},e.flushControlled=function(l){var u=Ue;Ue|=1;var m=bt.transition,v=je;try{bt.transition=null,je=1,l()}finally{je=v,bt.transition=m,(Ue=u)===0&&(oa(),Wn())}},e.flushPassiveEffects=oo,e.flushSync=H1,e.focusWithin=function(l,u){if(!yl)throw Error(s(363));for(u=U1(l=sm(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!vl(m)){if(m.tag===5&&bP(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return je},e.getFindAllNodesFailureDescription=function(l,u){if(!yl)throw Error(s(363));var m=0,v=[];l=[sm(l),0];for(var w=0;w<l.length;){var S=l[w++],C=l[w++],k=u[C];if((S.tag!==5||!vl(S))&&(om(S,k)&&(v.push(am(k)),++C>m&&(m=C)),C<u.length))for(S=S.child;S!==null;)l.push(S,C),S=S.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(am(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?Z(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:DI,findFiberByHostInstance:l.findFiberByHostInstance||FI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{xc=u.inject(l),jn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!yl)throw Error(s(363));l=lm(l,u);var w=EP(l,m,v).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=je;try{return je=l,u()}finally{je=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var w=u.current,S=ur(),C=ss(w);return m=Z1(m),u.context===null?u.context=m:u.pendingContext=m,(u=Ti(S,C)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=ts(w,u,C))!==null&&(on(l,w,C,S),Pc(l,w,C)),C},e}),aE}({get exports(){return Fy},set exports(t){Fy=t}}).exports=O5();var L5=a5(Fy),oP={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Uy={},qh={get exports(){return Uy},set exports(t){Uy=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?qh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(qh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(qh.exports=function(){return Date.now()-r},r=Date.now()):(qh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(o5);var cE,Ua={},co={};({get exports(){return Ua},set exports(t){Ua=t}}).exports=(cE||(cE=1,co.ConcurrentRoot=1,co.ContinuousEventPriority=4,co.DefaultEventPriority=16,co.DiscreteEventPriority=1,co.IdleEventPriority=536870912,co.LegacyRoot=0),co);var D5={};function Dg(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function aP(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&qi(t.children).forEach(function(s){aP(s,t)})}function hE(t,e){var r;aP(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,d=c!==void 0&&c,p=n.destroyBaseTexture,h=p!==void 0&&p;s&&e.destroy({children:a,texture:d,baseTexture:h})}function dE(t,e,r){wt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var fE=null,Ln=L5({getRootHostContext:function(){return D5},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Ua.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ua.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ua.ContinuousEventPriority;default:return Ua.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=R5[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=sP[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:_i)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return fE=function(o,a,c,d){var p=null;for(var h in c)!d.hasOwnProperty(h)&&c.hasOwnProperty(h)&&c[h]!==null&&(h===Ly||(p||(p=[]),p.push(h,null)));for(var f in d){var g=d[f],y=c!==null?c[f]:void 0;!d.hasOwnProperty(f)||g===y||g===null&&y===null||f===Ly||(p||(p=[]),p.push(f,g))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){wt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Uy,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Dg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=hE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=hE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:dE,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=dE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=_i),(a(t,n,i)||fE)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),F5=oP.dependencies["react-dom"].replace(/[^0-9.]/g,""),B5=oP.name;Ln.injectIntoDevTools({bundleType:0,version:F5,rendererPackageName:B5,findHostInstanceByFiber:Ln.findHostInstance});var Ds=new Map;function lP(t){if(wt(br.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Ds.has(t)){var e=Ds.get(t).pixiFiberContainer;Ln.updateContainer(null,e,void 0,function(){Ds.delete(t)})}}function uP(t){wt(br.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Ds.get(t);if(wt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Ln.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Ln.updateContainer(n,r,void 0),Ln.getPublicRootInstance(r)},unmount:function(){lP(t),Ds.delete(t)}}},Ds.set(t,e)}return e.reactRoot}function U5(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ds.has(e)?n=Ds.get(e).reactRoot:n=uP(e),n.render(t)}function G5(t){lP(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rc.apply(this,arguments)}function $5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rP(n.key),n)}}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xf(t,e){return xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xf(t,e)}function H5(t,e){if(e&&(Xr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wf(t)}var sp=Gi.createContext(null),cP=sp.Provider,hP=sp.Consumer,j5=function(t){var e=Gi.forwardRef(function(r,n){return Gi.createElement(hP,null,function(i){return Gi.createElement(t,rc({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function W5(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=wf(t);if(e){var i=wf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return H5(this,r)}}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mE=function(){},dP={width:it.number,height:it.number,onMount:it.func,onUnmount:it.func,raf:it.bool,renderOnComponentChange:it.bool,children:it.node,options:it.shape({autoStart:it.bool,width:it.number,height:it.number,useContextAlpha:it.bool,backgroundAlpha:it.number,autoDensity:it.bool,antialias:it.bool,preserveDrawingBuffer:it.bool,resolution:it.number,forceCanvas:it.bool,backgroundColor:it.number,clearBeforeRender:it.bool,powerPreference:it.string,sharedTicker:it.bool,sharedLoader:it.bool,resizeTo:function(t,e){var r=t[e];r&&wt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Xr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&wt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Xr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},V5={width:800,height:600,onMount:mE,onUnmount:mE,raf:!0,renderOnComponentChange:!0},Gy=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&xf(s,o)})(i,Gi.Component);var e,r,n=W5(i);function i(){var s;$5(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Et(Ri(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Et(Ri(s),"_mediaQuery",null),Et(Ri(s),"_ticker",null),Et(Ri(s),"_needsUpdate",!0),Et(Ri(s),"app",null),Et(Ri(s),"updateSize",function(){var d=s.props,p=d.width,h=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,h)}),Et(Ri(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Et(Ri(s),"renderStage",function(){var d=s.props,p=d.renderOnComponentChange;!d.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,d=s.options,p=s.raf,h=s.renderOnComponentChange;this.app=new Bf(Qh(Qh({width:a,height:c,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Ln.createContainer(this.app.stage),Ln.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),h&&!p&&(this._ticker=new Ft,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,d=this.props,p=d.width,h=d.height,f=d.raf,g=d.renderOnComponentChange,y=d.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===h&&s.width===p&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),Ln.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===h&&s.raf===f&&s.renderOnComponentChange===g&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Gi.createElement(cP,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Ln.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(wt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Gi.createElement("canvas",rc({},(s=this.props,o=[].concat(qi(Object.keys(dP)),qi(Object.keys(Dy))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,p){return Qh(Qh({},d),{},Et({},p,s[p]))},{})),{ref:function(d){return a._canvas=d}}))}}])&&z5(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Gy.propTypes=dP,Gy.defaultProps=V5;var X5=Gy;function fP(){var t=ae.useContext(sp);return wt(t instanceof Bf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function Y5(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=fP();wt(typeof t=="function","`useTick` needs a callback function."),wt(r instanceof Bf,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=ae.useRef(null);ae.useEffect(function(){n.current=t},[t]),ae.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function q5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $y(t,e,r){return $y=q5()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&xf(a,s.prototype),a},$y.apply(null,arguments)}var Q5=["children","apply"];function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var K5=function(t,e){wt(Xr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Ks(i,Q5),c=ae.useRef(ae.useMemo(function(){return r.map(function(h){var f,g=(a==null||(f=a[h])===null||f===void 0?void 0:f.construct)||[];return $y(e[h],qi(g))})},[r])),d=ae.useMemo(function(){return r.reduce(function(h,f,g){return Kh(Kh({},h),{},Et({},f,c.current[g]))},{})},[r]),p=ae.useMemo(function(){return Object.keys(a).filter(iP(nP(r))).reduce(function(h,f){return Kh(Kh({},h),{},Et({},f,a[f]))},{})},[a,r]);return r.forEach(function(h,f){return Object.assign(c.current[f],a[h])}),o&&function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return f.every(function(y){return typeof y=="function"})}(o)&&o.call(t,d),Gi.createElement(t,rc({},p,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:it.node,apply:it.func},n},Z5=Fr.BitmapText,J5=Fr.Container,eU=Fr.Graphics,tU=Fr.NineSlicePlane,rU=Fr.ParticleContainer,nU=Fr.Sprite,iU=Fr.AnimatedSprite,sU=Fr.Text,oU=Fr.TilingSprite,aU=Fr.SimpleMesh,lU=Fr.SimpleRope;const uU=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:iU,AppConsumer:hP,AppContext:sp,AppProvider:cP,BitmapText:Z5,Container:J5,Graphics:eU,NineSlicePlane:tU,ParticleContainer:rU,PixiComponent:k5,PixiFiber:Ln,SimpleMesh:aU,SimpleRope:lU,Sprite:nU,Stage:X5,TYPES:Fr,Text:sU,TilingSprite:oU,applyDefaultProps:_i,createRoot:uP,eventHandlers:_f,render:U5,unmountComponentAtNode:G5,useApp:fP,useTick:Y5,withFilters:K5,withPixiApp:j5},Symbol.toStringTag,{value:"Module"})),cU=xE(uU);ip.exports=cU;var hl=ip.exports;function zy(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Fg=function(){return Math.random().toString(36).substring(7).split("").join(".")},yE={INIT:"@@redux/INIT"+Fg(),REPLACE:"@@redux/REPLACE"+Fg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fg()}};function hU(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:yE.INIT});if(typeof n>"u")throw new Error(zy(12));if(typeof r(void 0,{type:yE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zy(13))})}function dU(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{hU(r)}catch(a){o=a}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var p=!1,h={},f=0;f<s.length;f++){var g=s[f],y=r[g],x=c[g],b=y(x,d);if(typeof b>"u")throw d&&d.type,new Error(zy(14));h[g]=b,p=p||b!==x}return p=p||s.length!==Object.keys(c).length,p?h:c}}const fU=(t={},e)=>{switch(e.type){case dF:return{};case fF:const r=e.value;return{...t,loggingIn:!0,memberName:r.name,isTestAccount:r.test,balance:r.balance,currency:r.currency};case pF:return{...t,balance:e.value.balance};default:return t}},pU={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,balance:new $e(0)}},mU="∞",gU=(t={},e)=>{switch(e.type){case EF:let r=t.status;return t.status=="idle"?r="spin":t.status=="stopping"&&(r="idle"),{...t,status:r};case TF:return{...t,spinModel:e.value};case SF:return{...t,status:"stopping",spinModel:e.value};case AF:return{...t,status:"idle"};case CF:return{...t,betAmount:e.value};case PF:return{...t,betLevel:e.value};case IF:return{...t,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit};case RF:{let n=t.autoSpinCount;return n!=mU&&--n,{...t,status:"spin",autoSpinCount:n}}case kF:return{...t,autoSpinCount:0};case MF:return{...t,speedModel:e.value};case NF:return{...t,lineBetsModel:e.value};default:return t}},yU={spin:{status:"idle",autoSpinCount:0,lineBetsModel:null,speedModel:"normal",stopAutoSpinLimit:{totalBetTimes:new $e(0),signleWin:new $e(0),balanceTo:new $e(0)}}},vU=(t={},e)=>{let r=[].concat(t.scenes);switch(e.type){case OF:return r.push(e.value),{...t,scenes:r};case LF:return r.pop(),{...t,scenes:r};case VS:return r.pop(),r.push(e.value),{...t,scenes:r};case DF:return{...t};case XS:return{...t,assetsLoadingProgress:e.value};default:return t}},_U={sceneManager:{scenes:["preload"],assetsLoadingProgress:0}};function xU(t){return{type:VS,value:t}}function vE(t){return{type:XS,value:t}}function wU(){let t=Bl("user")||fU,e=Bl("setting")||FF,r=Bl("spin")||gU,n=Bl("scene")||vU,i=Bl("reducers");return dU({user:t,setting:e,spin:r,sceneManager:n,...i})}function Zh(t,e={},r){const n=Object.assign(t[r],e[r]||{});return t[r]=n,t}function bU(){let t=Zh(pU,ba("user"),"user"),e=Zh(BF,ba("setting"),"setting"),r=Zh(yU,ba("spin"),"spin"),n=Zh(_U,ba("scene"),"sceneManager");return d2(t,e,r,n)}var Hy={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var h=this||r;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var f=this||r;if(h=parseFloat(h),f.ctx||p(),typeof h<"u"&&h>=0&&h<=1){if(f._volume=h,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),x=0;x<y.length;x++){var b=f._howls[g]._soundById(y[x]);b&&b._node&&(b._node.volume=b._volume*h)}return f}return f._volume},mute:function(h){var f=this||r;f.ctx||p(),f._muted=h,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h?0:f._volume,r.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var y=f._howls[g]._getSoundIds(),x=0;x<y.length;x++){var b=f._howls[g]._soundById(y[x]);b&&b._node&&(b._node.muted=h?!0:b._muted)}return f},stop:function(){for(var h=this||r,f=0;f<h._howls.length;f++)h._howls[f].stop();return h},unload:function(){for(var h=this||r,f=h._howls.length-1;f>=0;f--)h._howls[f].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,p()),h},codecs:function(h){return(this||r)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||r;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var f=new Audio;f.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return h}if(!f||typeof f.canPlayType!="function")return h;var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),y=h._navigator?h._navigator.userAgent:"",x=y.match(/OPR\/(\d+)/g),b=x&&parseInt(x[0].split("/")[1],10)<33,_=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,E=y.match(/Version\/(.*?) /),T=_&&E&&parseInt(E[1],10)<15;return h._codecs={mp3:!!(!b&&(g||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||r;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var f=function(g){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,h._releaseHtml5Audio(y)}catch{h.noAudio=!0;break}for(var x=0;x<h._howls.length;x++)if(!h._howls[x]._webAudio)for(var b=h._howls[x]._getSoundIds(),_=0;_<b.length;_++){var E=h._howls[x]._soundById(b[_]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}h._autoResume();var T=h.ctx.createBufferSource();T.buffer=h._scratchBuffer,T.connect(h.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),T.onended=function(){T.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<h._howls.length;A++)h._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),h}},_obtainHtml5Audio:function(){var h=this||r;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var f=this||r;return h._unlocked&&f._html5AudioPool.push(h),f},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<h._howls.length;f++)if(h._howls[f]._webAudio){for(var g=0;g<h._howls[f]._sounds.length;g++)if(!h._howls[f]._sounds[g]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var y=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(y,y)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!r.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var f=0;f<h._howls.length;f++)h._howls[f]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var r=new e,n=function(h){var f=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(h)};n.prototype={init:function(h){var f=this;return r.ctx||p(),f._autoplay=h.autoplay||!1,f._format=typeof h.format!="string"?h.format:[h.format],f._html5=h.html5||!1,f._muted=h.mute||!1,f._loop=h.loop||!1,f._pool=h.pool||5,f._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,f._rate=h.rate||1,f._sprite=h.sprite||{},f._src=typeof h.src!="string"?h.src:[h.src],f._volume=h.volume!==void 0?h.volume:1,f._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=h.onend?[{fn:h.onend}]:[],f._onfade=h.onfade?[{fn:h.onfade}]:[],f._onload=h.onload?[{fn:h.onload}]:[],f._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],f._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],f._onpause=h.onpause?[{fn:h.onpause}]:[],f._onplay=h.onplay?[{fn:h.onplay}]:[],f._onstop=h.onstop?[{fn:h.onstop}]:[],f._onmute=h.onmute?[{fn:h.onmute}]:[],f._onvolume=h.onvolume?[{fn:h.onvolume}]:[],f._onrate=h.onrate?[{fn:h.onrate}]:[],f._onseek=h.onseek?[{fn:h.onseek}]:[],f._onunlock=h.onunlock?[{fn:h.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var h=this,f=null;if(r.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var g=0;g<h._src.length;g++){var y,x;if(h._format&&h._format[g])y=h._format[g];else{if(x=h._src[g],typeof x!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(x),y||(y=/\.([^.]+)$/.exec(x.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&r.codecs(y)){f=h._src[g];break}}if(!f){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=f,h._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new i(h),h._webAudio&&o(h),h},play:function(h,f){var g=this,y=null;if(typeof h=="number")y=h,h=null;else{if(typeof h=="string"&&g._state==="loaded"&&!g._sprite[h])return null;if(typeof h>"u"&&(h="__default",!g._playLock)){for(var x=0,b=0;b<g._sounds.length;b++)g._sounds[b]._paused&&!g._sounds[b]._ended&&(x++,y=g._sounds[b]._id);x===1?h=null:y=null}}var _=y?g._soundById(y):g._inactiveSound();if(!_)return null;if(y&&!h&&(h=_._sprite||"__default"),g._state!=="loaded"){_._sprite=h,_._ended=!1;var E=_._id;return g._queue.push({event:"play",action:function(){g.play(E)}}),E}if(y&&!_._paused)return f||g._loadQueue("play"),_._id;g._webAudio&&r._autoResume();var T=Math.max(0,_._seek>0?_._seek:g._sprite[h][0]/1e3),A=Math.max(0,(g._sprite[h][0]+g._sprite[h][1])/1e3-T),I=A*1e3/Math.abs(_._rate),O=g._sprite[h][0]/1e3,M=(g._sprite[h][0]+g._sprite[h][1])/1e3;_._sprite=h,_._ended=!1;var R=function(){_._paused=!1,_._seek=T,_._start=O,_._stop=M,_._loop=!!(_._loop||g._sprite[h][2])};if(T>=M){g._ended(_);return}var U=_._node;if(g._webAudio){var G=function(){g._playLock=!1,R(),g._refreshBuffer(_);var H=_._muted||g._muted?0:_._volume;U.gain.setValueAtTime(H,r.ctx.currentTime),_._playStart=r.ctx.currentTime,typeof U.bufferSource.start>"u"?_._loop?U.bufferSource.noteGrainOn(0,T,86400):U.bufferSource.noteGrainOn(0,T,A):_._loop?U.bufferSource.start(0,T,86400):U.bufferSource.start(0,T,A),I!==1/0&&(g._endTimers[_._id]=setTimeout(g._ended.bind(g,_),I)),f||setTimeout(function(){g._emit("play",_._id),g._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?G():(g._playLock=!0,g.once("resume",G),g._clearTimer(_._id))}else{var Q=function(){U.currentTime=T,U.muted=_._muted||g._muted||r._muted||U.muted,U.volume=_._volume*r.volume(),U.playbackRate=_._rate;try{var H=U.play();if(H&&typeof Promise<"u"&&(H instanceof Promise||typeof H.then=="function")?(g._playLock=!0,R(),H.then(function(){g._playLock=!1,U._unlocked=!0,f?g._loadQueue():g._emit("play",_._id)}).catch(function(){g._playLock=!1,g._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):f||(g._playLock=!1,R(),g._emit("play",_._id)),U.playbackRate=_._rate,U.paused){g._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||_._loop?g._endTimers[_._id]=setTimeout(g._ended.bind(g,_),I):(g._endTimers[_._id]=function(){g._ended(_),U.removeEventListener("ended",g._endTimers[_._id],!1)},U.addEventListener("ended",g._endTimers[_._id],!1))}catch(J){g._emit("playerror",_._id,J)}};U.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(U.src=g._src,U.load());var X=window&&window.ejecta||!U.readyState&&r._navigator.isCocoonJS;if(U.readyState>=3||X)Q();else{g._playLock=!0,g._state="loading";var D=function(){g._state="loaded",Q(),U.removeEventListener(r._canPlayEvent,D,!1)};U.addEventListener(r._canPlayEvent,D,!1),g._clearTimer(_._id)}}return _._id},pause:function(h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(h)}}),f;for(var g=f._getSoundIds(h),y=0;y<g.length;y++){f._clearTimer(g[y]);var x=f._soundById(g[y]);if(x&&!x._paused&&(x._seek=f.seek(g[y]),x._rateSeek=0,x._paused=!0,f._stopFade(g[y]),x._node))if(f._webAudio){if(!x._node.bufferSource)continue;typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),f._cleanBuffer(x._node)}else(!isNaN(x._node.duration)||x._node.duration===1/0)&&x._node.pause();arguments[1]||f._emit("pause",x?x._id:null)}return f},stop:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(h)}}),g;for(var y=g._getSoundIds(h),x=0;x<y.length;x++){g._clearTimer(y[x]);var b=g._soundById(y[x]);b&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,g._stopFade(y[x]),b._node&&(g._webAudio?b._node.bufferSource&&(typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),g._cleanBuffer(b._node)):(!isNaN(b._node.duration)||b._node.duration===1/0)&&(b._node.currentTime=b._start||0,b._node.pause(),b._node.duration===1/0&&g._clearSound(b._node))),f||g._emit("stop",b._id))}return g},mute:function(h,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(h,f)}}),g;if(typeof f>"u")if(typeof h=="boolean")g._muted=h;else return g._muted;for(var y=g._getSoundIds(f),x=0;x<y.length;x++){var b=g._soundById(y[x]);b&&(b._muted=h,b._interval&&g._stopFade(b._id),g._webAudio&&b._node?b._node.gain.setValueAtTime(h?0:b._volume,r.ctx.currentTime):b._node&&(b._node.muted=r._muted?!0:h),g._emit("mute",b._id))}return g},volume:function(){var h=this,f=arguments,g,y;if(f.length===0)return h._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var x=h._getSoundIds(),b=x.indexOf(f[0]);b>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length>=2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var _;if(typeof g<"u"&&g>=0&&g<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,f)}}),h;typeof y>"u"&&(h._volume=g),y=h._getSoundIds(y);for(var E=0;E<y.length;E++)_=h._soundById(y[E]),_&&(_._volume=g,f[2]||h._stopFade(y[E]),h._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(g,r.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=g*r.volume()),h._emit("volume",_._id))}else return _=y?h._soundById(y):h._sounds[0],_?_._volume:0;return h},fade:function(h,f,g,y){var x=this;if(x._state!=="loaded"||x._playLock)return x._queue.push({event:"fade",action:function(){x.fade(h,f,g,y)}}),x;h=Math.min(Math.max(0,parseFloat(h)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),x.volume(h,y);for(var b=x._getSoundIds(y),_=0;_<b.length;_++){var E=x._soundById(b[_]);if(E){if(y||x._stopFade(b[_]),x._webAudio&&!E._muted){var T=r.ctx.currentTime,A=T+g/1e3;E._volume=h,E._node.gain.setValueAtTime(h,T),E._node.gain.linearRampToValueAtTime(f,A)}x._startFadeInterval(E,h,f,g,b[_],typeof y>"u")}}return x},_startFadeInterval:function(h,f,g,y,x,b){var _=this,E=f,T=g-f,A=Math.abs(T/.01),I=Math.max(4,A>0?y/A:y),O=Date.now();h._fadeTo=g,h._interval=setInterval(function(){var M=(Date.now()-O)/y;O=Date.now(),E+=T*M,E=Math.round(E*100)/100,T<0?E=Math.max(g,E):E=Math.min(g,E),_._webAudio?h._volume=E:_.volume(E,h._id,!0),b&&(_._volume=E),(g<f&&E<=g||g>f&&E>=g)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,_.volume(g,h._id),_._emit("fade",h._id))},I)},_stopFade:function(h){var f=this,g=f._soundById(h);return g&&g._interval&&(f._webAudio&&g._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(g._interval),g._interval=null,f.volume(g._fadeTo,h),g._fadeTo=null,f._emit("fade",h)),f},loop:function(){var h=this,f=arguments,g,y,x;if(f.length===0)return h._loop;if(f.length===1)if(typeof f[0]=="boolean")g=f[0],h._loop=g;else return x=h._soundById(parseInt(f[0],10)),x?x._loop:!1;else f.length===2&&(g=f[0],y=parseInt(f[1],10));for(var b=h._getSoundIds(y),_=0;_<b.length;_++)x=h._soundById(b[_]),x&&(x._loop=g,h._webAudio&&x._node&&x._node.bufferSource&&(x._node.bufferSource.loop=g,g&&(x._node.bufferSource.loopStart=x._start||0,x._node.bufferSource.loopEnd=x._stop,h.playing(b[_])&&(h.pause(b[_],!0),h.play(b[_],!0)))));return h},rate:function(){var h=this,f=arguments,g,y;if(f.length===0)y=h._sounds[0]._id;else if(f.length===1){var x=h._getSoundIds(),b=x.indexOf(f[0]);b>=0?y=parseInt(f[0],10):g=parseFloat(f[0])}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));var _;if(typeof g=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,f)}}),h;typeof y>"u"&&(h._rate=g),y=h._getSoundIds(y);for(var E=0;E<y.length;E++)if(_=h._soundById(y[E]),_){h.playing(y[E])&&(_._rateSeek=h.seek(y[E]),_._playStart=h._webAudio?r.ctx.currentTime:_._playStart),_._rate=g,h._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(g,r.ctx.currentTime):_._node&&(_._node.playbackRate=g);var T=h.seek(y[E]),A=(h._sprite[_._sprite][0]+h._sprite[_._sprite][1])/1e3-T,I=A*1e3/Math.abs(_._rate);(h._endTimers[y[E]]||!_._paused)&&(h._clearTimer(y[E]),h._endTimers[y[E]]=setTimeout(h._ended.bind(h,_),I)),h._emit("rate",_._id)}}else return _=h._soundById(y),_?_._rate:h._rate;return h},seek:function(){var h=this,f=arguments,g,y;if(f.length===0)h._sounds.length&&(y=h._sounds[0]._id);else if(f.length===1){var x=h._getSoundIds(),b=x.indexOf(f[0]);b>=0?y=parseInt(f[0],10):h._sounds.length&&(y=h._sounds[0]._id,g=parseFloat(f[0]))}else f.length===2&&(g=parseFloat(f[0]),y=parseInt(f[1],10));if(typeof y>"u")return 0;if(typeof g=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,f)}}),h;var _=h._soundById(y);if(_)if(typeof g=="number"&&g>=0){var E=h.playing(y);E&&h.pause(y,!0),_._seek=g,_._ended=!1,h._clearTimer(y),!h._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=g);var T=function(){E&&h.play(y,!0),h._emit("seek",y)};if(E&&!h._webAudio){var A=function(){h._playLock?setTimeout(A,0):T()};setTimeout(A,0)}else T()}else if(h._webAudio){var I=h.playing(y)?r.ctx.currentTime-_._playStart:0,O=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(O+I*Math.abs(_._rate))}else return _._node.currentTime;return h},playing:function(h){var f=this;if(typeof h=="number"){var g=f._soundById(h);return g?!g._paused:!1}for(var y=0;y<f._sounds.length;y++)if(!f._sounds[y]._paused)return!0;return!1},duration:function(h){var f=this,g=f._duration,y=f._soundById(h);return y&&(g=f._sprite[y._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var h=this,f=h._sounds,g=0;g<f.length;g++)f[g]._paused||h.stop(f[g]._id),h._webAudio||(h._clearSound(f[g]._node),f[g]._node.removeEventListener("error",f[g]._errorFn,!1),f[g]._node.removeEventListener(r._canPlayEvent,f[g]._loadFn,!1),f[g]._node.removeEventListener("ended",f[g]._endFn,!1),r._releaseHtml5Audio(f[g]._node)),delete f[g]._node,h._clearTimer(f[g]._id);var y=r._howls.indexOf(h);y>=0&&r._howls.splice(y,1);var x=!0;for(g=0;g<r._howls.length;g++)if(r._howls[g]._src===h._src||h._src.indexOf(r._howls[g]._src)>=0){x=!1;break}return s&&x&&delete s[h._src],r.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,f,g,y){var x=this,b=x["_on"+h];return typeof f=="function"&&b.push(y?{id:g,fn:f,once:y}:{id:g,fn:f}),x},off:function(h,f,g){var y=this,x=y["_on"+h],b=0;if(typeof f=="number"&&(g=f,f=null),f||g)for(b=0;b<x.length;b++){var _=g===x[b].id;if(f===x[b].fn&&_||!f&&_){x.splice(b,1);break}}else if(h)y["_on"+h]=[];else{var E=Object.keys(y);for(b=0;b<E.length;b++)E[b].indexOf("_on")===0&&Array.isArray(y[E[b]])&&(y[E[b]]=[])}return y},once:function(h,f,g){var y=this;return y.on(h,f,g,1),y},_emit:function(h,f,g){for(var y=this,x=y["_on"+h],b=x.length-1;b>=0;b--)(!x[b].id||x[b].id===f||h==="load")&&(setTimeout((function(_){_.call(this,f,g)}).bind(y,x[b].fn),0),x[b].once&&y.off(h,x[b].fn,x[b].id));return y._loadQueue(h),y},_loadQueue:function(h){var f=this;if(f._queue.length>0){var g=f._queue[0];g.event===h&&(f._queue.shift(),f._loadQueue()),h||g.action()}return f},_ended:function(h){var f=this,g=h._sprite;if(!f._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(f._ended.bind(f,h),100),f;var y=!!(h._loop||f._sprite[g][2]);if(f._emit("end",h._id),!f._webAudio&&y&&f.stop(h._id,!0).play(h._id),f._webAudio&&y){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=r.ctx.currentTime;var x=(h._stop-h._start)*1e3/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),x)}return f._webAudio&&!y&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),r._autoSuspend()),!f._webAudio&&!y&&f.stop(h._id,!0),f},_clearTimer:function(h){var f=this;if(f._endTimers[h]){if(typeof f._endTimers[h]!="function")clearTimeout(f._endTimers[h]);else{var g=f._soundById(h);g&&g._node&&g._node.removeEventListener("ended",f._endTimers[h],!1)}delete f._endTimers[h]}return f},_soundById:function(h){for(var f=this,g=0;g<f._sounds.length;g++)if(h===f._sounds[g]._id)return f._sounds[g];return null},_inactiveSound:function(){var h=this;h._drain();for(var f=0;f<h._sounds.length;f++)if(h._sounds[f]._ended)return h._sounds[f].reset();return new i(h)},_drain:function(){var h=this,f=h._pool,g=0,y=0;if(!(h._sounds.length<f)){for(y=0;y<h._sounds.length;y++)h._sounds[y]._ended&&g++;for(y=h._sounds.length-1;y>=0;y--){if(g<=f)return;h._sounds[y]._ended&&(h._webAudio&&h._sounds[y]._node&&h._sounds[y]._node.disconnect(0),h._sounds.splice(y,1),g--)}}},_getSoundIds:function(h){var f=this;if(typeof h>"u"){for(var g=[],y=0;y<f._sounds.length;y++)g.push(f._sounds[y]._id);return g}else return[h]},_refreshBuffer:function(h){var f=this;return h._node.bufferSource=r.ctx.createBufferSource(),h._node.bufferSource.buffer=s[f._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,r.ctx.currentTime),f},_cleanBuffer:function(h){var f=this,g=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return f;if(r._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),g))try{h.bufferSource.buffer=r._scratchBuffer}catch{}return h.bufferSource=null,f},_clearSound:function(h){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(h){this._parent=h,this.init()};i.prototype={init:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,f._sounds.push(h),h.create(),h},create:function(){var h=this,f=h._parent,g=r._muted||h._muted||h._parent._muted?0:h._volume;return f._webAudio?(h._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),h._node.gain.setValueAtTime(g,r.ctx.currentTime),h._node.paused=!0,h._node.connect(r.masterGain)):r.noAudio||(h._node=r._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(r._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=f._src,h._node.preload=f._preload===!0?"auto":f._preload,h._node.volume=g*r.volume(),h._node.load()),h},reset:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,f=h._parent;f._duration=Math.ceil(h._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),h._node.removeEventListener(r._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,f=h._parent;f._duration===1/0&&(f._duration=Math.ceil(h._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},o=function(h){var f=h._src;if(s[f]){h._duration=s[f].duration,d(h);return}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),y=new Uint8Array(g.length),x=0;x<g.length;++x)y[x]=g.charCodeAt(x);c(y.buffer,h)}else{var b=new XMLHttpRequest;b.open(h._xhr.method,f,!0),b.withCredentials=h._xhr.withCredentials,b.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(_){b.setRequestHeader(_,h._xhr.headers[_])}),b.onload=function(){var _=(b.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".");return}c(b.response,h)},b.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[f],h.load())},a(b)}},a=function(h){try{h.send()}catch{h.onerror()}},c=function(h,f){var g=function(){f._emit("loaderror",null,"Decoding audio data failed.")},y=function(x){x&&f._sounds.length>0?(s[f._src]=x,d(f,x)):g()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(h).then(y).catch(g):r.ctx.decodeAudioData(h,y,g)},d=function(h,f){f&&!h._duration&&(h._duration=f.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},p=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=f?parseInt(f[1],10):null;if(h&&g&&g<9){var y=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!y&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof Oi<"u"?(Oi.HowlerGlobal=e,Oi.Howler=r,Oi.Howl=n,Oi.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,a){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,a=typeof a!="number"?d[5]:a,typeof r=="number")c._orientation=[r,n,i,s,o,a],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(r,n,i,s,o,a);else return d;return c},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var c=i._soundById(o[a]);if(c)if(typeof r=="number")c._stereo=r,c._pos=[r,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&e(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(r,0,0):c._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var a=r._getSoundIds(s),c=0;c<a.length;c++)if(o=r._soundById(a[c]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var p=o._panner;p||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),p=o._panner),p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Hy);function EU(t,e){return`./assets/${t}${e?`?v=${e}`:""}`}function TU(t,e){const r=t.match(/\[(.+)\]/);if(r){let n=r[1].split(",");t=t.replace(r[0],qe.Obj.filterImageFormat(n))}return EU(t,e)}function SU(t,e,r){let n=[];function i(s,o,a={}){Ts.add({src:TU(o,e),alias:s,...a})}for(let s of t)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return Ts.load(n,r)}function AU(t){return Ts.get(t)}function js(t,e){return(Ts.get(t)||{})[e]||e}function CU(...t){let e={};for(let r of t)for(let n of r)e[n.id]=n;return Object.values(e)}const Qi="message",PU="lang_components";function IU(t){return[{id:Qi,src:`text/${t}.json`},{id:PU,src:`compress/lang/${t}@1x.[avif,webp,png].json`}]}function RU(t,...e){return CU(IU(t),...e)}const kU="sounds";class MU{constructor(){se(this,"channels",{})}exist(e,r){let n=this.channels[e];return So(e)&&So(n[r])}add(e,r,n,i=1,s=!1,o){let a=this.channels[e];Iu(a)&&(a={},this.channels[e]=a),So(a[r])&&console.warn(`sound "${r}" is existing in channel "${e}"`);let c={channelId:e,name:r,soundId:n,volume:i,softBgm:s,onComplete:o};return a[r]=c,c}getPlaybackBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(r=>r.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(r=>r.name==e)}removeBy(e){for(let r in this.channels){let n=this.channels[r];for(let i in n){let s=n[i];e(s)&&(delete n[i],h2(n)&&delete this.channels[r])}}}removeBySoundId(e){return this.removeBy(r=>r.soundId==e)}removeBySoundName(e){return this.removeBy(r=>r.name==e)}getSoundIds(e){const r=[],n=this.channels[e];for(let i in n)r.push(n[i].soundId);return r}}const Tf=class Tf{constructor(){se(this,"howlers",{});se(this,"_muted",!1);se(this,"_volume",1);se(this,"bgm");se(this,"channelManager");se(this,"_pause");this.channelManager=new MU}static get Obj(){return this._Obj||(this._Obj=new Tf),this._Obj}getSoundIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.soundId}getChannelIdBySoundName(e){let r=this.channelManager.getPlaybackBySoundName(e);if(r)return r.channelId}play(e,r,n=1,i=!1,s,o){let a=this.channelManager.getPlaybackBySoundName(r),c=this.getVolumn(n),d=this.getSoundPlayer(e);if(a&&a.channelId==e)d.stop(a.soundId),d.play(a.soundId),d.volume(c,a.soundId);else{let p=d.play(r);d.volume(c,p),a=this.channelManager.add(e,r,p,n,i,h=>{o&&o(h)})}i&&this.softBgm(!0)}plays(e,r,n=1,i=!1,s){const[o,...a]=r;o?this.play(e,o,n,i,!1,()=>{this.plays(e,a,n,i,s)}):s&&s(o)}playBgm(e,r,n=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(r),o=this.getSoundPlayer(e),a=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(a,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let c=o.play(r);o.volume(a,c),this.channelManager.add(e,r,c,n),this.bgm={soundId:c,channelId:e,name:r,soft:i}}}isReady(e){return So(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let r=AU(kU);if(So(r)){r.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){let s=this.channelManager.getPlaybackBySoundId(i);s&&s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};let n=new Hy.Howl(r);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(let r in this.howlers)if(e)this.howlers[r].pause();else{const n=this.channelManager.getSoundIds(r),i=this.howlers[r];for(let s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,r){let n=this.getSoundIdBySoundName(r);n&&this.getSoundPlayer(e).pause(n)}stop(e,r){let n=this.getSoundIdBySoundName(r);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,r){r.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){let r=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(r){let n=this.getVolumn(e?this.bgm.soft:1,r.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,r.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,r,n){this.howlers[e]&&this.howlers[e].volume(n)}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let r in this.channelManager.channels){let n=this.channelManager.channels[r],i=this.getSoundPlayer(r);for(let s in n){let o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,Hy.Howler.mute(e)}setRate(e=1){for(let r in this.howlers)this.howlers[r].rate(e)}};se(Tf,"_Obj");let Uo=Tf;const NU=document.querySelector("html"),OU="resize",LU=()=>{const t=hl.useApp(),{current:e}=ae.useRef({clientSize:[0,0],innerSize:[0,0]}),{state:r,dispatch:n}=ae.useContext(Qt),i=qe.Obj,s=ae.useMemo(()=>document.getElementById("App"),[]),[o,a]=ae.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]),c=()=>{qe.Obj.updateOrientation();const p=i.orientation;let{displayArea:h,safeArea:f}=i.layoutOptions;const[g,y,x,b]=h,_=b/x;f=f||[0,0,x,b];const[E,T,A,I]=f,O=I/A,M=window.innerWidth,R=window.innerHeight,U=R/M;let G,Q,X,D,H,J,Z;p=="l"?U<=O?(Q=R*(b/I),G=Q/_,Q=Math.min(b,Q),G=Math.min(x,G),Z=R,J=G):(M<=A?G=M*(x/A):M<=x?G=x:G=M,Q=G*_,Q=Math.min(b,Q),G=Math.min(x,G),Z=Q,J=M):U>=O?(G=M*(x/A),Q=G*_,Q=Math.min(b,Q),G=Math.min(x,G),J=M,Z=Q):(R<=I?Q=R*(b/I):R<=b?Q=b:Q=R,G=Q/_,Q=Math.min(b,Q),G=Math.min(x,G),J=G,Z=R),H=G/x,D=(M-G)/2,X=(R-Q)/2;const ce=Math.round(Math.min(D,0)),N=Math.round(Math.min(X,0));t.stage.scale.set(H),t.renderer.resize(G,Q);const W=Math.max(N/H,y-T)*H,F=Math.max(ce/H,-(E-g))*H;t.view.style.top=`${W}px`,t.view.style.left=`${F}px`;const $=Math.round(Math.min(M,J,G)),ee=Math.round(Math.min(R,Z,Q)),Ie=Math.round(Math.max(0,X)),Ae=Math.round(Math.max(0,D));s.style.width=`${$}px`,s.style.height=`${ee}px`,s.style.top=`${Ie}px`,s.style.left=`${Ae}px`;let Ge=0;p=="l"?Ge=Math.max(12,20*(document.documentElement.clientWidth-Ae*2)/960):Ge=Math.max(12,20*(document.documentElement.clientWidth-Ae*2)/540),NU.style.fontSize=`${Ge}px`,r.setting.orientation!=p&&n(UF(p)),qe.Obj.updateViewport(ce/H,N/H,Math.round($/H),Math.round(ee/H)),i.notice.emit(OU)};function d(){document[o]?(Uo.Obj.pauses(!0),t.ticker.stop()):(Uo.Obj.pauses(!1),t.ticker.start())}return ae.useEffect(()=>(document.addEventListener(a,d),()=>{document.removeEventListener(a,d)}),[]),hl.useTick((p,h)=>{const{clientWidth:f,clientHeight:g}=document.documentElement;(e.clientSize[0]!=f||e.clientSize[1]!=g)&&(c(),e.clientSize=[f,g])},!0),P(qt,{})};function DU(){const{state:t}=ae.useContext(Qt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="preload";return P("div",{className:`page-mod ${r?"db":"dn"}`,children:P("div",{className:"scene-preload-mod",children:de("div",{className:"loading-animation-default-mod",children:[P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{})]})})})}const FU=()=>{const{state:t}=ae.useContext(Qt),{soundOn:e,volume:r}=t.setting;return ae.useEffect(()=>{Uo.Obj.muted=!e},[e]),ae.useEffect(()=>{},[r]),P(qt,{})};function BU(){const t=document.getElementById("context");t.style.setProperty("opacity","1"),t.className="context-fadein";const e=document.getElementById("logo");document.body.removeChild(e)}const UU=()=>{const{state:t}=ae.useContext(Qt),{scenes:e}=t.sceneManager,r=e[e.length-1]=="load";return ae.useMemo(()=>{r&&BU()},[r]),P(qt,{})},GU=()=>{const{state:t,dispatch:e}=ae.useContext(Qt),{code:r}=t.setting.error;return ae.useEffect(()=>{r&&(r==="000"||r==="001"?e(In(r,!0,!1)):r==1e3?e(In(r,!0,!0)):r==1005?e(In("",!1,!0)):e(In(r,!0,!1)))},[r]),P(qt,{})};function pP(t,e){function r(n){if(n&&n.props){const i={},s=n.props;for(let o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=pP(n.props.children,e)),ae.cloneElement(n,i)}return n}return Array.isArray(t)?ae.Children.map(t,n=>r(n)):r(t)}function $U(t,e=!0){const r=$n(qe.Obj),n=ae.useRef(null);ae.useEffect(()=>{n.current=t},[t]),ae.useEffect(()=>{if(e){const i=s=>n.current.apply(r.turboTicker,[s,r.turboTicker]);return r.turboTicker.add(i),()=>{r.turboTicker&&r.turboTicker.remove(i)}}},[e])}function zU(t,e=[]){const{state:r}=ae.useContext(Qt),n=r.setting.orientation;return pP(t,`${n}-`)}function $n(t){return ae.useMemo(()=>t,[])}function HU(){return ae.useContext(Qt)}const jU=({children:t,Context:e,render:r})=>P(e.Consumer,{children:n=>r(de(e.Provider,{value:n,children:[P(HF,{}),P(YU,{}),P(LU,{}),P(FU,{}),P(UU,{}),P(GU,{}),t]}))}),WU=wU(),VU=bU(),XU=({children:t,maxResolution:e=1,...r})=>{const[n,i]=ae.useReducer(WU,VU);let[s,...o]=ae.Children.map(t,c=>c),a=On.any?window.devicePixelRatio:1;return a=Math.min(a>=2?2:a,e),de(Qt.Provider,{value:{state:n,dispatch:i},children:[P(jU,{Context:Qt,render:c=>P(hl.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:a,antialias:!0,autoDensity:!0},...r,children:c}),children:s}),P(DU,{}),P(Qt.Consumer,{children:({state:c})=>c.sceneManager.scenes[0]=="preload"?P(qt,{}):o})]})},mP=60,_E=Number((1e3/mP).toFixed(2));function YU(){const t=hl.useApp(),e=qe.Obj,{state:r}=HU(),{speedModel:n}=r.spin;ae.useMemo(()=>{t.ticker.maxFPS=t.ticker.minFPS=mP,t.ticker.speed=_E,e.turboTicker.start()},[]);const i=ae.useMemo(()=>n=="fast"?2:1,[n]);return ae.useMemo(()=>{e.turboTicker.speed=i*_E},[n]),hl.useTick((s,o)=>{oF(e.getTime(!1)),e.deltaTime(s)},!0),$U((s,o)=>{e.turboTweenGroup.update(e.getTime(!0)),e.deltaTurboTime(s)},!0),P(qt,{})}const qU=({children:t})=>{const{state:e}=ae.useContext(Qt),{scenes:r}=e.sceneManager;return ae.useMemo(()=>{let i=[];return ae.Children.forEach(t,s=>{r.indexOf(s.props.id)!=-1&&i.push(s)}),i},[r])},Sd=ae.forwardRef(({hitFrame:t,children:e,...r},n)=>{const i=ae.useMemo(()=>t?new Pe(...t):null,[]);return P(hl.Container,{hitArea:i,...r,ref:n,children:e})}),QU=({children:t})=>zU(t),gP=t=>{const{children:e,...r}=t,{l:n,p:i}=qe.Obj.configOptions.layoutMap,s=ae.useMemo(()=>!!(n&&i),[]),[o,a,c,d]=ae.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const p=n??i;return[-p.displayArea[0],-p.displayArea[1],0,0]}},[]);return P(Sd,{...r,children:s?P(QU,{children:P(Sd,{"l-x":o,"l-y":a,"p-x":c,"p-y":d,children:e})}):P(Sd,{x:o,y:a,children:e})})};ae.forwardRef(({turbo:t=!1,dep:e=[],children:r,id:n,from:i={},to:s={},playing:o=!1,duration:a,yoyo:c,repeat:d,repeatDelay:p,delay:h=0,easing:f=E=>E,onStart:g,onComplete:y,onRepeat:x,onUpdate:b},_)=>{var O,M;const[E,T]=ae.useState(!1),{current:A}=ae.useRef({tween:null});function I(){var R;(R=A.tween)==null||R.stop(),A.tween=null}return ae.useMemo(()=>{if(I(),o){const R=qe.Obj;A.tween=new sF({...i}).group(t?R.turboTweenGroup:void 0).to({...s},a).repeat(d).repeatDelay(p).delay(h).yoyo(c).start(R.getTime(t))}},[o,...e]),ae.useMemo(()=>{var R;(R=A.tween)==null||R.repeat(d)},[d]),ae.useMemo(()=>{var R;(R=A.tween)==null||R.delay(h)},[h]),(O=A.tween)==null||O.easing(f).onStart(g).onUpdate((R,U)=>{b&&b(R,U),T(!E)}).onRepeat(x).onComplete(y),ae.useImperativeHandle(_,()=>({get repeated(){return A.tween._initialRepeat-A.tween._repeat},get repeat(){return A.tween._repeat}})),ae.useEffect(()=>{},[o,...e]),r(A.tween?A.tween._object:i,((M=A.tween)==null?void 0:M.isPlaying())||!1)});const KU=({assets:t,next:e,...r})=>{const n=qe.Obj.configOptions.assetVersion,{state:i,dispatch:s}=ae.useContext(Qt),{current:o}=ae.useRef({loaded:!1,loggingIn:!1});return ae.useEffect(()=>(s(vE(0)),SU(t,n,a=>{s(vE(Math.floor(a*100)))}).then(()=>{o.loaded=!0,s(xU(e))}),()=>{const a=js(Qi,"gametitle");document.title=a}),[]),P(gP,{...r})};function ZU(t){return RU(t,[])}const JU=({...t})=>{const e=ae.useMemo(()=>ZU(qe.Obj.urlOptions.lang),[]);return P(KU,{assets:e,...t})},e8=({...t})=>(qe.Obj.urlOptions,ae.useEffect(()=>{window.oncontextmenu=function(r){}},[]),P(gP,{})),t8="IchannelDefault";Uo.Obj;const r8=Uo.Obj,gc=({children:t,onClick:e,channelId:r=t8,sound:n="click",volum:i=1,playing:s,softBgm:o=!0,soft:a,...c})=>{function d(p){e&&(e(p),r8.play(r,n,i,o))}return P("div",{...c,onClick:d,children:t})},n8=new $e(0);new $e(1);new $e(-1);function i8(t){let e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function At(t=new $e(0),e=2,r=0){return t instanceof $e||(t=new $e(t)),i8(t.toFixed(e,$e.ROUND_FLOOR))}function Le({children:t,tmp:e,replaceMap:r={},tcase:n="default",...i}){const s=ae.useMemo(()=>{let o=e?ae.Children.map(e,a=>js(Qi,a)).reduce((a,c)=>a+c,""):js(Qi,t);for(let a in r)o=o.replace(a,r[a]);return n=="upper"?o=o.toUpperCase():n=="lower"&&(o=o.toLowerCase()),o},[e,t]);return P("div",{...i,children:s})}function Bg(t,e){let r=t.toString();return new Array(e-r.length+1).join("0")+r}function s8(t){return t%4==0&&t%100!=0||t%400==0}function o8(t){return t==vu.Chinese?"MMdd hh:mm:ss":"dd/MM hh:mm:ss"}function a8(t,e,r,n=vu.English){t instanceof Date||(t=new Date(t));const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],o=t.getUTCFullYear(),a=t.getUTCMonth(),c=t.getUTCDate(),d=t.getUTCHours();let p=o,h=a,f=c,g=d+e;if(g>=24){g-=24,f++;const _=s8(p)?29:28;f>[31,_,31,30,31,30,31,31,30,31,30,31][h]&&(f=1,h++,h==12&&(h=0,p++))}h=(n==vu.Chinese?s:i)[h],f=Bg(f,2)+(n==vu.Chinese?"日":"");const x=Bg(t.getMinutes(),2),b=Bg(t.getSeconds(),2);return r.replace("dd",f).replace("MM",h).replace("yyyy",`${p}`).replace("hh",g).replace("mm",x).replace("ss",b)}function op(t,e){return t*=1e3,a8(new Date(t),8,o8(e),e)}function l8(){const{state:t,dispatch:e}=ae.useContext(Qt),{on:r,data:n}=t.setting.historyDetail,{currency:i}=t.user,{tableOptions:s,configOptions:o}=qe.Obj;function a(h){e(cc(!1)),h==null||h.stopPropagation()}const c=ae.useMemo(()=>{if(n)return new YS(n)},[n]),d=(c==null?void 0:c.data.result.ss)||[],p=$n(qe.Obj.filterImageFormat(["avif","webp","png"]));return P("div",{className:`page-mod ${r?"db":"dn"}`,style:{backgroundColor:"#181b1e"},children:de("div",{className:"geisha-history-detail-mod",children:[P(Le,{className:"head-mod",children:"gametitle"}),de("div",{className:"content-mod clearfix hidden-scroolbar",children:[n?P("div",{className:"content-top",children:de("table",{children:[P("tbody",{children:de("tr",{children:[P("th",{children:P(Le,{children:"dateandtime"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"linebet"}),P("br",{}),"(",i,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalbet"}),P("br",{}),"(",i,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalwin"}),P("br",{}),"(",i,")"]})]})}),P("tbody",{children:de("tr",{children:[P("th",{children:n.createdOnFormat||op(n.createdOn)}),P("th",{children:At(Number(n.credit))}),P("th",{children:At(Number(n.cost))}),P("th",{children:At(Number(n.payout))})]})})]})}):P(qt,{}),P("div",{className:"content-left",children:de("table",{style:{width:"100%"},children:[P("tbody",{children:de("tr",{children:[P("th",{}),P("th",{children:P(Le,{tcase:"upper",children:"winline"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"win"}),P("br",{}),"(",i,")"]}),P("th",{children:P(Le,{className:"dib",tcase:"upper",children:"multiper"})})]})}),c?c.linewins.map((h,f)=>{const g=s.paylineMap[h.id],y=(h.scatterWin?c.cost:c.credit).mul(h.multiplier).toNumber();return P("tbody",{children:de("tr",{children:[de("th",{children:[f+1,"(",h.id+1,")"]}),P("th",{children:P("div",{className:"payline-table",children:Ct(5,x=>P("div",{className:"s-column",children:Ct(3,b=>{let _,E;return((g==null?void 0:g.findIndex(([A,I])=>A==x&&I==b))>=0||h.type==10)&&(_=h.columnRowSymbolArr.find(([A,I])=>A==x&&I==b),E=_?"":"symbol-empty"),P("div",{className:`s-item icon-mod symbol ${_?"geisha-symbol-"+_[2]:""} ${p}`,style:{fontSize:0},children:P("div",{className:E})},`payline-i-${b}`)})},`s-${x}`))})}),P("th",{children:At(y,2)}),P("th",{children:h.existWild?2:1})]})},`table${f}`)}):null]})}),P("div",{className:"content-right",children:P("table",{style:{width:"100%"},children:d.length!=0?Ct(3,h=>P("tbody",{children:P("tr",{children:Ct(5,f=>{const g=d[f][h];return P("th",{children:P("div",{className:`icon-mod symbol geisha-symbol-${g} ${p}`})},`history-s-${f}`)})})},`history-reel${h}`)):P(qt,{})})})]}),P(gc,{className:"close-icon btn-mod",onClick:a,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}})]})})}let u8=class extends hc{constructor(r){super(r);se(this,"g");se(this,"level");se(this,"lineBet");se(this,"reSpin");se(this,"ss");se(this,"ssMap");se(this,"tm");se(this,"wildReels");se(this,"newWildReels");se(this,"wins");if(this.code)return;const n=r.result;this.g=n.g,this.level=n.level||0,this.lineBet=new $e(n.lineBet||0),this.reSpin=n.reSpin,this.ss=n.ss??[[],[],[],[],[]],this.tm=new $e(n.tm||0),this.wildReels=n.wildReels||[];const i=[];if(n.wins)for(let a of n.wins)for(let c of a.cls)i.push({cls:{c:c.c,m:c.m},s:a.s});this.wins=i;const s=[],o={};for(let a of this.ss){const c=a[0];o[c]=a[1],this.wildReels.indexOf(c)>=0&&s.push(c)}this.newWildReels=s,this.ssMap=o}get winType(){const r=this.payout.div(this.credit.mul(this.level));return r.greaterThanOrEqualTo(38)?"big":r.greaterThanOrEqualTo(26)?"high":r.greaterThanOrEqualTo(17)?"medium":r.greaterThanOrEqualTo(6)?"normal":"small"}get isExistRespin(){return this.newWildReels.length>0&&this.wildReels.length!=5}};function c8(){const{state:t,dispatch:e}=ae.useContext(Qt),{currency:r}=t.user,{on:n,data:i}=t.setting.historyDetail;qe.Obj;function s(h){e(cc(!1)),h==null||h.stopPropagation()}const o=ae.useMemo(()=>{if(i)return new u8(i)},[i]),a=(o==null?void 0:o.data.result.ss)||[],c=$n(qe.Obj.filterImageFormat(["avif","webp","png"])),d=$n(js(Qi,"respin").toUpperCase()),p=ae.useMemo(()=>i&&i.cost>0?At(Number(i.cost)):d,[o]);return P("div",{className:`page-mod ${n?"db":"dn"}`,style:{backgroundColor:"#181b1e"},children:de("div",{className:"cyberpunklora-history-detail-mod",children:[P(Le,{className:"head-mod",children:"gametitle"}),de("div",{className:"content-mod clearfix hidden-scroolbar",children:[i?P("div",{className:"content-top",children:de("table",{children:[P("tbody",{children:de("tr",{children:[P("th",{children:P(Le,{children:"dateandtime"})}),P("th",{children:P(Le,{tcase:"upper",children:"betlevel"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"linebet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalbet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalwin"}),P("br",{}),"(",r,")"]})]})}),P("tbody",{children:de("tr",{children:[P("th",{children:i.createdOnFormat||op(i.createdOn)}),P("th",{children:(o==null?void 0:o.level)||0}),P("th",{children:At(Number(i.credit))}),P("th",{children:p}),P("th",{children:At(Number(i.payout))})]})})]})}):P(qt,{}),P("div",{className:"content-left",children:de("table",{style:{width:"100%"},children:[P("tbody",{children:de("tr",{children:[P("th",{}),P("th",{children:P(Le,{tcase:"upper",children:"cluster"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"win"}),P("br",{}),"(",r,")"]})]})}),o?o.wins.map((h,f)=>{const g=h.cls.c;return P("tbody",{children:de("tr",{children:[P("th",{children:f+1}),P("th",{children:P("div",{className:"payline-table",children:Ct(5,y=>{const x=o.ssMap[y];let _=o.wildReels.indexOf(y)!=-1||!x;return _&&g.findIndex(([T,A])=>T==y)==-1&&(_=!1),_?de("div",{className:"s-column",children:[P("div",{className:`s-item icon-mod symbol ${c}`,style:{fontSize:0,borderBottomColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol ${c}`,style:{fontSize:0,borderTopColor:"transparent",borderBottomColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol ${c}`,style:{fontSize:0,borderTopColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol cyberpunklora-symbol-8 ${c}`,style:{paddingBottom:"300%",paddingTop:"2px",fontSize:0}})]},`s-${y}`):P("div",{className:"s-column",children:Ct(3,E=>{let T;if(g.findIndex(([I,O])=>I==y&&O==E)>=0){const I=o.ssMap[y];I&&o.wildReels.indexOf(y)==-1?T=I[E]:T=7}return P("div",{className:`s-item icon-mod symbol cyberpunklora-symbol-${T} ${c}`,style:{fontSize:0}},`payline-i-${E}`)})},`s-${y}`)})})}),P("th",{children:At(o.credit.mul(o.level).mul(h.cls.m).toNumber(),2)})]})},`table${f}`)}):null]})}),P("div",{className:"content-right",children:P("div",{style:{width:"100%"},children:a.length!=0?P("div",{className:"payline-table",style:{verticalAlign:"middle"},children:Ct(5,h=>{const f=o.ssMap[h];return f?P("div",{className:"s-column",children:Ct(3,g=>{let y=0;return f?y=f[g]:y=7,P("div",{className:`s-item icon-mod symbol cyberpunklora-symbol-${y} ${c}`},`payline-i-${g}`)})},`s-${h}`):de("div",{className:"s-column",children:[P("div",{className:`s-item icon-mod symbol ${c}`,style:{borderBottomColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol ${c}`,style:{borderTopColor:"transparent",borderBottomColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol ${c}`,style:{borderTopColor:"transparent"}}),P("div",{className:`s-item icon-mod symbol cyberpunklora-symbol-8 ${c}`,style:{paddingBottom:"300%",paddingTop:"2px"}})]},`s-${h}`)})}):P(qt,{})})})]}),P(gc,{className:"close-icon btn-mod",onClick:s,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}})]})})}let h8=class extends hc{constructor(r){super(r);se(this,"ss");se(this,"wins");se(this,"fs");se(this,"lw");se(this,"isGetFs");se(this,"scatterCount");if(this.code)return;const n=r.result||r;this.ss=n.ss,this.fs=n.fs||0,this.lw=n.lw.map(s=>({lineId:s[0],type:s[1],count:s[2],existWild:s[3],mul:s[4]}));let i=0;for(let s of this.ss)for(let o of s)o==10&&i++;this.isGetFs=i>=10,this.scatterCount=i}get winType(){const r=this.payout.div(this.credit.mul(25));return r.greaterThanOrEqualTo(38)?"big":r.greaterThanOrEqualTo(26)?"high":r.greaterThanOrEqualTo(17)?"medium":r.greaterThanOrEqualTo(6)?"normal":"small"}};function d8(){const{state:t,dispatch:e}=ae.useContext(Qt),{on:r,data:n}=t.setting.historyDetail,{currency:i}=t.user,{tableOptions:s,configOptions:o}=qe.Obj;function a(y){e(cc(!1)),y==null||y.stopPropagation()}const c=ae.useMemo(()=>{if(n)return new h8(n)},[n]),d=(c==null?void 0:c.data.result.ss)||[],p=$n(qe.Obj.filterImageFormat(["avif","webp","png"])),h=$n(js(Qi,"freespin")),f=ae.useMemo(()=>n&&n.cost>0?At(Number(n.cost)):h,[c]),g=ae.useMemo(()=>{const y=[];for(let x of d){const b=[];for(let _ of x){const E=tF(b);_==8||_==9?!E||!ix(E)||E[0]!=_||_==8&&E.length==3||_==9&&E.length==6?b.push([_]):E.push(_):b.push(_)}y.push(b)}return y},[c]);return P("div",{className:`page-mod ${r?"db":"dn"}`,style:{backgroundColor:"#181b1e"},children:de("div",{className:"superduo-history-detail-mod",children:[P(Le,{className:"head-mod",children:"gametitle"}),de("div",{className:"content-mod clearfix hidden-scroolbar",children:[n?P("div",{className:"content-top",children:de("table",{children:[P("tbody",{children:de("tr",{children:[P("th",{children:P(Le,{children:"dateandtime"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"linebet"}),P("br",{}),"(",i,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalbet"}),P("br",{}),"(",i,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalwin"}),P("br",{}),"(",i,")"]})]})}),P("tbody",{children:de("tr",{children:[P("th",{children:n.createdOnFormat||op(n.createdOn)}),P("th",{children:At(Number(n.credit))}),P("th",{children:f}),P("th",{children:At(Number(n.payout))})]})})]})}):P(qt,{}),P("div",{className:"content-left",children:de("table",{style:{width:"100%"},children:[P("tbody",{children:de("tr",{children:[P("th",{}),P("th",{children:P(Le,{tcase:"upper",children:"winline"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"win"}),P("br",{}),"(",i,")"]})]})}),c&&c.isGetFs?P("tbody",{children:de("tr",{children:[P("th",{children:"1"}),P("th",{children:P("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((y,x)=>P("div",{className:`s-column cloumn-line-${y}`,children:Ct(y,b=>{let _=d[x][b];return _!=10&&(_=""),P("div",{style:{backgroundColor:_?"#ffb24e":""},className:`s-item icon-mod symbol superduo-symbol-${_} ${p}`},`payline-i-${b}`)})},`s-${x}`))})}),P("th",{children:At(0,2)})]})}):null,c?c.lw.sort((y,x)=>y.lineId-x.lineId).map((y,x)=>{const b=s.paylineMap[y.lineId],_=c.credit.mul(y.mul).toNumber();return P("tbody",{children:de("tr",{children:[de("th",{children:[x+1+(c.isGetFs?1:0),"(",y.lineId+1,")"]}),P("th",{children:P("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((E,T)=>P("div",{className:`s-column cloumn-line-${E}`,children:Ct(E,A=>{const[I,O]=b[T],M=O==A&&T<y.count?d[I][O]:null,R=O==A&&T>=y.count?"symbol-empty":"";return P("div",{className:`s-item icon-mod symbol superduo-symbol-${M} ${p}`,children:P("div",{className:`${R}`})},`payline-i-${A}`)})},`s-${T}`))})}),P("th",{children:At(_,2)})]})},`table${x}`)}):null]})}),P("div",{className:"content-right",children:d.length!=0?P("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((y,x)=>{const b=g[x];return P("div",{className:`s-column cloumn-${y}`,children:b.map((_,E)=>{if(ix(_)){const T=_.length;return _=`${_[0]}_${T}`,de("div",{style:{position:"relative"},children:[Ct(T,A=>P("div",{style:{paddingBottom:"70%"},className:`s-item icon-mod symbol ${p} ${A<T-1?"hidden-b":""} ${A>0?"hidden-t":""}`},`payline-i-${E}_${A}`)),P("div",{className:`s-item icon-mod symbol superduo-symbol-${_} ${p}`,style:{left:0,paddingBottom:`${70*T}%`,position:"absolute",border:0,top:0}},`payline-i-${E}`)]},`payline-j-${E}`)}else return P("div",{className:`s-item icon-mod symbol superduo-symbol-${_} ${p}`,style:{paddingBottom:"70%"}},`payline-i-${E}`)})},`s-${x}`)})}):P(qt,{})})]}),P(gc,{className:"close-icon btn-mod",onClick:a,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}})]})})}const f8=8;let p8=class extends hc{constructor(r){super(r);se(this,"ss");se(this,"mg");se(this,"lm");se(this,"gm");se(this,"lw");se(this,"bs");se(this,"gw");se(this,"fs");se(this,"lastFs");se(this,"isFs");se(this,"totalMultiplier");se(this,"winlines");se(this,"bonuslines");se(this,"gemslines");se(this,"totalLines");se(this,"wildPositions");if(this.code)return;const n=qe.Obj.tableOptions,i=r.result;this.ss=i.ss??[[],[],[],[],[]],this.mg=i.mg,this.lm=new $e(i.lm||0),this.gm=new $e(i.gm||0),this.lw=i.lw||[],this.bs=i.bs||[],this.gw=i.gw||[],this.fs=i.fs||0,this.lastFs=i.lastFs||0,this.totalMultiplier=this.lm.add(this.gm);const s=[];if(i.lw)for(let d of i.lw){const p=d[0];s.push({multiplier:new $e(d[3]),s:d[1],lineId:p,positions:Ct(d[2],h=>[h,n.paylineMapV2[p][h]]),win:this.credit.mul(d[3])})}this.winlines=s;const o=[];i.bs&&o.push({multiplier:new $e(0),s:f8,lineId:void 0,positions:i.bs,win:n8}),this.bonuslines=o;const a=[];if(i.gw)for(let d of i.gw)a.push({multiplier:new $e(d[2]),s:d[0],lineId:void 0,positions:d[1],win:this.credit.mul(d[2]*30)});this.gemslines=a,this.totalLines=[...s,...o,...a];const c=[];this.ss.forEach((d,p)=>{d.forEach((h,f)=>{h===9&&c.push(`${p}_${f}`)})}),this.wildPositions=c,this.isFs=!i.mg}get existFreeSpin(){return this.bs.length>0}get existWin(){return this.winlines.length>0||this.bonuslines.length>0||this.gemslines.length>0}get winType(){const r=this.payout.div(this.credit.mul(30));return r.greaterThanOrEqualTo(38)?"big":r.greaterThanOrEqualTo(26)?"high":r.greaterThanOrEqualTo(17)?"medium":r.greaterThanOrEqualTo(6)?"normal":"small"}isWildPosition(r,n){return this.wildPositions.indexOf(`${r}_${n}`)!=-1}};function m8(){const{state:t,dispatch:e}=ae.useContext(Qt),{currency:r}=t.user,{on:n,data:i}=t.setting.historyDetail,{tableOptions:s,configOptions:o}=qe.Obj;function a(x){e(cc(!1)),x==null||x.stopPropagation()}const c=ae.useMemo(()=>{if(i)return new p8(i)},[i]),d=(c==null?void 0:c.data.result.ss)||[],p=$n(qe.Obj.filterImageFormat(["avif","webp","png"])),h=$n(js(Qi,"collapse").toUpperCase()),f=$n(js(Qi,"freespin").toUpperCase()),[g,y]=ae.useMemo(()=>i?[i.result.action==2?h:i.result.mg?At(Number(i.cost)):f,i.result.mg==!1]:["",!1],[c]);return P("div",{className:`page-mod ${n?"db":"dn"}`,style:{backgroundColor:"#181b1e"},children:de("div",{className:"carnivalshooter-history-detail-mod",children:[P(Le,{className:"head-mod",children:"gametitle"}),de("div",{className:"content-mod clearfix hidden-scroolbar",children:[i?P("div",{className:"content-top",children:de("table",{children:[P("tbody",{children:de("tr",{children:[P("th",{children:P(Le,{children:"dateandtime"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"linebet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalbet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalwin"}),P("br",{}),"(",r,")"]})]})}),P("tbody",{children:de("tr",{children:[P("th",{children:i.createdOnFormat||op(i.createdOn)}),P("th",{children:At(Number(i.credit))}),P("th",{children:g}),P("th",{children:At(Number(i.payout))})]})})]})}):P(qt,{}),P("div",{className:"content-left",children:de("table",{style:{width:"100%"},children:[P("tbody",{children:de("tr",{children:[P("th",{}),P("th",{children:P(Le,{tcase:"upper",children:"winline"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"win"}),P("br",{}),"(",r,")"]})]})}),c?c.totalLines.map((x,b)=>{var A;const _=x.positions,E=x.lineId;let T;return E&&(T=s.paylineMap[x.lineId]),P("tbody",{children:de("tr",{children:[de("th",{children:[b+1,So(x.lineId)?`(${x.lineId+1})`:""]}),P("th",{children:P("table",{className:"w-100",children:Ct(3,I=>P("tbody",{children:P("tr",{children:Ct(5,O=>{let M,R="",U=-1;return T?U=T.findIndex(([G,Q])=>G==O&&Q==I):_.findIndex(([Q,X])=>Q==O&&X==I)>=0&&(M=d[O][I]),U>=0&&(_.findIndex(([Q,X])=>Q==O&&X==I)>=0?M=d[O][I]:R="symbol-empty"),M=M+(y&&M!=8?10:0),P("td",{style:{width:"1.5rem",height:"1.5rem",fontSize:0},children:P("div",{className:`icon-mod symbol carnivalshooter-symbol-${M} ${R} ${p}`})},`row${O}`)})})},`column${I}`))})}),P("th",{children:At((A=x.win)==null?void 0:A.toNumber(),2)})]})},`table${b}`)}):null]})}),P("div",{className:"content-right",children:P("table",{style:{width:"100%"},children:d.length!=0?Ct(3,x=>P("tbody",{children:P("tr",{children:Ct(5,b=>{let _=d[b][x];return _=_+(y&&_!=8?10:0),P("th",{children:P("div",{className:`icon-mod symbol carnivalshooter-symbol-${_} ${p}`})},`history-s-${b}`)})})},`history-reel${x}`)):P(qt,{})})})]}),P(gc,{className:"close-icon btn-mod",onClick:a,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}})]})})}class g8 extends hc{constructor(r){super(r);se(this,"g");se(this,"level");se(this,"lineBet");se(this,"ss");se(this,"map");se(this,"collapse");se(this,"tm");se(this,"winLines");if(this.code)return;const n=r.result;if(this.ss=n.ss,this.map=n.map,this.collapse=n.collapse,n.win){this.tm=new $e(n.win.tm);const i=[];for(let s of n.win.details)for(let o of s.cls)i.push({cls:{c:o.c,m:o.m},s:s.s});this.winLines=i}else this.tm=new $e(0),this.winLines=[]}get existWin(){return this.tm.gt(0)}get winType(){const r=this.payout.div(this.credit);return r.greaterThanOrEqualTo(38)?"big":r.greaterThanOrEqualTo(26)?"high":r.greaterThanOrEqualTo(17)?"medium":r.greaterThanOrEqualTo(6)?"normal":"small"}}function y8(){const{state:t,dispatch:e}=ae.useContext(Qt),{currency:r}=t.user,{on:n,data:i}=t.setting.historyDetail;qe.Obj;function s(h){e(cc(!1)),h==null||h.stopPropagation()}const o=ae.useMemo(()=>{if(i)return new g8(i)},[i]),a=(o==null?void 0:o.data.result.ss)||[],c=$n(qe.Obj.filterImageFormat(["avif","webp","png"])),d=$n(js(Qi,"collapse").toUpperCase()),p=ae.useMemo(()=>i&&i.cost>0?At(Number(i.cost)):d,[o]);return P("div",{className:`page-mod ${n?"db":"dn"}`,style:{backgroundColor:"#181b1e"},children:de("div",{className:"oceanpop-history-detail-mod",children:[P(Le,{className:"head-mod",children:"gametitle"}),de("div",{className:"content-mod clearfix hidden-scroolbar",children:[i?P("div",{className:"content-top",children:de("table",{children:[P("tbody",{children:de("tr",{children:[P("th",{children:P(Le,{children:"dateandtime"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"linebet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalbet"}),P("br",{}),"(",r,")"]}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"totalwin"}),P("br",{}),"(",r,")"]})]})}),P("tbody",{children:de("tr",{children:[P("th",{children:i.createdOnFormat||getHistoryCreateOnTime(i.createdOn)}),P("th",{children:At(Number(i.credit))}),P("th",{children:p}),P("th",{children:At(Number(i.payout))})]})})]})}):P(qt,{}),P("div",{className:"content-left",children:de("table",{style:{width:"100%"},children:[P("tbody",{children:de("tr",{children:[P("th",{}),P("th",{children:P(Le,{tcase:"upper",children:"cluster"})}),de("th",{children:[P(Le,{className:"dib",tcase:"upper",children:"win"}),P("br",{}),"(",r,")"]})]})}),o?o.winLines.map((h,f)=>{const g=h.cls.c;return P("tbody",{children:de("tr",{children:[P("th",{children:f+1}),P("th",{children:P("table",{className:"w-100",children:Ct(5,y=>P("tbody",{children:P("tr",{children:Ct(5,x=>{let b;const _=g.findIndex(([E,T])=>E==x&&T==y);return _>=0&&(b=a[x][y]),P("td",{style:{width:"1.5rem",height:"1.5rem",fontSize:0},children:_>=0?P("div",{className:`icon-mod symbol oceanpop-symbol-${b} ${c}`}):P(qt,{})},`row${x}`)})})},`column${y}`))})}),P("th",{children:At(o.credit.mul(h.cls.m).toNumber(),2)})]})},`table${f}`)}):null]})}),P("div",{className:"content-right",children:P("table",{style:{width:"100%"},children:a.length!=0?Ct(5,h=>P("tbody",{children:P("tr",{children:Ct(5,f=>{const g=a[f][h];return P("th",{children:P("div",{className:`icon-mod symbol oceanpop-symbol-${g} ${c}`})},`history-s-${f}`)})})},`history-reel${h}`)):P(qt,{})})})]}),P(gc,{className:"close-icon btn-mod",onClick:s,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}})]})})}function v8(){const t=ae.useMemo(()=>({1:P(l8,{}),2:P(c8,{}),6:P(d8,{}),3:P(m8,{}),5:P(y8,{})}),[]);return ae.useMemo(()=>{const r=Ir("tid");return t[r]||null},[])}const _8=()=>de(XU,{id:"game-canvas",className:"game-context-mod",children:[P(Sd,{children:de(qU,{children:[P(JU,{id:"preload",next:"load"}),P(e8,{id:"load"})]})}),P(v8,{})]});e5(P(_8,{}))});export default x8();
