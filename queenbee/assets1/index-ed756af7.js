var cC=Object.defineProperty;var hC=(t,e,n)=>e in t?cC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pt=(t,e,n)=>(hC(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var El={},pC={get exports(){return El},set exports(t){El=t}},Jh={},V={},mC={get exports(){return V},set exports(t){V=t}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),gC=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),bC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),EC=Symbol.for("react.lazy"),$v=Symbol.iterator;function CC(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var Rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kx=Object.assign,Mx={};function ma(t,e,n){this.props=t,this.context=e,this.refs=Mx,this.updater=n||Rx}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nx(){}Nx.prototype=ma.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=Mx,this.updater=n||Rx}var Hg=zg.prototype=new Nx;Hg.constructor=zg;kx(Hg,ma.prototype);Hg.isPureReactComponent=!0;var jv=Array.isArray,Dx=Object.prototype.hasOwnProperty,Gg={current:null},Ox={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dx.call(e,r)&&!Ox.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),d=0;d<u;d++)h[d]=arguments[d+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:tu,type:t,key:s,ref:o,props:i,_owner:Gg.current}}function AC(t,e){return{$$typeof:tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $g(t){return typeof t=="object"&&t!==null&&t.$$typeof===tu}function PC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wv=/\/+/g;function Qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PC(""+t.key):e.toString(36)}function Gc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tu:case gC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qf(o,0):r,jv(i)?(n="",t!=null&&(n=t.replace(Wv,"$&/")+"/"),Gc(i,e,n,"",function(d){return d})):i!=null&&($g(i)&&(i=AC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jv(t))for(var u=0;u<t.length;u++){s=t[u];var h=r+Qf(s,u);o+=Gc(s,e,n,h,i)}else if(h=CC(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=r+Qf(s,u++),o+=Gc(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Gc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},$c={transition:null},RC={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:$c,ReactCurrentOwner:Gg};Pe.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!$g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ma;Pe.Fragment=_C;Pe.Profiler=yC;Pe.PureComponent=zg;Pe.StrictMode=vC;Pe.Suspense=SC;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Dx.call(e,h)&&!Ox.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var d=0;d<h;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:tu,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:wC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xC,_context:t},t.Consumer=t};Pe.createElement=Bx;Pe.createFactory=function(t){var e=Bx.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:bC,render:t}};Pe.isValidElement=$g;Pe.lazy=function(t){return{$$typeof:EC,_payload:{_status:-1,_result:t},_init:IC}};Pe.memo=function(t,e){return{$$typeof:TC,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=$c.transition;$c.transition={};try{t()}finally{$c.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return on.current.useCallback(t,e)};Pe.useContext=function(t){return on.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return on.current.useEffect(t,e)};Pe.useId=function(){return on.current.useId()};Pe.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return on.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Pe.useRef=function(t){return on.current.useRef(t)};Pe.useState=function(t){return on.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return on.current.useTransition()};Pe.version="18.2.0";(function(t){t.exports=Pe})(mC);const gi=dC(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=V,MC=Symbol.for("react.element"),NC=Symbol.for("react.fragment"),DC=Object.prototype.hasOwnProperty,OC=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BC={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DC.call(e,r)&&!BC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MC,type:t,key:s,ref:o,props:i,_owner:OC.current}}Jh.Fragment=NC;Jh.jsx=Lx;Jh.jsxs=Lx;(function(t){t.exports=Jh})(pC);const Er=El.Fragment,R=El.jsx,me=El.jsxs;function Ki(t){return t!=null}function Cl(t){return t==null}function LC(t){return Object.keys(t).length===0&&t.constructor===Object}function FC(...t){let e={};for(let n=0;n<t.length;n++){let r=t[n];if(r!=null)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}const Q0=class{constructor(){pt(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new Q0),this._Obj}map(e,n){let r=new jC(e,n);return this.mappings[e]=r,r}unmap(e){this.mappings[e]=void 0}get(e,...n){let r=this.mappings[e];if(!Cl(r))return r.get(n)}resolve(){console.warn("Injector.resolve() is not implement yet")}};let jc=Q0;pt(jc,"_Obj");class UC{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class zC{constructor(e){this.type=e}get(e){return Fx(this.type,e)}destroy(){this.type=void 0}}class HC{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class GC{constructor(e){pt(this,"instance");this.type=e}get(e){return Cl(this.instance)&&(this.instance=Fx(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class $C{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class jC{constructor(e,n){pt(this,"provider");this.name=e,this.type=n}get(e){return Cl(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new UC(e)}toType(e){this.destroy(),this.provider=new zC(e)}toSingleton(e){this.destroy(),this.provider=new GC(e)}asSingleton(){if(this.destroy(),Cl(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new $C(e)}toFunction(e){this.destroy(),this.provider=new HC(e)}destroy(){Ki(this.provider)&&this.provider.destroy()}}function Fx(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const Ei=jc.Obj;function za(t){return Ei.get(`action_fc:${t}`)}function WC(t,e){Ei.map(`action_init:${t}`).toValue(e)}function Eo(t){return Ei.get(`action_init:${t}`)}const Ux="httpService";function VC(t){return Ei.map(Ux).toSingleton(t)}function XC(){return Ei.get(Ux)}function YC(t,e){return Ei.map(`parser:${t}`).toValue(e)}function QC(t){return Ei.get(`parser:${t}`)}function ed(t,e){Ei.map(`components:${t}`).toValue(e)}function td(t){return Ei.get(`components:${t}`)}function KC(t,e,n){ed(`${t}:${e}`,n)}function zx(t,e){return td(`${t}:${e}`)}function Hx(t,...e){e.map((n,r)=>KC(t,r,n))}function ch(t,e){let n=[];for(let r=0;r<t;r++)n.push(e(r));return n}function Hr(t,e){return`./assets/${t}`}function Gx(...t){let e={};for(let n of t)for(let r of n)e[r.id]=r;return Object.values(e)}const $x="Loading_Bg",nm="message",os="lang_components";function qC(t,e){return[{id:nm,src:Hr(`text/${e}.json`)},{id:$x,src:Hr(`mobile/lang/loading${e}.jpg`)}]}function ZC(t,e,...n){return Gx(qC(t,e),...n)}const jx="game_Bg",JC="lang",Wx="winnumber",Vx="symbol",nu="sounds",nn="components";function eA(t,e){return[{id:Wx,src:Hr("font/winnumber.xml")},{id:JC,src:Hr(`font/${e}.xml`)},{id:jx,src:Hr("mobile/bg-game.jpg")},{id:Vx,src:Hr("mobile/symbols/symbol.json")},{id:nu,src:Hr("sound/sounds.json")},{id:nn,src:Hr("mobile/components.json")},{id:os,src:Hr(`mobile/lang/${e}.json`)}]}function tA(t,e,...n){return Gx(eA(t,e),...n)}function Xx(t){return`symbol_active_${t}`}function nA(t,e,n){return ch(t,r=>({id:Xx(r),src:Hr(`mobile/symbols/${r}.${e}`)}))}const Ae=V.createContext({}),rA="action_sign_in",iA="action_get_balance",sA="action_balance_change",Yx="action_sound_open",oA="action_volume_changed",jg="action_menu_open",Wg="action_paytable_open",Vg="action_betpanel_open",Xg="action_auto_panel_open",Qx="action_spin",Kx="action_spin_stopping",Yg="action_spin_stop",qx="action_spin_show_win_amount",Zx="action_spin_show_win_line",Jx="action_set_bet_amount",ew="action_set_auto_spin_detail",aA="action_do_auto_spin",tw="action_stop_auto_spin",lA="action_scene_push",uA="action_scene_pop",nw="action_scene_replace",cA="action_scene_to_root";function hA(t,e){let n=t.linewin[e[1]],r=[],i=t.reels.length,s,o;if(n.director=="r2l")for(let u=i-n.count;u<i;u++)s=u,o=n.lines[s],r.push({column:s,row:o,symbol:t.reels[s][o]});else for(let u=0;u<n.count;u++)s=u,o=n.lines[s],r.push({column:s,row:o,symbol:t.reels[s][o]});return{soundId:`${e[0]}_${e[1]}`,symbol:n.symbol,lineId:n.id,winAmount:n.multiplier,configs:r}}const rw=V.createContext({});function dA({children:t,...e}){let{linewinloop:n=5}=e;const{state:r,dispatch:i}=V.useContext(Ae),{status:s,responseModel:o,autoSpinCount:u}=r.spin,[h,d]=V.useState([0,0]);u!=0&&(n=1),V.useEffect(()=>{s=="spin"&&d([0,0])},[s]);function c(){let f=h[1]+1,g=h[0];f==o.linewin.length&&(f=0,g++),f==0&&g==n?i({type:Yg}):d([g,f])}return R(rw.Provider,{value:{next:c},children:s=="showWinLine"&&o.linewin.length>0?t(hA(o,h)):t({lineId:-1,configs:[],symbol:null,winAmount:0,soundId:"0_0"})})}var Bt={},fA={get exports(){return Bt},set exports(t){Bt=t}},to=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(to||{}),rm=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(rm||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),mr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(mr||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),Xo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Xo||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),im=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(im||{}),di=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(di||{}),_i=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(_i||{}),Kr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Kr||{}),Cr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Cr||{}),Gr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gr||{}),Qg=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Qg||{}),jn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(jn||{}),St=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(St||{}),ht=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ht||{}),Vr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Vr||{});const pA={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:pA,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Kf=/iPhone/i,Vv=/iPod/i,Xv=/iPad/i,Yv=/\biOS-universal(?:.+)Mac\b/i,qf=/\bAndroid(?:.+)Mobile\b/i,Qv=/Android/i,xo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ec=/Silk/i,oi=/Windows Phone/i,Kv=/\bWindows(?:.+)ARM\b/i,qv=/BlackBerry/i,Zv=/BB10/i,Jv=/Opera Mini/i,ey=/\b(CriOS|Chrome)(?:.+)Mobile/i,ty=/Mobile(?:.+)Firefox\b/i,ny=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function mA(t){return function(e){return e.test(t)}}function gA(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=mA(n),s={apple:{phone:i(Kf)&&!i(oi),ipod:i(Vv),tablet:!i(Kf)&&(i(Xv)||ny(e))&&!i(oi),universal:i(Yv),device:(i(Kf)||i(Vv)||i(Xv)||i(Yv)||ny(e))&&!i(oi)},amazon:{phone:i(xo),tablet:!i(xo)&&i(ec),device:i(xo)||i(ec)},android:{phone:!i(oi)&&i(xo)||!i(oi)&&i(qf),tablet:!i(oi)&&!i(xo)&&!i(qf)&&(i(ec)||i(Qv)),device:!i(oi)&&(i(xo)||i(ec)||i(qf)||i(Qv))||i(/\bokhttp\b/i)},windows:{phone:i(oi),tablet:i(Kv),device:i(oi)||i(Kv)},other:{blackberry:i(qv),blackberry10:i(Zv),opera:i(Jv),firefox:i(ty),chrome:i(ey),device:i(qv)||i(Zv)||i(Jv)||i(ty)||i(ey)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Wr=gA(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Xs={},_A={get exports(){return Xs},set exports(t){Xs=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function s(h,d,m,c,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new i(m,c||h,f),v=n?n+d:d;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],g]:h._events[v].push(g):(h._events[v]=g,h._eventsCount++),h}function o(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,c;if(this._eventsCount===0)return d;for(c in m=this._events)e.call(m,c)&&d.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,c=this._events[m];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,g=c.length,v=new Array(g);f<g;f++)v[f]=c[f].fn;return v},u.prototype.listenerCount=function(d){var m=n?n+d:d,c=this._events[m];return c?c.fn?1:c.length:0},u.prototype.emit=function(d,m,c,f,g,v){var b=n?n+d:d;if(!this._events[b])return!1;var E=this._events[b],x=arguments.length,S,T;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,c),!0;case 4:return E.fn.call(E.context,m,c,f),!0;case 5:return E.fn.call(E.context,m,c,f,g),!0;case 6:return E.fn.call(E.context,m,c,f,g,v),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];E.fn.apply(E.context,S)}else{var C=E.length,P;for(T=0;T<C;T++)switch(E[T].once&&this.removeListener(d,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,m);break;case 3:E[T].fn.call(E[T].context,m,c);break;case 4:E[T].fn.call(E[T].context,m,c,f);break;default:if(!S)for(P=1,S=new Array(x-1);P<x;P++)S[P-1]=arguments[P];E[T].fn.apply(E[T].context,S)}}return!0},u.prototype.on=function(d,m,c){return s(this,d,m,c,!1)},u.prototype.once=function(d,m,c){return s(this,d,m,c,!0)},u.prototype.removeListener=function(d,m,c,f){var g=n?n+d:d;if(!this._events[g])return this;if(!m)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===m&&(!f||v.once)&&(!c||v.context===c)&&o(this,g);else{for(var b=0,E=[],x=v.length;b<x;b++)(v[b].fn!==m||f&&!v[b].once||c&&v[b].context!==c)&&E.push(v[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(_A);var hh={},vA={get exports(){return hh},set exports(t){hh=t}};vA.exports=nd;hh.default=nd;function nd(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=iw(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,d,m,c,f,g;if(r&&(s=SA(t,e,s,n)),t.length>80*n){u=d=t[0],h=m=t[1];for(var v=n;v<i;v+=n)c=t[v],f=t[v+1],c<u&&(u=c),f<h&&(h=f),c>d&&(d=c),f>m&&(m=f);g=Math.max(d-u,m-h),g=g!==0?32767/g:0}return Al(s,o,n,u,h,g,0),o}function iw(t,e,n,r,i){var s,o;if(i===am(t,e,n,r)>0)for(s=e;s<n;s+=r)o=ry(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=ry(s,t[s],t[s+1],o);return o&&rd(o,o.next)&&(Il(o),o=o.next),o}function Ys(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(rd(n,n.next)||it(n.prev,n,n.next)===0)){if(Il(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Al(t,e,n,r,i,s,o){if(t){!o&&s&&PA(t,r,i,s);for(var u=t,h,d;t.prev!==t.next;){if(h=t.prev,d=t.next,s?xA(t,r,i,s):yA(t)){e.push(h.i/n|0),e.push(t.i/n|0),e.push(d.i/n|0),Il(t),t=d.next,u=d.next;continue}if(t=d,t===u){o?o===1?(t=wA(Ys(t),e,n),Al(t,e,n,r,i,s,2)):o===2&&bA(t,e,n,r,i,s):Al(Ys(t),e,n,r,i,s,1);break}}}}function yA(t){var e=t.prev,n=t,r=t.next;if(it(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,u=e.y,h=n.y,d=r.y,m=i<s?i<o?i:o:s<o?s:o,c=u<h?u<d?u:d:h<d?h:d,f=i>s?i>o?i:o:s>o?s:o,g=u>h?u>d?u:d:h>d?h:d,v=r.next;v!==e;){if(v.x>=m&&v.x<=f&&v.y>=c&&v.y<=g&&Mo(i,u,s,h,o,d,v.x,v.y)&&it(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function xA(t,e,n,r){var i=t.prev,s=t,o=t.next;if(it(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,d=o.x,m=i.y,c=s.y,f=o.y,g=u<h?u<d?u:d:h<d?h:d,v=m<c?m<f?m:f:c<f?c:f,b=u>h?u>d?u:d:h>d?h:d,E=m>c?m>f?m:f:c>f?c:f,x=sm(g,v,e,n,r),S=sm(b,E,e,n,r),T=t.prevZ,C=t.nextZ;T&&T.z>=x&&C&&C.z<=S;){if(T.x>=g&&T.x<=b&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&Mo(u,m,h,c,d,f,T.x,T.y)&&it(T.prev,T,T.next)>=0||(T=T.prevZ,C.x>=g&&C.x<=b&&C.y>=v&&C.y<=E&&C!==i&&C!==o&&Mo(u,m,h,c,d,f,C.x,C.y)&&it(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;T&&T.z>=x;){if(T.x>=g&&T.x<=b&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&Mo(u,m,h,c,d,f,T.x,T.y)&&it(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;C&&C.z<=S;){if(C.x>=g&&C.x<=b&&C.y>=v&&C.y<=E&&C!==i&&C!==o&&Mo(u,m,h,c,d,f,C.x,C.y)&&it(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function wA(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!rd(i,s)&&sw(i,r,r.next,s)&&Pl(i,s)&&Pl(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Il(r),Il(r.next),r=t=s),r=r.next}while(r!==t);return Ys(r)}function bA(t,e,n,r,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&kA(o,u)){var h=ow(o,u);o=Ys(o,o.next),h=Ys(h,h.next),Al(o,e,n,r,i,s,0),Al(h,e,n,r,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function SA(t,e,n,r){var i=[],s,o,u,h,d;for(s=0,o=e.length;s<o;s++)u=e[s]*r,h=s<o-1?e[s+1]*r:t.length,d=iw(t,u,h,r,!1),d===d.next&&(d.steiner=!0),i.push(RA(d));for(i.sort(TA),s=0;s<i.length;s++)n=EA(i[s],n);return n}function TA(t,e){return t.x-e.x}function EA(t,e){var n=CA(t,e);if(!n)return e;var r=ow(n,t);return Ys(r,r.next),Ys(n,n.next)}function CA(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>s&&(s=u,o=n.x<n.next.x?n:n.next,u===r))return o}n=n.next}while(n!==e);if(!o)return null;var h=o,d=o.x,m=o.y,c=1/0,f;n=o;do r>=n.x&&n.x>=d&&r!==n.x&&Mo(i<m?r:s,i,d,m,i<m?s:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),Pl(n,t)&&(f<c||f===c&&(n.x>o.x||n.x===o.x&&AA(o,n)))&&(o=n,c=f)),n=n.next;while(n!==h);return o}function AA(t,e){return it(t.prev,t,e.prev)<0&&it(e.next,t,t.next)<0}function PA(t,e,n,r){var i=t;do i.z===0&&(i.z=sm(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,IA(i)}function IA(t){var e,n,r,i,s,o,u,h,d=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,u=0,e=0;e<d&&(u++,r=r.nextZ,!!r);e++);for(h=d;u>0||h>0&&r;)u!==0&&(h===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,d*=2}while(o>1);return t}function sm(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function RA(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Mo(t,e,n,r,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(r-u)>=(n-o)*(e-u)&&(n-o)*(s-u)>=(i-o)*(r-u)}function kA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!MA(t,e)&&(Pl(t,e)&&Pl(e,t)&&NA(t,e)&&(it(t.prev,t,e.prev)||it(t,e.prev,e))||rd(t,e)&&it(t.prev,t,t.next)>0&&it(e.prev,e,e.next)>0)}function it(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function rd(t,e){return t.x===e.x&&t.y===e.y}function sw(t,e,n,r){var i=nc(it(t,e,n)),s=nc(it(t,e,r)),o=nc(it(n,r,t)),u=nc(it(n,r,e));return!!(i!==s&&o!==u||i===0&&tc(t,n,e)||s===0&&tc(t,r,e)||o===0&&tc(n,t,r)||u===0&&tc(n,e,r))}function tc(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function nc(t){return t>0?1:t<0?-1:0}function MA(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sw(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Pl(t,e){return it(t.prev,t,t.next)<0?it(t,e,t.next)>=0&&it(t,t.prev,e)>=0:it(t,e,t.prev)<0||it(t,t.next,e)<0}function NA(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ow(t,e){var n=new om(t.i,t.x,t.y),r=new om(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ry(t,e,n,r){var i=new om(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Il(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function om(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nd.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(am(t,0,s,n));if(i)for(var u=0,h=e.length;u<h;u++){var d=e[u]*n,m=u<h-1?e[u+1]*n:t.length;o-=Math.abs(am(t,d,m,n))}var c=0;for(u=0;u<r.length;u+=3){var f=r[u]*n,g=r[u+1]*n,v=r[u+2]*n;c+=Math.abs((t[f]-t[v])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[v+1]-t[f+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function am(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}nd.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var dh={},DA={get exports(){return dh},set exports(t){dh=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof $i=="object"&&$i;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,u=2147483647,h=36,d=1,m=26,c=38,f=700,g=72,v=128,b="-",E=/^xn--/,x=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-d,P=Math.floor,D=String.fromCharCode,N;function O(M){throw RangeError(T[M])}function H(M,Z){for(var ie=M.length,be=[];ie--;)be[ie]=Z(M[ie]);return be}function Y(M,Z){var ie=M.split("@"),be="";ie.length>1&&(be=ie[0]+"@",M=ie[1]),M=M.replace(S,".");var xe=M.split("."),Le=H(xe,Z).join(".");return be+Le}function Q(M){for(var Z=[],ie=0,be=M.length,xe,Le;ie<be;)xe=M.charCodeAt(ie++),xe>=55296&&xe<=56319&&ie<be?(Le=M.charCodeAt(ie++),(Le&64512)==56320?Z.push(((xe&1023)<<10)+(Le&1023)+65536):(Z.push(xe),ie--)):Z.push(xe);return Z}function re(M){return H(M,function(Z){var ie="";return Z>65535&&(Z-=65536,ie+=D(Z>>>10&1023|55296),Z=56320|Z&1023),ie+=D(Z),ie}).join("")}function X(M){return M-48<10?M-22:M-65<26?M-65:M-97<26?M-97:h}function z(M,Z){return M+22+75*(M<26)-((Z!=0)<<5)}function ve(M,Z,ie){var be=0;for(M=ie?P(M/f):M>>1,M+=P(M/Z);M>C*m>>1;be+=h)M=P(M/C);return P(be+(C+1)*M/(M+c))}function ye(M){var Z=[],ie=M.length,be,xe=0,Le=v,Te=g,Be,At,Pt,at,Ee,We,Ne,Mn,Nn;for(Be=M.lastIndexOf(b),Be<0&&(Be=0),At=0;At<Be;++At)M.charCodeAt(At)>=128&&O("not-basic"),Z.push(M.charCodeAt(At));for(Pt=Be>0?Be+1:0;Pt<ie;){for(at=xe,Ee=1,We=h;Pt>=ie&&O("invalid-input"),Ne=X(M.charCodeAt(Pt++)),(Ne>=h||Ne>P((u-xe)/Ee))&&O("overflow"),xe+=Ne*Ee,Mn=We<=Te?d:We>=Te+m?m:We-Te,!(Ne<Mn);We+=h)Nn=h-Mn,Ee>P(u/Nn)&&O("overflow"),Ee*=Nn;be=Z.length+1,Te=ve(xe-at,be,at==0),P(xe/be)>u-Le&&O("overflow"),Le+=P(xe/be),xe%=be,Z.splice(xe++,0,Le)}return re(Z)}function te(M){var Z,ie,be,xe,Le,Te,Be,At,Pt,at,Ee,We=[],Ne,Mn,Nn,vs;for(M=Q(M),Ne=M.length,Z=v,ie=0,Le=g,Te=0;Te<Ne;++Te)Ee=M[Te],Ee<128&&We.push(D(Ee));for(be=xe=We.length,xe&&We.push(b);be<Ne;){for(Be=u,Te=0;Te<Ne;++Te)Ee=M[Te],Ee>=Z&&Ee<Be&&(Be=Ee);for(Mn=be+1,Be-Z>P((u-ie)/Mn)&&O("overflow"),ie+=(Be-Z)*Mn,Z=Be,Te=0;Te<Ne;++Te)if(Ee=M[Te],Ee<Z&&++ie>u&&O("overflow"),Ee==Z){for(At=ie,Pt=h;at=Pt<=Le?d:Pt>=Le+m?m:Pt-Le,!(At<at);Pt+=h)vs=At-at,Nn=h-at,We.push(D(z(at+vs%Nn,0))),At=P(vs/Nn);We.push(D(z(At,0))),Le=ve(ie,Mn,be==xe),ie=0,++be}++ie,++Z}return We.join("")}function B(M){return Y(M,function(Z){return E.test(Z)?ye(Z.slice(4).toLowerCase()):Z})}function W(M){return Y(M,function(Z){return x.test(Z)?"xn--"+te(Z):Z})}if(o={version:"1.3.2",ucs2:{decode:Q,encode:re},decode:ye,encode:te,toASCII:W,toUnicode:B},r&&i)if(t.exports==r)i.exports=o;else for(N in o)o.hasOwnProperty(N)&&(r[N]=o[N]);else n.punycode=o})($i)})(DA,dh);var OA={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Rl={};function BA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var LA=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var u=t.length;o>0&&u>o&&(u=o);for(var h=0;h<u;++h){var d=t[h].replace(s,"%20"),m=d.indexOf(n),c,f,g,v;m>=0?(c=d.substr(0,m),f=d.substr(m+1)):(c=d,f=""),g=decodeURIComponent(c),v=decodeURIComponent(f),BA(i,g)?Array.isArray(i[g])?i[g].push(v):i[g]=[i[g],v]:i[g]=v}return i},Ha=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},FA=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ha(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ha(o))}).join(e):s+encodeURIComponent(Ha(t[i]))}).join(e):r?encodeURIComponent(Ha(r))+n+encodeURIComponent(Ha(t)):""};Rl.decode=Rl.parse=LA;Rl.encode=Rl.stringify=FA;var UA=dh,$r=OA,zA=id,HA=ZA,GA=qA;function yr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var $A=/^([a-z0-9.+-]+:)/i,jA=/:[0-9]*$/,WA=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,VA=["<",">",'"',"`"," ","\r",`
`,"	"],XA=["{","}","|","\\","^","`"].concat(VA),lm=["'"].concat(XA),iy=["%","/","?",";","#"].concat(lm),sy=["/","?","#"],YA=255,oy=/^[+a-z0-9A-Z_-]{0,63}$/,QA=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,KA={javascript:!0,"javascript:":!0},um={javascript:!0,"javascript:":!0},Yo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},cm=Rl;function id(t,e,n){if(t&&$r.isObject(t)&&t instanceof yr)return t;var r=new yr;return r.parse(t,e,n),r}yr.prototype.parse=function(t,e,n){if(!$r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!n&&t.split("#").length===1){var h=WA.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=cm.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=$A.exec(u);if(d){d=d[0];var m=d.toLowerCase();this.protocol=m,u=u.substr(d.length)}if(n||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=u.substr(0,2)==="//";c&&!(d&&um[d])&&(u=u.substr(2),this.slashes=!0)}if(!um[d]&&(c||d&&!Yo[d])){for(var f=-1,g=0;g<sy.length;g++){var v=u.indexOf(sy[g]);v!==-1&&(f===-1||v<f)&&(f=v)}var b,E;f===-1?E=u.lastIndexOf("@"):E=u.lastIndexOf("@",f),E!==-1&&(b=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(b)),f=-1;for(var g=0;g<iy.length;g++){var v=u.indexOf(iy[g]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=u.length),this.host=u.slice(0,f),u=u.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var S=this.hostname.split(/\./),g=0,T=S.length;g<T;g++){var C=S[g];if(C&&!C.match(oy)){for(var P="",D=0,N=C.length;D<N;D++)C.charCodeAt(D)>127?P+="x":P+=C[D];if(!P.match(oy)){var O=S.slice(0,g),H=S.slice(g+1),Y=C.match(QA);Y&&(O.push(Y[1]),H.unshift(Y[2])),H.length&&(u="/"+H.join(".")+u),this.hostname=O.join(".");break}}}this.hostname.length>YA?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=UA.toASCII(this.hostname));var Q=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+Q,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!KA[m])for(var g=0,T=lm.length;g<T;g++){var X=lm[g];if(u.indexOf(X)!==-1){var z=encodeURIComponent(X);z===X&&(z=escape(X)),u=u.split(X).join(z)}}var ve=u.indexOf("#");ve!==-1&&(this.hash=u.substr(ve),u=u.slice(0,ve));var ye=u.indexOf("?");if(ye!==-1?(this.search=u.substr(ye),this.query=u.substr(ye+1),e&&(this.query=cm.parse(this.query)),u=u.slice(0,ye)):e&&(this.search="",this.query={}),u&&(this.pathname=u),Yo[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",te=this.search||"";this.path=Q+te}return this.href=this.format(),this};function qA(t){return $r.isString(t)&&(t=id(t)),t instanceof yr?t.format():yr.prototype.format.call(t)}yr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&$r.isObject(this.query)&&Object.keys(this.query).length&&(s=cm.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Yo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+n+o+r};function ZA(t,e){return id(t,!1,!0).resolve(e)}yr.prototype.resolve=function(t){return this.resolveObject(id(t,!1,!0)).format()};yr.prototype.resolveObject=function(t){if($r.isString(t)){var e=new yr;e.parse(t,!1,!0),t=e}for(var n=new yr,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(n[h]=t[h])}return Yo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Yo[t.protocol]){for(var d=Object.keys(t),m=0;m<d.length;m++){var c=d[m];n[c]=t[c]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!um[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),n.pathname=T.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",g=n.search||"";n.path=f+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=b||v||n.host&&t.pathname,x=E,S=n.pathname&&n.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],C=n.protocol&&!Yo[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),E=E&&(T[0]===""||S[0]==="")),b)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=T;else if(T.length)S||(S=[]),S.pop(),S=S.concat(T),n.search=t.search,n.query=t.query;else if(!$r.isNullOrUndefined(t.search)){if(C){n.hostname=n.host=S.shift();var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return n.search=t.search,n.query=t.query,(!$r.isNull(n.pathname)||!$r.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var D=S.slice(-1)[0],N=(n.host||t.host||S.length>1)&&(D==="."||D==="..")||D==="",O=0,H=S.length;H>=0;H--)D=S[H],D==="."?S.splice(H,1):D===".."?(S.splice(H,1),O++):O&&(S.splice(H,1),O--);if(!E&&!x)for(;O--;O)S.unshift("..");E&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),N&&S.join("/").substr(-1)!=="/"&&S.push("");var Y=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(C){n.hostname=n.host=Y?"":S.length?S.shift():"";var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return E=E||n.host&&S.length,E&&!Y&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),(!$r.isNull(n.pathname)||!$r.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};yr.prototype.parseHost=function(){var t=this.host,e=jA.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const JA={parse:zA,format:GA,resolve:HA};function ir(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ga(t){return t.split("?")[0].split("#")[0]}function eP(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tP(t,e,n){return t.replace(new RegExp(eP(e),"g"),n)}function nP(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const h=n.lastIndexOf("/");if(h!==n.length-1){h===-1?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,u)}`:n=t.slice(i+1,u),r=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Ct={toPosix(t){return tP(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){ir(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Ga(this.toPosix(e??oe.ADAPTER.getBaseUrl())),i=Ga(this.toPosix(n??this.rootname(r)));return ir(t),t=this.toPosix(t),t.startsWith("/")?Ct.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),ir(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=nP(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return ir(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(ir(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ir(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){r=u;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){ir(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ir(t),e&&ir(e),t=Ga(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){n=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=u))}return n===r?r=u:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){ir(t),t=Ga(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){ir(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ga(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,h=!0,d=t.length-1,m=0;for(;d>=i;--d){if(n=t.charCodeAt(d),n===47){if(!h){o=d+1;break}continue}u===-1&&(h=!1,u=d+1),n===46?s===-1?s=d:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||u===-1||m===0||m===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&r?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},ay={};function Re(t,e,n=3){if(ay[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),ay[e]=!0}let Zf;function rP(){return typeof Zf>"u"&&(Zf=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const r=oe.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Zf}var iP={grad:.9,turn:360,rad:360/(2*Math.PI)},ai=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Nt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Wn=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},aw=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ly=function(t){return{r:Wn(t.r,0,255),g:Wn(t.g,0,255),b:Wn(t.b,0,255),a:Wn(t.a)}},Jf=function(t){return{r:Nt(t.r),g:Nt(t.g),b:Nt(t.b),a:Nt(t.a,3)}},sP=/^#([0-9a-f]{3,8})$/i,rc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},lw=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),u=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},uw=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),u=r*(1-(e-s)*n),h=r*(1-(1-e+s)*n),d=s%6;return{r:255*[r,u,o,o,h,r][d],g:255*[h,r,r,u,o,o][d],b:255*[o,o,h,r,r,u][d],a:i}},uy=function(t){return{h:aw(t.h),s:Wn(t.s,0,100),l:Wn(t.l,0,100),a:Wn(t.a)}},cy=function(t){return{h:Nt(t.h),s:Nt(t.s),l:Nt(t.l),a:Nt(t.a,3)}},hy=function(t){return uw((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},fl=function(t){return{h:(e=lw(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},oP=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aP=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lP=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uP=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hm={string:[[function(t){var e=sP.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Nt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Nt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=lP.exec(t)||uP.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ly({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=oP.exec(t)||aP.exec(t);if(!e)return null;var n,r,i=uy({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(iP[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return hy(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return ai(e)&&ai(n)&&ai(r)?ly({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!ai(e)||!ai(n)||!ai(r))return null;var o=uy({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return hy(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!ai(e)||!ai(n)||!ai(r))return null;var o=function(u){return{h:aw(u.h),s:Wn(u.s,0,100),v:Wn(u.v,0,100),a:Wn(u.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return uw(o)},"hsv"]]},dy=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},cP=function(t){return typeof t=="string"?dy(t.trim(),hm.string):typeof t=="object"&&t!==null?dy(t,hm.object):[null,void 0]},ep=function(t,e){var n=fl(t);return{h:n.h,s:Wn(n.s+100*e,0,100),l:n.l,a:n.a}},tp=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},fy=function(t,e){var n=fl(t);return{h:n.h,s:n.s,l:Wn(n.l+100*e,0,100),a:n.a}},dm=function(){function t(e){this.parsed=cP(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Nt(tp(this.rgba),2)},t.prototype.isDark=function(){return tp(this.rgba)<.5},t.prototype.isLight=function(){return tp(this.rgba)>=.5},t.prototype.toHex=function(){return e=Jf(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?rc(Nt(255*s)):"","#"+rc(n)+rc(r)+rc(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return Jf(this.rgba)},t.prototype.toRgbString=function(){return e=Jf(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return cy(fl(this.rgba))},t.prototype.toHslString=function(){return e=cy(fl(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=lw(this.rgba),{h:Nt(e.h),s:Nt(e.s),v:Nt(e.v),a:Nt(e.a,3)};var e},t.prototype.invert=function(){return Fr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Fr(ep(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Fr(ep(this.rgba,-e))},t.prototype.grayscale=function(){return Fr(ep(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Fr(fy(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Fr(fy(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Fr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Nt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=fl(this.rgba);return typeof e=="number"?Fr({h:e,s:n.s,l:n.l,a:n.a}):Nt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Fr(e).toHex()},t}(),Fr=function(t){return t instanceof dm?t:new dm(t)},py=[],hP=function(t){t.forEach(function(e){py.indexOf(e)<0&&(e(dm,hm),py.push(e))})};function dP(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,d=r[this.toHex()];if(d)return d;if(o!=null&&o.closest){var m=this.toRgb(),c=1/0,f="black";if(!s.length)for(var g in n)s[g]=new t(n[g]).toRgb();for(var v in n){var b=(u=m,h=s[v],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));b<c&&(c=b,f=v)}return f}},e.string.push([function(o){var u=o.toLowerCase(),h=u==="transparent"?"#0000":n[u];return h?new t(h).toRgb():null},"name"])}hP([dP]);const Qo=class{constructor(t=16777215){this._components=new Float32Array(4),this._components.fill(1),this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){t instanceof Qo?(this._value=t._value,this._int=t._int,this._components.set(t._components)):this._value!==t&&(this.normalize(t),this._value=t)}get value(){return this._value}toRgba(){const[t,e,n,r]=this._components;return{r:t,g:e,b:n,a:r}}toRgb(){const[t,e,n]=this._components;return{r:t,g:e,b:n}}toRgbaString(){const[t,e,n]=this.toUint8RgbArray();return`rgba(${t},${e},${n},${this.alpha})`}toUint8RgbArray(t){const[e,n,r]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(n*255),t[2]=Math.round(r*255),t}toRgbArray(t){t=t??[];const[e,n,r]=this._components;return t[0]=e,t[1]=n,t[2]=r,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,n,r,i]=Qo.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=n,this._components[2]*=r,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t){if(t===1)return(t*255<<24)+this._int;if(t===0)return 0;let e=this._int>>16&255,n=this._int>>8&255,r=this._int&255;return e=e*t+.5|0,n=n*t+.5|0,r=r*t+.5|0,(t*255<<24)+(e<<16)+(n<<8)+r}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=t,this}round(t){const[e,n,r]=this._components;return this._components.set([Math.min(255,e/t*t),Math.min(255,n/t*t),Math.min(255,r/t*t)]),this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,n,r,i]=this._components;return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}normalize(t){let e;if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4&&t.every(n=>n<=1&&n>=0)){const[n,r,i,s=1]=t;e=[n,r,i,s]}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){const[n,r,i,s=255]=t;e=[n/255,r/255,i/255,s/255]}else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const r=Qo.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}const n=Fr(t);if(n.isValid()){const{r,g:i,b:s,a:o}=n.rgba;e=[r/255,i/255,s/255,o]}}else typeof t=="number"&&t>=0&&t<=16777215&&(e=[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255,1]);if(e)this._components.set(e),this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){const[t,e,n]=this._components;this._int=(t*255<<16)+(e*255<<8)+(n*255|0)}};let He=Qo;He.shared=new Qo;He.temp=new Qo;He.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function fP(t){return Re("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),He.shared.setValue(t).toHex()}function pP(t){return Re("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),He.shared.setValue(t).toNumber()}function mP(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const cw=mP();function hw(t,e){return cw[e?1:0][t]}function gP(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function dw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function fh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function my(t){return!(t&t-1)&&!!t}function gy(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Ko(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Xi(t){return t===0?0:t<0?-1:1}let _P=0;function Qs(){return++_P}const fw=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let fm=fw;fm.EMPTY=new fw(0,0,0,0);const _y={},Ur=Object.create(null),Ui=Object.create(null);class vy{constructor(e,n,r){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||oe.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function yy(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function xy(t,e,n,r,i){const s=4*e;for(let o=r,u=r*s+4*n;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function vP(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,u=0,h=e-1,d=n-1;for(;u<n&&yy(s,e,u);)++u;if(u===n)return fm.EMPTY;for(;yy(s,e,d);)--d;for(;xy(s,e,o,u,d);)++o;for(;xy(s,e,h,u,d);)--h;return++h,++d,new fm(o,u,h,d)}function yP(t){const e=vP(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let ic;function xP(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,ic||(ic=document.createElement("a")),ic.href=t;const n=JA.parse(ic.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function as(t,e=1){var r;const n=(r=oe.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var ae=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ae||{});const pm=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},wy=(t,e)=>pm(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(pm).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(pm).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>wy(s,n)-wy(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class mm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const wP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function bP(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function SP(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=wP.replace(/%forloop%/gi,bP(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const np=0,rp=1,ip=2,sp=3,op=4,ap=5;class Ci{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<np)}set blend(e){!!(this.data&1<<np)!==e&&(this.data^=1<<np)}get offsets(){return!!(this.data&1<<rp)}set offsets(e){!!(this.data&1<<rp)!==e&&(this.data^=1<<rp)}get culling(){return!!(this.data&1<<ip)}set culling(e){!!(this.data&1<<ip)!==e&&(this.data^=1<<ip)}get depthTest(){return!!(this.data&1<<sp)}set depthTest(e){!!(this.data&1<<sp)!==e&&(this.data^=1<<sp)}get depthMask(){return!!(this.data&1<<ap)}set depthMask(e){!!(this.data&1<<ap)!==e&&(this.data^=1<<ap)}get clockwiseFrontFace(){return!!(this.data&1<<op)}set clockwiseFrontFace(e){!!(this.data&1<<op)!==e&&(this.data^=1<<op)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ci;return e.depthTest=!1,e.blend=!0,e}}const gm=[];function pw(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=gm.length-1;r>=0;--r){const i=gm[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class xr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:m}=this;this._aliasCount++;for(let c=0,f=m.length;c<f;c++)m[c][d](e,n,r,i,s,o,u,h);return m===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(xr.prototype,{dispatch:{value:xr.prototype.emit},run:{value:xr.prototype.emit}});class kl{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new xr("setRealSize"),this.onUpdate=new xr("update"),this.onError=new xr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class ru extends kl{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Cr.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const TP={scaleMode:di.NEAREST,format:ee.RGBA,alphaMode:Cr.NPM},Co=class extends Xs{constructor(t=null,e=null){super(),e=Object.assign({},Co.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:u,wrapMode:h,format:d,type:m,target:c,resolution:f,resourceOptions:g}=e;t&&!(t instanceof kl)&&(t=pw(t,g),t.internal=!0),this.resolution=f||oe.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=h,this._scaleMode=s,this.format=d,this.type=m,this.target=c,this.alphaMode=n,this.uid=Qs(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=my(this.realWidth)&&my(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ui[this.cacheId],delete Ur[this.cacheId],this.cacheId=null),this.dispose(),Co.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=oe.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Qs()}`}i=t._pixiId}let s=Ui[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Co(t,e),s.cacheId=i,Co.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new ru(t,{width:e,height:n}),s=t instanceof Float32Array?ge.FLOAT:ge.UNSIGNED_BYTE;return new Co(i,Object.assign({},TP,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ui[e]&&Ui[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ui[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ui[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Ui[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ui[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let we=Co;we.defaultOptions={mipmap:Kr.POW2,anisotropicLevel:0,scaleMode:di.LINEAR,wrapMode:_i.CLAMP,alphaMode:Cr.UNPACK,target:Xo.TEXTURE_2D,format:ee.RGBA,type:ge.UNSIGNED_BYTE};we._globalBatch=0;class _m{constructor(){this.texArray=null,this.blend=0,this.type=mr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let EP=0;class gt{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=EP++,this.disposeRunner=new xr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Vr.ELEMENT_ARRAY_BUFFER:Vr.ARRAY_BUFFER}get index(){return this.type===Vr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new gt(e)}}class ph{constructor(e,n=0,r=!1,i=ge.FLOAT,s,o,u,h=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,n,r,i,s){return new ph(e,n,r,i,s)}}const CP={Float32Array,Uint32Array,Int32Array,Uint8Array};function AP(t,e){let n=0,r=0;const i={};for(let h=0;h<t.length;h++)r+=e[h],n+=t[h].length;const s=new ArrayBuffer(n*4);let o=null,u=0;for(let h=0;h<t.length;h++){const d=e[h],m=t[h],c=dw(m);i[c]||(i[c]=new CP[c](s)),o=i[c];for(let f=0;f<m.length;f++){const g=(f/d|0)*r+u,v=f%d;o[g+v]=m[f]}u+=d}return new Float32Array(s)}const by={5126:4,5123:2,5121:1};let PP=0;const IP={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ls{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=PP++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new xr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,u,h=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof gt||(n instanceof Array&&(n=new Float32Array(n)),n=new gt(n));const d=e.split("|");if(d.length>1){for(let c=0;c<d.length;c++)this.addAttribute(d[c],n,r,i,s);return this}let m=this.buffers.indexOf(n);return m===-1&&(this.buffers.push(n),m=this.buffers.length-1),this.attributes[e]=new ph(m,r,i,s,o,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof gt||(e instanceof Array&&(e=new Uint16Array(e)),e=new gt(e)),e.type=Vr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new gt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*by[s.type]/4),s.buffer=0}for(r.data=AP(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ls;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new gt(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new ph(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Vr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new ls,r=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let u=0;u<o.buffers.length;u++)r[u]=new IP[dw(o.buffers[u].data)](i[u]),n.buffers[u]=new gt(r[u]);for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)r[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Vr.ELEMENT_ARRAY_BUFFER;let u=0,h=0,d=0,m=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){m=c;break}for(const c in o.attributes){const f=o.attributes[c];(f.buffer|0)===m&&(h+=f.size*by[f.type]/4)}for(let c=0;c<e.length;c++){const f=e[c].indexBuffer.data;for(let g=0;g<f.length;g++)n.indexBuffer.data[g+d]+=u;u+=e[c].buffers[m].data.length/h,d+=f.length}}return n}}class mw extends ls{constructor(e=!1){super(),this._buffer=new gt(null,e,!1),this._indexBuffer=new gt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const mh=Math.PI*2,RP=180/Math.PI,kP=Math.PI/180;var Ht=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ht||{});class ke{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new ke(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const sc=[new ke,new ke,new ke,new ke];let Ce=class vm{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Ht.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new vm(0,0,0,0)}clone(){return new vm(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const O=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=O)return!1;const Y=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Y}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const u=sc[0].set(e.left,e.top),h=sc[1].set(e.left,e.bottom),d=sc[2].set(e.right,e.top),m=sc[3].set(e.right,e.bottom);if(d.x<=u.x||h.y<=u.y)return!1;const c=Math.sign(n.a*n.d-n.b*n.c);if(c===0||(n.apply(u,u),n.apply(h,h),n.apply(d,d),n.apply(m,m),Math.max(u.x,h.x,d.x,m.x)<=r||Math.min(u.x,h.x,d.x,m.x)>=i||Math.max(u.y,h.y,d.y,m.y)<=s||Math.min(u.y,h.y,d.y,m.y)>=o))return!1;const f=c*(h.y-u.y),g=c*(u.x-h.x),v=f*r+g*s,b=f*i+g*s,E=f*r+g*o,x=f*i+g*o;if(Math.max(v,b,E,x)<=f*u.x+g*u.y||Math.min(v,b,E,x)>=f*m.x+g*m.y)return!1;const S=c*(u.y-d.y),T=c*(d.x-u.x),C=S*r+T*s,P=S*i+T*s,D=S*r+T*o,N=S*i+T*o;return!(Math.max(C,P,D,N)<=S*u.x+T*u.y||Math.min(C,P,D,N)>=S*m.x+T*m.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}},MP=class gw{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=Ht.CIRC}clone(){return new gw(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new Ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}};class Kg{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=Ht.ELIP}clone(){return new Kg(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Ce(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class qo{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=Ht.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new qo(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],h=this.points[s*2+1],d=this.points[o*2],m=this.points[o*2+1];h>n!=m>n&&e<(d-u)*((n-h)/(m-h))+u&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class qg{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=Ht.RREC}clone(){return new qg(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Je{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new ke;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new ke;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,u,h,d){return this.a=Math.cos(u+d)*s,this.b=Math.sin(u+d)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(r,n),d=Math.abs(u+h);return d<1e-5||Math.abs(mh-d)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Je;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Je}static get TEMP_MATRIX(){return new Je}}const ks=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ms=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ns=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ds=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ym=[],_w=[],oc=Math.sign;function NP(){for(let t=0;t<16;t++){const e=[];ym.push(e);for(let n=0;n<16;n++){const r=oc(ks[t]*ks[n]+Ns[t]*Ms[n]),i=oc(Ms[t]*ks[n]+Ds[t]*Ms[n]),s=oc(ks[t]*Ns[n]+Ns[t]*Ds[n]),o=oc(Ms[t]*Ns[n]+Ds[t]*Ds[n]);for(let u=0;u<16;u++)if(ks[u]===r&&Ms[u]===i&&Ns[u]===s&&Ds[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new Je;e.set(ks[t],Ms[t],Ns[t],Ds[t],0,0),_w.push(e)}}NP();const nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ks[t],uY:t=>Ms[t],vX:t=>Ns[t],vY:t=>Ds[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>ym[t][e],sub:(t,e)=>ym[t][nt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?nt.S:nt.N:Math.abs(e)*2<=Math.abs(t)?t>0?nt.E:nt.W:e>0?t>0?nt.SE:nt.SW:t>0?nt.NE:nt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=_w[nt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class fi{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new fi(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const vw=class{constructor(){this.worldTransform=new Je,this.localTransform=new Je,this.position=new fi(this.onChange,this,0,0),this.scale=new fi(this.onChange,this,1,1),this.pivot=new fi(this.onChange,this,0,0),this.skew=new fi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let sd=vw;sd.IDENTITY=new vw;var DP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,OP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Sy(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function lp(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function yw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return lp(2*e);case"bvec3":return lp(3*e);case"bvec4":return lp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Zo=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],BP={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},LP={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function FP(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let h=0;h<Zo.length;h++)if(Zo[h].test(s,o)){n.push(Zo[h].code(i,o)),u=!0;break}if(!u){const d=(s.size===1&&!s.isArray?BP:LP)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const xw={};let wo=xw;function UP(){if(wo===xw||wo!=null&&wo.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=to.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),wo=e}return wo}let ac;function zP(){if(!ac){ac=jn.MEDIUM;const t=UP();t&&t.getShaderPrecisionFormat&&(ac=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?jn.HIGH:jn.MEDIUM)}return ac}function Ty(t,e){const n=t.getShaderSource(e).split(`
`).map((d,m)=>`${m}: ${d}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),u=[""];o.forEach(d=>{n[d-1]=`%c${n[d-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=n.join(`
`);u[0]=h,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function HP(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||Ty(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||Ty(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const GP={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ww(t){return GP[t]}let lc=null;const Ey={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function bw(t,e){if(!lc){const n=Object.keys(Ey);lc={};for(let r=0;r<n.length;++r){const i=n[r];lc[t[i]]=Ey[i]}}return lc[e]}function Cy(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===jn.HIGH&&n!==jn.HIGH&&(r=jn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==jn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let $a;function $P(){if(typeof $a=="boolean")return $a;try{$a=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$a=!1}return $a}let jP=0;const uc={},Ao=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=jP++,this.vertexSrc=t||Ao.defaultVertexSrc,this.fragmentSrc=e||Ao.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),uc[n]?(uc[n]++,n+=`-${uc[n]}`):uc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Cy(this.vertexSrc,Ao.defaultVertexPrecision,jn.HIGH),this.fragmentSrc=Cy(this.fragmentSrc,Ao.defaultFragmentPrecision,zP())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return OP}static get defaultFragmentSrc(){return DP}static from(t,e,n){const r=t+e;let i=_y[r];return i||(_y[r]=i=new Ao(t,e,n)),i}};let gr=Ao;gr.defaultVertexPrecision=jn.HIGH;gr.defaultFragmentPrecision=Wr.apple.device?jn.HIGH:jn.MEDIUM;let WP=0;class wr{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=WP++,this.static=!!n,this.ubo=!!r,e instanceof gt?(this.buffer=e,this.buffer.type=Vr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new gt(new Float32Array(1)),this.buffer.type=Vr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new wr(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new wr(e,n,r)}static uboFrom(e,n){return new wr(e,n??!0,!0)}}class Xr{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof wr?this.uniformGroup=n:this.uniformGroup=new wr(n):this.uniformGroup=new wr({}),this.disposeRunner=new xr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=gr.from(e,n);return new Xr(i,r)}}class VP{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=wr.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new gr(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Je,default:this.defaultGroupCache[e]};return new Xr(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class xm{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function XP(){return!Wr.apple.device}function YP(t){let e=!0;const n=oe.ADAPTER.getNavigator();if(Wr.tablet||Wr.phone){if(Wr.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Wr.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class od{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var QP=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,KP=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ar=class extends od{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=mw,this.vertexSize=6,this.state=Ci.for2d(),this.size=ar.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??YP(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??XP(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Re("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return KP}static get defaultFragmentTemplate(){return QP}setShaderGenerator({vertex:t=ar.defaultVertexSrc,fragment:e=ar.defaultFragmentTemplate}={}){this.shaderGenerator=new VP(t,e)}contextChange(){const t=this.renderer.gl;oe.PREFER_ENV===to.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ar.defaultMaxTextures),this.maxTextures=SP(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=ar,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new _m);for(;e.length<r;)e.push(new xm);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=ar._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++we._globalBatch,u=0,h=n[0],d=0;r.copyBoundTextures(i,e);for(let m=0;m<this._bufferSize;++m){const c=t[m];t[m]=null,c._batchEnabled!==o&&(h.count>=e&&(r.boundArray(h,i,o,e),this.buildDrawCalls(h,d,m),d=m,h=n[++u],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}h.count>0&&(r.boundArray(h,i,o,e),this.buildDrawCalls(h,d,this._bufferSize),++u,++o);for(let m=0;m<i.length;m++)i[m]=null;we._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,u=ar._drawCallPool;let h=this._dcIndex,d=this._aIndex,m=this._iIndex,c=u[h];c.start=this._iIndex,c.texArray=t;for(let f=e;f<n;++f){const g=r[f],v=g._texture.baseTexture,b=cw[v.alphaMode?1:0][g.blendMode];r[f]=null,e<f&&c.blend!==b&&(c.size=m-c.start,e=f,c=u[++h],c.texArray=t,c.start=m),this.packInterleavedGeometry(g,i,s,d,m),d+=g.vertexData.length/2*o,m+=g.indices.length,c.blend=b}e<n&&(c.size=m-c.start,++h),this._dcIndex=h,this._aIndex=d,this._iIndex=m}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;ar.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=ar._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:u,size:h,start:d,blend:m}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=m,n.set(this.state),e.drawElements(u,h,e.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ar.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=fh(Math.ceil(t/8)),n=gy(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new mm(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=fh(Math.ceil(t/12)),n=gy(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,u=r/this.vertexSize,h=t.uvs,d=t.indices,m=t.vertexData,c=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),g=He.shared.setValue(t._tintRGB).toPremultiplied(f);for(let v=0;v<m.length;v+=2)o[r++]=m[v],o[r++]=m[v+1],o[r++]=h[v],o[r++]=h[v+1],s[r++]=g,o[r++]=c;for(let v=0;v<d.length;v++)n[i++]=u+d[v]}};let dr=ar;dr.defaultBatchSize=4096;dr.extension={name:"batch",type:ae.RendererPlugin};dr._drawCallPool=[];dr._textureArrayPool=[];fe.add(dr);var qP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ZP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const nl=class extends Xr{constructor(t,e,n){const r=gr.from(t||nl.defaultVertexSrc,e||nl.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=nl.defaultResolution,this.multisample=nl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ci}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return ZP}static get defaultFragmentSrc(){return qP}};let Gt=nl;Gt.defaultResolution=1;Gt.defaultMultisample=ht.NONE;class ad{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new He(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:n,background:r,backgroundAlpha:i}=e,s=r??n;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}ad.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};ad.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"background"};fe.add(ad);class Sw{constructor(e){this.renderer=e,this.emptyRenderer=new od(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:u}=e;let h=0;for(let d=0;d<u;d++){const m=s[d],c=m._batchLocation;if(c>=0&&c<i&&n[c]===m){o[d]=c;continue}for(;h<i;){const f=n[h];if(f&&f._batchEnabled===r&&f._batchLocation===h){h++;continue}o[d]=h,m._batchLocation=h,n[h]=m;break}}}destroy(){this.renderer=null}}Sw.extension={type:ae.RendererSystem,name:"batch"};fe.add(Sw);let Ay=0;class ld{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ay++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ay++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(oe.PREFER_ENV>=to.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ld.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};ld.extension={type:ae.RendererSystem,name:"context"};fe.add(ld);class JP extends ru{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Cr.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class wm{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new xr("disposeFramebuffer"),this.multisample=ht.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new we(null,{scaleMode:di.NEAREST,resolution:1,mipmap:Kr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new we(new JP(null,{width:this.width,height:this.height}),{scaleMode:di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Kr.OFF,format:ee.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Tw extends we{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=ht.NONE),super(null,e),this.mipmap=Kr.OFF,this.valid=!0,this._clear=new He([0,0,0,0]),this.framebuffer=new wm(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class us extends kl{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=xP(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,u=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Cr.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=u,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class Ew extends us{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;us.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const u=s[o];if(u!==r&&u.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Cw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,u=e.height/2/s,h=e.x/i+o,d=e.y/s+u;r=nt.add(r,nt.NW),this.x0=h+o*nt.uX(r),this.y0=d+u*nt.uY(r),r=nt.add(r,2),this.x1=h+o*nt.uX(r),this.y1=d+u*nt.uY(r),r=nt.add(r,2),this.x2=h+o*nt.uX(r),this.y2=d+u*nt.uY(r),r=nt.add(r,2),this.x3=h+o*nt.uX(r),this.y3=d+u*nt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Py=new Cw;function cc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class se extends Xs{constructor(e,n,r,i,s,o,u){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new Ce(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=Py,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ke(o.x,o.y):new ke(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Ur[n.url]&&se.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new se(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===Py&&(this._uvs=new Cw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof we){if(!e.cacheId){const u=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Qs()}`,we.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Qs()}`}s=e._pixiId}let o=Ur[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof we)?(n.resolution||(n.resolution=as(e)),o=new se(new we(e,n)),o.baseTexture.cacheId=s,we.addToCache(o.baseTexture,s),se.addToCache(o,s)):!o&&e instanceof we&&(o=new se(e),se.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=se.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new se(we.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new we(e,Object.assign({scaleMode:we.defaultOptions.scaleMode,resolution:as(n)},i)),{resource:o}=s;o instanceof Ew&&(o.url=n);const u=new se(s);return r||(r=n),we.addToCache(u.baseTexture,r),se.addToCache(u,r),r!==n&&(we.addToCache(u.baseTexture,n),se.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Ur[n]&&Ur[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Ur[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Ur[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Ur[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Ur[e.textureCacheIds[n]]===e&&delete Ur[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,u=r+s>this.baseTexture.height;if(o||u){const h=o&&u?"and":"or",d=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,m=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${h} ${m}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new we),cc(se._EMPTY),cc(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=oe.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),se._WHITE=new se(we.from(e)),cc(se._WHITE),cc(se._WHITE.baseTexture)}return se._WHITE}}class cs extends se{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new cs(new Tw(e))}}class Aw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=ht.NONE){const i=new Tw(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new cs(i)}getOptimalTexture(e,n,r=1,i=ht.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=fh(e),n=fh(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||ht.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Aw.SCREEN_KEY=-1;class eI extends ls{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Pw extends ls{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new gt(this.vertices),this.uvBuffer=new gt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class tI{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ht.NONE,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.bindingSourceFrame=new Ce,this.bindingDestinationFrame=new Ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const hc=[new ke,new ke,new ke,new ke],up=new Je;class Iw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Aw,this.statePool=[],this.quad=new eI,this.quadUv=new Pw,this.tempRect=new Ce,this.activeState={},this.globalUniforms=new wr({outputFrame:new Ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new tI,o=this.renderer.renderTexture;let u=n[0].resolution,h=n[0].multisample,d=n[0].padding,m=n[0].autoFit,c=n[0].legacy??!0;for(let v=1;v<n.length;v++){const b=n[v];u=Math.min(u,b.resolution),h=Math.min(h,b.multisample),d=this.useMaxPadding?Math.max(d,b.padding):d+b.padding,m=m&&b.autoFit,c=c||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=h,s.legacy=c,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const f=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(up.copyFrom(r.projection.transform).invert(),f),m?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,h),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=n.sourceFrame.width*s[2]-.5*o[2],u[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const d=i.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,h.renderTexture,Gr.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let d=n.renderTexture,m=this.getOptimalFilterTexture(d.width,d.height,n.resolution);m.filterFrame=d.filterFrame;let c=0;for(c=0;c<r.length-1;++c){c===1&&n.multisample>1&&(m=this.getOptimalFilterTexture(d.width,d.height,n.resolution),m.filterFrame=d.filterFrame),r[c].apply(this,d,m,Gr.CLEAR,n);const f=d;d=m,m=f}r[c].apply(this,d,h.renderTexture,Gr.BLEND,n),c>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(m)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Gr.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Gr.CLEAR||n===Gr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(mr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(mr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),u=n.worldTransform.copyTo(Je.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=ht.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||ht.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=hc[0],i=hc[1],s=hc[2],o=hc[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(r.x,i.x,s.x,o.x),h=Math.min(r.y,i.y,s.y,o.y),d=Math.max(r.x,i.x,s.x,o.x),m=Math.max(r.y,i.y,s.y,o.y);n.x=u,n.y=h,n.width=d-u,n.height=m-h}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:u,c:h,d}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?up.copyFrom(s):up.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}Iw.extension={type:ae.RendererSystem,name:"filter"};fe.add(Iw);class nI{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ht.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const rI=new Ce;class Rw{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new wm(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===to.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,u=n.height>>r,h=o/n.width;this.setViewport(n.x*h,n.y*h,o,u)}else{const o=e.width>>r,u=e.height>>r;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=rm.COLOR|rm.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new nI(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<o;h++){const d=s[h],m=d.parentTextureArray||d;this.renderer.texture.bind(m,0),h===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+h,d.target,m._glTextures[this.CONTEXT_UID].texture,n),u.push(r.COLOR_ATTACHMENT0+h))}if(u.length>1&&r.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const d=e.depthTexture;this.renderer.texture.bind(d,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=ht.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=ht.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const m=i.colorTextures[0];if(!m)return;h.blitFramebuffer||(h.blitFramebuffer=new wm(i.width,i.height),h.blitFramebuffer.addColorTexture(0,m)),e=h.blitFramebuffer,e.colorTextures[0]!==m&&(e.colorTextures[0]=m,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=rI,n.width=i.width,n.height=i.height),r||(r=n);const d=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ce}destroy(){this.renderer=null}}Rw.extension={type:ae.RendererSystem,name:"framebuffer"};fe.add(Rw);const cp={5126:4,5123:2,5121:1};class kw{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===to.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,h)=>r.drawElementsInstancedANGLE(i,s,o,u,h),e.drawArraysInstanced=(i,s,o,u)=>r.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=n.program;u.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,u);const h=this.getSignature(e,u),d=e.glVertexArrayObjects[this.CONTEXT_UID];let m=d[h];if(m)return d[u.id]=m,m;const c=e.buffers,f=e.attributes,g={},v={};for(const b in c)g[b]=0,v[b]=0;for(const b in f)!f[b].size&&u.attributeData[b]?f[b].size=u.attributeData[b].size:f[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),g[f[b].buffer]+=f[b].size*cp[f[b].type];for(const b in f){const E=f[b],x=E.size;E.stride===void 0&&(g[E.buffer]===x*cp[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=v[E.buffer],v[E.buffer]+=x*cp[E.type])}m=i.createVertexArray(),i.bindVertexArray(m);for(let b=0;b<c.length;b++){const E=c[b];o.bind(E),r&&E._glBuffers[s].refCount++}return this.activateVao(e,u),d[u.id]=m,d[h]=m,i.bindVertexArray(null),o.unbind(Vr.ARRAY_BUFFER),m}disposeGeometry(e,n){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let h=0;h<s.length;h++){const d=s[h]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!n&&o.dispose(s[h],n))}if(!n){for(const h in r)if(h[0]==="g"){const d=r[h];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const d in u){const m=u[d],c=o[m.buffer],f=c._glBuffers[i];if(n.attributeData[d]){h!==f&&(s.bind(c),h=f);const g=n.attributeData[d].location;if(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,m.size,m.type||r.FLOAT,m.normalized,m.stride,m.start),m.instance)if(this.hasInstance)r.vertexAttribDivisor(g,m.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,h,(r||0)*u,i||1):s.drawElements(e,n||o.indexBuffer.data.length,h,(r||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}kw.extension={type:ae.RendererSystem,name:"geometry"};fe.add(kw);const Iy=new Je;class Zg{constructor(e,n){this._texture=e,this.mapCoord=new Je,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(Iy.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Iy));const o=n.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,d=this.clampOffset;return u[0]=(n._frame.x+h+d)/o.width,u[1]=(n._frame.y+h+d)/o.height,u[2]=(n._frame.x+n._frame.width-h+d)/o.width,u[3]=(n._frame.y+n._frame.height-h+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var iI=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,sI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class oI extends Gt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||sI,n||iI,r),this.maskSprite=i,this.maskMatrix=new Je}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Zg(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class aI{constructor(e=null){this.type=St.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Gt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=St.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Mw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new aI;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==St.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case St.SCISSOR:this.renderer.scissor.push(r);break;case St.STENCIL:this.renderer.stencil.push(r);break;case St.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case St.COLOR:this.pushColorMask(r);break}r.type===St.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case St.SCISSOR:this.renderer.scissor.pop(n);break;case St.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case St.SPRITE:this.popSpriteMask(n);break;case St.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===St.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=St.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=St.SCISSOR:e.type=St.STENCIL:e.type=St.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new oI]));const s=this.renderer,o=s.renderTexture;let u,h;if(o.current){const m=o.current;u=e.resolution||m.resolution,h=e.multisample??m.multisample}else u=e.resolution||s.resolution,h=e.multisample??s.multisample;i[0].resolution=u,i[0].multisample=h,i[0].maskSprite=n;const d=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=d,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}Mw.extension={type:ae.RendererSystem,name:"mask"};fe.add(Mw);class Nw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Ry=new Je,ky=[],Wc=class extends Nw{constructor(t){super(t),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,ky.pop()??new Ce);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Wc.isMatrixRotated(e.worldTransform)||Wc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Wc.isMatrixRotated(i)||(i=i?Ry.copyFrom(i):Ry.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&ky.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let Dw=Wc;Dw.extension={type:ae.RendererSystem,name:"scissor"};fe.add(Dw);class Ow extends Nw{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Ow.extension={type:ae.RendererSystem,name:"stencil"};fe.add(Ow);class Bw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Bw.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"_plugin"};fe.add(Bw);class Lw{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Je,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Lw.extension={type:ae.RendererSystem,name:"projection"};fe.add(Lw);const lI=new sd;class Fw{constructor(e){this.renderer=e,this._tempMatrix=new Je}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=cs.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=lI,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,o}destroy(){}}Fw.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"textureGenerator"};fe.add(Fw);const Ps=new Ce,ja=new Ce;class Uw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.viewportFrame=new Ce}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,n||(Ps.width=e.frame.width,Ps.height=e.frame.height,n=Ps),r||(ja.x=e.frame.x,ja.y=e.frame.y,ja.width=n.width,ja.height=n.height,r=ja),o=s.framebuffer):(u=i.resolution,n||(Ps.width=i._view.screen.width,Ps.height=i._view.screen.height,n=Ps),r||(r=Ps,r.width=n.width,r.height=n.height));const h=this.viewportFrame;h.x=r.x*u,h.y=r.y*u,h.width=r.width*u,h.height=r.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(r,n,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=e?He.shared.setValue(e):r,s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:h,y:d,width:m,height:c}=this.viewportFrame;h=Math.round(h),d=Math.round(d),m=Math.round(m),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,d,m,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,n),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Uw.extension={type:ae.RendererSystem,name:"renderTexture"};fe.add(Uw);class uI{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function cI(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=bw(e,s.type),u={type:o,name:s.name,size:ww(o),location:e.getAttribLocation(t,s.name)};n[s.name]=u}return n}function hI(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=bw(e,s.type);n[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:yw(h,s.size)}}return n}function dI(t,e){var h;const n=Sy(t,t.VERTEX_SHADER,e.vertexSrc),r=Sy(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(h=e.extra)==null?void 0:h.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||HP(t,i,n,r),e.attributeData=cI(i,t),e.uniformData=hI(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const d=Object.keys(e.attributeData);d.sort((m,c)=>m>c?1:-1);for(let m=0;m<d.length;m++)e.attributeData[d[m]].location=m,t.bindAttribLocation(i,m,d[m]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const d in e.uniformData){const m=e.uniformData[d];o[d]={location:t.getUniformLocation(i,d),value:yw(m.type,m.size)}}return new uI(i,o)}function fI(t,e,n,r,i){n.buffer.update(i)}const pI={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},zw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function mI(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=zw[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const u=r%n%16;r+=u,i+=u}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function gI(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function _I(t,e){if(!t.autoManage)return{size:0,syncFunc:fI};const n=gI(t.uniforms,e),{uboElements:r,size:i}=mI(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const u=r[o],h=t.uniforms[u.data.name],d=u.data.name;let m=!1;for(let c=0;c<Zo.length;c++){const f=Zo[c];if(f.codeUbo&&f.test(u.data,h)){s.push(`offset = ${u.offset/4};`,Zo[c].codeUbo(u.data.name,h)),m=!0;break}}if(!m)if(u.data.size>1){const c=ww(u.data.type),f=Math.max(zw[u.data.type]/16,1),g=c/f,v=(4-g%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*f}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const c=pI[u.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let vI=0;const dc={textureCount:0,uboCount:0};class Hw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vI++}systemCheck(){if(!$P())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(dc.textureCount=0,dc.uboCount=0,this.syncUniformGroup(e.uniformGroup,dc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=FP(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,dc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=_I(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return n.uniformGroups[e.id]=u.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=dI(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Hw.extension={type:ae.RendererSystem,name:"shader"};fe.add(Hw);class ud{constructor(e){this.renderer=e}run(e){const{renderer:n}=this;n.runners.init.emit(n.options),e.hello&&console.log(`PixiJS 7.2.0-beta - ${n.rendererLogId} - https://pixijs.com`),n.resize(n.screen.width,n.screen.height)}destroy(){}}ud.defaultOptions={hello:!1};ud.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"startup"};fe.add(ud);function yI(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const xI=0,wI=1,bI=2,SI=3,TI=4,EI=5,bm=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[xI]=this.setBlend,this.map[wI]=this.setOffset,this.map[bI]=this.setCullFace,this.map[SI]=this.setDepthTest,this.map[TI]=this.setFrontFace,this.map[EI]=this.setDepthMask,this.checks=[],this.defaultState=new Ci,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=yI(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(bm.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(bm.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Gw=bm;Gw.extension={type:ae.RendererSystem,name:"state"};fe.add(Gw);class CI extends Xs{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new xr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Vc=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Vc.defaultMaxIdle,this.checkCountMax=Vc.defaultCheckCountMax,this.mode=Vc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Qg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let fr=Vc;fr.defaultMode=Qg.AUTO;fr.defaultMaxIdle=60*60;fr.defaultCheckCountMax=60*10;fr.extension={type:ae.RendererSystem,name:"textureGC"};fe.add(fr);class hp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function AI(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class $w{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new we,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=AI(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new hp(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new hp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==im.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new hp(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==im.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,u.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Ko(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===Kr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=_i.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==Kr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===di.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===di.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===di.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===di.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}$w.extension={type:ae.RendererSystem,name:"texture"};fe.add($w);class jw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(r.buffer.update(u),u._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!n&&s.dispose(u,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}jw.extension={type:ae.RendererSystem,name:"transformFeedback"};fe.add(jw);class cd{constructor(e){this.renderer=e}init(e){this.screen=new Ce(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}cd.defaultOptions={width:800,height:600,resolution:oe.RESOLUTION,autoDensity:!1};cd.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"_view"};fe.add(cd);oe.PREFER_ENV=to.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;oe.RENDER_OPTIONS={...ld.defaultOptions,...ad.defaultOptions,...cd.defaultOptions,...ud.defaultOptions};Object.defineProperties(oe,{WRAP_MODE:{get(){return we.defaultOptions.wrapMode},set(t){Re("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),we.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return we.defaultOptions.scaleMode},set(t){Re("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),we.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return we.defaultOptions.mipmap},set(t){Re("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),we.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return we.defaultOptions.anisotropicLevel},set(t){Re("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),we.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Re("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Gt.defaultResolution},set(t){Gt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Re("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Gt.defaultMultisample},set(t){Gt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return dr.defaultMaxTextures},set(t){Re("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),dr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return dr.defaultBatchSize},set(t){Re("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),dr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return dr.canUploadSameBuffer},set(t){Re("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),dr.canUploadSameBuffer=t}},GC_MODE:{get(){return fr.defaultMode},set(t){Re("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),fr.defaultMode=t}},GC_MAX_IDLE:{get(){return fr.defaultMaxIdle},set(t){Re("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),fr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return fr.defaultCheckCountMax},set(t){Re("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),fr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return gr.defaultVertexPrecision},set(t){Re("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),gr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return gr.defaultFragmentPrecision},set(t){Re("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),gr.defaultFragmentPrecision=t}}});var hs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(hs||{});class dp{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Sn=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dp(null,null,1/0),this.deltaMS=1/Sn.targetFPMS,this.elapsedMS=1/Sn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=hs.NORMAL){return this._addListener(new dp(t,e,n))}addOnce(t,e,n=hs.NORMAL){return this._addListener(new dp(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Sn.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Sn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Sn._shared){const t=Sn._shared=new Sn;t.autoStart=!0,t._protected=!0}return Sn._shared}static get system(){if(!Sn._system){const t=Sn._system=new Sn;t.autoStart=!0,t._protected=!0}return Sn._system}};let _t=Sn;_t.targetFPMS=.06;Object.defineProperties(oe,{TARGET_FPMS:{get(){return _t.targetFPMS},set(t){Re("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),_t.targetFPMS=t}}});class Ww{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,hs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?_t.shared:new _t,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Ww.extension=ae.Application;fe.add(Ww);const Vw=[];fe.handleByList(ae.Renderer,Vw);function PI(t){for(const e of Vw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var II=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,RI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const kI=II,Xw=RI;class Yw{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=ht.HIGH?this.multisample=ht.HIGH:n>=ht.MEDIUM?this.multisample=ht.MEDIUM:n>=ht.LOW?this.multisample=ht.LOW:this.multisample=ht.NONE}destroy(){}}Yw.extension={type:ae.RendererSystem,name:"_multisample"};fe.add(Yw);class MI{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Qw{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new MI(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Qw.extension={type:ae.RendererSystem,name:"buffer"};fe.add(Qw);class Kw{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,u;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,u=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Kw.extension={type:ae.RendererSystem,name:"objectRenderer"};fe.add(Kw);const Sm=class extends CI{constructor(t){super(),t=Object.assign({},oe.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new wr({projectionMatrix:new Je},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Sm.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Re("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Sm.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:rP()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Re("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Re("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Re("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Re("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ga=Sm;ga.extension={type:ae.Renderer,priority:1};ga.__plugins={};ga.__systems={};fe.handleByMap(ae.RendererPlugin,ga.__plugins);fe.handleByMap(ae.RendererSystem,ga.__systems);fe.add(ga);class qw extends kl{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new we;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof kl?this.addResourceAt(e[r],r):this.addResourceAt(pw(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class NI extends qw{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Xo.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;r.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let h=0;h<i;h++){const d=o[h];s[h]<d.dirtyId&&(s[h]=d.dirtyId,d.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,d.resource.width,d.resource.height,1,n.format,r.type,d.resource.source))}return!0}}class DI extends us{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const rl=class extends qw{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==rl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<rl.SIDES;o++)this.items[o].target=Xo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Xo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Xo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<rl.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===rl.SIDES}};let Zw=rl;Zw.SIDES=6;class No extends us{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=No.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return No._EMPTY=No._EMPTY??oe.ADAPTER.createCanvas(0,0),No._EMPTY}}const Xc=class extends us{constructor(t,e){e=e||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Xc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;us.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Qs()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Xc.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Xc.SVG_XML.test(t)}};let Ml=Xc;Ml.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Ml.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Tm=class extends us{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];us.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:u}=t[i];o=o||t[i];const h=o.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);u=u||Tm.MIME_TYPES[d]||`video/${d}`,s.src=o,s.type=u,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=_t.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Tm.TYPES.includes(e)}};let Jg=Tm;Jg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Jg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};gm.push(No,Ew,DI,Jg,Ml,ru,Zw,NI);class gh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ce.EMPTY:(e=e||new Ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:u,ty:h}=e,d=r*n.x+s*n.y+u,m=i*n.x+o*n.y+h;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,m),this.maxY=Math.max(this.maxY,m)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,u=e.b,h=e.c,d=e.d,m=e.tx,c=e.ty;let f=this.minX,g=this.minY,v=this.maxX,b=this.maxY,E=o*n+h*r+m,x=u*n+d*r+c;f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*i+h*r+m,x=u*i+d*r+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*n+h*s+m,x=u*n+d*s+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*i+h*s+m,x=u*i+d*s+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,this.minX=f,this.minY=g,this.maxX=v,this.maxY=b}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let h=n;h<r;h+=2){const d=e[h],m=e[h+1];i=d<i?d:i,s=m<s?m:s,o=d>o?d:o,u=m>u?m:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const u=e.a,h=e.b,d=e.c,m=e.d,c=e.tx,f=e.ty;let g=this.minX,v=this.minY,b=this.maxX,E=this.maxY;for(let x=r;x<i;x+=2){const S=n[x],T=n[x+1],C=u*S+d*T+c,P=m*T+h*S+f;g=Math.min(g,C-s),b=Math.max(b,C+s),v=Math.min(v,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=v,this.maxX=b,this.maxY=E}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const u=this.minX,h=this.minY,d=this.maxX,m=this.maxY;this.minX=r<u?r:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>m?o:m}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const u=this.minX,h=this.minY,d=this.maxX,m=this.maxY;this.minX=r<u?r:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>m?o:m}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class et extends Xs{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new sd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new gh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(et.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ce),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new gh);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,u=0,h=0,d=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new OI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*RP}set angle(e){this.transform.rotation=e*kP}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class OI extends et{constructor(){super(...arguments),this.sortDirty=null}}et.prototype.displayObjectUpdateTransform=et.prototype.updateTransform;const BI=new Je;function LI(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Em=class extends et{constructor(){super(),this.children=[],this.sortableChildren=Em.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Ko(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Ko(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ko(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(LI),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==Em.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=BI.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const u=this.children[s],h=u.cullable;u.cullable=h||!this.cullArea,u.render(t),u.cullable=h}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<e.length;u++)e[u].enabled&&this._enabledFilters.push(e[u])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==St.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,h=this.children.length;u<h;++u)this.children[u].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Zt=Em;Zt.defaultSortableChildren=!1;Zt.prototype.containerUpdateTransform=Zt.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return Zt.defaultSortableChildren},set(t){Re("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Zt.defaultSortableChildren=t}}});var hd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(hd||{});const Wa=new ke,FI=new Uint16Array([0,1,2,0,2,3]);class ei extends Zt{constructor(e){super(),this._anchor=new fi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=FI,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,u=n.tx,h=n.ty,d=this.vertexData,m=e.trim,c=e.orig,f=this._anchor;let g=0,v=0,b=0,E=0;if(m?(v=m.x-f._x*c.width,g=v+m.width,E=m.y-f._y*c.height,b=E+m.height):(v=-f._x*c.width,g=v+c.width,E=-f._y*c.height,b=E+c.height),d[0]=r*v+s*E+u,d[1]=o*E+i*v+h,d[2]=r*g+s*E+u,d[3]=o*E+i*g+h,d[4]=r*g+s*b+u,d[5]=o*b+i*g+h,d[6]=r*v+s*b+u,d[7]=o*b+i*v+h,this._roundPixels){const x=oe.RESOLUTION;for(let S=0;S<d.length;++S)d[S]=Math.round(d[S]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,d=s.d,m=s.tx,c=s.ty,f=-i._x*r.width,g=f+r.width,v=-i._y*r.height,b=v+r.height;n[0]=o*f+h*v+m,n[1]=d*v+u*f+c,n[2]=o*g+h*v+m,n[3]=d*v+u*g+c,n[4]=o*g+h*b+m,n[5]=d*b+u*g+c,n[6]=o*f+h*b+m,n[7]=d*b+u*f+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new gh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Wa);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Wa.x>=i&&Wa.x<i+n&&(s=-r*this.anchor.y,Wa.y>=s&&Wa.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof se?e:se.from(e,n);return new ei(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Xi(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Xi(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=He.shared.setValue(e).toLittleEndianNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const fc={willReadFrequently:!0},de=class{static get experimentalLetterSpacingSupported(){let t=de._experimentalLetterSpacingSupported;if(t!==void 0){const e=oe.ADAPTER.getCanvasRenderingContext2D().prototype;t=de._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,u,h){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=h}static measureText(t,e,n,r=de._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=de.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",fc);o.font=i;const h=(n?de.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),d=new Array(h.length);let m=0;for(let v=0;v<h.length;v++){const b=de._measureText(h[v],e.letterSpacing,o);d[v]=b,m=Math.max(m,b)}let c=m+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const f=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(f,s.fontSize+e.strokeThickness*2)+(h.length-1)*(f+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new de(t,e,c,g,h,d,f+e.leading,m,s)}static _measureText(t,e,n){let r=!1;de.experimentalLetterSpacingSupported&&(de.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(de.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=de._canvas){const r=n.getContext("2d",fc);let i=0,s="",o="";const u=Object.create(null),{letterSpacing:h,whiteSpace:d}=e,m=de.collapseSpaces(d),c=de.collapseNewlines(d);let f=!m;const g=e.wordWrapWidth+h,v=de.tokenize(t);for(let b=0;b<v.length;b++){let E=v[b];if(de.isNewline(E)){if(!c){o+=de.addLine(s),f=!m,s="",i=0;continue}E=" "}if(m){const S=de.isBreakingSpace(E),T=de.isBreakingSpace(s[s.length-1]);if(S&&T)continue}const x=de.getFromCache(E,h,u,r);if(x>g)if(s!==""&&(o+=de.addLine(s),s="",i=0),de.canBreakWords(E,e.breakWords)){const S=de.wordWrapSplit(E);for(let T=0;T<S.length;T++){let C=S[T],P=C,D=1;for(;S[T+D];){const O=S[T+D];if(!de.canBreakChars(P,O,E,T,e.breakWords))C+=O;else break;P=O,D++}T+=D-1;const N=de.getFromCache(C,h,u,r);N+i>g&&(o+=de.addLine(s),f=!1,s="",i=0),s+=C,i+=N}}else{s.length>0&&(o+=de.addLine(s),s="",i=0);const S=b===v.length-1;o+=de.addLine(E,!S),f=!1,s="",i=0}else x+i>g&&(f=!1,o+=de.addLine(s),s="",i=0),(s.length>0||!de.isBreakingSpace(E)||f)&&(s+=E,i+=x)}return o+=de.addLine(s,!1),o}static addLine(t,e=!0){return t=de.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=de._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!de.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:de._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:de._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(de.isBreakingSpace(i,s)||de.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return de.graphemeSegmenter(t)}static measureFont(t){if(de._fonts[t])return de._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=de._canvas,r=de._context;r.font=t;const i=de.METRICS_STRING+de.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(de.BASELINE_SYMBOL).width);const u=Math.ceil(de.HEIGHT_MULTIPLIER*o);if(o=o*de.BASELINE_MULTIPLIER|0,s===0||u===0)return de._fonts[t]=e,e;n.width=s,n.height=u,r.fillStyle="#f00",r.fillRect(0,0,s,u),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const h=r.getImageData(0,0,s,u).data,d=h.length,m=s*4;let c=0,f=0,g=!1;for(c=0;c<o;++c){for(let v=0;v<m;v+=4)if(h[f+v]!==255){g=!0;break}if(!g)f+=m;else break}for(e.ascent=o-c,f=d-m,g=!1,c=u;c>o;--c){for(let v=0;v<m;v+=4)if(h[f+v]!==255){g=!0;break}if(!g)f-=m;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,de._fonts[t]=e,e}static clearMetrics(t=""){t?delete de._fonts[t]:de._fonts={}}static get _canvas(){if(!de.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",fc);if(n!=null&&n.measureText)return de.__canvas=e,e;t=oe.ADAPTER.createCanvas()}catch{t=oe.ADAPTER.createCanvas()}t.width=t.height=10,de.__canvas=t}return de.__canvas}static get _context(){return de.__context||(de.__context=de._canvas.getContext("2d",fc)),de.__context}};let zt=de;zt.METRICS_STRING="|ÉqÅ";zt.BASELINE_SYMBOL="M";zt.BASELINE_MULTIPLIER=1.4;zt.HEIGHT_MULTIPLIER=2;zt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();zt.experimentalLetterSpacing=!1;zt._fonts={};zt._newlines=[10,13];zt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const UI=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],il=class{constructor(t){this.styleID=0,this.reset(),pp(this,t,t)}clone(){const t={};return pp(t,this,il.defaultStyle),new il(t)}reset(){pp(this,il.defaultStyle,il.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=fp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=fp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){zI(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=fp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!UI.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Yn=il;Yn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:hd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function fp(t){const e=He.shared;return Array.isArray(t)?t.map(n=>e.setValue(n).toHex()):e.setValue(t).toHex()}function zI(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function pp(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const HI={texture:!0,children:!1,baseTexture:!0},Cm=class extends ei{constructor(t,e,n){let r=!1;n||(n=oe.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=se.from(n);i.orig=new Ce,i.trim=new Ce,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Cm.defaultResolution??oe.RESOLUTION,this._autoResolution=Cm.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return zt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Re("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),zt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=zt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,u=r.lineHeight,h=r.lineWidths,d=r.maxLineWidth,m=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let c,f;const g=e.dropShadow?2:1;for(let v=0;v<g;++v){const b=e.dropShadow&&v===0,E=b?Math.ceil(Math.max(1,s)+e.padding*2):0,x=E*this._resolution;if(b){n.fillStyle="black",n.strokeStyle="black";const T=e.dropShadowColor,C=e.dropShadowBlur*this._resolution,P=e.dropShadowDistance*this._resolution;n.shadowColor=He.shared.setValue(T).setAlpha(e.dropShadowAlpha).toRgbaString(),n.shadowBlur=C,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*P+x}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(u-m.fontSize)/2;u-m.fontSize<0&&(S=0);for(let T=0;T<o.length;T++)c=e.strokeThickness/2,f=e.strokeThickness/2+T*u+m.ascent+S,e.align==="right"?c+=d-h[T]:e.align==="center"&&(c+=(d-h[T])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[T],c+e.padding,f+e.padding-E,!0),e.fill&&this.drawLetterSpacing(o[T],c+e.padding,f+e.padding-E)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(zt.experimentalLetterSpacingSupported&&(zt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let u=e;const h=zt.graphemeSegmenter(t);let d=this.context.measureText(t).width,m=0;for(let c=0;c<h.length;++c){const f=h[c];r?this.context.strokeText(f,u,n):this.context.fillText(f,u,n);let g="";for(let v=c+1;v<h.length;++v)g+=h[v];m=this.context.measureText(g).width,u+=d-m+s,d=m}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=yP(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,u=this.canvas.width/this._resolution-s-o*2,h=this.canvas.height/this._resolution-s-o*2,d=r.slice(),m=t.fillGradientStops.slice();if(!m.length){const c=d.length+1;for(let f=1;f<c;++f)m.push(f/c)}if(d.unshift(r[0]),m.unshift(0),d.push(r[r.length-1]),m.push(1),t.fillGradientType===hd.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,o,u/2,h+o);const c=n.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const g=n.lineHeight*(f-1)+c,v=n.lineHeight*f;let b=v;f>0&&g>v&&(b=(v+g)/2);const E=v+c,x=n.lineHeight*(f+1);let S=E;f+1<e.length&&x<E&&(S=(E+x)/2);const T=(S-b)/h;for(let C=0;C<d.length;C++){let P=0;typeof m[C]=="number"?P=m[C]:P=C/d.length;let D=Math.min(1,Math.max(0,b/h+P*T));D=Number(D.toFixed(5)),i.addColorStop(D,d[C])}}}else{i=this.context.createLinearGradient(o,h/2,u+o,h/2);const c=d.length+1;let f=1;for(let g=0;g<d.length;g++){let v;typeof m[g]=="number"?v=m[g]:v=f/c,i.addColorStop(v,d[g]),f++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},HI,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Xi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Xi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Yn?this._style=t:this._style=new Yn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let dd=Cm;dd.defaultAutoResolution=!0;class _h{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Yc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],u=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const d in u){const m=u[d].split("="),c=m[0],f=m[1].replace(/"/gm,""),g=parseFloat(f),v=isNaN(g)?f:g;h[c]=v}r[o].push(h)}const i=new _h;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Am{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new _h,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let d=0;d<r.length;d++)n.info.push({face:r[d].getAttribute("face"),size:parseInt(r[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)n.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)n.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const m=o[d];n.char.push({id:parseInt(m.getAttribute("id"),10),page:parseInt(m.getAttribute("page"),10)||0,x:parseInt(m.getAttribute("x"),10),y:parseInt(m.getAttribute("y"),10),width:parseInt(m.getAttribute("width"),10),height:parseInt(m.getAttribute("height"),10),xoffset:parseInt(m.getAttribute("xoffset"),10),yoffset:parseInt(m.getAttribute("yoffset"),10),xadvance:parseInt(m.getAttribute("xadvance"),10)})}for(let d=0;d<u.length;d++)n.kerning.push({first:parseInt(u[d].getAttribute("first"),10),second:parseInt(u[d].getAttribute("second"),10),amount:parseInt(u[d].getAttribute("amount"),10)});for(let d=0;d<h.length;d++)n.distanceField.push({fieldType:h[d].getAttribute("fieldType"),distanceRange:parseInt(h[d].getAttribute("distanceRange"),10)});return n}}class Pm{static test(e){return typeof e=="string"&&e.includes("<font>")?Am.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return Am.parse(oe.ADAPTER.parseXML(e))}}const mp=[Yc,Am,Pm];function GI(t){for(let e=0;e<mp.length;e++)if(mp[e].test(t))return mp[e];return null}function $I(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const h=n.dropShadow?n.dropShadowDistance:0,d=n.padding||0,m=t.width/r-h-d*2,c=t.height/r-h-d*2,f=o.slice(),g=n.fillGradientStops.slice();if(!g.length){const v=f.length+1;for(let b=1;b<v;++b)g.push(b/v)}if(f.unshift(o[0]),g.unshift(0),f.push(o[o.length-1]),g.push(1),n.fillGradientType===hd.LINEAR_VERTICAL){u=e.createLinearGradient(m/2,d,m/2,c+d);let v=0;const E=(s.fontProperties.fontSize+n.strokeThickness)/c;for(let x=0;x<i.length;x++){const S=s.lineHeight*x;for(let T=0;T<f.length;T++){let C=0;typeof g[T]=="number"?C=g[T]:C=T/f.length;const P=S/c+C*E;let D=Math.max(v,P);D=Math.min(D,1),u.addColorStop(D,f[T]),v=D}}}else{u=e.createLinearGradient(d,c/2,m+d,c/2);const v=f.length+1;let b=1;for(let E=0;E<f.length;E++){let x;typeof g[E]=="number"?x=g[E]:x=b/v,u.addColorStop(x,f[E]),b++}}return u}function jI(t,e,n,r,i,s,o){const u=n.text,h=n.fontProperties;e.translate(r,i),e.scale(s,s);const d=o.strokeThickness/2,m=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=$I(t,e,o,s,[u],n),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,f=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=He.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,d,m+n.lineHeight-h.descent),o.fill&&e.fillText(u,d,m+n.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Qc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Jw(t){return Array.from?Array.from(t):t.split("")}function WI(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=o;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...Jw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ur=class{constructor(t,e,n){var d;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,u=as(s.file),h={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=h;for(let m=0;m<t.page.length;m++){const{id:c,file:f}=t.page[m];h[c]=e instanceof Array?e[m]:e[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(h[c].baseTexture.alphaMode=Cr.NO_PREMULTIPLIED_ALPHA,h[c].baseTexture.mipmap=Kr.OFF)}for(let m=0;m<t.char.length;m++){const{id:c,page:f}=t.char[m];let{x:g,y:v,width:b,height:E,xoffset:x,yoffset:S,xadvance:T}=t.char[m];g/=u,v/=u,b/=u,E/=u,x/=u,S/=u,T/=u;const C=new Ce(g+h[f].frame.x/u,v+h[f].frame.y/u,b,E);this.chars[c]={xOffset:x,yOffset:S,xAdvance:T,kerning:{},texture:new se(h[f].baseTexture,C),page:f}}for(let m=0;m<t.kerning.length;m++){let{first:c,second:f,amount:g}=t.kerning[m];c/=u,f/=u,g/=u,this.chars[f]&&(this.chars[f].kerning[c]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((d=o==null?void 0:o.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof _h)r=t;else{const s=GI(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof se&&(e=[e]);const i=new ur(r,e,n);return ur.available[i.font]=i,i}static uninstall(t){const e=ur.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete ur.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:u,...h}=Object.assign({},ur.defaultOptions,n),d=WI(r),m=e instanceof Yn?e:new Yn(e),c=o,f=new _h;f.info[0]={face:m.fontFamily,size:m.fontSize},f.common[0]={lineHeight:m.fontSize};let g=0,v=0,b,E,x,S=0;const T=[];for(let P=0;P<d.length;P++){b||(b=oe.ADAPTER.createCanvas(),b.width=o,b.height=u,E=b.getContext("2d"),x=new we(b,{resolution:s,...h}),T.push(new se(x)),f.page.push({id:T.length-1,file:""}));const D=d[P],N=zt.measureText(D,m,!1,b),O=N.width,H=Math.ceil(N.height),Y=Math.ceil((m.fontStyle==="italic"?2:1)*O);if(v>=u-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--P,b=null,E=null,x=null,v=0,g=0,S=0;continue}if(S=Math.max(H+N.fontProperties.descent,S),Y*s+g>=c){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--P,v+=S*s,v=Math.ceil(v),g=0,S=0;continue}jI(b,E,N,g,v,s,m);const Q=Qc(N.text);f.char.push({id:Q,page:T.length-1,x:g/s,y:v/s,width:Y,height:H,xoffset:0,yoffset:0,xadvance:O-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),g+=(Y+2*i)*s,g=Math.ceil(g)}for(let P=0,D=d.length;P<D;P++){const N=d[P];for(let O=0;O<D;O++){const H=d[O],Y=E.measureText(N).width,Q=E.measureText(H).width,X=E.measureText(N+H).width-(Y+Q);X&&f.kerning.push({first:Qc(N),second:Qc(H),amount:X})}}const C=new ur(f,T,!0);return ur.available[t]!==void 0&&ur.uninstall(t),ur.available[t]=C,C}};let dn=ur;dn.ALPHA=[["a","z"],["A","Z"]," "];dn.NUMERIC=[["0","9"]];dn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];dn.ASCII=[[" ","~"]];dn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ur.ALPHANUMERIC};dn.available={};class VI{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const gp=new ke,My=new qo,eb=class extends Zt{constructor(t,e,n,r=mr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Ci.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===mr.TRIANGLES&&e.length<eb.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,h=i.d,d=i.tx,m=i.ty,c=this.vertexData;for(let f=0;f<c.length/2;f++){const g=n[f*2],v=n[f*2+1];c[f*2]=s*g+u*v+d,c[f*2+1]=o*g+h*v+m}if(this._roundPixels){const f=oe.RESOLUTION;for(let g=0;g<c.length;++g)c[g]=Math.round(c[g]*f)/f}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new VI(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,gp);const e=this.geometry.getBuffer("aVertexPosition").data,n=My.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const u=r[o]*2,h=r[o+1]*2,d=r[o+2]*2;if(n[0]=e[u],n[1]=e[u+1],n[2]=e[h],n[3]=e[h+1],n[4]=e[d],n[5]=e[d+1],My.contains(gp.x,gp.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let sa=eb;sa.BATCHABLE_SIZE=100;class fd extends ls{constructor(e,n,r){super();const i=new gt(e),s=new gt(n,!0),o=new gt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var XI=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,YI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Nl extends Xr{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Je.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||gr.from(YI,XI),r),this._colorDirty=!1,this.uvMatrix=new Zg(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=He.shared.setValue(e).toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const n=this.texture.baseTexture.alphaMode;He.shared.setValue(this._tint).premultiply(this._alpha,n).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var QI=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,KI=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Ny=[],Dy=[],Oy=[],tb=class extends Zt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:u}=Object.assign({},tb.styleDefaults,e);if(!dn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=u,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new fi(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Y;const t=dn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new ke,i=[],s=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=Jw(u),d=this._maxWidth*t.size/e,m=t.distanceFieldType==="none"?Ny:Dy;let c=null,f=0,g=0,v=0,b=-1,E=0,x=0,S=0,T=0;for(let Q=0;Q<h.length;Q++){const re=h[Q],X=Qc(re);if(/(?:\s)/.test(re)&&(b=Q,E=f,T++),re==="\r"||re===`
`){s.push(f),o.push(-1),g=Math.max(g,f),++v,++x,r.x=0,r.y+=t.lineHeight,c=null,T=0;continue}const z=t.chars[X];if(!z)continue;c&&z.kerning[c]&&(r.x+=z.kerning[c]);const ve=Oy.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ke};ve.texture=z.texture,ve.line=v,ve.charCode=X,ve.position.x=Math.round(r.x+z.xOffset+this._letterSpacing/2),ve.position.y=Math.round(r.y+z.yOffset),ve.prevSpaces=T,i.push(ve),f=ve.position.x+Math.max(z.xAdvance-z.xOffset,z.texture.orig.width),r.x+=z.xAdvance+this._letterSpacing,S=Math.max(S,z.yOffset+z.texture.height),c=X,b!==-1&&d>0&&r.x>d&&(++x,Ko(i,1+b-x,1+Q-b),Q=b,b=-1,s.push(E),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,E),v++,r.x=0,r.y+=t.lineHeight,c=null,T=0)}const C=h[h.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(f=E),s.push(f),g=Math.max(g,f),o.push(-1));const P=[];for(let Q=0;Q<=v;Q++){let re=0;this._align==="right"?re=g-s[Q]:this._align==="center"?re=(g-s[Q])/2:this._align==="justify"&&(re=o[Q]<0?0:(g-s[Q])/o[Q]),P.push(re)}const D=i.length,N={},O=[],H=this._activePagesMeshData;m.push(...H);for(let Q=0;Q<D;Q++){const re=i[Q].texture,X=re.baseTexture.uid;if(!N[X]){let z=m.pop();if(!z){const ye=new fd;let te,B;t.distanceFieldType==="none"?(te=new Nl(se.EMPTY),B=_e.NORMAL):(te=new Nl(se.EMPTY,{program:gr.from(KI,QI),uniforms:{uFWidth:0}}),B=_e.NORMAL_NPM);const W=new sa(ye,te);W.blendMode=B,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;const{_textureCache:ve}=this;ve[X]=ve[X]||new se(re.baseTexture),z.mesh.texture=ve[X],z.mesh.tint=this._tint,O.push(z),N[X]=z}N[X].total++}for(let Q=0;Q<H.length;Q++)O.includes(H[Q])||this.removeChild(H[Q].mesh);for(let Q=0;Q<O.length;Q++)O[Q].mesh.parent!==this&&this.addChild(O[Q].mesh);this._activePagesMeshData=O;for(const Q in N){const re=N[Q],X=re.total;if(!(((Y=re.indices)==null?void 0:Y.length)>6*X)||re.vertices.length<sa.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*X),re.uvs=new Float32Array(4*2*X),re.indices=new Uint16Array(6*X);else{const z=re.total,ve=re.vertices;for(let ye=z*4*2;ye<ve.length;ye++)ve[ye]=0}re.mesh.size=6*X}for(let Q=0;Q<D;Q++){const re=i[Q];let X=re.position.x+P[re.line]*(this._align==="justify"?re.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const z=X*n,ve=re.position.y*n,ye=re.texture,te=N[ye.baseTexture.uid],B=ye.frame,W=ye._uvs,M=te.index++;te.indices[M*6+0]=0+M*4,te.indices[M*6+1]=1+M*4,te.indices[M*6+2]=2+M*4,te.indices[M*6+3]=0+M*4,te.indices[M*6+4]=2+M*4,te.indices[M*6+5]=3+M*4,te.vertices[M*8+0]=z,te.vertices[M*8+1]=ve,te.vertices[M*8+2]=z+B.width*n,te.vertices[M*8+3]=ve,te.vertices[M*8+4]=z+B.width*n,te.vertices[M*8+5]=ve+B.height*n,te.vertices[M*8+6]=z,te.vertices[M*8+7]=ve+B.height*n,te.uvs[M*8+0]=W.x0,te.uvs[M*8+1]=W.y0,te.uvs[M*8+2]=W.x1,te.uvs[M*8+3]=W.y1,te.uvs[M*8+4]=W.x2,te.uvs[M*8+5]=W.y2,te.uvs[M*8+6]=W.x3,te.uvs[M*8+7]=W.y3}this._textWidth=g*n,this._textHeight=(r.y+t.lineHeight)*n;for(const Q in N){const re=N[Q];if(this.anchor.x!==0||this.anchor.y!==0){let ye=0;const te=this._textWidth*this.anchor.x,B=this._textHeight*this.anchor.y;for(let W=0;W<re.total;W++)re.vertices[ye++]-=te,re.vertices[ye++]-=B,re.vertices[ye++]-=te,re.vertices[ye++]-=B,re.vertices[ye++]-=te,re.vertices[ye++]-=B,re.vertices[ye++]-=te,re.vertices[ye++]-=B}this._maxLineHeight=S*n;const X=re.mesh.geometry.getBuffer("aVertexPosition"),z=re.mesh.geometry.getBuffer("aTextureCoord"),ve=re.mesh.geometry.getIndex();X.data=re.vertices,z.data=re.uvs,ve.data=re.indices,X.update(),z.update(),ve.update()}for(let Q=0;Q<i.length;Q++)Oy.push(i[Q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=dn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:u}=this.worldTransform,h=Math.sqrt(i*i+s*s),d=Math.sqrt(o*o+u*u),m=(Math.abs(h)+Math.abs(d))/2,c=this.fontSize/r,f=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=m*e*c*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=dn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!dn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??dn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=dn.available[this._fontName].distanceFieldType==="none"?Ny:Dy;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let nb=tb;nb.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const By={loader:ae.LoadParser,resolver:ae.ResolveParser,cache:ae.CacheParser,detection:ae.DetectionParser};fe.handle(ae.Asset,t=>{const e=t.ref;Object.entries(By).filter(([n])=>!!e[n]).forEach(([n,r])=>fe.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(By).filter(n=>!!e[n]).forEach(n=>fe.remove(e[n]))});class qI{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function rb(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function pd(t,e){const n=t.split("?")[0],r=Ct.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const vi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Im=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function ib(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const u=s[o];n<e.length-1?ib(t.replace(r[n],u),e,n+1,r,i):i.push(t.replace(r[n],u))}}function ZI(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),ib(t,i,0,n,r)}else r.push(t);return r}const vh=t=>!Array.isArray(t);class JI{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=vi(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(n)){i=h.getCacheableAssets(r,n);break}}i||(i={},r.forEach(u=>{i[u]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==n&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),n instanceof se){const u=n;r.forEach(h=>{u.baseTexture!==se.EMPTY.baseTexture&&we.addToCache(u.baseTexture,h),se.addToCache(u,h)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Va=new JI;class e2{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.load&&((s=h.test)!=null&&s.call(h,e,n,this))){i=await h.load(e,n,this),r.parser=h;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];h.parse&&h.parse&&await((o=h.testParse)==null?void 0:o.call(h,i,n,this))&&(i=await h.parse(i,n,this)||i,r.parser=h)}return i})(),r}async load(e,n){let r=0;const i={},s=vh(e),o=vi(e,d=>({src:d})),u=o.length,h=o.map(async d=>{const m=Ct.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,d)),i[d.src]=await this.promiseCache[m].promise,n&&n(++r/u)}catch(c){throw delete this.promiseCache[m],delete i[d.src],new Error(`[Loader.load] Failed to load ${m}.
${c}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=vi(e,i=>({src:i})).map(async i=>{var u,h;const s=Ct.toAbsolute(i.src),o=this.promiseCache[s];if(o){const d=await o.promise;(h=(u=o.parser)==null?void 0:u.unload)==null||h.call(u,d,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var ti=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ti||{});const t2={extension:{type:ae.LoadParser,priority:ti.Low},test(t){return Ct.extname(t).toLowerCase()===".json"},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};fe.add(t2);const n2={extension:{type:ae.LoadParser,priority:ti.Low},test(t){return Ct.extname(t).toLowerCase()===".txt"},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};fe.add(n2);const r2=["normal","bold","100","200","300","400","500","600","700","800","900"],i2=[".ttf",".otf",".woff",".woff2"],s2=["font/ttf","font/otf","font/woff","font/woff2"];function o2(t){const e=Ct.extname(t);return Ct.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const a2={extension:{type:ae.LoadParser,priority:ti.Low},test(t){return rb(t,s2)||pd(t,i2)},async load(t,e){var r,i,s;const n=oe.ADAPTER.getFontFaceSet();if(n){const o=[],u=((r=e.data)==null?void 0:r.family)??o2(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(m=>r2.includes(m)))??["normal"],d=e.data??{};for(let m=0;m<h.length;m++){const c=h[m],f=new FontFace(u,`url(${encodeURI(t)})`,{...d,weight:c});await f.load(),n.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};fe.add(a2);let Ly=0,_p;const l2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",u2={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${l2}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},c2={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let vp;class h2{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([u2.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_p===void 0&&(_p=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_p&&(vp||(vp=URL.createObjectURL(new Blob([c2.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(vp),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[Ly]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:Ly++,id:r})}}const Fy=new h2;function md(t,e,n){const r=new se(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const d2=[".jpeg",".jpg",".png",".webp",".avif"],f2=["image/jpeg","image/png","image/webp","image/avif"];async function p2(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const Dl={extension:{type:ae.LoadParser,priority:ti.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return rb(t,f2)||pd(t,d2)},async load(t,e,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Fy.isImageBitmapSupported()?r=await Fy.loadImageBitmap(t):r=await p2(t):r=await new Promise(s=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new we(r,{resolution:as(t),...e.data});return i.resource.src=t,md(i,n,t)},unload(t){t.destroy(!0)}};fe.add(Dl);const m2={extension:{type:ae.LoadParser,priority:ti.High},test(t){return Ct.extname(t).toLowerCase()===".svg"},async testParse(t){return Ml.test(t)},async parse(t,e,n){var o,u,h;const r=new Ml(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new we(r,{resolution:as(t),...e==null?void 0:e.data});i.resource.src=t;const s=md(i,n,t);return(h=(u=e==null?void 0:e.data)==null?void 0:u.resourceOptions)!=null&&h.autoLoad||await r.load(),s},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:Dl.unload};fe.add(m2);class g2{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=vi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=ZI(n):n=[n]);const s=n.map(o=>{let u=o;if(typeof o=="string"){let h=!1;for(let d=0;d<this._parsers.length;d++){const m=this._parsers[d];if(m.test(o)){u=m.parse(o),h=!0;break}}h||(u={src:o})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=Ct.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=u.data??r,u});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=vh(e);e=vi(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const h in o){const d=o[h];u[this._extractAssetIdFromBundle(i,h)]=d}r[i]=u}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=vh(e);e=vi(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),u=s[0];o==null||o.priority.forEach(h=>{o.params[h].forEach(d=>{const m=s.filter(c=>c[h]?c[h]===d:!1);m.length&&(s=m)})}),this._resolverHash[i]=s[0]??u}else{let s=i;(this._basePath||this._rootPath)&&(s=Ct.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class _2{constructor(){this._detections=[],this._initialized=!1,this.resolver=new g2,this.loader=new e2,this.cache=Va,this._backgroundLoader=new qI(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,u;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let h=e.manifest;typeof h=="string"&&(h=await this.load(h)),this.resolver.addManifest(h)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const h=(u=e.texturePreference)==null?void 0:u.format;i=typeof h=="string"?[h]:h;for(const d of this._detections)await d.test()||(i=await d.remove(i))}else for(const h of this._detections)await h.test()&&(i=await h.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=vh(e),i=vi(e).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,h=0;const d=()=>{n==null||n(++u/h)},m=o.map(c=>{const f=i[c];return h+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(g=>{s[c]=g})});return await Promise.all(m),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Va.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Va.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((u,h)=>{const d=s[u.src],m=[u.src];u.alias&&m.push(...u.alias),o[i[h]]=d,Va.set(m,d)}),o}async unload(e){this._initialized||await this.init();const n=vi(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=vi(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Va.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return Dl.config.preferWorkers}set preferWorkers(e){Dl.config.preferWorkers=e}}const _r=new _2;fe.handleByList(ae.LoadParser,_r.loader.parsers).handleByList(ae.ResolveParser,_r.resolver.parsers).handleByList(ae.CacheParser,_r.cache.parsers).handleByList(ae.DetectionParser,_r.detections);const v2={extension:ae.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof se),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};fe.add(v2);const y2={extension:{type:ae.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await oe.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(y2);const x2={extension:{type:ae.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await oe.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(x2);const Uy=["png","jpg","jpeg"],w2={extension:{type:ae.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Uy],remove:async t=>t.filter(e=>!Uy.includes(e))};fe.add(w2);const b2={extension:ae.ResolveParser,test:Dl.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(b2);const S2=[".xml",".fnt"],T2={extension:{type:ae.LoadParser,priority:ti.Normal},test(t){return S2.includes(Ct.extname(t).toLowerCase())},async testParse(t){return Yc.test(t)||Pm.test(t)},async parse(t,e,n){const r=Yc.test(t)?Yc.parse(t):Pm.parse(t),{src:i}=e,{page:s}=r,o=[];for(let d=0;d<s.length;++d){const m=s[d].file;let c=Ct.join(Ct.dirname(i),m);c=Im(c,i),o.push(c)}const u=await n.load(o),h=o.map(d=>u[d]);return dn.install(r,h,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(T2);const yh={build(t){const e=t.points;let n,r,i,s,o,u;if(t.type===Ht.CIRC){const v=t.shape;n=v.x,r=v.y,o=u=v.radius,i=s=0}else if(t.type===Ht.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,u=v.height,i=s=0}else{const v=t.shape,b=v.width/2,E=v.height/2;n=v.x+b,r=v.y+E,o=u=Math.max(0,Math.min(v.radius,Math.min(b,E))),i=b-o,s=E-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+u)),d=h*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(h===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let m=0,c=h*4+(i?2:0)+2,f=c,g=d;{const v=i+o,b=s,E=n+v,x=n-v,S=r+b;if(e[m++]=E,e[m++]=S,e[--c]=S,e[--c]=x,s){const T=r-b;e[f++]=x,e[f++]=T,e[--g]=T,e[--g]=E}}for(let v=1;v<h;v++){const b=Math.PI/2*(v/h),E=i+Math.cos(b)*o,x=s+Math.sin(b)*u,S=n+E,T=n-E,C=r+x,P=r-x;e[m++]=S,e[m++]=C,e[--c]=C,e[--c]=T,e[f++]=T,e[f++]=P,e[--g]=P,e[--g]=S}{const v=i,b=s+u,E=n+v,x=n-v,S=r+b,T=r-b;e[m++]=E,e[m++]=S,e[--g]=T,e[--g]=E,i&&(e[m++]=x,e[m++]=S,e[--g]=T,e[--g]=x)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let u,h;if(t.type!==Ht.RREC){const m=t.shape;u=m.x,h=m.y}else{const m=t.shape;u=m.x+m.width/2,h=m.y+m.height/2}const d=t.matrix;r.push(t.matrix?d.a*u+d.c*h+d.tx:u,t.matrix?d.b*u+d.d*h+d.ty:h),s++,r.push(n[0],n[1]);for(let m=2;m<n.length;m+=2)r.push(n[m],n[m+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function zy(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const u=t[i],h=t[i+1];r+=(u-s)*(h+o),s=u,o=h}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,u=n-s-1,h=s,d=s+1;[t[o],t[h]]=[t[h],t[o]],[t[u],t[d]]=[t[d],t[u]]}}}const sb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){zy(n,!1);const o=[];for(let d=0;d<r.length;d++){const m=r[d];zy(m.points,!0),o.push(n.length/2),n=n.concat(m.points)}const u=hh(n,o,2);if(!u)return;const h=i.length/2;for(let d=0;d<u.length;d+=3)s.push(u[d]+h),s.push(u[d+1]+h),s.push(u[d+2]+h);for(let d=0;d<n.length;d++)i.push(n[d])}}},E2={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},C2={build(t){yh.build(t)},triangulate(t,e){yh.triangulate(t,e)}};var ji=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ji||{}),Us=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Us||{});const oa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class Hy{static curveTo(e,n,r,i,s,o){const u=o[o.length-2],d=o[o.length-1]-n,m=u-e,c=i-n,f=r-e,g=Math.abs(d*f-m*c);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=d*d+m*m,b=c*c+f*f,E=d*c+m*f,x=s*Math.sqrt(v)/g,S=s*Math.sqrt(b)/g,T=x*E/v,C=S*E/b,P=x*f+S*m,D=x*c+S*d,N=m*(S+T),O=d*(S+T),H=f*(x+C),Y=c*(x+C),Q=Math.atan2(O-D,N-P),re=Math.atan2(Y-D,H-P);return{cx:P+e,cy:D+n,radius:s,startAngle:Q,endAngle:re,anticlockwise:m*c>f*d}}static arc(e,n,r,i,s,o,u,h,d){const m=u-o,c=oa._segmentsCount(Math.abs(m)*s,Math.ceil(Math.abs(m)/mh)*40),f=m/(c*2),g=f*2,v=Math.cos(f),b=Math.sin(f),E=c-1,x=E%1/E;for(let S=0;S<=E;++S){const T=S+x*S,C=f+o+g*T,P=Math.cos(C),D=-Math.sin(C);d.push((v*P+b*D)*s+r,(v*-D+b*P)*s+i)}}}class A2{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class e0{static curveLength(e,n,r,i,s,o,u,h){let m=0,c=0,f=0,g=0,v=0,b=0,E=0,x=0,S=0,T=0,C=0,P=e,D=n;for(let N=1;N<=10;++N)c=N/10,f=c*c,g=f*c,v=1-c,b=v*v,E=b*v,x=E*e+3*b*c*r+3*v*f*s+g*u,S=E*n+3*b*c*i+3*v*f*o+g*h,T=P-x,C=D-S,P=x,D=S,m+=Math.sqrt(T*T+C*C);return m}static curveTo(e,n,r,i,s,o,u){const h=u[u.length-2],d=u[u.length-1];u.length-=2;const m=oa._segmentsCount(e0.curveLength(h,d,e,n,r,i,s,o));let c=0,f=0,g=0,v=0,b=0;u.push(h,d);for(let E=1,x=0;E<=m;++E)x=E/m,c=1-x,f=c*c,g=f*c,v=x*x,b=v*x,u.push(g*h+3*f*x*e+3*c*v*r+b*s,g*d+3*f*x*n+3*c*v*i+b*o)}}function Gy(t,e,n,r,i,s,o,u){const h=t-n*i,d=e-r*i,m=t+n*s,c=e+r*s;let f,g;o?(f=r,g=-n):(f=-r,g=n);const v=h+f,b=d+g,E=m+f,x=c+g;return u.push(v,b),u.push(E,x),2}function Is(t,e,n,r,i,s,o,u){const h=n-t,d=r-e;let m=Math.atan2(h,d),c=Math.atan2(i-t,s-e);u&&m<c?m+=Math.PI*2:!u&&m>c&&(c+=Math.PI*2);let f=m;const g=c-m,v=Math.abs(g),b=Math.sqrt(h*h+d*d),E=(15*v*Math.sqrt(b)/Math.PI>>0)+1,x=g/E;if(f+=x,u){o.push(t,e),o.push(n,r);for(let S=1,T=f;S<E;S++,T+=x)o.push(t,e),o.push(t+Math.sin(T)*b,e+Math.cos(T)*b);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let S=1,T=f;S<E;S++,T+=x)o.push(t+Math.sin(T)*b,e+Math.cos(T)*b),o.push(t,e);o.push(i,s),o.push(t,e)}return E*2}function P2(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new ke(r[0],r[1]),u=new ke(r[r.length-2],r[r.length-1]),h=n.type!==Ht.POLY||n.closeStroke,d=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){r=r.slice(),d&&(r.pop(),r.pop(),u.set(r[r.length-2],r[r.length-1]));const te=(o.x+u.x)*.5,B=(u.y+o.y)*.5;r.unshift(te,B),r.push(te,B)}const m=e.points,c=r.length/2;let f=r.length;const g=m.length/2,v=s.width/2,b=v*v,E=s.miterLimit*s.miterLimit;let x=r[0],S=r[1],T=r[2],C=r[3],P=0,D=0,N=-(S-C),O=x-T,H=0,Y=0,Q=Math.sqrt(N*N+O*O);N/=Q,O/=Q,N*=v,O*=v;const re=s.alignment,X=(1-re)*2,z=re*2;h||(s.cap===Us.ROUND?f+=Is(x-N*(X-z)*.5,S-O*(X-z)*.5,x-N*X,S-O*X,x+N*z,S+O*z,m,!0)+2:s.cap===Us.SQUARE&&(f+=Gy(x,S,N,O,X,z,!0,m))),m.push(x-N*X,S-O*X),m.push(x+N*z,S+O*z);for(let te=1;te<c-1;++te){x=r[(te-1)*2],S=r[(te-1)*2+1],T=r[te*2],C=r[te*2+1],P=r[(te+1)*2],D=r[(te+1)*2+1],N=-(S-C),O=x-T,Q=Math.sqrt(N*N+O*O),N/=Q,O/=Q,N*=v,O*=v,H=-(C-D),Y=T-P,Q=Math.sqrt(H*H+Y*Y),H/=Q,Y/=Q,H*=v,Y*=v;const B=T-x,W=S-C,M=T-P,Z=D-C,ie=B*M+W*Z,be=W*M-Z*B,xe=be<0;if(Math.abs(be)<.001*Math.abs(ie)){m.push(T-N*X,C-O*X),m.push(T+N*z,C+O*z),ie>=0&&(s.join===ji.ROUND?f+=Is(T,C,T-N*X,C-O*X,T-H*X,C-Y*X,m,!1)+4:f+=2,m.push(T-H*z,C-Y*z),m.push(T+H*X,C+Y*X));continue}const Le=(-N+x)*(-O+C)-(-N+T)*(-O+S),Te=(-H+P)*(-Y+C)-(-H+T)*(-Y+D),Be=(B*Te-M*Le)/be,At=(Z*Le-W*Te)/be,Pt=(Be-T)*(Be-T)+(At-C)*(At-C),at=T+(Be-T)*X,Ee=C+(At-C)*X,We=T-(Be-T)*z,Ne=C-(At-C)*z,Mn=Math.min(B*B+W*W,M*M+Z*Z),Nn=xe?X:z,vs=Mn+Nn*Nn*b;Pt<=vs?s.join===ji.BEVEL||Pt/b>E?(xe?(m.push(at,Ee),m.push(T+N*z,C+O*z),m.push(at,Ee),m.push(T+H*z,C+Y*z)):(m.push(T-N*X,C-O*X),m.push(We,Ne),m.push(T-H*X,C-Y*X),m.push(We,Ne)),f+=2):s.join===ji.ROUND?xe?(m.push(at,Ee),m.push(T+N*z,C+O*z),f+=Is(T,C,T+N*z,C+O*z,T+H*z,C+Y*z,m,!0)+4,m.push(at,Ee),m.push(T+H*z,C+Y*z)):(m.push(T-N*X,C-O*X),m.push(We,Ne),f+=Is(T,C,T-N*X,C-O*X,T-H*X,C-Y*X,m,!1)+4,m.push(T-H*X,C-Y*X),m.push(We,Ne)):(m.push(at,Ee),m.push(We,Ne)):(m.push(T-N*X,C-O*X),m.push(T+N*z,C+O*z),s.join===ji.ROUND?xe?f+=Is(T,C,T+N*z,C+O*z,T+H*z,C+Y*z,m,!0)+2:f+=Is(T,C,T-N*X,C-O*X,T-H*X,C-Y*X,m,!1)+2:s.join===ji.MITER&&Pt/b<=E&&(xe?(m.push(We,Ne),m.push(We,Ne)):(m.push(at,Ee),m.push(at,Ee)),f+=2),m.push(T-H*X,C-Y*X),m.push(T+H*z,C+Y*z),f+=2)}x=r[(c-2)*2],S=r[(c-2)*2+1],T=r[(c-1)*2],C=r[(c-1)*2+1],N=-(S-C),O=x-T,Q=Math.sqrt(N*N+O*O),N/=Q,O/=Q,N*=v,O*=v,m.push(T-N*X,C-O*X),m.push(T+N*z,C+O*z),h||(s.cap===Us.ROUND?f+=Is(T-N*(X-z)*.5,C-O*(X-z)*.5,T-N*X,C-O*X,T+N*z,C+O*z,m,!1)+2:s.cap===Us.SQUARE&&(f+=Gy(T,C,N,O,X,z,!1,m)));const ve=e.indices,ye=oa.epsilon*oa.epsilon;for(let te=g;te<f+g-2;++te)x=m[te*2],S=m[te*2+1],T=m[(te+1)*2],C=m[(te+1)*2+1],P=m[(te+2)*2],D=m[(te+2)*2+1],!(Math.abs(x*(C-D)+T*(D-S)+P*(S-C))<ye)&&ve.push(te,te+1,te+2)}function I2(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==Ht.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,h=i.length/2,d=o.length/2;let m=d;for(o.push(i[0],i[1]),n=1;n<h;n++)o.push(i[n*2],i[n*2+1]),u.push(m,m+1),m++;s&&u.push(m,d)}function $y(t,e){t.lineStyle.native?I2(t,e):P2(t,e)}class t0{static curveLength(e,n,r,i,s,o){const u=e-2*r+s,h=n-2*i+o,d=2*r-2*e,m=2*i-2*n,c=4*(u*u+h*h),f=4*(u*d+h*m),g=d*d+m*m,v=2*Math.sqrt(c+f+g),b=Math.sqrt(c),E=2*c*b,x=2*Math.sqrt(g),S=f/b;return(E*v+b*f*(v-x)+(4*g*c-f*f)*Math.log((2*b+S+v)/(S+x)))/(4*E)}static curveTo(e,n,r,i,s){const o=s[s.length-2],u=s[s.length-1],h=oa._segmentsCount(t0.curveLength(o,u,e,n,r,i));let d=0,m=0;for(let c=1;c<=h;++c){const f=c/h;d=o+(e-o)*f,m=u+(n-u)*f,s.push(d+(e+(r-e)*f-d)*f,m+(n+(i-n)*f-m)*f)}}}const yp={[Ht.POLY]:sb,[Ht.CIRC]:yh,[Ht.ELIP]:yh,[Ht.RECT]:E2,[Ht.RREC]:C2},jy=[],pc=[];class xh{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new xh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const bo=new ke,ob=class extends mw{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new gh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),jy.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new xh(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new xh(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,bo):bo.copyFrom(t),r.shape.contains(bo.x,bo.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(bo.x,bo.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let u=this.shapeIndex;u<e.length;u++){this.shapeIndex++;const h=e[u],d=h.fillStyle,m=h.lineStyle;yp[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(d.visible||m.visible)&&this.processHoles(h.holes);for(let f=0;f<2;f++){const g=f===0?d:m;if(!g.visible)continue;const v=g.texture.baseTexture,b=this.indices.length,E=this.points.length/2;v.wrapMode=_i.REPEAT,f===0?this.processFill(h):this.processLine(h);const x=this.points.length/2-E;x!==0&&(n&&!this._compareStyles(r,g)&&(n.end(b,E),n=null),n||(n=jy.pop()||new A2,n.begin(g,b,E),this.batches.push(n),r=g),this.addUvs(this.points,t,g.texture,E,x,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<ob.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++we._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),pc.push(this.drawCalls[m]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=pc.pop();r||(r=new _m,r.texArray=new xm),r.texArray.count=0,r.start=0,r.size=0,r.type=mr.TRIANGLES;let i=0,s=null,o=0,u=!1,h=mr.TRIANGLES,d=0;this.drawCalls.push(r);for(let m=0;m<this.batches.length;m++){const c=this.batches[m],f=8,g=c.style,v=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,h=u?mr.LINES:mr.TRIANGLES,s=null,i=f,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===f&&(t++,i=0,r.size>0&&(r=pc.pop(),r||(r=new _m,r.texArray=new xm),this.drawCalls.push(r)),r.start=d,r.size=0,r.texArray.count=0,r.type=h),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=_i.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=c.size,d+=c.size,o=v._batchLocation,this.addColors(e,g.color,g.alpha,c.attribSize,c.attribStart),this.addTextureIds(n,o,c.attribSize,c.attribStart)}we._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let u=0;for(let h=0;h<t.length/2;h++)s[u++]=t[h*2],s[u++]=t[h*2+1],s[u++]=e[h*2],s[u++]=e[h*2+1],o[u++]=n[h],s[u++]=r[h];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?sb.triangulate(t,this):yp[t.type].triangulate(t,this)}processLine(t){$y(t,this);for(let e=0;e<t.holes.length;e++)$y(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];yp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=He.shared.setValue(e).toLittleEndianNumber(),o=He.shared.setValue(s).toPremultiplied(n);t.length=Math.max(t.length,i+r);for(let u=0;u<r;u++)t[i+u]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const u=e.length,h=n.frame;for(;o<i;){let m=t[(r+o)*2],c=t[(r+o)*2+1];if(s){const f=s.a*m+s.c*c+s.tx;c=s.b*m+s.d*c+s.ty,m=f}o++,e.push(m/h.width,c/h.height)}const d=n.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,n,u,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,u=e.frame,h=u.width/i.width,d=u.height/i.height;let m=u.x/u.width,c=u.y/u.height,f=Math.floor(t[n]+s),g=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)f=Math.min(f,Math.floor(t[v]+s)),g=Math.min(g,Math.floor(t[v+1]+s));m-=f,c-=g;for(let v=n;v<o;v+=2)t[v]=(t[v]+m)*h,t[v+1]=(t[v+1]+c)*d}};let ab=ob;ab.BATCHABLE_SIZE=100;class gd{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new gd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class n0 extends gd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Us.BUTT,this.join=ji.MITER,this.miterLimit=10}clone(){const e=new n0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const R2=new Float32Array(3),xp={},Kc=class extends Zt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new gd,this._lineStyle=new n0,this._matrix=null,this._holeMode=!1,this.state=Ci.for2d(),this._geometry=t||new ab,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Kc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:se.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Us.BUTT,join:ji.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new qo,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new qo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),t0.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),e0.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=Hy.curveTo(t,e,n,r,i,s);if(o){const{cx:u,cy:h,radius:d,startAngle:m,endAngle:c,anticlockwise:f}=o;this.arc(u,h,d,m,c,f)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=mh:s&&r<=i&&(r+=mh),i-r===0)return this;const u=t+Math.cos(r)*n,h=e+Math.sin(r)*n,d=this._geometry.closePointEps;let m=this.currentPath?this.currentPath.points:null;if(m){const c=Math.abs(m[m.length-2]-u),f=Math.abs(m[m.length-1]-h);c<d&&f<d||m.push(u,h)}else this.moveTo(u,h),m=this.currentPath.points;return Hy.arc(u,h,t,e,n,r,i,s,m),this}beginFill(t=0,e){return this.beginTextureFill({texture:se.WHITE,color:t,alpha:e})}normalizeColor(t){const e=He.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:se.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new Ce(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new qg(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new MP(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new Kg(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new qo(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ht.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),h=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),d={vertexData:o,blendMode:e,indices:h,uvs:u,_batchRGB:He.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=d}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,He.shared.setValue(r).multiply([i,i,i]).setAlpha(i).toArray(s.tint),t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let u=0,h=o.length;u<h;u++)this._renderDrawCallDirect(t,n.drawCalls[u])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let u=0;u<o;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!xp[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let u=0;u<r;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Je,default:wr.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;xp[n]=new Xr(o,s)}e=xp[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Kc._TEMP_POINT),this._geometry.containsPoint(Kc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=He.shared.setValue(this.tint).toRgbArray(R2);for(let e=0;e<this.batches.length;e++){const n=this.batches[e];n._tintRGB=He.shared.setValue(t).multiply(n._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,u=e.ty,h=this._geometry.points,d=this.vertexData;let m=0;for(let c=0;c<h.length;c+=2){const f=h[c],g=h[c+1];d[m++]=n*f+i*g+o,d[m++]=s*g+r*f+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let $s=Kc;$s.curves=oa;$s._TEMP_POINT=new ke;class k2 extends fd{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o;for(let m=0;m<e;m++){const c=m%this.segWidth,f=m/this.segWidth|0;n.push(c*u,f*h),r.push(c/s,f/o)}const d=s*o;for(let m=0;m<d;m++){const c=m%s,f=m/s|0,g=f*this.segWidth+c,v=f*this.segWidth+c+1,b=(f+1)*this.segWidth+c,E=(f+1)*this.segWidth+c+1;i.push(g,v,b,v,E,b)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class M2 extends fd{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const d=this._width*this.textureScale,m=e.length;for(let f=0;f<m;f++){const g=f*4;if(this.textureScale>0){const v=h.x-e[f].x,b=h.y-e[f].y,E=Math.sqrt(v*v+b*b);h=e[f],u+=E/d}else u=f/(m-1);s[g]=u,s[g+1]=0,s[g+2]=u,s[g+3]=1}let c=0;for(let f=0;f<m-1;f++){const g=f*2;o[c++]=g,o[c++]=g+1,o[c++]=g+2,o[c++]=g+2,o[c++]=g+1,o[c++]=g+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,u=e.length;for(let h=0;h<u;h++){const d=e[h],m=h*4;h<e.length-1?r=e[h+1]:r=d,s=-(r.x-n.x),i=r.y-n.y;const c=Math.sqrt(i*i+s*s),f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=c,s/=c,i*=f,s*=f,o[m]=d.x+i,o[m+1]=d.y+s,o[m+2]=d.x-i,o[m+3]=d.y-s,n=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class N2 extends sa{constructor(e,n,r){const i=new k2(e.width,e.height,n,r),s=new Nl(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const mc=10;class D2 extends N2{constructor(e,n,r,i,s){var o,u,h,d;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n??((o=e.defaultBorders)==null?void 0:o.left)??mc,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??mc,this._topHeight=r??((h=e.defaultBorders)==null?void 0:h.top)??mc,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??mc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class O2 extends sa{constructor(e=se.EMPTY,n,r,i,s){const o=new fd(n,r,i);o.getBuffer("aVertexPosition").static=!1;const u=new Nl(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class B2 extends sa{constructor(e,n,r=0){const i=new M2(e.height,n,r),s=new Nl(e);r>0&&(e.baseTexture.wrapMode=_i.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class L2 extends Zt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_e.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,He.shared.setValue(e).toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Wy{constructor(e,n,r){this.geometry=new ls,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new gt(gP(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=n,n+=u.size,this.dynamicStride+=u.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new gt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new gt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ge.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ge.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var F2=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,U2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class lb extends od{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Je,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Xr.from(U2,F2,{}),this.state=Ci.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=n[0]._texture.baseTexture,d=h.alphaMode>0;this.state.blendMode=hw(e.blendMode,d),s.state.set(this.state);const m=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=He.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let f=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let b=o-g;b>i&&(b=i),v>=u.length&&u.push(this._generateOneMoreBuffer(e));const E=u[v];E.uploadDynamic(n,g,b);const x=e._bufferUpdateIDs[v]||0;f=f||E._updateID<x,f&&(E._updateID=e._updateID,E.uploadStatic(n,g,b)),s.geometry.bind(E.geometry),m.drawElements(m.TRIANGLES,b*6,m.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new Wy(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new Wy(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let u=0,h=0,d=0,m=0;for(let c=0;c<r;++c){const f=e[n+c],g=f._texture,v=f.scale.x,b=f.scale.y,E=g.trim,x=g.orig;E?(h=E.x-f.anchor.x*x.width,u=h+E.width,m=E.y-f.anchor.y*x.height,d=m+E.height):(u=x.width*(1-f.anchor.x),h=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),m=x.height*-f.anchor.y),i[o]=h*v,i[o+1]=m*b,i[o+s]=u*v,i[o+s+1]=m*b,i[o+s*2]=u*v,i[o+s*2+1]=d*b,i[o+s*3]=h*v,i[o+s*3+1]=d*b,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let u=0;u<r;u++){const h=e[n+u].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let u=0;u<r;u++){const h=e[n+u].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let u=0;u<r;++u){const h=e[n+u]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let u=0;u<r;++u){const h=e[n+u],d=He.shared.setValue(h._tintRGB).toPremultiplied(h.alpha);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}lb.extension={name:"particle",type:ae.RendererPlugin};fe.add(lb);class Ol extends ei{constructor(e,n=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_t.shared.add(this.update,this,hs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(se.from(e[r]));return new Ol(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(se.from(e[r]));return new Ol(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Xa=new ke;class r0 extends ei{constructor(e,n=100,r=100){super(e),this.tileTransform=new sd,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Zg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Xa);const n=this._width,r=this._height,i=-n*this.anchor._x;if(Xa.x>=i&&Xa.x<i+n){const s=-r*this.anchor._y;if(Xa.y>=s&&Xa.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof se?e:se.from(e,n);return new r0(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var z2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,H2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,G2=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Vy=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$2=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const gc=new Je;class ub extends od{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Pw,this.state=Ci.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=Xr.from(Vy,$2,n),this.shader=e.context.webGLVersion>1?Xr.from(H2,z2,n):Xr.from(Vy,G2,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const u=e._texture,h=u.baseTexture,d=h.alphaMode>0,m=e.tileTransform.localTransform,c=e.uvMatrix;let f=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;f&&(h._glTextures[n.CONTEXT_UID]?f=h.wrapMode!==_i.CLAMP:h.wrapMode===_i.CLAMP&&(h.wrapMode=_i.REPEAT));const g=f?this.simpleShader:this.shader,v=u.width,b=u.height,E=e._width,x=e._height;gc.set(m.a*v/E,m.b*v/x,m.c*b/E,m.d*b/x,m.tx/E,m.ty/x),gc.invert(),f?gc.prepend(c.mapCoord):(g.uniforms.uMapCoord=c.mapCoord.toArray(!0),g.uniforms.uClampFrame=c.uClampFrame,g.uniforms.uClampOffset=c.uClampOffset),g.uniforms.uTransform=gc.toArray(!0),g.uniforms.uColor=He.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=u,n.shader.bind(g),n.geometry.bind(r),this.state.blendMode=hw(e.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}ub.extension={name:"tilingSprite",type:ae.RendererPlugin};fe.add(ub);const Rm=class{constructor(t){this.stage=new Zt,t=Object.assign({forceCanvas:!1},t),this.renderer=PI(t),Rm._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Rm._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let iu=Rm;iu._plugins=[];fe.handleByList(ae.Application,iu._plugins);class cb{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}cb.extension=ae.Application;fe.add(cb);var Ge={},j2={get exports(){return Ge},set exports(t){Ge=t}},W2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V2=W2,X2=V2;function hb(){}function db(){}db.resetWarningCache=hb;var Y2=function(){function t(r,i,s,o,u,h){if(h!==X2){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:db,resetWarningCache:hb};return n.PropTypes=n,n};j2.exports=Y2();function An(t){return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}function fb(t){var e=function(n,r){if(An(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(An(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return An(e)==="symbol"?e:String(e)}function mt(t,e,n){return(e=fb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t){return function(e){if(Array.isArray(e))return wp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return wp(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wp(e,n):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]}var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q2=function(t){return t==null};function sl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=xi(t);else{if(t===null||An(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(n){return!q2(n)&&!isNaN(n)}).map(Number)}function Xy(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function bp(t){return t instanceof ke||t instanceof fi}var wh=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Sp(t,e,n){if(bp(t[e])&&bp(n))t[e].copyFrom(n);else if(bp(t[e])){var r=sl(n);dt(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(n),An(n)),t[e].set(r.shift(),r.shift())}else t[e]=n}var So,pb=function(t){var e,n=t;if(!Array.isArray(n)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");n=Object.keys(t)}var r={};return n.forEach(function(i){r[i]=!0}),function(i){return r[i]!==void 0}},mb=function(t){return function(){return!t.apply(void 0,arguments)}},km="children",Z2=(mt(So={},km,!0),mt(So,"parent",!0),mt(So,"worldAlpha",!0),mt(So,"worldTransform",!0),mt(So,"worldVisible",!0),So),Mm={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},qr=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(u){return requestAnimationFrame(function(){var h,d;u==null||(h=u.__reactpixi)===null||h===void 0||(d=h.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(n.hasOwnProperty(u))return dt(h.typeofs.some(function(d){return An(n[u])===d})||h.instanceofs.some(function(d){return n[u]instanceof d}),"".concat(t," ").concat(u," prop is invalid")),n[u]};if(n.texture)return dt(n.texture instanceof se,"".concat(t," texture needs to be typeof `Texture`")),n.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});dt(!!s,"".concat(t," could not get texture from props"));var o=se.from(s);return o.__reactpixi={root:e},o.once("update",r),o.once("loaded",r),o.valid&&r(o),o},J2=mb(pb([].concat(xi(Object.keys(Z2)),xi(wh))));function Zr(t,e,n){var r=!1;if(dt(et.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",An(t)),!n.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<wh.length;o++){var u=wh[o];e[u]!==n[u]&&(r=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof n[u]=="function"&&s&&t.on(u,n[u]))}var h=Object.keys(n||{});if(n.overwriteProps){for(var d=0;d<h.length;d++){var m=h[d];e[m]!==n[m]&&(r=!0,Sp(t,m,n[m]))}return r}for(var c=h.filter(J2),f=0;f<c.length;f++){var g=c[f],v=n[g];n[g]!==e[g]&&(r=!0),v!==void 0?Sp(t,g,v):g in Mm?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),r=!0,Sp(t,g,Mm[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return r}var eR=function(t,e){var n=e.text,r=e.style;return new nb(n,r)},tR=function(){return new Zt};function ps(t,e){if(t==null)return{};var n,r,i=function(o,u){if(o==null)return{};var h,d,m={},c=Object.keys(o);for(d=0;d<c.length;d++)h=c[d],u.indexOf(h)>=0||(m[h]=o[h]);return m}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var nR=["draw","geometry"],rR=function(t,e){var n=e.geometry;dt(!n||n instanceof $s,"Graphics geometry needs to be a `PIXI.Graphics`");var r=n?new $s(n.geometry):new $s;return r.applyProps=function(i,s,o){var u=o.draw;o.geometry;var h=Zr(i,s,ps(o,nR));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(r,r)),h},r},iR=["image","texture"],sR=function(t,e){var n=e.leftWidth,r=n===void 0?10:n,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,h=e.bottomHeight,d=h===void 0?10:h,m=qr("NineSlicePlane",t,e),c=new D2(m,r,s,u,d);return c.applyProps=function(f,g,v){var b=v.image,E=v.texture,x=Zr(f,g,ps(v,iR));return(b||E)&&(E!==g.texture&&(x=!0),f.texture=qr("NineSlicePlane",t,v)),x},c};function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oR=function(t,e){var n=e.maxSize,r=n===void 0?1500:n,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,h=_c(_c({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=_c(_c({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),m=new L2(r,h,s,u);return m.willUnmount=function(c,f,g){c.destroy(d)},m},aR=["image","texture"],lR=function(t,e){var n=new ei(qr("Sprite",t,e));return n.applyProps=function(r,i,s){var o=s.image,u=s.texture,h=Zr(r,i,ps(s,aR));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),r.texture=qr("Sprite",t,s)),h},n},uR=["textures","isPlaying","initialFrame"],cR=function(t,e){var n=e.textures,r=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(d){return d.map(function(m){return dt(m instanceof se||(m==null?void 0:m.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),m})},h=r?Ol.fromImages(r):new Ol(u(n));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(d,m,c){var f=c.textures,g=c.isPlaying,v=c.initialFrame,b=Zr(d,m,ps(c,uR));if(f&&m.textures!==f&&(d.textures=u(f),b=!0),g!==m.isPlaying||v!==m.initialFrame){var E=typeof v=="number"?v:h.currentFrame||0;h[g?"gotoAndPlay":"gotoAndStop"](E),b=!0}return b},h},hR=function(t,e){var n=e.text,r=n===void 0?"":n,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new dd(r,s);return o?(u.updateText(),new ei(u.texture)):u},dR=["tileScale","tilePosition","image","texture"],fR=function(t,e){var n=e.width,r=n===void 0?100:n,i=e.height,s=i===void 0?100:i,o=qr("TilingSprite",t,e),u=new r0(o,r,s);return u.applyProps=function(h,d,m){var c=m.tileScale,f=m.tilePosition,g=m.image,v=m.texture,b=Zr(h,d,ps(m,dR));if(f){var E,x=sl(f);(E=h.tilePosition).set.apply(E,xi(x)),b=!Xy(sl(d.tilePosition),x)||b}if(c){var S,T=sl(c);(S=h.tileScale).set.apply(S,xi(T)),b=!Xy(sl(d.tileScale),T)||b}return(g||v)&&(v!==d.texture&&(b=!0),h.texture=qr("Sprite",t,m)),b},u},pR=["image","texture"],mR=function(t,e){var n=qr("Mesh",t,e),r=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?mr.TRIANGLES:o,h=new O2(n,r,i,s,u);return h.applyProps=function(d,m,c){var f=c.image,g=c.texture,v=Zr(d,m,ps(c,pR));return(f||g)&&(g!==m.texture&&(v=!0),d.texture=qr("Mesh",t,c)),v},h},gR=["image","texture"],_R=function(t,e){var n=qr("SimpleRope",t,e),r=e.points,i=new B2(n,r);return i.applyProps=function(s,o,u){var h=u.image,d=u.texture,m=ps(u,gR);dt(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var c=Zr(s,o,m);return(h||d)&&(d!==o.texture&&(c=!0),s.texture=qr("SimpleRope",t,u)),c},i},vR=Object.freeze({__proto__:null,BitmapText:eR,Container:tR,Graphics:rR,NineSlicePlane:sR,ParticleContainer:oR,Sprite:lR,Text:hR,TilingSprite:fR,SimpleMesh:mR,SimpleRope:_R,AnimatedSprite:cR});function Qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qy(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},yR=Object.keys(vn).reduce(function(t,e){return Ky(Ky({},t),{},mt({},e,vR[e]))},{}),gb={};function xR(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!vn[t],"Component `%s` could not be created, already exists in default components.",t),gb[t]=e,t}var qy,Zy,Jy,e1,Nm={},Dm={},wR={get exports(){return Dm},set exports(t){Dm=t}},t1={};function bR(){return Zy||(Zy=1,wR.exports=(qy||(qy=1,function(t){function e(B,W){var M=B.length;B.push(W);e:for(;0<M;){var Z=M-1>>>1,ie=B[Z];if(!(0<i(ie,W)))break e;B[Z]=W,B[M]=ie,M=Z}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],M=B.pop();if(M!==W){B[0]=M;e:for(var Z=0,ie=B.length,be=ie>>>1;Z<be;){var xe=2*(Z+1)-1,Le=B[xe],Te=xe+1,Be=B[Te];if(0>i(Le,M))Te<ie&&0>i(Be,Le)?(B[Z]=Be,B[Te]=M,Z=Te):(B[Z]=Le,B[xe]=M,Z=xe);else{if(!(Te<ie&&0>i(Be,M)))break e;B[Z]=Be,B[Te]=M,Z=Te}}}return W}function i(B,W){var M=B.sortIndex-W.sortIndex;return M!==0?M:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,c=null,f=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else{if(!(W.startTime<=B))break;r(d),W.sortIndex=W.expirationTime,e(h,W)}W=n(d)}}function C(B){if(b=!1,T(B),!v)if(n(h)!==null)v=!0,ye(P);else{var W=n(d);W!==null&&te(C,W.startTime-B)}}function P(B,W){v=!1,b&&(b=!1,x(H),H=-1),g=!0;var M=f;try{for(T(W),c=n(h);c!==null&&(!(c.expirationTime>W)||B&&!re());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ie=Z(c.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?c.callback=ie:c===n(h)&&r(h),T(W)}else r(h);c=n(h)}if(c!==null)var be=!0;else{var xe=n(d);xe!==null&&te(C,xe.startTime-W),be=!1}return be}finally{c=null,f=M,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,N=!1,O=null,H=-1,Y=5,Q=-1;function re(){return!(t.unstable_now()-Q<Y)}function X(){if(O!==null){var B=t.unstable_now();Q=B;var W=!0;try{W=O(!0,B)}finally{W?D():(N=!1,O=null)}}else N=!1}if(typeof S=="function")D=function(){S(X)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ve=z.port2;z.port1.onmessage=X,D=function(){ve.postMessage(null)}}else D=function(){E(X,0)};function ye(B){O=B,N||(N=!0,D())}function te(B,W){H=E(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ye(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var M=f;f=W;try{return B()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var M=f;f=B;try{return W()}finally{f=M}},t.unstable_scheduleCallback=function(B,W,M){var Z=t.unstable_now();switch(M=typeof M=="object"&&M!==null&&typeof(M=M.delay)=="number"&&0<M?Z+M:Z,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return B={id:m++,callback:W,priorityLevel:B,startTime:M,expirationTime:ie=M+ie,sortIndex:-1},M>Z?(B.sortIndex=M,e(d,B),n(h)===null&&B===n(d)&&(b?(x(H),H=-1):b=!0,te(C,M-Z))):(B.sortIndex=ie,e(h,B),v||g||(v=!0,ye(P))),B},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(B){var W=f;return function(){var M=f;f=W;try{return B.apply(this,arguments)}finally{f=M}}}}(t1)),t1)),Dm}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function SR(){return e1||(e1=1,Jy=function(t){var e={},n=gi,r=bR(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function D(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case h:return"Portal";case c:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case g:return(a.displayName||"Context")+".Consumer";case f:return(a._context.displayName||"Context")+".Provider";case v:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case x:return(l=a.displayName||null)!==null?l:D(a.type)||"Memo";case S:l=a._payload,a=a._init;try{return D(a(l))}catch{}}return null}function N(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(l);case 8:return l===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function O(a){var l=a,p=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(p=l.return),a=l.return;while(a)}return l.tag===3?p:null}function H(a){if(O(a)!==a)throw Error(s(188))}function Y(a){var l=a.alternate;if(!l){if((l=O(a))===null)throw Error(s(188));return l!==a?null:a}for(var p=a,_=l;;){var y=p.return;if(y===null)break;var w=y.alternate;if(w===null){if((_=y.return)!==null){p=_;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===p)return H(y),a;if(w===_)return H(y),l;w=w.sibling}throw Error(s(188))}if(p.return!==_.return)p=y,_=w;else{for(var A=!1,I=y.child;I;){if(I===p){A=!0,p=y,_=w;break}if(I===_){A=!0,_=y,p=w;break}I=I.sibling}if(!A){for(I=w.child;I;){if(I===p){A=!0,p=w,_=y;break}if(I===_){A=!0,_=w,p=y;break}I=I.sibling}if(!A)throw Error(s(189))}}if(p.alternate!==_)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?a:l}function Q(a){return(a=Y(a))!==null?re(a):null}function re(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=re(a);if(l!==null)return l;a=a.sibling}return null}function X(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=X(a);if(l!==null)return l}a=a.sibling}return null}var z,ve=Array.isArray,ye=t.getPublicInstance,te=t.getRootHostContext,B=t.getChildHostContext,W=t.prepareForCommit,M=t.resetAfterCommit,Z=t.createInstance,ie=t.appendInitialChild,be=t.finalizeInitialChildren,xe=t.prepareUpdate,Le=t.shouldSetTextContent,Te=t.createTextInstance,Be=t.scheduleTimeout,At=t.cancelTimeout,Pt=t.noTimeout,at=t.isPrimaryRenderer,Ee=t.supportsMutation,We=t.supportsPersistence,Ne=t.supportsHydration,Mn=t.getInstanceFromNode,Nn=t.preparePortalMount,vs=t.getCurrentEventPriority,Z0=t.detachDeletedInstance,HT=t.supportsMicrotasks,GT=t.scheduleMicrotask,ya=t.supportsTestSelectors,$T=t.findFiberRoot,jT=t.getBoundingRect,WT=t.getTextContent,xa=t.isHiddenSubtree,VT=t.matchAccessibilityRole,XT=t.setFocusIfFocusable,YT=t.setupIntersectionObserver,QT=t.appendChild,KT=t.appendChildToContainer,qT=t.commitTextUpdate,ZT=t.commitMount,JT=t.commitUpdate,eE=t.insertBefore,tE=t.insertInContainerBefore,nE=t.removeChild,rE=t.removeChildFromContainer,J0=t.resetTextContent,iE=t.hideInstance,sE=t.hideTextInstance,oE=t.unhideInstance,aE=t.unhideTextInstance,lE=t.clearContainer,uE=t.cloneInstance,e_=t.createContainerChildSet,t_=t.appendChildToContainerChildSet,cE=t.finalizeContainerChildren,Dd=t.replaceContainerChildren,n_=t.cloneHiddenInstance,r_=t.cloneHiddenTextInstance,hE=t.canHydrateInstance,dE=t.canHydrateTextInstance,fE=t.canHydrateSuspenseInstance,i_=t.isSuspenseInstancePending,Od=t.isSuspenseInstanceFallback,pE=t.getSuspenseInstanceFallbackErrorDetails,mE=t.registerSuspenseInstanceRetry,cu=t.getNextHydratableSibling,gE=t.getFirstHydratableChild,_E=t.getFirstHydratableChildWithinContainer,vE=t.getFirstHydratableChildWithinSuspenseInstance,yE=t.hydrateInstance,xE=t.hydrateTextInstance,wE=t.hydrateSuspenseInstance,bE=t.getNextHydratableInstanceAfterSuspenseInstance,SE=t.commitHydratedContainer,TE=t.commitHydratedSuspenseInstance,EE=t.clearSuspenseBoundary,CE=t.clearSuspenseBoundaryFromContainer,AE=t.shouldDeleteUnhydratedTailInstances,PE=t.didNotMatchHydratedContainerTextInstance,IE=t.didNotMatchHydratedTextInstance;function wa(a){if(z===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+a}var Bd=!1;function Ld(a,l){if(!a||Bd)return"";Bd=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var _=U}Reflect.construct(a,[],l)}else{try{l.call()}catch(U){_=U}a.call(l.prototype)}else{try{throw Error()}catch(U){_=U}a()}}catch(U){if(U&&_&&typeof U.stack=="string"){for(var y=U.stack.split(`
`),w=_.stack.split(`
`),A=y.length-1,I=w.length-1;1<=A&&0<=I&&y[A]!==w[I];)I--;for(;1<=A&&0<=I;A--,I--)if(y[A]!==w[I]){if(A!==1||I!==1)do if(A--,0>--I||y[A]!==w[I]){var L=`
`+y[A].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=A&&0<=I);break}}}finally{Bd=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?wa(a):""}var RE=Object.prototype.hasOwnProperty,Fd=[],io=-1;function Pi(a){return{current:a}}function Ye(a){0>io||(a.current=Fd[io],Fd[io]=null,io--)}function $e(a,l){io++,Fd[io]=a.current,a.current=l}var Ii={},Wt=Pi(Ii),ln=Pi(!1),ys=Ii;function so(a,l){var p=a.type.contextTypes;if(!p)return Ii;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===l)return _.__reactInternalMemoizedMaskedChildContext;var y,w={};for(y in p)w[y]=l[y];return _&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=w),w}function yn(a){return(a=a.childContextTypes)!=null}function Ud(){Ye(ln),Ye(Wt)}function s_(a,l,p){if(Wt.current!==Ii)throw Error(s(168));$e(Wt,l),$e(ln,p)}function o_(a,l,p){var _=a.stateNode;if(l=l.childContextTypes,typeof _.getChildContext!="function")return p;for(var y in _=_.getChildContext())if(!(y in l))throw Error(s(108,N(a)||"Unknown",y));return i({},p,_)}function hu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ii,ys=Wt.current,$e(Wt,a),$e(ln,ln.current),!0}function a_(a,l,p){var _=a.stateNode;if(!_)throw Error(s(169));p?(a=o_(a,l,ys),_.__reactInternalMemoizedMergedChildContext=a,Ye(ln),Ye(Wt),$e(Wt,a)):Ye(ln),$e(ln,p)}var Jn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(kE(a)/ME|0)|0},kE=Math.log,ME=Math.LN2,zd=64,Hd=4194304;function ba(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function du(a,l){var p=a.pendingLanes;if(p===0)return 0;var _=0,y=a.suspendedLanes,w=a.pingedLanes,A=268435455&p;if(A!==0){var I=A&~y;I!==0?_=ba(I):(w&=A)!==0&&(_=ba(w))}else(A=p&~y)!==0?_=ba(A):w!==0&&(_=ba(w));if(_===0)return 0;if(l!==0&&l!==_&&!(l&y)&&((y=_&-_)>=(w=l&-l)||y===16&&4194240&w))return l;if(4&_&&(_|=16&p),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=_;0<l;)y=1<<(p=31-Jn(l)),_|=a[p],l&=~y;return _}function NE(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function Gd(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function l_(){var a=zd;return!(4194240&(zd<<=1))&&(zd=64),a}function $d(a){for(var l=[],p=0;31>p;p++)l.push(a);return l}function Sa(a,l,p){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-Jn(l)]=p}function jd(a,l){var p=a.entangledLanes|=l;for(a=a.entanglements;p;){var _=31-Jn(p),y=1<<_;y&l|a[_]&l&&(a[_]|=l),p&=~y}}var De=0;function u_(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Wd=r.unstable_scheduleCallback,c_=r.unstable_cancelCallback,DE=r.unstable_shouldYield,OE=r.unstable_requestPaint,It=r.unstable_now,Vd=r.unstable_ImmediatePriority,BE=r.unstable_UserBlockingPriority,h_=r.unstable_NormalPriority,LE=r.unstable_IdlePriority,fu=null,Ar=null,er=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},ni=null,pu=!1,Xd=!1;function d_(a){ni===null?ni=[a]:ni.push(a)}function Pr(){if(!Xd&&ni!==null){Xd=!0;var a=0,l=De;try{var p=ni;for(De=1;a<p.length;a++){var _=p[a];do _=_(!0);while(_!==null)}ni=null,pu=!1}catch(y){throw ni!==null&&(ni=ni.slice(a+1)),Wd(Vd,Pr),y}finally{De=l,Xd=!1}}return null}var oo=[],ao=0,mu=null,gu=0,Dn=[],On=0,xs=null,Ir=1,ri="";function ws(a,l){oo[ao++]=gu,oo[ao++]=mu,mu=a,gu=l}function f_(a,l,p){Dn[On++]=Ir,Dn[On++]=ri,Dn[On++]=xs,xs=a;var _=Ir;a=ri;var y=32-Jn(_)-1;_&=~(1<<y),p+=1;var w=32-Jn(l)+y;if(30<w){var A=y-y%5;w=(_&(1<<A)-1).toString(32),_>>=A,y-=A,Ir=1<<32-Jn(l)+y|p<<y|_,ri=w+a}else Ir=1<<w|p<<y|_,ri=a}function Yd(a){a.return!==null&&(ws(a,1),f_(a,1,0))}function Qd(a){for(;a===mu;)mu=oo[--ao],oo[ao]=null,gu=oo[--ao],oo[ao]=null;for(;a===xs;)xs=Dn[--On],Dn[On]=null,ri=Dn[--On],Dn[On]=null,Ir=Dn[--On],Dn[On]=null}var xn=null,Bn=null,Qe=!1,Ta=!1,tr=null;function p_(a,l){var p=Hn(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=a,(l=a.deletions)===null?(a.deletions=[p],a.flags|=16):l.push(p)}function m_(a,l){switch(a.tag){case 5:return(l=hE(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,xn=a,Bn=gE(l),!0);case 6:return(l=dE(l,a.pendingProps))!==null&&(a.stateNode=l,xn=a,Bn=null,!0);case 13:if((l=fE(l))!==null){var p=xs!==null?{id:Ir,overflow:ri}:null;return a.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},(p=Hn(18,null,null,0)).stateNode=l,p.return=a,a.child=p,xn=a,Bn=null,!0}return!1;default:return!1}}function Kd(a){return(1&a.mode)!=0&&(128&a.flags)==0}function qd(a){if(Qe){var l=Bn;if(l){var p=l;if(!m_(a,l)){if(Kd(a))throw Error(s(418));l=cu(p);var _=xn;l&&m_(a,l)?p_(_,p):(a.flags=-4097&a.flags|2,Qe=!1,xn=a)}}else{if(Kd(a))throw Error(s(418));a.flags=-4097&a.flags|2,Qe=!1,xn=a}}}function g_(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xn=a}function _u(a){if(!Ne||a!==xn)return!1;if(!Qe)return g_(a),Qe=!0,!1;if(a.tag!==3&&(a.tag!==5||AE(a.type)&&!Le(a.type,a.memoizedProps))){var l=Bn;if(l){if(Kd(a))throw __(),Error(s(418));for(;l;)p_(a,l),l=cu(l)}}if(g_(a),a.tag===13){if(!Ne)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Bn=bE(a)}else Bn=xn?cu(a.stateNode):null;return!0}function __(){for(var a=Bn;a;)a=cu(a)}function lo(){Ne&&(Bn=xn=null,Ta=Qe=!1)}function Zd(a){tr===null?tr=[a]:tr.push(a)}var FE=o.ReactCurrentBatchConfig;function vu(a,l){if(er(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var p=Object.keys(a),_=Object.keys(l);if(p.length!==_.length)return!1;for(_=0;_<p.length;_++){var y=p[_];if(!RE.call(l,y)||!er(a[y],l[y]))return!1}return!0}function UE(a){switch(a.tag){case 5:return wa(a.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return a=Ld(a.type,!1);case 11:return a=Ld(a.type.render,!1);case 1:return a=Ld(a.type,!0);default:return""}}function nr(a,l){if(a&&a.defaultProps){for(var p in l=i({},l),a=a.defaultProps)l[p]===void 0&&(l[p]=a[p]);return l}return l}var yu=Pi(null),xu=null,uo=null,Jd=null;function ef(){Jd=uo=xu=null}function v_(a,l,p){at?($e(yu,l._currentValue),l._currentValue=p):($e(yu,l._currentValue2),l._currentValue2=p)}function tf(a){var l=yu.current;Ye(yu),at?a._currentValue=l:a._currentValue2=l}function nf(a,l,p){for(;a!==null;){var _=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,_!==null&&(_.childLanes|=l)):_!==null&&(_.childLanes&l)!==l&&(_.childLanes|=l),a===p)break;a=a.return}}function co(a,l){xu=a,Jd=uo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(un=!0),a.firstContext=null)}function Ln(a){var l=at?a._currentValue:a._currentValue2;if(Jd!==a)if(a={context:a,memoizedValue:l,next:null},uo===null){if(xu===null)throw Error(s(308));uo=a,xu.dependencies={lanes:0,firstContext:a}}else uo=uo.next=a;return l}var bs=null;function rf(a){bs===null?bs=[a]:bs.push(a)}function y_(a,l,p,_){var y=l.interleaved;return y===null?(p.next=p,rf(l)):(p.next=y.next,y.next=p),l.interleaved=p,Rr(a,_)}function Rr(a,l){a.lanes|=l;var p=a.alternate;for(p!==null&&(p.lanes|=l),p=a,a=a.return;a!==null;)a.childLanes|=l,(p=a.alternate)!==null&&(p.childLanes|=l),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Ri=!1;function sf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x_(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ii(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ki(a,l,p){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,(2&Ie)!=0){var y=_.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),_.pending=l,Rr(a,p)}return(y=_.interleaved)===null?(l.next=l,rf(_)):(l.next=y.next,y.next=l),_.interleaved=l,Rr(a,p)}function wu(a,l,p){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&p)!=0)){var _=l.lanes;p|=_&=a.pendingLanes,l.lanes=p,jd(a,p)}}function w_(a,l){var p=a.updateQueue,_=a.alternate;if(_!==null&&p===(_=_.updateQueue)){var y=null,w=null;if((p=p.firstBaseUpdate)!==null){do{var A={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};w===null?y=w=A:w=w.next=A,p=p.next}while(p!==null);w===null?y=w=l:w=w.next=l}else y=w=l;return p={baseState:_.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:_.shared,effects:_.effects},void(a.updateQueue=p)}(a=p.lastBaseUpdate)===null?p.firstBaseUpdate=l:a.next=l,p.lastBaseUpdate=l}function bu(a,l,p,_){var y=a.updateQueue;Ri=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var L=I,U=L.next;L.next=null,A===null?w=U:A.next=U,A=L;var $=a.alternate;$!==null&&(I=($=$.updateQueue).lastBaseUpdate)!==A&&(I===null?$.firstBaseUpdate=U:I.next=U,$.lastBaseUpdate=L)}if(w!==null){var ne=y.baseState;for(A=0,$=U=L=null,I=w;;){var G=I.lane,J=I.eventTime;if((_&G)===G){$!==null&&($=$.next={eventTime:J,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=a,Se=I;switch(G=l,J=p,Se.tag){case 1:if(typeof(ce=Se.payload)=="function"){ne=ce.call(J,ne,G);break e}ne=ce;break e;case 3:ce.flags=-65537&ce.flags|128;case 0:if((G=typeof(ce=Se.payload)=="function"?ce.call(J,ne,G):ce)==null)break e;ne=i({},ne,G);break e;case 2:Ri=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(G=y.effects)===null?y.effects=[I]:G.push(I))}else J={eventTime:J,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},$===null?(U=$=J,L=ne):$=$.next=J,A|=G;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(G=I).next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}if($===null&&(L=ne),y.baseState=L,y.firstBaseUpdate=U,y.lastBaseUpdate=$,(l=y.shared.interleaved)!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ts|=A,a.lanes=A,a.memoizedState=ne}}function b_(a,l,p){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var _=a[l],y=_.callback;if(y!==null){if(_.callback=null,_=p,typeof y!="function")throw Error(s(191,y));y.call(_)}}}var S_=new n.Component().refs;function of(a,l,p,_){p=(p=p(_,l=a.memoizedState))==null?l:i({},l,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Su={isMounted:function(a){return!!(a=a._reactInternals)&&O(a)===a},enqueueSetState:function(a,l,p){a=a._reactInternals;var _=Yt(),y=Oi(a),w=ii(_,y);w.payload=l,p!=null&&(w.callback=p),(l=ki(a,w,y))!==null&&(zn(l,a,y,_),wu(l,a,y))},enqueueReplaceState:function(a,l,p){a=a._reactInternals;var _=Yt(),y=Oi(a),w=ii(_,y);w.tag=1,w.payload=l,p!=null&&(w.callback=p),(l=ki(a,w,y))!==null&&(zn(l,a,y,_),wu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var p=Yt(),_=Oi(a),y=ii(p,_);y.tag=2,l!=null&&(y.callback=l),(l=ki(a,y,_))!==null&&(zn(l,a,_,p),wu(l,a,_))}};function T_(a,l,p,_,y,w,A){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,w,A):!l.prototype||!l.prototype.isPureReactComponent||!vu(p,_)||!vu(y,w)}function E_(a,l,p){var _=!1,y=Ii,w=l.contextType;return typeof w=="object"&&w!==null?w=Ln(w):(y=yn(l)?ys:Wt.current,w=(_=(_=l.contextTypes)!=null)?so(a,y):Ii),l=new l(p,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Su,a.stateNode=l,l._reactInternals=a,_&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function C_(a,l,p,_){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,_),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,_),l.state!==a&&Su.enqueueReplaceState(l,l.state,null)}function af(a,l,p,_){var y=a.stateNode;y.props=p,y.state=a.memoizedState,y.refs=S_,sf(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Ln(w):(w=yn(l)?ys:Wt.current,y.context=so(a,w)),y.state=a.memoizedState,typeof(w=l.getDerivedStateFromProps)=="function"&&(of(a,l,w,p),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Su.enqueueReplaceState(y,y.state,null),bu(a,p,y,_),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ea(a,l,p){if((a=p.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var _=p.stateNode}if(!_)throw Error(s(147,a));var y=_,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(A){var I=y.refs;I===S_&&(I=y.refs={}),A===null?delete I[w]:I[w]=A},l._stringRef=w,l)}if(typeof a!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,a))}return a}function Tu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function A_(a){return(0,a._init)(a._payload)}function P_(a){function l(j,k){if(a){var F=j.deletions;F===null?(j.deletions=[k],j.flags|=16):F.push(k)}}function p(j,k){if(!a)return null;for(;k!==null;)l(j,k),k=k.sibling;return null}function _(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function y(j,k){return(j=Li(j,k)).index=0,j.sibling=null,j}function w(j,k,F){return j.index=F,a?(F=j.alternate)!==null?(F=F.index)<k?(j.flags|=2,k):F:(j.flags|=2,k):(j.flags|=1048576,k)}function A(j){return a&&j.alternate===null&&(j.flags|=2),j}function I(j,k,F,K){return k===null||k.tag!==6?((k=Xf(F,j.mode,K)).return=j,k):((k=y(k,F)).return=j,k)}function L(j,k,F,K){var pe=F.type;return pe===d?$(j,k,F.props.children,K,F.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&A_(pe)===k.type)?((K=y(k,F.props)).ref=Ea(j,k,F),K.return=j,K):((K=Ku(F.type,F.key,F.props,null,j.mode,K)).ref=Ea(j,k,F),K.return=j,K)}function U(j,k,F,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?((k=Yf(F,j.mode,K)).return=j,k):((k=y(k,F.children||[])).return=j,k)}function $(j,k,F,K,pe){return k===null||k.tag!==7?((k=As(F,j.mode,K,pe)).return=j,k):((k=y(k,F)).return=j,k)}function ne(j,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=Xf(""+k,j.mode,F)).return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case u:return(F=Ku(k.type,k.key,k.props,null,j.mode,F)).ref=Ea(j,null,k),F.return=j,F;case h:return(k=Yf(k,j.mode,F)).return=j,k;case S:return ne(j,(0,k._init)(k._payload),F)}if(ve(k)||P(k))return(k=As(k,j.mode,F,null)).return=j,k;Tu(j,k)}return null}function G(j,k,F,K){var pe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:I(j,k,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return F.key===pe?L(j,k,F,K):null;case h:return F.key===pe?U(j,k,F,K):null;case S:return G(j,k,(pe=F._init)(F._payload),K)}if(ve(F)||P(F))return pe!==null?null:$(j,k,F,K,null);Tu(j,F)}return null}function J(j,k,F,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number")return I(k,j=j.get(F)||null,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case u:return L(k,j=j.get(K.key===null?F:K.key)||null,K,pe);case h:return U(k,j=j.get(K.key===null?F:K.key)||null,K,pe);case S:return J(j,k,F,(0,K._init)(K._payload),pe)}if(ve(K)||P(K))return $(k,j=j.get(F)||null,K,pe,null);Tu(k,K)}return null}function ce(j,k,F,K){for(var pe=null,Fe=null,he=k,Oe=k=0,Ft=null;he!==null&&Oe<F.length;Oe++){he.index>Oe?(Ft=he,he=null):Ft=he.sibling;var Ue=G(j,he,F[Oe],K);if(Ue===null){he===null&&(he=Ft);break}a&&he&&Ue.alternate===null&&l(j,he),k=w(Ue,k,Oe),Fe===null?pe=Ue:Fe.sibling=Ue,Fe=Ue,he=Ft}if(Oe===F.length)return p(j,he),Qe&&ws(j,Oe),pe;if(he===null){for(;Oe<F.length;Oe++)(he=ne(j,F[Oe],K))!==null&&(k=w(he,k,Oe),Fe===null?pe=he:Fe.sibling=he,Fe=he);return Qe&&ws(j,Oe),pe}for(he=_(j,he);Oe<F.length;Oe++)(Ft=J(he,j,Oe,F[Oe],K))!==null&&(a&&Ft.alternate!==null&&he.delete(Ft.key===null?Oe:Ft.key),k=w(Ft,k,Oe),Fe===null?pe=Ft:Fe.sibling=Ft,Fe=Ft);return a&&he.forEach(function(Fi){return l(j,Fi)}),Qe&&ws(j,Oe),pe}function Se(j,k,F,K){var pe=P(F);if(typeof pe!="function")throw Error(s(150));if((F=pe.call(F))==null)throw Error(s(151));for(var Fe=pe=null,he=k,Oe=k=0,Ft=null,Ue=F.next();he!==null&&!Ue.done;Oe++,Ue=F.next()){he.index>Oe?(Ft=he,he=null):Ft=he.sibling;var Fi=G(j,he,Ue.value,K);if(Fi===null){he===null&&(he=Ft);break}a&&he&&Fi.alternate===null&&l(j,he),k=w(Fi,k,Oe),Fe===null?pe=Fi:Fe.sibling=Fi,Fe=Fi,he=Ft}if(Ue.done)return p(j,he),Qe&&ws(j,Oe),pe;if(he===null){for(;!Ue.done;Oe++,Ue=F.next())(Ue=ne(j,Ue.value,K))!==null&&(k=w(Ue,k,Oe),Fe===null?pe=Ue:Fe.sibling=Ue,Fe=Ue);return Qe&&ws(j,Oe),pe}for(he=_(j,he);!Ue.done;Oe++,Ue=F.next())(Ue=J(he,j,Oe,Ue.value,K))!==null&&(a&&Ue.alternate!==null&&he.delete(Ue.key===null?Oe:Ue.key),k=w(Ue,k,Oe),Fe===null?pe=Ue:Fe.sibling=Ue,Fe=Ue);return a&&he.forEach(function(uC){return l(j,uC)}),Qe&&ws(j,Oe),pe}return function j(k,F,K,pe){if(typeof K=="object"&&K!==null&&K.type===d&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case u:e:{for(var Fe=K.key,he=F;he!==null;){if(he.key===Fe){if((Fe=K.type)===d){if(he.tag===7){p(k,he.sibling),(F=y(he,K.props.children)).return=k,k=F;break e}}else if(he.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===S&&A_(Fe)===he.type){p(k,he.sibling),(F=y(he,K.props)).ref=Ea(k,he,K),F.return=k,k=F;break e}p(k,he);break}l(k,he),he=he.sibling}K.type===d?((F=As(K.props.children,k.mode,pe,K.key)).return=k,k=F):((pe=Ku(K.type,K.key,K.props,null,k.mode,pe)).ref=Ea(k,F,K),pe.return=k,k=pe)}return A(k);case h:e:{for(he=K.key;F!==null;){if(F.key===he){if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){p(k,F.sibling),(F=y(F,K.children||[])).return=k,k=F;break e}p(k,F);break}l(k,F),F=F.sibling}(F=Yf(K,k.mode,pe)).return=k,k=F}return A(k);case S:return j(k,F,(he=K._init)(K._payload),pe)}if(ve(K))return ce(k,F,K,pe);if(P(K))return Se(k,F,K,pe);Tu(k,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(p(k,F.sibling),(F=y(F,K)).return=k,k=F):(p(k,F),(F=Xf(K,k.mode,pe)).return=k,k=F),A(k)):p(k,F)}}var ho=P_(!0),I_=P_(!1),Ca={},Fn=Pi(Ca),Aa=Pi(Ca),fo=Pi(Ca);function kr(a){if(a===Ca)throw Error(s(174));return a}function lf(a,l){$e(fo,l),$e(Aa,a),$e(Fn,Ca),a=te(l),Ye(Fn),$e(Fn,a)}function po(){Ye(Fn),Ye(Aa),Ye(fo)}function R_(a){var l=kr(fo.current),p=kr(Fn.current);p!==(l=B(p,a.type,l))&&($e(Aa,a),$e(Fn,l))}function uf(a){Aa.current===a&&(Ye(Fn),Ye(Aa))}var lt=Pi(0);function Eu(a){for(var l=a;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&((p=p.dehydrated)===null||i_(p)||Od(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var cf=[];function hf(){for(var a=0;a<cf.length;a++){var l=cf[a];at?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}cf.length=0}var Cu=o.ReactCurrentDispatcher,df=o.ReactCurrentBatchConfig,Ss=0,tt=null,Rt=null,kt=null,Au=!1,Pa=!1,Ia=0,zE=0;function Vt(){throw Error(s(321))}function ff(a,l){if(l===null)return!1;for(var p=0;p<l.length&&p<a.length;p++)if(!er(a[p],l[p]))return!1;return!0}function pf(a,l,p,_,y,w){if(Ss=w,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Cu.current=a===null||a.memoizedState===null?jE:WE,a=p(_,y),Pa){w=0;do{if(Pa=!1,Ia=0,25<=w)throw Error(s(301));w+=1,kt=Rt=null,l.updateQueue=null,Cu.current=VE,a=p(_,y)}while(Pa)}if(Cu.current=Ru,l=Rt!==null&&Rt.next!==null,Ss=0,kt=Rt=tt=null,Au=!1,l)throw Error(s(300));return a}function mf(){var a=Ia!==0;return Ia=0,a}function Mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?tt.memoizedState=kt=a:kt=kt.next=a,kt}function Un(){if(Rt===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=Rt.next;var l=kt===null?tt.memoizedState:kt.next;if(l!==null)kt=l,Rt=a;else{if(a===null)throw Error(s(310));a={memoizedState:(Rt=a).memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},kt===null?tt.memoizedState=kt=a:kt=kt.next=a}return kt}function Ra(a,l){return typeof l=="function"?l(a):l}function gf(a){var l=Un(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var _=Rt,y=_.baseQueue,w=p.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}_.baseQueue=y=w,p.pending=null}if(y!==null){w=y.next,_=_.baseState;var I=A=null,L=null,U=w;do{var $=U.lane;if((Ss&$)===$)L!==null&&(L=L.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),_=U.hasEagerState?U.eagerState:a(_,U.action);else{var ne={lane:$,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};L===null?(I=L=ne,A=_):L=L.next=ne,tt.lanes|=$,Ts|=$}U=U.next}while(U!==null&&U!==w);L===null?A=_:L.next=I,er(_,l.memoizedState)||(un=!0),l.memoizedState=_,l.baseState=A,l.baseQueue=L,p.lastRenderedState=_}if((a=p.interleaved)!==null){y=a;do w=y.lane,tt.lanes|=w,Ts|=w,y=y.next;while(y!==a)}else y===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function _f(a){var l=Un(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var _=p.dispatch,y=p.pending,w=l.memoizedState;if(y!==null){p.pending=null;var A=y=y.next;do w=a(w,A.action),A=A.next;while(A!==y);er(w,l.memoizedState)||(un=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,_]}function k_(){}function M_(a,l){var p=tt,_=Un(),y=l(),w=!er(_.memoizedState,y);if(w&&(_.memoizedState=y,un=!0),_=_.queue,vf(O_.bind(null,p,_,a),[a]),_.getSnapshot!==l||w||kt!==null&&1&kt.memoizedState.tag){if(p.flags|=2048,ka(9,D_.bind(null,p,_,y,l),void 0,null),Mt===null)throw Error(s(349));30&Ss||N_(p,l,y)}return y}function N_(a,l,p){a.flags|=16384,a={getSnapshot:l,value:p},(l=tt.updateQueue)===null?(l={lastEffect:null,stores:null},tt.updateQueue=l,l.stores=[a]):(p=l.stores)===null?l.stores=[a]:p.push(a)}function D_(a,l,p,_){l.value=p,l.getSnapshot=_,B_(l)&&L_(a)}function O_(a,l,p){return p(function(){B_(l)&&L_(a)})}function B_(a){var l=a.getSnapshot;a=a.value;try{var p=l();return!er(a,p)}catch{return!0}}function L_(a){var l=Rr(a,1);l!==null&&zn(l,a,1,-1)}function F_(a){var l=Mr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:a},l.queue=a,a=a.dispatch=$E.bind(null,tt,a),[l.memoizedState,a]}function ka(a,l,p,_){return a={tag:a,create:l,destroy:p,deps:_,next:null},(l=tt.updateQueue)===null?(l={lastEffect:null,stores:null},tt.updateQueue=l,l.lastEffect=a.next=a):(p=l.lastEffect)===null?l.lastEffect=a.next=a:(_=p.next,p.next=a,a.next=_,l.lastEffect=a),a}function U_(){return Un().memoizedState}function Pu(a,l,p,_){var y=Mr();tt.flags|=a,y.memoizedState=ka(1|l,p,void 0,_===void 0?null:_)}function Iu(a,l,p,_){var y=Un();_=_===void 0?null:_;var w=void 0;if(Rt!==null){var A=Rt.memoizedState;if(w=A.destroy,_!==null&&ff(_,A.deps))return void(y.memoizedState=ka(l,p,w,_))}tt.flags|=a,y.memoizedState=ka(1|l,p,w,_)}function z_(a,l){return Pu(8390656,8,a,l)}function vf(a,l){return Iu(2048,8,a,l)}function H_(a,l){return Iu(4,2,a,l)}function G_(a,l){return Iu(4,4,a,l)}function $_(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function j_(a,l,p){return p=p!=null?p.concat([a]):null,Iu(4,4,$_.bind(null,l,a),p)}function yf(){}function W_(a,l){var p=Un();l=l===void 0?null:l;var _=p.memoizedState;return _!==null&&l!==null&&ff(l,_[1])?_[0]:(p.memoizedState=[a,l],a)}function V_(a,l){var p=Un();l=l===void 0?null:l;var _=p.memoizedState;return _!==null&&l!==null&&ff(l,_[1])?_[0]:(a=a(),p.memoizedState=[a,l],a)}function X_(a,l,p){return 21&Ss?(er(p,l)||(p=l_(),tt.lanes|=p,Ts|=p,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,un=!0),a.memoizedState=p)}function HE(a,l){var p=De;De=p!==0&&4>p?p:4,a(!0);var _=df.transition;df.transition={};try{a(!1),l()}finally{De=p,df.transition=_}}function Y_(){return Un().memoizedState}function GE(a,l,p){var _=Oi(a);p={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null},Q_(a)?K_(l,p):(p=y_(a,l,p,_))!==null&&(zn(p,a,_,Yt()),q_(p,l,_))}function $E(a,l,p){var _=Oi(a),y={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null};if(Q_(a))K_(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=w(A,p);if(y.hasEagerState=!0,y.eagerState=I,er(I,A)){var L=l.interleaved;return L===null?(y.next=y,rf(l)):(y.next=L.next,L.next=y),void(l.interleaved=y)}}catch{}(p=y_(a,l,y,_))!==null&&(zn(p,a,_,y=Yt()),q_(p,l,_))}}function Q_(a){var l=a.alternate;return a===tt||l!==null&&l===tt}function K_(a,l){Pa=Au=!0;var p=a.pending;p===null?l.next=l:(l.next=p.next,p.next=l),a.pending=l}function q_(a,l,p){if(4194240&p){var _=l.lanes;p|=_&=a.pendingLanes,l.lanes=p,jd(a,p)}}var Ru={readContext:Ln,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},jE={readContext:Ln,useCallback:function(a,l){return Mr().memoizedState=[a,l===void 0?null:l],a},useContext:Ln,useEffect:z_,useImperativeHandle:function(a,l,p){return p=p!=null?p.concat([a]):null,Pu(4194308,4,$_.bind(null,l,a),p)},useLayoutEffect:function(a,l){return Pu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Pu(4,2,a,l)},useMemo:function(a,l){var p=Mr();return l=l===void 0?null:l,a=a(),p.memoizedState=[a,l],a},useReducer:function(a,l,p){var _=Mr();return l=p!==void 0?p(l):l,_.memoizedState=_.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},_.queue=a,a=a.dispatch=GE.bind(null,tt,a),[_.memoizedState,a]},useRef:function(a){return a={current:a},Mr().memoizedState=a},useState:F_,useDebugValue:yf,useDeferredValue:function(a){return Mr().memoizedState=a},useTransition:function(){var a=F_(!1),l=a[0];return a=HE.bind(null,a[1]),Mr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,p){var _=tt,y=Mr();if(Qe){if(p===void 0)throw Error(s(407));p=p()}else{if(p=l(),Mt===null)throw Error(s(349));30&Ss||N_(_,l,p)}y.memoizedState=p;var w={value:p,getSnapshot:l};return y.queue=w,z_(O_.bind(null,_,w,a),[a]),_.flags|=2048,ka(9,D_.bind(null,_,w,p,l),void 0,null),p},useId:function(){var a=Mr(),l=Mt.identifierPrefix;if(Qe){var p=ri;l=":"+l+"R"+(p=(Ir&~(1<<32-Jn(Ir)-1)).toString(32)+p),0<(p=Ia++)&&(l+="H"+p.toString(32)),l+=":"}else l=":"+l+"r"+(p=zE++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},WE={readContext:Ln,useCallback:W_,useContext:Ln,useEffect:vf,useImperativeHandle:j_,useInsertionEffect:H_,useLayoutEffect:G_,useMemo:V_,useReducer:gf,useRef:U_,useState:function(){return gf(Ra)},useDebugValue:yf,useDeferredValue:function(a){return X_(Un(),Rt.memoizedState,a)},useTransition:function(){return[gf(Ra)[0],Un().memoizedState]},useMutableSource:k_,useSyncExternalStore:M_,useId:Y_,unstable_isNewReconciler:!1},VE={readContext:Ln,useCallback:W_,useContext:Ln,useEffect:vf,useImperativeHandle:j_,useInsertionEffect:H_,useLayoutEffect:G_,useMemo:V_,useReducer:_f,useRef:U_,useState:function(){return _f(Ra)},useDebugValue:yf,useDeferredValue:function(a){var l=Un();return Rt===null?l.memoizedState=a:X_(l,Rt.memoizedState,a)},useTransition:function(){return[_f(Ra)[0],Un().memoizedState]},useMutableSource:k_,useSyncExternalStore:M_,useId:Y_,unstable_isNewReconciler:!1};function mo(a,l){try{var p="",_=l;do p+=UE(_),_=_.return;while(_);var y=p}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function xf(a,l,p){return{value:a,source:null,stack:p??null,digest:l??null}}function wf(a,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var XE=typeof WeakMap=="function"?WeakMap:Map;function Z_(a,l,p){(p=ii(-1,p)).tag=3,p.payload={element:null};var _=l.value;return p.callback=function(){ju||(ju=!0,zf=_),wf(0,l)},p}function J_(a,l,p){(p=ii(-1,p)).tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var y=l.value;p.payload=function(){return _(y)},p.callback=function(){wf(0,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(p.callback=function(){wf(0,l),typeof _!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),p}function ev(a,l,p){var _=a.pingCache;if(_===null){_=a.pingCache=new XE;var y=new Set;_.set(l,y)}else(y=_.get(l))===void 0&&(y=new Set,_.set(l,y));y.has(p)||(y.add(p),a=nC.bind(null,a,l,p),l.then(a,a))}function tv(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function nv(a,l,p,_,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((l=ii(-1,1)).tag=2,ki(p,l,1))),p.lanes|=1),a)}var YE=o.ReactCurrentOwner,un=!1;function cn(a,l,p,_){l.child=a===null?I_(l,null,p,_):ho(l,a.child,p,_)}function rv(a,l,p,_,y){p=p.render;var w=l.ref;return co(l,y),_=pf(a,l,p,_,w,y),p=mf(),a===null||un?(Qe&&p&&Yd(l),l.flags|=1,cn(a,l,_,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,si(a,l,y))}function iv(a,l,p,_,y){if(a===null){var w=p.type;return typeof w!="function"||Vf(w)||w.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((a=Ku(p.type,null,_,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=w,sv(a,l,w,_,y))}if(w=a.child,(a.lanes&y)==0){var A=w.memoizedProps;if((p=(p=p.compare)!==null?p:vu)(A,_)&&a.ref===l.ref)return si(a,l,y)}return l.flags|=1,(a=Li(w,_)).ref=l.ref,a.return=l,l.child=a}function sv(a,l,p,_,y){if(a!==null){var w=a.memoizedProps;if(vu(w,_)&&a.ref===l.ref){if(un=!1,l.pendingProps=_=w,(a.lanes&y)==0)return l.lanes=a.lanes,si(a,l,y);131072&a.flags&&(un=!0)}}return bf(a,l,p,_,y)}function ov(a,l,p){var _=l.pendingProps,y=_.children,w=a!==null?a.memoizedState:null;if(_.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(_o,wn),wn|=p;else{if(!(1073741824&p))return a=w!==null?w.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,$e(_o,wn),wn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=w!==null?w.baseLanes:p,$e(_o,wn),wn|=_}else w!==null?(_=w.baseLanes|p,l.memoizedState=null):_=p,$e(_o,wn),wn|=_;return cn(a,l,y,p),l.child}function av(a,l){var p=l.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function bf(a,l,p,_,y){var w=yn(p)?ys:Wt.current;return w=so(l,w),co(l,y),p=pf(a,l,p,_,w,y),_=mf(),a===null||un?(Qe&&_&&Yd(l),l.flags|=1,cn(a,l,p,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,si(a,l,y))}function lv(a,l,p,_,y){if(yn(p)){var w=!0;hu(l)}else w=!1;if(co(l,y),l.stateNode===null)Du(a,l),E_(l,p,_),af(l,p,_,y),_=!0;else if(a===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var L=A.context,U=p.contextType;typeof U=="object"&&U!==null?U=Ln(U):U=so(l,U=yn(p)?ys:Wt.current);var $=p.getDerivedStateFromProps,ne=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function";ne||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==_||L!==U)&&C_(l,A,_,U),Ri=!1;var G=l.memoizedState;A.state=G,bu(l,_,A,y),L=l.memoizedState,I!==_||G!==L||ln.current||Ri?(typeof $=="function"&&(of(l,p,$,_),L=l.memoizedState),(I=Ri||T_(l,p,I,_,G,L,U))?(ne||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=_,l.memoizedState=L),A.props=_,A.state=L,A.context=U,_=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),_=!1)}else{A=l.stateNode,x_(a,l),I=l.memoizedProps,U=l.type===l.elementType?I:nr(l.type,I),A.props=U,ne=l.pendingProps,G=A.context,typeof(L=p.contextType)=="object"&&L!==null?L=Ln(L):L=so(l,L=yn(p)?ys:Wt.current);var J=p.getDerivedStateFromProps;($=typeof J=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==ne||G!==L)&&C_(l,A,_,L),Ri=!1,G=l.memoizedState,A.state=G,bu(l,_,A,y);var ce=l.memoizedState;I!==ne||G!==ce||ln.current||Ri?(typeof J=="function"&&(of(l,p,J,_),ce=l.memoizedState),(U=Ri||T_(l,p,U,_,G,ce,L)||!1)?($||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(_,ce,L),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(_,ce,L)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=_,l.memoizedState=ce),A.props=_,A.state=ce,A.context=L,_=U):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),_=!1)}return Sf(a,l,p,_,w,y)}function Sf(a,l,p,_,y,w){av(a,l);var A=(128&l.flags)!=0;if(!_&&!A)return y&&a_(l,p,!1),si(a,l,w);_=l.stateNode,YE.current=l;var I=A&&typeof p.getDerivedStateFromError!="function"?null:_.render();return l.flags|=1,a!==null&&A?(l.child=ho(l,a.child,null,w),l.child=ho(l,null,I,w)):cn(a,l,I,w),l.memoizedState=_.state,y&&a_(l,p,!0),l.child}function uv(a){var l=a.stateNode;l.pendingContext?s_(0,l.pendingContext,l.pendingContext!==l.context):l.context&&s_(0,l.context,!1),lf(a,l.containerInfo)}function cv(a,l,p,_,y){return lo(),Zd(y),l.flags|=256,cn(a,l,p,_),l.child}var Ma,Na,ku,Mu,Tf={dehydrated:null,treeContext:null,retryLane:0};function Ef(a){return{baseLanes:a,cachePool:null,transitions:null}}function hv(a,l,p){var _,y=l.pendingProps,w=lt.current,A=!1,I=(128&l.flags)!=0;if((_=I)||(_=(a===null||a.memoizedState!==null)&&(2&w)!=0),_?(A=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(w|=1),$e(lt,1&w),a===null)return qd(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?Od(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=y.children,a=y.fallback,A?(y=l.mode,A=l.child,I={mode:"hidden",children:I},!(1&y)&&A!==null?(A.childLanes=0,A.pendingProps=I):A=qu(I,y,0,null),a=As(a,y,p,null),A.return=l,a.return=l,A.sibling=a,l.child=A,l.child.memoizedState=Ef(p),l.memoizedState=Tf,a):Cf(l,I));if((w=a.memoizedState)!==null&&(_=w.dehydrated)!==null)return function(U,$,ne,G,J,ce,Se){if(ne)return 256&$.flags?($.flags&=-257,Nu(U,$,Se,G=xf(Error(s(422))))):$.memoizedState!==null?($.child=U.child,$.flags|=128,null):(ce=G.fallback,J=$.mode,G=qu({mode:"visible",children:G.children},J,0,null),(ce=As(ce,J,Se,null)).flags|=2,G.return=$,ce.return=$,G.sibling=ce,$.child=G,1&$.mode&&ho($,U.child,null,Se),$.child.memoizedState=Ef(Se),$.memoizedState=Tf,ce);if(!(1&$.mode))return Nu(U,$,Se,null);if(Od(J))return G=pE(J).digest,ce=Error(s(419)),G=xf(ce,G,void 0),Nu(U,$,Se,G);if(ne=(Se&U.childLanes)!=0,un||ne){if((G=Mt)!==null){switch(Se&-Se){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}(J=J&(G.suspendedLanes|Se)?0:J)!==0&&J!==ce.retryLane&&(ce.retryLane=J,Rr(U,J),zn(G,U,J,-1))}return Wf(),Nu(U,$,Se,G=xf(Error(s(421))))}return i_(J)?($.flags|=128,$.child=U.child,$=rC.bind(null,U),mE(J,$),null):(U=ce.treeContext,Ne&&(Bn=vE(J),xn=$,Qe=!0,tr=null,Ta=!1,U!==null&&(Dn[On++]=Ir,Dn[On++]=ri,Dn[On++]=xs,Ir=U.id,ri=U.overflow,xs=$)),$=Cf($,G.children),$.flags|=4096,$)}(a,l,I,y,_,w,p);if(A){A=y.fallback,I=l.mode,_=(w=a.child).sibling;var L={mode:"hidden",children:y.children};return!(1&I)&&l.child!==w?((y=l.child).childLanes=0,y.pendingProps=L,l.deletions=null):(y=Li(w,L)).subtreeFlags=14680064&w.subtreeFlags,_!==null?A=Li(_,A):(A=As(A,I,p,null)).flags|=2,A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,I=(I=a.child.memoizedState)===null?Ef(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=a.childLanes&~p,l.memoizedState=Tf,y}return a=(A=a.child).sibling,y=Li(A,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=p),y.return=l,y.sibling=null,a!==null&&((p=l.deletions)===null?(l.deletions=[a],l.flags|=16):p.push(a)),l.child=y,l.memoizedState=null,y}function Cf(a,l){return(l=qu({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Nu(a,l,p,_){return _!==null&&Zd(_),ho(l,a.child,null,p),(a=Cf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function dv(a,l,p){a.lanes|=l;var _=a.alternate;_!==null&&(_.lanes|=l),nf(a.return,l,p)}function Af(a,l,p,_,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:_,tail:p,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=_,w.tail=p,w.tailMode=y)}function fv(a,l,p){var _=l.pendingProps,y=_.revealOrder,w=_.tail;if(cn(a,l,_.children,p),(2&(_=lt.current))!=0)_=1&_|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dv(a,p,l);else if(a.tag===19)dv(a,p,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if($e(lt,_),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(p=l.child,y=null;p!==null;)(a=p.alternate)!==null&&Eu(a)===null&&(y=p),p=p.sibling;(p=y)===null?(y=l.child,l.child=null):(y=p.sibling,p.sibling=null),Af(l,!1,y,p,w);break;case"backwards":for(p=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&Eu(a)===null){l.child=y;break}a=y.sibling,y.sibling=p,p=y,y=a}Af(l,!0,p,null,w);break;case"together":Af(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Du(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function si(a,l,p){if(a!==null&&(l.dependencies=a.dependencies),Ts|=l.lanes,(p&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(p=Li(a=l.child,a.pendingProps),l.child=p,p.return=l;a.sibling!==null;)a=a.sibling,(p=p.sibling=Li(a,a.pendingProps)).return=l;p.sibling=null}return l.child}function Nr(a){a.flags|=4}function pv(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ee)Ma=function(a,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)ie(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Na=function(){},ku=function(a,l,p,_,y){if((a=a.memoizedProps)!==_){var w=l.stateNode,A=kr(Fn.current);p=xe(w,p,a,_,y,A),(l.updateQueue=p)&&Nr(l)}},Mu=function(a,l,p,_){p!==_&&Nr(l)};else if(We){Ma=function(a,l,p,_){for(var y=l.child;y!==null;){if(y.tag===5){var w=y.stateNode;p&&_&&(w=n_(w,y.type,y.memoizedProps,y)),ie(a,w)}else if(y.tag===6)w=y.stateNode,p&&_&&(w=r_(w,y.memoizedProps,y)),ie(a,w);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(w=y.child)!==null&&(w.return=y),Ma(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var mv=function(a,l,p,_){for(var y=l.child;y!==null;){if(y.tag===5){var w=y.stateNode;p&&_&&(w=n_(w,y.type,y.memoizedProps,y)),t_(a,w)}else if(y.tag===6)w=y.stateNode,p&&_&&(w=r_(w,y.memoizedProps,y)),t_(a,w);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(w=y.child)!==null&&(w.return=y),mv(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Na=function(a,l){var p=l.stateNode;if(!pv(a,l)){a=p.containerInfo;var _=e_(a);mv(_,l,!1,!1),p.pendingChildren=_,Nr(l),cE(a,_)}},ku=function(a,l,p,_,y){var w=a.stateNode,A=a.memoizedProps;if((a=pv(a,l))&&A===_)l.stateNode=w;else{var I=l.stateNode,L=kr(Fn.current),U=null;A!==_&&(U=xe(I,p,A,_,y,L)),a&&U===null?l.stateNode=w:(w=uE(w,U,p,A,_,l,a,I),be(w,p,_,y,L)&&Nr(l),l.stateNode=w,a?Nr(l):Ma(w,l,!1,!1))}},Mu=function(a,l,p,_){p!==_?(a=kr(fo.current),p=kr(Fn.current),l.stateNode=Te(_,a,p,l),Nr(l)):l.stateNode=a.stateNode}}else Na=function(){},ku=function(){},Mu=function(){};function Da(a,l){if(!Qe)switch(a.tailMode){case"hidden":l=a.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function en(a){var l=a.alternate!==null&&a.alternate.child===a.child,p=0,_=0;if(l)for(var y=a.child;y!==null;)p|=y.lanes|y.childLanes,_|=14680064&y.subtreeFlags,_|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)p|=y.lanes|y.childLanes,_|=y.subtreeFlags,_|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=_,a.childLanes=p,l}function QE(a,l,p){var _=l.pendingProps;switch(Qd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:case 17:return yn(l.type)&&Ud(),en(l),null;case 3:return p=l.stateNode,po(),Ye(ln),Ye(Wt),hf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),a!==null&&a.child!==null||(_u(l)?Nr(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,tr!==null&&($f(tr),tr=null))),Na(a,l),en(l),null;case 5:uf(l),p=kr(fo.current);var y=l.type;if(a!==null&&l.stateNode!=null)ku(a,l,y,_,p),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!_){if(l.stateNode===null)throw Error(s(166));return en(l),null}if(a=kr(Fn.current),_u(l)){if(!Ne)throw Error(s(175));a=yE(l.stateNode,l.type,l.memoizedProps,p,a,l,!Ta),l.updateQueue=a,a!==null&&Nr(l)}else{var w=Z(y,_,p,a,l);Ma(w,l,!1,!1),l.stateNode=w,be(w,y,_,p,a)&&Nr(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return en(l),null;case 6:if(a&&l.stateNode!=null)Mu(a,l,a.memoizedProps,_);else{if(typeof _!="string"&&l.stateNode===null)throw Error(s(166));if(a=kr(fo.current),p=kr(Fn.current),_u(l)){if(!Ne)throw Error(s(176));if(a=l.stateNode,p=l.memoizedProps,(_=xE(a,p,l,!Ta))&&(y=xn)!==null)switch(y.tag){case 3:PE(y.stateNode.containerInfo,a,p,(1&y.mode)!=0);break;case 5:IE(y.type,y.memoizedProps,y.stateNode,a,p,(1&y.mode)!=0)}_&&Nr(l)}else l.stateNode=Te(_,a,p,l)}return en(l),null;case 13:if(Ye(lt),_=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Qe&&Bn!==null&&1&l.mode&&!(128&l.flags))__(),lo(),l.flags|=98560,y=!1;else if(y=_u(l),_!==null&&_.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Ne)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));wE(y,l)}else lo(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;en(l),y=!1}else tr!==null&&($f(tr),tr=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=p,l):((p=_!==null)!=(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,1&l.mode&&(a===null||1&lt.current?bt===0&&(bt=3):Wf())),l.updateQueue!==null&&(l.flags|=4),en(l),null);case 4:return po(),Na(a,l),a===null&&Nn(l.stateNode.containerInfo),en(l),null;case 10:return tf(l.type._context),en(l),null;case 19:if(Ye(lt),(y=l.memoizedState)===null)return en(l),null;if(_=(128&l.flags)!=0,(w=y.rendering)===null)if(_)Da(y,!1);else{if(bt!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((w=Eu(a))!==null){for(l.flags|=128,Da(y,!1),(a=w.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=p,p=l.child;p!==null;)y=a,(_=p).flags&=14680066,(w=_.alternate)===null?(_.childLanes=0,_.lanes=y,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=w.childLanes,_.lanes=w.lanes,_.child=w.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=w.memoizedProps,_.memoizedState=w.memoizedState,_.updateQueue=w.updateQueue,_.type=w.type,y=w.dependencies,_.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p=p.sibling;return $e(lt,1&lt.current|2),l.child}a=a.sibling}y.tail!==null&&It()>Uf&&(l.flags|=128,_=!0,Da(y,!1),l.lanes=4194304)}else{if(!_)if((a=Eu(w))!==null){if(l.flags|=128,_=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Da(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Qe)return en(l),null}else 2*It()-y.renderingStartTime>Uf&&p!==1073741824&&(l.flags|=128,_=!0,Da(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):((a=y.last)!==null?a.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=It(),l.sibling=null,a=lt.current,$e(lt,_?1&a|2:1&a),l):(en(l),null);case 22:case 23:return jf(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&1&l.mode?1073741824&wn&&(en(l),Ee&&6&l.subtreeFlags&&(l.flags|=8192)):en(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function KE(a,l){switch(Qd(l),l.tag){case 1:return yn(l.type)&&Ud(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return po(),Ye(ln),Ye(Wt),hf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return uf(l),null;case 13:if(Ye(lt),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));lo()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Ye(lt),null;case 4:return po(),null;case 10:return tf(l.type._context),null;case 22:case 23:return jf(),null;default:return null}}var Ou=!1,Xt=!1,qE=typeof WeakSet=="function"?WeakSet:Set,le=null;function go(a,l){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(_){Ke(a,l,_)}else p.current=null}function gv(a,l,p){try{p()}catch(_){Ke(a,l,_)}}var _v=!1;function Oa(a,l,p){var _=l.updateQueue;if((_=_!==null?_.lastEffect:null)!==null){var y=_=_.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&gv(l,p,w)}y=y.next}while(y!==_)}}function Bu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var p=l=l.next;do{if((p.tag&a)===a){var _=p.create;p.destroy=_()}p=p.next}while(p!==l)}}function Pf(a){var l=a.ref;if(l!==null){var p=a.stateNode;a.tag===5?a=ye(p):a=p,typeof l=="function"?l(a):l.current=a}}function vv(a){var l=a.alternate;l!==null&&(a.alternate=null,vv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&Z0(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function yv(a){return a.tag===5||a.tag===3||a.tag===4}function xv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function If(a,l,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,l?tE(p,a,l):KT(p,a);else if(_!==4&&(a=a.child)!==null)for(If(a,l,p),a=a.sibling;a!==null;)If(a,l,p),a=a.sibling}function Rf(a,l,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,l?eE(p,a,l):QT(p,a);else if(_!==4&&(a=a.child)!==null)for(Rf(a,l,p),a=a.sibling;a!==null;)Rf(a,l,p),a=a.sibling}var tn=null,Dr=!1;function Or(a,l,p){for(p=p.child;p!==null;)kf(a,l,p),p=p.sibling}function kf(a,l,p){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(fu,p)}catch{}switch(p.tag){case 5:Xt||go(p,l);case 6:if(Ee){var _=tn,y=Dr;tn=null,Or(a,l,p),Dr=y,(tn=_)!==null&&(Dr?rE(tn,p.stateNode):nE(tn,p.stateNode))}else Or(a,l,p);break;case 18:Ee&&tn!==null&&(Dr?CE(tn,p.stateNode):EE(tn,p.stateNode));break;case 4:Ee?(_=tn,y=Dr,tn=p.stateNode.containerInfo,Dr=!0,Or(a,l,p),tn=_,Dr=y):(We&&(_=p.stateNode.containerInfo,y=e_(_),Dd(_,y)),Or(a,l,p));break;case 0:case 11:case 14:case 15:if(!Xt&&(_=p.updateQueue)!==null&&(_=_.lastEffect)!==null){y=_=_.next;do{var w=y,A=w.destroy;w=w.tag,A!==void 0&&(2&w||4&w)&&gv(p,l,A),y=y.next}while(y!==_)}Or(a,l,p);break;case 1:if(!Xt&&(go(p,l),typeof(_=p.stateNode).componentWillUnmount=="function"))try{_.props=p.memoizedProps,_.state=p.memoizedState,_.componentWillUnmount()}catch(I){Ke(p,l,I)}Or(a,l,p);break;case 21:Or(a,l,p);break;case 22:1&p.mode?(Xt=(_=Xt)||p.memoizedState!==null,Or(a,l,p),Xt=_):Or(a,l,p);break;default:Or(a,l,p)}}function wv(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new qE),l.forEach(function(_){var y=iC.bind(null,a,_);p.has(_)||(p.add(_),_.then(y,y))})}}function rr(a,l){var p=l.deletions;if(p!==null)for(var _=0;_<p.length;_++){var y=p[_];try{var w=a,A=l;if(Ee){var I=A;e:for(;I!==null;){switch(I.tag){case 5:tn=I.stateNode,Dr=!1;break e;case 3:case 4:tn=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(tn===null)throw Error(s(160));kf(w,A,y),tn=null,Dr=!1}else kf(w,A,y);var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(U){Ke(y,l,U)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)bv(l,a),l=l.sibling}function bv(a,l){var p=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(rr(l,a),Br(a),4&_){try{Oa(3,a,a.return),Bu(3,a)}catch(G){Ke(a,a.return,G)}try{Oa(5,a,a.return)}catch(G){Ke(a,a.return,G)}}break;case 1:rr(l,a),Br(a),512&_&&p!==null&&go(p,p.return);break;case 5:if(rr(l,a),Br(a),512&_&&p!==null&&go(p,p.return),Ee){if(32&a.flags){var y=a.stateNode;try{J0(y)}catch(G){Ke(a,a.return,G)}}if(4&_&&(y=a.stateNode)!=null){var w=a.memoizedProps;if(p=p!==null?p.memoizedProps:w,_=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{JT(y,l,_,p,w,a)}catch(G){Ke(a,a.return,G)}}}break;case 6:if(rr(l,a),Br(a),4&_&&Ee){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,w=a.memoizedProps,p=p!==null?p.memoizedProps:w;try{qT(y,p,w)}catch(G){Ke(a,a.return,G)}}break;case 3:if(rr(l,a),Br(a),4&_){if(Ee&&Ne&&p!==null&&p.memoizedState.isDehydrated)try{SE(l.containerInfo)}catch(G){Ke(a,a.return,G)}if(We){y=l.containerInfo,w=l.pendingChildren;try{Dd(y,w)}catch(G){Ke(a,a.return,G)}}}break;case 4:if(rr(l,a),Br(a),4&_&&We){y=(w=a.stateNode).containerInfo,w=w.pendingChildren;try{Dd(y,w)}catch(G){Ke(a,a.return,G)}}break;case 13:rr(l,a),Br(a),8192&(y=a.child).flags&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Ff=It())),4&_&&wv(a);break;case 22:var A=p!==null&&p.memoizedState!==null;if(1&a.mode?(Xt=(p=Xt)||A,rr(l,a),Xt=p):rr(l,a),Br(a),8192&_){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!A&&(1&a.mode)!=0)for(le=a,_=a.child;_!==null;){for(l=le=_;le!==null;){var I=(A=le).child;switch(A.tag){case 0:case 11:case 14:case 15:Oa(4,A,A.return);break;case 1:go(A,A.return);var L=A.stateNode;if(typeof L.componentWillUnmount=="function"){var U=A,$=A.return;try{var ne=U;L.props=ne.memoizedProps,L.state=ne.memoizedState,L.componentWillUnmount()}catch(G){Ke(U,$,G)}}break;case 5:go(A,A.return);break;case 22:if(A.memoizedState!==null){Ev(l);continue}}I!==null?(I.return=A,le=I):Ev(l)}_=_.sibling}if(Ee){e:if(_=null,Ee)for(l=a;;){if(l.tag===5){if(_===null){_=l;try{y=l.stateNode,p?iE(y):oE(l.stateNode,l.memoizedProps)}catch(G){Ke(a,a.return,G)}}}else if(l.tag===6){if(_===null)try{w=l.stateNode,p?sE(w):aE(w,l.memoizedProps)}catch(G){Ke(a,a.return,G)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;_===l&&(_=null),l=l.return}_===l&&(_=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:rr(l,a),Br(a),4&_&&wv(a);break;case 21:break;default:rr(l,a),Br(a)}}function Br(a){var l=a.flags;if(2&l){try{if(Ee){e:{for(var p=a.return;p!==null;){if(yv(p)){var _=p;break e}p=p.return}throw Error(s(160))}switch(_.tag){case 5:var y=_.stateNode;32&_.flags&&(J0(y),_.flags&=-33),Rf(a,xv(a),y);break;case 3:case 4:var w=_.stateNode.containerInfo;If(a,xv(a),w);break;default:throw Error(s(161))}}}catch(A){Ke(a,a.return,A)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function ZE(a,l,p){le=a,Sv(a)}function Sv(a,l,p){for(var _=(1&a.mode)!=0;le!==null;){var y=le,w=y.child;if(y.tag===22&&_){var A=y.memoizedState!==null||Ou;if(!A){var I=y.alternate,L=I!==null&&I.memoizedState!==null||Xt;I=Ou;var U=Xt;if(Ou=A,(Xt=L)&&!U)for(le=y;le!==null;)L=(A=le).child,A.tag===22&&A.memoizedState!==null?Cv(y):L!==null?(L.return=A,le=L):Cv(y);for(;w!==null;)le=w,Sv(w),w=w.sibling;le=y,Ou=I,Xt=U}Tv(a)}else 8772&y.subtreeFlags&&w!==null?(w.return=y,le=w):Tv(a)}}function Tv(a){for(;le!==null;){var l=le;if(8772&l.flags){var p=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Xt||Bu(5,l);break;case 1:var _=l.stateNode;if(4&l.flags&&!Xt)if(p===null)_.componentDidMount();else{var y=l.elementType===l.type?p.memoizedProps:nr(l.type,p.memoizedProps);_.componentDidUpdate(y,p.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&b_(l,w,_);break;case 3:var A=l.updateQueue;if(A!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=ye(l.child.stateNode);break;case 1:p=l.child.stateNode}b_(l,A,p)}break;case 5:var I=l.stateNode;p===null&&4&l.flags&&ZT(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ne&&l.memoizedState===null){var L=l.alternate;if(L!==null){var U=L.memoizedState;if(U!==null){var $=U.dehydrated;$!==null&&TE($)}}}break;default:throw Error(s(163))}Xt||512&l.flags&&Pf(l)}catch(ne){Ke(l,l.return,ne)}}if(l===a){le=null;break}if((p=l.sibling)!==null){p.return=l.return,le=p;break}le=l.return}}function Ev(a){for(;le!==null;){var l=le;if(l===a){le=null;break}var p=l.sibling;if(p!==null){p.return=l.return,le=p;break}le=l.return}}function Cv(a){for(;le!==null;){var l=le;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Bu(4,l)}catch(L){Ke(l,p,L)}break;case 1:var _=l.stateNode;if(typeof _.componentDidMount=="function"){var y=l.return;try{_.componentDidMount()}catch(L){Ke(l,y,L)}}var w=l.return;try{Pf(l)}catch(L){Ke(l,w,L)}break;case 5:var A=l.return;try{Pf(l)}catch(L){Ke(l,A,L)}}}catch(L){Ke(l,l.return,L)}if(l===a){le=null;break}var I=l.sibling;if(I!==null){I.return=l.return,le=I;break}le=l.return}}var Lu=0,Fu=1,Uu=2,zu=3,Hu=4;if(typeof Symbol=="function"&&Symbol.for){var Ba=Symbol.for;Lu=Ba("selector.component"),Fu=Ba("selector.has_pseudo_class"),Uu=Ba("selector.role"),zu=Ba("selector.test_id"),Hu=Ba("selector.text")}function Mf(a){var l=Mn(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=$T(a))===null)throw Error(s(362));return a.stateNode.current}function Nf(a,l){switch(l.$$typeof){case Lu:if(a.type===l.value)return!0;break;case Fu:e:{l=l.value,a=[a,0];for(var p=0;p<a.length;){var _=a[p++],y=a[p++],w=l[y];if(_.tag!==5||!xa(_)){for(;w!=null&&Nf(_,w);)w=l[++y];if(y===l.length){l=!0;break e}for(_=_.child;_!==null;)a.push(_,y),_=_.sibling}}l=!1}return l;case Uu:if(a.tag===5&&VT(a.stateNode,l.value))return!0;break;case Hu:if((a.tag===5||a.tag===6)&&(a=WT(a))!==null&&0<=a.indexOf(l.value))return!0;break;case zu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Df(a){switch(a.$$typeof){case Lu:return"<"+(D(a.value)||"Unknown")+">";case Fu:return":has("+(Df(a)||"")+")";case Uu:return'[role="'+a.value+'"]';case Hu:return'"'+a.value+'"';case zu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function Av(a,l){var p=[];a=[a,0];for(var _=0;_<a.length;){var y=a[_++],w=a[_++],A=l[w];if(y.tag!==5||!xa(y)){for(;A!=null&&Nf(y,A);)A=l[++w];if(w===l.length)p.push(y);else for(y=y.child;y!==null;)a.push(y,w),y=y.sibling}}return p}function Of(a,l){if(!ya)throw Error(s(363));a=Av(a=Mf(a),l),l=[],a=Array.from(a);for(var p=0;p<a.length;){var _=a[p++];if(_.tag===5)xa(_)||l.push(_.stateNode);else for(_=_.child;_!==null;)a.push(_),_=_.sibling}return l}var JE=Math.ceil,Gu=o.ReactCurrentDispatcher,Bf=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,Ie=0,Mt=null,yt=null,Lt=0,wn=0,_o=Pi(0),bt=0,La=null,Ts=0,$u=0,Lf=0,Fa=null,bn=null,Ff=0,Uf=1/0,Mi=null;function vo(){Uf=It()+500}var Pv,ju=!1,zf=null,Ni=null,Wu=!1,Di=null,Vu=0,Ua=0,Hf=null,Xu=-1,Yu=0;function Yt(){return 6&Ie?It():Xu!==-1?Xu:Xu=It()}function Oi(a){return 1&a.mode?2&Ie&&Lt!==0?Lt&-Lt:FE.transition!==null?(Yu===0&&(Yu=l_()),Yu):(a=De)!==0?a:vs():1}function zn(a,l,p,_){if(50<Ua)throw Ua=0,Hf=null,Error(s(185));Sa(a,p,_),2&Ie&&a===Mt||(a===Mt&&(!(2&Ie)&&($u|=p),bt===4&&Bi(a,Lt)),hn(a,_),p===1&&Ie===0&&!(1&l.mode)&&(vo(),pu&&Pr()))}function hn(a,l){var p=a.callbackNode;(function(y,w){for(var A=y.suspendedLanes,I=y.pingedLanes,L=y.expirationTimes,U=y.pendingLanes;0<U;){var $=31-Jn(U),ne=1<<$,G=L[$];G===-1?ne&A&&!(ne&I)||(L[$]=NE(ne,w)):G<=w&&(y.expiredLanes|=ne),U&=~ne}})(a,l);var _=du(a,a===Mt?Lt:0);if(_===0)p!==null&&c_(p),a.callbackNode=null,a.callbackPriority=0;else if(l=_&-_,a.callbackPriority!==l){if(p!=null&&c_(p),l===1)a.tag===0?function(y){pu=!0,d_(y)}(Rv.bind(null,a)):d_(Rv.bind(null,a)),HT?GT(function(){!(6&Ie)&&Pr()}):Wd(Vd,Pr),p=null;else{switch(u_(_)){case 1:p=Vd;break;case 4:p=BE;break;case 16:default:p=h_;break;case 536870912:p=LE}p=Fv(p,Iv.bind(null,a))}a.callbackPriority=l,a.callbackNode=p}}function Iv(a,l){if(Xu=-1,Yu=0,(6&Ie)!=0)throw Error(s(327));var p=a.callbackNode;if(Cs()&&a.callbackNode!==p)return null;var _=du(a,a===Mt?Lt:0);if(_===0)return null;if(30&_||_&a.expiredLanes||l)l=Qu(a,_);else{l=_;var y=Ie;Ie|=2;var w=Nv();for(Mt===a&&Lt===l||(Mi=null,vo(),Es(a,l));;)try{tC();break}catch(I){Mv(a,I)}ef(),Gu.current=w,Ie=y,yt!==null?l=0:(Mt=null,Lt=0,l=bt)}if(l!==0){if(l===2&&(y=Gd(a))!==0&&(_=y,l=Gf(a,y)),l===1)throw p=La,Es(a,0),Bi(a,_),hn(a,It()),p;if(l===6)Bi(a,_);else{if(y=a.current.alternate,(30&_)==0&&!function(I){for(var L=I;;){if(16384&L.flags){var U=L.updateQueue;if(U!==null&&(U=U.stores)!==null)for(var $=0;$<U.length;$++){var ne=U[$],G=ne.getSnapshot;ne=ne.value;try{if(!er(G(),ne))return!1}catch{return!1}}}if(U=L.child,16384&L.subtreeFlags&&U!==null)U.return=L,L=U;else{if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return!0;L=L.return}L.sibling.return=L.return,L=L.sibling}}return!0}(y)&&((l=Qu(a,_))===2&&(w=Gd(a))!==0&&(_=w,l=Gf(a,w)),l===1))throw p=La,Es(a,0),Bi(a,_),hn(a,It()),p;switch(a.finishedWork=y,a.finishedLanes=_,l){case 0:case 1:throw Error(s(345));case 2:case 5:yo(a,bn,Mi);break;case 3:if(Bi(a,_),(130023424&_)===_&&10<(l=Ff+500-It())){if(du(a,0)!==0)break;if(((y=a.suspendedLanes)&_)!==_){Yt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Be(yo.bind(null,a,bn,Mi),l);break}yo(a,bn,Mi);break;case 4:if(Bi(a,_),(4194240&_)===_)break;for(l=a.eventTimes,y=-1;0<_;){var A=31-Jn(_);w=1<<A,(A=l[A])>y&&(y=A),_&=~w}if(_=y,10<(_=(120>(_=It()-_)?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*JE(_/1960))-_)){a.timeoutHandle=Be(yo.bind(null,a,bn,Mi),_);break}yo(a,bn,Mi);break;default:throw Error(s(329))}}}return hn(a,It()),a.callbackNode===p?Iv.bind(null,a):null}function Gf(a,l){var p=Fa;return a.current.memoizedState.isDehydrated&&(Es(a,l).flags|=256),(a=Qu(a,l))!==2&&(l=bn,bn=p,l!==null&&$f(l)),a}function $f(a){bn===null?bn=a:bn.push.apply(bn,a)}function Bi(a,l){for(l&=~Lf,l&=~$u,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var p=31-Jn(l),_=1<<p;a[p]=-1,l&=~_}}function Rv(a){if(6&Ie)throw Error(s(327));Cs();var l=du(a,0);if(!(1&l))return hn(a,It()),null;var p=Qu(a,l);if(a.tag!==0&&p===2){var _=Gd(a);_!==0&&(l=_,p=Gf(a,_))}if(p===1)throw p=La,Es(a,0),Bi(a,l),hn(a,It()),p;if(p===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,yo(a,bn,Mi),hn(a,It()),null}function kv(a){Di!==null&&Di.tag===0&&!(6&Ie)&&Cs();var l=Ie;Ie|=1;var p=ft.transition,_=De;try{if(ft.transition=null,De=1,a)return a()}finally{De=_,ft.transition=p,!(6&(Ie=l))&&Pr()}}function jf(){wn=_o.current,Ye(_o)}function Es(a,l){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==Pt&&(a.timeoutHandle=Pt,At(p)),yt!==null)for(p=yt.return;p!==null;){var _=p;switch(Qd(_),_.tag){case 1:(_=_.type.childContextTypes)!=null&&Ud();break;case 3:po(),Ye(ln),Ye(Wt),hf();break;case 5:uf(_);break;case 4:po();break;case 13:case 19:Ye(lt);break;case 10:tf(_.type._context);break;case 22:case 23:jf()}p=p.return}if(Mt=a,yt=a=Li(a.current,null),Lt=wn=l,bt=0,La=null,Lf=$u=Ts=0,bn=Fa=null,bs!==null){for(l=0;l<bs.length;l++)if((_=(p=bs[l]).interleaved)!==null){p.interleaved=null;var y=_.next,w=p.pending;if(w!==null){var A=w.next;w.next=y,_.next=A}p.pending=_}bs=null}return a}function Mv(a,l){for(;;){var p=yt;try{if(ef(),Cu.current=Ru,Au){for(var _=tt.memoizedState;_!==null;){var y=_.queue;y!==null&&(y.pending=null),_=_.next}Au=!1}if(Ss=0,kt=Rt=tt=null,Pa=!1,Ia=0,Bf.current=null,p===null||p.return===null){bt=1,La=l,yt=null;break}e:{var w=a,A=p.return,I=p,L=l;if(l=Lt,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var U=L,$=I,ne=$.tag;if(!(1&$.mode)&&(ne===0||ne===11||ne===15)){var G=$.alternate;G?($.updateQueue=G.updateQueue,$.memoizedState=G.memoizedState,$.lanes=G.lanes):($.updateQueue=null,$.memoizedState=null)}var J=tv(A);if(J!==null){J.flags&=-257,nv(J,A,I,0,l),1&J.mode&&ev(w,U,l),L=U;var ce=(l=J).updateQueue;if(ce===null){var Se=new Set;Se.add(L),l.updateQueue=Se}else ce.add(L);break e}if(!(1&l)){ev(w,U,l),Wf();break e}L=Error(s(426))}else if(Qe&&1&I.mode){var j=tv(A);if(j!==null){!(65536&j.flags)&&(j.flags|=256),nv(j,A,I,0,l),Zd(mo(L,I));break e}}w=L=mo(L,I),bt!==4&&(bt=2),Fa===null?Fa=[w]:Fa.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l,w_(w,Z_(0,L,l));break e;case 1:I=L;var k=w.type,F=w.stateNode;if(!(128&w.flags)&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ni===null||!Ni.has(F)))){w.flags|=65536,l&=-l,w.lanes|=l,w_(w,J_(w,I,l));break e}}w=w.return}while(w!==null)}Ov(p)}catch(K){l=K,yt===p&&p!==null&&(yt=p=p.return);continue}break}}function Nv(){var a=Gu.current;return Gu.current=Ru,a===null?Ru:a}function Wf(){bt!==0&&bt!==3&&bt!==2||(bt=4),Mt===null||!(268435455&Ts)&&!(268435455&$u)||Bi(Mt,Lt)}function Qu(a,l){var p=Ie;Ie|=2;var _=Nv();for(Mt===a&&Lt===l||(Mi=null,Es(a,l));;)try{eC();break}catch(y){Mv(a,y)}if(ef(),Ie=p,Gu.current=_,yt!==null)throw Error(s(261));return Mt=null,Lt=0,bt}function eC(){for(;yt!==null;)Dv(yt)}function tC(){for(;yt!==null&&!DE();)Dv(yt)}function Dv(a){var l=Pv(a.alternate,a,wn);a.memoizedProps=a.pendingProps,l===null?Ov(a):yt=l,Bf.current=null}function Ov(a){var l=a;do{var p=l.alternate;if(a=l.return,(32768&l.flags)==0){if((p=QE(p,l,wn))!==null)return void(yt=p)}else{if((p=KE(p,l))!==null)return p.flags&=32767,void(yt=p);if(a===null)return bt=6,void(yt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(yt=l);yt=l=a}while(l!==null);bt===0&&(bt=5)}function yo(a,l,p){var _=De,y=ft.transition;try{ft.transition=null,De=1,function(w,A,I,L){do Cs();while(Di!==null);if(6&Ie)throw Error(s(327));I=w.finishedWork;var U=w.finishedLanes;if(I===null)return null;if(w.finishedWork=null,w.finishedLanes=0,I===w.current)throw Error(s(177));w.callbackNode=null,w.callbackPriority=0;var $=I.lanes|I.childLanes;if(function(J,ce){var Se=J.pendingLanes&~ce;J.pendingLanes=ce,J.suspendedLanes=0,J.pingedLanes=0,J.expiredLanes&=ce,J.mutableReadLanes&=ce,J.entangledLanes&=ce,ce=J.entanglements;var j=J.eventTimes;for(J=J.expirationTimes;0<Se;){var k=31-Jn(Se),F=1<<k;ce[k]=0,j[k]=-1,J[k]=-1,Se&=~F}}(w,$),w===Mt&&(yt=Mt=null,Lt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Wu||(Wu=!0,Fv(h_,function(){return Cs(),null})),$=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||$){$=ft.transition,ft.transition=null;var ne=De;De=1;var G=Ie;Ie|=4,Bf.current=null,function(J,ce){for(W(J.containerInfo),le=ce;le!==null;)if(ce=(J=le).child,(1028&J.subtreeFlags)!=0&&ce!==null)ce.return=J,le=ce;else for(;le!==null;){J=le;try{var Se=J.alternate;if(1024&J.flags)switch(J.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Se!==null){var j=Se.memoizedProps,k=Se.memoizedState,F=J.stateNode,K=F.getSnapshotBeforeUpdate(J.elementType===J.type?j:nr(J.type,j),k);F.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Ee&&lE(J.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(pe){Ke(J,J.return,pe)}if((ce=J.sibling)!==null){ce.return=J.return,le=ce;break}le=J.return}Se=_v,_v=!1}(w,I),bv(I,w),M(w.containerInfo),w.current=I,ZE(I),OE(),Ie=G,De=ne,ft.transition=$}else w.current=I;if(Wu&&(Wu=!1,Di=w,Vu=U),$=w.pendingLanes,$===0&&(Ni=null),function(J){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(fu,J,void 0,(128&J.current.flags)==128)}catch{}}(I.stateNode),hn(w,It()),A!==null)for(L=w.onRecoverableError,I=0;I<A.length;I++)U=A[I],L(U.value,{componentStack:U.stack,digest:U.digest});if(ju)throw ju=!1,w=zf,zf=null,w;1&Vu&&w.tag!==0&&Cs(),$=w.pendingLanes,1&$?w===Hf?Ua++:(Ua=0,Hf=w):Ua=0,Pr()}(a,l,p,_)}finally{ft.transition=y,De=_}return null}function Cs(){if(Di!==null){var a=u_(Vu),l=ft.transition,p=De;try{if(ft.transition=null,De=16>a?16:a,Di===null)var _=!1;else{if(a=Di,Di=null,Vu=0,(6&Ie)!=0)throw Error(s(331));var y=Ie;for(Ie|=4,le=a.current;le!==null;){var w=le,A=w.child;if(16&le.flags){var I=w.deletions;if(I!==null){for(var L=0;L<I.length;L++){var U=I[L];for(le=U;le!==null;){var $=le;switch($.tag){case 0:case 11:case 15:Oa(8,$,w)}var ne=$.child;if(ne!==null)ne.return=$,le=ne;else for(;le!==null;){var G=($=le).sibling,J=$.return;if(vv($),$===U){le=null;break}if(G!==null){G.return=J,le=G;break}le=J}}}var ce=w.alternate;if(ce!==null){var Se=ce.child;if(Se!==null){ce.child=null;do{var j=Se.sibling;Se.sibling=null,Se=j}while(Se!==null)}}le=w}}if(2064&w.subtreeFlags&&A!==null)A.return=w,le=A;else e:for(;le!==null;){if(2048&(w=le).flags)switch(w.tag){case 0:case 11:case 15:Oa(9,w,w.return)}var k=w.sibling;if(k!==null){k.return=w.return,le=k;break e}le=w.return}}var F=a.current;for(le=F;le!==null;){var K=(A=le).child;if(2064&A.subtreeFlags&&K!==null)K.return=A,le=K;else e:for(A=F;le!==null;){if(2048&(I=le).flags)try{switch(I.tag){case 0:case 11:case 15:Bu(9,I)}}catch(Fe){Ke(I,I.return,Fe)}if(I===A){le=null;break e}var pe=I.sibling;if(pe!==null){pe.return=I.return,le=pe;break e}le=I.return}}if(Ie=y,Pr(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(fu,a)}catch{}_=!0}return _}finally{De=p,ft.transition=l}}return!1}function Bv(a,l,p){a=ki(a,l=Z_(0,l=mo(p,l),1),1),l=Yt(),a!==null&&(Sa(a,1,l),hn(a,l))}function Ke(a,l,p){if(a.tag===3)Bv(a,a,p);else for(;l!==null;){if(l.tag===3){Bv(l,a,p);break}if(l.tag===1){var _=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ni===null||!Ni.has(_))){l=ki(l,a=J_(l,a=mo(p,a),1),1),a=Yt(),l!==null&&(Sa(l,1,a),hn(l,a));break}}l=l.return}}function nC(a,l,p){var _=a.pingCache;_!==null&&_.delete(l),l=Yt(),a.pingedLanes|=a.suspendedLanes&p,Mt===a&&(Lt&p)===p&&(bt===4||bt===3&&(130023424&Lt)===Lt&&500>It()-Ff?Es(a,0):Lf|=p),hn(a,l)}function Lv(a,l){l===0&&(1&a.mode?(l=Hd,!(130023424&(Hd<<=1))&&(Hd=4194304)):l=1);var p=Yt();(a=Rr(a,l))!==null&&(Sa(a,l,p),hn(a,p))}function rC(a){var l=a.memoizedState,p=0;l!==null&&(p=l.retryLane),Lv(a,p)}function iC(a,l){var p=0;switch(a.tag){case 13:var _=a.stateNode,y=a.memoizedState;y!==null&&(p=y.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(s(314))}_!==null&&_.delete(l),Lv(a,p)}function Fv(a,l){return Wd(a,l)}function sC(a,l,p,_){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(a,l,p,_){return new sC(a,l,p,_)}function Vf(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Li(a,l){var p=a.alternate;return p===null?((p=Hn(a.tag,l,a.key,a.mode)).elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=l,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&a.flags,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,l=a.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Ku(a,l,p,_,y,w){var A=2;if(_=a,typeof a=="function")Vf(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case d:return As(p.children,y,w,l);case m:A=8,y|=8;break;case c:return(a=Hn(12,p,l,2|y)).elementType=c,a.lanes=w,a;case b:return(a=Hn(13,p,l,y)).elementType=b,a.lanes=w,a;case E:return(a=Hn(19,p,l,y)).elementType=E,a.lanes=w,a;case T:return qu(p,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case f:A=10;break e;case g:A=9;break e;case v:A=11;break e;case x:A=14;break e;case S:A=16,_=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Hn(A,p,l,y)).elementType=a,l.type=_,l.lanes=w,l}function As(a,l,p,_){return(a=Hn(7,a,_,l)).lanes=p,a}function qu(a,l,p,_){return(a=Hn(22,a,_,l)).elementType=T,a.lanes=p,a.stateNode={isHidden:!1},a}function Xf(a,l,p){return(a=Hn(6,a,null,l)).lanes=p,a}function Yf(a,l,p){return(l=Hn(4,a.children!==null?a.children:[],a.key,l)).lanes=p,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function oC(a,l,p,_,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=_,this.onRecoverableError=y,Ne&&(this.mutableSourceEagerHydrationData=null)}function Uv(a,l,p,_,y,w,A,I,L){return a=new oC(a,l,p,I,L),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Hn(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:_,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},sf(w),a}function zv(a){if(!a)return Ii;e:{if(O(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var p=a.type;if(yn(p))return o_(a,p,l)}return l}function Hv(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=Q(l))===null?null:a.stateNode}function Gv(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<l?p:l}}function Zu(a,l){Gv(a,l),(a=a.alternate)&&Gv(a,l)}function aC(a){return(a=Q(a))===null?null:a.stateNode}function lC(){return null}return Pv=function(a,l,p){if(a!==null)if(a.memoizedProps!==l.pendingProps||ln.current)un=!0;else{if(!(a.lanes&p)&&!(128&l.flags))return un=!1,function(ne,G,J){switch(G.tag){case 3:uv(G),lo();break;case 5:R_(G);break;case 1:yn(G.type)&&hu(G);break;case 4:lf(G,G.stateNode.containerInfo);break;case 10:v_(0,G.type._context,G.memoizedProps.value);break;case 13:var ce=G.memoizedState;if(ce!==null)return ce.dehydrated!==null?($e(lt,1&lt.current),G.flags|=128,null):J&G.child.childLanes?hv(ne,G,J):($e(lt,1&lt.current),(ne=si(ne,G,J))!==null?ne.sibling:null);$e(lt,1&lt.current);break;case 19:if(ce=(J&G.childLanes)!=0,(128&ne.flags)!=0){if(ce)return fv(ne,G,J);G.flags|=128}var Se=G.memoizedState;if(Se!==null&&(Se.rendering=null,Se.tail=null,Se.lastEffect=null),$e(lt,lt.current),ce)break;return null;case 22:case 23:return G.lanes=0,ov(ne,G,J)}return si(ne,G,J)}(a,l,p);un=(131072&a.flags)!=0}else un=!1,Qe&&1048576&l.flags&&f_(l,gu,l.index);switch(l.lanes=0,l.tag){case 2:var _=l.type;Du(a,l),a=l.pendingProps;var y=so(l,Wt.current);co(l,p),y=pf(null,l,_,a,y,p);var w=mf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yn(_)?(w=!0,hu(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,sf(l),y.updater=Su,l.stateNode=y,y._reactInternals=l,af(l,_,a,p),l=Sf(null,l,_,!0,w,p)):(l.tag=0,Qe&&w&&Yd(l),cn(null,l,y,p),l=l.child),l;case 16:_=l.elementType;e:{switch(Du(a,l),a=l.pendingProps,_=(y=_._init)(_._payload),l.type=_,y=l.tag=function(ne){if(typeof ne=="function")return Vf(ne)?1:0;if(ne!=null){if((ne=ne.$$typeof)===v)return 11;if(ne===x)return 14}return 2}(_),a=nr(_,a),y){case 0:l=bf(null,l,_,a,p);break e;case 1:l=lv(null,l,_,a,p);break e;case 11:l=rv(null,l,_,a,p);break e;case 14:l=iv(null,l,_,nr(_.type,a),p);break e}throw Error(s(306,_,""))}return l;case 0:return _=l.type,y=l.pendingProps,bf(a,l,_,y=l.elementType===_?y:nr(_,y),p);case 1:return _=l.type,y=l.pendingProps,lv(a,l,_,y=l.elementType===_?y:nr(_,y),p);case 3:e:{if(uv(l),a===null)throw Error(s(387));_=l.pendingProps,y=(w=l.memoizedState).element,x_(a,l),bu(l,_,null,p);var A=l.memoizedState;if(_=A.element,Ne&&w.isDehydrated){if(w={element:_,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=w,l.memoizedState=w,256&l.flags){l=cv(a,l,_,p,y=mo(Error(s(423)),l));break e}if(_!==y){l=cv(a,l,_,p,y=mo(Error(s(424)),l));break e}for(Ne&&(Bn=_E(l.stateNode.containerInfo),xn=l,Qe=!0,tr=null,Ta=!1),p=I_(l,null,_,p),l.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(lo(),_===y){l=si(a,l,p);break e}cn(a,l,_,p)}l=l.child}return l;case 5:return R_(l),a===null&&qd(l),_=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,A=y.children,Le(_,y)?A=null:w!==null&&Le(_,w)&&(l.flags|=32),av(a,l),cn(a,l,A,p),l.child;case 6:return a===null&&qd(l),null;case 13:return hv(a,l,p);case 4:return lf(l,l.stateNode.containerInfo),_=l.pendingProps,a===null?l.child=ho(l,null,_,p):cn(a,l,_,p),l.child;case 11:return _=l.type,y=l.pendingProps,rv(a,l,_,y=l.elementType===_?y:nr(_,y),p);case 7:return cn(a,l,l.pendingProps,p),l.child;case 8:case 12:return cn(a,l,l.pendingProps.children,p),l.child;case 10:e:{if(_=l.type._context,y=l.pendingProps,w=l.memoizedProps,v_(0,_,A=y.value),w!==null)if(er(w.value,A)){if(w.children===y.children&&!ln.current){l=si(a,l,p);break e}}else for((w=l.child)!==null&&(w.return=l);w!==null;){var I=w.dependencies;if(I!==null){A=w.child;for(var L=I.firstContext;L!==null;){if(L.context===_){if(w.tag===1){(L=ii(-1,p&-p)).tag=2;var U=w.updateQueue;if(U!==null){var $=(U=U.shared).pending;$===null?L.next=L:(L.next=$.next,$.next=L),U.pending=L}}w.lanes|=p,(L=w.alternate)!==null&&(L.lanes|=p),nf(w.return,p,l),I.lanes|=p;break}L=L.next}}else if(w.tag===10)A=w.type===l.type?null:w.child;else if(w.tag===18){if((A=w.return)===null)throw Error(s(341));A.lanes|=p,(I=A.alternate)!==null&&(I.lanes|=p),nf(A,p,l),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===l){A=null;break}if((w=A.sibling)!==null){w.return=A.return,A=w;break}A=A.return}w=A}cn(a,l,y.children,p),l=l.child}return l;case 9:return y=l.type,_=l.pendingProps.children,co(l,p),_=_(y=Ln(y)),l.flags|=1,cn(a,l,_,p),l.child;case 14:return y=nr(_=l.type,l.pendingProps),iv(a,l,_,y=nr(_.type,y),p);case 15:return sv(a,l,l.type,l.pendingProps,p);case 17:return _=l.type,y=l.pendingProps,y=l.elementType===_?y:nr(_,y),Du(a,l),l.tag=1,yn(_)?(a=!0,hu(l)):a=!1,co(l,p),E_(l,_,y),af(l,_,y,p),Sf(null,l,_,!0,a,p);case 19:return fv(a,l,p);case 22:return ov(a,l,p)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=Rr(a,134217728);l!==null&&zn(l,a,134217728,Yt()),Zu(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=Rr(a,1);l!==null&&zn(l,a,1,Yt()),Zu(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Oi(a),p=Rr(a,l);p!==null&&zn(p,a,l,Yt()),Zu(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var p=ba(l.pendingLanes);p!==0&&(jd(l,1|p),hn(l,It()),!(6&Ie)&&(vo(),Pr()))}break;case 13:kv(function(){var _=Rr(a,1);if(_!==null){var y=Yt();zn(_,a,1,y)}}),Zu(a,1)}},e.batchedUpdates=function(a,l){var p=Ie;Ie|=1;try{return a(l)}finally{(Ie=p)===0&&(vo(),pu&&Pr())}},e.createComponentSelector=function(a){return{$$typeof:Lu,value:a}},e.createContainer=function(a,l,p,_,y,w,A){return Uv(a,l,!1,null,0,_,0,w,A)},e.createHasPseudoClassSelector=function(a){return{$$typeof:Fu,value:a}},e.createHydrationContainer=function(a,l,p,_,y,w,A,I,L){return(a=Uv(p,_,!0,a,0,w,0,I,L)).context=zv(null),p=a.current,(w=ii(_=Yt(),y=Oi(p))).callback=l??null,ki(p,w,y),a.current.lanes=y,Sa(a,y,_),hn(a,_),a},e.createPortal=function(a,l,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:_==null?null:""+_,children:a,containerInfo:l,implementation:p}},e.createRoleSelector=function(a){return{$$typeof:Uu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:zu,value:a}},e.createTextSelector=function(a){return{$$typeof:Hu,value:a}},e.deferredUpdates=function(a){var l=De,p=ft.transition;try{return ft.transition=null,De=16,a()}finally{De=l,ft.transition=p}},e.discreteUpdates=function(a,l,p,_,y){var w=De,A=ft.transition;try{return ft.transition=null,De=1,a(l,p,_,y)}finally{De=w,ft.transition=A,Ie===0&&vo()}},e.findAllNodes=Of,e.findBoundingRects=function(a,l){if(!ya)throw Error(s(363));l=Of(a,l),a=[];for(var p=0;p<l.length;p++)a.push(jT(l[p]));for(l=a.length-1;0<l;l--)for(var _=(p=a[l]).x,y=_+p.width,w=p.y,A=w+p.height,I=l-1;0<=I;I--)if(l!==I){var L=a[I],U=L.x,$=U+L.width,ne=L.y,G=ne+L.height;if(_>=U&&w>=ne&&y<=$&&A<=G){a.splice(l,1);break}if(!(_!==U||p.width!==L.width||G<w||ne>A)){ne>w&&(L.height+=ne-w,L.y=w),G<A&&(L.height=A-ne),a.splice(l,1);break}if(!(w!==ne||p.height!==L.height||$<_||U>y)){U>_&&(L.width+=U-_,L.x=_),$<y&&(L.width=y-U),a.splice(l,1);break}}return a},e.findHostInstance=Hv,e.findHostInstanceWithNoPortals=function(a){return(a=(a=Y(a))!==null?X(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return Hv(a)},e.flushControlled=function(a){var l=Ie;Ie|=1;var p=ft.transition,_=De;try{ft.transition=null,De=1,a()}finally{De=_,ft.transition=p,(Ie=l)===0&&(vo(),Pr())}},e.flushPassiveEffects=Cs,e.flushSync=kv,e.focusWithin=function(a,l){if(!ya)throw Error(s(363));for(l=Av(a=Mf(a),l),l=Array.from(l),a=0;a<l.length;){var p=l[a++];if(!xa(p)){if(p.tag===5&&XT(p.stateNode))return!0;for(p=p.child;p!==null;)l.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return De},e.getFindAllNodesFailureDescription=function(a,l){if(!ya)throw Error(s(363));var p=0,_=[];a=[Mf(a),0];for(var y=0;y<a.length;){var w=a[y++],A=a[y++],I=l[A];if((w.tag!==5||!xa(w))&&(Nf(w,I)&&(_.push(Df(I)),++A>p&&(p=A)),A<l.length))for(w=w.child;w!==null;)a.push(w,A),w=w.sibling}if(p<l.length){for(a=[];p<l.length;p++)a.push(Df(l[p]));return`findAllNodes was able to match part of the selector:
  `+_.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ye(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:aC,findFiberByHostInstance:a.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{fu=l.inject(a),Ar=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,p,_){if(!ya)throw Error(s(363));a=Of(a,l);var y=YT(a,p,_).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var p=l._getVersion;p=p(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,p]:a.mutableSourceEagerHydrationData.push(l,p)},e.runWithPriority=function(a,l){var p=De;try{return De=a,l()}finally{De=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,p,_){var y=l.current,w=Yt(),A=Oi(y);return p=zv(p),l.context===null?l.context=p:l.pendingContext=p,(l=ii(w,A)).payload={element:a},(_=_===void 0?null:_)!==null&&(l.callback=_),(a=ki(y,l,A))!==null&&(zn(a,y,A,w),wu(a,y,A)),A},e}),Jy}({get exports(){return Nm},set exports(t){Nm=t}}).exports=SR();var TR=K2(Nm),_b={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Om={},vc={get exports(){return Om},set exports(t){Om=t}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?vc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(vc.exports=function(){return(t()-i)/1e6},e=process.hrtime,r=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=r-s):Date.now?(vc.exports=function(){return Date.now()-n},n=Date.now()):(vc.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Q2);var n1,Do={},Rs={};({get exports(){return Do},set exports(t){Do=t}}).exports=(n1||(n1=1,Rs.ConcurrentRoot=1,Rs.ContinuousEventPriority=4,Rs.DefaultEventPriority=16,Rs.DiscreteEventPriority=1,Rs.IdleEventPriority=536870912,Rs.LegacyRoot=0),Rs);var ER={};function Tp(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function vb(t,e){var n,r,i;(n=t.willUnmount)===null||n===void 0||n.call(t,t,e),((r=t.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&xi(t.children).forEach(function(s){vb(s,t)})}function r1(t,e){var n;vb(e,t),t.removeChild(e);var r=(n=e.config)!==null&&n!==void 0?n:{},i=r.destroy,s=i===void 0||i,o=r.destroyChildren,u=o===void 0||o,h=r.destroyTexture,d=h!==void 0&&h,m=r.destroyBaseTexture,c=m!==void 0&&m;s&&e.destroy({children:u,texture:d,baseTexture:c})}function i1(t,e,n){dt(e!==n,"pixi-react: PixiFiber cannot insert node before itself");var r=t.children.indexOf(e)!==-1,i=t.getChildIndex(n);r?t.setChildIndex(e,i):t.addChildAt(e,i)}var s1=null,vr=TR({getRootHostContext:function(){return ER},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Do.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Do.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Do.ContinuousEventPriority;default:return Do.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=yR[t];if(typeof s=="function"&&(e=s(i,r)),!e){var o=gb[t];o&&((e=o.create(r)).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&((typeof((n=e)===null||n===void 0?void 0:n.applyProps)=="function"?e.applyProps:Zr)(e,{},r),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var n=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=n},finalizeInitialChildren:function(t,e,n){return!1},prepareUpdate:function(t,e,n,r,i,s){return s1=function(o,u,h,d){var m=null;for(var c in h)!d.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==null&&(c===km||(m||(m=[]),m.push(c,null)));for(var f in d){var g=d[f],v=h!==null?h[f]:void 0;!d.hasOwnProperty(f)||g===v||g===null&&v===null||f===km||(m||(m=[]),m.push(f,g))}return m}(0,0,n,r)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var n=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(n&&r&&i)},createTextInstance:function(t,e,n){dt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Om,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Tp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Tp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Tp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:i1,insertInContainerBefore:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=i1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,n,r,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Zr),(u(t,r,i)||s1)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,n,r,i){},commitTextUpdate:function(t,e,n){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),CR=_b.dependencies["react-dom"].replace(/[^0-9.]/g,""),AR=_b.name;vr.injectIntoDevTools({bundleType:0,version:CR,rendererPackageName:AR,findHostInstanceByFiber:vr.findHostInstance});var qi=new Map;function yb(t){if(dt(Zt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),qi.has(t)){var e=qi.get(t).pixiFiberContainer;vr.updateContainer(null,e,void 0,function(){qi.delete(t)})}}function xb(t){dt(Zt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=qi.get(t);if(dt(!e,"Pixi React: createRoot should only be called once"),!e){var n=vr.createContainer(t);e={pixiFiberContainer:n,reactRoot:{render:function(r){return vr.updateContainer(r,n,void 0),vr.getPublicRootInstance(n)},unmount:function(){yb(t),qi.delete(t)}}},qi.set(t,e)}return e.reactRoot}function PR(t,e,n){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),n!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),qi.has(e)?r=qi.get(e).reactRoot:r=xb(e),r.render(t)}function IR(t){yb(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}function RR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fb(r.key),r)}}function li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bh(t,e){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bh(t,e)}function MR(t,e){if(e&&(An(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}var _d=gi.createContext(null),wb=_d.Provider,bb=_d.Consumer,NR=function(t){var e=gi.forwardRef(function(n,r){return gi.createElement(bb,null,function(i){return gi.createElement(t,Bl({},n,{ref:r,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function DR(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sh(t);if(e){var i=Sh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MR(this,n)}}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var a1=function(){},Sb={width:Ge.number,height:Ge.number,onMount:Ge.func,onUnmount:Ge.func,raf:Ge.bool,renderOnComponentChange:Ge.bool,children:Ge.node,options:Ge.shape({autoStart:Ge.bool,width:Ge.number,height:Ge.number,useContextAlpha:Ge.bool,backgroundAlpha:Ge.number,autoDensity:Ge.bool,antialias:Ge.bool,preserveDrawingBuffer:Ge.bool,resolution:Ge.number,forceCanvas:Ge.bool,backgroundColor:Ge.number,clearBeforeRender:Ge.bool,powerPreference:Ge.string,sharedTicker:Ge.bool,sharedLoader:Ge.bool,resizeTo:function(t,e){var n=t[e];n&&dt(n===window||n instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(An(n),", expect `window` or an `HTMLElement`."))},view:function(t,e,n){var r=t[e];r&&dt(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(An(r),", supplied to ").concat(n,", expected `<canvas> Element`"))}})},OR={width:800,height:600,onMount:a1,onUnmount:a1,raf:!0,renderOnComponentChange:!0},Bm=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&bh(s,o)})(i,gi.Component);var e,n,r=DR(i);function i(){var s;RR(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return mt(li(s=r.call.apply(r,[this].concat(u))),"_canvas",null),mt(li(s),"_mediaQuery",null),mt(li(s),"_ticker",null),mt(li(s),"_needsUpdate",!0),mt(li(s),"app",null),mt(li(s),"updateSize",function(){var d=s.props,m=d.width,c=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(m,c)}),mt(li(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),mt(li(s),"renderStage",function(){var d=s.props,m=d.renderOnComponentChange;!d.raf&&m&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(n=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,h=s.height,d=s.options,m=s.raf,c=s.renderOnComponentChange;this.app=new iu(yc(yc({width:u,height:h,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[m?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=vr.createContainer(this.app.stage),vr.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),c&&!m&&(this._ticker=new _t,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var h,d=this.props,m=d.width,c=d.height,f=d.raf,g=d.renderOnComponentChange,v=d.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===c&&s.width===m&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),vr.updateContainer(this.getChildren(),this.mountNode,this),s.width===m&&s.height===c&&s.raf===f&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return gi.createElement(wb,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),vr.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,h=this.props.options;return h&&h.view?(dt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):gi.createElement("canvas",Bl({},(s=this.props,o=[].concat(xi(Object.keys(Sb)),xi(Object.keys(Mm))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,m){return yc(yc({},d),{},mt({},m,s[m]))},{})),{ref:function(d){return u._canvas=d}}))}}])&&kR(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Bm.propTypes=Sb,Bm.defaultProps=OR;var BR=Bm;function Tb(){var t=V.useContext(_d);return dt(t instanceof iu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function LR(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=Tb();dt(typeof t=="function","`useTick` needs a callback function."),dt(n instanceof iu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var r=V.useRef(null);V.useEffect(function(){r.current=t},[t]),V.useEffect(function(){if(e){var i=function(s){return r.current.apply(n.ticker,[s,n.ticker])};return n.ticker.add(i),function(){n.ticker&&n.ticker.remove(i)}}},[e])}function FR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lm(t,e,n){return Lm=FR()?Reflect.construct.bind():function(r,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(r,o));return s&&bh(u,s.prototype),u},Lm.apply(null,arguments)}var UR=["children","apply"];function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zR=function(t,e){dt(An(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var n=Object.keys(e),r=function(i){var s=i.children,o=i.apply,u=ps(i,UR),h=V.useRef(V.useMemo(function(){return n.map(function(c){var f,g=(u==null||(f=u[c])===null||f===void 0?void 0:f.construct)||[];return Lm(e[c],xi(g))})},[n])),d=V.useMemo(function(){return n.reduce(function(c,f,g){return xc(xc({},c),{},mt({},f,h.current[g]))},{})},[n]),m=V.useMemo(function(){return Object.keys(u).filter(mb(pb(n))).reduce(function(c,f){return xc(xc({},c),{},mt({},f,u[f]))},{})},[u,n]);return n.forEach(function(c,f){return Object.assign(h.current[f],u[c])}),o&&function(){for(var c=arguments.length,f=new Array(c),g=0;g<c;g++)f[g]=arguments[g];return f.every(function(v){return typeof v=="function"})}(o)&&o.call(t,d),gi.createElement(t,Bl({},m,{filters:h.current}),s)};return r.displayName="FilterWrapper",r.propTypes={children:Ge.node,apply:Ge.func},r},HR=vn.BitmapText,GR=vn.Container,$R=vn.Graphics,jR=vn.NineSlicePlane,WR=vn.ParticleContainer,VR=vn.Sprite,XR=vn.AnimatedSprite,YR=vn.Text,QR=vn.TilingSprite,KR=vn.SimpleMesh,qR=vn.SimpleRope;const ZR=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:XR,AppConsumer:bb,AppContext:_d,AppProvider:wb,BitmapText:HR,Container:GR,Graphics:$R,NineSlicePlane:jR,ParticleContainer:WR,PixiComponent:xR,PixiFiber:vr,SimpleMesh:KR,SimpleRope:qR,Sprite:VR,Stage:BR,TYPES:vn,Text:YR,TilingSprite:QR,applyDefaultProps:Zr,createRoot:xb,eventHandlers:wh,render:PR,unmountComponentAtNode:IR,useApp:Tb,useTick:LR,withFilters:zR,withPixiApp:NR},Symbol.toStringTag,{value:"Module"})),JR=fC(ZR);(function(t){t.exports=JR})(fA);const Eb=new Je;et.prototype._cacheAsBitmap=!1;et.prototype._cacheData=null;et.prototype._cacheAsBitmapResolution=null;et.prototype._cacheAsBitmapMultisample=null;class ek{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(et.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new ek),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});et.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};et.prototype._initCachedDisplayObject=function(e){var f,g;if((f=this._cacheData)!=null&&f.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(oe.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,h=cs.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),d=`cacheAsBitmap_${Qs()}`;this._cacheData.textureCacheId=d,we.addToCache(h.baseTexture,d),se.addToCache(h,d);const m=this.transform.localTransform.copyTo(Eb).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:m,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const c=new ei(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};et.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};et.prototype._initCachedDisplayObjectCanvas=function(e){var m;if((m=this._cacheData)!=null&&m.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(oe.RESOLUTION);const o=cs.create({width:n.width,height:n.height}),u=`cacheAsBitmap_${Qs()}`;this._cacheData.textureCacheId=u,we.addToCache(o.baseTexture,u),se.addToCache(o,u);const h=Eb;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=n.x,h.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new ei(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(n.x/n.width),d.anchor.y=-(n.y/n.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};et.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};et.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};et.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,we.removeFromCache(this._cacheData.textureCacheId),se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};et.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};et.prototype.name=null;Zt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};et.prototype.getGlobalPosition=function(e=new ke,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var tk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class nk extends Gt{constructor(e=1){super(kI,tk,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const rk={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ik=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function sk(t){const e=rk[t],n=e.length;let r=ik,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let h=s.replace("%index%",u.toString());o=u,u>=n&&(o=t-u-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const ok=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function ak(t,e){const n=Math.ceil(t/2);let r=ok,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Fm extends Gt{constructor(e,n=8,r=4,i=Gt.defaultResolution,s=5){const o=ak(s,e),u=sk(s);super(o,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let u=n,h=s;this.state.blend=!1,e.applyFilter(this,u,h,Gr.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(u,Gr.BLIT),this.uniforms.uSampler=h;const m=h;h=u,u=m,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class lk extends Gt{constructor(e=8,n=4,r=Gt.defaultResolution,i=5){super(),this.blurXFilter=new Fm(!0,e,n,r,i),this.blurYFilter=new Fm(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=e.getFilterTexture();this.blurXFilter.apply(e,n,u,Gr.CLEAR),this.blurYFilter.apply(e,u,r,i),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var uk=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Um extends Gt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Xw,uk,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const[r,i,s]=He.shared.setValue(e).toArray(),o=[r,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=r+(1-r)*o,d=o*(1-r)-u*i,m=o*(1-r)+u*i,c=o*(1-r)+u*i,f=r+o*(1-r),g=o*(1-r)-u*i,v=o*(1-r)-u*i,b=o*(1-r)+u*i,E=r+o*(1-r),x=[h,d,m,0,0,c,f,g,0,0,v,b,E,0,0,0,0,0,1,0];this._loadMatrix(x,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=He.shared,[u,h,d]=o.setValue(r).toArray(),[m,c,f]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,u,h,d,e,0,m,c,f,n,0,u-m,h-c,d-f,0,0];this._loadMatrix(g,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Um.prototype.grayscale=Um.prototype.greyscale;var ck=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,hk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class dk extends Gt{constructor(e,n){const r=new Je;e.renderable=!1,super(hk,ck,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new ke(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var fk=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,pk=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class mk extends Gt{constructor(){super(pk,fk)}}var gk=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class _k extends Gt{constructor(e=.5,n=Math.random()){super(Xw,gk,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const u1={AlphaFilter:nk,BlurFilter:lk,BlurFilterPass:Fm,ColorMatrixFilter:Um,DisplacementFilter:dk,FXAAFilter:mk,NoiseFilter:_k};Object.entries(u1).forEach(([t,e])=>{Object.defineProperty(u1,t,{get(){return Re("7.1.0",`filters.${t} has moved to ${t}`),e}})});class vk{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(_t.system.add(this.tickerUpdate,this,hs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(_t.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Fs=new vk;class su{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=su.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ke,this.page=new ke,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Th extends su{constructor(){super(...arguments),this.client=new ke,this.movement=new ke,this.offset=new ke,this.global=new ke,this.screen=new ke}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,n,r){return e.worldTransform.applyInverse(r||this.global,n)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,u,h,d,m,c,f,g,v,b){throw new Error("Method not implemented.")}}class lr extends Th{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class aa extends Th{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}aa.DOM_DELTA_PIXEL=0;aa.DOM_DELTA_LINE=1;aa.DOM_DELTA_PAGE=2;const yk=2048,xk=new ke,Ep=new ke;class wk{constructor(e){this.dispatch=new Xs,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){Fs.pauseUpdate=!0;const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.eventMode,xk.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children,s=r.eventMode==="none",o=r.eventMode==="passive"&&!r.interactiveChildren,u=r.interactiveChildren,h=!s&&u&&!o;if(i&&i.length>0&&h)for(let d=0;d<i.length;d++)this.all(e,n,i[d]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<yk&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Fs.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children;for(let u=o.length-1;u>=0;u--){const h=o[u],d=this.hitTestRecursive(h,this._isInteractive(n)?n:h.eventMode,r,i,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;return(d.length>0||e.isInteractive())&&d.push(e),d}}}return this._isInteractive(n)&&i(e,r)?e.isInteractive()?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}hitPruneFn(e,n){var r;if(e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask||e.hitArea&&(e.worldTransform.applyInverse(n,Ep),!e.hitArea.contains(Ep.x,Ep.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var u,h;if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==n.target){const d=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,d,s);if(this.dispatchEvent(m,"pointerout"),r&&this.dispatchEvent(m,"mouseout"),!n.composedPath().includes(s)){const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&!n.composedPath().includes(c.target);)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(m)}if(s!==n.target){const d=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(n,d);this.dispatchEvent(m,"pointerover"),r&&this.dispatchEvent(m,"mouseover");let c=s==null?void 0:s.parent;for(;c&&c!==this.rootTarget.parent&&c!==n.target;)c=c.parent;if(!c||c===this.rootTarget.parent){const g=this.clonePointerEvent(n,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),r&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(m)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(h=n.target)==null?void 0:h.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const u=r.button===2;this.dispatchEvent(r,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let u=s;for(;u&&!r.composedPath().includes(u);){if(r.currentTarget=u,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const h=r.button===2;this.notifyTarget(r,h?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(r,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:n});const h=i.clicksByButton[e.button];h.target===u.target&&n-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=n,u.detail=h.clickCount,u.pointerType==="mouse"?this.dispatchEvent(u,"click"):u.pointerType==="touch"&&this.dispatchEvent(u,"tap"),this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof aa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(lr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(aa);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(lr);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof lr&&n instanceof lr&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Th&&n instanceof Th&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e)}}const bk=1,Sk={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Cb=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new wk(null),Fs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new lr(null),this.rootWheelEvent=new aa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n,Cb._defaultEventMode=t.eventMode??"auto"}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.domElement.style,n);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}onPointerDown(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,r=e.length;n<r;n++){const i=e[n],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;Fs.pointerMoved();const e=this.normalizeToPointerData(t);for(let n=0,r=e.length;n<r;n++){const i=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const n=e!==this.domElement?"outside":"",r=this.normalizeToPointerData(t);for(let i=0,s=r.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,r[i]);o.type+=n,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;const e=this.normalizeToPointerData(t);for(let n=0,r=e.length;n<r;n++){const i=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Fs.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Fs.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Fs.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,n){let r;this.domElement.parentElement?r=this.domElement.getBoundingClientRect():r={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-r.left)*(this.domElement.width/r.width)*i,t.y=(n-r.top)*(this.domElement.height/r.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,r=t.changedTouches.length;n<r;n++){const i=t.changedTouches[n];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=bk),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,e.push(n)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Sk[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Eh=Cb;Eh.extension={name:"events",type:[ae.RendererSystem,ae.CanvasRendererSystem]};fe.add(Eh);function c1(t){return t==="dynamic"||t==="static"}const Tk={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??c1(Eh.defaultEventMode)},set interactive(t){Re("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Eh.defaultEventMode},set eventMode(t){this._internalInteractive=c1(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof su))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};et.mixin(Tk);const Ek={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};et.mixin(Ek);const Ck=9,wc=100,Ak=0,Pk=0,h1=2,d1=1,Ik=-1e3,Rk=-1e3,kk=2;class Ab{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Wr.tablet||Wr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${wc}px`,n.style.height=`${wc}px`,n.style.position="absolute",n.style.top=`${Ak}px`,n.style.left=`${Pk}px`,n.style.zIndex=h1.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${d1}px`,e.style.height=`${d1}px`,e.style.position="absolute",e.style.top=`${Ik}px`,e.style.left=`${Rk}px`,e.style.zIndex=kk.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Wr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:h}=this.renderer,d=i/o*h,m=s/u*h;let c=this.div;c.style.left=`${n}px`,c.style.top=`${r}px`,c.style.width=`${o}px`,c.style.height=`${u}px`;for(let f=0;f<this.children.length;f++){const g=this.children[f];if(g.renderId!==this.renderId)g._accessibleActive=!1,Ko(this.children,f,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,f--;else{c=g._accessibleDiv;let v=g.hitArea;const b=g.worldTransform;g.hitArea?(c.style.left=`${(b.tx+v.x*b.a)*d}px`,c.style.top=`${(b.ty+v.y*b.d)*m}px`,c.style.width=`${v.width*b.a*d}px`,c.style.height=`${v.height*b.d*m}px`):(v=g.getBounds(),this.capHitArea(v),c.style.left=`${v.x*d}px`,c.style.top=`${v.y*m}px`,c.style.width=`${v.width*d}px`,c.style.height=`${v.height*m}px`,c.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(c.title=g.accessibleTitle),c.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&c.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==c.title||g.tabIndex!==c.tabIndex)&&(c.title=g.accessibleTitle,c.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${wc}px`,n.style.height=`${wc}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=h1.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new su(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Ck&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Ab.extension={name:"accessibility",type:[ae.RendererPlugin,ae.CanvasRendererPlugin]};fe.add(Ab);var Tn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Tn||{});const Ch={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let ui,Po;function f1(){Po={s3tc:ui.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ui.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ui.getExtension("WEBGL_compressed_texture_etc"),etc1:ui.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ui.getExtension("WEBGL_compressed_texture_pvrtc")||ui.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ui.getExtension("WEBGL_compressed_texture_atc"),astc:ui.getExtension("WEBGL_compressed_texture_astc")}}const Mk={extension:{type:ae.DetectionParser,priority:2},test:async()=>{const e=oe.ADAPTER.createCanvas().getContext("webgl");return e?(ui=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Po||f1();const e=[];for(const n in Po)Po[n]&&e.push(n);return[...e,...t]},remove:async t=>(Po||f1(),t.filter(e=>!(e in Po)))};fe.add(Mk);class Nk extends ru{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new mm(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new mm(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class js extends Nk{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=js._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||js._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,u=this.levels;o<u;o++){const{levelID:h,levelWidth:d,levelHeight:m,levelBuffer:c}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,h,this.format,d,m,0,c)}return!0}onBlobLoaded(){this._levelBuffers=js._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,u){const h=new Array(r);let d=e.byteOffset,m=o,c=u,f=m+i-1&~(i-1),g=c+s-1&~(s-1),v=f*g*Ch[n];for(let b=0;b<r;b++)h[b]={levelID:b,levelWidth:r>1?m:f,levelHeight:r>1?c:g,levelBuffer:new Uint8Array(e.buffer,d,v)},d+=v,m=m>>1||1,c=c>>1||1,f=m+i-1&~(i-1),g=c+s-1&~(s-1),v=f*g*Ch[n];return h}}const Cp=4,bc=124,Dk=32,p1=20,Ok=542327876,Sc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Bk={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Tc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Lk=1,Fk=2,Uk=4,zk=64,Hk=512,Gk=131072,$k=827611204,jk=861165636,Wk=894720068,Vk=808540228,Xk=4,Yk={[$k]:Tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[jk]:Tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Wk]:Tn.COMPRESSED_RGBA_S3TC_DXT5_EXT},Qk={[70]:Tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Tn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Tn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Kk(t){const e=new Uint32Array(t);if(e[0]!==Ok)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,bc/Uint32Array.BYTES_PER_ELEMENT),i=r[Sc.HEIGHT],s=r[Sc.WIDTH],o=r[Sc.MIPMAP_COUNT],u=new Uint32Array(t,Sc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Dk/Uint32Array.BYTES_PER_ELEMENT),h=u[Lk];if(h&Uk){const d=u[Bk.FOURCC];if(d!==Vk){const T=Yk[d],C=Cp+bc,P=new Uint8Array(t,C);return[new js(P,{format:T,width:s,height:i,levels:o})]}const m=Cp+bc,c=new Uint32Array(e.buffer,m,p1/Uint32Array.BYTES_PER_ELEMENT),f=c[Tc.DXGI_FORMAT],g=c[Tc.RESOURCE_DIMENSION],v=c[Tc.MISC_FLAG],b=c[Tc.ARRAY_SIZE],E=Qk[f];if(E===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(v===Xk)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,S=Cp+bc+p1;if(b===1)x.push(new Uint8Array(t,S));else{const T=Ch[E];let C=0,P=s,D=i;for(let O=0;O<o;O++){const H=Math.max(1,P+3&-4),Y=Math.max(1,D+3&-4),Q=H*Y*T;C+=Q,P=P>>>1,D=D>>>1}let N=S;for(let O=0;O<b;O++)x.push(new Uint8Array(t,N,C)),N+=C}return x.map(T=>new js(T,{format:E,width:s,height:i,levels:o}))}throw h&zk?new Error("DDSParser does not support uncompressed texture data."):h&Hk?new Error("DDSParser does not supported YUV uncompressed texture data."):h&Gk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&Fk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const m1=[171,75,84,88,32,49,49,187,13,10,26,10],qk=67305985,sr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},zm=64,g1={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},Zk={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},Jk={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function eM(t,e,n=!1){const r=new DataView(e);if(!tM(t,r))return null;const i=r.getUint32(sr.ENDIANNESS,!0)===qk,s=r.getUint32(sr.GL_TYPE,i),o=r.getUint32(sr.GL_FORMAT,i),u=r.getUint32(sr.GL_INTERNAL_FORMAT,i),h=r.getUint32(sr.PIXEL_WIDTH,i),d=r.getUint32(sr.PIXEL_HEIGHT,i)||1,m=r.getUint32(sr.PIXEL_DEPTH,i)||1,c=r.getUint32(sr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=r.getUint32(sr.NUMBER_OF_FACES,i),g=r.getUint32(sr.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(sr.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||m!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const b=4,E=4,x=h+3&-4,S=d+3&-4,T=new Array(c);let C=h*d;s===0&&(C=x*S);let P;if(s!==0?g1[s]?P=g1[s]*Zk[o]:P=Jk[s]:P=Ch[u],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const D=n?rM(r,v,i):null;let O=C*P,H=h,Y=d,Q=x,re=S,X=zm+v;for(let z=0;z<g;z++){const ve=r.getUint32(X,i);let ye=X+4;for(let te=0;te<c;te++){let B=T[te];B||(B=T[te]=new Array(g)),B[z]={levelID:z,levelWidth:g>1||s!==0?H:Q,levelHeight:g>1||s!==0?Y:re,levelBuffer:new Uint8Array(e,ye,O)},ye+=O}X+=ve+4,X=X%4!==0?X+4-X%4:X,H=H>>1||1,Y=Y>>1||1,Q=H+b-1&~(b-1),re=Y+E-1&~(E-1),O=Q*re*P}return s!==0?{uncompressed:T.map(z=>{let ve=z[0].levelBuffer,ye=!1;return s===ge.FLOAT?ve=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?(ye=!0,ve=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===ge.INT&&(ye=!0,ve=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new ru(ve,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:ye?nM(o):o}}),kvData:D}:{compressed:T.map(z=>new js(null,{format:u,width:h,height:d,levels:g,levelBuffers:z})),kvData:D}}function tM(t,e){for(let n=0;n<m1.length;n++)if(e.getUint8(n)!==m1[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function nM(t){switch(t){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return t}}function rM(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(zm+i,n),o=zm+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),m=new DataView(t.buffer,o+h+1,s-h-1);r.set(d,m),i+=4+s+u}return r}const iM={extension:{type:ae.LoadParser,priority:ti.High},test(t){return pd(t,".dds")},async load(t,e,n){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),o=Kk(i).map(u=>{const h=new we(u,{mipmap:Kr.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:as(t),...e.data});return md(h,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(iM);const sM={extension:{type:ae.LoadParser,priority:ti.High},test(t){return pd(t,".ktx")},async load(t,e,n){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:u}=eM(t,i),h=s??o,d={mipmap:Kr.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:as(t),...e.data},m=h.map(c=>{h===o&&Object.assign(d,{type:c.type,format:c.format});const f=new we(c,d);return f.ktxKeyValueData=u,md(f,n,t)});return m.length===1?m[0]:m},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(sM);const oM={extension:ae.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(oM);const aM=new Ce,lM=4,Hm=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new vy(r,i,1);const u=o.context.getImageData(0,0,r,i);if(Hm.arrayPostDivide(n,u.data),o.context.putImageData(u,0,0),s){const h=new vy(o.width,o.height,1);h.context.scale(1,-1),h.context.drawImage(o.canvas,0,-i),o.destroy(),o=h}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return Hm.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof cs)s=t;else{const c=n.context.webGLVersion>=2?n.multisample:ht.NONE;if(s=this.renderer.generateTexture(t,{multisample:c}),c!==ht.NONE){const f=cs.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(f.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=f}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=aM,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const u=Math.round(e.width*r),h=Math.round(e.height*r),d=new Uint8Array(lM*u*h),m=n.gl;return m.readPixels(Math.round(e.x*r),Math.round(e.y*r),u,h,m.RGBA,m.UNSIGNED_BYTE,d),o&&s.destroy(!0),{pixels:d,width:u,height:h,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Pb=Hm;Pb.extension={name:"extract",type:ae.RendererSystem};fe.add(Pb);class uM{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function cM(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof se){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function hM(t,e){if(t.baseTexture instanceof we){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function dM(t,e){if(t._texture&&t._texture instanceof se){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function fM(t,e){return e instanceof dd?(e.updateText(!0),!0):!1}function pM(t,e){if(e instanceof Yn){const n=e.toFontString();return zt.measureFont(n),!0}return!1}function mM(t,e){if(t instanceof dd){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function gM(t,e){return t instanceof Yn?(e.includes(t)||e.push(t),!0):!1}const Ib=class{constructor(t){this.limiter=new uM(Ib.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(mM),this.registerFindHook(gM),this.registerFindHook(cM),this.registerFindHook(hM),this.registerFindHook(dM),this.registerUploadHook(fM),this.registerUploadHook(pM)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,_t.system.addOnce(this.tick,this,hs.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)_t.system.addOnce(this.tick,this,hs.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Zt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&_t.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Ah=Ib;Ah.uploadsPerFrame=4;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return Ah.uploadsPerFrame},set(t){Re("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ah.uploadsPerFrame=t}}});function Rb(t,e){return e instanceof we?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function _M(t,e){if(!(e instanceof $s))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&Rb(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function vM(t,e){return t instanceof $s?(e.push(t),!0):!1}class kb extends Ah{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(vM),this.registerUploadHook(Rb),this.registerUploadHook(_M)}}kb.extension={name:"prepare",type:ae.RendererSystem};fe.add(kb);const ol=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof se?t:null,this.baseTexture=t instanceof we?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=as(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=ol.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=ol.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,u=null;const h=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,d=new Ce(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);i.rotated?o=new Ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(u=new Ce(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new se(this.baseTexture,o,d,u,i.rotated?2:0,i.anchor,i.borders),se.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ol.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ol.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Gm=ol;Gm.BATCH_SIZE=1e3;const yM=["jpg","png","jpeg","avif","webp"];function Mb(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Ct.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const u=Mb([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,u)})}return r}const xM={extension:ae.Asset,cache:{test:t=>t instanceof Gm,getCacheableAssets:(t,e)=>Mb(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&yM.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ae.LoadParser,priority:ti.Normal},async testParse(t,e){return Ct.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var d,m;let r=Ct.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Im(i,e.src);const o=(await n.load([i]))[i],u=new Gm(o.baseTexture,t,e.src);await u.parse();const h=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(h)){const c=[];for(const g of h){if(typeof g!="string")continue;let v=r+g;(m=e.data)!=null&&m.ignoreMultiPack||(v=Im(v,e.src),c.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(c);u.linkedSheets=f,f.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==g))})}return u},unload(t){t.destroy(!0)}}};fe.add(xM);const Io=class extends Yn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Io(Object.keys(Io.defaultOptions).reduce((e,n)=>({...e,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Io.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:n}=Io;if(n[t]){const r=n[t];return this._fonts.push(r),r.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return oe.ADAPTER.fetch(t).then(r=>r.blob()).then(async r=>new Promise((i,s)=>{const o=URL.createObjectURL(r),u=new FileReader;u.onload=()=>i([o,u.result]),u.onerror=s,u.readAsDataURL(r)})).then(async([r,i])=>{const s=Object.assign({family:Ct.basename(t,Ct.extname(t)),weight:"normal",style:"normal",src:r,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);n[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(n=>!this._overrides.includes(n));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(n=>this._overrides.includes(n));e.length>0&&(this._overrides=this._overrides.filter(n=>!e.includes(n)),this.styleID++)}toCSS(t){return["display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize*t}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing*t}px`,`text-align: ${this.align}`,`padding: ${this.padding*t}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight*t}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth*t}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness*t}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness*t}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS(t)]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=pP(t)),typeof t=="number"?fP(t):t}dropShadowToCSS(t){let e=this.normalizeColor(this.dropShadowColor);const n=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&n<1&&(e+=(n*255|0).toString(16).padStart(2,"0"));const s=`${r*t}px ${i*t}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Io.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let pl=Io;pl.availableFonts={};pl.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Ro=class extends ei{constructor(t="",e={}){super(se.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const n=new Image,r=se.from(n,{scaleMode:oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});r.orig=new Ce,r.trim=new Ce,this.texture=r;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject"),h=document.createElementNS(s,"div"),d=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",o.appendChild(u),this.maxWidth=Ro.defaultMaxWidth,this.maxHeight=Ro.defaultMaxHeight,this._domElement=h,this._styleElement=d,this._svgRoot=o,this._foreignObject=u,this._foreignObject.appendChild(d),this._foreignObject.appendChild(h),this._image=n,this._autoResolution=Ro.defaultAutoResolution,this._resolution=Ro.defaultResolution??oe.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,h;const{text:e,style:n,resolution:r}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:n.toCSS(r)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(r)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:s+n.padding*2,height:o+n.padding*2}}async updateText(t=!0){const{style:e,_image:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:r,height:i}=this.measureText();n.width=Math.ceil(Math.max(1,r)),n.height=Math.ceil(Math.max(1,i)),this._loading||(this._loading=!0,await new Promise(s=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,this.updateTexture(),s()};const o=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(o)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:n,resolution:r}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=n.width/r,e.trim.height=e._frame.height=n.height/r,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(n.width,n.height,r),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,r,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ro.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=e,(r=this._svgRoot)==null||r.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._image.onload=null,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Xi(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Xi(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof pl?(this.ownsStyle=!1,this._style=t):t instanceof Yn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=pl.from(t)):(this.ownsStyle=!0,this._style=new pl(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let vd=Ro;vd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};vd.defaultMaxWidth=2024;vd.defaultMaxHeight=2024;vd.defaultAutoResolution=!0;const xt=({hitFrame:t,children:e,...n})=>{const[r,i]=V.useState(null);return V.useEffect(()=>{t&&i(new Ce(...t))},[]),R(Bt.Container,{hitArea:r,...n,children:e})};function wM(t,e){let n=[];function r(i){n.push(i.id),_r.add(i.id,i.src)}for(let i of t)switch(i.type){default:r(i)}return _r.load(n,e)}function bM(t){return _r.get(t)}function SM(t,e){return _r.get(t).textures[e]}function TM(t,e){return _r.get(t).animations[e]}function EM(t){return _r.get(t)}function _1(t,e){return(_r.get(t)||{})[e]||e}function ut({id:t,name:e,...n}){return R(Bt.Sprite,{texture:SM(t,e),...n})}function Nb({name:t,...e}){return R(Bt.Sprite,{texture:bM(t),...e})}function qn({id:t,AnimationName:e,...n}){return R(Bt.AnimatedSprite,{textures:TM(t,e),...n})}function CM(t,e){return{id:Vx,name:`${t}.jpg`,width:e[0],height:e[1]}}const AM=t=>e=>{const{state:n}=V.useContext(Ae),r=n.game.table.symbolSize;return V.cloneElement(me(xt,{children:[R(ut,{...CM(t,r),...e}),t==10?R(ut,{x:r[0]/2,y:85,anchor:[.5,.5],id:os,name:"Scatter.png"}):t==11?R(ut,{x:r[0]/2,y:85,anchor:[.5,.5],id:os,name:"Wild.png"}):R(Er,{})]}))},PM=()=>ch(12,t=>AM(t));function Zn(t,e,n,r){return{AnimationName:e,id:Xx(t),anchor:.5,initialFrame:0,animationSpeed:.5,x:n[0]/2,y:n[1]/2,width:r[0],height:r[1],isPlaying:!0}}const IM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(0,"Symbol10",e,[210,210]),...t})},RM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(1,"SymbolJ",e,[210,210]),...t})},kM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(2,"SymbolQ",e,[210,210]),...t})},MM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(3,"SymbolK",e,[210,210]),...t})},NM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(4,"SymbolA",e,[210,210]),...t})},DM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(5,"Daisy",e,[245,280]),...t})},OM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(6,"QueenBee_Symbol7_HangingFlowers",e,[197.4,189]),...t})},BM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(7,"QueenBee_Symbol6_BeeHive",e,[151.55,145.25]),...t})},LM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(8,"SkinnyBee",e,[245,280]),y:20,...t})},FM=t=>{const e=V.useContext(Ae).state.game.table.symbolSize;return R(qn,{...Zn(9,"FatBee",e,[245,280]),...t})},UM=t=>{const{state:e}=V.useContext(Ae),n=e.game.table.symbolSize;return me(xt,{...t,children:[R(qn,{...Zn(10,"QueenBee_Symbol5_HoneyPot",n,[197.4,189])}),R(ut,{x:n[0]/2,y:85,anchor:[.5,.5],id:os,name:"Scatter.png"})]})},zM=t=>{const{state:e}=V.useContext(Ae),n=e.game.table.symbolSize;return me(xt,{...t,children:[R(qn,{...Zn(11,"QueenBee_symbol",n,[245,280]),onComplete:()=>{console.log(1)}}),R(ut,{x:n[0]/2,y:85,anchor:[.5,.5],id:os,name:"Wild.png"})]})};function HM(){return[IM,RM,kM,MM,NM,DM,OM,BM,LM,FM,UM,zM].map(t=>e=>{const{next:n}=V.useContext(rw);let r=0;function i(){++r==2&&n()}return R(t,{onLoop:i,...e})})}const GM=({sIndex:t=0,...e})=>{const n=zx("symbol",t);return R(xt,{...e,children:R(n,{})})},$M=({sIndex:t=0,...e})=>{const n=zx("symbolActive",t);return R(xt,{...e,children:R(n,{})})},jM=({frame:t=[0,0,100,100],color:e,...n},r)=>{const i=V.useCallback(s=>{s.clear(),s.beginFill(e),s.drawRect(...t),s.endFill()},[...t,e]);return R(Bt.Graphics,{ref:r,draw:i,...n})},WM=V.forwardRef(jM),VM=({children:t,...e})=>{const[n,r]=V.useState(!1),i=V.useRef();return V.useEffect(()=>{!n&&r(!n)},[i]),me(xt,{...e,children:[R(WM,{frame:[0,0,565,315],color:0,ref:i}),R(xt,{mask:i.current,children:t})]})};Hx("symbol",...PM());Hx("symbolActive",...HM());ed("symbol",GM);ed("symbolActive",$M);ed("viewport",VM);function XM(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(n=>{let r=n.replace(/\+/g," ").split("="),i=r.shift(),s=r.length>0?r.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function YM(){return XM(location.search)}function Os(t,e){let n=YM();return n[t]?n[t]:e}function QM(){let t=Os("lang","en");switch(!0){case t.indexOf("us")>=0:case t.indexOf("en")>=0:t="en";break;case t.indexOf("cn")>=0:case t.indexOf("zh")>=0:case t.indexOf("zn")>=0:case t.indexOf("cs")>=0:t="cs";break;case t.indexOf("th")>=0:t="th";break;case t.indexOf("vi")>=0:case t.indexOf("vn")>=0:t="vn";break;case t.indexOf("ko")>=0:case t.indexOf("kr")>=0:t="kr";break;case t.indexOf("km")>=0:case t.indexOf("kh")>=0:t="kh";break;case t.indexOf("id")>=0:t="id";break;case t.indexOf("ja")>=0:case t.indexOf("jp")>=0:t="jp";break;default:t="en"}return t}function KM(){return{operator:Os("op","1"),funPLay:Os("fun","1")=="1",showLog:Os("log","0")=="1",token:Os("token")||Os("s"),lang:QM(),platform:Os("p")||(Wr.any?"mobile":"web")}}function qM(t){let e={};for(let n in t){let r=t[n],i=r.length,s=[];for(let h=0;h<i;h++){let d=r[h];s.push([h+.5,d+.5])}let o=r[0];s.unshift([0,o+.5]);let u=r[i-1];s.push([i,u+.5]),e[n]=s}return e}let v1={0:[1,1,1,1,1],1:[0,0,0,0,0],2:[2,2,2,2,2],3:[0,1,2,1,0],4:[2,1,0,1,2],5:[0,0,1,0,0],6:[2,2,1,2,2],7:[1,2,2,2,1],8:[1,0,0,0,1]};const ZM={title:"queenbee",row:3,column:5,payLineMap:v1,winLinePathMap:qM(v1),symbolSize:[105,105],symbolFrame:[115,105]};WC("table",ZM);class JM{request(e,n){fetch(e)}signIn(e){e.isFun}getBalance(){}getBets(){}spin(){return fetch("http://localhost:5000/spin/1").then(e=>e.json())}bonus(){}claimFround(){}custom(){}}class eN{constructor(e,n){pt(this,"reels");pt(this,"scaterMultiplier");pt(this,"lineMultiplier");pt(this,"linewin");pt(this,"bonusLinewin");pt(this,"bonusSymbols");this.reels=e.ss,this.scaterMultiplier=e.sm,this.lineMultiplier=e.lm}}class tN extends eN{constructor(e,n){super(e,n);let r=[],i=[],s=[];if(e.lw)for(let o in e.lw)for(let u of e.lw[o]){let h=u[0],d={id:h,symbol:u[1],multiplier:u[3],lines:n.payLineMap[h],linePath:n.winLinePathMap[h],count:u[2],director:o};r.push(d),n.bonusSymbols&&n.bonusSymbols.indexOf(d.symbol)>=0&&(i.push(d),s.push(d.symbol))}this.bonusLinewin=i,this.bonusSymbols=s,this.linewin=r.sort((o,u)=>o.id>u.id||o.id==u.id&&o.director=="l2r"?1:-1)}}VC(JM);YC("spin",tN);var $m={},nN={get exports(){return $m},set exports(t){$m=t}},Rn={},jm={},rN={get exports(){return jm},set exports(t){jm=t}},Db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var M=B.length;B.push(W);e:for(;0<M;){var Z=M-1>>>1,ie=B[Z];if(0<i(ie,W))B[Z]=W,B[M]=ie,M=Z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],M=B.pop();if(M!==W){B[0]=M;e:for(var Z=0,ie=B.length,be=ie>>>1;Z<be;){var xe=2*(Z+1)-1,Le=B[xe],Te=xe+1,Be=B[Te];if(0>i(Le,M))Te<ie&&0>i(Be,Le)?(B[Z]=Be,B[Te]=M,Z=Te):(B[Z]=Le,B[xe]=M,Z=xe);else if(Te<ie&&0>i(Be,M))B[Z]=Be,B[Te]=M,Z=Te;else break e}}return W}function i(B,W){var M=B.sortIndex-W.sortIndex;return M!==0?M:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,c=null,f=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=B)r(d),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(d)}}function C(B){if(b=!1,T(B),!v)if(n(h)!==null)v=!0,ye(P);else{var W=n(d);W!==null&&te(C,W.startTime-B)}}function P(B,W){v=!1,b&&(b=!1,x(O),O=-1),g=!0;var M=f;try{for(T(W),c=n(h);c!==null&&(!(c.expirationTime>W)||B&&!Q());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ie=Z(c.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?c.callback=ie:c===n(h)&&r(h),T(W)}else r(h);c=n(h)}if(c!==null)var be=!0;else{var xe=n(d);xe!==null&&te(C,xe.startTime-W),be=!1}return be}finally{c=null,f=M,g=!1}}var D=!1,N=null,O=-1,H=5,Y=-1;function Q(){return!(t.unstable_now()-Y<H)}function re(){if(N!==null){var B=t.unstable_now();Y=B;var W=!0;try{W=N(!0,B)}finally{W?X():(D=!1,N=null)}}else D=!1}var X;if(typeof S=="function")X=function(){S(re)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ve=z.port2;z.port1.onmessage=re,X=function(){ve.postMessage(null)}}else X=function(){E(re,0)};function ye(B){N=B,D||(D=!0,X())}function te(B,W){O=E(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ye(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var M=f;f=W;try{return B()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var M=f;f=B;try{return W()}finally{f=M}},t.unstable_scheduleCallback=function(B,W,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=M+ie,B={id:m++,callback:W,priorityLevel:B,startTime:M,expirationTime:ie,sortIndex:-1},M>Z?(B.sortIndex=M,e(d,B),n(h)===null&&B===n(d)&&(b?(x(O),O=-1):b=!0,te(C,M-Z))):(B.sortIndex=ie,e(h,B),v||g||(v=!0,ye(P))),B},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(B){var W=f;return function(){var M=f;f=W;try{return B.apply(this,arguments)}finally{f=M}}}})(Db);(function(t){t.exports=Db})(rN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=V,In=jm;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bb=new Set,Ll={};function no(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(Ll[t]=e,t=0;t<e.length;t++)Bb.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,iN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y1={},x1={};function sN(t){return Wm.call(x1,t)?!0:Wm.call(y1,t)?!1:iN.test(t)?x1[t]=!0:(y1[t]=!0,!1)}function oN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aN(t,e,n,r){if(e===null||typeof e>"u"||oN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function s0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i0,s0);jt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i0,s0);jt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i0,s0);jt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function o0(t,e,n,r){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aN(e,n,i,r)&&(n=null),r||i===null?sN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Fb=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),u0=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),Ub=Symbol.for("react.offscreen"),w1=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=w1&&t[w1]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Ap;function al(t){if(Ap===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ap=e&&e[1]||""}return`
`+Ap+t}var Pp=!1;function Ip(t,e){if(!t||Pp)return"";Pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{Pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function lN(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=Ip(t.type,!1),t;case 11:return t=Ip(t.type.render,!1),t;case 1:return t=Ip(t.type,!0),t;default:return""}}function Qm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Oo:return"Portal";case Vm:return"Profiler";case a0:return"StrictMode";case Xm:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fb:return(t.displayName||"Context")+".Consumer";case Lb:return(t._context.displayName||"Context")+".Provider";case l0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u0:return e=t.displayName||null,e!==null?e:Qm(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return Qm(t(e))}catch{}}return null}function uN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qm(e);case 8:return e===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cN(t){var e=zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cc(t){t._valueTracker||(t._valueTracker=cN(t))}function Hb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gb(t,e){e=e.checked,e!=null&&o0(t,"checked",e,!1)}function qm(t,e){Gb(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zm(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zm(t,e,n){(e!=="number"||Ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ll(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function $b(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ac,Wb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hN=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){hN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function Vb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function Xb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dN=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(t,e){if(e){if(dN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=null;function c0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ig=null,ea=null,ta=null;function C1(t){if(t=lu(t)){if(typeof ig!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Sd(e),ig(t.stateNode,t.type,e))}}function Yb(t){ea?ta?ta.push(t):ta=[t]:ea=t}function Qb(){if(ea){var t=ea,e=ta;if(ta=ea=null,C1(t),e)for(t=0;t<e.length;t++)C1(e[t])}}function Kb(t,e){return t(e)}function qb(){}var Rp=!1;function Zb(t,e,n){if(Rp)return t(e,n);Rp=!0;try{return Kb(t,e,n)}finally{Rp=!1,(ea!==null||ta!==null)&&(qb(),Qb())}}function Ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var sg=!1;if(wi)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{sg=!1}function fN(t,e,n,r,i,s,o,u,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(m){this.onError(m)}}var gl=!1,Ih=null,Rh=!1,og=null,pN={onError:function(t){gl=!0,Ih=t}};function mN(t,e,n,r,i,s,o,u,h){gl=!1,Ih=null,fN.apply(pN,arguments)}function gN(t,e,n,r,i,s,o,u,h){if(mN.apply(this,arguments),gl){if(gl){var d=Ih;gl=!1,Ih=null}else throw Error(q(198));Rh||(Rh=!0,og=d)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A1(t){if(ro(t)!==t)throw Error(q(188))}function _N(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return A1(i),t;if(s===r)return A1(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function eS(t){return t=_N(t),t!==null?tS(t):null}function tS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tS(t);if(e!==null)return e;t=t.sibling}return null}var nS=In.unstable_scheduleCallback,P1=In.unstable_cancelCallback,vN=In.unstable_shouldYield,yN=In.unstable_requestPaint,vt=In.unstable_now,xN=In.unstable_getCurrentPriorityLevel,h0=In.unstable_ImmediatePriority,rS=In.unstable_UserBlockingPriority,kh=In.unstable_NormalPriority,wN=In.unstable_LowPriority,iS=In.unstable_IdlePriority,yd=null,Yr=null;function bN(t){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:EN,SN=Math.log,TN=Math.LN2;function EN(t){return t>>>=0,t===0?32:31-(SN(t)/TN|0)|0}var Pc=64,Ic=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=ul(u):(s&=o,s!==0&&(r=ul(s)))}else o=n&~i,o!==0?r=ul(o):s!==0&&(r=ul(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-br(e),i=1<<n,r|=t[n],e&=~i;return r}function CN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-br(s),u=1<<o,h=i[o];h===-1?(!(u&n)||u&r)&&(i[o]=CN(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function ag(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sS(){var t=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),t}function kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-br(e),t[e]=n}function PN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-br(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function d0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function oS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aS,f0,lS,uS,cS,lg=!1,Rc=[],Zi=null,Ji=null,es=null,zl=new Map,Hl=new Map,Wi=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lu(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RN(t,e,n,r,i){switch(e){case"focusin":return Zi=Ka(Zi,t,e,n,r,i),!0;case"dragenter":return Ji=Ka(Ji,t,e,n,r,i),!0;case"mouseover":return es=Ka(es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zl.set(s,Ka(zl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hl.set(s,Ka(Hl.get(s)||null,t,e,n,r,i)),!0}return!1}function hS(t){var e=zs(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=Jb(n),e!==null){t.blockedOn=e,cS(t.priority,function(){lS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rg=r,n.target.dispatchEvent(r),rg=null}else return e=lu(n),e!==null&&f0(e),t.blockedOn=n,!1;e.shift()}return!0}function R1(t,e,n){qc(t)&&n.delete(e)}function kN(){lg=!1,Zi!==null&&qc(Zi)&&(Zi=null),Ji!==null&&qc(Ji)&&(Ji=null),es!==null&&qc(es)&&(es=null),zl.forEach(R1),Hl.forEach(R1)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,lg||(lg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,kN)))}function Gl(t){function e(i){return qa(i,t)}if(0<Rc.length){qa(Rc[0],t);for(var n=1;n<Rc.length;n++){var r=Rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&qa(Zi,t),Ji!==null&&qa(Ji,t),es!==null&&qa(es,t),zl.forEach(e),Hl.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)hS(n),n.blockedOn===null&&Wi.shift()}var na=Ai.ReactCurrentBatchConfig,Nh=!0;function MN(t,e,n,r){var i=ze,s=na.transition;na.transition=null;try{ze=1,p0(t,e,n,r)}finally{ze=i,na.transition=s}}function NN(t,e,n,r){var i=ze,s=na.transition;na.transition=null;try{ze=4,p0(t,e,n,r)}finally{ze=i,na.transition=s}}function p0(t,e,n,r){if(Nh){var i=ug(t,e,n,r);if(i===null)Hp(t,e,r,Dh,n),I1(t,r);else if(RN(i,t,e,n,r))r.stopPropagation();else if(I1(t,r),e&4&&-1<IN.indexOf(t)){for(;i!==null;){var s=lu(i);if(s!==null&&aS(s),s=ug(t,e,n,r),s===null&&Hp(t,e,r,Dh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hp(t,e,r,null,n)}}var Dh=null;function ug(t,e,n,r){if(Dh=null,t=c0(r),t=zs(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dh=t,null}function dS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xN()){case h0:return 1;case rS:return 4;case kh:case wN:return 16;case iS:return 536870912;default:return 16}default:return 16}}var Yi=null,m0=null,Zc=null;function fS(){if(Zc)return Zc;var t,e=m0,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zc=i.slice(t,1<r?1-r:void 0)}function Jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function k1(){return!1}function kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:k1,this.isPropagationStopped=k1,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=kn(_a),au=ot({},_a,{view:0,detail:0}),DN=kn(au),Mp,Np,Za,xd=ot({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(Mp=t.screenX-Za.screenX,Np=t.screenY-Za.screenY):Np=Mp=0,Za=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:Np}}),M1=kn(xd),ON=ot({},xd,{dataTransfer:0}),BN=kn(ON),LN=ot({},au,{relatedTarget:0}),Dp=kn(LN),FN=ot({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),UN=kn(FN),zN=ot({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HN=kn(zN),GN=ot({},_a,{data:0}),N1=kn(GN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WN[t])?!!e[t]:!1}function _0(){return VN}var XN=ot({},au,{key:function(t){if(t.key){var e=$N[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?Jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YN=kn(XN),QN=ot({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=kn(QN),KN=ot({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),qN=kn(KN),ZN=ot({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=kn(ZN),e3=ot({},xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),t3=kn(e3),n3=[9,13,27,32],v0=wi&&"CompositionEvent"in window,_l=null;wi&&"documentMode"in document&&(_l=document.documentMode);var r3=wi&&"TextEvent"in window&&!_l,pS=wi&&(!v0||_l&&8<_l&&11>=_l),O1=String.fromCharCode(32),B1=!1;function mS(t,e){switch(t){case"keyup":return n3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function i3(t,e){switch(t){case"compositionend":return gS(e);case"keypress":return e.which!==32?null:(B1=!0,O1);case"textInput":return t=e.data,t===O1&&B1?null:t;default:return null}}function s3(t,e){if(Lo)return t==="compositionend"||!v0&&mS(t,e)?(t=fS(),Zc=m0=Yi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pS&&e.locale!=="ko"?null:e.data;default:return null}}var o3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o3[t.type]:e==="textarea"}function _S(t,e,n,r){Yb(r),e=Oh(e,"onChange"),0<e.length&&(n=new g0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,$l=null;function a3(t){PS(t,0)}function wd(t){var e=zo(t);if(Hb(e))return t}function l3(t,e){if(t==="change")return e}var vS=!1;if(wi){var Op;if(wi){var Bp="oninput"in document;if(!Bp){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),Bp=typeof F1.oninput=="function"}Op=Bp}else Op=!1;vS=Op&&(!document.documentMode||9<document.documentMode)}function U1(){vl&&(vl.detachEvent("onpropertychange",yS),$l=vl=null)}function yS(t){if(t.propertyName==="value"&&wd($l)){var e=[];_S(e,$l,t,c0(t)),Zb(a3,e)}}function u3(t,e,n){t==="focusin"?(U1(),vl=e,$l=n,vl.attachEvent("onpropertychange",yS)):t==="focusout"&&U1()}function c3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd($l)}function h3(t,e){if(t==="click")return wd(e)}function d3(t,e){if(t==="input"||t==="change")return wd(e)}function f3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:f3;function jl(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wm.call(e,i)||!Tr(t[i],e[i]))return!1}return!0}function z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H1(t,e){var n=z1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z1(n)}}function xS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wS(){for(var t=window,e=Ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ph(t.document)}return e}function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p3(t){var e=wS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xS(n.ownerDocument.documentElement,n)){if(r!==null&&y0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=H1(n,s);var o=H1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m3=wi&&"documentMode"in document&&11>=document.documentMode,Fo=null,cg=null,yl=null,hg=!1;function G1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||Fo==null||Fo!==Ph(r)||(r=Fo,"selectionStart"in r&&y0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&jl(yl,r)||(yl=r,r=Oh(cg,"onSelect"),0<r.length&&(e=new g0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Lp={},bS={};wi&&(bS=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function bd(t){if(Lp[t])return Lp[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bS)return Lp[t]=e[n];return t}var SS=bd("animationend"),TS=bd("animationiteration"),ES=bd("animationstart"),CS=bd("transitionend"),AS=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(t,e){AS.set(t,e),no(e,[t])}for(var Fp=0;Fp<$1.length;Fp++){var Up=$1[Fp],g3=Up.toLowerCase(),_3=Up[0].toUpperCase()+Up.slice(1);ms(g3,"on"+_3)}ms(SS,"onAnimationEnd");ms(TS,"onAnimationIteration");ms(ES,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(CS,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function j1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gN(r,e,void 0,t),t.currentTarget=null}function PS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],h=u.instance,d=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;j1(i,u,d),s=h}else for(o=0;o<r.length;o++){if(u=r[o],h=u.instance,d=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;j1(i,u,d),s=h}}}if(Rh)throw t=og,Rh=!1,og=null,t}function Ve(t,e){var n=e[gg];n===void 0&&(n=e[gg]=new Set);var r=t+"__bubble";n.has(r)||(IS(e,t,2,!1),n.add(r))}function zp(t,e,n){var r=0;e&&(r|=4),IS(n,t,r,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Wl(t){if(!t[Nc]){t[Nc]=!0,Bb.forEach(function(n){n!=="selectionchange"&&(v3.has(n)||zp(n,!1,t),zp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,zp("selectionchange",!1,e))}}function IS(t,e,n,r){switch(dS(e)){case 1:var i=MN;break;case 4:i=NN;break;default:i=p0}n=i.bind(null,e,n,t),i=void 0,!sg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=zs(u),o===null)return;if(h=o.tag,h===5||h===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Zb(function(){var d=s,m=c0(n),c=[];e:{var f=AS.get(t);if(f!==void 0){var g=g0,v=t;switch(t){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":g=YN;break;case"focusin":v="focus",g=Dp;break;case"focusout":v="blur",g=Dp;break;case"beforeblur":case"afterblur":g=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=BN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qN;break;case SS:case TS:case ES:g=UN;break;case CS:g=JN;break;case"scroll":g=DN;break;case"wheel":g=t3;break;case"copy":case"cut":case"paste":g=HN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=D1}var b=(e&4)!==0,E=!b&&t==="scroll",x=b?f!==null?f+"Capture":null:f;b=[];for(var S=d,T;S!==null;){T=S;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,x!==null&&(C=Ul(S,x),C!=null&&b.push(Vl(S,C,T)))),E)break;S=S.return}0<b.length&&(f=new g(f,v,null,n,m),c.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==rg&&(v=n.relatedTarget||n.fromElement)&&(zs(v)||v[bi]))break e;if((g||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?zs(v):null,v!==null&&(E=ro(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(b=M1,C="onMouseLeave",x="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=D1,C="onPointerLeave",x="onPointerEnter",S="pointer"),E=g==null?f:zo(g),T=v==null?f:zo(v),f=new b(C,S+"leave",g,n,m),f.target=E,f.relatedTarget=T,C=null,zs(m)===d&&(b=new b(x,S+"enter",v,n,m),b.target=T,b.relatedTarget=E,C=b),E=C,g&&v)t:{for(b=g,x=v,S=0,T=b;T;T=To(T))S++;for(T=0,C=x;C;C=To(C))T++;for(;0<S-T;)b=To(b),S--;for(;0<T-S;)x=To(x),T--;for(;S--;){if(b===x||x!==null&&b===x.alternate)break t;b=To(b),x=To(x)}b=null}else b=null;g!==null&&W1(c,f,g,b,!1),v!==null&&E!==null&&W1(c,E,v,b,!0)}}e:{if(f=d?zo(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=l3;else if(L1(f))if(vS)P=d3;else{P=c3;var D=u3}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=h3);if(P&&(P=P(t,d))){_S(c,P,n,m);break e}D&&D(t,f,d),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Zm(f,"number",f.value)}switch(D=d?zo(d):window,t){case"focusin":(L1(D)||D.contentEditable==="true")&&(Fo=D,cg=d,yl=null);break;case"focusout":yl=cg=Fo=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,G1(c,n,m);break;case"selectionchange":if(m3)break;case"keydown":case"keyup":G1(c,n,m)}var N;if(v0)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Lo?mS(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(pS&&n.locale!=="ko"&&(Lo||O!=="onCompositionStart"?O==="onCompositionEnd"&&Lo&&(N=fS()):(Yi=m,m0="value"in Yi?Yi.value:Yi.textContent,Lo=!0)),D=Oh(d,O),0<D.length&&(O=new N1(O,t,null,n,m),c.push({event:O,listeners:D}),N?O.data=N:(N=gS(n),N!==null&&(O.data=N)))),(N=r3?i3(t,n):s3(t,n))&&(d=Oh(d,"onBeforeInput"),0<d.length&&(m=new N1("onBeforeInput","beforeinput",null,n,m),c.push({event:m,listeners:d}),m.data=N))}PS(c,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ul(t,n),s!=null&&r.unshift(Vl(t,s,i)),s=Ul(t,e),s!=null&&r.push(Vl(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,h=u.alternate,d=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&d!==null&&(u=d,i?(h=Ul(n,s),h!=null&&o.unshift(Vl(n,h,u))):i||(h=Ul(n,s),h!=null&&o.push(Vl(n,h,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function V1(t){return(typeof t=="string"?t:""+t).replace(y3,`
`).replace(x3,"")}function Dc(t,e,n){if(e=V1(e),V1(t)!==e&&n)throw Error(q(425))}function Bh(){}var dg=null,fg=null;function pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,X1=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof X1<"u"?function(t){return X1.resolve(null).then(t).catch(S3)}:mg;function S3(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),jr="__reactFiber$"+va,Xl="__reactProps$"+va,bi="__reactContainer$"+va,gg="__reactEvents$"+va,T3="__reactListeners$"+va,E3="__reactHandles$"+va;function zs(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y1(t);t!==null;){if(n=t[jr])return n;t=Y1(t)}return e}t=n,n=t.parentNode}return null}function lu(t){return t=t[jr]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Sd(t){return t[Xl]||null}var _g=[],Ho=-1;function gs(t){return{current:t}}function Xe(t){0>Ho||(t.current=_g[Ho],_g[Ho]=null,Ho--)}function je(t,e){Ho++,_g[Ho]=t.current,t.current=e}var fs={},Jt=gs(fs),mn=gs(!1),Ks=fs;function ua(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function Lh(){Xe(mn),Xe(Jt)}function Q1(t,e,n){if(Jt.current!==fs)throw Error(q(168));je(Jt,e),je(mn,n)}function RS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,uN(t)||"Unknown",i));return ot({},n,r)}function Fh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,Ks=Jt.current,je(Jt,t),je(mn,mn.current),!0}function K1(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=RS(t,e,Ks),r.__reactInternalMemoizedMergedChildContext=t,Xe(mn),Xe(Jt),je(Jt,t)):Xe(mn),je(mn,n)}var hi=null,Td=!1,$p=!1;function kS(t){hi===null?hi=[t]:hi.push(t)}function C3(t){Td=!0,kS(t)}function _s(){if(!$p&&hi!==null){$p=!0;var t=0,e=ze;try{var n=hi;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,Td=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),nS(h0,_s),i}finally{ze=e,$p=!1}}return null}var Go=[],$o=0,Uh=null,zh=0,Gn=[],$n=0,qs=null,pi=1,mi="";function Bs(t,e){Go[$o++]=zh,Go[$o++]=Uh,Uh=t,zh=e}function MS(t,e,n){Gn[$n++]=pi,Gn[$n++]=mi,Gn[$n++]=qs,qs=t;var r=pi;t=mi;var i=32-br(r)-1;r&=~(1<<i),n+=1;var s=32-br(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pi=1<<32-br(e)+i|n<<i|r,mi=s+t}else pi=1<<s|n<<i|r,mi=t}function x0(t){t.return!==null&&(Bs(t,1),MS(t,1,0))}function w0(t){for(;t===Uh;)Uh=Go[--$o],Go[$o]=null,zh=Go[--$o],Go[$o]=null;for(;t===qs;)qs=Gn[--$n],Gn[$n]=null,mi=Gn[--$n],Gn[$n]=null,pi=Gn[--$n],Gn[$n]=null}var Pn=null,Cn=null,Ze=!1,pr=null;function NS(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qs!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,Cn=null,!0):!1;default:return!1}}function vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yg(t){if(Ze){var e=Cn;if(e){var n=e;if(!q1(t,e)){if(vg(t))throw Error(q(418));e=ts(n.nextSibling);var r=Pn;e&&q1(t,e)?NS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Pn=t)}}else{if(vg(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ze=!1,Pn=t}}}function Z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Oc(t){if(t!==Pn)return!1;if(!Ze)return Z1(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pg(t.type,t.memoizedProps)),e&&(e=Cn)){if(vg(t))throw DS(),Error(q(418));for(;e;)NS(t,e),e=ts(e.nextSibling)}if(Z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Pn?ts(t.stateNode.nextSibling):null;return!0}function DS(){for(var t=Cn;t;)t=ts(t.nextSibling)}function ca(){Cn=Pn=null,Ze=!1}function b0(t){pr===null?pr=[t]:pr.push(t)}var A3=Ai.ReactCurrentBatchConfig;function cr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hh=gs(null),Gh=null,jo=null,S0=null;function T0(){S0=jo=Gh=null}function E0(t){var e=Hh.current;Xe(Hh),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){Gh=t,S0=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(Gh===null)throw Error(q(308));jo=t,Gh.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var Hs=null;function C0(t){Hs===null?Hs=[t]:Hs.push(t)}function OS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,C0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,C0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function eh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}function J1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $h(t,e,n,r){var i=t.updateQueue;Gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,d=h.next;h.next=null,o===null?s=d:o.next=d,o=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=h))}if(s!==null){var c=i.baseState;o=0,m=d=h=null,u=s;do{var f=u.lane,g=u.eventTime;if((r&f)===f){m!==null&&(m=m.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=t,b=u;switch(f=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(g,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(g,c,f):v,f==null)break e;c=ot({},c,f);break e;case 2:Gi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[u]:f.push(u))}else g={eventTime:g,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=g,h=c):m=m.next=g,o|=f;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;f=u,u=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(m===null&&(h=c),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=c}}function ex(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var LS=new Ob.Component().refs;function wg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=is(t),s=yi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(Sr(e,t,i,r),eh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=is(t),s=yi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(Sr(e,t,i,r),eh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=is(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,r),e!==null&&(Sr(e,t,r,n),eh(e,t,r))}};function tx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(i,s):!0}function FS(t,e,n){var r=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=gn(e)?Ks:Jt.current,r=e.contextTypes,s=(r=r!=null)?ua(t,i):fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=LS,A0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=gn(e)?Ks:Jt.current,i.context=ua(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ed.enqueueReplaceState(i,i.state,null),$h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===LS&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Bc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rx(t){var e=t._init;return e(t._payload)}function US(t){function e(x,S){if(t){var T=x.deletions;T===null?(x.deletions=[S],x.flags|=16):T.push(S)}}function n(x,S){if(!t)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=ss(x,S),x.index=0,x.sibling=null,x}function s(x,S,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<S?(x.flags|=2,S):T):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,S,T,C){return S===null||S.tag!==6?(S=Kp(T,x.mode,C),S.return=x,S):(S=i(S,T),S.return=x,S)}function h(x,S,T,C){var P=T.type;return P===Bo?m(x,S,T.props.children,C,T.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hi&&rx(P)===S.type)?(C=i(S,T.props),C.ref=Ja(x,S,T),C.return=x,C):(C=oh(T.type,T.key,T.props,null,x.mode,C),C.ref=Ja(x,S,T),C.return=x,C)}function d(x,S,T,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=qp(T,x.mode,C),S.return=x,S):(S=i(S,T.children||[]),S.return=x,S)}function m(x,S,T,C,P){return S===null||S.tag!==7?(S=Vs(T,x.mode,C,P),S.return=x,S):(S=i(S,T),S.return=x,S)}function c(x,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Kp(""+S,x.mode,T),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ec:return T=oh(S.type,S.key,S.props,null,x.mode,T),T.ref=Ja(x,null,S),T.return=x,T;case Oo:return S=qp(S,x.mode,T),S.return=x,S;case Hi:var C=S._init;return c(x,C(S._payload),T)}if(ll(S)||Ya(S))return S=Vs(S,x.mode,T,null),S.return=x,S;Bc(x,S)}return null}function f(x,S,T,C){var P=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:u(x,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ec:return T.key===P?h(x,S,T,C):null;case Oo:return T.key===P?d(x,S,T,C):null;case Hi:return P=T._init,f(x,S,P(T._payload),C)}if(ll(T)||Ya(T))return P!==null?null:m(x,S,T,C,null);Bc(x,T)}return null}function g(x,S,T,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(T)||null,u(S,x,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ec:return x=x.get(C.key===null?T:C.key)||null,h(S,x,C,P);case Oo:return x=x.get(C.key===null?T:C.key)||null,d(S,x,C,P);case Hi:var D=C._init;return g(x,S,T,D(C._payload),P)}if(ll(C)||Ya(C))return x=x.get(T)||null,m(S,x,C,P,null);Bc(S,C)}return null}function v(x,S,T,C){for(var P=null,D=null,N=S,O=S=0,H=null;N!==null&&O<T.length;O++){N.index>O?(H=N,N=null):H=N.sibling;var Y=f(x,N,T[O],C);if(Y===null){N===null&&(N=H);break}t&&N&&Y.alternate===null&&e(x,N),S=s(Y,S,O),D===null?P=Y:D.sibling=Y,D=Y,N=H}if(O===T.length)return n(x,N),Ze&&Bs(x,O),P;if(N===null){for(;O<T.length;O++)N=c(x,T[O],C),N!==null&&(S=s(N,S,O),D===null?P=N:D.sibling=N,D=N);return Ze&&Bs(x,O),P}for(N=r(x,N);O<T.length;O++)H=g(N,x,O,T[O],C),H!==null&&(t&&H.alternate!==null&&N.delete(H.key===null?O:H.key),S=s(H,S,O),D===null?P=H:D.sibling=H,D=H);return t&&N.forEach(function(Q){return e(x,Q)}),Ze&&Bs(x,O),P}function b(x,S,T,C){var P=Ya(T);if(typeof P!="function")throw Error(q(150));if(T=P.call(T),T==null)throw Error(q(151));for(var D=P=null,N=S,O=S=0,H=null,Y=T.next();N!==null&&!Y.done;O++,Y=T.next()){N.index>O?(H=N,N=null):H=N.sibling;var Q=f(x,N,Y.value,C);if(Q===null){N===null&&(N=H);break}t&&N&&Q.alternate===null&&e(x,N),S=s(Q,S,O),D===null?P=Q:D.sibling=Q,D=Q,N=H}if(Y.done)return n(x,N),Ze&&Bs(x,O),P;if(N===null){for(;!Y.done;O++,Y=T.next())Y=c(x,Y.value,C),Y!==null&&(S=s(Y,S,O),D===null?P=Y:D.sibling=Y,D=Y);return Ze&&Bs(x,O),P}for(N=r(x,N);!Y.done;O++,Y=T.next())Y=g(N,x,O,Y.value,C),Y!==null&&(t&&Y.alternate!==null&&N.delete(Y.key===null?O:Y.key),S=s(Y,S,O),D===null?P=Y:D.sibling=Y,D=Y);return t&&N.forEach(function(re){return e(x,re)}),Ze&&Bs(x,O),P}function E(x,S,T,C){if(typeof T=="object"&&T!==null&&T.type===Bo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ec:e:{for(var P=T.key,D=S;D!==null;){if(D.key===P){if(P=T.type,P===Bo){if(D.tag===7){n(x,D.sibling),S=i(D,T.props.children),S.return=x,x=S;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hi&&rx(P)===D.type){n(x,D.sibling),S=i(D,T.props),S.ref=Ja(x,D,T),S.return=x,x=S;break e}n(x,D);break}else e(x,D);D=D.sibling}T.type===Bo?(S=Vs(T.props.children,x.mode,C,T.key),S.return=x,x=S):(C=oh(T.type,T.key,T.props,null,x.mode,C),C.ref=Ja(x,S,T),C.return=x,x=C)}return o(x);case Oo:e:{for(D=T.key;S!==null;){if(S.key===D)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){n(x,S.sibling),S=i(S,T.children||[]),S.return=x,x=S;break e}else{n(x,S);break}else e(x,S);S=S.sibling}S=qp(T,x.mode,C),S.return=x,x=S}return o(x);case Hi:return D=T._init,E(x,S,D(T._payload),C)}if(ll(T))return v(x,S,T,C);if(Ya(T))return b(x,S,T,C);Bc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(n(x,S.sibling),S=i(S,T),S.return=x,x=S):(n(x,S),S=Kp(T,x.mode,C),S.return=x,x=S),o(x)):n(x,S)}return E}var ha=US(!0),zS=US(!1),uu={},Qr=gs(uu),Yl=gs(uu),Ql=gs(uu);function Gs(t){if(t===uu)throw Error(q(174));return t}function P0(t,e){switch(je(Ql,e),je(Yl,t),je(Qr,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eg(e,t)}Xe(Qr),je(Qr,e)}function da(){Xe(Qr),Xe(Yl),Xe(Ql)}function HS(t){Gs(Ql.current);var e=Gs(Qr.current),n=eg(e,t.type);e!==n&&(je(Yl,t),je(Qr,n))}function I0(t){Yl.current===t&&(Xe(Qr),Xe(Yl))}var rt=gs(0);function jh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jp=[];function R0(){for(var t=0;t<jp.length;t++)jp[t]._workInProgressVersionPrimary=null;jp.length=0}var th=Ai.ReactCurrentDispatcher,Wp=Ai.ReactCurrentBatchConfig,Zs=0,st=null,Tt=null,Dt=null,Wh=!1,xl=!1,Kl=0,P3=0;function Qt(){throw Error(q(321))}function k0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function M0(t,e,n,r,i,s){if(Zs=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,th.current=t===null||t.memoizedState===null?M3:N3,t=n(r,i),xl){s=0;do{if(xl=!1,Kl=0,25<=s)throw Error(q(301));s+=1,Dt=Tt=null,e.updateQueue=null,th.current=D3,t=n(r,i)}while(xl)}if(th.current=Vh,e=Tt!==null&&Tt.next!==null,Zs=0,Dt=Tt=st=null,Wh=!1,e)throw Error(q(300));return t}function N0(){var t=Kl!==0;return Kl=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Kn(){if(Tt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Dt===null?st.memoizedState:Dt.next;if(e!==null)Dt=e,Tt=t;else{if(t===null)throw Error(q(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function ql(t,e){return typeof e=="function"?e(t):e}function Vp(t){var e=Kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,h=null,d=s;do{var m=d.lane;if((Zs&m)===m)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var c={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(u=h=c,o=r):h=h.next=c,st.lanes|=m,Js|=m}d=d.next}while(d!==null&&d!==s);h===null?o=r:h.next=u,Tr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=Kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function $S(t,e){var n=st,r=Kn(),i=e(),s=!Tr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,D0(VS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,WS.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(q(349));Zs&30||jS(n,e,i)}return i}function jS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WS(t,e,n,r){e.value=n,e.getSnapshot=r,XS(e)&&YS(t)}function VS(t,e,n){return n(function(){XS(e)&&YS(t)})}function XS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function YS(t){var e=Si(t,1);e!==null&&Sr(e,t,1,-1)}function ix(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:t},e.queue=t,t=t.dispatch=k3.bind(null,st,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function QS(){return Kn().memoizedState}function nh(t,e,n,r){var i=zr();st.flags|=t,i.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function Cd(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var o=Tt.memoizedState;if(s=o.destroy,r!==null&&k0(r,o.deps)){i.memoizedState=Zl(e,n,s,r);return}}st.flags|=t,i.memoizedState=Zl(1|e,n,s,r)}function sx(t,e){return nh(8390656,8,t,e)}function D0(t,e){return Cd(2048,8,t,e)}function KS(t,e){return Cd(4,2,t,e)}function qS(t,e){return Cd(4,4,t,e)}function ZS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JS(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4,4,ZS.bind(null,e,t),n)}function O0(){}function eT(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tT(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nT(t,e,n){return Zs&21?(Tr(n,e)||(n=sS(),st.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function I3(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Wp.transition;Wp.transition={};try{t(!1),e()}finally{ze=n,Wp.transition=r}}function rT(){return Kn().memoizedState}function R3(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iT(t))sT(e,n);else if(n=OS(t,e,n,r),n!==null){var i=sn();Sr(n,t,r,i),oT(n,e,r)}}function k3(t,e,n){var r=is(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iT(t))sT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Tr(u,o)){var h=e.interleaved;h===null?(i.next=i,C0(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=OS(t,e,i,r),n!==null&&(i=sn(),Sr(n,t,r,i),oT(n,e,r))}}function iT(t){var e=t.alternate;return t===st||e!==null&&e===st}function sT(t,e){xl=Wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}var Vh={readContext:Qn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},M3={readContext:Qn,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nh(4194308,4,ZS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return nh(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R3.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:ix,useDebugValue:O0,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=ix(!1),e=t[0];return t=I3.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=zr();if(Ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ot===null)throw Error(q(349));Zs&30||jS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sx(VS.bind(null,r,s,t),[t]),r.flags|=2048,Zl(9,WS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=Ot.identifierPrefix;if(Ze){var n=mi,r=pi;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N3={readContext:Qn,useCallback:eT,useContext:Qn,useEffect:D0,useImperativeHandle:JS,useInsertionEffect:KS,useLayoutEffect:qS,useMemo:tT,useReducer:Vp,useRef:QS,useState:function(){return Vp(ql)},useDebugValue:O0,useDeferredValue:function(t){var e=Kn();return nT(e,Tt.memoizedState,t)},useTransition:function(){var t=Vp(ql)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:$S,useId:rT,unstable_isNewReconciler:!1},D3={readContext:Qn,useCallback:eT,useContext:Qn,useEffect:D0,useImperativeHandle:JS,useInsertionEffect:KS,useLayoutEffect:qS,useMemo:tT,useReducer:Xp,useRef:QS,useState:function(){return Xp(ql)},useDebugValue:O0,useDeferredValue:function(t){var e=Kn();return Tt===null?e.memoizedState=t:nT(e,Tt.memoizedState,t)},useTransition:function(){var t=Xp(ql)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:$S,useId:rT,unstable_isNewReconciler:!1};function fa(t,e){try{var n="",r=e;do n+=lN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var O3=typeof WeakMap=="function"?WeakMap:Map;function aT(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yh||(Yh=!0,Ng=r),Sg(t,e)},n}function lT(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sg(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ox(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Q3.bind(null,t,e,n),e.then(t,t))}function ax(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var B3=Ai.ReactCurrentOwner,pn=!1;function rn(t,e,n,r){e.child=t===null?zS(e,null,n,r):ha(e,t.child,n,r)}function ux(t,e,n,r,i){n=n.render;var s=e.ref;return ra(e,i),r=M0(t,e,n,r,s,i),n=N0(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(Ze&&n&&x0(e),e.flags|=1,rn(t,e,r,i),e.child)}function cx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uT(t,e,s,r,i)):(t=oh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function uT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jl(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return Tg(t,e,n,r,i)}function cT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Vo,En),En|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Vo,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(Vo,En),En|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(Vo,En),En|=r;return rn(t,e,i,n),e.child}function hT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tg(t,e,n,r,i){var s=gn(n)?Ks:Jt.current;return s=ua(e,s),ra(e,i),n=M0(t,e,n,r,s,i),r=N0(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(Ze&&r&&x0(e),e.flags|=1,rn(t,e,n,i),e.child)}function hx(t,e,n,r,i){if(gn(n)){var s=!0;Fh(e)}else s=!1;if(ra(e,i),e.stateNode===null)rh(t,e),FS(e,n,r),bg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Qn(d):(d=gn(n)?Ks:Jt.current,d=ua(e,d));var m=n.getDerivedStateFromProps,c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||h!==d)&&nx(e,o,r,d),Gi=!1;var f=e.memoizedState;o.state=f,$h(e,r,o,i),h=e.memoizedState,u!==r||f!==h||mn.current||Gi?(typeof m=="function"&&(wg(e,n,m,r),h=e.memoizedState),(u=Gi||tx(e,n,u,r,f,h,d))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BS(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:cr(e.type,u),o.props=d,c=e.pendingProps,f=o.context,h=n.contextType,typeof h=="object"&&h!==null?h=Qn(h):(h=gn(n)?Ks:Jt.current,h=ua(e,h));var g=n.getDerivedStateFromProps;(m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==c||f!==h)&&nx(e,o,r,h),Gi=!1,f=e.memoizedState,o.state=f,$h(e,r,o,i);var v=e.memoizedState;u!==c||f!==v||mn.current||Gi?(typeof g=="function"&&(wg(e,n,g,r),v=e.memoizedState),(d=Gi||tx(e,n,d,r,f,v,h)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=h,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,s,i)}function Eg(t,e,n,r,i,s){hT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K1(e,n,!1),Ti(t,e,s);r=e.stateNode,B3.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,s),e.child=ha(e,null,u,s)):rn(t,e,u,s),e.memoizedState=r.state,i&&K1(e,n,!0),e.child}function dT(t){var e=t.stateNode;e.pendingContext?Q1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q1(t,e.context,!1),P0(t,e.containerInfo)}function dx(t,e,n,r,i){return ca(),b0(i),e.flags|=256,rn(t,e,n,r),e.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Ag(t){return{baseLanes:t,cachePool:null,transitions:null}}function fT(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(rt,i&1),t===null)return yg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Id(o,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ag(n),e.memoizedState=Cg,t):B0(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return L3(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=ss(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ss(u,s):(s=Vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cg,r}return s=t.child,t=s.sibling,r=ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function B0(t,e){return e=Id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,r){return r!==null&&b0(r),ha(e,t.child,null,n),t=B0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L3(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yp(Error(q(422))),Lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Id({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=Ag(o),e.memoizedState=Cg,s);if(!(e.mode&1))return Lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(q(419)),r=Yp(s,r,void 0),Lc(t,e,o,r)}if(u=(o&t.childLanes)!==0,pn||u){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),Sr(r,t,i,-1))}return G0(),r=Yp(Error(q(421))),Lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=ts(i.nextSibling),Pn=e,Ze=!0,pr=null,t!==null&&(Gn[$n++]=pi,Gn[$n++]=mi,Gn[$n++]=qs,pi=t.id,mi=t.overflow,qs=e),e=B0(e,r.children),e.flags|=4096,e)}function fx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xg(t.return,e,n)}function Qp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fx(t,n,e);else if(t.tag===19)fx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qp(e,!0,n,null,s);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F3(t,e,n){switch(e.tag){case 3:dT(e),ca();break;case 5:HS(e);break;case 1:gn(e.type)&&Fh(e);break;case 4:P0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?fT(t,e,n):(je(rt,rt.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);je(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,cT(t,e,n)}return Ti(t,e,n)}var mT,Pg,gT,_T;mT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pg=function(){};gT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gs(Qr.current);var s=null;switch(n){case"input":i=Km(t,i),r=Km(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=Jm(t,i),r=Jm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bh)}tg(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ll.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var h=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&h!==u&&(h!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(n||(n={}),n[o]=h[o])}else n||(s||(s=[]),s.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Ve("scroll",t),s||u===h||(s=[])):(s=s||[]).push(d,h))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};_T=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U3(t,e,n){var r=e.pendingProps;switch(w0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return gn(e.type)&&Lh(),Kt(e),null;case 3:return r=e.stateNode,da(),Xe(mn),Xe(Jt),R0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Bg(pr),pr=null))),Pg(t,e),Kt(e),null;case 5:I0(e);var i=Gs(Ql.current);if(n=e.type,t!==null&&e.stateNode!=null)gT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Kt(e),null}if(t=Gs(Qr.current),Oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jr]=e,r[Xl]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)Ve(cl[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":b1(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":T1(r,s),Ve("invalid",r)}tg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Dc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Dc(r.textContent,u,t),i=["children",""+u]):Ll.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Cc(r),S1(r,s,!0);break;case"textarea":Cc(r),E1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jr]=e,t[Xl]=r,mT(t,e,!1,!1),e.stateNode=t;e:{switch(o=ng(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)Ve(cl[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":b1(t,r),i=Km(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":T1(t,r),i=Jm(t,r),Ve("invalid",t);break;default:i=r}tg(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?Xb(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Wb(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Fl(t,h):typeof h=="number"&&Fl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ll.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ve("scroll",t):h!=null&&o0(t,s,h,o))}switch(n){case"input":Cc(t),S1(t,r,!1);break;case"textarea":Cc(t),E1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)_T(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Gs(Ql.current),Gs(Qr.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(s=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:Dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Cn!==null&&e.mode&1&&!(e.flags&128))DS(),ca(),e.flags|=98560,s=!1;else if(s=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[jr]=e}else ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else pr!==null&&(Bg(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Et===0&&(Et=3):G0())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return da(),Pg(t,e),t===null&&Wl(e.stateNode.containerInfo),Kt(e),null;case 10:return E0(e.type._context),Kt(e),null;case 17:return gn(e.type)&&Lh(),Kt(e),null;case 19:if(Xe(rt),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jh(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>pa&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=jh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Kt(e),null}else 2*vt()-s.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=rt.current,je(rt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return H0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function z3(t,e){switch(w0(e),e.tag){case 1:return gn(e.type)&&Lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return da(),Xe(mn),Xe(Jt),R0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return I0(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return da(),null;case 10:return E0(e.type._context),null;case 22:case 23:return H0(),null;case 24:return null;default:return null}}var Fc=!1,qt=!1,H3=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Ig(t,e,n){try{n()}catch(r){ct(t,e,r)}}var px=!1;function G3(t,e){if(dg=Nh,t=wS(),y0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,h=-1,d=0,m=0,c=t,f=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(u=o+i),c!==s||r!==0&&c.nodeType!==3||(h=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++d===i&&(u=o),f===s&&++m===r&&(h=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(fg={focusedElem:t,selectionRange:n},Nh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,E=v.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:cr(e.type,b),E);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){ct(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=px,px=!1,v}function wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ig(e,n,s)}i=i.next}while(i!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vT(t){var e=t.alternate;e!==null&&(t.alternate=null,vT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[Xl],delete e[gg],delete e[T3],delete e[E3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yT(t){return t.tag===5||t.tag===3||t.tag===4}function mx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bh));else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function Mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mg(t,e,n),t=t.sibling;t!==null;)Mg(t,e,n),t=t.sibling}var Ut=null,hr=!1;function zi(t,e,n){for(n=n.child;n!==null;)xT(t,e,n),n=n.sibling}function xT(t,e,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:qt||Wo(n,e);case 6:var r=Ut,i=hr;Ut=null,zi(t,e,n),Ut=r,hr=i,Ut!==null&&(hr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(hr?(t=Ut,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Gl(t)):Gp(Ut,n.stateNode));break;case 4:r=Ut,i=hr,Ut=n.stateNode.containerInfo,hr=!0,zi(t,e,n),Ut=r,hr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ig(n,e,o),i=i.next}while(i!==r)}zi(t,e,n);break;case 1:if(!qt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ct(n,e,u)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,zi(t,e,n),qt=r):zi(t,e,n);break;default:zi(t,e,n)}}function gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H3),e.forEach(function(r){var i=q3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ut=u.stateNode,hr=!1;break e;case 3:Ut=u.stateNode.containerInfo,hr=!0;break e;case 4:Ut=u.stateNode.containerInfo,hr=!0;break e}u=u.return}if(Ut===null)throw Error(q(160));xT(s,o,i),Ut=null,hr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){ct(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wT(e,t),e=e.sibling}function wT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Lr(t),r&4){try{wl(3,t,t.return),Ad(3,t)}catch(b){ct(t,t.return,b)}try{wl(5,t,t.return)}catch(b){ct(t,t.return,b)}}break;case 1:or(e,t),Lr(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(or(e,t),Lr(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var i=t.stateNode;try{Fl(i,"")}catch(b){ct(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Gb(i,s),ng(u,o);var d=ng(u,s);for(o=0;o<h.length;o+=2){var m=h[o],c=h[o+1];m==="style"?Xb(i,c):m==="dangerouslySetInnerHTML"?Wb(i,c):m==="children"?Fl(i,c):o0(i,m,c,d)}switch(u){case"input":qm(i,s);break;case"textarea":$b(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Jo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(b){ct(t,t.return,b)}}break;case 6:if(or(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ct(t,t.return,b)}}break;case 3:if(or(e,t),Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(b){ct(t,t.return,b)}break;case 4:or(e,t),Lr(t);break;case 13:or(e,t),Lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(U0=vt())),r&4&&gx(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(d=qt)||m,or(e,t),qt=d):or(e,t),Lr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(ue=t,m=t.child;m!==null;){for(c=ue=m;ue!==null;){switch(f=ue,g=f.child,f.tag){case 0:case 11:case 14:case 15:wl(4,f,f.return);break;case 1:Wo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){ct(r,n,b)}}break;case 5:Wo(f,f.return);break;case 22:if(f.memoizedState!==null){vx(c);continue}}g!==null?(g.return=f,ue=g):vx(c)}m=m.sibling}e:for(m=null,c=t;;){if(c.tag===5){if(m===null){m=c;try{i=c.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=c.stateNode,h=c.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Vb("display",o))}catch(b){ct(t,t.return,b)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(b){ct(t,t.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:or(e,t),Lr(t),r&4&&gx(t);break;case 21:break;default:or(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fl(i,""),r.flags&=-33);var s=mx(t);Mg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=mx(t);kg(t,u,o);break;default:throw Error(q(161))}}catch(h){ct(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $3(t,e,n){ue=t,bT(t)}function bT(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fc;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||qt;u=Fc;var d=qt;if(Fc=o,(qt=h)&&!d)for(ue=i;ue!==null;)o=ue,h=o.child,o.tag===22&&o.memoizedState!==null?yx(i):h!==null?(h.return=o,ue=h):yx(i);for(;s!==null;)ue=s,bT(s),s=s.sibling;ue=i,Fc=u,qt=d}_x(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):_x(t)}}function _x(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ex(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ex(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&Gl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}qt||e.flags&512&&Rg(e)}catch(f){ct(e,e.return,f)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function vx(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function yx(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(h){ct(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){ct(e,i,h)}}var s=e.return;try{Rg(e)}catch(h){ct(e,s,h)}break;case 5:var o=e.return;try{Rg(e)}catch(h){ct(e,o,h)}}}catch(h){ct(e,e.return,h)}if(e===t){ue=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ue=u;break}ue=e.return}}var j3=Math.ceil,Xh=Ai.ReactCurrentDispatcher,L0=Ai.ReactCurrentOwner,Xn=Ai.ReactCurrentBatchConfig,Me=0,Ot=null,wt=null,$t=0,En=0,Vo=gs(0),Et=0,Jl=null,Js=0,Pd=0,F0=0,bl=null,fn=null,U0=0,pa=1/0,ci=null,Yh=!1,Ng=null,rs=null,Uc=!1,Qi=null,Qh=0,Sl=0,Dg=null,ih=-1,sh=0;function sn(){return Me&6?vt():ih!==-1?ih:ih=vt()}function is(t){return t.mode&1?Me&2&&$t!==0?$t&-$t:A3.transition!==null?(sh===0&&(sh=sS()),sh):(t=ze,t!==0||(t=window.event,t=t===void 0?16:dS(t.type)),t):1}function Sr(t,e,n,r){if(50<Sl)throw Sl=0,Dg=null,Error(q(185));ou(t,n,r),(!(Me&2)||t!==Ot)&&(t===Ot&&(!(Me&2)&&(Pd|=n),Et===4&&Vi(t,$t)),_n(t,r),n===1&&Me===0&&!(e.mode&1)&&(pa=vt()+500,Td&&_s()))}function _n(t,e){var n=t.callbackNode;AN(t,e);var r=Mh(t,t===Ot?$t:0);if(r===0)n!==null&&P1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&P1(n),e===1)t.tag===0?C3(xx.bind(null,t)):kS(xx.bind(null,t)),b3(function(){!(Me&6)&&_s()}),n=null;else{switch(oS(r)){case 1:n=h0;break;case 4:n=rS;break;case 16:n=kh;break;case 536870912:n=iS;break;default:n=kh}n=RT(n,ST.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ST(t,e){if(ih=-1,sh=0,Me&6)throw Error(q(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=Mh(t,t===Ot?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kh(t,r);else{e=r;var i=Me;Me|=2;var s=ET();(Ot!==t||$t!==e)&&(ci=null,pa=vt()+500,Ws(t,e));do try{X3();break}catch(u){TT(t,u)}while(1);T0(),Xh.current=s,Me=i,wt!==null?e=0:(Ot=null,$t=0,e=Et)}if(e!==0){if(e===2&&(i=ag(t),i!==0&&(r=i,e=Og(t,i))),e===1)throw n=Jl,Ws(t,0),Vi(t,r),_n(t,vt()),n;if(e===6)Vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!W3(i)&&(e=Kh(t,r),e===2&&(s=ag(t),s!==0&&(r=s,e=Og(t,s))),e===1))throw n=Jl,Ws(t,0),Vi(t,r),_n(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Ls(t,fn,ci);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=U0+500-vt(),10<e)){if(Mh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mg(Ls.bind(null,t,fn,ci),e);break}Ls(t,fn,ci);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-br(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j3(r/1960))-r,10<r){t.timeoutHandle=mg(Ls.bind(null,t,fn,ci),r);break}Ls(t,fn,ci);break;case 5:Ls(t,fn,ci);break;default:throw Error(q(329))}}}return _n(t,vt()),t.callbackNode===n?ST.bind(null,t):null}function Og(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=Kh(t,e),t!==2&&(e=fn,fn=n,e!==null&&Bg(e)),t}function Bg(t){fn===null?fn=t:fn.push.apply(fn,t)}function W3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~F0,e&=~Pd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-br(e),r=1<<n;t[n]=-1,e&=~r}}function xx(t){if(Me&6)throw Error(q(327));ia();var e=Mh(t,0);if(!(e&1))return _n(t,vt()),null;var n=Kh(t,e);if(t.tag!==0&&n===2){var r=ag(t);r!==0&&(e=r,n=Og(t,r))}if(n===1)throw n=Jl,Ws(t,0),Vi(t,e),_n(t,vt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,fn,ci),_n(t,vt()),null}function z0(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(pa=vt()+500,Td&&_s())}}function eo(t){Qi!==null&&Qi.tag===0&&!(Me&6)&&ia();var e=Me;Me|=1;var n=Xn.transition,r=ze;try{if(Xn.transition=null,ze=1,t)return t()}finally{ze=r,Xn.transition=n,Me=e,!(Me&6)&&_s()}}function H0(){En=Vo.current,Xe(Vo)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w3(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(w0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lh();break;case 3:da(),Xe(mn),Xe(Jt),R0();break;case 5:I0(r);break;case 4:da();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:E0(r.type._context);break;case 22:case 23:H0()}n=n.return}if(Ot=t,wt=t=ss(t.current,null),$t=En=e,Et=0,Jl=null,F0=Pd=Js=0,fn=bl=null,Hs!==null){for(e=0;e<Hs.length;e++)if(n=Hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hs=null}return t}function TT(t,e){do{var n=wt;try{if(T0(),th.current=Vh,Wh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wh=!1}if(Zs=0,Dt=Tt=st=null,xl=!1,Kl=0,L0.current=null,n===null||n.return===null){Et=1,Jl=e,wt=null;break}e:{var s=t,o=n.return,u=n,h=e;if(e=$t,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,m=u,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=ax(o);if(g!==null){g.flags&=-257,lx(g,o,u,s,e),g.mode&1&&ox(s,d,e),e=g,h=d;var v=e.updateQueue;if(v===null){var b=new Set;b.add(h),e.updateQueue=b}else v.add(h);break e}else{if(!(e&1)){ox(s,d,e),G0();break e}h=Error(q(426))}}else if(Ze&&u.mode&1){var E=ax(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lx(E,o,u,s,e),b0(fa(h,u));break e}}s=h=fa(h,u),Et!==4&&(Et=2),bl===null?bl=[s]:bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=aT(s,h,e);J1(s,x);break e;case 1:u=h;var S=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(rs===null||!rs.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=lT(s,u,e);J1(s,C);break e}}s=s.return}while(s!==null)}AT(n)}catch(P){e=P,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(1)}function ET(){var t=Xh.current;return Xh.current=Vh,t===null?Vh:t}function G0(){(Et===0||Et===3||Et===2)&&(Et=4),Ot===null||!(Js&268435455)&&!(Pd&268435455)||Vi(Ot,$t)}function Kh(t,e){var n=Me;Me|=2;var r=ET();(Ot!==t||$t!==e)&&(ci=null,Ws(t,e));do try{V3();break}catch(i){TT(t,i)}while(1);if(T0(),Me=n,Xh.current=r,wt!==null)throw Error(q(261));return Ot=null,$t=0,Et}function V3(){for(;wt!==null;)CT(wt)}function X3(){for(;wt!==null&&!vN();)CT(wt)}function CT(t){var e=IT(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?AT(t):wt=e,L0.current=null}function AT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z3(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,wt=null;return}}else if(n=U3(n,e,En),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Et===0&&(Et=5)}function Ls(t,e,n){var r=ze,i=Xn.transition;try{Xn.transition=null,ze=1,Y3(t,e,n,r)}finally{Xn.transition=i,ze=r}return null}function Y3(t,e,n,r){do ia();while(Qi!==null);if(Me&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PN(t,s),t===Ot&&(wt=Ot=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uc||(Uc=!0,RT(kh,function(){return ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=ze;ze=1;var u=Me;Me|=4,L0.current=null,G3(t,n),wT(n,t),p3(fg),Nh=!!dg,fg=dg=null,t.current=n,$3(n),yN(),Me=u,ze=o,Xn.transition=s}else t.current=n;if(Uc&&(Uc=!1,Qi=t,Qh=i),s=t.pendingLanes,s===0&&(rs=null),bN(n.stateNode),_n(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yh)throw Yh=!1,t=Ng,Ng=null,t;return Qh&1&&t.tag!==0&&ia(),s=t.pendingLanes,s&1?t===Dg?Sl++:(Sl=0,Dg=t):Sl=0,_s(),null}function ia(){if(Qi!==null){var t=oS(Qh),e=Xn.transition,n=ze;try{if(Xn.transition=null,ze=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Qh=0,Me&6)throw Error(q(331));var i=Me;for(Me|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var d=u[h];for(ue=d;ue!==null;){var m=ue;switch(m.tag){case 0:case 11:case 15:wl(8,m,s)}var c=m.child;if(c!==null)c.return=m,ue=c;else for(;ue!==null;){m=ue;var f=m.sibling,g=m.return;if(vT(m),m===d){ue=null;break}if(f!==null){f.return=g,ue=f;break}ue=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ue=x;break e}ue=s.return}}var S=t.current;for(ue=S;ue!==null;){o=ue;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ue=T;else e:for(o=S;ue!==null;){if(u=ue,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ad(9,u)}}catch(P){ct(u,u.return,P)}if(u===o){ue=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ue=C;break e}ue=u.return}}if(Me=i,_s(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{ze=n,Xn.transition=e}}return!1}function wx(t,e,n){e=fa(n,e),e=aT(t,e,1),t=ns(t,e,1),e=sn(),t!==null&&(ou(t,1,e),_n(t,e))}function ct(t,e,n){if(t.tag===3)wx(t,t,n);else for(;e!==null;){if(e.tag===3){wx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=fa(n,t),t=lT(e,t,1),e=ns(e,t,1),t=sn(),e!==null&&(ou(e,1,t),_n(e,t));break}}e=e.return}}function Q3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&($t&n)===n&&(Et===4||Et===3&&($t&130023424)===$t&&500>vt()-U0?Ws(t,0):F0|=n),_n(t,e)}function PT(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=sn();t=Si(t,e),t!==null&&(ou(t,e,n),_n(t,n))}function K3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PT(t,n)}function q3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),PT(t,n)}var IT;IT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,F3(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Ze&&e.flags&1048576&&MS(e,zh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rh(t,e),t=e.pendingProps;var i=ua(e,Jt.current);ra(e,n),i=M0(null,e,r,t,i,n);var s=N0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,Fh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A0(e),i.updater=Ed,e.stateNode=i,i._reactInternals=e,bg(e,r,t,n),e=Eg(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&x0(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J3(r),t=cr(r,t),i){case 0:e=Tg(null,e,r,t,n);break e;case 1:e=hx(null,e,r,t,n);break e;case 11:e=ux(null,e,r,t,n);break e;case 14:e=cx(null,e,r,cr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Tg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),hx(t,e,r,i,n);case 3:e:{if(dT(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BS(t,e),$h(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fa(Error(q(423)),e),e=dx(t,e,r,n,i);break e}else if(r!==i){i=fa(Error(q(424)),e),e=dx(t,e,r,n,i);break e}else for(Cn=ts(e.stateNode.containerInfo.firstChild),Pn=e,Ze=!0,pr=null,n=zS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ca(),r===i){e=Ti(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return HS(e),t===null&&yg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pg(r,i)?o=null:s!==null&&pg(r,s)&&(e.flags|=32),hT(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&yg(e),null;case 13:return fT(t,e,n);case 4:return P0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),ux(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(Hh,r._currentValue),r._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!mn.current){e=Ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=yi(-1,n&-n),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?h.next=h:(h.next=m.next,m.next=h),d.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),xg(s.return,n,e),u.lanes|=n;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ra(e,n),i=Qn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),cx(t,e,r,i,n);case 15:return uT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),rh(t,e),e.tag=1,gn(r)?(t=!0,Fh(e)):t=!1,ra(e,n),FS(e,r,i),bg(e,r,i,n),Eg(null,e,r,!0,t,n);case 19:return pT(t,e,n);case 22:return cT(t,e,n)}throw Error(q(156,e.tag))};function RT(t,e){return nS(t,e)}function Z3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new Z3(t,e,n,r)}function $0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J3(t){if(typeof t=="function")return $0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l0)return 11;if(t===u0)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return Vs(n.children,i,s,e);case a0:o=8,i|=8;break;case Vm:return t=Vn(12,n,e,i|2),t.elementType=Vm,t.lanes=s,t;case Xm:return t=Vn(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Ym:return t=Vn(19,n,e,i),t.elementType=Ym,t.lanes=s,t;case Ub:return Id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lb:o=10;break e;case Fb:o=9;break e;case l0:o=11;break e;case u0:o=14;break e;case Hi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Id(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=Ub,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j0(t,e,n,r,i,s,o,u,h){return t=new eD(t,e,n,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(s),t}function tD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kT(t){if(!t)return fs;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(gn(n))return RS(t,n,e)}return e}function MT(t,e,n,r,i,s,o,u,h){return t=j0(n,r,!0,t,i,s,o,u,h),t.context=kT(null),n=t.current,r=sn(),i=is(n),s=yi(r,i),s.callback=e??null,ns(n,s,i),t.current.lanes=i,ou(t,i,r),_n(t,r),t}function Rd(t,e,n,r){var i=e.current,s=sn(),o=is(i);return n=kT(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(i,e,o),t!==null&&(Sr(t,i,o,s),eh(t,i,o)),o}function qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function W0(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function nD(){return null}var NT=typeof reportError=="function"?reportError:function(t){console.error(t)};function V0(t){this._internalRoot=t}kd.prototype.render=V0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Rd(t,e,null,null)};kd.prototype.unmount=V0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){Rd(null,t,null,null)}),e[bi]=null}};function kd(t){this._internalRoot=t}kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=uS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&hS(t)}};function X0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function rD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=qh(o);s.call(d)}}var o=MT(e,r,t,0,null,!1,!1,"",Sx);return t._reactRootContainer=o,t[bi]=o.current,Wl(t.nodeType===8?t.parentNode:t),eo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=qh(h);u.call(d)}}var h=j0(t,0,!1,null,null,!1,!1,"",Sx);return t._reactRootContainer=h,t[bi]=h.current,Wl(t.nodeType===8?t.parentNode:t),eo(function(){Rd(e,h,n,r)}),h}function Nd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=qh(o);u.call(h)}}Rd(e,o,t,i)}else o=rD(n,e,t,i,r);return qh(o)}aS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(d0(e,n|1),_n(e,vt()),!(Me&6)&&(pa=vt()+500,_s()))}break;case 13:eo(function(){var r=Si(t,1);if(r!==null){var i=sn();Sr(r,t,1,i)}}),W0(t,1)}};f0=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=sn();Sr(e,t,134217728,n)}W0(t,134217728)}};lS=function(t){if(t.tag===13){var e=is(t),n=Si(t,e);if(n!==null){var r=sn();Sr(n,t,e,r)}W0(t,e)}};uS=function(){return ze};cS=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};ig=function(t,e,n){switch(e){case"input":if(qm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sd(r);if(!i)throw Error(q(90));Hb(r),qm(r,i)}}}break;case"textarea":$b(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};Kb=z0;qb=eo;var iD={usingClientEntryPoint:!1,Events:[lu,zo,Sd,Yb,Qb,z0]},tl={findFiberByHostInstance:zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sD={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eS(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||nD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{yd=zc.inject(sD),Yr=zc}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(e))throw Error(q(200));return tD(t,e,null,n)};Rn.createRoot=function(t,e){if(!X0(t))throw Error(q(299));var n=!1,r="",i=NT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j0(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,Wl(t.nodeType===8?t.parentNode:t),new V0(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=eS(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return eo(t)};Rn.hydrate=function(t,e,n){if(!Md(e))throw Error(q(200));return Nd(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!X0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=NT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MT(e,null,t,1,n??null,i,!1,s,o),t[bi]=e.current,Wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kd(e)};Rn.render=function(t,e,n){if(!Md(e))throw Error(q(200));return Nd(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!Md(t))throw Error(q(40));return t._reactRootContainer?(eo(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Rn.unstable_batchedUpdates=z0;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Md(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Nd(t,e,n,!1,r)};Rn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Rn})(nN);var DT,Tx=$m;DT=Tx.createRoot,Tx.hydrateRoot;function oD({children:t}){return R("div",{id:"App",className:"app-mod",children:t})}function aD(t){DT(document.getElementById("root")).render(R(oD,{children:t}))}var ah={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-ah.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?ah.Bounce.In(t*2)*.5:ah.Bounce.Out(t*2-1)*.5+.5}}},hl;typeof self>"u"&&typeof process<"u"&&process.hrtime?hl=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?hl=self.performance.now.bind(self.performance):Date.now!==void 0?hl=Date.now:hl=function(){return new Date().getTime()};var ko=hl,lD=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,n){e===void 0&&(e=ko()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!n;s&&s.update(e,o)===!1&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),dl={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=dl.Utils.Linear;return e<0?s(t[0],t[1],r):e>1?s(t[n],t[n-1],n-r):s(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,s=dl.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-e,r-o)*i(e,o)*t[o]*s(r,o);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=dl.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),s(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):s(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=dl.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var s=(n-t)*.5,o=(r-e)*.5,u=i*i,h=i*u;return(2*e-2*n+s+o)*h+(-3*e+3*n-2*s-o)*u+s*i+e}}},OT=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),BT=new lD,Y0=function(){function t(e,n){n===void 0&&(n=BT),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ah.Linear.None,this._interpolationFunction=dl.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=OT.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,n){return this._valuesEnd=Object.create(e),n!==void 0&&(this._duration=n),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?ko()+parseFloat(e):e:ko(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,n,r,i){for(var s in r){var o=e[s],u=Array.isArray(o),h=u?"array":typeof o,d=!u&&Array.isArray(r[s]);if(!(h==="undefined"||h==="function")){if(d){var m=r[s];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,o)),r[s]=[o].concat(m)}if((h==="object"||u)&&o&&!d){n[s]=u?[]:{};for(var c in o)n[s][c]=o[c];i[s]=u?[]:{},this._setupProperties(o,n[s],r[s],i[s])}else typeof n[s]>"u"&&(n[s]=o),u||(n[s]*=1),d?i[s]=r[s].slice().reverse():i[s]=n[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ko()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ko()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){if(e===void 0&&(e=ko()),n===void 0&&(n=!0),this._isPaused)return!0;var r,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;n&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,h=this._chainedTweens.length;u<h;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var s in r)if(n[s]!==void 0){var o=n[s]||0,u=r[s],h=Array.isArray(e[s]),d=Array.isArray(u),m=!h&&d;m?e[s]=this._interpolationFunction(u,i):typeof u=="object"&&u?this._updateProperties(e[s],o,u,i):(u=this._handleRelativeValue(o,u),typeof u=="number"&&(e[s]=o+(u-o)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t}();OT.nextId;var Jr=BT;Jr.getAll.bind(Jr);Jr.removeAll.bind(Jr);Jr.add.bind(Jr);Jr.remove.bind(Jr);var uD=Jr.update.bind(Jr);function Lg(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Zp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ex={INIT:"@@redux/INIT"+Zp(),REPLACE:"@@redux/REPLACE"+Zp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zp()}};function cD(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ex.INIT});if(typeof r>"u")throw new Error(Lg(12));if(typeof n(void 0,{type:Ex.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lg(13))})}function hD(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{cD(n)}catch(u){o=u}return function(h,d){if(h===void 0&&(h={}),o)throw o;for(var m=!1,c={},f=0;f<s.length;f++){var g=s[f],v=n[g],b=h[g],E=v(b,d);if(typeof E>"u")throw d&&d.type,new Error(Lg(14));c[g]=E,m=m||E!==b}return m=m||s.length!==Object.keys(h).length,m?c:h}}const dD=(t={},e)=>t;function fD(){return{game:{url:KM(),table:Eo("table")||{}}}}const pD=(t={},e)=>{switch(e.type){case rA:return{};case iA:return{...t,amount:e.value.amount,currency:e.value.currency};case sA:return{...t,amount:e.value.amount};default:return t}},mD={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,amount:0}},gD=(t={},e)=>{switch(e.type){case Yx:return{...t,soundOn:e.value};case oA:return{...t};case jg:return{...t,menuOn:e.value};case Wg:return{...t,payTableOn:e.value};case Vg:return{...t,betPanelOn:e.value};case Xg:return{...t,autoSpinPanelOn:e.value};default:return t}},_D={setting:{soundOn:!0,volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1}},Zh="∞",vD=(t={},e)=>{switch(e.type){case Qx:let n=t.status;return t.status=="idle"?n="spin":t.status=="stopping"?t.responseModel.linewin.length==0?n="idle":n="showWinAmount":(t.status=="showWinLine"||t.status=="showWinAmount")&&(n="spin"),{...t,status:n};case Kx:let r=t.autoSpinCount;return r!=0&&r!=Zh&&--r,{...t,status:"stopping",responseModel:e.value,autoSpinCount:r};case qx:return{...t,status:"showWinAmount"};case Zx:return{...t,status:"showWinLine"};case Yg:return{...t,status:"idle"};case Jx:return{...t,betAmount:e.value};case ew:return{...t,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit,status:"spin"};case aA:{let i=t.autoSpinCount;return i!=Zh&&--i,{...t,autoSpinCount:i}}case tw:return{...t,autoSpinCount:0};default:return t}},yD={spin:{status:"idle",autoSpinCount:0,betAmount:.01,stopAutoSpinLimit:{totalBetTimes:0,signleWin:0,balanceTo:0}}},xD=(t={},e)=>{let n=[].concat(t.scenes);switch(e.type){case lA:return n.push(e.value),{...t,scenes:n};case uA:return n.pop(),{...t,scenes:n};case nw:return n.pop(),n.push(e.value),{...t,scenes:n};case cA:return{...t};default:return t}},wD={sceneManager:{scenes:["preload"]}};function bD(){let t=za("user")||pD,e=za("setting")||gD,n=za("spin")||vD,r=za("scene")||xD,i=za("reducers");return hD({game:dD,user:t,setting:e,spin:n,sceneManager:r,...i})}function SD(){let t=Eo("user")||mD,e=Eo("setting")||_D,n=Eo("spin")||yD,r=Eo("scene")||wD,i=Eo("reducers")||{};return FC(t,e,n,r,fD(),i)}const TD=XC(),ED=QC("spin"),CD=()=>{const{state:t,dispatch:e}=V.useContext(Ae),{status:n}=t.spin,{loggingIn:r}=t.user,i=t.game.table;return V.useEffect(()=>{n=="spin"&&TD.spin().then(s=>{let o=new ED(s,i),u=setTimeout(()=>{clearTimeout(u),e({type:Kx,value:o})},1e3)})},[n]),V.useEffect(()=>{},[r]),R(Er,{})},Cx=document.querySelector("html"),AD=()=>{const t=Bt.useApp();function e(){let n=window.innerWidth,r=window.innerHeight,i=t.renderer.width,s=t.renderer.height;if(n!==i&&r!==s){const o=document.getElementById("App");let u,h,d=0,m=0;if(r/n<=540/960){let c=r/540;Cx.style.fontSize=`${20*c}px`,t.stage.scale.set(c),u=r/(540/960),h=r,d=(n-u)/2}else{let c=n/960;Cx.style.fontSize=`${20*c}px`,t.stage.scale.set(c),u=window.innerWidth,h=540/960*window.innerWidth,m=(r-h)/2}t.renderer.resize(u,h),o.style.width=`${u}px`,o.style.height=`${h}px`,o.style.top=`${m}px`,o.style.left=`${d}px`}}return V.useEffect(()=>{window.onresize=e,e()},[]),R(Er,{})};var Fg={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||n;if(c=parseFloat(c),f.ctx||m(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var v=f._howls[g]._getSoundIds(),b=0;b<v.length;b++){var E=f._howls[g]._soundById(v[b]);E&&E._node&&(E._node.volume=E._volume*c)}return f}return f._volume},mute:function(c){var f=this||n;f.ctx||m(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,n.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var v=f._howls[g]._getSoundIds(),b=0;b<v.length;b++){var E=f._howls[g]._soundById(v[b]);E&&E._node&&(E._node.muted=c?!0:E._muted)}return f},stop:function(){for(var c=this||n,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||n,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,m()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",b=v.match(/OPR\/([0-6].)/g),E=b&&parseInt(b[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,S=v.match(/Version\/(.*?) /),T=x&&S&&parseInt(S[1],10)<15;return c._codecs={mp3:!!(!E&&(g||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(g){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var b=0;b<c._howls.length;b++)if(!c._howls[b]._webAudio)for(var E=c._howls[b]._getSoundIds(),x=0;x<E.length;x++){var S=c._howls[b]._soundById(E[x]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}c._autoResume();var T=c.ctx.createBufferSource();T.buffer=c._scratchBuffer,T.connect(c.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),T.onended=function(){T.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var C=0;C<c._howls.length;C++)c._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||n;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var g=0;g<c._howls[f]._sounds.length;g++)if(!c._howls[f]._sounds[g]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};r.prototype={init:function(c){var f=this;return n.ctx||m(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var g=0;g<c._src.length;g++){var v,b;if(c._format&&c._format[g])v=c._format[g];else{if(b=c._src[g],typeof b!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(b),v||(v=/\.([^.]+)$/.exec(b.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&n.codecs(v)){f=c._src[g];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,f){var g=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&g._state==="loaded"&&!g._sprite[c])return null;if(typeof c>"u"&&(c="__default",!g._playLock)){for(var b=0,E=0;E<g._sounds.length;E++)g._sounds[E]._paused&&!g._sounds[E]._ended&&(b++,v=g._sounds[E]._id);b===1?c=null:v=null}}var x=v?g._soundById(v):g._inactiveSound();if(!x)return null;if(v&&!c&&(c=x._sprite||"__default"),g._state!=="loaded"){x._sprite=c,x._ended=!1;var S=x._id;return g._queue.push({event:"play",action:function(){g.play(S)}}),S}if(v&&!x._paused)return f||g._loadQueue("play"),x._id;g._webAudio&&n._autoResume();var T=Math.max(0,x._seek>0?x._seek:g._sprite[c][0]/1e3),C=Math.max(0,(g._sprite[c][0]+g._sprite[c][1])/1e3-T),P=C*1e3/Math.abs(x._rate),D=g._sprite[c][0]/1e3,N=(g._sprite[c][0]+g._sprite[c][1])/1e3;x._sprite=c,x._ended=!1;var O=function(){x._paused=!1,x._seek=T,x._start=D,x._stop=N,x._loop=!!(x._loop||g._sprite[c][2])};if(T>=N){g._ended(x);return}var H=x._node;if(g._webAudio){var Y=function(){g._playLock=!1,O(),g._refreshBuffer(x);var z=x._muted||g._muted?0:x._volume;H.gain.setValueAtTime(z,n.ctx.currentTime),x._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?x._loop?H.bufferSource.noteGrainOn(0,T,86400):H.bufferSource.noteGrainOn(0,T,C):x._loop?H.bufferSource.start(0,T,86400):H.bufferSource.start(0,T,C),P!==1/0&&(g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P)),f||setTimeout(function(){g._emit("play",x._id),g._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?Y():(g._playLock=!0,g.once("resume",Y),g._clearTimer(x._id))}else{var Q=function(){H.currentTime=T,H.muted=x._muted||g._muted||n._muted||H.muted,H.volume=x._volume*n.volume(),H.playbackRate=x._rate;try{var z=H.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(g._playLock=!0,O(),z.then(function(){g._playLock=!1,H._unlocked=!0,f?g._loadQueue():g._emit("play",x._id)}).catch(function(){g._playLock=!1,g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(g._playLock=!1,O(),g._emit("play",x._id)),H.playbackRate=x._rate,H.paused){g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||x._loop?g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P):(g._endTimers[x._id]=function(){g._ended(x),H.removeEventListener("ended",g._endTimers[x._id],!1)},H.addEventListener("ended",g._endTimers[x._id],!1))}catch(ve){g._emit("playerror",x._id,ve)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=g._src,H.load());var re=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||re)Q();else{g._playLock=!0,g._state="loading";var X=function(){g._state="loaded",Q(),H.removeEventListener(n._canPlayEvent,X,!1)};H.addEventListener(n._canPlayEvent,X,!1),g._clearTimer(x._id)}}return x._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var g=f._getSoundIds(c),v=0;v<g.length;v++){f._clearTimer(g[v]);var b=f._soundById(g[v]);if(b&&!b._paused&&(b._seek=f.seek(g[v]),b._rateSeek=0,b._paused=!0,f._stopFade(g[v]),b._node))if(f._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),f._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||f._emit("pause",b?b._id:null)}return f},stop:function(c,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(c)}}),g;for(var v=g._getSoundIds(c),b=0;b<v.length;b++){g._clearTimer(v[b]);var E=g._soundById(v[b]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,g._stopFade(v[b]),E._node&&(g._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),g._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&g._clearSound(E._node))),f||g._emit("stop",E._id))}return g},mute:function(c,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(c,f)}}),g;if(typeof f>"u")if(typeof c=="boolean")g._muted=c;else return g._muted;for(var v=g._getSoundIds(f),b=0;b<v.length;b++){var E=g._soundById(v[b]);E&&(E._muted=c,E._interval&&g._stopFade(E._id),g._webAudio&&E._node?E._node.gain.setValueAtTime(c?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:c),g._emit("mute",E._id))}return g},volume:function(){var c=this,f=arguments,g,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):g=parseFloat(f[0])}else f.length>=2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof g<"u"&&g>=0&&g<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=g),v=c._getSoundIds(v);for(var S=0;S<v.length;S++)x=c._soundById(v[S]),x&&(x._volume=g,f[2]||c._stopFade(v[S]),c._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(g,n.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=g*n.volume()),c._emit("volume",x._id))}else return x=v?c._soundById(v):c._sounds[0],x?x._volume:0;return c},fade:function(c,f,g,v){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(c,f,g,v)}}),b;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),b.volume(c,v);for(var E=b._getSoundIds(v),x=0;x<E.length;x++){var S=b._soundById(E[x]);if(S){if(v||b._stopFade(E[x]),b._webAudio&&!S._muted){var T=n.ctx.currentTime,C=T+g/1e3;S._volume=c,S._node.gain.setValueAtTime(c,T),S._node.gain.linearRampToValueAtTime(f,C)}b._startFadeInterval(S,c,f,g,E[x],typeof v>"u")}}return b},_startFadeInterval:function(c,f,g,v,b,E){var x=this,S=f,T=g-f,C=Math.abs(T/.01),P=Math.max(4,C>0?v/C:v),D=Date.now();c._fadeTo=g,c._interval=setInterval(function(){var N=(Date.now()-D)/v;D=Date.now(),S+=T*N,S=Math.round(S*100)/100,T<0?S=Math.max(g,S):S=Math.min(g,S),x._webAudio?c._volume=S:x.volume(S,c._id,!0),E&&(x._volume=S),(g<f&&S<=g||g>f&&S>=g)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,x.volume(g,c._id),x._emit("fade",c._id))},P)},_stopFade:function(c){var f=this,g=f._soundById(c);return g&&g._interval&&(f._webAudio&&g._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(g._interval),g._interval=null,f.volume(g._fadeTo,c),g._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,g,v,b;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")g=f[0],c._loop=g;else return b=c._soundById(parseInt(f[0],10)),b?b._loop:!1;else f.length===2&&(g=f[0],v=parseInt(f[1],10));for(var E=c._getSoundIds(v),x=0;x<E.length;x++)b=c._soundById(E[x]),b&&(b._loop=g,c._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=g,g&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,c.playing(E[x])&&(c.pause(E[x],!0),c.play(E[x],!0)))));return c},rate:function(){var c=this,f=arguments,g,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):g=parseFloat(f[0])}else f.length===2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof g=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=g),v=c._getSoundIds(v);for(var S=0;S<v.length;S++)if(x=c._soundById(v[S]),x){c.playing(v[S])&&(x._rateSeek=c.seek(v[S]),x._playStart=c._webAudio?n.ctx.currentTime:x._playStart),x._rate=g,c._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(g,n.ctx.currentTime):x._node&&(x._node.playbackRate=g);var T=c.seek(v[S]),C=(c._sprite[x._sprite][0]+c._sprite[x._sprite][1])/1e3-T,P=C*1e3/Math.abs(x._rate);(c._endTimers[v[S]]||!x._paused)&&(c._clearTimer(v[S]),c._endTimers[v[S]]=setTimeout(c._ended.bind(c,x),P)),c._emit("rate",x._id)}}else return x=c._soundById(v),x?x._rate:c._rate;return c},seek:function(){var c=this,f=arguments,g,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,g=parseFloat(f[0]))}else f.length===2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof g=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var x=c._soundById(v);if(x)if(typeof g=="number"&&g>=0){var S=c.playing(v);S&&c.pause(v,!0),x._seek=g,x._ended=!1,c._clearTimer(v),!c._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=g);var T=function(){S&&c.play(v,!0),c._emit("seek",v)};if(S&&!c._webAudio){var C=function(){c._playLock?setTimeout(C,0):T()};setTimeout(C,0)}else T()}else if(c._webAudio){var P=c.playing(v)?n.ctx.currentTime-x._playStart:0,D=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(D+P*Math.abs(x._rate))}else return x._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var g=f._soundById(c);return g?!g._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,g=f._duration,v=f._soundById(c);return v&&(g=f._sprite[v._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,g=0;g<f.length;g++)f[g]._paused||c.stop(f[g]._id),c._webAudio||(c._clearSound(f[g]._node),f[g]._node.removeEventListener("error",f[g]._errorFn,!1),f[g]._node.removeEventListener(n._canPlayEvent,f[g]._loadFn,!1),f[g]._node.removeEventListener("ended",f[g]._endFn,!1),n._releaseHtml5Audio(f[g]._node)),delete f[g]._node,c._clearTimer(f[g]._id);var v=n._howls.indexOf(c);v>=0&&n._howls.splice(v,1);var b=!0;for(g=0;g<n._howls.length;g++)if(n._howls[g]._src===c._src||c._src.indexOf(n._howls[g]._src)>=0){b=!1;break}return s&&b&&delete s[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,g,v){var b=this,E=b["_on"+c];return typeof f=="function"&&E.push(v?{id:g,fn:f,once:v}:{id:g,fn:f}),b},off:function(c,f,g){var v=this,b=v["_on"+c],E=0;if(typeof f=="number"&&(g=f,f=null),f||g)for(E=0;E<b.length;E++){var x=g===b[E].id;if(f===b[E].fn&&x||!f&&x){b.splice(E,1);break}}else if(c)v["_on"+c]=[];else{var S=Object.keys(v);for(E=0;E<S.length;E++)S[E].indexOf("_on")===0&&Array.isArray(v[S[E]])&&(v[S[E]]=[])}return v},once:function(c,f,g){var v=this;return v.on(c,f,g,1),v},_emit:function(c,f,g){for(var v=this,b=v["_on"+c],E=b.length-1;E>=0;E--)(!b[E].id||b[E].id===f||c==="load")&&(setTimeout(function(x){x.call(this,f,g)}.bind(v,b[E].fn),0),b[E].once&&v.off(c,b[E].fn,b[E].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var g=f._queue[0];g.event===c&&(f._queue.shift(),f._loadQueue()),c||g.action()}return f},_ended:function(c){var f=this,g=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[g][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var b=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),b)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),n._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var g=f._soundById(c);g&&g._node&&g._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,g=0;g<f._sounds.length;g++)if(c===f._sounds[g]._id)return f._sounds[g];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,g=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&g++;for(v=c._sounds.length-1;v>=0;v--){if(g<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),g--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var g=[],v=0;v<f._sounds.length;v++)g.push(f._sounds[v]._id);return g}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=s[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,g=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),g))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,g=n._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(g,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=g*n.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var f=c._src;if(s[f]){c._duration=s[f].duration,d(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),v=new Uint8Array(g.length),b=0;b<g.length;++b)v[b]=g.charCodeAt(b);h(v.buffer,c)}else{var E=new XMLHttpRequest;E.open(c._xhr.method,f,!0),E.withCredentials=c._xhr.withCredentials,E.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(x){E.setRequestHeader(x,c._xhr.headers[x])}),E.onload=function(){var x=(E.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}h(E.response,c)},E.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[f],c.load())},u(E)}},u=function(c){try{c.send()}catch{c.onerror()}},h=function(c,f){var g=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(b){b&&f._sounds.length>0?(s[f._src]=b,d(f,b)):g()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(v).catch(g):n.ctx.decodeAudioData(c,v,g)},d=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=f?parseInt(f[1],10):null;if(c&&g&&g<9){var v=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!v&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof $i<"u"?($i.HowlerGlobal=e,$i.Howler=n,$i.Howl=r,$i.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,o,u){var h=this;if(!h.ctx||!h.ctx.listener)return h;var d=h._orientation;if(r=typeof r!="number"?d[1]:r,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,u=typeof u!="number"?d[5]:u,typeof n=="number")h._orientation=[n,r,i,s,o,u],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(n,r,i,s,o,u);else return d;return h},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var o=i._getSoundIds(r),u=0;u<o.length;u++){var h=i._soundById(o[u]);if(h)if(typeof n=="number")h._stereo=n,h._pos=[n,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(n,0,0):h._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",h._id);else return h._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")o._pos=[n,r,i];else return o._pos;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var d=o._soundById(u[h]);if(d)if(typeof n=="number")d._pos=[n,r,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(n,r,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof n=="number")o._orientation=[n,r,i];else return o._orientation;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var d=o._soundById(u[h]);if(d)if(typeof n=="number")d._orientation=[n,r,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var u=n._getSoundIds(s),h=0;h<u.length;h++)if(o=n._soundById(u[h]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var m=o._panner;m?(m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel):(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Fg);class PD{constructor(){pt(this,"channels",{})}exist(e,n){let r=this.channels[e];return Ki(e)&&Ki(r[n])}add(e,n,r,i=1,s=!1){let o=this.channels[e];Cl(o)&&(o={},this.channels[e]=o),Ki(o[n])&&console.warn(`sound "${n}" is existing in channel "${e}"`);let u={channelId:e,name:n,soundId:r,volume:i,softBgm:s};return o[n]=u,u}getPlaybackBy(e){for(let n in this.channels){let r=this.channels[n];for(let i in r)if(e(r[i]))return r[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(n=>n.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(n=>n.name==e)}removeBy(e){for(let n in this.channels){let r=this.channels[n];for(let i in r){let s=r[i];e(s)&&(delete r[i],LC(r)&&delete this.channels[n])}}}removeBySoundId(e){return this.removeBy(n=>n.soundId==e)}removeBySoundName(e){return this.removeBy(n=>n.name==e)}}const K0=class{constructor(){pt(this,"howlers",{});pt(this,"_muted",!1);pt(this,"_volume",1);pt(this,"bgm");pt(this,"channelManager");this.channelManager=new PD}static get Obj(){return this._Obj||(this._Obj=new K0),this._Obj}getSoundIdBySoundName(e){let n=this.channelManager.getPlaybackBySoundName(e);if(n)return n.soundId}getChannelIdBySoundName(e){let n=this.channelManager.getPlaybackBySoundName(e);if(n)return n.channelId}play(e,n,r=1,i=!1){let s=this.channelManager.getPlaybackBySoundName(n),o=this.getVolumn(r),u=this.getSoundPlayer(e);if(s&&s.channelId==e)u.stop(s.soundId),u.play(s.soundId),u.volume(o,s.soundId);else{let h=u.play(n);u.volume(o,h),s=this.channelManager.add(e,n,h,r,i)}return i&&this.softBgm(!0),s}playBgm(e,n,r=1,i=.3){let s=this.channelManager.getPlaybackBySoundName(n),o=this.getSoundPlayer(e),u=this.getVolumn(r);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(u,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let h=o.play(n);o.volume(u,h),this.channelManager.add(e,n,h,r),this.bgm={soundId:h,channelId:e,name:n,soft:i}}}isReady(e){return Ki(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let n=EM(e);if(Ki(n)){n.onend=i=>{if(i!=this.bgm.soundId){let s=this.channelManager.getPlaybackBySoundId(i);s&&s.softBgm&&this.softBgm(!1),this.channelManager.removeBySoundId(i)}};let r=new Fg.Howl(n);this.howlers[e]=r}}return this.howlers[e]}pause(e,n){let r=this.getSoundIdBySoundName(n);r&&this.getSoundPlayer(e).pause(r)}stop(e,n){let r=this.getSoundIdBySoundName(n);r&&(this.channelManager.removeBySoundId(r),this.getSoundPlayer(e).stop(r))}softBgm(e){if(this.bgm){let n=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(n){let r=this.getVolumn(e?this.bgm.soft:1,n.volume);this.getSoundPlayer(this.bgm.channelId).volume(r,n.soundId)}}}getVolumn(...e){return e.reduce((n,r)=>n*r,this._volume)}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(let n in this.channelManager.channels){let r=this.channelManager.channels[n],i=this.getSoundPlayer(n);for(let s in r){let o=r[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,Fg.Howler.mute(e)}};let Tl=K0;pt(Tl,"_Obj");const ID=()=>{const{state:t}=V.useContext(Ae),{soundOn:e,volume:n}=t.setting;return V.useEffect(()=>{Tl.Obj.muted=!e},[e]),V.useEffect(()=>{},[n]),R(Er,{})},RD=({children:t,Context:e,render:n})=>R(e.Consumer,{children:r=>n(R(e.Provider,{value:r,children:t}))}),kD=bD(),MD=SD(),ND=({children:t,...e})=>{const[n,r]=V.useReducer(kD,MD);Array.isArray(t)||(t=[t]);let[i,...s]=V.Children.map(t,o=>o);return me(Ae.Provider,{value:{state:n,dispatch:r},children:[R(RD,{Context:Ae,render:o=>me(Bt.Stage,{options:{backgroundColor:1118481,resolution:1,antialias:!0},...e,children:[R(DD,{}),R(AD,{}),o]}),children:i}),s,R(CD,{}),R(ID,{})]})};function DD(){return Bt.useTick(t=>{uD()},!0),R(Er,{})}const OD=({children:t})=>{const{state:e}=V.useContext(Ae),{scenes:n}=e.sceneManager;return t.map(r=>{if(n.indexOf(r.props.id)!=-1)return r})},LT=({children:t,...e})=>R(xt,{...e,children:t}),FT=({children:t,onProgress:e,onComplete:n,...r})=>{const{dispatch:i}=V.useContext(Ae);return wM(r.assets,s=>{e&&e(Math.floor(s*100))}).then(n||(s=>{console.log(s),r.next&&i({type:nw,value:r.next})})),R(LT,{...r,children:t})},BD=({children:t,...e})=>{const n=V.useRef(null);function r(i){n.current.text=`${i}%`}return R(FT,{onProgress:r,...e,children:t||me(Bt.Container,{children:[R(Nb,{name:$x}),R(Bt.Text,{text:"loading",x:480,y:200,ref:n,style:new Yn({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:50,fontWeight:"400",fill:["#ffffff","#00ff99"],stroke:"#01d27e",strokeThickness:5,letterSpacing:20,dropShadow:!0,dropShadowColor:"#ccced2",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440})})]})})},UT=import.meta.url;function LD(t){return ZC(UT,t,[])}function FD(t){return tA(UT,t,[],nA(12,"json"))}const UD=({...t})=>{const{state:e}=V.useContext(Ae);return R(BD,{assets:FD(e.game.url.lang),...t})},zD=({...t})=>{const{state:e}=V.useContext(Ae);return R(FT,{assets:LD(e.game.url.lang),...t})},HD=td("viewport"),GD=({children:t,...e})=>R(HD,{...e,children:t}),$D=({children:t,symbolStates:e,...n})=>{const r=td("symbol");return R(xt,{...n,children:e.map(({id:i,...s},o)=>R(r,{...s},`symbol_${o}`))})};function lh({children:t,enable:e=!0,...n}){return R(xt,{cursor:"pointer",interactive:e,...n,children:t})}function jD(t){const{state:e,dispatch:n}=V.useContext(Ae),{menuOn:r}=e.setting;function i(){n({type:jg,value:!r})}return R(lh,{pointerup:i,hitFrame:[-4,-4,50,50],x:50,y:400,...t,children:R(ut,{id:nn,name:r?"menu-off.png":"menu-on.png"})})}const WD=({children:t,row:e,symbol:n,...r})=>{const i=td("symbolActive"),s=V.useContext(Ae).state.game.table.symbolFrame;return R(xt,{...r,children:R(i,{sIndex:n,y:e*s[1]})})};function zT(t){return Math.floor(Math.random()*(t+1))}function VD(t,e,n){return ch(e,()=>ch(t,()=>zT(n)))}function Ax(t,e){let n={};for(let r=0;r<t;r++){let i=r+1;n[r]={status:"idle",k:0,reel:e[r],next:i<t?i:null}}return n}function Jp(t,e,n,r=!1,i=0){let s={reelStop:r,reelStopColumn:i,reelStates:[]};for(let o in t){let u=t[o],h=[];if(s.reelStates.push(h),u.status=="idle")for(let d=0;d<u.reel.length;d++)h.push({id:d,y:d*n[1],sIndex:u.reel[d]});else{let d=u.reel.length,m=d-1;for(let c=0;c<u.reel.length;c++){let f=(u.k*e+c)%d;f>m&&(f=f-d);let g=f*n[1];f=Math.ceil(f),h.push({id:c,y:g,sIndex:u.reel[f]})}}}return s}function em(t,e,n,r){t.length==e+1&&t.pop(),t.unshift(Ki(r)?r:zT(n))}function XD(t){return t<1?t*t*t:t}function YD(t){let n=t===0?0:--t*t*(2.70158*t+1.70158)+1;return n>1&&(n=1+(n-1)*.2),n}function QD(t){const{children:e,row:n=3,column:r=5,maxSpeed:i=24,maxSymbolIndex:s}=t,{state:o,dispatch:u}=V.useContext(Ae),{status:h,responseModel:d}=o.spin,{symbolSize:m}=o.game.table,[c,f]=V.useState(VD(n,r,s)),[g,v]=V.useState(Ax(r,c)),[b,E]=V.useState(Jp(g,i,m));return Bt.useTick(()=>{let x=!1,S=0;for(let T in g){let C=g[T],P,D,N;if(C.status=="spin")N=XD((new Date().getTime()-C.time)/1e3),D=N*i,P=C.k*i,D>=Math.floor(P)+1&&em(C.reel,n,s),C.k=N;else if(C.status=="stopping"){let O=Math.min(C.stopK,(new Date().getTime()-C.time)/1e3),H=YD(O/C.stopK)*C.stopK;if(N=C.stoppingK+H,D=N*i,P=C.k*i,D>=Math.floor(P)+1){let Y=Math.ceil((C.stopK-H)*i)-1;em(C.reel,n,s,C.resultReel[Y])}if(C.k=N,O==C.stopK)if(x=!0,S=Number(T),C.status="idle",C.reel.shift(),C.next){let Y=g[C.next],Q=Y.k,re=Math.round(i*(Q+1.3))/i-Q;Y.time=new Date().getTime(),Y.status="stopping",Y.stopK=re,Y.stoppingK=Q}else d.linewin.length==0?u({type:Yg}):u({type:qx})}}E(Jp(g,i,m,x,S)),v(g)},h!="idle"),V.useEffect(()=>{let x=new Date().getTime();if(h=="showWinLine"||h=="showWinAmount"||h=="idle"&&d){let S=Ax(r,d.reels);v(S),E(Jp(S,i,m))}else if(h=="spin"){for(let S in g){let T=g[S];T.time=x,T.status="spin",T.k=0,em(T.reel,n,s)}v(g)}else if(h=="stopping"){for(let P in g){let D=g[P];D.resultReel=d.reels[P]}let S=g[0],T=S.k,C=Math.round(i*(T+1.3))/i-T;S.time=x,S.status="stopping",S.stopK=C,S.stoppingK=T,v(g)}},[h]),e(b)}const KD=({path:t,width:e,color:n,border:r,borderColor:i,...s},o)=>{function u(d){d.moveTo(...t[0]);for(let m=1;m<t.length;m++)d.lineTo(...t[m])}const h=V.useCallback(d=>{d.clear(),r&&(d.lineStyle(r*2+e,i,1),u(d)),d.lineStyle(e,n,1),u(d),d.endFill()},[t,e,n,r,i]);return R(Bt.Graphics,{ref:o,draw:h,...s})},qD=V.forwardRef(KD);function ZD(t,e){let n={};for(let r in t.winLinePathMap){let i=R(qD,{...e,path:t.winLinePathMap[r].map(([s,o])=>{let u=s%1,h=s-u;return t.column==h&&(u=1,h=h-1),[h*t.symbolFrame[0]+u*t.symbolSize[0],o*t.symbolFrame[1]]})},`winline_${r}`);n[r]=i}return n}function JD({lineConfig:t,lineId:e,...n}){const{state:r}=V.useContext(Ae),[i,s]=V.useState({});return V.useEffect(()=>{s(ZD(r.game.table,t))},[]),R(xt,{...n,children:i[e]})}function Ug({children:t,from:e,to:n,playing:r,duration:i,repeat:s}){const[o,u]=V.useState(e),[h,d]=V.useState(null);return V.useEffect(()=>{h&&h.end();let m=new Y0(e).to(n,i).repeat(s).onUpdate(c=>{u({...c})});d(m)},[r,i,s]),V.useEffect(()=>{h&&(r?h.isPlaying()||h.start():h.end().stop())},[r,h]),t(o)}const q0=class{constructor(){pt(this,"keys",[]);pt(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new q0),this._Obj}onKeyDownHandler(e){if(e&&e.key){let n=e.key.toLowerCase();this.keys.indexOf(n)==-1&&this.keys.push(n)}}onKeyUpHandler(e){if(e&&e.key){let n=e.key.toLowerCase(),r=this.keys.indexOf(n);if(r>-1){let i=`onKey${n==" "?"Space":n}`;this.keysChangedFCMap[i]&&this.keysChangedFCMap[i](),this.keys.splice(r,1)}}}setKeysChangedFC(e,n){this.keysChangedFCMap[e]&&console.error(`repeated keyboard events: ${e}`),this.keysChangedFCMap[e]=n}};let uh=q0;pt(uh,"_Obj");function eO(t){return V.useEffect(()=>{let e=uh.Obj;for(let n in t)n.match(/onKey[A-Z]\w+/)&&e.setKeysChangedFC(n,t[n])},[]),R(Er,{})}const tO=({radius:t,color:e,alpha:n=1,...r},i)=>{const s=V.useCallback(o=>{o.clear(),o.beginFill(e,n),o.drawCircle(0,0,t),o.endFill()},[t,e,n]);return R(Bt.Graphics,{ref:i,draw:s,...r})},nO=V.forwardRef(tO),rO=new Yn({align:"center",fill:"#333333"});function iO(t){const{state:e,dispatch:n}=V.useContext(Ae),{status:r,autoSpinCount:i}=e.spin,{betPanelOn:s,autoSpinPanelOn:o}=e.setting,u=r=="idle",h=r=="spin",d=r=="stopping",m=h||d,c=i!=0;V.useEffect(()=>{},[]);function f(){i!=0?n({type:tw}):n({type:Xg,value:!o})}function g(){n({type:Vg,value:!s})}function v(){h||n({type:Qx})}return V.useEffect(()=>{u&&(i=="∞"||i>0)&&v()},[r]),me(xt,{x:790,y:86,...t,children:[R(eO,{onKeySpace:v}),R(ut,{id:nn,name:"betpanel-bg.png"}),me(lh,{pointerup:f,interactive:!m||c,children:[me(xt,{visible:!c,children:[R(ut,{x:76,y:45,anchor:[.5,0],tint:m?8947848:15912821,id:nn,name:"icon-autospin.png"}),R(ut,{x:76,y:85,anchor:[.5,0],tint:m?8947848:15912821,id:os,name:"autospintext-l.png"})]}),me(xt,{visible:c,children:[R(ut,{x:76,y:30,anchor:[.5,0],tint:15912821,id:nn,name:"autspincount.png"}),R(Bt.Text,{x:76,y:80,anchor:.5,text:`${i}`,style:rO}),R(Ug,{from:{rotation:0},to:{rotation:Math.PI*2},duration:2e3,repeat:Number.MAX_VALUE,playing:c,children:({...b})=>R(ut,{x:76,y:80,anchor:[.5,.5],tint:15912821,id:nn,name:"stopautoeffect.png",...b})})]})]}),me(lh,{x:23,y:142,scale:.88,pointerup:v,interactive:!h,children:[me(xt,{visible:r=="toBonus",children:[R(ut,{id:nn,name:"play.png"}),R(ut,{id:nn,name:"spinhint.png"})]}),R(ut,{visible:r=="showWinLine"||r=="showWinAmount",id:nn,name:"skip.png"}),me(xt,{visible:u||h,children:[R(ut,{id:nn,name:"spin.png"}),R(nO,{visible:h,x:62,y:62,radius:72,alpha:.5}),R(Ug,{from:{rotation:0},to:{rotation:Math.PI*2},duration:u?2e4:500,repeat:Number.MAX_VALUE,playing:!0,children:({...b})=>R(ut,{x:62,y:62,anchor:[.5,.5],id:nn,name:"spinhint.png",...b})})]}),R(ut,{visible:d,id:nn,name:"stop.png"})]}),me(lh,{pointerup:g,interactive:!m,children:[R(ut,{x:76,y:280,anchor:[.5,0],tint:m?8947848:15912821,id:nn,name:"icon-bet.png"}),R(ut,{x:76,y:320,anchor:[.5,0],tint:m?8947848:15912821,id:os,name:"bettext.png"})]})]})}const eu=Tl.Obj;function Px({channelId:t=nu,name:e,volum:n=1,playing:r=!0,softBgm:i}){return V.useEffect(()=>{r&&eu.play(t,e,n,i)}),R(Er,{})}function sO({channelId:t=nu,name:e="bgm",volum:n=1,playing:r=!0,soft:i=.3}){return V.useEffect(()=>{r?eu.playBgm(t,e,n,i):eu.pause(t,e)},[t,e,r]),R(Er,{})}function oO({channelId:t=nu,name:e="spin",volum:n=1,softBgm:r}){const{state:i}=V.useContext(Ae);return V.useEffect(()=>{i.spin.status=="spin"&&eu.play(t,e,n,r)},[i.spin.status]),R(Er,{})}function aO({channelId:t=nu,name:e="winmeter",volum:n=1,softBgm:r}){const{state:i}=V.useContext(Ae);return V.useEffect(()=>{i.spin.status=="showWinAmount"&&eu.play(t,e,n,r)},[i.spin.status]),R(Er,{})}function lO(t,e){return{amount:t?t.lineMultiplier:0,playing:e=="showWinAmount"}}function uO({amount:t,playing:e,...n}){return me(xt,{...n,visible:e,children:[R(ut,{id:nn,name:"win-amount.png"}),R(Ug,{from:{k:0},to:{k:t},playing:e,duration:1500,children:({k:r})=>R(Bt.BitmapText,{x:241,y:40,anchor:.5,text:r.toFixed(2),style:{fontName:Wx,fontSize:50,align:"center"}})})]})}function cO({children:t}){const{state:e,dispatch:n}=V.useContext(Ae),{status:r,responseModel:i}=e.spin,[s,o]=V.useState();function u(){s&&clearTimeout(s)}return V.useEffect(()=>{if(r=="showWinAmount"){let h=setTimeout(()=>{n({type:Zx})},2e3);o(h)}else u()},[e.spin.status]),t(lO(i,r))}const hO=new Yn({align:"center",fill:"#ffff00"}),dO=[95,200,305],fO=[-12,102,216,330,444],pO=(()=>{let t=[];for(let e=0;e<5;e++){let n=[];t.push(n);for(let r=0;r<3;r++)n.push([fO[e],dO[r]])}return t})();function mO({winAmount:t,configs:e}){let n=e[0]||{column:0,row:0},r=pO[n.column][n.row];return me(xt,{x:r[0],y:r[1],visible:e.length>0,children:[R(ut,{width:130,height:44,id:nn,name:"win-amount-1.png"}),R(Bt.Text,{x:65,y:20,anchor:.5,text:`${t}`,style:hO})]})}const gO=({...t})=>{const{state:e,dispatch:n}=V.useContext(Ae);e.game.url;const{row:r,column:i,symbolFrame:s}=e.game.table;return me(LT,{...t,children:[R(Nb,{name:jx}),R(GD,{x:200,y:95,children:R(QD,{maxSymbolIndex:11,children:o=>me(Er,{children:[o.reelStates.map((u,h)=>R($D,{x:s[0]*h,symbolStates:u},`reel_${h}`)),R(Px,{name:"reelstop",volum:1,playing:o.reelStop,softBgm:!1})]})})}),R(cO,{children:o=>R(uO,{x:480,y:410,pivot:[240,0],...o})}),R(dA,{children:o=>me(xt,{x:200,y:95,children:[R(JD,{lineId:o.lineId,lineConfig:{width:5,color:16776960,border:2,borderColor:7995647}}),o.configs.map((u,h)=>R(WD,{row:u.row,symbol:u.symbol,x:s[0]*u.column},`reelActive_${h}`)),R(Px,{name:`symbol_${o.symbol}`,volum:1,playing:Ki(o.symbol),softBgm:!0},`symbol_sound_${o.soundId}`),R(mO,{winAmount:o.winAmount,configs:o.configs})]})}),R(iO,{}),R(jD,{}),R(ut,{x:480,y:0,scale:.9,anchor:[.5,0],id:os,name:"logo.png"}),R(oO,{}),R(aO,{softBgm:!0}),R(sO,{playing:!0})]})};function qe({children:t,tmp:e,...n}){return R("div",{...n,children:e?V.Children.map(e,r=>_1(nm,r)).reduce((r,i)=>r+i,""):_1(nm,t)})}function _O(){const{state:t}=V.useContext(Ae);return R("div",{className:"info-bar-mod",children:me("div",{className:"list",children:[me("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon username",src:""}),me("div",{className:"detail",children:[R("div",{className:"value",children:"stanley"}),R(qe,{className:"description",children:"username"})]})]}),me("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon bet",src:""}),me("div",{className:"detail",children:[R("div",{className:"value",children:`USD ${t.spin.betAmount*8}`}),R(qe,{className:"description",children:"totalbet"})]})]}),me("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon win",src:""}),me("div",{className:"detail",children:[R("div",{className:"value",children:"8888"}),R(qe,{className:"description",children:"win"})]})]}),me("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon balance",src:""}),me("div",{className:"detail",children:[R("div",{className:"value",children:"8888"}),R(qe,{className:"description",children:"balance"})]})]}),me("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon time",src:""}),me("div",{className:"detail",children:[R("div",{className:"value",children:"17:48:00(GTM+8)"}),R(qe,{className:"description",children:"time"})]})]})]})})}function vO(){const{state:t,dispatch:e}=V.useContext(Ae),{menuOn:n,soundOn:r}=t.setting;function i(h){e({type:jg,value:!1})}function s(){e({type:Wg,value:!0})}function o(h){e({type:Yx,value:!r}),h.stopPropagation()}function u(){}return R("div",{className:`page-mod ${n?"visible":"hidden"}`,onClick:i,children:R("div",{className:`menu-mod ${n?"open":"close"}`,children:me("div",{className:"list",children:[me("div",{className:"item w-33 btn-mod",onClick:s,children:[R("div",{className:"icon-mod icon paytable"}),R(qe,{className:"title",children:"paytable"})]}),me("div",{className:"item w-33 btn-mod",onClick:o,children:[R("div",{className:`icon-mod icon ${r?"sound-on":"sound-off"}`}),R(qe,{className:"title",children:"sound"})]}),me("div",{className:"item w-33 btn-mod",onClick:u,children:[R("div",{className:"icon-mod icon lobby"}),R(qe,{className:"title",children:"lobby"})]})]})})})}function yO({count:t}){const{state:e,dispatch:n}=V.useContext(Ae),r=V.useRef(),{payTableOn:i}=e.setting,{lang:s}=e.game.url;let[o,u]=V.useState(),[h,d]=V.useState(0);function m(x){o={x:x.clientX,y:x.clientY}}function c(){if(o){u(null);let x=Math.round(h);if(x!=h){let S;x<h?S=Math.round(x+Math.min(1,(h-x)*2)):S=Math.round(x+Math.max(-1,(h-x)*2)),new Y0({offset:h}).to({offset:S},100).onUpdate(T=>{d(T.offset)}).start()}}}function f(x){if(o){let S={x:x.clientX,y:x.clientY};h+=(S.x-o.x)/960,h%=t,o=S,d(h),u(o)}}function g(){n({type:Wg,value:!1})}let v,b,E=r.current?r.current.clientWidth:0;return h>=0?(v=h%1,b=Math.ceil(t-h)%t):(v=h%1+1,v==1&&(v=0),b=Math.abs(Math.floor(h))%3),me("div",{ref:r,className:`page-mod ${i?"visible":"hidden"}`,onPointerDown:m,onPointerMove:f,onPointerUp:c,children:[me("div",{className:"paytable-mod",children:[R("div",{className:`item icon-mod info-${(b-1+t)%t}-${s}`,style:{left:`${E*(v-1)}px`}},`infopage_${0}`),R("div",{className:`item icon-mod info-${b}-${s}`,style:{left:`${E*v}px`}},`infopage_${1}`)]}),R("div",{className:"close-icon btn-mod",onClick:g,style:{float:"right",marginTop:"0.5rem",marginRight:"1rem"}})]})}const xO=V.forwardRef(function({className:e,list:n,displayCount:r=5,direction:i="V",onSelectedChanged:s},o){const u=V.useRef();let[h,d]=V.useState(),[m,c]=V.useState(0);const f=n.length;function g(P,D=!0){D?new Y0({offset:m}).to({offset:P},100).onUpdate(N=>{c(N.offset)}).onComplete(()=>{c(P),s&&s((f-P)%f)}).start():(c(P),s&&s((f-P)%f))}function v(P){h={x:P.clientX,y:P.clientY}}function b(P){if(h&&u.current){let D={x:P.clientX,y:P.clientY};m+=i=="H"?(D.x-h.x)/(u.current.clientWidth/r):(D.y-h.y)/(u.current.clientHeight/r),m=(m+f)%f,h=D,c(m),d(h)}}function E(){if(h){d(null);let P=Math.round(m);P!=m&&g(P)}}V.useImperativeHandle(o,()=>({toFirst:()=>{g(0)},toLast:()=>{g(1)},selected:m}));let x,S,T=100/r;m>=0?(x=m%1,S=Math.ceil(f-m)%f):(x=m%1+1,x==1&&(x=0),S=Math.abs(Math.floor(m))%3);let C=[];for(let P=-Math.floor(r/2);P<Math.ceil(r/2);P++){let D=i=="H"?{left:`${T*(x+P+(r-1)/2)}%`,height:"100%",width:`${T}%`,lineHeight:`${u.current?u.current.clientHeight:0}px`}:{top:`${T*(x+P+(r-1)/2)}%`,height:`${T}%`,width:"100%",fontSize:`${100-Math.abs(P)*10}%`,lineHeight:`${u.current?u.current.clientHeight/r:0}px`};C.push(R("div",{className:`item ${P==0?"selected":""}`,style:D,children:n[(S+P+f)%f]},`scroll-select_${P}`))}return R("div",{ref:u,className:`scroll-select-mod${e?" "+e:""}`,onPointerDown:v,onPointerMove:b,onPointerLeave:E,onPointerUp:E,children:C})});const Hc=["0.01","0.02","0.03","0.04","0.05","0.06","0.08","0.10","0.20","0.30","0.40","0.50","0.60","0.70","0.80","0.90","1.00"];function wO(){const{state:t,dispatch:e}=V.useContext(Ae),{betPanelOn:n}=t.setting,{lang:r}=t.game.url,[i,s]=V.useState(0);let o=V.useRef();function u(){e({type:Vg,value:!1})}function h(c){c.stopPropagation(),o.current.toLast()}function d(){e({type:Jx,value:Number(Hc[i])}),u()}function m(c){s(c)}return R("div",{className:`page-mod ${n?"visible":"hidden"}`,onClick:u,children:me("div",{className:`bet-panel-mod ${n?"open":"close"}`,onClick:c=>c.stopPropagation(),children:[R("div",{className:"arrow-icon btn-mod arrow-btn down",onClick:u}),R(qe,{className:"title",children:"betsetting"}),R("div",{className:"bet-section",children:me("div",{className:"cell clearfix",children:[R(qe,{className:"item0",children:"line"}),R("div",{className:"item1",children:"8"}),R("div",{className:"item3",children:R(xO,{className:"select",list:Hc,ref:o,onSelectedChanged:m})}),R(qe,{className:"item2",tmp:["linebet","(","USD",")"]})]})}),R("div",{className:"line"}),me("div",{className:"bottom clearfix",children:[me("div",{className:"left",children:[R(qe,{className:"detail",tmp:["totalbet","(","USD",")"]}),R("div",{className:"value",children:`${Number(Hc[i])*8}`})]}),R(qe,{className:"btn btn1 select btn-mod-1",onClick:d,children:"confirm"}),R(qe,{className:`btn btn0 btn-mod-1 ${r} ${i==Hc.length-1?"select":""}`,onClick:h,children:"maxbet"})]})]})})}const Ix=[10,25,50,75,100,Zh],tm=["5x","10x","20x","50x",Zh];function bO(){const{state:t,dispatch:e}=V.useContext(Ae),{autoSpinPanelOn:n}=t.setting,{lang:r}=t.game.url,[i,s]=V.useState(!1),[o,u]=V.useState(0),[h,d]=V.useState(4),m=V.useRef(),c=V.useRef(),f=V.useRef();function g(){e({type:Xg,value:!n})}function v(){s(!i)}function b(){e({type:ew,value:{autoSpinCount:Ix[o],stopAutoSpinLimit:{totalBetTimes:Number(m.current.value)||tm[h],signleWin:Number(c.current.value),balanceTo:Number(f.current.value)}}}),g()}return R("div",{className:`page-mod page-mod-auto-spin ${n?"visible":"hidden"}`,onClick:g,children:me("div",{className:`auto-spin-mod ${n?i?"expand ":"open":"close"}`,onClick:E=>E.stopPropagation(),children:[R("div",{className:`arrow-icon btn-mod arrow-btn ${i?"down":"up"}`,onClick:v}),me("div",{children:[R(qe,{className:"title",children:"autospin"}),me("div",{children:[me("div",{children:[R("div",{className:"left",children:R(qe,{className:"sub-title",style:{paddingLeft:"0"},children:"numspins"})}),R("div",{className:"right",children:R("div",{className:"list",children:Ix.map((E,x)=>R("div",{className:`btn-item btn-mod-1 ${o==x?"selected":""}`,onClick:S=>u(x),children:E},`auto-spin-selected${x}`))})})]}),R("div",{className:`${i?"dn":"db"}`,children:R(qe,{className:"btn-item start selected btn-mod-1",onClick:b,children:"startautospin"})})]})]}),R("div",{className:"line"}),me("div",{children:[R("div",{className:"",children:R(qe,{className:"sub-title",children:"stoplosslimit"})}),me("div",{children:[R("div",{className:"left",children:R(qe,{className:"detail",children:"totalbet"})}),R("div",{className:"right",children:R("div",{className:"list",children:tm.map((E,x)=>R("div",{className:`btn-item btn-mod-1 ${h==x?"selected":""} ${tm.length-1==x?"no-limit":""}`,onClick:S=>d(x),children:E},`loss-total-bet${x}`))})})]}),me("div",{style:{marginTop:"0.5rem"},children:[R("div",{className:"left",children:R(qe,{className:"detail",children:"custom"})}),R("div",{className:"right",children:R("input",{ref:m,className:"input-item custom",type:"number"})})]})]}),R("div",{className:"line"}),me("div",{children:[R("div",{className:"",children:R(qe,{className:"sub-title",children:"stopautospin"})}),me("div",{style:{marginTop:"0.5rem"},children:[R("div",{className:"left",children:R(qe,{className:`detail ${r}`,children:"winexceeds"})}),R("div",{className:"right",children:R("input",{ref:c,className:"input-item",type:"number"})})]}),me("div",{style:{marginTop:"0.5rem"},children:[R("div",{className:"left",children:R(qe,{className:"detail",children:"balanceincresses"})}),me("div",{className:"right",children:[R("input",{ref:f,className:"input-item",type:"number"}),R(qe,{className:"btn-item start-expand btn-mod-1 selected",onClick:b,children:"startautospin"})]})]})]})]})})}const SO=()=>me(ND,{id:"game-canvas",className:"game-context-mod",children:[me(OD,{children:[R(zD,{id:"preload",next:"loading"}),R(UD,{id:"loading",next:"main"}),R(gO,{id:"main"})]}),R(_O,{}),R(vO,{}),R(yO,{count:3}),R(wO,{}),R(bO,{})]});aD(R(SO,{}));
