var aC=Object.defineProperty;var lC=(t,e,n)=>e in t?aC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pt=(t,e,n)=>(lC(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Sl={},hC={get exports(){return Sl},set exports(t){Sl=t}},qh={},Y={},dC={get exports(){return Y},set exports(t){Y=t}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),fC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),vC=Symbol.for("react.context"),yC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),wC=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),zv=Symbol.iterator;function SC(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Px={};function pa(t,e,n){this.props=t,this.context=e,this.refs=Px,this.updater=n||Cx}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ix(){}Ix.prototype=pa.prototype;function Bg(t,e,n){this.props=t,this.context=e,this.refs=Px,this.updater=n||Cx}var Lg=Bg.prototype=new Ix;Lg.constructor=Bg;Ax(Lg,pa.prototype);Lg.isPureReactComponent=!0;var Hv=Array.isArray,Rx=Object.prototype.hasOwnProperty,Fg={current:null},kx={key:!0,ref:!0,__self:!0,__source:!0};function Mx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Rx.call(e,r)&&!kx.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),d=0;d<u;d++)h[d]=arguments[d+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Zl,type:t,key:s,ref:o,props:i,_owner:Fg.current}}function TC(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function EC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gv=/\/+/g;function Xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EC(""+t.key):e.toString(36)}function Fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zl:case fC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xf(o,0):r,Hv(i)?(n="",t!=null&&(n=t.replace(Gv,"$&/")+"/"),Fc(i,e,n,"",function(d){return d})):i!=null&&(Ug(i)&&(i=TC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hv(t))for(var u=0;u<t.length;u++){s=t[u];var h=r+Xf(s,u);o+=Fc(s,e,n,h,i)}else if(h=SC(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=r+Xf(s,u++),o+=Fc(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],i=0;return Fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function CC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Uc={transition:null},AC={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Fg};Pe.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!Ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=pa;Pe.Fragment=pC;Pe.Profiler=gC;Pe.PureComponent=Bg;Pe.StrictMode=mC;Pe.Suspense=xC;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ax({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Rx.call(e,h)&&!kx.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var d=0;d<h;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Zl,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:vC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_C,_context:t},t.Consumer=t};Pe.createElement=Mx;Pe.createFactory=function(t){var e=Mx.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:yC,render:t}};Pe.isValidElement=Ug;Pe.lazy=function(t){return{$$typeof:bC,_payload:{_status:-1,_result:t},_init:CC}};Pe.memo=function(t,e){return{$$typeof:wC,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return rn.current.useCallback(t,e)};Pe.useContext=function(t){return rn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return rn.current.useEffect(t,e)};Pe.useId=function(){return rn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return rn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Pe.useRef=function(t){return rn.current.useRef(t)};Pe.useState=function(t){return rn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return rn.current.useTransition()};Pe.version="18.2.0";(function(t){t.exports=Pe})(dC);const di=uC(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=Y,IC=Symbol.for("react.element"),RC=Symbol.for("react.fragment"),kC=Object.prototype.hasOwnProperty,MC=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NC={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kC.call(e,r)&&!NC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IC,type:t,key:s,ref:o,props:i,_owner:MC.current}}qh.Fragment=RC;qh.jsx=Nx;qh.jsxs=Nx;(function(t){t.exports=qh})(hC);const wi=Sl.Fragment,R=Sl.jsx,ve=Sl.jsxs;function Yi(t){return t!=null}function Tl(t){return t==null}function DC(t){return Object.keys(t).length===0&&t.constructor===Object}function OC(...t){let e={};for(let n=0;n<t.length;n++){let r=t[n];if(r!=null)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}const V0=class{constructor(){pt(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new V0),this._Obj}map(e,n){let r=new HC(e,n);return this.mappings[e]=r,r}unmap(e){this.mappings[e]=void 0}get(e,...n){let r=this.mappings[e];if(!Tl(r))return r.get(n)}resolve(){console.warn("Injector.resolve() is not implement yet")}};let zc=V0;pt(zc,"_Obj");class BC{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class LC{constructor(e){this.type=e}get(e){return Dx(this.type,e)}destroy(){this.type=void 0}}class FC{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class UC{constructor(e){pt(this,"instance");this.type=e}get(e){return Tl(this.instance)&&(this.instance=Dx(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class zC{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class HC{constructor(e,n){pt(this,"provider");this.name=e,this.type=n}get(e){return Tl(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new BC(e)}toType(e){this.destroy(),this.provider=new LC(e)}toSingleton(e){this.destroy(),this.provider=new UC(e)}asSingleton(){if(this.destroy(),Tl(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new zC(e)}toFunction(e){this.destroy(),this.provider=new FC(e)}destroy(){Yi(this.provider)&&this.provider.destroy()}}function Dx(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const bi=zc.Obj;function Ua(t){return bi.get(`action_fc:${t}`)}function GC(t,e){bi.map(`action_init:${t}`).toValue(e)}function To(t){return bi.get(`action_init:${t}`)}const Ox="httpService";function $C(t){return bi.map(Ox).toSingleton(t)}function jC(){return bi.get(Ox)}function WC(t,e){return bi.map(`parser:${t}`).toValue(e)}function VC(t){return bi.get(`parser:${t}`)}function Zh(t,e){bi.map(`components:${t}`).toValue(e)}function Jh(t){return bi.get(`components:${t}`)}function XC(t,e,n){Zh(`${t}:${e}`,n)}function Bx(t,e){return Jh(`${t}:${e}`)}function Lx(t,...e){e.map((n,r)=>XC(t,r,n))}var _e={},YC={get exports(){return _e},set exports(t){_e=t}},eo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(eo||{}),em=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(em||{}),ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ge||{}),fr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(fr||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),Vo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Vo||{}),me=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(me||{}),tm=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(tm||{}),li=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(li||{}),fi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(fi||{}),Vr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Vr||{}),br=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(br||{}),Lr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Lr||{}),zg=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(zg||{}),$n=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))($n||{}),bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(bt||{}),ht=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ht||{}),Gr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Gr||{});const QC={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:QC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Yf=/iPhone/i,$v=/iPod/i,jv=/iPad/i,Wv=/\biOS-universal(?:.+)Mac\b/i,Qf=/\bAndroid(?:.+)Mobile\b/i,Vv=/Android/i,yo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ku=/Silk/i,ni=/Windows Phone/i,Xv=/\bWindows(?:.+)ARM\b/i,Yv=/BlackBerry/i,Qv=/BB10/i,Kv=/Opera Mini/i,qv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Zv=/Mobile(?:.+)Firefox\b/i,Jv=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function KC(t){return function(e){return e.test(t)}}function qC(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=KC(n),s={apple:{phone:i(Yf)&&!i(ni),ipod:i($v),tablet:!i(Yf)&&(i(jv)||Jv(e))&&!i(ni),universal:i(Wv),device:(i(Yf)||i($v)||i(jv)||i(Wv)||Jv(e))&&!i(ni)},amazon:{phone:i(yo),tablet:!i(yo)&&i(Ku),device:i(yo)||i(Ku)},android:{phone:!i(ni)&&i(yo)||!i(ni)&&i(Qf),tablet:!i(ni)&&!i(yo)&&!i(Qf)&&(i(Ku)||i(Vv)),device:!i(ni)&&(i(yo)||i(Ku)||i(Qf)||i(Vv))||i(/\bokhttp\b/i)},windows:{phone:i(ni),tablet:i(Xv),device:i(ni)||i(Xv)},other:{blackberry:i(Yv),blackberry10:i(Qv),opera:i(Kv),firefox:i(Zv),chrome:i(qv),device:i(Yv)||i(Qv)||i(Kv)||i(Zv)||i(qv)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const zr=qC(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Vs={},ZC={get exports(){return Vs},set exports(t){Vs=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function s(h,d,m,c,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new i(m,c||h,f),v=n?n+d:d;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],g]:h._events[v].push(g):(h._events[v]=g,h._eventsCount++),h}function o(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,c;if(this._eventsCount===0)return d;for(c in m=this._events)e.call(m,c)&&d.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,c=this._events[m];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,g=c.length,v=new Array(g);f<g;f++)v[f]=c[f].fn;return v},u.prototype.listenerCount=function(d){var m=n?n+d:d,c=this._events[m];return c?c.fn?1:c.length:0},u.prototype.emit=function(d,m,c,f,g,v){var b=n?n+d:d;if(!this._events[b])return!1;var E=this._events[b],x=arguments.length,S,T;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,c),!0;case 4:return E.fn.call(E.context,m,c,f),!0;case 5:return E.fn.call(E.context,m,c,f,g),!0;case 6:return E.fn.call(E.context,m,c,f,g,v),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];E.fn.apply(E.context,S)}else{var C=E.length,P;for(T=0;T<C;T++)switch(E[T].once&&this.removeListener(d,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,m);break;case 3:E[T].fn.call(E[T].context,m,c);break;case 4:E[T].fn.call(E[T].context,m,c,f);break;default:if(!S)for(P=1,S=new Array(x-1);P<x;P++)S[P-1]=arguments[P];E[T].fn.apply(E[T].context,S)}}return!0},u.prototype.on=function(d,m,c){return s(this,d,m,c,!1)},u.prototype.once=function(d,m,c){return s(this,d,m,c,!0)},u.prototype.removeListener=function(d,m,c,f){var g=n?n+d:d;if(!this._events[g])return this;if(!m)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===m&&(!f||v.once)&&(!c||v.context===c)&&o(this,g);else{for(var b=0,E=[],x=v.length;b<x;b++)(v[b].fn!==m||f&&!v[b].once||c&&v[b].context!==c)&&E.push(v[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(ZC);var uh={},JC={get exports(){return uh},set exports(t){uh=t}};JC.exports=ed;uh.default=ed;function ed(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=Fx(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,d,m,c,f,g;if(r&&(s=iA(t,e,s,n)),t.length>80*n){u=d=t[0],h=m=t[1];for(var v=n;v<i;v+=n)c=t[v],f=t[v+1],c<u&&(u=c),f<h&&(h=f),c>d&&(d=c),f>m&&(m=f);g=Math.max(d-u,m-h),g=g!==0?32767/g:0}return El(s,o,n,u,h,g,0),o}function Fx(t,e,n,r,i){var s,o;if(i===im(t,e,n,r)>0)for(s=e;s<n;s+=r)o=ey(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=ey(s,t[s],t[s+1],o);return o&&td(o,o.next)&&(Al(o),o=o.next),o}function Xs(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(td(n,n.next)||it(n.prev,n,n.next)===0)){if(Al(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function El(t,e,n,r,i,s,o){if(t){!o&&s&&uA(t,r,i,s);for(var u=t,h,d;t.prev!==t.next;){if(h=t.prev,d=t.next,s?tA(t,r,i,s):eA(t)){e.push(h.i/n|0),e.push(t.i/n|0),e.push(d.i/n|0),Al(t),t=d.next,u=d.next;continue}if(t=d,t===u){o?o===1?(t=nA(Xs(t),e,n),El(t,e,n,r,i,s,2)):o===2&&rA(t,e,n,r,i,s):El(Xs(t),e,n,r,i,s,1);break}}}}function eA(t){var e=t.prev,n=t,r=t.next;if(it(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,u=e.y,h=n.y,d=r.y,m=i<s?i<o?i:o:s<o?s:o,c=u<h?u<d?u:d:h<d?h:d,f=i>s?i>o?i:o:s>o?s:o,g=u>h?u>d?u:d:h>d?h:d,v=r.next;v!==e;){if(v.x>=m&&v.x<=f&&v.y>=c&&v.y<=g&&ko(i,u,s,h,o,d,v.x,v.y)&&it(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function tA(t,e,n,r){var i=t.prev,s=t,o=t.next;if(it(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,d=o.x,m=i.y,c=s.y,f=o.y,g=u<h?u<d?u:d:h<d?h:d,v=m<c?m<f?m:f:c<f?c:f,b=u>h?u>d?u:d:h>d?h:d,E=m>c?m>f?m:f:c>f?c:f,x=nm(g,v,e,n,r),S=nm(b,E,e,n,r),T=t.prevZ,C=t.nextZ;T&&T.z>=x&&C&&C.z<=S;){if(T.x>=g&&T.x<=b&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&ko(u,m,h,c,d,f,T.x,T.y)&&it(T.prev,T,T.next)>=0||(T=T.prevZ,C.x>=g&&C.x<=b&&C.y>=v&&C.y<=E&&C!==i&&C!==o&&ko(u,m,h,c,d,f,C.x,C.y)&&it(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;T&&T.z>=x;){if(T.x>=g&&T.x<=b&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&ko(u,m,h,c,d,f,T.x,T.y)&&it(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;C&&C.z<=S;){if(C.x>=g&&C.x<=b&&C.y>=v&&C.y<=E&&C!==i&&C!==o&&ko(u,m,h,c,d,f,C.x,C.y)&&it(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function nA(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!td(i,s)&&Ux(i,r,r.next,s)&&Cl(i,s)&&Cl(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Al(r),Al(r.next),r=t=s),r=r.next}while(r!==t);return Xs(r)}function rA(t,e,n,r,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&dA(o,u)){var h=zx(o,u);o=Xs(o,o.next),h=Xs(h,h.next),El(o,e,n,r,i,s,0),El(h,e,n,r,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function iA(t,e,n,r){var i=[],s,o,u,h,d;for(s=0,o=e.length;s<o;s++)u=e[s]*r,h=s<o-1?e[s+1]*r:t.length,d=Fx(t,u,h,r,!1),d===d.next&&(d.steiner=!0),i.push(hA(d));for(i.sort(sA),s=0;s<i.length;s++)n=oA(i[s],n);return n}function sA(t,e){return t.x-e.x}function oA(t,e){var n=aA(t,e);if(!n)return e;var r=zx(n,t);return Xs(r,r.next),Xs(n,n.next)}function aA(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>s&&(s=u,o=n.x<n.next.x?n:n.next,u===r))return o}n=n.next}while(n!==e);if(!o)return null;var h=o,d=o.x,m=o.y,c=1/0,f;n=o;do r>=n.x&&n.x>=d&&r!==n.x&&ko(i<m?r:s,i,d,m,i<m?s:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),Cl(n,t)&&(f<c||f===c&&(n.x>o.x||n.x===o.x&&lA(o,n)))&&(o=n,c=f)),n=n.next;while(n!==h);return o}function lA(t,e){return it(t.prev,t,e.prev)<0&&it(e.next,t,t.next)<0}function uA(t,e,n,r){var i=t;do i.z===0&&(i.z=nm(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,cA(i)}function cA(t){var e,n,r,i,s,o,u,h,d=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,u=0,e=0;e<d&&(u++,r=r.nextZ,!!r);e++);for(h=d;u>0||h>0&&r;)u!==0&&(h===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,d*=2}while(o>1);return t}function nm(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function hA(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ko(t,e,n,r,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(r-u)>=(n-o)*(e-u)&&(n-o)*(s-u)>=(i-o)*(r-u)}function dA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fA(t,e)&&(Cl(t,e)&&Cl(e,t)&&pA(t,e)&&(it(t.prev,t,e.prev)||it(t,e.prev,e))||td(t,e)&&it(t.prev,t,t.next)>0&&it(e.prev,e,e.next)>0)}function it(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function td(t,e){return t.x===e.x&&t.y===e.y}function Ux(t,e,n,r){var i=Zu(it(t,e,n)),s=Zu(it(t,e,r)),o=Zu(it(n,r,t)),u=Zu(it(n,r,e));return!!(i!==s&&o!==u||i===0&&qu(t,n,e)||s===0&&qu(t,r,e)||o===0&&qu(n,t,r)||u===0&&qu(n,e,r))}function qu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zu(t){return t>0?1:t<0?-1:0}function fA(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ux(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Cl(t,e){return it(t.prev,t,t.next)<0?it(t,e,t.next)>=0&&it(t,t.prev,e)>=0:it(t,e,t.prev)<0||it(t,t.next,e)<0}function pA(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function zx(t,e){var n=new rm(t.i,t.x,t.y),r=new rm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ey(t,e,n,r){var i=new rm(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Al(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rm(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ed.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(im(t,0,s,n));if(i)for(var u=0,h=e.length;u<h;u++){var d=e[u]*n,m=u<h-1?e[u+1]*n:t.length;o-=Math.abs(im(t,d,m,n))}var c=0;for(u=0;u<r.length;u+=3){var f=r[u]*n,g=r[u+1]*n,v=r[u+2]*n;c+=Math.abs((t[f]-t[v])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[v+1]-t[f+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function im(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}ed.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var ch={},mA={get exports(){return ch},set exports(t){ch=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof zi=="object"&&zi;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,u=2147483647,h=36,d=1,m=26,c=38,f=700,g=72,v=128,b="-",E=/^xn--/,x=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-d,P=Math.floor,D=String.fromCharCode,N;function O(M){throw RangeError(T[M])}function H(M,Z){for(var ie=M.length,Se=[];ie--;)Se[ie]=Z(M[ie]);return Se}function X(M,Z){var ie=M.split("@"),Se="";ie.length>1&&(Se=ie[0]+"@",M=ie[1]),M=M.replace(S,".");var we=M.split("."),Fe=H(we,Z).join(".");return Se+Fe}function Q(M){for(var Z=[],ie=0,Se=M.length,we,Fe;ie<Se;)we=M.charCodeAt(ie++),we>=55296&&we<=56319&&ie<Se?(Fe=M.charCodeAt(ie++),(Fe&64512)==56320?Z.push(((we&1023)<<10)+(Fe&1023)+65536):(Z.push(we),ie--)):Z.push(we);return Z}function re(M){return H(M,function(Z){var ie="";return Z>65535&&(Z-=65536,ie+=D(Z>>>10&1023|55296),Z=56320|Z&1023),ie+=D(Z),ie}).join("")}function V(M){return M-48<10?M-22:M-65<26?M-65:M-97<26?M-97:h}function z(M,Z){return M+22+75*(M<26)-((Z!=0)<<5)}function ye(M,Z,ie){var Se=0;for(M=ie?P(M/f):M>>1,M+=P(M/Z);M>C*m>>1;Se+=h)M=P(M/C);return P(Se+(C+1)*M/(M+c))}function xe(M){var Z=[],ie=M.length,Se,we=0,Fe=v,Ee=g,Le,Ct,At,at,Ce,Ve,Ne,Rn,kn;for(Le=M.lastIndexOf(b),Le<0&&(Le=0),Ct=0;Ct<Le;++Ct)M.charCodeAt(Ct)>=128&&O("not-basic"),Z.push(M.charCodeAt(Ct));for(At=Le>0?Le+1:0;At<ie;){for(at=we,Ce=1,Ve=h;At>=ie&&O("invalid-input"),Ne=V(M.charCodeAt(At++)),(Ne>=h||Ne>P((u-we)/Ce))&&O("overflow"),we+=Ne*Ce,Rn=Ve<=Ee?d:Ve>=Ee+m?m:Ve-Ee,!(Ne<Rn);Ve+=h)kn=h-Rn,Ce>P(u/kn)&&O("overflow"),Ce*=kn;Se=Z.length+1,Ee=ye(we-at,Se,at==0),P(we/Se)>u-Fe&&O("overflow"),Fe+=P(we/Se),we%=Se,Z.splice(we++,0,Fe)}return re(Z)}function te(M){var Z,ie,Se,we,Fe,Ee,Le,Ct,At,at,Ce,Ve=[],Ne,Rn,kn,gs;for(M=Q(M),Ne=M.length,Z=v,ie=0,Fe=g,Ee=0;Ee<Ne;++Ee)Ce=M[Ee],Ce<128&&Ve.push(D(Ce));for(Se=we=Ve.length,we&&Ve.push(b);Se<Ne;){for(Le=u,Ee=0;Ee<Ne;++Ee)Ce=M[Ee],Ce>=Z&&Ce<Le&&(Le=Ce);for(Rn=Se+1,Le-Z>P((u-ie)/Rn)&&O("overflow"),ie+=(Le-Z)*Rn,Z=Le,Ee=0;Ee<Ne;++Ee)if(Ce=M[Ee],Ce<Z&&++ie>u&&O("overflow"),Ce==Z){for(Ct=ie,At=h;at=At<=Fe?d:At>=Fe+m?m:At-Fe,!(Ct<at);At+=h)gs=Ct-at,kn=h-at,Ve.push(D(z(at+gs%kn,0))),Ct=P(gs/kn);Ve.push(D(z(Ct,0))),Fe=ye(ie,Rn,Se==we),ie=0,++Se}++ie,++Z}return Ve.join("")}function B(M){return X(M,function(Z){return E.test(Z)?xe(Z.slice(4).toLowerCase()):Z})}function W(M){return X(M,function(Z){return x.test(Z)?"xn--"+te(Z):Z})}if(o={version:"1.3.2",ucs2:{decode:Q,encode:re},decode:xe,encode:te,toASCII:W,toUnicode:B},r&&i)if(t.exports==r)i.exports=o;else for(N in o)o.hasOwnProperty(N)&&(r[N]=o[N]);else n.punycode=o})(zi)})(mA,ch);var gA={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Pl={};function _A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var vA=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var u=t.length;o>0&&u>o&&(u=o);for(var h=0;h<u;++h){var d=t[h].replace(s,"%20"),m=d.indexOf(n),c,f,g,v;m>=0?(c=d.substr(0,m),f=d.substr(m+1)):(c=d,f=""),g=decodeURIComponent(c),v=decodeURIComponent(f),_A(i,g)?Array.isArray(i[g])?i[g].push(v):i[g]=[i[g],v]:i[g]=v}return i},za=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},yA=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(za(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(za(o))}).join(e):s+encodeURIComponent(za(t[i]))}).join(e):r?encodeURIComponent(za(r))+n+encodeURIComponent(za(t)):""};Pl.decode=Pl.parse=vA;Pl.encode=Pl.stringify=yA;var xA=ch,Fr=gA,wA=nd,bA=NA,SA=MA;function gr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var TA=/^([a-z0-9.+-]+:)/i,EA=/:[0-9]*$/,CA=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,AA=["<",">",'"',"`"," ","\r",`
`,"	"],PA=["{","}","|","\\","^","`"].concat(AA),sm=["'"].concat(PA),ty=["%","/","?",";","#"].concat(sm),ny=["/","?","#"],IA=255,ry=/^[+a-z0-9A-Z_-]{0,63}$/,RA=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kA={javascript:!0,"javascript:":!0},om={javascript:!0,"javascript:":!0},Xo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},am=Pl;function nd(t,e,n){if(t&&Fr.isObject(t)&&t instanceof gr)return t;var r=new gr;return r.parse(t,e,n),r}gr.prototype.parse=function(t,e,n){if(!Fr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!n&&t.split("#").length===1){var h=CA.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=am.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=TA.exec(u);if(d){d=d[0];var m=d.toLowerCase();this.protocol=m,u=u.substr(d.length)}if(n||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=u.substr(0,2)==="//";c&&!(d&&om[d])&&(u=u.substr(2),this.slashes=!0)}if(!om[d]&&(c||d&&!Xo[d])){for(var f=-1,g=0;g<ny.length;g++){var v=u.indexOf(ny[g]);v!==-1&&(f===-1||v<f)&&(f=v)}var b,E;f===-1?E=u.lastIndexOf("@"):E=u.lastIndexOf("@",f),E!==-1&&(b=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(b)),f=-1;for(var g=0;g<ty.length;g++){var v=u.indexOf(ty[g]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=u.length),this.host=u.slice(0,f),u=u.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var S=this.hostname.split(/\./),g=0,T=S.length;g<T;g++){var C=S[g];if(C&&!C.match(ry)){for(var P="",D=0,N=C.length;D<N;D++)C.charCodeAt(D)>127?P+="x":P+=C[D];if(!P.match(ry)){var O=S.slice(0,g),H=S.slice(g+1),X=C.match(RA);X&&(O.push(X[1]),H.unshift(X[2])),H.length&&(u="/"+H.join(".")+u),this.hostname=O.join(".");break}}}this.hostname.length>IA?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=xA.toASCII(this.hostname));var Q=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+Q,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!kA[m])for(var g=0,T=sm.length;g<T;g++){var V=sm[g];if(u.indexOf(V)!==-1){var z=encodeURIComponent(V);z===V&&(z=escape(V)),u=u.split(V).join(z)}}var ye=u.indexOf("#");ye!==-1&&(this.hash=u.substr(ye),u=u.slice(0,ye));var xe=u.indexOf("?");if(xe!==-1?(this.search=u.substr(xe),this.query=u.substr(xe+1),e&&(this.query=am.parse(this.query)),u=u.slice(0,xe)):e&&(this.search="",this.query={}),u&&(this.pathname=u),Xo[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",te=this.search||"";this.path=Q+te}return this.href=this.format(),this};function MA(t){return Fr.isString(t)&&(t=nd(t)),t instanceof gr?t.format():gr.prototype.format.call(t)}gr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Fr.isObject(this.query)&&Object.keys(this.query).length&&(s=am.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Xo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+n+o+r};function NA(t,e){return nd(t,!1,!0).resolve(e)}gr.prototype.resolve=function(t){return this.resolveObject(nd(t,!1,!0)).format()};gr.prototype.resolveObject=function(t){if(Fr.isString(t)){var e=new gr;e.parse(t,!1,!0),t=e}for(var n=new gr,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(n[h]=t[h])}return Xo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Xo[t.protocol]){for(var d=Object.keys(t),m=0;m<d.length;m++){var c=d[m];n[c]=t[c]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!om[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),n.pathname=T.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",g=n.search||"";n.path=f+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=b||v||n.host&&t.pathname,x=E,S=n.pathname&&n.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],C=n.protocol&&!Xo[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),E=E&&(T[0]===""||S[0]==="")),b)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=T;else if(T.length)S||(S=[]),S.pop(),S=S.concat(T),n.search=t.search,n.query=t.query;else if(!Fr.isNullOrUndefined(t.search)){if(C){n.hostname=n.host=S.shift();var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return n.search=t.search,n.query=t.query,(!Fr.isNull(n.pathname)||!Fr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var D=S.slice(-1)[0],N=(n.host||t.host||S.length>1)&&(D==="."||D==="..")||D==="",O=0,H=S.length;H>=0;H--)D=S[H],D==="."?S.splice(H,1):D===".."?(S.splice(H,1),O++):O&&(S.splice(H,1),O--);if(!E&&!x)for(;O--;O)S.unshift("..");E&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),N&&S.join("/").substr(-1)!=="/"&&S.push("");var X=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(C){n.hostname=n.host=X?"":S.length?S.shift():"";var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return E=E||n.host&&S.length,E&&!X&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),(!Fr.isNull(n.pathname)||!Fr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};gr.prototype.parseHost=function(){var t=this.host,e=EA.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const DA={parse:wA,format:SA,resolve:bA};function nr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ha(t){return t.split("?")[0].split("#")[0]}function OA(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function BA(t,e,n){return t.replace(new RegExp(OA(e),"g"),n)}function LA(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const h=n.lastIndexOf("/");if(h!==n.length-1){h===-1?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,u)}`:n=t.slice(i+1,u),r=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Et={toPosix(t){return BA(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){nr(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Ha(this.toPosix(e??oe.ADAPTER.getBaseUrl())),i=Ha(this.toPosix(n??this.rootname(r)));return nr(t),t=this.toPosix(t),t.startsWith("/")?Et.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),nr(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=LA(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return nr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(nr(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(nr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){r=u;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){nr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){nr(t),e&&nr(e),t=Ha(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){n=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=u))}return n===r?r=u:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){nr(t),t=Ha(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){nr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ha(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,h=!0,d=t.length-1,m=0;for(;d>=i;--d){if(n=t.charCodeAt(d),n===47){if(!h){o=d+1;break}continue}u===-1&&(h=!1,u=d+1),n===46?s===-1?s=d:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||u===-1||m===0||m===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&r?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},iy={};function Re(t,e,n=3){if(iy[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),iy[e]=!0}let Kf;function FA(){return typeof Kf>"u"&&(Kf=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const r=oe.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Kf}var UA={grad:.9,turn:360,rad:360/(2*Math.PI)},ri=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Mt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},jn=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Hx=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},sy=function(t){return{r:jn(t.r,0,255),g:jn(t.g,0,255),b:jn(t.b,0,255),a:jn(t.a)}},qf=function(t){return{r:Mt(t.r),g:Mt(t.g),b:Mt(t.b),a:Mt(t.a,3)}},zA=/^#([0-9a-f]{3,8})$/i,Ju=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Gx=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),u=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},$x=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),u=r*(1-(e-s)*n),h=r*(1-(1-e+s)*n),d=s%6;return{r:255*[r,u,o,o,h,r][d],g:255*[h,r,r,u,o,o][d],b:255*[o,o,h,r,r,u][d],a:i}},oy=function(t){return{h:Hx(t.h),s:jn(t.s,0,100),l:jn(t.l,0,100),a:jn(t.a)}},ay=function(t){return{h:Mt(t.h),s:Mt(t.s),l:Mt(t.l),a:Mt(t.a,3)}},ly=function(t){return $x((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},dl=function(t){return{h:(e=Gx(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},HA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,GA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$A=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lm={string:[[function(t){var e=zA.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Mt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Mt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=$A.exec(t)||jA.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:sy({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=HA.exec(t)||GA.exec(t);if(!e)return null;var n,r,i=oy({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(UA[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ly(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return ri(e)&&ri(n)&&ri(r)?sy({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!ri(e)||!ri(n)||!ri(r))return null;var o=oy({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return ly(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!ri(e)||!ri(n)||!ri(r))return null;var o=function(u){return{h:Hx(u.h),s:jn(u.s,0,100),v:jn(u.v,0,100),a:jn(u.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return $x(o)},"hsv"]]},uy=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},WA=function(t){return typeof t=="string"?uy(t.trim(),lm.string):typeof t=="object"&&t!==null?uy(t,lm.object):[null,void 0]},Zf=function(t,e){var n=dl(t);return{h:n.h,s:jn(n.s+100*e,0,100),l:n.l,a:n.a}},Jf=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},cy=function(t,e){var n=dl(t);return{h:n.h,s:n.s,l:jn(n.l+100*e,0,100),a:n.a}},um=function(){function t(e){this.parsed=WA(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Mt(Jf(this.rgba),2)},t.prototype.isDark=function(){return Jf(this.rgba)<.5},t.prototype.isLight=function(){return Jf(this.rgba)>=.5},t.prototype.toHex=function(){return e=qf(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Ju(Mt(255*s)):"","#"+Ju(n)+Ju(r)+Ju(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return qf(this.rgba)},t.prototype.toRgbString=function(){return e=qf(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return ay(dl(this.rgba))},t.prototype.toHslString=function(){return e=ay(dl(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=Gx(this.rgba),{h:Mt(e.h),s:Mt(e.s),v:Mt(e.v),a:Mt(e.a,3)};var e},t.prototype.invert=function(){return Dr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Dr(Zf(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Dr(Zf(this.rgba,-e))},t.prototype.grayscale=function(){return Dr(Zf(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Dr(cy(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Dr(cy(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Dr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Mt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=dl(this.rgba);return typeof e=="number"?Dr({h:e,s:n.s,l:n.l,a:n.a}):Mt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Dr(e).toHex()},t}(),Dr=function(t){return t instanceof um?t:new um(t)},hy=[],VA=function(t){t.forEach(function(e){hy.indexOf(e)<0&&(e(um,lm),hy.push(e))})};function XA(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,d=r[this.toHex()];if(d)return d;if(o!=null&&o.closest){var m=this.toRgb(),c=1/0,f="black";if(!s.length)for(var g in n)s[g]=new t(n[g]).toRgb();for(var v in n){var b=(u=m,h=s[v],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));b<c&&(c=b,f=v)}return f}},e.string.push([function(o){var u=o.toLowerCase(),h=u==="transparent"?"#0000":n[u];return h?new t(h).toRgb():null},"name"])}VA([XA]);const Yo=class{constructor(t=16777215){this._components=new Float32Array(4),this._components.fill(1),this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){t instanceof Yo?(this._value=t._value,this._int=t._int,this._components.set(t._components)):this._value!==t&&(this.normalize(t),this._value=t)}get value(){return this._value}toRgba(){const[t,e,n,r]=this._components;return{r:t,g:e,b:n,a:r}}toRgb(){const[t,e,n]=this._components;return{r:t,g:e,b:n}}toRgbaString(){const[t,e,n]=this.toUint8RgbArray();return`rgba(${t},${e},${n},${this.alpha})`}toUint8RgbArray(t){const[e,n,r]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(n*255),t[2]=Math.round(r*255),t}toRgbArray(t){t=t??[];const[e,n,r]=this._components;return t[0]=e,t[1]=n,t[2]=r,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,n,r,i]=Yo.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=n,this._components[2]*=r,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t){if(t===1)return(t*255<<24)+this._int;if(t===0)return 0;let e=this._int>>16&255,n=this._int>>8&255,r=this._int&255;return e=e*t+.5|0,n=n*t+.5|0,r=r*t+.5|0,(t*255<<24)+(e<<16)+(n<<8)+r}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=t,this}round(t){const[e,n,r]=this._components;return this._components.set([Math.min(255,e/t*t),Math.min(255,n/t*t),Math.min(255,r/t*t)]),this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,n,r,i]=this._components;return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}normalize(t){let e;if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4&&t.every(n=>n<=1&&n>=0)){const[n,r,i,s=1]=t;e=[n,r,i,s]}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){const[n,r,i,s=255]=t;e=[n/255,r/255,i/255,s/255]}else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const r=Yo.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}const n=Dr(t);if(n.isValid()){const{r,g:i,b:s,a:o}=n.rgba;e=[r/255,i/255,s/255,o]}}else typeof t=="number"&&t>=0&&t<=16777215&&(e=[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255,1]);if(e)this._components.set(e),this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){const[t,e,n]=this._components;this._int=(t*255<<16)+(e*255<<8)+(n*255|0)}};let Ge=Yo;Ge.shared=new Yo;Ge.temp=new Yo;Ge.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function YA(t){return Re("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ge.shared.setValue(t).toHex()}function QA(t){return Re("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ge.shared.setValue(t).toNumber()}function KA(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ge.NORMAL_NPM]=ge.NORMAL,t[ge.ADD_NPM]=ge.ADD,t[ge.SCREEN_NPM]=ge.SCREEN,e[ge.NORMAL]=ge.NORMAL_NPM,e[ge.ADD]=ge.ADD_NPM,e[ge.SCREEN]=ge.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const jx=KA();function Wx(t,e){return jx[e?1:0][t]}function qA(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function Vx(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function hh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function dy(t){return!(t&t-1)&&!!t}function fy(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Qo(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Wi(t){return t===0?0:t<0?-1:1}let ZA=0;function Ys(){return++ZA}const Xx=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let cm=Xx;cm.EMPTY=new Xx(0,0,0,0);const py={},Or=Object.create(null),Bi=Object.create(null);class my{constructor(e,n,r){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||oe.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function gy(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function _y(t,e,n,r,i){const s=4*e;for(let o=r,u=r*s+4*n;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function JA(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,u=0,h=e-1,d=n-1;for(;u<n&&gy(s,e,u);)++u;if(u===n)return cm.EMPTY;for(;gy(s,e,d);)--d;for(;_y(s,e,o,u,d);)++o;for(;_y(s,e,h,u,d);)--h;return++h,++d,new cm(o,u,h,d)}function eP(t){const e=JA(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let ec;function tP(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,ec||(ec=document.createElement("a")),ec.href=t;const n=DA.parse(ec.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function is(t,e=1){var r;const n=(r=oe.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var ae=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ae||{});const hm=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},vy=(t,e)=>hm(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(hm).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(hm).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>vy(s,n)-vy(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class dm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const nP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function rP(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function iP(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=nP.replace(/%forloop%/gi,rP(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const ep=0,tp=1,np=2,rp=3,ip=4,sp=5;class Si{constructor(){this.data=0,this.blendMode=ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ep)}set blend(e){!!(this.data&1<<ep)!==e&&(this.data^=1<<ep)}get offsets(){return!!(this.data&1<<tp)}set offsets(e){!!(this.data&1<<tp)!==e&&(this.data^=1<<tp)}get culling(){return!!(this.data&1<<np)}set culling(e){!!(this.data&1<<np)!==e&&(this.data^=1<<np)}get depthTest(){return!!(this.data&1<<rp)}set depthTest(e){!!(this.data&1<<rp)!==e&&(this.data^=1<<rp)}get depthMask(){return!!(this.data&1<<sp)}set depthMask(e){!!(this.data&1<<sp)!==e&&(this.data^=1<<sp)}get clockwiseFrontFace(){return!!(this.data&1<<ip)}set clockwiseFrontFace(e){!!(this.data&1<<ip)!==e&&(this.data^=1<<ip)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Si;return e.depthTest=!1,e.blend=!0,e}}const fm=[];function Yx(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=fm.length-1;r>=0;--r){const i=fm[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class _r{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:m}=this;this._aliasCount++;for(let c=0,f=m.length;c<f;c++)m[c][d](e,n,r,i,s,o,u,h);return m===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(_r.prototype,{dispatch:{value:_r.prototype.emit},run:{value:_r.prototype.emit}});class Il{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new _r("setRealSize"),this.onUpdate=new _r("update"),this.onError=new _r("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Jl extends Il{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===br.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const sP={scaleMode:li.NEAREST,format:ee.RGBA,alphaMode:br.NPM},Eo=class extends Vs{constructor(t=null,e=null){super(),e=Object.assign({},Eo.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:u,wrapMode:h,format:d,type:m,target:c,resolution:f,resourceOptions:g}=e;t&&!(t instanceof Il)&&(t=Yx(t,g),t.internal=!0),this.resolution=f||oe.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=h,this._scaleMode=s,this.format=d,this.type=m,this.target=c,this.alphaMode=n,this.uid=Ys(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=dy(this.realWidth)&&dy(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Bi[this.cacheId],delete Or[this.cacheId],this.cacheId=null),this.dispose(),Eo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=oe.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Ys()}`}i=t._pixiId}let s=Bi[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Eo(t,e),s.cacheId=i,Eo.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Jl(t,{width:e,height:n}),s=t instanceof Float32Array?me.FLOAT:me.UNSIGNED_BYTE;return new Eo(i,Object.assign({},sP,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Bi[e]&&Bi[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Bi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Bi[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Bi[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Bi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let be=Eo;be.defaultOptions={mipmap:Vr.POW2,anisotropicLevel:0,scaleMode:li.LINEAR,wrapMode:fi.CLAMP,alphaMode:br.UNPACK,target:Vo.TEXTURE_2D,format:ee.RGBA,type:me.UNSIGNED_BYTE};be._globalBatch=0;class pm{constructor(){this.texArray=null,this.blend=0,this.type=fr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let oP=0;class gt{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=oP++,this.disposeRunner=new _r("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Gr.ELEMENT_ARRAY_BUFFER:Gr.ARRAY_BUFFER}get index(){return this.type===Gr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new gt(e)}}class dh{constructor(e,n=0,r=!1,i=me.FLOAT,s,o,u,h=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,n,r,i,s){return new dh(e,n,r,i,s)}}const aP={Float32Array,Uint32Array,Int32Array,Uint8Array};function lP(t,e){let n=0,r=0;const i={};for(let h=0;h<t.length;h++)r+=e[h],n+=t[h].length;const s=new ArrayBuffer(n*4);let o=null,u=0;for(let h=0;h<t.length;h++){const d=e[h],m=t[h],c=Vx(m);i[c]||(i[c]=new aP[c](s)),o=i[c];for(let f=0;f<m.length;f++){const g=(f/d|0)*r+u,v=f%d;o[g+v]=m[f]}u+=d}return new Float32Array(s)}const yy={5126:4,5123:2,5121:1};let uP=0;const cP={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ss{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=uP++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _r("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,u,h=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof gt||(n instanceof Array&&(n=new Float32Array(n)),n=new gt(n));const d=e.split("|");if(d.length>1){for(let c=0;c<d.length;c++)this.addAttribute(d[c],n,r,i,s);return this}let m=this.buffers.indexOf(n);return m===-1&&(this.buffers.push(n),m=this.buffers.length-1),this.attributes[e]=new dh(m,r,i,s,o,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof gt||(e instanceof Array&&(e=new Uint16Array(e)),e=new gt(e)),e.type=Gr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new gt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*yy[s.type]/4),s.buffer=0}for(r.data=lP(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ss;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new gt(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new dh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Gr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new ss,r=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let u=0;u<o.buffers.length;u++)r[u]=new cP[Vx(o.buffers[u].data)](i[u]),n.buffers[u]=new gt(r[u]);for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)r[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Gr.ELEMENT_ARRAY_BUFFER;let u=0,h=0,d=0,m=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){m=c;break}for(const c in o.attributes){const f=o.attributes[c];(f.buffer|0)===m&&(h+=f.size*yy[f.type]/4)}for(let c=0;c<e.length;c++){const f=e[c].indexBuffer.data;for(let g=0;g<f.length;g++)n.indexBuffer.data[g+d]+=u;u+=e[c].buffers[m].data.length/h,d+=f.length}}return n}}class Qx extends ss{constructor(e=!1){super(),this._buffer=new gt(null,e,!1),this._indexBuffer=new gt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,me.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,me.FLOAT).addAttribute("aColor",this._buffer,4,!0,me.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,me.FLOAT).addIndex(this._indexBuffer)}}const fh=Math.PI*2,hP=180/Math.PI,dP=Math.PI/180;var Ut=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ut||{});class ke{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new ke(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const tc=[new ke,new ke,new ke,new ke];let Ae=class mm{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Ut.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new mm(0,0,0,0)}clone(){return new mm(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const O=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=O)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const u=tc[0].set(e.left,e.top),h=tc[1].set(e.left,e.bottom),d=tc[2].set(e.right,e.top),m=tc[3].set(e.right,e.bottom);if(d.x<=u.x||h.y<=u.y)return!1;const c=Math.sign(n.a*n.d-n.b*n.c);if(c===0||(n.apply(u,u),n.apply(h,h),n.apply(d,d),n.apply(m,m),Math.max(u.x,h.x,d.x,m.x)<=r||Math.min(u.x,h.x,d.x,m.x)>=i||Math.max(u.y,h.y,d.y,m.y)<=s||Math.min(u.y,h.y,d.y,m.y)>=o))return!1;const f=c*(h.y-u.y),g=c*(u.x-h.x),v=f*r+g*s,b=f*i+g*s,E=f*r+g*o,x=f*i+g*o;if(Math.max(v,b,E,x)<=f*u.x+g*u.y||Math.min(v,b,E,x)>=f*m.x+g*m.y)return!1;const S=c*(u.y-d.y),T=c*(d.x-u.x),C=S*r+T*s,P=S*i+T*s,D=S*r+T*o,N=S*i+T*o;return!(Math.max(C,P,D,N)<=S*u.x+T*u.y||Math.min(C,P,D,N)>=S*m.x+T*m.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}},fP=class Kx{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=Ut.CIRC}clone(){return new Kx(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new Ae(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}};class Hg{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=Ut.ELIP}clone(){return new Hg(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Ae(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ko{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=Ut.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Ko(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],h=this.points[s*2+1],d=this.points[o*2],m=this.points[o*2+1];h>n!=m>n&&e<(d-u)*((n-h)/(m-h))+u&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class Gg{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=Ut.RREC}clone(){return new Gg(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Je{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new ke;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new ke;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,u,h,d){return this.a=Math.cos(u+d)*s,this.b=Math.sin(u+d)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(r,n),d=Math.abs(u+h);return d<1e-5||Math.abs(fh-d)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Je;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Je}static get TEMP_MATRIX(){return new Je}}const Is=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Rs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ks=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ms=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],gm=[],qx=[],nc=Math.sign;function pP(){for(let t=0;t<16;t++){const e=[];gm.push(e);for(let n=0;n<16;n++){const r=nc(Is[t]*Is[n]+ks[t]*Rs[n]),i=nc(Rs[t]*Is[n]+Ms[t]*Rs[n]),s=nc(Is[t]*ks[n]+ks[t]*Ms[n]),o=nc(Rs[t]*ks[n]+Ms[t]*Ms[n]);for(let u=0;u<16;u++)if(Is[u]===r&&Rs[u]===i&&ks[u]===s&&Ms[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new Je;e.set(Is[t],Rs[t],ks[t],Ms[t],0,0),qx.push(e)}}pP();const nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Is[t],uY:t=>Rs[t],vX:t=>ks[t],vY:t=>Ms[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>gm[t][e],sub:(t,e)=>gm[t][nt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?nt.S:nt.N:Math.abs(e)*2<=Math.abs(t)?t>0?nt.E:nt.W:e>0?t>0?nt.SE:nt.SW:t>0?nt.NE:nt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=qx[nt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class ui{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new ui(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const Zx=class{constructor(){this.worldTransform=new Je,this.localTransform=new Je,this.position=new ui(this.onChange,this,0,0),this.scale=new ui(this.onChange,this,1,1),this.pivot=new ui(this.onChange,this,0,0),this.skew=new ui(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let rd=Zx;rd.IDENTITY=new Zx;var mP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,gP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function xy(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function op(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function Jx(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return op(2*e);case"bvec3":return op(3*e);case"bvec4":return op(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const qo=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],_P={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},vP={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function yP(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let h=0;h<qo.length;h++)if(qo[h].test(s,o)){n.push(qo[h].code(i,o)),u=!0;break}if(!u){const d=(s.size===1&&!s.isArray?_P:vP)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const ew={};let xo=ew;function xP(){if(xo===ew||xo!=null&&xo.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=eo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),xo=e}return xo}let rc;function wP(){if(!rc){rc=$n.MEDIUM;const t=xP();t&&t.getShaderPrecisionFormat&&(rc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?$n.HIGH:$n.MEDIUM)}return rc}function wy(t,e){const n=t.getShaderSource(e).split(`
`).map((d,m)=>`${m}: ${d}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),u=[""];o.forEach(d=>{n[d-1]=`%c${n[d-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=n.join(`
`);u[0]=h,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function bP(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||wy(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||wy(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const SP={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function tw(t){return SP[t]}let ic=null;const by={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function nw(t,e){if(!ic){const n=Object.keys(by);ic={};for(let r=0;r<n.length;++r){const i=n[r];ic[t[i]]=by[i]}}return ic[e]}function Sy(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===$n.HIGH&&n!==$n.HIGH&&(r=$n.MEDIUM),`precision ${r} float;
${t}`}else if(n!==$n.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ga;function TP(){if(typeof Ga=="boolean")return Ga;try{Ga=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ga=!1}return Ga}let EP=0;const sc={},Co=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=EP++,this.vertexSrc=t||Co.defaultVertexSrc,this.fragmentSrc=e||Co.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),sc[n]?(sc[n]++,n+=`-${sc[n]}`):sc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Sy(this.vertexSrc,Co.defaultVertexPrecision,$n.HIGH),this.fragmentSrc=Sy(this.fragmentSrc,Co.defaultFragmentPrecision,wP())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return gP}static get defaultFragmentSrc(){return mP}static from(t,e,n){const r=t+e;let i=py[r];return i||(py[r]=i=new Co(t,e,n)),i}};let pr=Co;pr.defaultVertexPrecision=$n.HIGH;pr.defaultFragmentPrecision=zr.apple.device?$n.HIGH:$n.MEDIUM;let CP=0;class vr{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=CP++,this.static=!!n,this.ubo=!!r,e instanceof gt?(this.buffer=e,this.buffer.type=Gr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new gt(new Float32Array(1)),this.buffer.type=Gr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new vr(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new vr(e,n,r)}static uboFrom(e,n){return new vr(e,n??!0,!0)}}class $r{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof vr?this.uniformGroup=n:this.uniformGroup=new vr(n):this.uniformGroup=new vr({}),this.disposeRunner=new _r("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=pr.from(e,n);return new $r(i,r)}}class AP{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=vr.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new pr(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Je,default:this.defaultGroupCache[e]};return new $r(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class _m{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function PP(){return!zr.apple.device}function IP(t){let e=!0;const n=oe.ADAPTER.getNavigator();if(zr.tablet||zr.phone){if(zr.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(zr.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class id{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var RP=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,kP=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const sr=class extends id{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Qx,this.vertexSize=6,this.state=Si.for2d(),this.size=sr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??IP(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??PP(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Re("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return kP}static get defaultFragmentTemplate(){return RP}setShaderGenerator({vertex:t=sr.defaultVertexSrc,fragment:e=sr.defaultFragmentTemplate}={}){this.shaderGenerator=new AP(t,e)}contextChange(){const t=this.renderer.gl;oe.PREFER_ENV===eo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),sr.defaultMaxTextures),this.maxTextures=iP(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=sr,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new pm);for(;e.length<r;)e.push(new _m);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=sr._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++be._globalBatch,u=0,h=n[0],d=0;r.copyBoundTextures(i,e);for(let m=0;m<this._bufferSize;++m){const c=t[m];t[m]=null,c._batchEnabled!==o&&(h.count>=e&&(r.boundArray(h,i,o,e),this.buildDrawCalls(h,d,m),d=m,h=n[++u],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}h.count>0&&(r.boundArray(h,i,o,e),this.buildDrawCalls(h,d,this._bufferSize),++u,++o);for(let m=0;m<i.length;m++)i[m]=null;be._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,u=sr._drawCallPool;let h=this._dcIndex,d=this._aIndex,m=this._iIndex,c=u[h];c.start=this._iIndex,c.texArray=t;for(let f=e;f<n;++f){const g=r[f],v=g._texture.baseTexture,b=jx[v.alphaMode?1:0][g.blendMode];r[f]=null,e<f&&c.blend!==b&&(c.size=m-c.start,e=f,c=u[++h],c.texArray=t,c.start=m),this.packInterleavedGeometry(g,i,s,d,m),d+=g.vertexData.length/2*o,m+=g.indices.length,c.blend=b}e<n&&(c.size=m-c.start,++h),this._dcIndex=h,this._aIndex=d,this._iIndex=m}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;sr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=sr._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:u,size:h,start:d,blend:m}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=m,n.set(this.state),e.drawElements(u,h,e.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),sr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=hh(Math.ceil(t/8)),n=fy(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new dm(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=hh(Math.ceil(t/12)),n=fy(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,u=r/this.vertexSize,h=t.uvs,d=t.indices,m=t.vertexData,c=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),g=Ge.shared.setValue(t._tintRGB).toPremultiplied(f);for(let v=0;v<m.length;v+=2)o[r++]=m[v],o[r++]=m[v+1],o[r++]=h[v],o[r++]=h[v+1],s[r++]=g,o[r++]=c;for(let v=0;v<d.length;v++)n[i++]=u+d[v]}};let cr=sr;cr.defaultBatchSize=4096;cr.extension={name:"batch",type:ae.RendererPlugin};cr._drawCallPool=[];cr._textureArrayPool=[];fe.add(cr);var MP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,NP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const tl=class extends $r{constructor(t,e,n){const r=pr.from(t||tl.defaultVertexSrc,e||tl.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=tl.defaultResolution,this.multisample=tl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Si}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return NP}static get defaultFragmentSrc(){return MP}};let Ht=tl;Ht.defaultResolution=1;Ht.defaultMultisample=ht.NONE;class sd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ge(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:n,background:r,backgroundAlpha:i}=e,s=r??n;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}sd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};sd.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"background"};fe.add(sd);class rw{constructor(e){this.renderer=e,this.emptyRenderer=new id(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:u}=e;let h=0;for(let d=0;d<u;d++){const m=s[d],c=m._batchLocation;if(c>=0&&c<i&&n[c]===m){o[d]=c;continue}for(;h<i;){const f=n[h];if(f&&f._batchEnabled===r&&f._batchLocation===h){h++;continue}o[d]=h,m._batchLocation=h,n[h]=m;break}}}destroy(){this.renderer=null}}rw.extension={type:ae.RendererSystem,name:"batch"};fe.add(rw);let Ty=0;class od{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ty++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ty++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(oe.PREFER_ENV>=eo.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}od.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};od.extension={type:ae.RendererSystem,name:"context"};fe.add(od);class DP extends Jl{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===br.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class vm{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _r("disposeFramebuffer"),this.multisample=ht.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new be(null,{scaleMode:li.NEAREST,resolution:1,mipmap:Vr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new be(new DP(null,{width:this.width,height:this.height}),{scaleMode:li.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vr.OFF,format:ee.DEPTH_COMPONENT,type:me.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class iw extends be{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=ht.NONE),super(null,e),this.mipmap=Vr.OFF,this.valid=!0,this._clear=new Ge([0,0,0,0]),this.framebuffer=new vm(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class os extends Il{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=tP(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,u=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===br.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=u,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class sw extends os{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;os.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===br.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const u=s[o];if(u!==r&&u.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ow{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,u=e.height/2/s,h=e.x/i+o,d=e.y/s+u;r=nt.add(r,nt.NW),this.x0=h+o*nt.uX(r),this.y0=d+u*nt.uY(r),r=nt.add(r,2),this.x1=h+o*nt.uX(r),this.y1=d+u*nt.uY(r),r=nt.add(r,2),this.x2=h+o*nt.uX(r),this.y2=d+u*nt.uY(r),r=nt.add(r,2),this.x3=h+o*nt.uX(r),this.y3=d+u*nt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Ey=new ow;function oc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class se extends Vs{constructor(e,n,r,i,s,o,u){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new Ae(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=Ey,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ke(o.x,o.y):new ke(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Or[n.url]&&se.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new se(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===Ey&&(this._uvs=new ow),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof be){if(!e.cacheId){const u=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Ys()}`,be.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Ys()}`}s=e._pixiId}let o=Or[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof be)?(n.resolution||(n.resolution=is(e)),o=new se(new be(e,n)),o.baseTexture.cacheId=s,be.addToCache(o.baseTexture,s),se.addToCache(o,s)):!o&&e instanceof be&&(o=new se(e),se.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=se.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new se(be.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new be(e,Object.assign({scaleMode:be.defaultOptions.scaleMode,resolution:is(n)},i)),{resource:o}=s;o instanceof sw&&(o.url=n);const u=new se(s);return r||(r=n),be.addToCache(u.baseTexture,r),se.addToCache(u,r),r!==n&&(be.addToCache(u.baseTexture,n),se.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Or[n]&&Or[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Or[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Or[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Or[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Or[e.textureCacheIds[n]]===e&&delete Or[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,u=r+s>this.baseTexture.height;if(o||u){const h=o&&u?"and":"or",d=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,m=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${h} ${m}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new be),oc(se._EMPTY),oc(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=oe.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),se._WHITE=new se(be.from(e)),oc(se._WHITE),oc(se._WHITE.baseTexture)}return se._WHITE}}class as extends se{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new as(new iw(e))}}class aw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=ht.NONE){const i=new iw(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new as(i)}getOptimalTexture(e,n,r=1,i=ht.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=hh(e),n=hh(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||ht.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}aw.SCREEN_KEY=-1;class OP extends ss{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class lw extends ss{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new gt(this.vertices),this.uvBuffer=new gt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class BP{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ht.NONE,this.sourceFrame=new Ae,this.destinationFrame=new Ae,this.bindingSourceFrame=new Ae,this.bindingDestinationFrame=new Ae,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ac=[new ke,new ke,new ke,new ke],ap=new Je;class uw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new aw,this.statePool=[],this.quad=new OP,this.quadUv=new lw,this.tempRect=new Ae,this.activeState={},this.globalUniforms=new vr({outputFrame:new Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new BP,o=this.renderer.renderTexture;let u=n[0].resolution,h=n[0].multisample,d=n[0].padding,m=n[0].autoFit,c=n[0].legacy??!0;for(let v=1;v<n.length;v++){const b=n[v];u=Math.min(u,b.resolution),h=Math.min(h,b.multisample),d=this.useMaxPadding?Math.max(d,b.padding):d+b.padding,m=m&&b.autoFit,c=c||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=h,s.legacy=c,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const f=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(ap.copyFrom(r.projection.transform).invert(),f),m?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,h),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=n.sourceFrame.width*s[2]-.5*o[2],u[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const d=i.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,h.renderTexture,Lr.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let d=n.renderTexture,m=this.getOptimalFilterTexture(d.width,d.height,n.resolution);m.filterFrame=d.filterFrame;let c=0;for(c=0;c<r.length-1;++c){c===1&&n.multisample>1&&(m=this.getOptimalFilterTexture(d.width,d.height,n.resolution),m.filterFrame=d.filterFrame),r[c].apply(this,d,m,Lr.CLEAR,n);const f=d;d=m,m=f}r[c].apply(this,d,h.renderTexture,Lr.BLEND,n),c>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(m)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Lr.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Lr.CLEAR||n===Lr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(fr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(fr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),u=n.worldTransform.copyTo(Je.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=ht.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||ht.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=ac[0],i=ac[1],s=ac[2],o=ac[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(r.x,i.x,s.x,o.x),h=Math.min(r.y,i.y,s.y,o.y),d=Math.max(r.x,i.x,s.x,o.x),m=Math.max(r.y,i.y,s.y,o.y);n.x=u,n.y=h,n.width=d-u,n.height=m-h}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:u,c:h,d}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?ap.copyFrom(s):ap.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}uw.extension={type:ae.RendererSystem,name:"filter"};fe.add(uw);class LP{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ht.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const FP=new Ae;class cw{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new vm(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===eo.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,u=n.height>>r,h=o/n.width;this.setViewport(n.x*h,n.y*h,o,u)}else{const o=e.width>>r,u=e.height>>r;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=em.COLOR|em.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new LP(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<o;h++){const d=s[h],m=d.parentTextureArray||d;this.renderer.texture.bind(m,0),h===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+h,d.target,m._glTextures[this.CONTEXT_UID].texture,n),u.push(r.COLOR_ATTACHMENT0+h))}if(u.length>1&&r.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const d=e.depthTexture;this.renderer.texture.bind(d,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=ht.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=ht.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const m=i.colorTextures[0];if(!m)return;h.blitFramebuffer||(h.blitFramebuffer=new vm(i.width,i.height),h.blitFramebuffer.addColorTexture(0,m)),e=h.blitFramebuffer,e.colorTextures[0]!==m&&(e.colorTextures[0]=m,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=FP,n.width=i.width,n.height=i.height),r||(r=n);const d=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ae}destroy(){this.renderer=null}}cw.extension={type:ae.RendererSystem,name:"framebuffer"};fe.add(cw);const lp={5126:4,5123:2,5121:1};class hw{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===eo.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,h)=>r.drawElementsInstancedANGLE(i,s,o,u,h),e.drawArraysInstanced=(i,s,o,u)=>r.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=n.program;u.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,u);const h=this.getSignature(e,u),d=e.glVertexArrayObjects[this.CONTEXT_UID];let m=d[h];if(m)return d[u.id]=m,m;const c=e.buffers,f=e.attributes,g={},v={};for(const b in c)g[b]=0,v[b]=0;for(const b in f)!f[b].size&&u.attributeData[b]?f[b].size=u.attributeData[b].size:f[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),g[f[b].buffer]+=f[b].size*lp[f[b].type];for(const b in f){const E=f[b],x=E.size;E.stride===void 0&&(g[E.buffer]===x*lp[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=v[E.buffer],v[E.buffer]+=x*lp[E.type])}m=i.createVertexArray(),i.bindVertexArray(m);for(let b=0;b<c.length;b++){const E=c[b];o.bind(E),r&&E._glBuffers[s].refCount++}return this.activateVao(e,u),d[u.id]=m,d[h]=m,i.bindVertexArray(null),o.unbind(Gr.ARRAY_BUFFER),m}disposeGeometry(e,n){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let h=0;h<s.length;h++){const d=s[h]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!n&&o.dispose(s[h],n))}if(!n){for(const h in r)if(h[0]==="g"){const d=r[h];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const d in u){const m=u[d],c=o[m.buffer],f=c._glBuffers[i];if(n.attributeData[d]){h!==f&&(s.bind(c),h=f);const g=n.attributeData[d].location;if(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,m.size,m.type||r.FLOAT,m.normalized,m.stride,m.start),m.instance)if(this.hasInstance)r.vertexAttribDivisor(g,m.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,h,(r||0)*u,i||1):s.drawElements(e,n||o.indexBuffer.data.length,h,(r||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}hw.extension={type:ae.RendererSystem,name:"geometry"};fe.add(hw);const Cy=new Je;class $g{constructor(e,n){this._texture=e,this.mapCoord=new Je,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(Cy.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Cy));const o=n.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,d=this.clampOffset;return u[0]=(n._frame.x+h+d)/o.width,u[1]=(n._frame.y+h+d)/o.height,u[2]=(n._frame.x+n._frame.width-h+d)/o.width,u[3]=(n._frame.y+n._frame.height-h+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var UP=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,zP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class HP extends Ht{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||zP,n||UP,r),this.maskSprite=i,this.maskMatrix=new Je}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new $g(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class GP{constructor(e=null){this.type=bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ht.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class dw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new GP;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==bt.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case bt.SCISSOR:this.renderer.scissor.push(r);break;case bt.STENCIL:this.renderer.stencil.push(r);break;case bt.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case bt.COLOR:this.pushColorMask(r);break}r.type===bt.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case bt.SCISSOR:this.renderer.scissor.pop(n);break;case bt.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case bt.SPRITE:this.popSpriteMask(n);break;case bt.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===bt.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=bt.SCISSOR:e.type=bt.STENCIL:e.type=bt.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new HP]));const s=this.renderer,o=s.renderTexture;let u,h;if(o.current){const m=o.current;u=e.resolution||m.resolution,h=e.multisample??m.multisample}else u=e.resolution||s.resolution,h=e.multisample??s.multisample;i[0].resolution=u,i[0].multisample=h,i[0].maskSprite=n;const d=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=d,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}dw.extension={type:ae.RendererSystem,name:"mask"};fe.add(dw);class fw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Ay=new Je,Py=[],Hc=class extends fw{constructor(t){super(t),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,Py.pop()??new Ae);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Hc.isMatrixRotated(e.worldTransform)||Hc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Hc.isMatrixRotated(i)||(i=i?Ay.copyFrom(i):Ay.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Py.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let pw=Hc;pw.extension={type:ae.RendererSystem,name:"scissor"};fe.add(pw);class mw extends fw{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}mw.extension={type:ae.RendererSystem,name:"stencil"};fe.add(mw);class gw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}gw.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"_plugin"};fe.add(gw);class _w{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Je,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}_w.extension={type:ae.RendererSystem,name:"projection"};fe.add(_w);const $P=new rd;class vw{constructor(e){this.renderer=e,this._tempMatrix=new Je}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=as.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=$P,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,o}destroy(){}}vw.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"textureGenerator"};fe.add(vw);const Cs=new Ae,$a=new Ae;class yw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ae,this.destinationFrame=new Ae,this.viewportFrame=new Ae}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,n||(Cs.width=e.frame.width,Cs.height=e.frame.height,n=Cs),r||($a.x=e.frame.x,$a.y=e.frame.y,$a.width=n.width,$a.height=n.height,r=$a),o=s.framebuffer):(u=i.resolution,n||(Cs.width=i._view.screen.width,Cs.height=i._view.screen.height,n=Cs),r||(r=Cs,r.width=n.width,r.height=n.height));const h=this.viewportFrame;h.x=r.x*u,h.y=r.y*u,h.width=r.width*u,h.height=r.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(r,n,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=e?Ge.shared.setValue(e):r,s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:h,y:d,width:m,height:c}=this.viewportFrame;h=Math.round(h),d=Math.round(d),m=Math.round(m),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,d,m,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,n),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}yw.extension={type:ae.RendererSystem,name:"renderTexture"};fe.add(yw);class jP{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function WP(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=nw(e,s.type),u={type:o,name:s.name,size:tw(o),location:e.getAttribLocation(t,s.name)};n[s.name]=u}return n}function VP(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=nw(e,s.type);n[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:Jx(h,s.size)}}return n}function XP(t,e){var h;const n=xy(t,t.VERTEX_SHADER,e.vertexSrc),r=xy(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(h=e.extra)==null?void 0:h.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||bP(t,i,n,r),e.attributeData=WP(i,t),e.uniformData=VP(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const d=Object.keys(e.attributeData);d.sort((m,c)=>m>c?1:-1);for(let m=0;m<d.length;m++)e.attributeData[d[m]].location=m,t.bindAttribLocation(i,m,d[m]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const d in e.uniformData){const m=e.uniformData[d];o[d]={location:t.getUniformLocation(i,d),value:Jx(m.type,m.size)}}return new jP(i,o)}function YP(t,e,n,r,i){n.buffer.update(i)}const QP={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},xw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function KP(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=xw[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const u=r%n%16;r+=u,i+=u}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function qP(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function ZP(t,e){if(!t.autoManage)return{size:0,syncFunc:YP};const n=qP(t.uniforms,e),{uboElements:r,size:i}=KP(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const u=r[o],h=t.uniforms[u.data.name],d=u.data.name;let m=!1;for(let c=0;c<qo.length;c++){const f=qo[c];if(f.codeUbo&&f.test(u.data,h)){s.push(`offset = ${u.offset/4};`,qo[c].codeUbo(u.data.name,h)),m=!0;break}}if(!m)if(u.data.size>1){const c=tw(u.data.type),f=Math.max(xw[u.data.type]/16,1),g=c/f,v=(4-g%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*f}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const c=QP[u.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let JP=0;const lc={textureCount:0,uboCount:0};class ww{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=JP++}systemCheck(){if(!TP())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(lc.textureCount=0,lc.uboCount=0,this.syncUniformGroup(e.uniformGroup,lc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=yP(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,lc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=ZP(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return n.uniformGroups[e.id]=u.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=XP(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ww.extension={type:ae.RendererSystem,name:"shader"};fe.add(ww);class ad{constructor(e){this.renderer=e}run(e){const{renderer:n}=this;n.runners.init.emit(n.options),e.hello&&console.log(`PixiJS 7.2.0-beta - ${n.rendererLogId} - https://pixijs.com`),n.resize(n.screen.width,n.screen.height)}destroy(){}}ad.defaultOptions={hello:!1};ad.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"startup"};fe.add(ad);function eI(t,e=[]){return e[ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD]=[t.ONE,t.ONE],e[ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.NONE]=[0,0],e[ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const tI=0,nI=1,rI=2,iI=3,sI=4,oI=5,ym=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ge.NONE,this._blendEq=!1,this.map=[],this.map[tI]=this.setBlend,this.map[nI]=this.setOffset,this.map[rI]=this.setCullFace,this.map[iI]=this.setDepthTest,this.map[sI]=this.setFrontFace,this.map[oI]=this.setDepthMask,this.checks=[],this.defaultState=new Si,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=eI(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(ym.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(ym.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let bw=ym;bw.extension={type:ae.RendererSystem,name:"state"};fe.add(bw);class aI extends Vs{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new _r(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Gc=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Gc.defaultMaxIdle,this.checkCountMax=Gc.defaultCheckCountMax,this.mode=Gc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==zg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let hr=Gc;hr.defaultMode=zg.AUTO;hr.defaultMaxIdle=60*60;hr.defaultCheckCountMax=60*10;hr.extension={type:ae.RendererSystem,name:"textureGC"};fe.add(hr);class up{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=me.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function lI(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[me.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[me.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[me.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[me.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[me.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[me.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[me.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[me.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[me.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[me.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[me.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class Sw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new be,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=lI(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new up(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new up(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==tm.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new up(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===me.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==tm.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,u.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Qo(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===Vr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=fi.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==Vr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===li.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===li.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===li.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===li.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Sw.extension={type:ae.RendererSystem,name:"texture"};fe.add(Sw);class Tw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(r.buffer.update(u),u._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!n&&s.dispose(u,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Tw.extension={type:ae.RendererSystem,name:"transformFeedback"};fe.add(Tw);class ld{constructor(e){this.renderer=e}init(e){this.screen=new Ae(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ld.defaultOptions={width:800,height:600,resolution:oe.RESOLUTION,autoDensity:!1};ld.extension={type:[ae.RendererSystem,ae.CanvasRendererSystem],name:"_view"};fe.add(ld);oe.PREFER_ENV=eo.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;oe.RENDER_OPTIONS={...od.defaultOptions,...sd.defaultOptions,...ld.defaultOptions,...ad.defaultOptions};Object.defineProperties(oe,{WRAP_MODE:{get(){return be.defaultOptions.wrapMode},set(t){Re("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),be.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return be.defaultOptions.scaleMode},set(t){Re("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),be.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return be.defaultOptions.mipmap},set(t){Re("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),be.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return be.defaultOptions.anisotropicLevel},set(t){Re("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),be.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Re("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ht.defaultResolution},set(t){Ht.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Re("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ht.defaultMultisample},set(t){Ht.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return cr.defaultMaxTextures},set(t){Re("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),cr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return cr.defaultBatchSize},set(t){Re("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),cr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return cr.canUploadSameBuffer},set(t){Re("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),cr.canUploadSameBuffer=t}},GC_MODE:{get(){return hr.defaultMode},set(t){Re("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),hr.defaultMode=t}},GC_MAX_IDLE:{get(){return hr.defaultMaxIdle},set(t){Re("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),hr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return hr.defaultCheckCountMax},set(t){Re("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),hr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return pr.defaultVertexPrecision},set(t){Re("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),pr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return pr.defaultFragmentPrecision},set(t){Re("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),pr.defaultFragmentPrecision=t}}});var ls=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ls||{});class cp{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const wn=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new cp(null,null,1/0),this.deltaMS=1/wn.targetFPMS,this.elapsedMS=1/wn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=ls.NORMAL){return this._addListener(new cp(t,e,n))}addOnce(t,e,n=ls.NORMAL){return this._addListener(new cp(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*wn.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,wn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!wn._shared){const t=wn._shared=new wn;t.autoStart=!0,t._protected=!0}return wn._shared}static get system(){if(!wn._system){const t=wn._system=new wn;t.autoStart=!0,t._protected=!0}return wn._system}};let _t=wn;_t.targetFPMS=.06;Object.defineProperties(oe,{TARGET_FPMS:{get(){return _t.targetFPMS},set(t){Re("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),_t.targetFPMS=t}}});class Ew{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ls.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?_t.shared:new _t,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Ew.extension=ae.Application;fe.add(Ew);const Cw=[];fe.handleByList(ae.Renderer,Cw);function uI(t){for(const e of Cw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var cI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const dI=cI,Aw=hI;class Pw{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=ht.HIGH?this.multisample=ht.HIGH:n>=ht.MEDIUM?this.multisample=ht.MEDIUM:n>=ht.LOW?this.multisample=ht.LOW:this.multisample=ht.NONE}destroy(){}}Pw.extension={type:ae.RendererSystem,name:"_multisample"};fe.add(Pw);class fI{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Iw{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new fI(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Iw.extension={type:ae.RendererSystem,name:"buffer"};fe.add(Iw);class Rw{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,u;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,u=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Rw.extension={type:ae.RendererSystem,name:"objectRenderer"};fe.add(Rw);const xm=class extends aI{constructor(t){super(),t=Object.assign({},oe.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new vr({projectionMatrix:new Je},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:xm.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Re("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=xm.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:FA()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Re("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Re("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Re("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Re("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ma=xm;ma.extension={type:ae.Renderer,priority:1};ma.__plugins={};ma.__systems={};fe.handleByMap(ae.RendererPlugin,ma.__plugins);fe.handleByMap(ae.RendererSystem,ma.__systems);fe.add(ma);class kw extends Il{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new be;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Il?this.addResourceAt(e[r],r):this.addResourceAt(Yx(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class pI extends kw{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Vo.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;r.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let h=0;h<i;h++){const d=o[h];s[h]<d.dirtyId&&(s[h]=d.dirtyId,d.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,d.resource.width,d.resource.height,1,n.format,r.type,d.resource.source))}return!0}}class mI extends os{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const nl=class extends kw{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==nl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<nl.SIDES;o++)this.items[o].target=Vo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Vo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Vo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<nl.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===nl.SIDES}};let Mw=nl;Mw.SIDES=6;class Mo extends os{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=Mo.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===br.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Mo._EMPTY=Mo._EMPTY??oe.ADAPTER.createCanvas(0,0),Mo._EMPTY}}const $c=class extends os{constructor(t,e){e=e||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},$c.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;os.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Ys()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=$c.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&$c.SVG_XML.test(t)}};let Rl=$c;Rl.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Rl.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const wm=class extends os{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];os.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:u}=t[i];o=o||t[i];const h=o.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);u=u||wm.MIME_TYPES[d]||`video/${d}`,s.src=o,s.type=u,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=_t.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||wm.TYPES.includes(e)}};let jg=wm;jg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];jg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};fm.push(Mo,sw,mI,jg,Rl,Jl,Mw,pI);class ph{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ae.EMPTY:(e=e||new Ae(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:u,ty:h}=e,d=r*n.x+s*n.y+u,m=i*n.x+o*n.y+h;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,m),this.maxY=Math.max(this.maxY,m)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],n=o<n?o:n,r=u<r?u:r,i=o>i?o:i,s=u>s?u:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,u=e.b,h=e.c,d=e.d,m=e.tx,c=e.ty;let f=this.minX,g=this.minY,v=this.maxX,b=this.maxY,E=o*n+h*r+m,x=u*n+d*r+c;f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*i+h*r+m,x=u*i+d*r+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*n+h*s+m,x=u*n+d*s+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,E=o*i+h*s+m,x=u*i+d*s+c,f=E<f?E:f,g=x<g?x:g,v=E>v?E:v,b=x>b?x:b,this.minX=f,this.minY=g,this.maxX=v,this.maxY=b}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let h=n;h<r;h+=2){const d=e[h],m=e[h+1];i=d<i?d:i,s=m<s?m:s,o=d>o?d:o,u=m>u?m:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const u=e.a,h=e.b,d=e.c,m=e.d,c=e.tx,f=e.ty;let g=this.minX,v=this.minY,b=this.maxX,E=this.maxY;for(let x=r;x<i;x+=2){const S=n[x],T=n[x+1],C=u*S+d*T+c,P=m*T+h*S+f;g=Math.min(g,C-s),b=Math.max(b,C+s),v=Math.min(v,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=v,this.maxX=b,this.maxY=E}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const u=this.minX,h=this.minY,d=this.maxX,m=this.maxY;this.minX=r<u?r:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>m?o:m}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const u=this.minX,h=this.minY,d=this.maxX,m=this.maxY;this.minX=r<u?r:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=o>m?o:m}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class et extends Vs{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new rd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ph,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(et.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ae),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ae),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ph);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,u=0,h=0,d=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new gI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*hP}set angle(e){this.transform.rotation=e*dP}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class gI extends et{constructor(){super(...arguments),this.sortDirty=null}}et.prototype.displayObjectUpdateTransform=et.prototype.updateTransform;const _I=new Je;function vI(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const bm=class extends et{constructor(){super(),this.children=[],this.sortableChildren=bm.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qo(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Qo(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Qo(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(vI),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==bm.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=_I.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const u=this.children[s],h=u.cullable;u.cullable=h||!this.cullArea,u.render(t),u.cullable=h}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<e.length;u++)e[u].enabled&&this._enabledFilters.push(e[u])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==bt.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,h=this.children.length;u<h;++u)this.children[u].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let qt=bm;qt.defaultSortableChildren=!1;qt.prototype.containerUpdateTransform=qt.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return qt.defaultSortableChildren},set(t){Re("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),qt.defaultSortableChildren=t}}});var ud=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(ud||{});const ja=new ke,yI=new Uint16Array([0,1,2,0,2,3]);class Kr extends qt{constructor(e){super(),this._anchor=new ui(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=yI,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Wi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Wi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,u=n.tx,h=n.ty,d=this.vertexData,m=e.trim,c=e.orig,f=this._anchor;let g=0,v=0,b=0,E=0;if(m?(v=m.x-f._x*c.width,g=v+m.width,E=m.y-f._y*c.height,b=E+m.height):(v=-f._x*c.width,g=v+c.width,E=-f._y*c.height,b=E+c.height),d[0]=r*v+s*E+u,d[1]=o*E+i*v+h,d[2]=r*g+s*E+u,d[3]=o*E+i*g+h,d[4]=r*g+s*b+u,d[5]=o*b+i*g+h,d[6]=r*v+s*b+u,d[7]=o*b+i*v+h,this._roundPixels){const x=oe.RESOLUTION;for(let S=0;S<d.length;++S)d[S]=Math.round(d[S]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,d=s.d,m=s.tx,c=s.ty,f=-i._x*r.width,g=f+r.width,v=-i._y*r.height,b=v+r.height;n[0]=o*f+h*v+m,n[1]=d*v+u*f+c,n[2]=o*g+h*v+m,n[3]=d*v+u*g+c,n[4]=o*g+h*b+m,n[5]=d*b+u*g+c,n[6]=o*f+h*b+m,n[7]=d*b+u*f+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ph),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ae),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ja);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return ja.x>=i&&ja.x<i+n&&(s=-r*this.anchor.y,ja.y>=s&&ja.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof se?e:se.from(e,n);return new Kr(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Wi(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Wi(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=Ge.shared.setValue(e).toLittleEndianNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const uc={willReadFrequently:!0},de=class{static get experimentalLetterSpacingSupported(){let t=de._experimentalLetterSpacingSupported;if(t!==void 0){const e=oe.ADAPTER.getCanvasRenderingContext2D().prototype;t=de._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,u,h){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=h}static measureText(t,e,n,r=de._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=de.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",uc);o.font=i;const h=(n?de.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),d=new Array(h.length);let m=0;for(let v=0;v<h.length;v++){const b=de._measureText(h[v],e.letterSpacing,o);d[v]=b,m=Math.max(m,b)}let c=m+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const f=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(f,s.fontSize+e.strokeThickness*2)+(h.length-1)*(f+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new de(t,e,c,g,h,d,f+e.leading,m,s)}static _measureText(t,e,n){let r=!1;de.experimentalLetterSpacingSupported&&(de.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(de.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=de._canvas){const r=n.getContext("2d",uc);let i=0,s="",o="";const u=Object.create(null),{letterSpacing:h,whiteSpace:d}=e,m=de.collapseSpaces(d),c=de.collapseNewlines(d);let f=!m;const g=e.wordWrapWidth+h,v=de.tokenize(t);for(let b=0;b<v.length;b++){let E=v[b];if(de.isNewline(E)){if(!c){o+=de.addLine(s),f=!m,s="",i=0;continue}E=" "}if(m){const S=de.isBreakingSpace(E),T=de.isBreakingSpace(s[s.length-1]);if(S&&T)continue}const x=de.getFromCache(E,h,u,r);if(x>g)if(s!==""&&(o+=de.addLine(s),s="",i=0),de.canBreakWords(E,e.breakWords)){const S=de.wordWrapSplit(E);for(let T=0;T<S.length;T++){let C=S[T],P=C,D=1;for(;S[T+D];){const O=S[T+D];if(!de.canBreakChars(P,O,E,T,e.breakWords))C+=O;else break;P=O,D++}T+=D-1;const N=de.getFromCache(C,h,u,r);N+i>g&&(o+=de.addLine(s),f=!1,s="",i=0),s+=C,i+=N}}else{s.length>0&&(o+=de.addLine(s),s="",i=0);const S=b===v.length-1;o+=de.addLine(E,!S),f=!1,s="",i=0}else x+i>g&&(f=!1,o+=de.addLine(s),s="",i=0),(s.length>0||!de.isBreakingSpace(E)||f)&&(s+=E,i+=x)}return o+=de.addLine(s,!1),o}static addLine(t,e=!0){return t=de.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=de._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!de.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:de._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:de._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(de.isBreakingSpace(i,s)||de.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return de.graphemeSegmenter(t)}static measureFont(t){if(de._fonts[t])return de._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=de._canvas,r=de._context;r.font=t;const i=de.METRICS_STRING+de.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(de.BASELINE_SYMBOL).width);const u=Math.ceil(de.HEIGHT_MULTIPLIER*o);if(o=o*de.BASELINE_MULTIPLIER|0,s===0||u===0)return de._fonts[t]=e,e;n.width=s,n.height=u,r.fillStyle="#f00",r.fillRect(0,0,s,u),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const h=r.getImageData(0,0,s,u).data,d=h.length,m=s*4;let c=0,f=0,g=!1;for(c=0;c<o;++c){for(let v=0;v<m;v+=4)if(h[f+v]!==255){g=!0;break}if(!g)f+=m;else break}for(e.ascent=o-c,f=d-m,g=!1,c=u;c>o;--c){for(let v=0;v<m;v+=4)if(h[f+v]!==255){g=!0;break}if(!g)f-=m;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,de._fonts[t]=e,e}static clearMetrics(t=""){t?delete de._fonts[t]:de._fonts={}}static get _canvas(){if(!de.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",uc);if(n!=null&&n.measureText)return de.__canvas=e,e;t=oe.ADAPTER.createCanvas()}catch{t=oe.ADAPTER.createCanvas()}t.width=t.height=10,de.__canvas=t}return de.__canvas}static get _context(){return de.__context||(de.__context=de._canvas.getContext("2d",uc)),de.__context}};let Ft=de;Ft.METRICS_STRING="|ÉqÅ";Ft.BASELINE_SYMBOL="M";Ft.BASELINE_MULTIPLIER=1.4;Ft.HEIGHT_MULTIPLIER=2;Ft.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();Ft.experimentalLetterSpacing=!1;Ft._fonts={};Ft._newlines=[10,13];Ft._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const xI=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],rl=class{constructor(t){this.styleID=0,this.reset(),dp(this,t,t)}clone(){const t={};return dp(t,this,rl.defaultStyle),new rl(t)}reset(){dp(this,rl.defaultStyle,rl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=hp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=hp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){wI(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=hp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!xI.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Xn=rl;Xn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ud.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function hp(t){const e=Ge.shared;return Array.isArray(t)?t.map(n=>e.setValue(n).toHex()):e.setValue(t).toHex()}function wI(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function dp(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const bI={texture:!0,children:!1,baseTexture:!0},Sm=class extends Kr{constructor(t,e,n){let r=!1;n||(n=oe.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=se.from(n);i.orig=new Ae,i.trim=new Ae,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Sm.defaultResolution??oe.RESOLUTION,this._autoResolution=Sm.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ft.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Re("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ft.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=Ft.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,u=r.lineHeight,h=r.lineWidths,d=r.maxLineWidth,m=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let c,f;const g=e.dropShadow?2:1;for(let v=0;v<g;++v){const b=e.dropShadow&&v===0,E=b?Math.ceil(Math.max(1,s)+e.padding*2):0,x=E*this._resolution;if(b){n.fillStyle="black",n.strokeStyle="black";const T=e.dropShadowColor,C=e.dropShadowBlur*this._resolution,P=e.dropShadowDistance*this._resolution;n.shadowColor=Ge.shared.setValue(T).setAlpha(e.dropShadowAlpha).toRgbaString(),n.shadowBlur=C,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*P+x}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(u-m.fontSize)/2;u-m.fontSize<0&&(S=0);for(let T=0;T<o.length;T++)c=e.strokeThickness/2,f=e.strokeThickness/2+T*u+m.ascent+S,e.align==="right"?c+=d-h[T]:e.align==="center"&&(c+=(d-h[T])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[T],c+e.padding,f+e.padding-E,!0),e.fill&&this.drawLetterSpacing(o[T],c+e.padding,f+e.padding-E)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(Ft.experimentalLetterSpacingSupported&&(Ft.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let u=e;const h=Ft.graphemeSegmenter(t);let d=this.context.measureText(t).width,m=0;for(let c=0;c<h.length;++c){const f=h[c];r?this.context.strokeText(f,u,n):this.context.fillText(f,u,n);let g="";for(let v=c+1;v<h.length;++v)g+=h[v];m=this.context.measureText(g).width,u+=d-m+s,d=m}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=eP(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,u=this.canvas.width/this._resolution-s-o*2,h=this.canvas.height/this._resolution-s-o*2,d=r.slice(),m=t.fillGradientStops.slice();if(!m.length){const c=d.length+1;for(let f=1;f<c;++f)m.push(f/c)}if(d.unshift(r[0]),m.unshift(0),d.push(r[r.length-1]),m.push(1),t.fillGradientType===ud.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,o,u/2,h+o);const c=n.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const g=n.lineHeight*(f-1)+c,v=n.lineHeight*f;let b=v;f>0&&g>v&&(b=(v+g)/2);const E=v+c,x=n.lineHeight*(f+1);let S=E;f+1<e.length&&x<E&&(S=(E+x)/2);const T=(S-b)/h;for(let C=0;C<d.length;C++){let P=0;typeof m[C]=="number"?P=m[C]:P=C/d.length;let D=Math.min(1,Math.max(0,b/h+P*T));D=Number(D.toFixed(5)),i.addColorStop(D,d[C])}}}else{i=this.context.createLinearGradient(o,h/2,u+o,h/2);const c=d.length+1;let f=1;for(let g=0;g<d.length;g++){let v;typeof m[g]=="number"?v=m[g]:v=f/c,i.addColorStop(v,d[g]),f++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},bI,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Wi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Wi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Xn?this._style=t:this._style=new Xn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let cd=Sm;cd.defaultAutoResolution=!0;class mh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class jc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],u=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const d in u){const m=u[d].split("="),c=m[0],f=m[1].replace(/"/gm,""),g=parseFloat(f),v=isNaN(g)?f:g;h[c]=v}r[o].push(h)}const i=new mh;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Tm{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new mh,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let d=0;d<r.length;d++)n.info.push({face:r[d].getAttribute("face"),size:parseInt(r[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)n.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)n.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const m=o[d];n.char.push({id:parseInt(m.getAttribute("id"),10),page:parseInt(m.getAttribute("page"),10)||0,x:parseInt(m.getAttribute("x"),10),y:parseInt(m.getAttribute("y"),10),width:parseInt(m.getAttribute("width"),10),height:parseInt(m.getAttribute("height"),10),xoffset:parseInt(m.getAttribute("xoffset"),10),yoffset:parseInt(m.getAttribute("yoffset"),10),xadvance:parseInt(m.getAttribute("xadvance"),10)})}for(let d=0;d<u.length;d++)n.kerning.push({first:parseInt(u[d].getAttribute("first"),10),second:parseInt(u[d].getAttribute("second"),10),amount:parseInt(u[d].getAttribute("amount"),10)});for(let d=0;d<h.length;d++)n.distanceField.push({fieldType:h[d].getAttribute("fieldType"),distanceRange:parseInt(h[d].getAttribute("distanceRange"),10)});return n}}class Em{static test(e){return typeof e=="string"&&e.includes("<font>")?Tm.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return Tm.parse(oe.ADAPTER.parseXML(e))}}const fp=[jc,Tm,Em];function SI(t){for(let e=0;e<fp.length;e++)if(fp[e].test(t))return fp[e];return null}function TI(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const h=n.dropShadow?n.dropShadowDistance:0,d=n.padding||0,m=t.width/r-h-d*2,c=t.height/r-h-d*2,f=o.slice(),g=n.fillGradientStops.slice();if(!g.length){const v=f.length+1;for(let b=1;b<v;++b)g.push(b/v)}if(f.unshift(o[0]),g.unshift(0),f.push(o[o.length-1]),g.push(1),n.fillGradientType===ud.LINEAR_VERTICAL){u=e.createLinearGradient(m/2,d,m/2,c+d);let v=0;const E=(s.fontProperties.fontSize+n.strokeThickness)/c;for(let x=0;x<i.length;x++){const S=s.lineHeight*x;for(let T=0;T<f.length;T++){let C=0;typeof g[T]=="number"?C=g[T]:C=T/f.length;const P=S/c+C*E;let D=Math.max(v,P);D=Math.min(D,1),u.addColorStop(D,f[T]),v=D}}}else{u=e.createLinearGradient(d,c/2,m+d,c/2);const v=f.length+1;let b=1;for(let E=0;E<f.length;E++){let x;typeof g[E]=="number"?x=g[E]:x=b/v,u.addColorStop(x,f[E]),b++}}return u}function EI(t,e,n,r,i,s,o){const u=n.text,h=n.fontProperties;e.translate(r,i),e.scale(s,s);const d=o.strokeThickness/2,m=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=TI(t,e,o,s,[u],n),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,f=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=Ge.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,d,m+n.lineHeight-h.descent),o.fill&&e.fillText(u,d,m+n.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Wc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Nw(t){return Array.from?Array.from(t):t.split("")}function CI(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=o;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...Nw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ar=class{constructor(t,e,n){var d;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,u=is(s.file),h={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=h;for(let m=0;m<t.page.length;m++){const{id:c,file:f}=t.page[m];h[c]=e instanceof Array?e[m]:e[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(h[c].baseTexture.alphaMode=br.NO_PREMULTIPLIED_ALPHA,h[c].baseTexture.mipmap=Vr.OFF)}for(let m=0;m<t.char.length;m++){const{id:c,page:f}=t.char[m];let{x:g,y:v,width:b,height:E,xoffset:x,yoffset:S,xadvance:T}=t.char[m];g/=u,v/=u,b/=u,E/=u,x/=u,S/=u,T/=u;const C=new Ae(g+h[f].frame.x/u,v+h[f].frame.y/u,b,E);this.chars[c]={xOffset:x,yOffset:S,xAdvance:T,kerning:{},texture:new se(h[f].baseTexture,C),page:f}}for(let m=0;m<t.kerning.length;m++){let{first:c,second:f,amount:g}=t.kerning[m];c/=u,f/=u,g/=u,this.chars[f]&&(this.chars[f].kerning[c]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((d=o==null?void 0:o.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof mh)r=t;else{const s=SI(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof se&&(e=[e]);const i=new ar(r,e,n);return ar.available[i.font]=i,i}static uninstall(t){const e=ar.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete ar.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:u,...h}=Object.assign({},ar.defaultOptions,n),d=CI(r),m=e instanceof Xn?e:new Xn(e),c=o,f=new mh;f.info[0]={face:m.fontFamily,size:m.fontSize},f.common[0]={lineHeight:m.fontSize};let g=0,v=0,b,E,x,S=0;const T=[];for(let P=0;P<d.length;P++){b||(b=oe.ADAPTER.createCanvas(),b.width=o,b.height=u,E=b.getContext("2d"),x=new be(b,{resolution:s,...h}),T.push(new se(x)),f.page.push({id:T.length-1,file:""}));const D=d[P],N=Ft.measureText(D,m,!1,b),O=N.width,H=Math.ceil(N.height),X=Math.ceil((m.fontStyle==="italic"?2:1)*O);if(v>=u-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--P,b=null,E=null,x=null,v=0,g=0,S=0;continue}if(S=Math.max(H+N.fontProperties.descent,S),X*s+g>=c){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--P,v+=S*s,v=Math.ceil(v),g=0,S=0;continue}EI(b,E,N,g,v,s,m);const Q=Wc(N.text);f.char.push({id:Q,page:T.length-1,x:g/s,y:v/s,width:X,height:H,xoffset:0,yoffset:0,xadvance:O-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),g+=(X+2*i)*s,g=Math.ceil(g)}for(let P=0,D=d.length;P<D;P++){const N=d[P];for(let O=0;O<D;O++){const H=d[O],X=E.measureText(N).width,Q=E.measureText(H).width,V=E.measureText(N+H).width-(X+Q);V&&f.kerning.push({first:Wc(N),second:Wc(H),amount:V})}}const C=new ar(f,T,!0);return ar.available[t]!==void 0&&ar.uninstall(t),ar.available[t]=C,C}};let cn=ar;cn.ALPHA=[["a","z"],["A","Z"]," "];cn.NUMERIC=[["0","9"]];cn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];cn.ASCII=[[" ","~"]];cn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ar.ALPHANUMERIC};cn.available={};class AI{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const pp=new ke,Iy=new Ko,Dw=class extends qt{constructor(t,e,n,r=fr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Si.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===fr.TRIANGLES&&e.length<Dw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,h=i.d,d=i.tx,m=i.ty,c=this.vertexData;for(let f=0;f<c.length/2;f++){const g=n[f*2],v=n[f*2+1];c[f*2]=s*g+u*v+d,c[f*2+1]=o*g+h*v+m}if(this._roundPixels){const f=oe.RESOLUTION;for(let g=0;g<c.length;++g)c[g]=Math.round(c[g]*f)/f}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new AI(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,pp);const e=this.geometry.getBuffer("aVertexPosition").data,n=Iy.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const u=r[o]*2,h=r[o+1]*2,d=r[o+2]*2;if(n[0]=e[u],n[1]=e[u+1],n[2]=e[h],n[3]=e[h+1],n[4]=e[d],n[5]=e[d+1],Iy.contains(pp.x,pp.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let ia=Dw;ia.BATCHABLE_SIZE=100;class hd extends ss{constructor(e,n,r){super();const i=new gt(e),s=new gt(n,!0),o=new gt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,me.FLOAT).addAttribute("aTextureCoord",s,2,!1,me.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var PI=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,II=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class kl extends $r{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Je.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||pr.from(II,PI),r),this._colorDirty=!1,this.uvMatrix=new $g(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=Ge.shared.setValue(e).toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const n=this.texture.baseTexture.alphaMode;Ge.shared.setValue(this._tint).premultiply(this._alpha,n).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var RI=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,kI=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Ry=[],ky=[],My=[],Ow=class extends qt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:u}=Object.assign({},Ow.styleDefaults,e);if(!cn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=u,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new ui(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var X;const t=cn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new ke,i=[],s=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=Nw(u),d=this._maxWidth*t.size/e,m=t.distanceFieldType==="none"?Ry:ky;let c=null,f=0,g=0,v=0,b=-1,E=0,x=0,S=0,T=0;for(let Q=0;Q<h.length;Q++){const re=h[Q],V=Wc(re);if(/(?:\s)/.test(re)&&(b=Q,E=f,T++),re==="\r"||re===`
`){s.push(f),o.push(-1),g=Math.max(g,f),++v,++x,r.x=0,r.y+=t.lineHeight,c=null,T=0;continue}const z=t.chars[V];if(!z)continue;c&&z.kerning[c]&&(r.x+=z.kerning[c]);const ye=My.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ke};ye.texture=z.texture,ye.line=v,ye.charCode=V,ye.position.x=Math.round(r.x+z.xOffset+this._letterSpacing/2),ye.position.y=Math.round(r.y+z.yOffset),ye.prevSpaces=T,i.push(ye),f=ye.position.x+Math.max(z.xAdvance-z.xOffset,z.texture.orig.width),r.x+=z.xAdvance+this._letterSpacing,S=Math.max(S,z.yOffset+z.texture.height),c=V,b!==-1&&d>0&&r.x>d&&(++x,Qo(i,1+b-x,1+Q-b),Q=b,b=-1,s.push(E),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,E),v++,r.x=0,r.y+=t.lineHeight,c=null,T=0)}const C=h[h.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(f=E),s.push(f),g=Math.max(g,f),o.push(-1));const P=[];for(let Q=0;Q<=v;Q++){let re=0;this._align==="right"?re=g-s[Q]:this._align==="center"?re=(g-s[Q])/2:this._align==="justify"&&(re=o[Q]<0?0:(g-s[Q])/o[Q]),P.push(re)}const D=i.length,N={},O=[],H=this._activePagesMeshData;m.push(...H);for(let Q=0;Q<D;Q++){const re=i[Q].texture,V=re.baseTexture.uid;if(!N[V]){let z=m.pop();if(!z){const xe=new hd;let te,B;t.distanceFieldType==="none"?(te=new kl(se.EMPTY),B=ge.NORMAL):(te=new kl(se.EMPTY,{program:pr.from(kI,RI),uniforms:{uFWidth:0}}),B=ge.NORMAL_NPM);const W=new ia(xe,te);W.blendMode=B,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;const{_textureCache:ye}=this;ye[V]=ye[V]||new se(re.baseTexture),z.mesh.texture=ye[V],z.mesh.tint=this._tint,O.push(z),N[V]=z}N[V].total++}for(let Q=0;Q<H.length;Q++)O.includes(H[Q])||this.removeChild(H[Q].mesh);for(let Q=0;Q<O.length;Q++)O[Q].mesh.parent!==this&&this.addChild(O[Q].mesh);this._activePagesMeshData=O;for(const Q in N){const re=N[Q],V=re.total;if(!(((X=re.indices)==null?void 0:X.length)>6*V)||re.vertices.length<ia.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*V),re.uvs=new Float32Array(4*2*V),re.indices=new Uint16Array(6*V);else{const z=re.total,ye=re.vertices;for(let xe=z*4*2;xe<ye.length;xe++)ye[xe]=0}re.mesh.size=6*V}for(let Q=0;Q<D;Q++){const re=i[Q];let V=re.position.x+P[re.line]*(this._align==="justify"?re.prevSpaces:1);this._roundPixels&&(V=Math.round(V));const z=V*n,ye=re.position.y*n,xe=re.texture,te=N[xe.baseTexture.uid],B=xe.frame,W=xe._uvs,M=te.index++;te.indices[M*6+0]=0+M*4,te.indices[M*6+1]=1+M*4,te.indices[M*6+2]=2+M*4,te.indices[M*6+3]=0+M*4,te.indices[M*6+4]=2+M*4,te.indices[M*6+5]=3+M*4,te.vertices[M*8+0]=z,te.vertices[M*8+1]=ye,te.vertices[M*8+2]=z+B.width*n,te.vertices[M*8+3]=ye,te.vertices[M*8+4]=z+B.width*n,te.vertices[M*8+5]=ye+B.height*n,te.vertices[M*8+6]=z,te.vertices[M*8+7]=ye+B.height*n,te.uvs[M*8+0]=W.x0,te.uvs[M*8+1]=W.y0,te.uvs[M*8+2]=W.x1,te.uvs[M*8+3]=W.y1,te.uvs[M*8+4]=W.x2,te.uvs[M*8+5]=W.y2,te.uvs[M*8+6]=W.x3,te.uvs[M*8+7]=W.y3}this._textWidth=g*n,this._textHeight=(r.y+t.lineHeight)*n;for(const Q in N){const re=N[Q];if(this.anchor.x!==0||this.anchor.y!==0){let xe=0;const te=this._textWidth*this.anchor.x,B=this._textHeight*this.anchor.y;for(let W=0;W<re.total;W++)re.vertices[xe++]-=te,re.vertices[xe++]-=B,re.vertices[xe++]-=te,re.vertices[xe++]-=B,re.vertices[xe++]-=te,re.vertices[xe++]-=B,re.vertices[xe++]-=te,re.vertices[xe++]-=B}this._maxLineHeight=S*n;const V=re.mesh.geometry.getBuffer("aVertexPosition"),z=re.mesh.geometry.getBuffer("aTextureCoord"),ye=re.mesh.geometry.getIndex();V.data=re.vertices,z.data=re.uvs,ye.data=re.indices,V.update(),z.update(),ye.update()}for(let Q=0;Q<i.length;Q++)My.push(i[Q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=cn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:u}=this.worldTransform,h=Math.sqrt(i*i+s*s),d=Math.sqrt(o*o+u*u),m=(Math.abs(h)+Math.abs(d))/2,c=this.fontSize/r,f=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=m*e*c*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=cn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!cn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??cn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=cn.available[this._fontName].distanceFieldType==="none"?Ry:ky;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let Bw=Ow;Bw.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Ny={loader:ae.LoadParser,resolver:ae.ResolveParser,cache:ae.CacheParser,detection:ae.DetectionParser};fe.handle(ae.Asset,t=>{const e=t.ref;Object.entries(Ny).filter(([n])=>!!e[n]).forEach(([n,r])=>fe.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(Ny).filter(n=>!!e[n]).forEach(n=>fe.remove(e[n]))});class MI{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Lw(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function dd(t,e){const n=t.split("?")[0],r=Et.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const pi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Cm=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function Fw(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const u=s[o];n<e.length-1?Fw(t.replace(r[n],u),e,n+1,r,i):i.push(t.replace(r[n],u))}}function NI(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Fw(t,i,0,n,r)}else r.push(t);return r}const gh=t=>!Array.isArray(t);class DI{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=pi(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(n)){i=h.getCacheableAssets(r,n);break}}i||(i={},r.forEach(u=>{i[u]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==n&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),n instanceof se){const u=n;r.forEach(h=>{u.baseTexture!==se.EMPTY.baseTexture&&be.addToCache(u.baseTexture,h),se.addToCache(u,h)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Wa=new DI;class OI{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.load&&((s=h.test)!=null&&s.call(h,e,n,this))){i=await h.load(e,n,this),r.parser=h;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];h.parse&&h.parse&&await((o=h.testParse)==null?void 0:o.call(h,i,n,this))&&(i=await h.parse(i,n,this)||i,r.parser=h)}return i})(),r}async load(e,n){let r=0;const i={},s=gh(e),o=pi(e,d=>({src:d})),u=o.length,h=o.map(async d=>{const m=Et.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,d)),i[d.src]=await this.promiseCache[m].promise,n&&n(++r/u)}catch(c){throw delete this.promiseCache[m],delete i[d.src],new Error(`[Loader.load] Failed to load ${m}.
${c}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=pi(e,i=>({src:i})).map(async i=>{var u,h;const s=Et.toAbsolute(i.src),o=this.promiseCache[s];if(o){const d=await o.promise;(h=(u=o.parser)==null?void 0:u.unload)==null||h.call(u,d,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var qr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(qr||{});const BI={extension:{type:ae.LoadParser,priority:qr.Low},test(t){return Et.extname(t).toLowerCase()===".json"},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};fe.add(BI);const LI={extension:{type:ae.LoadParser,priority:qr.Low},test(t){return Et.extname(t).toLowerCase()===".txt"},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};fe.add(LI);const FI=["normal","bold","100","200","300","400","500","600","700","800","900"],UI=[".ttf",".otf",".woff",".woff2"],zI=["font/ttf","font/otf","font/woff","font/woff2"];function HI(t){const e=Et.extname(t);return Et.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const GI={extension:{type:ae.LoadParser,priority:qr.Low},test(t){return Lw(t,zI)||dd(t,UI)},async load(t,e){var r,i,s;const n=oe.ADAPTER.getFontFaceSet();if(n){const o=[],u=((r=e.data)==null?void 0:r.family)??HI(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(m=>FI.includes(m)))??["normal"],d=e.data??{};for(let m=0;m<h.length;m++){const c=h[m],f=new FontFace(u,`url(${encodeURI(t)})`,{...d,weight:c});await f.load(),n.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};fe.add(GI);let Dy=0,mp;const $I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",jI={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${$I}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},WI={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let gp;class VI{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([jI.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){mp===void 0&&(mp=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<mp&&(gp||(gp=URL.createObjectURL(new Blob([WI.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(gp),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[Dy]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:Dy++,id:r})}}const Oy=new VI;function fd(t,e,n){const r=new se(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const XI=[".jpeg",".jpg",".png",".webp",".avif"],YI=["image/jpeg","image/png","image/webp","image/avif"];async function QI(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const Ml={extension:{type:ae.LoadParser,priority:qr.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Lw(t,YI)||dd(t,XI)},async load(t,e,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Oy.isImageBitmapSupported()?r=await Oy.loadImageBitmap(t):r=await QI(t):r=await new Promise(s=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new be(r,{resolution:is(t),...e.data});return i.resource.src=t,fd(i,n,t)},unload(t){t.destroy(!0)}};fe.add(Ml);const KI={extension:{type:ae.LoadParser,priority:qr.High},test(t){return Et.extname(t).toLowerCase()===".svg"},async testParse(t){return Rl.test(t)},async parse(t,e,n){var o,u,h;const r=new Rl(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new be(r,{resolution:is(t),...e==null?void 0:e.data});i.resource.src=t;const s=fd(i,n,t);return(h=(u=e==null?void 0:e.data)==null?void 0:u.resourceOptions)!=null&&h.autoLoad||await r.load(),s},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:Ml.unload};fe.add(KI);class qI{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=pi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=NI(n):n=[n]);const s=n.map(o=>{let u=o;if(typeof o=="string"){let h=!1;for(let d=0;d<this._parsers.length;d++){const m=this._parsers[d];if(m.test(o)){u=m.parse(o),h=!0;break}}h||(u={src:o})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=Et.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=u.data??r,u});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=gh(e);e=pi(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const h in o){const d=o[h];u[this._extractAssetIdFromBundle(i,h)]=d}r[i]=u}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=gh(e);e=pi(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),u=s[0];o==null||o.priority.forEach(h=>{o.params[h].forEach(d=>{const m=s.filter(c=>c[h]?c[h]===d:!1);m.length&&(s=m)})}),this._resolverHash[i]=s[0]??u}else{let s=i;(this._basePath||this._rootPath)&&(s=Et.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class ZI{constructor(){this._detections=[],this._initialized=!1,this.resolver=new qI,this.loader=new OI,this.cache=Wa,this._backgroundLoader=new MI(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,u;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let h=e.manifest;typeof h=="string"&&(h=await this.load(h)),this.resolver.addManifest(h)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const h=(u=e.texturePreference)==null?void 0:u.format;i=typeof h=="string"?[h]:h;for(const d of this._detections)await d.test()||(i=await d.remove(i))}else for(const h of this._detections)await h.test()&&(i=await h.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=gh(e),i=pi(e).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,h=0;const d=()=>{n==null||n(++u/h)},m=o.map(c=>{const f=i[c];return h+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(g=>{s[c]=g})});return await Promise.all(m),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Wa.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Wa.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((u,h)=>{const d=s[u.src],m=[u.src];u.alias&&m.push(...u.alias),o[i[h]]=d,Wa.set(m,d)}),o}async unload(e){this._initialized||await this.init();const n=pi(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=pi(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Wa.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return Ml.config.preferWorkers}set preferWorkers(e){Ml.config.preferWorkers=e}}const Hr=new ZI;fe.handleByList(ae.LoadParser,Hr.loader.parsers).handleByList(ae.ResolveParser,Hr.resolver.parsers).handleByList(ae.CacheParser,Hr.cache.parsers).handleByList(ae.DetectionParser,Hr.detections);const JI={extension:ae.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof se),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};fe.add(JI);const e2={extension:{type:ae.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await oe.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(e2);const t2={extension:{type:ae.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await oe.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(t2);const By=["png","jpg","jpeg"],n2={extension:{type:ae.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...By],remove:async t=>t.filter(e=>!By.includes(e))};fe.add(n2);const r2={extension:ae.ResolveParser,test:Ml.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(r2);const i2=[".xml",".fnt"],s2={extension:{type:ae.LoadParser,priority:qr.Normal},test(t){return i2.includes(Et.extname(t).toLowerCase())},async testParse(t){return jc.test(t)||Em.test(t)},async parse(t,e,n){const r=jc.test(t)?jc.parse(t):Em.parse(t),{src:i}=e,{page:s}=r,o=[];for(let d=0;d<s.length;++d){const m=s[d].file;let c=Et.join(Et.dirname(i),m);c=Cm(c,i),o.push(c)}const u=await n.load(o),h=o.map(d=>u[d]);return cn.install(r,h,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(s2);const _h={build(t){const e=t.points;let n,r,i,s,o,u;if(t.type===Ut.CIRC){const v=t.shape;n=v.x,r=v.y,o=u=v.radius,i=s=0}else if(t.type===Ut.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,u=v.height,i=s=0}else{const v=t.shape,b=v.width/2,E=v.height/2;n=v.x+b,r=v.y+E,o=u=Math.max(0,Math.min(v.radius,Math.min(b,E))),i=b-o,s=E-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+u)),d=h*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(h===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let m=0,c=h*4+(i?2:0)+2,f=c,g=d;{const v=i+o,b=s,E=n+v,x=n-v,S=r+b;if(e[m++]=E,e[m++]=S,e[--c]=S,e[--c]=x,s){const T=r-b;e[f++]=x,e[f++]=T,e[--g]=T,e[--g]=E}}for(let v=1;v<h;v++){const b=Math.PI/2*(v/h),E=i+Math.cos(b)*o,x=s+Math.sin(b)*u,S=n+E,T=n-E,C=r+x,P=r-x;e[m++]=S,e[m++]=C,e[--c]=C,e[--c]=T,e[f++]=T,e[f++]=P,e[--g]=P,e[--g]=S}{const v=i,b=s+u,E=n+v,x=n-v,S=r+b,T=r-b;e[m++]=E,e[m++]=S,e[--g]=T,e[--g]=E,i&&(e[m++]=x,e[m++]=S,e[--g]=T,e[--g]=x)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let u,h;if(t.type!==Ut.RREC){const m=t.shape;u=m.x,h=m.y}else{const m=t.shape;u=m.x+m.width/2,h=m.y+m.height/2}const d=t.matrix;r.push(t.matrix?d.a*u+d.c*h+d.tx:u,t.matrix?d.b*u+d.d*h+d.ty:h),s++,r.push(n[0],n[1]);for(let m=2;m<n.length;m+=2)r.push(n[m],n[m+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Ly(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const u=t[i],h=t[i+1];r+=(u-s)*(h+o),s=u,o=h}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,u=n-s-1,h=s,d=s+1;[t[o],t[h]]=[t[h],t[o]],[t[u],t[d]]=[t[d],t[u]]}}}const Uw={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){Ly(n,!1);const o=[];for(let d=0;d<r.length;d++){const m=r[d];Ly(m.points,!0),o.push(n.length/2),n=n.concat(m.points)}const u=uh(n,o,2);if(!u)return;const h=i.length/2;for(let d=0;d<u.length;d+=3)s.push(u[d]+h),s.push(u[d+1]+h),s.push(u[d+2]+h);for(let d=0;d<n.length;d++)i.push(n[d])}}},o2={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},a2={build(t){_h.build(t)},triangulate(t,e){_h.triangulate(t,e)}};var Hi=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Hi||{}),Ls=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ls||{});const sa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class Fy{static curveTo(e,n,r,i,s,o){const u=o[o.length-2],d=o[o.length-1]-n,m=u-e,c=i-n,f=r-e,g=Math.abs(d*f-m*c);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=d*d+m*m,b=c*c+f*f,E=d*c+m*f,x=s*Math.sqrt(v)/g,S=s*Math.sqrt(b)/g,T=x*E/v,C=S*E/b,P=x*f+S*m,D=x*c+S*d,N=m*(S+T),O=d*(S+T),H=f*(x+C),X=c*(x+C),Q=Math.atan2(O-D,N-P),re=Math.atan2(X-D,H-P);return{cx:P+e,cy:D+n,radius:s,startAngle:Q,endAngle:re,anticlockwise:m*c>f*d}}static arc(e,n,r,i,s,o,u,h,d){const m=u-o,c=sa._segmentsCount(Math.abs(m)*s,Math.ceil(Math.abs(m)/fh)*40),f=m/(c*2),g=f*2,v=Math.cos(f),b=Math.sin(f),E=c-1,x=E%1/E;for(let S=0;S<=E;++S){const T=S+x*S,C=f+o+g*T,P=Math.cos(C),D=-Math.sin(C);d.push((v*P+b*D)*s+r,(v*-D+b*P)*s+i)}}}class l2{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Wg{static curveLength(e,n,r,i,s,o,u,h){let m=0,c=0,f=0,g=0,v=0,b=0,E=0,x=0,S=0,T=0,C=0,P=e,D=n;for(let N=1;N<=10;++N)c=N/10,f=c*c,g=f*c,v=1-c,b=v*v,E=b*v,x=E*e+3*b*c*r+3*v*f*s+g*u,S=E*n+3*b*c*i+3*v*f*o+g*h,T=P-x,C=D-S,P=x,D=S,m+=Math.sqrt(T*T+C*C);return m}static curveTo(e,n,r,i,s,o,u){const h=u[u.length-2],d=u[u.length-1];u.length-=2;const m=sa._segmentsCount(Wg.curveLength(h,d,e,n,r,i,s,o));let c=0,f=0,g=0,v=0,b=0;u.push(h,d);for(let E=1,x=0;E<=m;++E)x=E/m,c=1-x,f=c*c,g=f*c,v=x*x,b=v*x,u.push(g*h+3*f*x*e+3*c*v*r+b*s,g*d+3*f*x*n+3*c*v*i+b*o)}}function Uy(t,e,n,r,i,s,o,u){const h=t-n*i,d=e-r*i,m=t+n*s,c=e+r*s;let f,g;o?(f=r,g=-n):(f=-r,g=n);const v=h+f,b=d+g,E=m+f,x=c+g;return u.push(v,b),u.push(E,x),2}function As(t,e,n,r,i,s,o,u){const h=n-t,d=r-e;let m=Math.atan2(h,d),c=Math.atan2(i-t,s-e);u&&m<c?m+=Math.PI*2:!u&&m>c&&(c+=Math.PI*2);let f=m;const g=c-m,v=Math.abs(g),b=Math.sqrt(h*h+d*d),E=(15*v*Math.sqrt(b)/Math.PI>>0)+1,x=g/E;if(f+=x,u){o.push(t,e),o.push(n,r);for(let S=1,T=f;S<E;S++,T+=x)o.push(t,e),o.push(t+Math.sin(T)*b,e+Math.cos(T)*b);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let S=1,T=f;S<E;S++,T+=x)o.push(t+Math.sin(T)*b,e+Math.cos(T)*b),o.push(t,e);o.push(i,s),o.push(t,e)}return E*2}function u2(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new ke(r[0],r[1]),u=new ke(r[r.length-2],r[r.length-1]),h=n.type!==Ut.POLY||n.closeStroke,d=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){r=r.slice(),d&&(r.pop(),r.pop(),u.set(r[r.length-2],r[r.length-1]));const te=(o.x+u.x)*.5,B=(u.y+o.y)*.5;r.unshift(te,B),r.push(te,B)}const m=e.points,c=r.length/2;let f=r.length;const g=m.length/2,v=s.width/2,b=v*v,E=s.miterLimit*s.miterLimit;let x=r[0],S=r[1],T=r[2],C=r[3],P=0,D=0,N=-(S-C),O=x-T,H=0,X=0,Q=Math.sqrt(N*N+O*O);N/=Q,O/=Q,N*=v,O*=v;const re=s.alignment,V=(1-re)*2,z=re*2;h||(s.cap===Ls.ROUND?f+=As(x-N*(V-z)*.5,S-O*(V-z)*.5,x-N*V,S-O*V,x+N*z,S+O*z,m,!0)+2:s.cap===Ls.SQUARE&&(f+=Uy(x,S,N,O,V,z,!0,m))),m.push(x-N*V,S-O*V),m.push(x+N*z,S+O*z);for(let te=1;te<c-1;++te){x=r[(te-1)*2],S=r[(te-1)*2+1],T=r[te*2],C=r[te*2+1],P=r[(te+1)*2],D=r[(te+1)*2+1],N=-(S-C),O=x-T,Q=Math.sqrt(N*N+O*O),N/=Q,O/=Q,N*=v,O*=v,H=-(C-D),X=T-P,Q=Math.sqrt(H*H+X*X),H/=Q,X/=Q,H*=v,X*=v;const B=T-x,W=S-C,M=T-P,Z=D-C,ie=B*M+W*Z,Se=W*M-Z*B,we=Se<0;if(Math.abs(Se)<.001*Math.abs(ie)){m.push(T-N*V,C-O*V),m.push(T+N*z,C+O*z),ie>=0&&(s.join===Hi.ROUND?f+=As(T,C,T-N*V,C-O*V,T-H*V,C-X*V,m,!1)+4:f+=2,m.push(T-H*z,C-X*z),m.push(T+H*V,C+X*V));continue}const Fe=(-N+x)*(-O+C)-(-N+T)*(-O+S),Ee=(-H+P)*(-X+C)-(-H+T)*(-X+D),Le=(B*Ee-M*Fe)/Se,Ct=(Z*Fe-W*Ee)/Se,At=(Le-T)*(Le-T)+(Ct-C)*(Ct-C),at=T+(Le-T)*V,Ce=C+(Ct-C)*V,Ve=T-(Le-T)*z,Ne=C-(Ct-C)*z,Rn=Math.min(B*B+W*W,M*M+Z*Z),kn=we?V:z,gs=Rn+kn*kn*b;At<=gs?s.join===Hi.BEVEL||At/b>E?(we?(m.push(at,Ce),m.push(T+N*z,C+O*z),m.push(at,Ce),m.push(T+H*z,C+X*z)):(m.push(T-N*V,C-O*V),m.push(Ve,Ne),m.push(T-H*V,C-X*V),m.push(Ve,Ne)),f+=2):s.join===Hi.ROUND?we?(m.push(at,Ce),m.push(T+N*z,C+O*z),f+=As(T,C,T+N*z,C+O*z,T+H*z,C+X*z,m,!0)+4,m.push(at,Ce),m.push(T+H*z,C+X*z)):(m.push(T-N*V,C-O*V),m.push(Ve,Ne),f+=As(T,C,T-N*V,C-O*V,T-H*V,C-X*V,m,!1)+4,m.push(T-H*V,C-X*V),m.push(Ve,Ne)):(m.push(at,Ce),m.push(Ve,Ne)):(m.push(T-N*V,C-O*V),m.push(T+N*z,C+O*z),s.join===Hi.ROUND?we?f+=As(T,C,T+N*z,C+O*z,T+H*z,C+X*z,m,!0)+2:f+=As(T,C,T-N*V,C-O*V,T-H*V,C-X*V,m,!1)+2:s.join===Hi.MITER&&At/b<=E&&(we?(m.push(Ve,Ne),m.push(Ve,Ne)):(m.push(at,Ce),m.push(at,Ce)),f+=2),m.push(T-H*V,C-X*V),m.push(T+H*z,C+X*z),f+=2)}x=r[(c-2)*2],S=r[(c-2)*2+1],T=r[(c-1)*2],C=r[(c-1)*2+1],N=-(S-C),O=x-T,Q=Math.sqrt(N*N+O*O),N/=Q,O/=Q,N*=v,O*=v,m.push(T-N*V,C-O*V),m.push(T+N*z,C+O*z),h||(s.cap===Ls.ROUND?f+=As(T-N*(V-z)*.5,C-O*(V-z)*.5,T-N*V,C-O*V,T+N*z,C+O*z,m,!1)+2:s.cap===Ls.SQUARE&&(f+=Uy(T,C,N,O,V,z,!1,m)));const ye=e.indices,xe=sa.epsilon*sa.epsilon;for(let te=g;te<f+g-2;++te)x=m[te*2],S=m[te*2+1],T=m[(te+1)*2],C=m[(te+1)*2+1],P=m[(te+2)*2],D=m[(te+2)*2+1],!(Math.abs(x*(C-D)+T*(D-S)+P*(S-C))<xe)&&ye.push(te,te+1,te+2)}function c2(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==Ut.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,h=i.length/2,d=o.length/2;let m=d;for(o.push(i[0],i[1]),n=1;n<h;n++)o.push(i[n*2],i[n*2+1]),u.push(m,m+1),m++;s&&u.push(m,d)}function zy(t,e){t.lineStyle.native?c2(t,e):u2(t,e)}class Vg{static curveLength(e,n,r,i,s,o){const u=e-2*r+s,h=n-2*i+o,d=2*r-2*e,m=2*i-2*n,c=4*(u*u+h*h),f=4*(u*d+h*m),g=d*d+m*m,v=2*Math.sqrt(c+f+g),b=Math.sqrt(c),E=2*c*b,x=2*Math.sqrt(g),S=f/b;return(E*v+b*f*(v-x)+(4*g*c-f*f)*Math.log((2*b+S+v)/(S+x)))/(4*E)}static curveTo(e,n,r,i,s){const o=s[s.length-2],u=s[s.length-1],h=sa._segmentsCount(Vg.curveLength(o,u,e,n,r,i));let d=0,m=0;for(let c=1;c<=h;++c){const f=c/h;d=o+(e-o)*f,m=u+(n-u)*f,s.push(d+(e+(r-e)*f-d)*f,m+(n+(i-n)*f-m)*f)}}}const _p={[Ut.POLY]:Uw,[Ut.CIRC]:_h,[Ut.ELIP]:_h,[Ut.RECT]:o2,[Ut.RREC]:a2},Hy=[],cc=[];class vh{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new vh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const wo=new ke,zw=class extends Qx{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ph,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),cc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Hy.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new vh(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new vh(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,wo):wo.copyFrom(t),r.shape.contains(wo.x,wo.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(wo.x,wo.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let u=this.shapeIndex;u<e.length;u++){this.shapeIndex++;const h=e[u],d=h.fillStyle,m=h.lineStyle;_p[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(d.visible||m.visible)&&this.processHoles(h.holes);for(let f=0;f<2;f++){const g=f===0?d:m;if(!g.visible)continue;const v=g.texture.baseTexture,b=this.indices.length,E=this.points.length/2;v.wrapMode=fi.REPEAT,f===0?this.processFill(h):this.processLine(h);const x=this.points.length/2-E;x!==0&&(n&&!this._compareStyles(r,g)&&(n.end(b,E),n=null),n||(n=Hy.pop()||new l2,n.begin(g,b,E),this.batches.push(n),r=g),this.addUvs(this.points,t,g.texture,E,x,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<zw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++be._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),cc.push(this.drawCalls[m]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=cc.pop();r||(r=new pm,r.texArray=new _m),r.texArray.count=0,r.start=0,r.size=0,r.type=fr.TRIANGLES;let i=0,s=null,o=0,u=!1,h=fr.TRIANGLES,d=0;this.drawCalls.push(r);for(let m=0;m<this.batches.length;m++){const c=this.batches[m],f=8,g=c.style,v=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,h=u?fr.LINES:fr.TRIANGLES,s=null,i=f,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===f&&(t++,i=0,r.size>0&&(r=cc.pop(),r||(r=new pm,r.texArray=new _m),this.drawCalls.push(r)),r.start=d,r.size=0,r.texArray.count=0,r.type=h),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=fi.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=c.size,d+=c.size,o=v._batchLocation,this.addColors(e,g.color,g.alpha,c.attribSize,c.attribStart),this.addTextureIds(n,o,c.attribSize,c.attribStart)}be._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let u=0;for(let h=0;h<t.length/2;h++)s[u++]=t[h*2],s[u++]=t[h*2+1],s[u++]=e[h*2],s[u++]=e[h*2+1],o[u++]=n[h],s[u++]=r[h];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Uw.triangulate(t,this):_p[t.type].triangulate(t,this)}processLine(t){zy(t,this);for(let e=0;e<t.holes.length;e++)zy(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];_p[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=Ge.shared.setValue(e).toLittleEndianNumber(),o=Ge.shared.setValue(s).toPremultiplied(n);t.length=Math.max(t.length,i+r);for(let u=0;u<r;u++)t[i+u]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const u=e.length,h=n.frame;for(;o<i;){let m=t[(r+o)*2],c=t[(r+o)*2+1];if(s){const f=s.a*m+s.c*c+s.tx;c=s.b*m+s.d*c+s.ty,m=f}o++,e.push(m/h.width,c/h.height)}const d=n.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,n,u,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,u=e.frame,h=u.width/i.width,d=u.height/i.height;let m=u.x/u.width,c=u.y/u.height,f=Math.floor(t[n]+s),g=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)f=Math.min(f,Math.floor(t[v]+s)),g=Math.min(g,Math.floor(t[v+1]+s));m-=f,c-=g;for(let v=n;v<o;v+=2)t[v]=(t[v]+m)*h,t[v+1]=(t[v+1]+c)*d}};let Hw=zw;Hw.BATCHABLE_SIZE=100;class pd{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new pd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Xg extends pd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ls.BUTT,this.join=Hi.MITER,this.miterLimit=10}clone(){const e=new Xg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const h2=new Float32Array(3),vp={},Vc=class extends qt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new pd,this._lineStyle=new Xg,this._matrix=null,this._holeMode=!1,this.state=Si.for2d(),this._geometry=t||new Hw,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Vc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:se.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ls.BUTT,join:Hi.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ko,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ko,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Vg.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),Wg.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=Fy.curveTo(t,e,n,r,i,s);if(o){const{cx:u,cy:h,radius:d,startAngle:m,endAngle:c,anticlockwise:f}=o;this.arc(u,h,d,m,c,f)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=fh:s&&r<=i&&(r+=fh),i-r===0)return this;const u=t+Math.cos(r)*n,h=e+Math.sin(r)*n,d=this._geometry.closePointEps;let m=this.currentPath?this.currentPath.points:null;if(m){const c=Math.abs(m[m.length-2]-u),f=Math.abs(m[m.length-1]-h);c<d&&f<d||m.push(u,h)}else this.moveTo(u,h),m=this.currentPath.points;return Fy.arc(u,h,t,e,n,r,i,s,m),this}beginFill(t=0,e){return this.beginTextureFill({texture:se.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Ge.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:se.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new Ae(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new Gg(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new fP(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new Hg(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ko(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ut.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),h=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),d={vertexData:o,blendMode:e,indices:h,uvs:u,_batchRGB:Ge.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=d}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Ge.shared.setValue(r).multiply([i,i,i]).setAlpha(i).toArray(s.tint),t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let u=0,h=o.length;u<h;u++)this._renderDrawCallDirect(t,n.drawCalls[u])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let u=0;u<o;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!vp[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let u=0;u<r;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Je,default:vr.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;vp[n]=new $r(o,s)}e=vp[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Vc._TEMP_POINT),this._geometry.containsPoint(Vc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Ge.shared.setValue(this.tint).toRgbArray(h2);for(let e=0;e<this.batches.length;e++){const n=this.batches[e];n._tintRGB=Ge.shared.setValue(t).multiply(n._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,u=e.ty,h=this._geometry.points,d=this.vertexData;let m=0;for(let c=0;c<h.length;c+=2){const f=h[c],g=h[c+1];d[m++]=n*f+i*g+o,d[m++]=s*g+r*f+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Hs=Vc;Hs.curves=sa;Hs._TEMP_POINT=new ke;class d2 extends hd{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o;for(let m=0;m<e;m++){const c=m%this.segWidth,f=m/this.segWidth|0;n.push(c*u,f*h),r.push(c/s,f/o)}const d=s*o;for(let m=0;m<d;m++){const c=m%s,f=m/s|0,g=f*this.segWidth+c,v=f*this.segWidth+c+1,b=(f+1)*this.segWidth+c,E=(f+1)*this.segWidth+c+1;i.push(g,v,b,v,E,b)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class f2 extends hd{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const d=this._width*this.textureScale,m=e.length;for(let f=0;f<m;f++){const g=f*4;if(this.textureScale>0){const v=h.x-e[f].x,b=h.y-e[f].y,E=Math.sqrt(v*v+b*b);h=e[f],u+=E/d}else u=f/(m-1);s[g]=u,s[g+1]=0,s[g+2]=u,s[g+3]=1}let c=0;for(let f=0;f<m-1;f++){const g=f*2;o[c++]=g,o[c++]=g+1,o[c++]=g+2,o[c++]=g+2,o[c++]=g+1,o[c++]=g+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,u=e.length;for(let h=0;h<u;h++){const d=e[h],m=h*4;h<e.length-1?r=e[h+1]:r=d,s=-(r.x-n.x),i=r.y-n.y;const c=Math.sqrt(i*i+s*s),f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=c,s/=c,i*=f,s*=f,o[m]=d.x+i,o[m+1]=d.y+s,o[m+2]=d.x-i,o[m+3]=d.y-s,n=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class p2 extends ia{constructor(e,n,r){const i=new d2(e.width,e.height,n,r),s=new kl(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const hc=10;class m2 extends p2{constructor(e,n,r,i,s){var o,u,h,d;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n??((o=e.defaultBorders)==null?void 0:o.left)??hc,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??hc,this._topHeight=r??((h=e.defaultBorders)==null?void 0:h.top)??hc,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??hc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class g2 extends ia{constructor(e=se.EMPTY,n,r,i,s){const o=new hd(n,r,i);o.getBuffer("aVertexPosition").static=!1;const u=new kl(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class _2 extends ia{constructor(e,n,r=0){const i=new f2(e.height,n,r),s=new kl(e);r>0&&(e.baseTexture.wrapMode=fi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class v2 extends qt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,Ge.shared.setValue(e).toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Gy{constructor(e,n,r){this.geometry=new ss,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||me.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new gt(qA(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=n,n+=u.size,this.dynamicStride+=u.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new gt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new gt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===me.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===me.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===me.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===me.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var y2=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,x2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Gw extends id{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Je,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:me.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=$r.from(x2,y2,{}),this.state=Si.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=n[0]._texture.baseTexture,d=h.alphaMode>0;this.state.blendMode=Wx(e.blendMode,d),s.state.set(this.state);const m=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=Ge.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let f=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let b=o-g;b>i&&(b=i),v>=u.length&&u.push(this._generateOneMoreBuffer(e));const E=u[v];E.uploadDynamic(n,g,b);const x=e._bufferUpdateIDs[v]||0;f=f||E._updateID<x,f&&(E._updateID=e._updateID,E.uploadStatic(n,g,b)),s.geometry.bind(E.geometry),m.drawElements(m.TRIANGLES,b*6,m.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new Gy(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new Gy(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let u=0,h=0,d=0,m=0;for(let c=0;c<r;++c){const f=e[n+c],g=f._texture,v=f.scale.x,b=f.scale.y,E=g.trim,x=g.orig;E?(h=E.x-f.anchor.x*x.width,u=h+E.width,m=E.y-f.anchor.y*x.height,d=m+E.height):(u=x.width*(1-f.anchor.x),h=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),m=x.height*-f.anchor.y),i[o]=h*v,i[o+1]=m*b,i[o+s]=u*v,i[o+s+1]=m*b,i[o+s*2]=u*v,i[o+s*2+1]=d*b,i[o+s*3]=h*v,i[o+s*3+1]=d*b,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let u=0;u<r;u++){const h=e[n+u].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let u=0;u<r;u++){const h=e[n+u].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let u=0;u<r;++u){const h=e[n+u]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let u=0;u<r;++u){const h=e[n+u],d=Ge.shared.setValue(h._tintRGB).toPremultiplied(h.alpha);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Gw.extension={name:"particle",type:ae.RendererPlugin};fe.add(Gw);class Nl extends Kr{constructor(e,n=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_t.shared.add(this.update,this,ls.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(se.from(e[r]));return new Nl(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(se.from(e[r]));return new Nl(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Va=new ke;class Yg extends Kr{constructor(e,n=100,r=100){super(e),this.tileTransform=new rd,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new $g(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Va);const n=this._width,r=this._height,i=-n*this.anchor._x;if(Va.x>=i&&Va.x<i+n){const s=-r*this.anchor._y;if(Va.y>=s&&Va.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof se?e:se.from(e,n);return new Yg(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var w2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,b2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,S2=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,$y=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,T2=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const dc=new Je;class $w extends id{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new lw,this.state=Si.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=$r.from($y,T2,n),this.shader=e.context.webGLVersion>1?$r.from(b2,w2,n):$r.from($y,S2,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const u=e._texture,h=u.baseTexture,d=h.alphaMode>0,m=e.tileTransform.localTransform,c=e.uvMatrix;let f=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;f&&(h._glTextures[n.CONTEXT_UID]?f=h.wrapMode!==fi.CLAMP:h.wrapMode===fi.CLAMP&&(h.wrapMode=fi.REPEAT));const g=f?this.simpleShader:this.shader,v=u.width,b=u.height,E=e._width,x=e._height;dc.set(m.a*v/E,m.b*v/x,m.c*b/E,m.d*b/x,m.tx/E,m.ty/x),dc.invert(),f?dc.prepend(c.mapCoord):(g.uniforms.uMapCoord=c.mapCoord.toArray(!0),g.uniforms.uClampFrame=c.uClampFrame,g.uniforms.uClampOffset=c.uClampOffset),g.uniforms.uTransform=dc.toArray(!0),g.uniforms.uColor=Ge.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=u,n.shader.bind(g),n.geometry.bind(r),this.state.blendMode=Wx(e.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}$w.extension={name:"tilingSprite",type:ae.RendererPlugin};fe.add($w);const Am=class{constructor(t){this.stage=new qt,t=Object.assign({forceCanvas:!1},t),this.renderer=uI(t),Am._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Am._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let eu=Am;eu._plugins=[];fe.handleByList(ae.Application,eu._plugins);class jw{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}jw.extension=ae.Application;fe.add(jw);var $e={},E2={get exports(){return $e},set exports(t){$e=t}},C2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A2=C2,P2=A2;function Ww(){}function Vw(){}Vw.resetWarningCache=Ww;var I2=function(){function t(r,i,s,o,u,h){if(h!==P2){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vw,resetWarningCache:Ww};return n.PropTypes=n,n};E2.exports=I2();function En(t){return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(t)}function Xw(t){var e=function(n,r){if(En(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(En(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return En(e)==="symbol"?e:String(e)}function mt(t,e,n){return(e=Xw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gi(t){return function(e){if(Array.isArray(e))return yp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return yp(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yp(e,n):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]}var R2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M2=function(t){return t==null};function il(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=gi(t);else{if(t===null||En(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(n){return!M2(n)&&!isNaN(n)}).map(Number)}function jy(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function xp(t){return t instanceof ke||t instanceof ui}var yh=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function wp(t,e,n){if(xp(t[e])&&xp(n))t[e].copyFrom(n);else if(xp(t[e])){var r=il(n);dt(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(n),En(n)),t[e].set(r.shift(),r.shift())}else t[e]=n}var bo,Yw=function(t){var e,n=t;if(!Array.isArray(n)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");n=Object.keys(t)}var r={};return n.forEach(function(i){r[i]=!0}),function(i){return r[i]!==void 0}},Qw=function(t){return function(){return!t.apply(void 0,arguments)}},Pm="children",N2=(mt(bo={},Pm,!0),mt(bo,"parent",!0),mt(bo,"worldAlpha",!0),mt(bo,"worldTransform",!0),mt(bo,"worldVisible",!0),bo),Im={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Xr=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(u){return requestAnimationFrame(function(){var h,d;u==null||(h=u.__reactpixi)===null||h===void 0||(d=h.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(n.hasOwnProperty(u))return dt(h.typeofs.some(function(d){return En(n[u])===d})||h.instanceofs.some(function(d){return n[u]instanceof d}),"".concat(t," ").concat(u," prop is invalid")),n[u]};if(n.texture)return dt(n.texture instanceof se,"".concat(t," texture needs to be typeof `Texture`")),n.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});dt(!!s,"".concat(t," could not get texture from props"));var o=se.from(s);return o.__reactpixi={root:e},o.once("update",r),o.once("loaded",r),o.valid&&r(o),o},D2=Qw(Yw([].concat(gi(Object.keys(N2)),gi(yh))));function Yr(t,e,n){var r=!1;if(dt(et.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",En(t)),!n.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<yh.length;o++){var u=yh[o];e[u]!==n[u]&&(r=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof n[u]=="function"&&s&&t.on(u,n[u]))}var h=Object.keys(n||{});if(n.overwriteProps){for(var d=0;d<h.length;d++){var m=h[d];e[m]!==n[m]&&(r=!0,wp(t,m,n[m]))}return r}for(var c=h.filter(D2),f=0;f<c.length;f++){var g=c[f],v=n[g];n[g]!==e[g]&&(r=!0),v!==void 0?wp(t,g,v):g in Im?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),r=!0,wp(t,g,Im[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return r}var O2=function(t,e){var n=e.text,r=e.style;return new Bw(n,r)},B2=function(){return new qt};function ds(t,e){if(t==null)return{};var n,r,i=function(o,u){if(o==null)return{};var h,d,m={},c=Object.keys(o);for(d=0;d<c.length;d++)h=c[d],u.indexOf(h)>=0||(m[h]=o[h]);return m}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var L2=["draw","geometry"],F2=function(t,e){var n=e.geometry;dt(!n||n instanceof Hs,"Graphics geometry needs to be a `PIXI.Graphics`");var r=n?new Hs(n.geometry):new Hs;return r.applyProps=function(i,s,o){var u=o.draw;o.geometry;var h=Yr(i,s,ds(o,L2));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(r,r)),h},r},U2=["image","texture"],z2=function(t,e){var n=e.leftWidth,r=n===void 0?10:n,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,h=e.bottomHeight,d=h===void 0?10:h,m=Xr("NineSlicePlane",t,e),c=new m2(m,r,s,u,d);return c.applyProps=function(f,g,v){var b=v.image,E=v.texture,x=Yr(f,g,ds(v,U2));return(b||E)&&(E!==g.texture&&(x=!0),f.texture=Xr("NineSlicePlane",t,v)),x},c};function Wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var H2=function(t,e){var n=e.maxSize,r=n===void 0?1500:n,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,h=fc(fc({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=fc(fc({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),m=new v2(r,h,s,u);return m.willUnmount=function(c,f,g){c.destroy(d)},m},G2=["image","texture"],$2=function(t,e){var n=new Kr(Xr("Sprite",t,e));return n.applyProps=function(r,i,s){var o=s.image,u=s.texture,h=Yr(r,i,ds(s,G2));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),r.texture=Xr("Sprite",t,s)),h},n},j2=["textures","isPlaying","initialFrame"],W2=function(t,e){var n=e.textures,r=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(d){return d.map(function(m){return dt(m instanceof se||(m==null?void 0:m.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),m})},h=r?Nl.fromImages(r):new Nl(u(n));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(d,m,c){var f=c.textures,g=c.isPlaying,v=c.initialFrame,b=Yr(d,m,ds(c,j2));if(f&&m.textures!==f&&(d.textures=u(f),b=!0),g!==m.isPlaying||v!==m.initialFrame){var E=typeof v=="number"?v:h.currentFrame||0;h[g?"gotoAndPlay":"gotoAndStop"](E),b=!0}return b},h},V2=function(t,e){var n=e.text,r=n===void 0?"":n,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new cd(r,s);return o?(u.updateText(),new Kr(u.texture)):u},X2=["tileScale","tilePosition","image","texture"],Y2=function(t,e){var n=e.width,r=n===void 0?100:n,i=e.height,s=i===void 0?100:i,o=Xr("TilingSprite",t,e),u=new Yg(o,r,s);return u.applyProps=function(h,d,m){var c=m.tileScale,f=m.tilePosition,g=m.image,v=m.texture,b=Yr(h,d,ds(m,X2));if(f){var E,x=il(f);(E=h.tilePosition).set.apply(E,gi(x)),b=!jy(il(d.tilePosition),x)||b}if(c){var S,T=il(c);(S=h.tileScale).set.apply(S,gi(T)),b=!jy(il(d.tileScale),T)||b}return(g||v)&&(v!==d.texture&&(b=!0),h.texture=Xr("Sprite",t,m)),b},u},Q2=["image","texture"],K2=function(t,e){var n=Xr("Mesh",t,e),r=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?fr.TRIANGLES:o,h=new g2(n,r,i,s,u);return h.applyProps=function(d,m,c){var f=c.image,g=c.texture,v=Yr(d,m,ds(c,Q2));return(f||g)&&(g!==m.texture&&(v=!0),d.texture=Xr("Mesh",t,c)),v},h},q2=["image","texture"],Z2=function(t,e){var n=Xr("SimpleRope",t,e),r=e.points,i=new _2(n,r);return i.applyProps=function(s,o,u){var h=u.image,d=u.texture,m=ds(u,q2);dt(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var c=Yr(s,o,m);return(h||d)&&(d!==o.texture&&(c=!0),s.texture=Xr("SimpleRope",t,u)),c},i},J2=Object.freeze({__proto__:null,BitmapText:O2,Container:B2,Graphics:F2,NineSlicePlane:z2,ParticleContainer:H2,Sprite:$2,Text:V2,TilingSprite:Y2,SimpleMesh:K2,SimpleRope:Z2,AnimatedSprite:W2});function Vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},eR=Object.keys(gn).reduce(function(t,e){return Xy(Xy({},t),{},mt({},e,J2[e]))},{}),Kw={};function tR(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!gn[t],"Component `%s` could not be created, already exists in default components.",t),Kw[t]=e,t}var Yy,Qy,Ky,qy,Rm={},km={},nR={get exports(){return km},set exports(t){km=t}},Zy={};function rR(){return Qy||(Qy=1,nR.exports=(Yy||(Yy=1,function(t){function e(B,W){var M=B.length;B.push(W);e:for(;0<M;){var Z=M-1>>>1,ie=B[Z];if(!(0<i(ie,W)))break e;B[Z]=W,B[M]=ie,M=Z}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],M=B.pop();if(M!==W){B[0]=M;e:for(var Z=0,ie=B.length,Se=ie>>>1;Z<Se;){var we=2*(Z+1)-1,Fe=B[we],Ee=we+1,Le=B[Ee];if(0>i(Fe,M))Ee<ie&&0>i(Le,Fe)?(B[Z]=Le,B[Ee]=M,Z=Ee):(B[Z]=Fe,B[we]=M,Z=we);else{if(!(Ee<ie&&0>i(Le,M)))break e;B[Z]=Le,B[Ee]=M,Z=Ee}}}return W}function i(B,W){var M=B.sortIndex-W.sortIndex;return M!==0?M:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,c=null,f=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else{if(!(W.startTime<=B))break;r(d),W.sortIndex=W.expirationTime,e(h,W)}W=n(d)}}function C(B){if(b=!1,T(B),!v)if(n(h)!==null)v=!0,xe(P);else{var W=n(d);W!==null&&te(C,W.startTime-B)}}function P(B,W){v=!1,b&&(b=!1,x(H),H=-1),g=!0;var M=f;try{for(T(W),c=n(h);c!==null&&(!(c.expirationTime>W)||B&&!re());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ie=Z(c.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?c.callback=ie:c===n(h)&&r(h),T(W)}else r(h);c=n(h)}if(c!==null)var Se=!0;else{var we=n(d);we!==null&&te(C,we.startTime-W),Se=!1}return Se}finally{c=null,f=M,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,N=!1,O=null,H=-1,X=5,Q=-1;function re(){return!(t.unstable_now()-Q<X)}function V(){if(O!==null){var B=t.unstable_now();Q=B;var W=!0;try{W=O(!0,B)}finally{W?D():(N=!1,O=null)}}else N=!1}if(typeof S=="function")D=function(){S(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ye=z.port2;z.port1.onmessage=V,D=function(){ye.postMessage(null)}}else D=function(){E(V,0)};function xe(B){O=B,N||(N=!0,D())}function te(B,W){H=E(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,xe(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var M=f;f=W;try{return B()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var M=f;f=B;try{return W()}finally{f=M}},t.unstable_scheduleCallback=function(B,W,M){var Z=t.unstable_now();switch(M=typeof M=="object"&&M!==null&&typeof(M=M.delay)=="number"&&0<M?Z+M:Z,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return B={id:m++,callback:W,priorityLevel:B,startTime:M,expirationTime:ie=M+ie,sortIndex:-1},M>Z?(B.sortIndex=M,e(d,B),n(h)===null&&B===n(d)&&(b?(x(H),H=-1):b=!0,te(C,M-Z))):(B.sortIndex=ie,e(h,B),v||g||(v=!0,xe(P))),B},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(B){var W=f;return function(){var M=f;f=W;try{return B.apply(this,arguments)}finally{f=M}}}}(Zy)),Zy)),km}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function iR(){return qy||(qy=1,Ky=function(t){var e={},n=di,r=rR(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function D(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case h:return"Portal";case c:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case g:return(a.displayName||"Context")+".Consumer";case f:return(a._context.displayName||"Context")+".Provider";case v:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case x:return(l=a.displayName||null)!==null?l:D(a.type)||"Memo";case S:l=a._payload,a=a._init;try{return D(a(l))}catch{}}return null}function N(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(l);case 8:return l===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function O(a){var l=a,p=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(p=l.return),a=l.return;while(a)}return l.tag===3?p:null}function H(a){if(O(a)!==a)throw Error(s(188))}function X(a){var l=a.alternate;if(!l){if((l=O(a))===null)throw Error(s(188));return l!==a?null:a}for(var p=a,_=l;;){var y=p.return;if(y===null)break;var w=y.alternate;if(w===null){if((_=y.return)!==null){p=_;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===p)return H(y),a;if(w===_)return H(y),l;w=w.sibling}throw Error(s(188))}if(p.return!==_.return)p=y,_=w;else{for(var A=!1,I=y.child;I;){if(I===p){A=!0,p=y,_=w;break}if(I===_){A=!0,_=y,p=w;break}I=I.sibling}if(!A){for(I=w.child;I;){if(I===p){A=!0,p=w,_=y;break}if(I===_){A=!0,_=w,p=y;break}I=I.sibling}if(!A)throw Error(s(189))}}if(p.alternate!==_)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?a:l}function Q(a){return(a=X(a))!==null?re(a):null}function re(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=re(a);if(l!==null)return l;a=a.sibling}return null}function V(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=V(a);if(l!==null)return l}a=a.sibling}return null}var z,ye=Array.isArray,xe=t.getPublicInstance,te=t.getRootHostContext,B=t.getChildHostContext,W=t.prepareForCommit,M=t.resetAfterCommit,Z=t.createInstance,ie=t.appendInitialChild,Se=t.finalizeInitialChildren,we=t.prepareUpdate,Fe=t.shouldSetTextContent,Ee=t.createTextInstance,Le=t.scheduleTimeout,Ct=t.cancelTimeout,At=t.noTimeout,at=t.isPrimaryRenderer,Ce=t.supportsMutation,Ve=t.supportsPersistence,Ne=t.supportsHydration,Rn=t.getInstanceFromNode,kn=t.preparePortalMount,gs=t.getCurrentEventPriority,Q0=t.detachDeletedInstance,FT=t.supportsMicrotasks,UT=t.scheduleMicrotask,va=t.supportsTestSelectors,zT=t.findFiberRoot,HT=t.getBoundingRect,GT=t.getTextContent,ya=t.isHiddenSubtree,$T=t.matchAccessibilityRole,jT=t.setFocusIfFocusable,WT=t.setupIntersectionObserver,VT=t.appendChild,XT=t.appendChildToContainer,YT=t.commitTextUpdate,QT=t.commitMount,KT=t.commitUpdate,qT=t.insertBefore,ZT=t.insertInContainerBefore,JT=t.removeChild,eE=t.removeChildFromContainer,K0=t.resetTextContent,tE=t.hideInstance,nE=t.hideTextInstance,rE=t.unhideInstance,iE=t.unhideTextInstance,sE=t.clearContainer,oE=t.cloneInstance,q0=t.createContainerChildSet,Z0=t.appendChildToContainerChildSet,aE=t.finalizeContainerChildren,Md=t.replaceContainerChildren,J0=t.cloneHiddenInstance,e_=t.cloneHiddenTextInstance,lE=t.canHydrateInstance,uE=t.canHydrateTextInstance,cE=t.canHydrateSuspenseInstance,t_=t.isSuspenseInstancePending,Nd=t.isSuspenseInstanceFallback,hE=t.getSuspenseInstanceFallbackErrorDetails,dE=t.registerSuspenseInstanceRetry,ou=t.getNextHydratableSibling,fE=t.getFirstHydratableChild,pE=t.getFirstHydratableChildWithinContainer,mE=t.getFirstHydratableChildWithinSuspenseInstance,gE=t.hydrateInstance,_E=t.hydrateTextInstance,vE=t.hydrateSuspenseInstance,yE=t.getNextHydratableInstanceAfterSuspenseInstance,xE=t.commitHydratedContainer,wE=t.commitHydratedSuspenseInstance,bE=t.clearSuspenseBoundary,SE=t.clearSuspenseBoundaryFromContainer,TE=t.shouldDeleteUnhydratedTailInstances,EE=t.didNotMatchHydratedContainerTextInstance,CE=t.didNotMatchHydratedTextInstance;function xa(a){if(z===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+a}var Dd=!1;function Od(a,l){if(!a||Dd)return"";Dd=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var _=U}Reflect.construct(a,[],l)}else{try{l.call()}catch(U){_=U}a.call(l.prototype)}else{try{throw Error()}catch(U){_=U}a()}}catch(U){if(U&&_&&typeof U.stack=="string"){for(var y=U.stack.split(`
`),w=_.stack.split(`
`),A=y.length-1,I=w.length-1;1<=A&&0<=I&&y[A]!==w[I];)I--;for(;1<=A&&0<=I;A--,I--)if(y[A]!==w[I]){if(A!==1||I!==1)do if(A--,0>--I||y[A]!==w[I]){var L=`
`+y[A].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=A&&0<=I);break}}}finally{Dd=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?xa(a):""}var AE=Object.prototype.hasOwnProperty,Bd=[],ro=-1;function Ei(a){return{current:a}}function Qe(a){0>ro||(a.current=Bd[ro],Bd[ro]=null,ro--)}function je(a,l){ro++,Bd[ro]=a.current,a.current=l}var Ci={},jt=Ei(Ci),on=Ei(!1),_s=Ci;function io(a,l){var p=a.type.contextTypes;if(!p)return Ci;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===l)return _.__reactInternalMemoizedMaskedChildContext;var y,w={};for(y in p)w[y]=l[y];return _&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=w),w}function _n(a){return(a=a.childContextTypes)!=null}function Ld(){Qe(on),Qe(jt)}function n_(a,l,p){if(jt.current!==Ci)throw Error(s(168));je(jt,l),je(on,p)}function r_(a,l,p){var _=a.stateNode;if(l=l.childContextTypes,typeof _.getChildContext!="function")return p;for(var y in _=_.getChildContext())if(!(y in l))throw Error(s(108,N(a)||"Unknown",y));return i({},p,_)}function au(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ci,_s=jt.current,je(jt,a),je(on,on.current),!0}function i_(a,l,p){var _=a.stateNode;if(!_)throw Error(s(169));p?(a=r_(a,l,_s),_.__reactInternalMemoizedMergedChildContext=a,Qe(on),Qe(jt),je(jt,a)):Qe(on),je(on,p)}var qn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(PE(a)/IE|0)|0},PE=Math.log,IE=Math.LN2,Fd=64,Ud=4194304;function wa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function lu(a,l){var p=a.pendingLanes;if(p===0)return 0;var _=0,y=a.suspendedLanes,w=a.pingedLanes,A=268435455&p;if(A!==0){var I=A&~y;I!==0?_=wa(I):(w&=A)!==0&&(_=wa(w))}else(A=p&~y)!==0?_=wa(A):w!==0&&(_=wa(w));if(_===0)return 0;if(l!==0&&l!==_&&!(l&y)&&((y=_&-_)>=(w=l&-l)||y===16&&4194240&w))return l;if(4&_&&(_|=16&p),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=_;0<l;)y=1<<(p=31-qn(l)),_|=a[p],l&=~y;return _}function RE(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function zd(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function s_(){var a=Fd;return!(4194240&(Fd<<=1))&&(Fd=64),a}function Hd(a){for(var l=[],p=0;31>p;p++)l.push(a);return l}function ba(a,l,p){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-qn(l)]=p}function Gd(a,l){var p=a.entangledLanes|=l;for(a=a.entanglements;p;){var _=31-qn(p),y=1<<_;y&l|a[_]&l&&(a[_]|=l),p&=~y}}var De=0;function o_(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var $d=r.unstable_scheduleCallback,a_=r.unstable_cancelCallback,kE=r.unstable_shouldYield,ME=r.unstable_requestPaint,Pt=r.unstable_now,jd=r.unstable_ImmediatePriority,NE=r.unstable_UserBlockingPriority,l_=r.unstable_NormalPriority,DE=r.unstable_IdlePriority,uu=null,Sr=null,Zn=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},Zr=null,cu=!1,Wd=!1;function u_(a){Zr===null?Zr=[a]:Zr.push(a)}function Tr(){if(!Wd&&Zr!==null){Wd=!0;var a=0,l=De;try{var p=Zr;for(De=1;a<p.length;a++){var _=p[a];do _=_(!0);while(_!==null)}Zr=null,cu=!1}catch(y){throw Zr!==null&&(Zr=Zr.slice(a+1)),$d(jd,Tr),y}finally{De=l,Wd=!1}}return null}var so=[],oo=0,hu=null,du=0,Mn=[],Nn=0,vs=null,Er=1,Jr="";function ys(a,l){so[oo++]=du,so[oo++]=hu,hu=a,du=l}function c_(a,l,p){Mn[Nn++]=Er,Mn[Nn++]=Jr,Mn[Nn++]=vs,vs=a;var _=Er;a=Jr;var y=32-qn(_)-1;_&=~(1<<y),p+=1;var w=32-qn(l)+y;if(30<w){var A=y-y%5;w=(_&(1<<A)-1).toString(32),_>>=A,y-=A,Er=1<<32-qn(l)+y|p<<y|_,Jr=w+a}else Er=1<<w|p<<y|_,Jr=a}function Vd(a){a.return!==null&&(ys(a,1),c_(a,1,0))}function Xd(a){for(;a===hu;)hu=so[--oo],so[oo]=null,du=so[--oo],so[oo]=null;for(;a===vs;)vs=Mn[--Nn],Mn[Nn]=null,Jr=Mn[--Nn],Mn[Nn]=null,Er=Mn[--Nn],Mn[Nn]=null}var vn=null,Dn=null,Ke=!1,Sa=!1,Jn=null;function h_(a,l){var p=Un(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=a,(l=a.deletions)===null?(a.deletions=[p],a.flags|=16):l.push(p)}function d_(a,l){switch(a.tag){case 5:return(l=lE(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,vn=a,Dn=fE(l),!0);case 6:return(l=uE(l,a.pendingProps))!==null&&(a.stateNode=l,vn=a,Dn=null,!0);case 13:if((l=cE(l))!==null){var p=vs!==null?{id:Er,overflow:Jr}:null;return a.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},(p=Un(18,null,null,0)).stateNode=l,p.return=a,a.child=p,vn=a,Dn=null,!0}return!1;default:return!1}}function Yd(a){return(1&a.mode)!=0&&(128&a.flags)==0}function Qd(a){if(Ke){var l=Dn;if(l){var p=l;if(!d_(a,l)){if(Yd(a))throw Error(s(418));l=ou(p);var _=vn;l&&d_(a,l)?h_(_,p):(a.flags=-4097&a.flags|2,Ke=!1,vn=a)}}else{if(Yd(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ke=!1,vn=a}}}function f_(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;vn=a}function fu(a){if(!Ne||a!==vn)return!1;if(!Ke)return f_(a),Ke=!0,!1;if(a.tag!==3&&(a.tag!==5||TE(a.type)&&!Fe(a.type,a.memoizedProps))){var l=Dn;if(l){if(Yd(a))throw p_(),Error(s(418));for(;l;)h_(a,l),l=ou(l)}}if(f_(a),a.tag===13){if(!Ne)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Dn=yE(a)}else Dn=vn?ou(a.stateNode):null;return!0}function p_(){for(var a=Dn;a;)a=ou(a)}function ao(){Ne&&(Dn=vn=null,Sa=Ke=!1)}function Kd(a){Jn===null?Jn=[a]:Jn.push(a)}var OE=o.ReactCurrentBatchConfig;function pu(a,l){if(Zn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var p=Object.keys(a),_=Object.keys(l);if(p.length!==_.length)return!1;for(_=0;_<p.length;_++){var y=p[_];if(!AE.call(l,y)||!Zn(a[y],l[y]))return!1}return!0}function BE(a){switch(a.tag){case 5:return xa(a.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return a=Od(a.type,!1);case 11:return a=Od(a.type.render,!1);case 1:return a=Od(a.type,!0);default:return""}}function er(a,l){if(a&&a.defaultProps){for(var p in l=i({},l),a=a.defaultProps)l[p]===void 0&&(l[p]=a[p]);return l}return l}var mu=Ei(null),gu=null,lo=null,qd=null;function Zd(){qd=lo=gu=null}function m_(a,l,p){at?(je(mu,l._currentValue),l._currentValue=p):(je(mu,l._currentValue2),l._currentValue2=p)}function Jd(a){var l=mu.current;Qe(mu),at?a._currentValue=l:a._currentValue2=l}function ef(a,l,p){for(;a!==null;){var _=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,_!==null&&(_.childLanes|=l)):_!==null&&(_.childLanes&l)!==l&&(_.childLanes|=l),a===p)break;a=a.return}}function uo(a,l){gu=a,qd=lo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(an=!0),a.firstContext=null)}function On(a){var l=at?a._currentValue:a._currentValue2;if(qd!==a)if(a={context:a,memoizedValue:l,next:null},lo===null){if(gu===null)throw Error(s(308));lo=a,gu.dependencies={lanes:0,firstContext:a}}else lo=lo.next=a;return l}var xs=null;function tf(a){xs===null?xs=[a]:xs.push(a)}function g_(a,l,p,_){var y=l.interleaved;return y===null?(p.next=p,tf(l)):(p.next=y.next,y.next=p),l.interleaved=p,Cr(a,_)}function Cr(a,l){a.lanes|=l;var p=a.alternate;for(p!==null&&(p.lanes|=l),p=a,a=a.return;a!==null;)a.childLanes|=l,(p=a.alternate)!==null&&(p.childLanes|=l),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Ai=!1;function nf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function __(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ei(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Pi(a,l,p){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,(2&Ie)!=0){var y=_.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),_.pending=l,Cr(a,p)}return(y=_.interleaved)===null?(l.next=l,tf(_)):(l.next=y.next,y.next=l),_.interleaved=l,Cr(a,p)}function _u(a,l,p){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&p)!=0)){var _=l.lanes;p|=_&=a.pendingLanes,l.lanes=p,Gd(a,p)}}function v_(a,l){var p=a.updateQueue,_=a.alternate;if(_!==null&&p===(_=_.updateQueue)){var y=null,w=null;if((p=p.firstBaseUpdate)!==null){do{var A={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};w===null?y=w=A:w=w.next=A,p=p.next}while(p!==null);w===null?y=w=l:w=w.next=l}else y=w=l;return p={baseState:_.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:_.shared,effects:_.effects},void(a.updateQueue=p)}(a=p.lastBaseUpdate)===null?p.firstBaseUpdate=l:a.next=l,p.lastBaseUpdate=l}function vu(a,l,p,_){var y=a.updateQueue;Ai=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var L=I,U=L.next;L.next=null,A===null?w=U:A.next=U,A=L;var $=a.alternate;$!==null&&(I=($=$.updateQueue).lastBaseUpdate)!==A&&(I===null?$.firstBaseUpdate=U:I.next=U,$.lastBaseUpdate=L)}if(w!==null){var ne=y.baseState;for(A=0,$=U=L=null,I=w;;){var G=I.lane,J=I.eventTime;if((_&G)===G){$!==null&&($=$.next={eventTime:J,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=a,Te=I;switch(G=l,J=p,Te.tag){case 1:if(typeof(ce=Te.payload)=="function"){ne=ce.call(J,ne,G);break e}ne=ce;break e;case 3:ce.flags=-65537&ce.flags|128;case 0:if((G=typeof(ce=Te.payload)=="function"?ce.call(J,ne,G):ce)==null)break e;ne=i({},ne,G);break e;case 2:Ai=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(G=y.effects)===null?y.effects=[I]:G.push(I))}else J={eventTime:J,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},$===null?(U=$=J,L=ne):$=$.next=J,A|=G;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(G=I).next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}if($===null&&(L=ne),y.baseState=L,y.firstBaseUpdate=U,y.lastBaseUpdate=$,(l=y.shared.interleaved)!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);bs|=A,a.lanes=A,a.memoizedState=ne}}function y_(a,l,p){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var _=a[l],y=_.callback;if(y!==null){if(_.callback=null,_=p,typeof y!="function")throw Error(s(191,y));y.call(_)}}}var x_=new n.Component().refs;function rf(a,l,p,_){p=(p=p(_,l=a.memoizedState))==null?l:i({},l,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var yu={isMounted:function(a){return!!(a=a._reactInternals)&&O(a)===a},enqueueSetState:function(a,l,p){a=a._reactInternals;var _=Xt(),y=Mi(a),w=ei(_,y);w.payload=l,p!=null&&(w.callback=p),(l=Pi(a,w,y))!==null&&(Fn(l,a,y,_),_u(l,a,y))},enqueueReplaceState:function(a,l,p){a=a._reactInternals;var _=Xt(),y=Mi(a),w=ei(_,y);w.tag=1,w.payload=l,p!=null&&(w.callback=p),(l=Pi(a,w,y))!==null&&(Fn(l,a,y,_),_u(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var p=Xt(),_=Mi(a),y=ei(p,_);y.tag=2,l!=null&&(y.callback=l),(l=Pi(a,y,_))!==null&&(Fn(l,a,_,p),_u(l,a,_))}};function w_(a,l,p,_,y,w,A){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,w,A):!l.prototype||!l.prototype.isPureReactComponent||!pu(p,_)||!pu(y,w)}function b_(a,l,p){var _=!1,y=Ci,w=l.contextType;return typeof w=="object"&&w!==null?w=On(w):(y=_n(l)?_s:jt.current,w=(_=(_=l.contextTypes)!=null)?io(a,y):Ci),l=new l(p,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=yu,a.stateNode=l,l._reactInternals=a,_&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function S_(a,l,p,_){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,_),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,_),l.state!==a&&yu.enqueueReplaceState(l,l.state,null)}function sf(a,l,p,_){var y=a.stateNode;y.props=p,y.state=a.memoizedState,y.refs=x_,nf(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=On(w):(w=_n(l)?_s:jt.current,y.context=io(a,w)),y.state=a.memoizedState,typeof(w=l.getDerivedStateFromProps)=="function"&&(rf(a,l,w,p),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&yu.enqueueReplaceState(y,y.state,null),vu(a,p,y,_),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ta(a,l,p){if((a=p.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var _=p.stateNode}if(!_)throw Error(s(147,a));var y=_,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(A){var I=y.refs;I===x_&&(I=y.refs={}),A===null?delete I[w]:I[w]=A},l._stringRef=w,l)}if(typeof a!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,a))}return a}function xu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function T_(a){return(0,a._init)(a._payload)}function E_(a){function l(j,k){if(a){var F=j.deletions;F===null?(j.deletions=[k],j.flags|=16):F.push(k)}}function p(j,k){if(!a)return null;for(;k!==null;)l(j,k),k=k.sibling;return null}function _(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function y(j,k){return(j=Di(j,k)).index=0,j.sibling=null,j}function w(j,k,F){return j.index=F,a?(F=j.alternate)!==null?(F=F.index)<k?(j.flags|=2,k):F:(j.flags|=2,k):(j.flags|=1048576,k)}function A(j){return a&&j.alternate===null&&(j.flags|=2),j}function I(j,k,F,K){return k===null||k.tag!==6?((k=Wf(F,j.mode,K)).return=j,k):((k=y(k,F)).return=j,k)}function L(j,k,F,K){var pe=F.type;return pe===d?$(j,k,F.props.children,K,F.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&T_(pe)===k.type)?((K=y(k,F.props)).ref=Ta(j,k,F),K.return=j,K):((K=Vu(F.type,F.key,F.props,null,j.mode,K)).ref=Ta(j,k,F),K.return=j,K)}function U(j,k,F,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?((k=Vf(F,j.mode,K)).return=j,k):((k=y(k,F.children||[])).return=j,k)}function $(j,k,F,K,pe){return k===null||k.tag!==7?((k=Es(F,j.mode,K,pe)).return=j,k):((k=y(k,F)).return=j,k)}function ne(j,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=Wf(""+k,j.mode,F)).return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case u:return(F=Vu(k.type,k.key,k.props,null,j.mode,F)).ref=Ta(j,null,k),F.return=j,F;case h:return(k=Vf(k,j.mode,F)).return=j,k;case S:return ne(j,(0,k._init)(k._payload),F)}if(ye(k)||P(k))return(k=Es(k,j.mode,F,null)).return=j,k;xu(j,k)}return null}function G(j,k,F,K){var pe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:I(j,k,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return F.key===pe?L(j,k,F,K):null;case h:return F.key===pe?U(j,k,F,K):null;case S:return G(j,k,(pe=F._init)(F._payload),K)}if(ye(F)||P(F))return pe!==null?null:$(j,k,F,K,null);xu(j,F)}return null}function J(j,k,F,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number")return I(k,j=j.get(F)||null,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case u:return L(k,j=j.get(K.key===null?F:K.key)||null,K,pe);case h:return U(k,j=j.get(K.key===null?F:K.key)||null,K,pe);case S:return J(j,k,F,(0,K._init)(K._payload),pe)}if(ye(K)||P(K))return $(k,j=j.get(F)||null,K,pe,null);xu(k,K)}return null}function ce(j,k,F,K){for(var pe=null,Ue=null,he=k,Oe=k=0,Bt=null;he!==null&&Oe<F.length;Oe++){he.index>Oe?(Bt=he,he=null):Bt=he.sibling;var ze=G(j,he,F[Oe],K);if(ze===null){he===null&&(he=Bt);break}a&&he&&ze.alternate===null&&l(j,he),k=w(ze,k,Oe),Ue===null?pe=ze:Ue.sibling=ze,Ue=ze,he=Bt}if(Oe===F.length)return p(j,he),Ke&&ys(j,Oe),pe;if(he===null){for(;Oe<F.length;Oe++)(he=ne(j,F[Oe],K))!==null&&(k=w(he,k,Oe),Ue===null?pe=he:Ue.sibling=he,Ue=he);return Ke&&ys(j,Oe),pe}for(he=_(j,he);Oe<F.length;Oe++)(Bt=J(he,j,Oe,F[Oe],K))!==null&&(a&&Bt.alternate!==null&&he.delete(Bt.key===null?Oe:Bt.key),k=w(Bt,k,Oe),Ue===null?pe=Bt:Ue.sibling=Bt,Ue=Bt);return a&&he.forEach(function(Oi){return l(j,Oi)}),Ke&&ys(j,Oe),pe}function Te(j,k,F,K){var pe=P(F);if(typeof pe!="function")throw Error(s(150));if((F=pe.call(F))==null)throw Error(s(151));for(var Ue=pe=null,he=k,Oe=k=0,Bt=null,ze=F.next();he!==null&&!ze.done;Oe++,ze=F.next()){he.index>Oe?(Bt=he,he=null):Bt=he.sibling;var Oi=G(j,he,ze.value,K);if(Oi===null){he===null&&(he=Bt);break}a&&he&&Oi.alternate===null&&l(j,he),k=w(Oi,k,Oe),Ue===null?pe=Oi:Ue.sibling=Oi,Ue=Oi,he=Bt}if(ze.done)return p(j,he),Ke&&ys(j,Oe),pe;if(he===null){for(;!ze.done;Oe++,ze=F.next())(ze=ne(j,ze.value,K))!==null&&(k=w(ze,k,Oe),Ue===null?pe=ze:Ue.sibling=ze,Ue=ze);return Ke&&ys(j,Oe),pe}for(he=_(j,he);!ze.done;Oe++,ze=F.next())(ze=J(he,j,Oe,ze.value,K))!==null&&(a&&ze.alternate!==null&&he.delete(ze.key===null?Oe:ze.key),k=w(ze,k,Oe),Ue===null?pe=ze:Ue.sibling=ze,Ue=ze);return a&&he.forEach(function(oC){return l(j,oC)}),Ke&&ys(j,Oe),pe}return function j(k,F,K,pe){if(typeof K=="object"&&K!==null&&K.type===d&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case u:e:{for(var Ue=K.key,he=F;he!==null;){if(he.key===Ue){if((Ue=K.type)===d){if(he.tag===7){p(k,he.sibling),(F=y(he,K.props.children)).return=k,k=F;break e}}else if(he.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===S&&T_(Ue)===he.type){p(k,he.sibling),(F=y(he,K.props)).ref=Ta(k,he,K),F.return=k,k=F;break e}p(k,he);break}l(k,he),he=he.sibling}K.type===d?((F=Es(K.props.children,k.mode,pe,K.key)).return=k,k=F):((pe=Vu(K.type,K.key,K.props,null,k.mode,pe)).ref=Ta(k,F,K),pe.return=k,k=pe)}return A(k);case h:e:{for(he=K.key;F!==null;){if(F.key===he){if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){p(k,F.sibling),(F=y(F,K.children||[])).return=k,k=F;break e}p(k,F);break}l(k,F),F=F.sibling}(F=Vf(K,k.mode,pe)).return=k,k=F}return A(k);case S:return j(k,F,(he=K._init)(K._payload),pe)}if(ye(K))return ce(k,F,K,pe);if(P(K))return Te(k,F,K,pe);xu(k,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(p(k,F.sibling),(F=y(F,K)).return=k,k=F):(p(k,F),(F=Wf(K,k.mode,pe)).return=k,k=F),A(k)):p(k,F)}}var co=E_(!0),C_=E_(!1),Ea={},Bn=Ei(Ea),Ca=Ei(Ea),ho=Ei(Ea);function Ar(a){if(a===Ea)throw Error(s(174));return a}function of(a,l){je(ho,l),je(Ca,a),je(Bn,Ea),a=te(l),Qe(Bn),je(Bn,a)}function fo(){Qe(Bn),Qe(Ca),Qe(ho)}function A_(a){var l=Ar(ho.current),p=Ar(Bn.current);p!==(l=B(p,a.type,l))&&(je(Ca,a),je(Bn,l))}function af(a){Ca.current===a&&(Qe(Bn),Qe(Ca))}var lt=Ei(0);function wu(a){for(var l=a;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&((p=p.dehydrated)===null||t_(p)||Nd(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var lf=[];function uf(){for(var a=0;a<lf.length;a++){var l=lf[a];at?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}lf.length=0}var bu=o.ReactCurrentDispatcher,cf=o.ReactCurrentBatchConfig,ws=0,tt=null,It=null,Rt=null,Su=!1,Aa=!1,Pa=0,LE=0;function Wt(){throw Error(s(321))}function hf(a,l){if(l===null)return!1;for(var p=0;p<l.length&&p<a.length;p++)if(!Zn(a[p],l[p]))return!1;return!0}function df(a,l,p,_,y,w){if(ws=w,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,bu.current=a===null||a.memoizedState===null?HE:GE,a=p(_,y),Aa){w=0;do{if(Aa=!1,Pa=0,25<=w)throw Error(s(301));w+=1,Rt=It=null,l.updateQueue=null,bu.current=$E,a=p(_,y)}while(Aa)}if(bu.current=Cu,l=It!==null&&It.next!==null,ws=0,Rt=It=tt=null,Su=!1,l)throw Error(s(300));return a}function ff(){var a=Pa!==0;return Pa=0,a}function Pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?tt.memoizedState=Rt=a:Rt=Rt.next=a,Rt}function Ln(){if(It===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var l=Rt===null?tt.memoizedState:Rt.next;if(l!==null)Rt=l,It=a;else{if(a===null)throw Error(s(310));a={memoizedState:(It=a).memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Rt===null?tt.memoizedState=Rt=a:Rt=Rt.next=a}return Rt}function Ia(a,l){return typeof l=="function"?l(a):l}function pf(a){var l=Ln(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var _=It,y=_.baseQueue,w=p.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}_.baseQueue=y=w,p.pending=null}if(y!==null){w=y.next,_=_.baseState;var I=A=null,L=null,U=w;do{var $=U.lane;if((ws&$)===$)L!==null&&(L=L.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),_=U.hasEagerState?U.eagerState:a(_,U.action);else{var ne={lane:$,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};L===null?(I=L=ne,A=_):L=L.next=ne,tt.lanes|=$,bs|=$}U=U.next}while(U!==null&&U!==w);L===null?A=_:L.next=I,Zn(_,l.memoizedState)||(an=!0),l.memoizedState=_,l.baseState=A,l.baseQueue=L,p.lastRenderedState=_}if((a=p.interleaved)!==null){y=a;do w=y.lane,tt.lanes|=w,bs|=w,y=y.next;while(y!==a)}else y===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function mf(a){var l=Ln(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var _=p.dispatch,y=p.pending,w=l.memoizedState;if(y!==null){p.pending=null;var A=y=y.next;do w=a(w,A.action),A=A.next;while(A!==y);Zn(w,l.memoizedState)||(an=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,_]}function P_(){}function I_(a,l){var p=tt,_=Ln(),y=l(),w=!Zn(_.memoizedState,y);if(w&&(_.memoizedState=y,an=!0),_=_.queue,gf(M_.bind(null,p,_,a),[a]),_.getSnapshot!==l||w||Rt!==null&&1&Rt.memoizedState.tag){if(p.flags|=2048,Ra(9,k_.bind(null,p,_,y,l),void 0,null),kt===null)throw Error(s(349));30&ws||R_(p,l,y)}return y}function R_(a,l,p){a.flags|=16384,a={getSnapshot:l,value:p},(l=tt.updateQueue)===null?(l={lastEffect:null,stores:null},tt.updateQueue=l,l.stores=[a]):(p=l.stores)===null?l.stores=[a]:p.push(a)}function k_(a,l,p,_){l.value=p,l.getSnapshot=_,N_(l)&&D_(a)}function M_(a,l,p){return p(function(){N_(l)&&D_(a)})}function N_(a){var l=a.getSnapshot;a=a.value;try{var p=l();return!Zn(a,p)}catch{return!0}}function D_(a){var l=Cr(a,1);l!==null&&Fn(l,a,1,-1)}function O_(a){var l=Pr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:a},l.queue=a,a=a.dispatch=zE.bind(null,tt,a),[l.memoizedState,a]}function Ra(a,l,p,_){return a={tag:a,create:l,destroy:p,deps:_,next:null},(l=tt.updateQueue)===null?(l={lastEffect:null,stores:null},tt.updateQueue=l,l.lastEffect=a.next=a):(p=l.lastEffect)===null?l.lastEffect=a.next=a:(_=p.next,p.next=a,a.next=_,l.lastEffect=a),a}function B_(){return Ln().memoizedState}function Tu(a,l,p,_){var y=Pr();tt.flags|=a,y.memoizedState=Ra(1|l,p,void 0,_===void 0?null:_)}function Eu(a,l,p,_){var y=Ln();_=_===void 0?null:_;var w=void 0;if(It!==null){var A=It.memoizedState;if(w=A.destroy,_!==null&&hf(_,A.deps))return void(y.memoizedState=Ra(l,p,w,_))}tt.flags|=a,y.memoizedState=Ra(1|l,p,w,_)}function L_(a,l){return Tu(8390656,8,a,l)}function gf(a,l){return Eu(2048,8,a,l)}function F_(a,l){return Eu(4,2,a,l)}function U_(a,l){return Eu(4,4,a,l)}function z_(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function H_(a,l,p){return p=p!=null?p.concat([a]):null,Eu(4,4,z_.bind(null,l,a),p)}function _f(){}function G_(a,l){var p=Ln();l=l===void 0?null:l;var _=p.memoizedState;return _!==null&&l!==null&&hf(l,_[1])?_[0]:(p.memoizedState=[a,l],a)}function $_(a,l){var p=Ln();l=l===void 0?null:l;var _=p.memoizedState;return _!==null&&l!==null&&hf(l,_[1])?_[0]:(a=a(),p.memoizedState=[a,l],a)}function j_(a,l,p){return 21&ws?(Zn(p,l)||(p=s_(),tt.lanes|=p,bs|=p,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,an=!0),a.memoizedState=p)}function FE(a,l){var p=De;De=p!==0&&4>p?p:4,a(!0);var _=cf.transition;cf.transition={};try{a(!1),l()}finally{De=p,cf.transition=_}}function W_(){return Ln().memoizedState}function UE(a,l,p){var _=Mi(a);p={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null},V_(a)?X_(l,p):(p=g_(a,l,p,_))!==null&&(Fn(p,a,_,Xt()),Y_(p,l,_))}function zE(a,l,p){var _=Mi(a),y={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null};if(V_(a))X_(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=w(A,p);if(y.hasEagerState=!0,y.eagerState=I,Zn(I,A)){var L=l.interleaved;return L===null?(y.next=y,tf(l)):(y.next=L.next,L.next=y),void(l.interleaved=y)}}catch{}(p=g_(a,l,y,_))!==null&&(Fn(p,a,_,y=Xt()),Y_(p,l,_))}}function V_(a){var l=a.alternate;return a===tt||l!==null&&l===tt}function X_(a,l){Aa=Su=!0;var p=a.pending;p===null?l.next=l:(l.next=p.next,p.next=l),a.pending=l}function Y_(a,l,p){if(4194240&p){var _=l.lanes;p|=_&=a.pendingLanes,l.lanes=p,Gd(a,p)}}var Cu={readContext:On,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},HE={readContext:On,useCallback:function(a,l){return Pr().memoizedState=[a,l===void 0?null:l],a},useContext:On,useEffect:L_,useImperativeHandle:function(a,l,p){return p=p!=null?p.concat([a]):null,Tu(4194308,4,z_.bind(null,l,a),p)},useLayoutEffect:function(a,l){return Tu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Tu(4,2,a,l)},useMemo:function(a,l){var p=Pr();return l=l===void 0?null:l,a=a(),p.memoizedState=[a,l],a},useReducer:function(a,l,p){var _=Pr();return l=p!==void 0?p(l):l,_.memoizedState=_.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},_.queue=a,a=a.dispatch=UE.bind(null,tt,a),[_.memoizedState,a]},useRef:function(a){return a={current:a},Pr().memoizedState=a},useState:O_,useDebugValue:_f,useDeferredValue:function(a){return Pr().memoizedState=a},useTransition:function(){var a=O_(!1),l=a[0];return a=FE.bind(null,a[1]),Pr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,p){var _=tt,y=Pr();if(Ke){if(p===void 0)throw Error(s(407));p=p()}else{if(p=l(),kt===null)throw Error(s(349));30&ws||R_(_,l,p)}y.memoizedState=p;var w={value:p,getSnapshot:l};return y.queue=w,L_(M_.bind(null,_,w,a),[a]),_.flags|=2048,Ra(9,k_.bind(null,_,w,p,l),void 0,null),p},useId:function(){var a=Pr(),l=kt.identifierPrefix;if(Ke){var p=Jr;l=":"+l+"R"+(p=(Er&~(1<<32-qn(Er)-1)).toString(32)+p),0<(p=Pa++)&&(l+="H"+p.toString(32)),l+=":"}else l=":"+l+"r"+(p=LE++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},GE={readContext:On,useCallback:G_,useContext:On,useEffect:gf,useImperativeHandle:H_,useInsertionEffect:F_,useLayoutEffect:U_,useMemo:$_,useReducer:pf,useRef:B_,useState:function(){return pf(Ia)},useDebugValue:_f,useDeferredValue:function(a){return j_(Ln(),It.memoizedState,a)},useTransition:function(){return[pf(Ia)[0],Ln().memoizedState]},useMutableSource:P_,useSyncExternalStore:I_,useId:W_,unstable_isNewReconciler:!1},$E={readContext:On,useCallback:G_,useContext:On,useEffect:gf,useImperativeHandle:H_,useInsertionEffect:F_,useLayoutEffect:U_,useMemo:$_,useReducer:mf,useRef:B_,useState:function(){return mf(Ia)},useDebugValue:_f,useDeferredValue:function(a){var l=Ln();return It===null?l.memoizedState=a:j_(l,It.memoizedState,a)},useTransition:function(){return[mf(Ia)[0],Ln().memoizedState]},useMutableSource:P_,useSyncExternalStore:I_,useId:W_,unstable_isNewReconciler:!1};function po(a,l){try{var p="",_=l;do p+=BE(_),_=_.return;while(_);var y=p}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function vf(a,l,p){return{value:a,source:null,stack:p??null,digest:l??null}}function yf(a,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var jE=typeof WeakMap=="function"?WeakMap:Map;function Q_(a,l,p){(p=ei(-1,p)).tag=3,p.payload={element:null};var _=l.value;return p.callback=function(){zu||(zu=!0,Ff=_),yf(0,l)},p}function K_(a,l,p){(p=ei(-1,p)).tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var y=l.value;p.payload=function(){return _(y)},p.callback=function(){yf(0,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(p.callback=function(){yf(0,l),typeof _!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),p}function q_(a,l,p){var _=a.pingCache;if(_===null){_=a.pingCache=new jE;var y=new Set;_.set(l,y)}else(y=_.get(l))===void 0&&(y=new Set,_.set(l,y));y.has(p)||(y.add(p),a=JE.bind(null,a,l,p),l.then(a,a))}function Z_(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function J_(a,l,p,_,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((l=ei(-1,1)).tag=2,Pi(p,l,1))),p.lanes|=1),a)}var WE=o.ReactCurrentOwner,an=!1;function ln(a,l,p,_){l.child=a===null?C_(l,null,p,_):co(l,a.child,p,_)}function ev(a,l,p,_,y){p=p.render;var w=l.ref;return uo(l,y),_=df(a,l,p,_,w,y),p=ff(),a===null||an?(Ke&&p&&Vd(l),l.flags|=1,ln(a,l,_,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ti(a,l,y))}function tv(a,l,p,_,y){if(a===null){var w=p.type;return typeof w!="function"||jf(w)||w.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((a=Vu(p.type,null,_,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=w,nv(a,l,w,_,y))}if(w=a.child,(a.lanes&y)==0){var A=w.memoizedProps;if((p=(p=p.compare)!==null?p:pu)(A,_)&&a.ref===l.ref)return ti(a,l,y)}return l.flags|=1,(a=Di(w,_)).ref=l.ref,a.return=l,l.child=a}function nv(a,l,p,_,y){if(a!==null){var w=a.memoizedProps;if(pu(w,_)&&a.ref===l.ref){if(an=!1,l.pendingProps=_=w,(a.lanes&y)==0)return l.lanes=a.lanes,ti(a,l,y);131072&a.flags&&(an=!0)}}return xf(a,l,p,_,y)}function rv(a,l,p){var _=l.pendingProps,y=_.children,w=a!==null?a.memoizedState:null;if(_.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(go,yn),yn|=p;else{if(!(1073741824&p))return a=w!==null?w.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,je(go,yn),yn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=w!==null?w.baseLanes:p,je(go,yn),yn|=_}else w!==null?(_=w.baseLanes|p,l.memoizedState=null):_=p,je(go,yn),yn|=_;return ln(a,l,y,p),l.child}function iv(a,l){var p=l.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function xf(a,l,p,_,y){var w=_n(p)?_s:jt.current;return w=io(l,w),uo(l,y),p=df(a,l,p,_,w,y),_=ff(),a===null||an?(Ke&&_&&Vd(l),l.flags|=1,ln(a,l,p,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ti(a,l,y))}function sv(a,l,p,_,y){if(_n(p)){var w=!0;au(l)}else w=!1;if(uo(l,y),l.stateNode===null)Ru(a,l),b_(l,p,_),sf(l,p,_,y),_=!0;else if(a===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var L=A.context,U=p.contextType;typeof U=="object"&&U!==null?U=On(U):U=io(l,U=_n(p)?_s:jt.current);var $=p.getDerivedStateFromProps,ne=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function";ne||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==_||L!==U)&&S_(l,A,_,U),Ai=!1;var G=l.memoizedState;A.state=G,vu(l,_,A,y),L=l.memoizedState,I!==_||G!==L||on.current||Ai?(typeof $=="function"&&(rf(l,p,$,_),L=l.memoizedState),(I=Ai||w_(l,p,I,_,G,L,U))?(ne||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=_,l.memoizedState=L),A.props=_,A.state=L,A.context=U,_=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),_=!1)}else{A=l.stateNode,__(a,l),I=l.memoizedProps,U=l.type===l.elementType?I:er(l.type,I),A.props=U,ne=l.pendingProps,G=A.context,typeof(L=p.contextType)=="object"&&L!==null?L=On(L):L=io(l,L=_n(p)?_s:jt.current);var J=p.getDerivedStateFromProps;($=typeof J=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==ne||G!==L)&&S_(l,A,_,L),Ai=!1,G=l.memoizedState,A.state=G,vu(l,_,A,y);var ce=l.memoizedState;I!==ne||G!==ce||on.current||Ai?(typeof J=="function"&&(rf(l,p,J,_),ce=l.memoizedState),(U=Ai||w_(l,p,U,_,G,ce,L)||!1)?($||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(_,ce,L),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(_,ce,L)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=_,l.memoizedState=ce),A.props=_,A.state=ce,A.context=L,_=U):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),_=!1)}return wf(a,l,p,_,w,y)}function wf(a,l,p,_,y,w){iv(a,l);var A=(128&l.flags)!=0;if(!_&&!A)return y&&i_(l,p,!1),ti(a,l,w);_=l.stateNode,WE.current=l;var I=A&&typeof p.getDerivedStateFromError!="function"?null:_.render();return l.flags|=1,a!==null&&A?(l.child=co(l,a.child,null,w),l.child=co(l,null,I,w)):ln(a,l,I,w),l.memoizedState=_.state,y&&i_(l,p,!0),l.child}function ov(a){var l=a.stateNode;l.pendingContext?n_(0,l.pendingContext,l.pendingContext!==l.context):l.context&&n_(0,l.context,!1),of(a,l.containerInfo)}function av(a,l,p,_,y){return ao(),Kd(y),l.flags|=256,ln(a,l,p,_),l.child}var ka,Ma,Au,Pu,bf={dehydrated:null,treeContext:null,retryLane:0};function Sf(a){return{baseLanes:a,cachePool:null,transitions:null}}function lv(a,l,p){var _,y=l.pendingProps,w=lt.current,A=!1,I=(128&l.flags)!=0;if((_=I)||(_=(a===null||a.memoizedState!==null)&&(2&w)!=0),_?(A=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(w|=1),je(lt,1&w),a===null)return Qd(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?Nd(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=y.children,a=y.fallback,A?(y=l.mode,A=l.child,I={mode:"hidden",children:I},!(1&y)&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Xu(I,y,0,null),a=Es(a,y,p,null),A.return=l,a.return=l,A.sibling=a,l.child=A,l.child.memoizedState=Sf(p),l.memoizedState=bf,a):Tf(l,I));if((w=a.memoizedState)!==null&&(_=w.dehydrated)!==null)return function(U,$,ne,G,J,ce,Te){if(ne)return 256&$.flags?($.flags&=-257,Iu(U,$,Te,G=vf(Error(s(422))))):$.memoizedState!==null?($.child=U.child,$.flags|=128,null):(ce=G.fallback,J=$.mode,G=Xu({mode:"visible",children:G.children},J,0,null),(ce=Es(ce,J,Te,null)).flags|=2,G.return=$,ce.return=$,G.sibling=ce,$.child=G,1&$.mode&&co($,U.child,null,Te),$.child.memoizedState=Sf(Te),$.memoizedState=bf,ce);if(!(1&$.mode))return Iu(U,$,Te,null);if(Nd(J))return G=hE(J).digest,ce=Error(s(419)),G=vf(ce,G,void 0),Iu(U,$,Te,G);if(ne=(Te&U.childLanes)!=0,an||ne){if((G=kt)!==null){switch(Te&-Te){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}(J=J&(G.suspendedLanes|Te)?0:J)!==0&&J!==ce.retryLane&&(ce.retryLane=J,Cr(U,J),Fn(G,U,J,-1))}return $f(),Iu(U,$,Te,G=vf(Error(s(421))))}return t_(J)?($.flags|=128,$.child=U.child,$=eC.bind(null,U),dE(J,$),null):(U=ce.treeContext,Ne&&(Dn=mE(J),vn=$,Ke=!0,Jn=null,Sa=!1,U!==null&&(Mn[Nn++]=Er,Mn[Nn++]=Jr,Mn[Nn++]=vs,Er=U.id,Jr=U.overflow,vs=$)),$=Tf($,G.children),$.flags|=4096,$)}(a,l,I,y,_,w,p);if(A){A=y.fallback,I=l.mode,_=(w=a.child).sibling;var L={mode:"hidden",children:y.children};return!(1&I)&&l.child!==w?((y=l.child).childLanes=0,y.pendingProps=L,l.deletions=null):(y=Di(w,L)).subtreeFlags=14680064&w.subtreeFlags,_!==null?A=Di(_,A):(A=Es(A,I,p,null)).flags|=2,A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,I=(I=a.child.memoizedState)===null?Sf(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=a.childLanes&~p,l.memoizedState=bf,y}return a=(A=a.child).sibling,y=Di(A,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=p),y.return=l,y.sibling=null,a!==null&&((p=l.deletions)===null?(l.deletions=[a],l.flags|=16):p.push(a)),l.child=y,l.memoizedState=null,y}function Tf(a,l){return(l=Xu({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Iu(a,l,p,_){return _!==null&&Kd(_),co(l,a.child,null,p),(a=Tf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function uv(a,l,p){a.lanes|=l;var _=a.alternate;_!==null&&(_.lanes|=l),ef(a.return,l,p)}function Ef(a,l,p,_,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:_,tail:p,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=_,w.tail=p,w.tailMode=y)}function cv(a,l,p){var _=l.pendingProps,y=_.revealOrder,w=_.tail;if(ln(a,l,_.children,p),(2&(_=lt.current))!=0)_=1&_|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&uv(a,p,l);else if(a.tag===19)uv(a,p,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if(je(lt,_),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(p=l.child,y=null;p!==null;)(a=p.alternate)!==null&&wu(a)===null&&(y=p),p=p.sibling;(p=y)===null?(y=l.child,l.child=null):(y=p.sibling,p.sibling=null),Ef(l,!1,y,p,w);break;case"backwards":for(p=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&wu(a)===null){l.child=y;break}a=y.sibling,y.sibling=p,p=y,y=a}Ef(l,!0,p,null,w);break;case"together":Ef(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ru(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ti(a,l,p){if(a!==null&&(l.dependencies=a.dependencies),bs|=l.lanes,(p&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(p=Di(a=l.child,a.pendingProps),l.child=p,p.return=l;a.sibling!==null;)a=a.sibling,(p=p.sibling=Di(a,a.pendingProps)).return=l;p.sibling=null}return l.child}function Ir(a){a.flags|=4}function hv(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ce)ka=function(a,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)ie(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ma=function(){},Au=function(a,l,p,_,y){if((a=a.memoizedProps)!==_){var w=l.stateNode,A=Ar(Bn.current);p=we(w,p,a,_,y,A),(l.updateQueue=p)&&Ir(l)}},Pu=function(a,l,p,_){p!==_&&Ir(l)};else if(Ve){ka=function(a,l,p,_){for(var y=l.child;y!==null;){if(y.tag===5){var w=y.stateNode;p&&_&&(w=J0(w,y.type,y.memoizedProps,y)),ie(a,w)}else if(y.tag===6)w=y.stateNode,p&&_&&(w=e_(w,y.memoizedProps,y)),ie(a,w);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(w=y.child)!==null&&(w.return=y),ka(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var dv=function(a,l,p,_){for(var y=l.child;y!==null;){if(y.tag===5){var w=y.stateNode;p&&_&&(w=J0(w,y.type,y.memoizedProps,y)),Z0(a,w)}else if(y.tag===6)w=y.stateNode,p&&_&&(w=e_(w,y.memoizedProps,y)),Z0(a,w);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(w=y.child)!==null&&(w.return=y),dv(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Ma=function(a,l){var p=l.stateNode;if(!hv(a,l)){a=p.containerInfo;var _=q0(a);dv(_,l,!1,!1),p.pendingChildren=_,Ir(l),aE(a,_)}},Au=function(a,l,p,_,y){var w=a.stateNode,A=a.memoizedProps;if((a=hv(a,l))&&A===_)l.stateNode=w;else{var I=l.stateNode,L=Ar(Bn.current),U=null;A!==_&&(U=we(I,p,A,_,y,L)),a&&U===null?l.stateNode=w:(w=oE(w,U,p,A,_,l,a,I),Se(w,p,_,y,L)&&Ir(l),l.stateNode=w,a?Ir(l):ka(w,l,!1,!1))}},Pu=function(a,l,p,_){p!==_?(a=Ar(ho.current),p=Ar(Bn.current),l.stateNode=Ee(_,a,p,l),Ir(l)):l.stateNode=a.stateNode}}else Ma=function(){},Au=function(){},Pu=function(){};function Na(a,l){if(!Ke)switch(a.tailMode){case"hidden":l=a.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function Jt(a){var l=a.alternate!==null&&a.alternate.child===a.child,p=0,_=0;if(l)for(var y=a.child;y!==null;)p|=y.lanes|y.childLanes,_|=14680064&y.subtreeFlags,_|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)p|=y.lanes|y.childLanes,_|=y.subtreeFlags,_|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=_,a.childLanes=p,l}function VE(a,l,p){var _=l.pendingProps;switch(Xd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(l),null;case 1:case 17:return _n(l.type)&&Ld(),Jt(l),null;case 3:return p=l.stateNode,fo(),Qe(on),Qe(jt),uf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),a!==null&&a.child!==null||(fu(l)?Ir(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Jn!==null&&(Hf(Jn),Jn=null))),Ma(a,l),Jt(l),null;case 5:af(l),p=Ar(ho.current);var y=l.type;if(a!==null&&l.stateNode!=null)Au(a,l,y,_,p),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!_){if(l.stateNode===null)throw Error(s(166));return Jt(l),null}if(a=Ar(Bn.current),fu(l)){if(!Ne)throw Error(s(175));a=gE(l.stateNode,l.type,l.memoizedProps,p,a,l,!Sa),l.updateQueue=a,a!==null&&Ir(l)}else{var w=Z(y,_,p,a,l);ka(w,l,!1,!1),l.stateNode=w,Se(w,y,_,p,a)&&Ir(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jt(l),null;case 6:if(a&&l.stateNode!=null)Pu(a,l,a.memoizedProps,_);else{if(typeof _!="string"&&l.stateNode===null)throw Error(s(166));if(a=Ar(ho.current),p=Ar(Bn.current),fu(l)){if(!Ne)throw Error(s(176));if(a=l.stateNode,p=l.memoizedProps,(_=_E(a,p,l,!Sa))&&(y=vn)!==null)switch(y.tag){case 3:EE(y.stateNode.containerInfo,a,p,(1&y.mode)!=0);break;case 5:CE(y.type,y.memoizedProps,y.stateNode,a,p,(1&y.mode)!=0)}_&&Ir(l)}else l.stateNode=Ee(_,a,p,l)}return Jt(l),null;case 13:if(Qe(lt),_=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ke&&Dn!==null&&1&l.mode&&!(128&l.flags))p_(),ao(),l.flags|=98560,y=!1;else if(y=fu(l),_!==null&&_.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Ne)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));vE(y,l)}else ao(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Jt(l),y=!1}else Jn!==null&&(Hf(Jn),Jn=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=p,l):((p=_!==null)!=(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,1&l.mode&&(a===null||1&lt.current?wt===0&&(wt=3):$f())),l.updateQueue!==null&&(l.flags|=4),Jt(l),null);case 4:return fo(),Ma(a,l),a===null&&kn(l.stateNode.containerInfo),Jt(l),null;case 10:return Jd(l.type._context),Jt(l),null;case 19:if(Qe(lt),(y=l.memoizedState)===null)return Jt(l),null;if(_=(128&l.flags)!=0,(w=y.rendering)===null)if(_)Na(y,!1);else{if(wt!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((w=wu(a))!==null){for(l.flags|=128,Na(y,!1),(a=w.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=p,p=l.child;p!==null;)y=a,(_=p).flags&=14680066,(w=_.alternate)===null?(_.childLanes=0,_.lanes=y,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=w.childLanes,_.lanes=w.lanes,_.child=w.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=w.memoizedProps,_.memoizedState=w.memoizedState,_.updateQueue=w.updateQueue,_.type=w.type,y=w.dependencies,_.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p=p.sibling;return je(lt,1&lt.current|2),l.child}a=a.sibling}y.tail!==null&&Pt()>Lf&&(l.flags|=128,_=!0,Na(y,!1),l.lanes=4194304)}else{if(!_)if((a=wu(w))!==null){if(l.flags|=128,_=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Na(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ke)return Jt(l),null}else 2*Pt()-y.renderingStartTime>Lf&&p!==1073741824&&(l.flags|=128,_=!0,Na(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):((a=y.last)!==null?a.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Pt(),l.sibling=null,a=lt.current,je(lt,_?1&a|2:1&a),l):(Jt(l),null);case 22:case 23:return Gf(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&1&l.mode?1073741824&yn&&(Jt(l),Ce&&6&l.subtreeFlags&&(l.flags|=8192)):Jt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function XE(a,l){switch(Xd(l),l.tag){case 1:return _n(l.type)&&Ld(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return fo(),Qe(on),Qe(jt),uf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return af(l),null;case 13:if(Qe(lt),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));ao()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Qe(lt),null;case 4:return fo(),null;case 10:return Jd(l.type._context),null;case 22:case 23:return Gf(),null;default:return null}}var ku=!1,Vt=!1,YE=typeof WeakSet=="function"?WeakSet:Set,le=null;function mo(a,l){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(_){qe(a,l,_)}else p.current=null}function fv(a,l,p){try{p()}catch(_){qe(a,l,_)}}var pv=!1;function Da(a,l,p){var _=l.updateQueue;if((_=_!==null?_.lastEffect:null)!==null){var y=_=_.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&fv(l,p,w)}y=y.next}while(y!==_)}}function Mu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var p=l=l.next;do{if((p.tag&a)===a){var _=p.create;p.destroy=_()}p=p.next}while(p!==l)}}function Cf(a){var l=a.ref;if(l!==null){var p=a.stateNode;a.tag===5?a=xe(p):a=p,typeof l=="function"?l(a):l.current=a}}function mv(a){var l=a.alternate;l!==null&&(a.alternate=null,mv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&Q0(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function gv(a){return a.tag===5||a.tag===3||a.tag===4}function _v(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||gv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Af(a,l,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,l?ZT(p,a,l):XT(p,a);else if(_!==4&&(a=a.child)!==null)for(Af(a,l,p),a=a.sibling;a!==null;)Af(a,l,p),a=a.sibling}function Pf(a,l,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,l?qT(p,a,l):VT(p,a);else if(_!==4&&(a=a.child)!==null)for(Pf(a,l,p),a=a.sibling;a!==null;)Pf(a,l,p),a=a.sibling}var en=null,Rr=!1;function kr(a,l,p){for(p=p.child;p!==null;)If(a,l,p),p=p.sibling}function If(a,l,p){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(uu,p)}catch{}switch(p.tag){case 5:Vt||mo(p,l);case 6:if(Ce){var _=en,y=Rr;en=null,kr(a,l,p),Rr=y,(en=_)!==null&&(Rr?eE(en,p.stateNode):JT(en,p.stateNode))}else kr(a,l,p);break;case 18:Ce&&en!==null&&(Rr?SE(en,p.stateNode):bE(en,p.stateNode));break;case 4:Ce?(_=en,y=Rr,en=p.stateNode.containerInfo,Rr=!0,kr(a,l,p),en=_,Rr=y):(Ve&&(_=p.stateNode.containerInfo,y=q0(_),Md(_,y)),kr(a,l,p));break;case 0:case 11:case 14:case 15:if(!Vt&&(_=p.updateQueue)!==null&&(_=_.lastEffect)!==null){y=_=_.next;do{var w=y,A=w.destroy;w=w.tag,A!==void 0&&(2&w||4&w)&&fv(p,l,A),y=y.next}while(y!==_)}kr(a,l,p);break;case 1:if(!Vt&&(mo(p,l),typeof(_=p.stateNode).componentWillUnmount=="function"))try{_.props=p.memoizedProps,_.state=p.memoizedState,_.componentWillUnmount()}catch(I){qe(p,l,I)}kr(a,l,p);break;case 21:kr(a,l,p);break;case 22:1&p.mode?(Vt=(_=Vt)||p.memoizedState!==null,kr(a,l,p),Vt=_):kr(a,l,p);break;default:kr(a,l,p)}}function vv(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new YE),l.forEach(function(_){var y=tC.bind(null,a,_);p.has(_)||(p.add(_),_.then(y,y))})}}function tr(a,l){var p=l.deletions;if(p!==null)for(var _=0;_<p.length;_++){var y=p[_];try{var w=a,A=l;if(Ce){var I=A;e:for(;I!==null;){switch(I.tag){case 5:en=I.stateNode,Rr=!1;break e;case 3:case 4:en=I.stateNode.containerInfo,Rr=!0;break e}I=I.return}if(en===null)throw Error(s(160));If(w,A,y),en=null,Rr=!1}else If(w,A,y);var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(U){qe(y,l,U)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)yv(l,a),l=l.sibling}function yv(a,l){var p=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(tr(l,a),Mr(a),4&_){try{Da(3,a,a.return),Mu(3,a)}catch(G){qe(a,a.return,G)}try{Da(5,a,a.return)}catch(G){qe(a,a.return,G)}}break;case 1:tr(l,a),Mr(a),512&_&&p!==null&&mo(p,p.return);break;case 5:if(tr(l,a),Mr(a),512&_&&p!==null&&mo(p,p.return),Ce){if(32&a.flags){var y=a.stateNode;try{K0(y)}catch(G){qe(a,a.return,G)}}if(4&_&&(y=a.stateNode)!=null){var w=a.memoizedProps;if(p=p!==null?p.memoizedProps:w,_=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{KT(y,l,_,p,w,a)}catch(G){qe(a,a.return,G)}}}break;case 6:if(tr(l,a),Mr(a),4&_&&Ce){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,w=a.memoizedProps,p=p!==null?p.memoizedProps:w;try{YT(y,p,w)}catch(G){qe(a,a.return,G)}}break;case 3:if(tr(l,a),Mr(a),4&_){if(Ce&&Ne&&p!==null&&p.memoizedState.isDehydrated)try{xE(l.containerInfo)}catch(G){qe(a,a.return,G)}if(Ve){y=l.containerInfo,w=l.pendingChildren;try{Md(y,w)}catch(G){qe(a,a.return,G)}}}break;case 4:if(tr(l,a),Mr(a),4&_&&Ve){y=(w=a.stateNode).containerInfo,w=w.pendingChildren;try{Md(y,w)}catch(G){qe(a,a.return,G)}}break;case 13:tr(l,a),Mr(a),8192&(y=a.child).flags&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Bf=Pt())),4&_&&vv(a);break;case 22:var A=p!==null&&p.memoizedState!==null;if(1&a.mode?(Vt=(p=Vt)||A,tr(l,a),Vt=p):tr(l,a),Mr(a),8192&_){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!A&&(1&a.mode)!=0)for(le=a,_=a.child;_!==null;){for(l=le=_;le!==null;){var I=(A=le).child;switch(A.tag){case 0:case 11:case 14:case 15:Da(4,A,A.return);break;case 1:mo(A,A.return);var L=A.stateNode;if(typeof L.componentWillUnmount=="function"){var U=A,$=A.return;try{var ne=U;L.props=ne.memoizedProps,L.state=ne.memoizedState,L.componentWillUnmount()}catch(G){qe(U,$,G)}}break;case 5:mo(A,A.return);break;case 22:if(A.memoizedState!==null){bv(l);continue}}I!==null?(I.return=A,le=I):bv(l)}_=_.sibling}if(Ce){e:if(_=null,Ce)for(l=a;;){if(l.tag===5){if(_===null){_=l;try{y=l.stateNode,p?tE(y):rE(l.stateNode,l.memoizedProps)}catch(G){qe(a,a.return,G)}}}else if(l.tag===6){if(_===null)try{w=l.stateNode,p?nE(w):iE(w,l.memoizedProps)}catch(G){qe(a,a.return,G)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;_===l&&(_=null),l=l.return}_===l&&(_=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:tr(l,a),Mr(a),4&_&&vv(a);break;case 21:break;default:tr(l,a),Mr(a)}}function Mr(a){var l=a.flags;if(2&l){try{if(Ce){e:{for(var p=a.return;p!==null;){if(gv(p)){var _=p;break e}p=p.return}throw Error(s(160))}switch(_.tag){case 5:var y=_.stateNode;32&_.flags&&(K0(y),_.flags&=-33),Pf(a,_v(a),y);break;case 3:case 4:var w=_.stateNode.containerInfo;Af(a,_v(a),w);break;default:throw Error(s(161))}}}catch(A){qe(a,a.return,A)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function QE(a,l,p){le=a,xv(a)}function xv(a,l,p){for(var _=(1&a.mode)!=0;le!==null;){var y=le,w=y.child;if(y.tag===22&&_){var A=y.memoizedState!==null||ku;if(!A){var I=y.alternate,L=I!==null&&I.memoizedState!==null||Vt;I=ku;var U=Vt;if(ku=A,(Vt=L)&&!U)for(le=y;le!==null;)L=(A=le).child,A.tag===22&&A.memoizedState!==null?Sv(y):L!==null?(L.return=A,le=L):Sv(y);for(;w!==null;)le=w,xv(w),w=w.sibling;le=y,ku=I,Vt=U}wv(a)}else 8772&y.subtreeFlags&&w!==null?(w.return=y,le=w):wv(a)}}function wv(a){for(;le!==null;){var l=le;if(8772&l.flags){var p=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Vt||Mu(5,l);break;case 1:var _=l.stateNode;if(4&l.flags&&!Vt)if(p===null)_.componentDidMount();else{var y=l.elementType===l.type?p.memoizedProps:er(l.type,p.memoizedProps);_.componentDidUpdate(y,p.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&y_(l,w,_);break;case 3:var A=l.updateQueue;if(A!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=xe(l.child.stateNode);break;case 1:p=l.child.stateNode}y_(l,A,p)}break;case 5:var I=l.stateNode;p===null&&4&l.flags&&QT(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ne&&l.memoizedState===null){var L=l.alternate;if(L!==null){var U=L.memoizedState;if(U!==null){var $=U.dehydrated;$!==null&&wE($)}}}break;default:throw Error(s(163))}Vt||512&l.flags&&Cf(l)}catch(ne){qe(l,l.return,ne)}}if(l===a){le=null;break}if((p=l.sibling)!==null){p.return=l.return,le=p;break}le=l.return}}function bv(a){for(;le!==null;){var l=le;if(l===a){le=null;break}var p=l.sibling;if(p!==null){p.return=l.return,le=p;break}le=l.return}}function Sv(a){for(;le!==null;){var l=le;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Mu(4,l)}catch(L){qe(l,p,L)}break;case 1:var _=l.stateNode;if(typeof _.componentDidMount=="function"){var y=l.return;try{_.componentDidMount()}catch(L){qe(l,y,L)}}var w=l.return;try{Cf(l)}catch(L){qe(l,w,L)}break;case 5:var A=l.return;try{Cf(l)}catch(L){qe(l,A,L)}}}catch(L){qe(l,l.return,L)}if(l===a){le=null;break}var I=l.sibling;if(I!==null){I.return=l.return,le=I;break}le=l.return}}var Nu=0,Du=1,Ou=2,Bu=3,Lu=4;if(typeof Symbol=="function"&&Symbol.for){var Oa=Symbol.for;Nu=Oa("selector.component"),Du=Oa("selector.has_pseudo_class"),Ou=Oa("selector.role"),Bu=Oa("selector.test_id"),Lu=Oa("selector.text")}function Rf(a){var l=Rn(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=zT(a))===null)throw Error(s(362));return a.stateNode.current}function kf(a,l){switch(l.$$typeof){case Nu:if(a.type===l.value)return!0;break;case Du:e:{l=l.value,a=[a,0];for(var p=0;p<a.length;){var _=a[p++],y=a[p++],w=l[y];if(_.tag!==5||!ya(_)){for(;w!=null&&kf(_,w);)w=l[++y];if(y===l.length){l=!0;break e}for(_=_.child;_!==null;)a.push(_,y),_=_.sibling}}l=!1}return l;case Ou:if(a.tag===5&&$T(a.stateNode,l.value))return!0;break;case Lu:if((a.tag===5||a.tag===6)&&(a=GT(a))!==null&&0<=a.indexOf(l.value))return!0;break;case Bu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Mf(a){switch(a.$$typeof){case Nu:return"<"+(D(a.value)||"Unknown")+">";case Du:return":has("+(Mf(a)||"")+")";case Ou:return'[role="'+a.value+'"]';case Lu:return'"'+a.value+'"';case Bu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function Tv(a,l){var p=[];a=[a,0];for(var _=0;_<a.length;){var y=a[_++],w=a[_++],A=l[w];if(y.tag!==5||!ya(y)){for(;A!=null&&kf(y,A);)A=l[++w];if(w===l.length)p.push(y);else for(y=y.child;y!==null;)a.push(y,w),y=y.sibling}}return p}function Nf(a,l){if(!va)throw Error(s(363));a=Tv(a=Rf(a),l),l=[],a=Array.from(a);for(var p=0;p<a.length;){var _=a[p++];if(_.tag===5)ya(_)||l.push(_.stateNode);else for(_=_.child;_!==null;)a.push(_),_=_.sibling}return l}var KE=Math.ceil,Fu=o.ReactCurrentDispatcher,Df=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,Ie=0,kt=null,yt=null,Ot=0,yn=0,go=Ei(0),wt=0,Ba=null,bs=0,Uu=0,Of=0,La=null,xn=null,Bf=0,Lf=1/0,Ii=null;function _o(){Lf=Pt()+500}var Ev,zu=!1,Ff=null,Ri=null,Hu=!1,ki=null,Gu=0,Fa=0,Uf=null,$u=-1,ju=0;function Xt(){return 6&Ie?Pt():$u!==-1?$u:$u=Pt()}function Mi(a){return 1&a.mode?2&Ie&&Ot!==0?Ot&-Ot:OE.transition!==null?(ju===0&&(ju=s_()),ju):(a=De)!==0?a:gs():1}function Fn(a,l,p,_){if(50<Fa)throw Fa=0,Uf=null,Error(s(185));ba(a,p,_),2&Ie&&a===kt||(a===kt&&(!(2&Ie)&&(Uu|=p),wt===4&&Ni(a,Ot)),un(a,_),p===1&&Ie===0&&!(1&l.mode)&&(_o(),cu&&Tr()))}function un(a,l){var p=a.callbackNode;(function(y,w){for(var A=y.suspendedLanes,I=y.pingedLanes,L=y.expirationTimes,U=y.pendingLanes;0<U;){var $=31-qn(U),ne=1<<$,G=L[$];G===-1?ne&A&&!(ne&I)||(L[$]=RE(ne,w)):G<=w&&(y.expiredLanes|=ne),U&=~ne}})(a,l);var _=lu(a,a===kt?Ot:0);if(_===0)p!==null&&a_(p),a.callbackNode=null,a.callbackPriority=0;else if(l=_&-_,a.callbackPriority!==l){if(p!=null&&a_(p),l===1)a.tag===0?function(y){cu=!0,u_(y)}(Av.bind(null,a)):u_(Av.bind(null,a)),FT?UT(function(){!(6&Ie)&&Tr()}):$d(jd,Tr),p=null;else{switch(o_(_)){case 1:p=jd;break;case 4:p=NE;break;case 16:default:p=l_;break;case 536870912:p=DE}p=Ov(p,Cv.bind(null,a))}a.callbackPriority=l,a.callbackNode=p}}function Cv(a,l){if($u=-1,ju=0,(6&Ie)!=0)throw Error(s(327));var p=a.callbackNode;if(Ts()&&a.callbackNode!==p)return null;var _=lu(a,a===kt?Ot:0);if(_===0)return null;if(30&_||_&a.expiredLanes||l)l=Wu(a,_);else{l=_;var y=Ie;Ie|=2;var w=Rv();for(kt===a&&Ot===l||(Ii=null,_o(),Ss(a,l));;)try{ZE();break}catch(I){Iv(a,I)}Zd(),Fu.current=w,Ie=y,yt!==null?l=0:(kt=null,Ot=0,l=wt)}if(l!==0){if(l===2&&(y=zd(a))!==0&&(_=y,l=zf(a,y)),l===1)throw p=Ba,Ss(a,0),Ni(a,_),un(a,Pt()),p;if(l===6)Ni(a,_);else{if(y=a.current.alternate,(30&_)==0&&!function(I){for(var L=I;;){if(16384&L.flags){var U=L.updateQueue;if(U!==null&&(U=U.stores)!==null)for(var $=0;$<U.length;$++){var ne=U[$],G=ne.getSnapshot;ne=ne.value;try{if(!Zn(G(),ne))return!1}catch{return!1}}}if(U=L.child,16384&L.subtreeFlags&&U!==null)U.return=L,L=U;else{if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return!0;L=L.return}L.sibling.return=L.return,L=L.sibling}}return!0}(y)&&((l=Wu(a,_))===2&&(w=zd(a))!==0&&(_=w,l=zf(a,w)),l===1))throw p=Ba,Ss(a,0),Ni(a,_),un(a,Pt()),p;switch(a.finishedWork=y,a.finishedLanes=_,l){case 0:case 1:throw Error(s(345));case 2:case 5:vo(a,xn,Ii);break;case 3:if(Ni(a,_),(130023424&_)===_&&10<(l=Bf+500-Pt())){if(lu(a,0)!==0)break;if(((y=a.suspendedLanes)&_)!==_){Xt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Le(vo.bind(null,a,xn,Ii),l);break}vo(a,xn,Ii);break;case 4:if(Ni(a,_),(4194240&_)===_)break;for(l=a.eventTimes,y=-1;0<_;){var A=31-qn(_);w=1<<A,(A=l[A])>y&&(y=A),_&=~w}if(_=y,10<(_=(120>(_=Pt()-_)?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*KE(_/1960))-_)){a.timeoutHandle=Le(vo.bind(null,a,xn,Ii),_);break}vo(a,xn,Ii);break;default:throw Error(s(329))}}}return un(a,Pt()),a.callbackNode===p?Cv.bind(null,a):null}function zf(a,l){var p=La;return a.current.memoizedState.isDehydrated&&(Ss(a,l).flags|=256),(a=Wu(a,l))!==2&&(l=xn,xn=p,l!==null&&Hf(l)),a}function Hf(a){xn===null?xn=a:xn.push.apply(xn,a)}function Ni(a,l){for(l&=~Of,l&=~Uu,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var p=31-qn(l),_=1<<p;a[p]=-1,l&=~_}}function Av(a){if(6&Ie)throw Error(s(327));Ts();var l=lu(a,0);if(!(1&l))return un(a,Pt()),null;var p=Wu(a,l);if(a.tag!==0&&p===2){var _=zd(a);_!==0&&(l=_,p=zf(a,_))}if(p===1)throw p=Ba,Ss(a,0),Ni(a,l),un(a,Pt()),p;if(p===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,vo(a,xn,Ii),un(a,Pt()),null}function Pv(a){ki!==null&&ki.tag===0&&!(6&Ie)&&Ts();var l=Ie;Ie|=1;var p=ft.transition,_=De;try{if(ft.transition=null,De=1,a)return a()}finally{De=_,ft.transition=p,!(6&(Ie=l))&&Tr()}}function Gf(){yn=go.current,Qe(go)}function Ss(a,l){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==At&&(a.timeoutHandle=At,Ct(p)),yt!==null)for(p=yt.return;p!==null;){var _=p;switch(Xd(_),_.tag){case 1:(_=_.type.childContextTypes)!=null&&Ld();break;case 3:fo(),Qe(on),Qe(jt),uf();break;case 5:af(_);break;case 4:fo();break;case 13:case 19:Qe(lt);break;case 10:Jd(_.type._context);break;case 22:case 23:Gf()}p=p.return}if(kt=a,yt=a=Di(a.current,null),Ot=yn=l,wt=0,Ba=null,Of=Uu=bs=0,xn=La=null,xs!==null){for(l=0;l<xs.length;l++)if((_=(p=xs[l]).interleaved)!==null){p.interleaved=null;var y=_.next,w=p.pending;if(w!==null){var A=w.next;w.next=y,_.next=A}p.pending=_}xs=null}return a}function Iv(a,l){for(;;){var p=yt;try{if(Zd(),bu.current=Cu,Su){for(var _=tt.memoizedState;_!==null;){var y=_.queue;y!==null&&(y.pending=null),_=_.next}Su=!1}if(ws=0,Rt=It=tt=null,Aa=!1,Pa=0,Df.current=null,p===null||p.return===null){wt=1,Ba=l,yt=null;break}e:{var w=a,A=p.return,I=p,L=l;if(l=Ot,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var U=L,$=I,ne=$.tag;if(!(1&$.mode)&&(ne===0||ne===11||ne===15)){var G=$.alternate;G?($.updateQueue=G.updateQueue,$.memoizedState=G.memoizedState,$.lanes=G.lanes):($.updateQueue=null,$.memoizedState=null)}var J=Z_(A);if(J!==null){J.flags&=-257,J_(J,A,I,0,l),1&J.mode&&q_(w,U,l),L=U;var ce=(l=J).updateQueue;if(ce===null){var Te=new Set;Te.add(L),l.updateQueue=Te}else ce.add(L);break e}if(!(1&l)){q_(w,U,l),$f();break e}L=Error(s(426))}else if(Ke&&1&I.mode){var j=Z_(A);if(j!==null){!(65536&j.flags)&&(j.flags|=256),J_(j,A,I,0,l),Kd(po(L,I));break e}}w=L=po(L,I),wt!==4&&(wt=2),La===null?La=[w]:La.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l,v_(w,Q_(0,L,l));break e;case 1:I=L;var k=w.type,F=w.stateNode;if(!(128&w.flags)&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ri===null||!Ri.has(F)))){w.flags|=65536,l&=-l,w.lanes|=l,v_(w,K_(w,I,l));break e}}w=w.return}while(w!==null)}Mv(p)}catch(K){l=K,yt===p&&p!==null&&(yt=p=p.return);continue}break}}function Rv(){var a=Fu.current;return Fu.current=Cu,a===null?Cu:a}function $f(){wt!==0&&wt!==3&&wt!==2||(wt=4),kt===null||!(268435455&bs)&&!(268435455&Uu)||Ni(kt,Ot)}function Wu(a,l){var p=Ie;Ie|=2;var _=Rv();for(kt===a&&Ot===l||(Ii=null,Ss(a,l));;)try{qE();break}catch(y){Iv(a,y)}if(Zd(),Ie=p,Fu.current=_,yt!==null)throw Error(s(261));return kt=null,Ot=0,wt}function qE(){for(;yt!==null;)kv(yt)}function ZE(){for(;yt!==null&&!kE();)kv(yt)}function kv(a){var l=Ev(a.alternate,a,yn);a.memoizedProps=a.pendingProps,l===null?Mv(a):yt=l,Df.current=null}function Mv(a){var l=a;do{var p=l.alternate;if(a=l.return,(32768&l.flags)==0){if((p=VE(p,l,yn))!==null)return void(yt=p)}else{if((p=XE(p,l))!==null)return p.flags&=32767,void(yt=p);if(a===null)return wt=6,void(yt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(yt=l);yt=l=a}while(l!==null);wt===0&&(wt=5)}function vo(a,l,p){var _=De,y=ft.transition;try{ft.transition=null,De=1,function(w,A,I,L){do Ts();while(ki!==null);if(6&Ie)throw Error(s(327));I=w.finishedWork;var U=w.finishedLanes;if(I===null)return null;if(w.finishedWork=null,w.finishedLanes=0,I===w.current)throw Error(s(177));w.callbackNode=null,w.callbackPriority=0;var $=I.lanes|I.childLanes;if(function(J,ce){var Te=J.pendingLanes&~ce;J.pendingLanes=ce,J.suspendedLanes=0,J.pingedLanes=0,J.expiredLanes&=ce,J.mutableReadLanes&=ce,J.entangledLanes&=ce,ce=J.entanglements;var j=J.eventTimes;for(J=J.expirationTimes;0<Te;){var k=31-qn(Te),F=1<<k;ce[k]=0,j[k]=-1,J[k]=-1,Te&=~F}}(w,$),w===kt&&(yt=kt=null,Ot=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Hu||(Hu=!0,Ov(l_,function(){return Ts(),null})),$=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||$){$=ft.transition,ft.transition=null;var ne=De;De=1;var G=Ie;Ie|=4,Df.current=null,function(J,ce){for(W(J.containerInfo),le=ce;le!==null;)if(ce=(J=le).child,(1028&J.subtreeFlags)!=0&&ce!==null)ce.return=J,le=ce;else for(;le!==null;){J=le;try{var Te=J.alternate;if(1024&J.flags)switch(J.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Te!==null){var j=Te.memoizedProps,k=Te.memoizedState,F=J.stateNode,K=F.getSnapshotBeforeUpdate(J.elementType===J.type?j:er(J.type,j),k);F.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Ce&&sE(J.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(pe){qe(J,J.return,pe)}if((ce=J.sibling)!==null){ce.return=J.return,le=ce;break}le=J.return}Te=pv,pv=!1}(w,I),yv(I,w),M(w.containerInfo),w.current=I,QE(I),ME(),Ie=G,De=ne,ft.transition=$}else w.current=I;if(Hu&&(Hu=!1,ki=w,Gu=U),$=w.pendingLanes,$===0&&(Ri=null),function(J){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(uu,J,void 0,(128&J.current.flags)==128)}catch{}}(I.stateNode),un(w,Pt()),A!==null)for(L=w.onRecoverableError,I=0;I<A.length;I++)U=A[I],L(U.value,{componentStack:U.stack,digest:U.digest});if(zu)throw zu=!1,w=Ff,Ff=null,w;1&Gu&&w.tag!==0&&Ts(),$=w.pendingLanes,1&$?w===Uf?Fa++:(Fa=0,Uf=w):Fa=0,Tr()}(a,l,p,_)}finally{ft.transition=y,De=_}return null}function Ts(){if(ki!==null){var a=o_(Gu),l=ft.transition,p=De;try{if(ft.transition=null,De=16>a?16:a,ki===null)var _=!1;else{if(a=ki,ki=null,Gu=0,(6&Ie)!=0)throw Error(s(331));var y=Ie;for(Ie|=4,le=a.current;le!==null;){var w=le,A=w.child;if(16&le.flags){var I=w.deletions;if(I!==null){for(var L=0;L<I.length;L++){var U=I[L];for(le=U;le!==null;){var $=le;switch($.tag){case 0:case 11:case 15:Da(8,$,w)}var ne=$.child;if(ne!==null)ne.return=$,le=ne;else for(;le!==null;){var G=($=le).sibling,J=$.return;if(mv($),$===U){le=null;break}if(G!==null){G.return=J,le=G;break}le=J}}}var ce=w.alternate;if(ce!==null){var Te=ce.child;if(Te!==null){ce.child=null;do{var j=Te.sibling;Te.sibling=null,Te=j}while(Te!==null)}}le=w}}if(2064&w.subtreeFlags&&A!==null)A.return=w,le=A;else e:for(;le!==null;){if(2048&(w=le).flags)switch(w.tag){case 0:case 11:case 15:Da(9,w,w.return)}var k=w.sibling;if(k!==null){k.return=w.return,le=k;break e}le=w.return}}var F=a.current;for(le=F;le!==null;){var K=(A=le).child;if(2064&A.subtreeFlags&&K!==null)K.return=A,le=K;else e:for(A=F;le!==null;){if(2048&(I=le).flags)try{switch(I.tag){case 0:case 11:case 15:Mu(9,I)}}catch(Ue){qe(I,I.return,Ue)}if(I===A){le=null;break e}var pe=I.sibling;if(pe!==null){pe.return=I.return,le=pe;break e}le=I.return}}if(Ie=y,Tr(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(uu,a)}catch{}_=!0}return _}finally{De=p,ft.transition=l}}return!1}function Nv(a,l,p){a=Pi(a,l=Q_(0,l=po(p,l),1),1),l=Xt(),a!==null&&(ba(a,1,l),un(a,l))}function qe(a,l,p){if(a.tag===3)Nv(a,a,p);else for(;l!==null;){if(l.tag===3){Nv(l,a,p);break}if(l.tag===1){var _=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_))){l=Pi(l,a=K_(l,a=po(p,a),1),1),a=Xt(),l!==null&&(ba(l,1,a),un(l,a));break}}l=l.return}}function JE(a,l,p){var _=a.pingCache;_!==null&&_.delete(l),l=Xt(),a.pingedLanes|=a.suspendedLanes&p,kt===a&&(Ot&p)===p&&(wt===4||wt===3&&(130023424&Ot)===Ot&&500>Pt()-Bf?Ss(a,0):Of|=p),un(a,l)}function Dv(a,l){l===0&&(1&a.mode?(l=Ud,!(130023424&(Ud<<=1))&&(Ud=4194304)):l=1);var p=Xt();(a=Cr(a,l))!==null&&(ba(a,l,p),un(a,p))}function eC(a){var l=a.memoizedState,p=0;l!==null&&(p=l.retryLane),Dv(a,p)}function tC(a,l){var p=0;switch(a.tag){case 13:var _=a.stateNode,y=a.memoizedState;y!==null&&(p=y.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(s(314))}_!==null&&_.delete(l),Dv(a,p)}function Ov(a,l){return $d(a,l)}function nC(a,l,p,_){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(a,l,p,_){return new nC(a,l,p,_)}function jf(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Di(a,l){var p=a.alternate;return p===null?((p=Un(a.tag,l,a.key,a.mode)).elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=l,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&a.flags,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,l=a.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Vu(a,l,p,_,y,w){var A=2;if(_=a,typeof a=="function")jf(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case d:return Es(p.children,y,w,l);case m:A=8,y|=8;break;case c:return(a=Un(12,p,l,2|y)).elementType=c,a.lanes=w,a;case b:return(a=Un(13,p,l,y)).elementType=b,a.lanes=w,a;case E:return(a=Un(19,p,l,y)).elementType=E,a.lanes=w,a;case T:return Xu(p,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case f:A=10;break e;case g:A=9;break e;case v:A=11;break e;case x:A=14;break e;case S:A=16,_=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Un(A,p,l,y)).elementType=a,l.type=_,l.lanes=w,l}function Es(a,l,p,_){return(a=Un(7,a,_,l)).lanes=p,a}function Xu(a,l,p,_){return(a=Un(22,a,_,l)).elementType=T,a.lanes=p,a.stateNode={isHidden:!1},a}function Wf(a,l,p){return(a=Un(6,a,null,l)).lanes=p,a}function Vf(a,l,p){return(l=Un(4,a.children!==null?a.children:[],a.key,l)).lanes=p,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function rC(a,l,p,_,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=At,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=_,this.onRecoverableError=y,Ne&&(this.mutableSourceEagerHydrationData=null)}function Bv(a,l,p,_,y,w,A,I,L){return a=new rC(a,l,p,I,L),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Un(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:_,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(w),a}function Lv(a){if(!a)return Ci;e:{if(O(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var p=a.type;if(_n(p))return r_(a,p,l)}return l}function Fv(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=Q(l))===null?null:a.stateNode}function Uv(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<l?p:l}}function Yu(a,l){Uv(a,l),(a=a.alternate)&&Uv(a,l)}function iC(a){return(a=Q(a))===null?null:a.stateNode}function sC(){return null}return Ev=function(a,l,p){if(a!==null)if(a.memoizedProps!==l.pendingProps||on.current)an=!0;else{if(!(a.lanes&p)&&!(128&l.flags))return an=!1,function(ne,G,J){switch(G.tag){case 3:ov(G),ao();break;case 5:A_(G);break;case 1:_n(G.type)&&au(G);break;case 4:of(G,G.stateNode.containerInfo);break;case 10:m_(0,G.type._context,G.memoizedProps.value);break;case 13:var ce=G.memoizedState;if(ce!==null)return ce.dehydrated!==null?(je(lt,1&lt.current),G.flags|=128,null):J&G.child.childLanes?lv(ne,G,J):(je(lt,1&lt.current),(ne=ti(ne,G,J))!==null?ne.sibling:null);je(lt,1&lt.current);break;case 19:if(ce=(J&G.childLanes)!=0,(128&ne.flags)!=0){if(ce)return cv(ne,G,J);G.flags|=128}var Te=G.memoizedState;if(Te!==null&&(Te.rendering=null,Te.tail=null,Te.lastEffect=null),je(lt,lt.current),ce)break;return null;case 22:case 23:return G.lanes=0,rv(ne,G,J)}return ti(ne,G,J)}(a,l,p);an=(131072&a.flags)!=0}else an=!1,Ke&&1048576&l.flags&&c_(l,du,l.index);switch(l.lanes=0,l.tag){case 2:var _=l.type;Ru(a,l),a=l.pendingProps;var y=io(l,jt.current);uo(l,p),y=df(null,l,_,a,y,p);var w=ff();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,_n(_)?(w=!0,au(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,nf(l),y.updater=yu,l.stateNode=y,y._reactInternals=l,sf(l,_,a,p),l=wf(null,l,_,!0,w,p)):(l.tag=0,Ke&&w&&Vd(l),ln(null,l,y,p),l=l.child),l;case 16:_=l.elementType;e:{switch(Ru(a,l),a=l.pendingProps,_=(y=_._init)(_._payload),l.type=_,y=l.tag=function(ne){if(typeof ne=="function")return jf(ne)?1:0;if(ne!=null){if((ne=ne.$$typeof)===v)return 11;if(ne===x)return 14}return 2}(_),a=er(_,a),y){case 0:l=xf(null,l,_,a,p);break e;case 1:l=sv(null,l,_,a,p);break e;case 11:l=ev(null,l,_,a,p);break e;case 14:l=tv(null,l,_,er(_.type,a),p);break e}throw Error(s(306,_,""))}return l;case 0:return _=l.type,y=l.pendingProps,xf(a,l,_,y=l.elementType===_?y:er(_,y),p);case 1:return _=l.type,y=l.pendingProps,sv(a,l,_,y=l.elementType===_?y:er(_,y),p);case 3:e:{if(ov(l),a===null)throw Error(s(387));_=l.pendingProps,y=(w=l.memoizedState).element,__(a,l),vu(l,_,null,p);var A=l.memoizedState;if(_=A.element,Ne&&w.isDehydrated){if(w={element:_,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=w,l.memoizedState=w,256&l.flags){l=av(a,l,_,p,y=po(Error(s(423)),l));break e}if(_!==y){l=av(a,l,_,p,y=po(Error(s(424)),l));break e}for(Ne&&(Dn=pE(l.stateNode.containerInfo),vn=l,Ke=!0,Jn=null,Sa=!1),p=C_(l,null,_,p),l.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(ao(),_===y){l=ti(a,l,p);break e}ln(a,l,_,p)}l=l.child}return l;case 5:return A_(l),a===null&&Qd(l),_=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,A=y.children,Fe(_,y)?A=null:w!==null&&Fe(_,w)&&(l.flags|=32),iv(a,l),ln(a,l,A,p),l.child;case 6:return a===null&&Qd(l),null;case 13:return lv(a,l,p);case 4:return of(l,l.stateNode.containerInfo),_=l.pendingProps,a===null?l.child=co(l,null,_,p):ln(a,l,_,p),l.child;case 11:return _=l.type,y=l.pendingProps,ev(a,l,_,y=l.elementType===_?y:er(_,y),p);case 7:return ln(a,l,l.pendingProps,p),l.child;case 8:case 12:return ln(a,l,l.pendingProps.children,p),l.child;case 10:e:{if(_=l.type._context,y=l.pendingProps,w=l.memoizedProps,m_(0,_,A=y.value),w!==null)if(Zn(w.value,A)){if(w.children===y.children&&!on.current){l=ti(a,l,p);break e}}else for((w=l.child)!==null&&(w.return=l);w!==null;){var I=w.dependencies;if(I!==null){A=w.child;for(var L=I.firstContext;L!==null;){if(L.context===_){if(w.tag===1){(L=ei(-1,p&-p)).tag=2;var U=w.updateQueue;if(U!==null){var $=(U=U.shared).pending;$===null?L.next=L:(L.next=$.next,$.next=L),U.pending=L}}w.lanes|=p,(L=w.alternate)!==null&&(L.lanes|=p),ef(w.return,p,l),I.lanes|=p;break}L=L.next}}else if(w.tag===10)A=w.type===l.type?null:w.child;else if(w.tag===18){if((A=w.return)===null)throw Error(s(341));A.lanes|=p,(I=A.alternate)!==null&&(I.lanes|=p),ef(A,p,l),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===l){A=null;break}if((w=A.sibling)!==null){w.return=A.return,A=w;break}A=A.return}w=A}ln(a,l,y.children,p),l=l.child}return l;case 9:return y=l.type,_=l.pendingProps.children,uo(l,p),_=_(y=On(y)),l.flags|=1,ln(a,l,_,p),l.child;case 14:return y=er(_=l.type,l.pendingProps),tv(a,l,_,y=er(_.type,y),p);case 15:return nv(a,l,l.type,l.pendingProps,p);case 17:return _=l.type,y=l.pendingProps,y=l.elementType===_?y:er(_,y),Ru(a,l),l.tag=1,_n(_)?(a=!0,au(l)):a=!1,uo(l,p),b_(l,_,y),sf(l,_,y,p),wf(null,l,_,!0,a,p);case 19:return cv(a,l,p);case 22:return rv(a,l,p)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=Cr(a,134217728);l!==null&&Fn(l,a,134217728,Xt()),Yu(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=Cr(a,1);l!==null&&Fn(l,a,1,Xt()),Yu(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Mi(a),p=Cr(a,l);p!==null&&Fn(p,a,l,Xt()),Yu(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var p=wa(l.pendingLanes);p!==0&&(Gd(l,1|p),un(l,Pt()),!(6&Ie)&&(_o(),Tr()))}break;case 13:Pv(function(){var _=Cr(a,1);if(_!==null){var y=Xt();Fn(_,a,1,y)}}),Yu(a,1)}},e.batchedUpdates=function(a,l){var p=Ie;Ie|=1;try{return a(l)}finally{(Ie=p)===0&&(_o(),cu&&Tr())}},e.createComponentSelector=function(a){return{$$typeof:Nu,value:a}},e.createContainer=function(a,l,p,_,y,w,A){return Bv(a,l,!1,null,0,_,0,w,A)},e.createHasPseudoClassSelector=function(a){return{$$typeof:Du,value:a}},e.createHydrationContainer=function(a,l,p,_,y,w,A,I,L){return(a=Bv(p,_,!0,a,0,w,0,I,L)).context=Lv(null),p=a.current,(w=ei(_=Xt(),y=Mi(p))).callback=l??null,Pi(p,w,y),a.current.lanes=y,ba(a,y,_),un(a,_),a},e.createPortal=function(a,l,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:_==null?null:""+_,children:a,containerInfo:l,implementation:p}},e.createRoleSelector=function(a){return{$$typeof:Ou,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Bu,value:a}},e.createTextSelector=function(a){return{$$typeof:Lu,value:a}},e.deferredUpdates=function(a){var l=De,p=ft.transition;try{return ft.transition=null,De=16,a()}finally{De=l,ft.transition=p}},e.discreteUpdates=function(a,l,p,_,y){var w=De,A=ft.transition;try{return ft.transition=null,De=1,a(l,p,_,y)}finally{De=w,ft.transition=A,Ie===0&&_o()}},e.findAllNodes=Nf,e.findBoundingRects=function(a,l){if(!va)throw Error(s(363));l=Nf(a,l),a=[];for(var p=0;p<l.length;p++)a.push(HT(l[p]));for(l=a.length-1;0<l;l--)for(var _=(p=a[l]).x,y=_+p.width,w=p.y,A=w+p.height,I=l-1;0<=I;I--)if(l!==I){var L=a[I],U=L.x,$=U+L.width,ne=L.y,G=ne+L.height;if(_>=U&&w>=ne&&y<=$&&A<=G){a.splice(l,1);break}if(!(_!==U||p.width!==L.width||G<w||ne>A)){ne>w&&(L.height+=ne-w,L.y=w),G<A&&(L.height=A-ne),a.splice(l,1);break}if(!(w!==ne||p.height!==L.height||$<_||U>y)){U>_&&(L.width+=U-_,L.x=_),$<y&&(L.width=y-U),a.splice(l,1);break}}return a},e.findHostInstance=Fv,e.findHostInstanceWithNoPortals=function(a){return(a=(a=X(a))!==null?V(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return Fv(a)},e.flushControlled=function(a){var l=Ie;Ie|=1;var p=ft.transition,_=De;try{ft.transition=null,De=1,a()}finally{De=_,ft.transition=p,(Ie=l)===0&&(_o(),Tr())}},e.flushPassiveEffects=Ts,e.flushSync=Pv,e.focusWithin=function(a,l){if(!va)throw Error(s(363));for(l=Tv(a=Rf(a),l),l=Array.from(l),a=0;a<l.length;){var p=l[a++];if(!ya(p)){if(p.tag===5&&jT(p.stateNode))return!0;for(p=p.child;p!==null;)l.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return De},e.getFindAllNodesFailureDescription=function(a,l){if(!va)throw Error(s(363));var p=0,_=[];a=[Rf(a),0];for(var y=0;y<a.length;){var w=a[y++],A=a[y++],I=l[A];if((w.tag!==5||!ya(w))&&(kf(w,I)&&(_.push(Mf(I)),++A>p&&(p=A)),A<l.length))for(w=w.child;w!==null;)a.push(w,A),w=w.sibling}if(p<l.length){for(a=[];p<l.length;p++)a.push(Mf(l[p]));return`findAllNodes was able to match part of the selector:
  `+_.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?xe(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:iC,findFiberByHostInstance:a.findFiberByHostInstance||sC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{uu=l.inject(a),Sr=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,p,_){if(!va)throw Error(s(363));a=Nf(a,l);var y=WT(a,p,_).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var p=l._getVersion;p=p(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,p]:a.mutableSourceEagerHydrationData.push(l,p)},e.runWithPriority=function(a,l){var p=De;try{return De=a,l()}finally{De=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,p,_){var y=l.current,w=Xt(),A=Mi(y);return p=Lv(p),l.context===null?l.context=p:l.pendingContext=p,(l=ei(w,A)).payload={element:a},(_=_===void 0?null:_)!==null&&(l.callback=_),(a=Pi(y,l,A))!==null&&(Fn(a,y,A,w),_u(a,y,A)),A},e}),Ky}({get exports(){return Rm},set exports(t){Rm=t}}).exports=iR();var sR=k2(Rm),qw={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Mm={},pc={get exports(){return Mm},set exports(t){Mm=t}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?pc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(pc.exports=function(){return(t()-i)/1e6},e=process.hrtime,r=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=r-s):Date.now?(pc.exports=function(){return Date.now()-n},n=Date.now()):(pc.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(R2);var Jy,No={},Ps={};({get exports(){return No},set exports(t){No=t}}).exports=(Jy||(Jy=1,Ps.ConcurrentRoot=1,Ps.ContinuousEventPriority=4,Ps.DefaultEventPriority=16,Ps.DiscreteEventPriority=1,Ps.IdleEventPriority=536870912,Ps.LegacyRoot=0),Ps);var oR={};function bp(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function Zw(t,e){var n,r,i;(n=t.willUnmount)===null||n===void 0||n.call(t,t,e),((r=t.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&gi(t.children).forEach(function(s){Zw(s,t)})}function e1(t,e){var n;Zw(e,t),t.removeChild(e);var r=(n=e.config)!==null&&n!==void 0?n:{},i=r.destroy,s=i===void 0||i,o=r.destroyChildren,u=o===void 0||o,h=r.destroyTexture,d=h!==void 0&&h,m=r.destroyBaseTexture,c=m!==void 0&&m;s&&e.destroy({children:u,texture:d,baseTexture:c})}function t1(t,e,n){dt(e!==n,"pixi-react: PixiFiber cannot insert node before itself");var r=t.children.indexOf(e)!==-1,i=t.getChildIndex(n);r?t.setChildIndex(e,i):t.addChildAt(e,i)}var n1=null,mr=sR({getRootHostContext:function(){return oR},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return No.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return No.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return No.ContinuousEventPriority;default:return No.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=eR[t];if(typeof s=="function"&&(e=s(i,r)),!e){var o=Kw[t];o&&((e=o.create(r)).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&((typeof((n=e)===null||n===void 0?void 0:n.applyProps)=="function"?e.applyProps:Yr)(e,{},r),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var n=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=n},finalizeInitialChildren:function(t,e,n){return!1},prepareUpdate:function(t,e,n,r,i,s){return n1=function(o,u,h,d){var m=null;for(var c in h)!d.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==null&&(c===Pm||(m||(m=[]),m.push(c,null)));for(var f in d){var g=d[f],v=h!==null?h[f]:void 0;!d.hasOwnProperty(f)||g===v||g===null&&v===null||f===Pm||(m||(m=[]),m.push(f,g))}return m}(0,0,n,r)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var n=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(n&&r&&i)},createTextInstance:function(t,e,n){dt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Mm,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=bp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=bp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=bp.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=e1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=e1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:t1,insertInContainerBefore:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=t1.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,n,r,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Yr),(u(t,r,i)||n1)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,n,r,i){},commitTextUpdate:function(t,e,n){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),aR=qw.dependencies["react-dom"].replace(/[^0-9.]/g,""),lR=qw.name;mr.injectIntoDevTools({bundleType:0,version:aR,rendererPackageName:lR,findHostInstanceByFiber:mr.findHostInstance});var Qi=new Map;function Jw(t){if(dt(qt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Qi.has(t)){var e=Qi.get(t).pixiFiberContainer;mr.updateContainer(null,e,void 0,function(){Qi.delete(t)})}}function eb(t){dt(qt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Qi.get(t);if(dt(!e,"Pixi React: createRoot should only be called once"),!e){var n=mr.createContainer(t);e={pixiFiberContainer:n,reactRoot:{render:function(r){return mr.updateContainer(r,n,void 0),mr.getPublicRootInstance(n)},unmount:function(){Jw(t),Qi.delete(t)}}},Qi.set(t,e)}return e.reactRoot}function uR(t,e,n){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),n!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Qi.has(e)?r=Qi.get(e).reactRoot:r=eb(e),r.render(t)}function cR(t){Jw(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function hR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xw(r.key),r)}}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xh(t,e){return xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xh(t,e)}function fR(t,e){if(e&&(En(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}var md=di.createContext(null),tb=md.Provider,nb=md.Consumer,pR=function(t){var e=di.forwardRef(function(n,r){return di.createElement(nb,null,function(i){return di.createElement(t,Dl({},n,{ref:r,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function mR(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fR(this,n)}}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i1=function(){},rb={width:$e.number,height:$e.number,onMount:$e.func,onUnmount:$e.func,raf:$e.bool,renderOnComponentChange:$e.bool,children:$e.node,options:$e.shape({autoStart:$e.bool,width:$e.number,height:$e.number,useContextAlpha:$e.bool,backgroundAlpha:$e.number,autoDensity:$e.bool,antialias:$e.bool,preserveDrawingBuffer:$e.bool,resolution:$e.number,forceCanvas:$e.bool,backgroundColor:$e.number,clearBeforeRender:$e.bool,powerPreference:$e.string,sharedTicker:$e.bool,sharedLoader:$e.bool,resizeTo:function(t,e){var n=t[e];n&&dt(n===window||n instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(En(n),", expect `window` or an `HTMLElement`."))},view:function(t,e,n){var r=t[e];r&&dt(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(En(r),", supplied to ").concat(n,", expected `<canvas> Element`"))}})},gR={width:800,height:600,onMount:i1,onUnmount:i1,raf:!0,renderOnComponentChange:!0},Nm=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&xh(s,o)})(i,di.Component);var e,n,r=mR(i);function i(){var s;hR(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return mt(ii(s=r.call.apply(r,[this].concat(u))),"_canvas",null),mt(ii(s),"_mediaQuery",null),mt(ii(s),"_ticker",null),mt(ii(s),"_needsUpdate",!0),mt(ii(s),"app",null),mt(ii(s),"updateSize",function(){var d=s.props,m=d.width,c=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(m,c)}),mt(ii(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),mt(ii(s),"renderStage",function(){var d=s.props,m=d.renderOnComponentChange;!d.raf&&m&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(n=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,h=s.height,d=s.options,m=s.raf,c=s.renderOnComponentChange;this.app=new eu(mc(mc({width:u,height:h,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[m?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=mr.createContainer(this.app.stage),mr.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),c&&!m&&(this._ticker=new _t,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var h,d=this.props,m=d.width,c=d.height,f=d.raf,g=d.renderOnComponentChange,v=d.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===c&&s.width===m&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),mr.updateContainer(this.getChildren(),this.mountNode,this),s.width===m&&s.height===c&&s.raf===f&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return di.createElement(tb,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),mr.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,h=this.props.options;return h&&h.view?(dt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):di.createElement("canvas",Dl({},(s=this.props,o=[].concat(gi(Object.keys(rb)),gi(Object.keys(Im))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,m){return mc(mc({},d),{},mt({},m,s[m]))},{})),{ref:function(d){return u._canvas=d}}))}}])&&dR(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Nm.propTypes=rb,Nm.defaultProps=gR;var _R=Nm;function ib(){var t=Y.useContext(md);return dt(t instanceof eu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function vR(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=ib();dt(typeof t=="function","`useTick` needs a callback function."),dt(n instanceof eu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var r=Y.useRef(null);Y.useEffect(function(){r.current=t},[t]),Y.useEffect(function(){if(e){var i=function(s){return r.current.apply(n.ticker,[s,n.ticker])};return n.ticker.add(i),function(){n.ticker&&n.ticker.remove(i)}}},[e])}function yR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dm(t,e,n){return Dm=yR()?Reflect.construct.bind():function(r,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(r,o));return s&&xh(u,s.prototype),u},Dm.apply(null,arguments)}var xR=["children","apply"];function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wR=function(t,e){dt(En(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var n=Object.keys(e),r=function(i){var s=i.children,o=i.apply,u=ds(i,xR),h=Y.useRef(Y.useMemo(function(){return n.map(function(c){var f,g=(u==null||(f=u[c])===null||f===void 0?void 0:f.construct)||[];return Dm(e[c],gi(g))})},[n])),d=Y.useMemo(function(){return n.reduce(function(c,f,g){return gc(gc({},c),{},mt({},f,h.current[g]))},{})},[n]),m=Y.useMemo(function(){return Object.keys(u).filter(Qw(Yw(n))).reduce(function(c,f){return gc(gc({},c),{},mt({},f,u[f]))},{})},[u,n]);return n.forEach(function(c,f){return Object.assign(h.current[f],u[c])}),o&&function(){for(var c=arguments.length,f=new Array(c),g=0;g<c;g++)f[g]=arguments[g];return f.every(function(v){return typeof v=="function"})}(o)&&o.call(t,d),di.createElement(t,Dl({},m,{filters:h.current}),s)};return r.displayName="FilterWrapper",r.propTypes={children:$e.node,apply:$e.func},r},bR=gn.BitmapText,SR=gn.Container,TR=gn.Graphics,ER=gn.NineSlicePlane,CR=gn.ParticleContainer,AR=gn.Sprite,PR=gn.AnimatedSprite,IR=gn.Text,RR=gn.TilingSprite,kR=gn.SimpleMesh,MR=gn.SimpleRope;const NR=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:PR,AppConsumer:nb,AppContext:md,AppProvider:tb,BitmapText:bR,Container:SR,Graphics:TR,NineSlicePlane:ER,ParticleContainer:CR,PixiComponent:tR,PixiFiber:mr,SimpleMesh:kR,SimpleRope:MR,Sprite:AR,Stage:_R,TYPES:gn,Text:IR,TilingSprite:RR,applyDefaultProps:Yr,createRoot:eb,eventHandlers:yh,render:uR,unmountComponentAtNode:cR,useApp:ib,useTick:vR,withFilters:wR,withPixiApp:pR},Symbol.toStringTag,{value:"Module"})),DR=cC(NR);(function(t){t.exports=DR})(YC);function bh(t,e){let n=[];for(let r=0;r<t;r++)n.push(e(r));return n}function Xc(t){return new URL("./",self.location).href+`/../../common/assets/${t}`}function Gi(t,e){return`./assets/${t}`}function sb(...t){let e={};for(let n of t)for(let r of n)e[r.id]=r;return Object.values(e)}const ob="Loading_Bg",OR="message",us="lang_components";function BR(t){return[{id:OR,src:Gi("text/cs.json")},{id:ob,src:Gi("mobile/loadingcs.jpg")}]}function LR(t,...e){return sb(BR(),...e)}const ab="game_Bg",FR="lang",lb="winnumber",ub="symbol",zn="spin_panel",Yc="sounds",cb="icons",Qg="components";function UR(t){return[{id:lb,src:Xc("font/winnumber.xml")},{id:FR,src:Xc("font/cs.xml")},{id:ab,src:Gi("mobile/bg-game.jpg")},{id:ub,src:Gi("mobile/symbols/symbol.json")},{id:Yc,src:Gi("sound/sounds.json")},{id:cb,src:Xc("src/icons/type_1.json")},{id:Qg,src:Gi("mobile/components.json")},{id:us,src:Gi("mobile/lang/cs.json")}]}function zR(t,...e){return sb(UR(),...e)}function hb(t){return`symbol_active_${t}`}function HR(t,e,n){return bh(t,r=>({id:hb(r),src:Gi(`mobile/symbols/${r}.${e}`)}))}const Be=Y.createContext({}),GR="action_sign_in",$R="action_get_balance",jR="action_balance_change",db="action_sound_open",WR="action_volume_changed",Kg="action_menu_open",qg="action_paytable_open",Zg="action_betpanel_open",Jg="action_auto_panel_open",fb="action_spin",pb="action_spin_stopping",e0="action_spin_stop",mb="action_spin_show_win_amount",gb="action_spin_show_win_line",_b="action_set_bet_amount",vb="action_set_auto_spin_detail",VR="action_do_auto_spin",yb="action_stop_auto_spin",XR="action_scene_push",YR="action_scene_pop",xb="action_scene_replace",QR="action_scene_to_root";function KR(t,e){let n=t.linewin[e[1]],r=[],i=t.reels.length,s,o;if(n.director=="r2l")for(let u=i-n.count;u<i;u++)s=u,o=n.lines[s],r.push({column:s,row:o,symbol:t.reels[s][o]});else for(let u=0;u<n.count;u++)s=u,o=n.lines[s],r.push({column:s,row:o,symbol:t.reels[s][o]});return{soundId:`${e[0]}_${e[1]}`,symbol:n.symbol,lineId:n.id,winAmount:n.multiplier,configs:r}}const wb=Y.createContext({});function qR({children:t,...e}){let{linewinloop:n=5}=e;const{state:r,dispatch:i}=Y.useContext(Be),{status:s,responseModel:o,autoSpinCount:u}=r.spin,[h,d]=Y.useState([0,0]);u!=0&&(n=1);function c(){let f=h[1]+1,g=h[0];f==o.linewin.length&&(f=0,g++),f==0&&g==n?(d([0,0]),i({type:e0})):d([g,f])}return R(wb.Provider,{value:{next:c},children:s=="showWinLine"&&o.linewin.length>0?t(KR(o,h)):t({lineId:-1,configs:[],symbol:null,winAmount:0,soundId:"0_0"})})}const bb=new Je;et.prototype._cacheAsBitmap=!1;et.prototype._cacheData=null;et.prototype._cacheAsBitmapResolution=null;et.prototype._cacheAsBitmapMultisample=null;class ZR{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(et.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new ZR),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});et.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};et.prototype._initCachedDisplayObject=function(e){var f,g;if((f=this._cacheData)!=null&&f.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(oe.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,h=as.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),d=`cacheAsBitmap_${Ys()}`;this._cacheData.textureCacheId=d,be.addToCache(h.baseTexture,d),se.addToCache(h,d);const m=this.transform.localTransform.copyTo(bb).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:m,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const c=new Kr(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};et.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};et.prototype._initCachedDisplayObjectCanvas=function(e){var m;if((m=this._cacheData)!=null&&m.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(oe.RESOLUTION);const o=as.create({width:n.width,height:n.height}),u=`cacheAsBitmap_${Ys()}`;this._cacheData.textureCacheId=u,be.addToCache(o.baseTexture,u),se.addToCache(o,u);const h=bb;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=n.x,h.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new Kr(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(n.x/n.width),d.anchor.y=-(n.y/n.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};et.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};et.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};et.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,be.removeFromCache(this._cacheData.textureCacheId),se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};et.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};et.prototype.name=null;qt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};et.prototype.getGlobalPosition=function(e=new ke,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var JR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class ek extends Ht{constructor(e=1){super(dI,JR,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const tk={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},nk=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rk(t){const e=tk[t],n=e.length;let r=nk,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let h=s.replace("%index%",u.toString());o=u,u>=n&&(o=t-u-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const ik=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function sk(t,e){const n=Math.ceil(t/2);let r=ik,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Om extends Ht{constructor(e,n=8,r=4,i=Ht.defaultResolution,s=5){const o=sk(s,e),u=rk(s);super(o,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let u=n,h=s;this.state.blend=!1,e.applyFilter(this,u,h,Lr.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(u,Lr.BLIT),this.uniforms.uSampler=h;const m=h;h=u,u=m,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class ok extends Ht{constructor(e=8,n=4,r=Ht.defaultResolution,i=5){super(),this.blurXFilter=new Om(!0,e,n,r,i),this.blurYFilter=new Om(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=e.getFilterTexture();this.blurXFilter.apply(e,n,u,Lr.CLEAR),this.blurYFilter.apply(e,u,r,i),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var ak=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Bm extends Ht{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Aw,ak,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const[r,i,s]=Ge.shared.setValue(e).toArray(),o=[r,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=r+(1-r)*o,d=o*(1-r)-u*i,m=o*(1-r)+u*i,c=o*(1-r)+u*i,f=r+o*(1-r),g=o*(1-r)-u*i,v=o*(1-r)-u*i,b=o*(1-r)+u*i,E=r+o*(1-r),x=[h,d,m,0,0,c,f,g,0,0,v,b,E,0,0,0,0,0,1,0];this._loadMatrix(x,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=Ge.shared,[u,h,d]=o.setValue(r).toArray(),[m,c,f]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,u,h,d,e,0,m,c,f,n,0,u-m,h-c,d-f,0,0];this._loadMatrix(g,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Bm.prototype.grayscale=Bm.prototype.greyscale;var lk=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,uk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class ck extends Ht{constructor(e,n){const r=new Je;e.renderable=!1,super(uk,lk,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new ke(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var hk=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,dk=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class fk extends Ht{constructor(){super(dk,hk)}}var pk=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class mk extends Ht{constructor(e=.5,n=Math.random()){super(Aw,pk,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const o1={AlphaFilter:ek,BlurFilter:ok,BlurFilterPass:Om,ColorMatrixFilter:Bm,DisplacementFilter:ck,FXAAFilter:fk,NoiseFilter:mk};Object.entries(o1).forEach(([t,e])=>{Object.defineProperty(o1,t,{get(){return Re("7.1.0",`filters.${t} has moved to ${t}`),e}})});class gk{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(_t.system.add(this.tickerUpdate,this,ls.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(_t.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Bs=new gk;class tu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=tu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ke,this.page=new ke,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Sh extends tu{constructor(){super(...arguments),this.client=new ke,this.movement=new ke,this.offset=new ke,this.global=new ke,this.screen=new ke}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,n,r){return e.worldTransform.applyInverse(r||this.global,n)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,u,h,d,m,c,f,g,v,b){throw new Error("Method not implemented.")}}class or extends Sh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class oa extends Sh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}oa.DOM_DELTA_PIXEL=0;oa.DOM_DELTA_LINE=1;oa.DOM_DELTA_PAGE=2;const _k=2048,vk=new ke,Sp=new ke;class yk{constructor(e){this.dispatch=new Vs,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){Bs.pauseUpdate=!0;const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.eventMode,vk.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children,s=r.eventMode==="none",o=r.eventMode==="passive"&&!r.interactiveChildren,u=r.interactiveChildren,h=!s&&u&&!o;if(i&&i.length>0&&h)for(let d=0;d<i.length;d++)this.all(e,n,i[d]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<_k&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Bs.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children;for(let u=o.length-1;u>=0;u--){const h=o[u],d=this.hitTestRecursive(h,this._isInteractive(n)?n:h.eventMode,r,i,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;return(d.length>0||e.isInteractive())&&d.push(e),d}}}return this._isInteractive(n)&&i(e,r)?e.isInteractive()?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}hitPruneFn(e,n){var r;if(e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask||e.hitArea&&(e.worldTransform.applyInverse(n,Sp),!e.hitArea.contains(Sp.x,Sp.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var u,h;if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==n.target){const d=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,d,s);if(this.dispatchEvent(m,"pointerout"),r&&this.dispatchEvent(m,"mouseout"),!n.composedPath().includes(s)){const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&!n.composedPath().includes(c.target);)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(m)}if(s!==n.target){const d=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(n,d);this.dispatchEvent(m,"pointerover"),r&&this.dispatchEvent(m,"mouseover");let c=s==null?void 0:s.parent;for(;c&&c!==this.rootTarget.parent&&c!==n.target;)c=c.parent;if(!c||c===this.rootTarget.parent){const g=this.clonePointerEvent(n,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),r&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(m)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(h=n.target)==null?void 0:h.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const u=r.button===2;this.dispatchEvent(r,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let u=s;for(;u&&!r.composedPath().includes(u);){if(r.currentTarget=u,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const h=r.button===2;this.notifyTarget(r,h?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(r,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:n});const h=i.clicksByButton[e.button];h.target===u.target&&n-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=n,u.detail=h.clickCount,u.pointerType==="mouse"?this.dispatchEvent(u,"click"):u.pointerType==="touch"&&this.dispatchEvent(u,"tap"),this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof or)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof oa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(or);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(oa);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(or);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof or&&n instanceof or&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Sh&&n instanceof Sh&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e)}}const xk=1,wk={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Sb=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new yk(null),Bs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new or(null),this.rootWheelEvent=new oa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n,Sb._defaultEventMode=t.eventMode??"auto"}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.domElement.style,n);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}onPointerDown(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,r=e.length;n<r;n++){const i=e[n],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;Bs.pointerMoved();const e=this.normalizeToPointerData(t);for(let n=0,r=e.length;n<r;n++){const i=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const n=e!==this.domElement?"outside":"",r=this.normalizeToPointerData(t);for(let i=0,s=r.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,r[i]);o.type+=n,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch")return;const e=this.normalizeToPointerData(t);for(let n=0,r=e.length;n<r;n++){const i=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Bs.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Bs.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Bs.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,n){let r;this.domElement.parentElement?r=this.domElement.getBoundingClientRect():r={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-r.left)*(this.domElement.width/r.width)*i,t.y=(n-r.top)*(this.domElement.height/r.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,r=t.changedTouches.length;n<r;n++){const i=t.changedTouches[n];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=xk),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,e.push(n)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=wk[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Th=Sb;Th.extension={name:"events",type:[ae.RendererSystem,ae.CanvasRendererSystem]};fe.add(Th);function a1(t){return t==="dynamic"||t==="static"}const bk={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??a1(Th.defaultEventMode)},set interactive(t){Re("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Th.defaultEventMode},set eventMode(t){this._internalInteractive=a1(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof tu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};et.mixin(bk);const Sk={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};et.mixin(Sk);const Tk=9,_c=100,Ek=0,Ck=0,l1=2,u1=1,Ak=-1e3,Pk=-1e3,Ik=2;class Tb{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(zr.tablet||zr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${_c}px`,n.style.height=`${_c}px`,n.style.position="absolute",n.style.top=`${Ek}px`,n.style.left=`${Ck}px`,n.style.zIndex=l1.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${u1}px`,e.style.height=`${u1}px`,e.style.position="absolute",e.style.top=`${Ak}px`,e.style.left=`${Pk}px`,e.style.zIndex=Ik.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(zr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:h}=this.renderer,d=i/o*h,m=s/u*h;let c=this.div;c.style.left=`${n}px`,c.style.top=`${r}px`,c.style.width=`${o}px`,c.style.height=`${u}px`;for(let f=0;f<this.children.length;f++){const g=this.children[f];if(g.renderId!==this.renderId)g._accessibleActive=!1,Qo(this.children,f,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,f--;else{c=g._accessibleDiv;let v=g.hitArea;const b=g.worldTransform;g.hitArea?(c.style.left=`${(b.tx+v.x*b.a)*d}px`,c.style.top=`${(b.ty+v.y*b.d)*m}px`,c.style.width=`${v.width*b.a*d}px`,c.style.height=`${v.height*b.d*m}px`):(v=g.getBounds(),this.capHitArea(v),c.style.left=`${v.x*d}px`,c.style.top=`${v.y*m}px`,c.style.width=`${v.width*d}px`,c.style.height=`${v.height*m}px`,c.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(c.title=g.accessibleTitle),c.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&c.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==c.title||g.tabIndex!==c.tabIndex)&&(c.title=g.accessibleTitle,c.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${_c}px`,n.style.height=`${_c}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=l1.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new tu(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Tk&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Tb.extension={name:"accessibility",type:[ae.RendererPlugin,ae.CanvasRendererPlugin]};fe.add(Tb);var bn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(bn||{});const Eh={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let si,Ao;function c1(){Ao={s3tc:si.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:si.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:si.getExtension("WEBGL_compressed_texture_etc"),etc1:si.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:si.getExtension("WEBGL_compressed_texture_pvrtc")||si.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:si.getExtension("WEBGL_compressed_texture_atc"),astc:si.getExtension("WEBGL_compressed_texture_astc")}}const Rk={extension:{type:ae.DetectionParser,priority:2},test:async()=>{const e=oe.ADAPTER.createCanvas().getContext("webgl");return e?(si=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ao||c1();const e=[];for(const n in Ao)Ao[n]&&e.push(n);return[...e,...t]},remove:async t=>(Ao||c1(),t.filter(e=>!(e in Ao)))};fe.add(Rk);class kk extends Jl{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new dm(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new dm(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Gs extends kk{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Gs._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Gs._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,u=this.levels;o<u;o++){const{levelID:h,levelWidth:d,levelHeight:m,levelBuffer:c}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,h,this.format,d,m,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Gs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,u){const h=new Array(r);let d=e.byteOffset,m=o,c=u,f=m+i-1&~(i-1),g=c+s-1&~(s-1),v=f*g*Eh[n];for(let b=0;b<r;b++)h[b]={levelID:b,levelWidth:r>1?m:f,levelHeight:r>1?c:g,levelBuffer:new Uint8Array(e.buffer,d,v)},d+=v,m=m>>1||1,c=c>>1||1,f=m+i-1&~(i-1),g=c+s-1&~(s-1),v=f*g*Eh[n];return h}}const Tp=4,vc=124,Mk=32,h1=20,Nk=542327876,yc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Dk={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},xc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Ok=1,Bk=2,Lk=4,Fk=64,Uk=512,zk=131072,Hk=827611204,Gk=861165636,$k=894720068,jk=808540228,Wk=4,Vk={[Hk]:bn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Gk]:bn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[$k]:bn.COMPRESSED_RGBA_S3TC_DXT5_EXT},Xk={[70]:bn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:bn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:bn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:bn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:bn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:bn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:bn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:bn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:bn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Yk(t){const e=new Uint32Array(t);if(e[0]!==Nk)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,vc/Uint32Array.BYTES_PER_ELEMENT),i=r[yc.HEIGHT],s=r[yc.WIDTH],o=r[yc.MIPMAP_COUNT],u=new Uint32Array(t,yc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Mk/Uint32Array.BYTES_PER_ELEMENT),h=u[Ok];if(h&Lk){const d=u[Dk.FOURCC];if(d!==jk){const T=Vk[d],C=Tp+vc,P=new Uint8Array(t,C);return[new Gs(P,{format:T,width:s,height:i,levels:o})]}const m=Tp+vc,c=new Uint32Array(e.buffer,m,h1/Uint32Array.BYTES_PER_ELEMENT),f=c[xc.DXGI_FORMAT],g=c[xc.RESOURCE_DIMENSION],v=c[xc.MISC_FLAG],b=c[xc.ARRAY_SIZE],E=Xk[f];if(E===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(v===Wk)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,S=Tp+vc+h1;if(b===1)x.push(new Uint8Array(t,S));else{const T=Eh[E];let C=0,P=s,D=i;for(let O=0;O<o;O++){const H=Math.max(1,P+3&-4),X=Math.max(1,D+3&-4),Q=H*X*T;C+=Q,P=P>>>1,D=D>>>1}let N=S;for(let O=0;O<b;O++)x.push(new Uint8Array(t,N,C)),N+=C}return x.map(T=>new Gs(T,{format:E,width:s,height:i,levels:o}))}throw h&Fk?new Error("DDSParser does not support uncompressed texture data."):h&Uk?new Error("DDSParser does not supported YUV uncompressed texture data."):h&zk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&Bk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const d1=[171,75,84,88,32,49,49,187,13,10,26,10],Qk=67305985,rr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Lm=64,f1={[me.UNSIGNED_BYTE]:1,[me.UNSIGNED_SHORT]:2,[me.INT]:4,[me.UNSIGNED_INT]:4,[me.FLOAT]:4,[me.HALF_FLOAT]:8},Kk={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},qk={[me.UNSIGNED_SHORT_4_4_4_4]:2,[me.UNSIGNED_SHORT_5_5_5_1]:2,[me.UNSIGNED_SHORT_5_6_5]:2};function Zk(t,e,n=!1){const r=new DataView(e);if(!Jk(t,r))return null;const i=r.getUint32(rr.ENDIANNESS,!0)===Qk,s=r.getUint32(rr.GL_TYPE,i),o=r.getUint32(rr.GL_FORMAT,i),u=r.getUint32(rr.GL_INTERNAL_FORMAT,i),h=r.getUint32(rr.PIXEL_WIDTH,i),d=r.getUint32(rr.PIXEL_HEIGHT,i)||1,m=r.getUint32(rr.PIXEL_DEPTH,i)||1,c=r.getUint32(rr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=r.getUint32(rr.NUMBER_OF_FACES,i),g=r.getUint32(rr.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(rr.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||m!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const b=4,E=4,x=h+3&-4,S=d+3&-4,T=new Array(c);let C=h*d;s===0&&(C=x*S);let P;if(s!==0?f1[s]?P=f1[s]*Kk[o]:P=qk[s]:P=Eh[u],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const D=n?tM(r,v,i):null;let O=C*P,H=h,X=d,Q=x,re=S,V=Lm+v;for(let z=0;z<g;z++){const ye=r.getUint32(V,i);let xe=V+4;for(let te=0;te<c;te++){let B=T[te];B||(B=T[te]=new Array(g)),B[z]={levelID:z,levelWidth:g>1||s!==0?H:Q,levelHeight:g>1||s!==0?X:re,levelBuffer:new Uint8Array(e,xe,O)},xe+=O}V+=ye+4,V=V%4!==0?V+4-V%4:V,H=H>>1||1,X=X>>1||1,Q=H+b-1&~(b-1),re=X+E-1&~(E-1),O=Q*re*P}return s!==0?{uncompressed:T.map(z=>{let ye=z[0].levelBuffer,xe=!1;return s===me.FLOAT?ye=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===me.UNSIGNED_INT?(xe=!0,ye=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===me.INT&&(xe=!0,ye=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new Jl(ye,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:xe?eM(o):o}}),kvData:D}:{compressed:T.map(z=>new Gs(null,{format:u,width:h,height:d,levels:g,levelBuffers:z})),kvData:D}}function Jk(t,e){for(let n=0;n<d1.length;n++)if(e.getUint8(n)!==d1[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function eM(t){switch(t){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return t}}function tM(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(Lm+i,n),o=Lm+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),m=new DataView(t.buffer,o+h+1,s-h-1);r.set(d,m),i+=4+s+u}return r}const nM={extension:{type:ae.LoadParser,priority:qr.High},test(t){return dd(t,".dds")},async load(t,e,n){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),o=Yk(i).map(u=>{const h=new be(u,{mipmap:Vr.OFF,alphaMode:br.NO_PREMULTIPLIED_ALPHA,resolution:is(t),...e.data});return fd(h,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(nM);const rM={extension:{type:ae.LoadParser,priority:qr.High},test(t){return dd(t,".ktx")},async load(t,e,n){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:u}=Zk(t,i),h=s??o,d={mipmap:Vr.OFF,alphaMode:br.NO_PREMULTIPLIED_ALPHA,resolution:is(t),...e.data},m=h.map(c=>{h===o&&Object.assign(d,{type:c.type,format:c.format});const f=new be(c,d);return f.ktxKeyValueData=u,fd(f,n,t)});return m.length===1?m[0]:m},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(rM);const iM={extension:ae.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(iM);const sM=new Ae,oM=4,Fm=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new my(r,i,1);const u=o.context.getImageData(0,0,r,i);if(Fm.arrayPostDivide(n,u.data),o.context.putImageData(u,0,0),s){const h=new my(o.width,o.height,1);h.context.scale(1,-1),h.context.drawImage(o.canvas,0,-i),o.destroy(),o=h}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return Fm.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof as)s=t;else{const c=n.context.webGLVersion>=2?n.multisample:ht.NONE;if(s=this.renderer.generateTexture(t,{multisample:c}),c!==ht.NONE){const f=as.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(f.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=f}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=sM,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const u=Math.round(e.width*r),h=Math.round(e.height*r),d=new Uint8Array(oM*u*h),m=n.gl;return m.readPixels(Math.round(e.x*r),Math.round(e.y*r),u,h,m.RGBA,m.UNSIGNED_BYTE,d),o&&s.destroy(!0),{pixels:d,width:u,height:h,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Eb=Fm;Eb.extension={name:"extract",type:ae.RendererSystem};fe.add(Eb);class aM{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function lM(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof se){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function uM(t,e){if(t.baseTexture instanceof be){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function cM(t,e){if(t._texture&&t._texture instanceof se){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function hM(t,e){return e instanceof cd?(e.updateText(!0),!0):!1}function dM(t,e){if(e instanceof Xn){const n=e.toFontString();return Ft.measureFont(n),!0}return!1}function fM(t,e){if(t instanceof cd){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function pM(t,e){return t instanceof Xn?(e.includes(t)||e.push(t),!0):!1}const Cb=class{constructor(t){this.limiter=new aM(Cb.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(fM),this.registerFindHook(pM),this.registerFindHook(lM),this.registerFindHook(uM),this.registerFindHook(cM),this.registerUploadHook(hM),this.registerUploadHook(dM)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,_t.system.addOnce(this.tick,this,ls.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)_t.system.addOnce(this.tick,this,ls.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof qt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&_t.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Ch=Cb;Ch.uploadsPerFrame=4;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return Ch.uploadsPerFrame},set(t){Re("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ch.uploadsPerFrame=t}}});function Ab(t,e){return e instanceof be?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function mM(t,e){if(!(e instanceof Hs))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&Ab(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function gM(t,e){return t instanceof Hs?(e.push(t),!0):!1}class Pb extends Ch{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(gM),this.registerUploadHook(Ab),this.registerUploadHook(mM)}}Pb.extension={name:"prepare",type:ae.RendererSystem};fe.add(Pb);const sl=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof se?t:null,this.baseTexture=t instanceof be?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=is(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=sl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=sl.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,u=null;const h=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,d=new Ae(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);i.rotated?o=new Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(u=new Ae(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new se(this.baseTexture,o,d,u,i.rotated?2:0,i.anchor,i.borders),se.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*sl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*sl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Um=sl;Um.BATCH_SIZE=1e3;const _M=["jpg","png","jpeg","avif","webp"];function Ib(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Et.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const u=Ib([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,u)})}return r}const vM={extension:ae.Asset,cache:{test:t=>t instanceof Um,getCacheableAssets:(t,e)=>Ib(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&_M.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ae.LoadParser,priority:qr.Normal},async testParse(t,e){return Et.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var d,m;let r=Et.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Cm(i,e.src);const o=(await n.load([i]))[i],u=new Um(o.baseTexture,t,e.src);await u.parse();const h=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(h)){const c=[];for(const g of h){if(typeof g!="string")continue;let v=r+g;(m=e.data)!=null&&m.ignoreMultiPack||(v=Cm(v,e.src),c.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(c);u.linkedSheets=f,f.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==g))})}return u},unload(t){t.destroy(!0)}}};fe.add(vM);const Po=class extends Xn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Po(Object.keys(Po.defaultOptions).reduce((e,n)=>({...e,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Po.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:n}=Po;if(n[t]){const r=n[t];return this._fonts.push(r),r.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return oe.ADAPTER.fetch(t).then(r=>r.blob()).then(async r=>new Promise((i,s)=>{const o=URL.createObjectURL(r),u=new FileReader;u.onload=()=>i([o,u.result]),u.onerror=s,u.readAsDataURL(r)})).then(async([r,i])=>{const s=Object.assign({family:Et.basename(t,Et.extname(t)),weight:"normal",style:"normal",src:r,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);n[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(n=>!this._overrides.includes(n));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(n=>this._overrides.includes(n));e.length>0&&(this._overrides=this._overrides.filter(n=>!e.includes(n)),this.styleID++)}toCSS(t){return["display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize*t}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing*t}px`,`text-align: ${this.align}`,`padding: ${this.padding*t}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight*t}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth*t}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness*t}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness*t}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS(t)]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=QA(t)),typeof t=="number"?YA(t):t}dropShadowToCSS(t){let e=this.normalizeColor(this.dropShadowColor);const n=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&n<1&&(e+=(n*255|0).toString(16).padStart(2,"0"));const s=`${r*t}px ${i*t}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Po.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let fl=Po;fl.availableFonts={};fl.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Io=class extends Kr{constructor(t="",e={}){super(se.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const n=new Image,r=se.from(n,{scaleMode:oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});r.orig=new Ae,r.trim=new Ae,this.texture=r;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject"),h=document.createElementNS(s,"div"),d=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",o.appendChild(u),this.maxWidth=Io.defaultMaxWidth,this.maxHeight=Io.defaultMaxHeight,this._domElement=h,this._styleElement=d,this._svgRoot=o,this._foreignObject=u,this._foreignObject.appendChild(d),this._foreignObject.appendChild(h),this._image=n,this._autoResolution=Io.defaultAutoResolution,this._resolution=Io.defaultResolution??oe.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,h;const{text:e,style:n,resolution:r}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:n.toCSS(r)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(r)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:s+n.padding*2,height:o+n.padding*2}}async updateText(t=!0){const{style:e,_image:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:r,height:i}=this.measureText();n.width=Math.ceil(Math.max(1,r)),n.height=Math.ceil(Math.max(1,i)),this._loading||(this._loading=!0,await new Promise(s=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,this.updateTexture(),s()};const o=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(o)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:n,resolution:r}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=n.width/r,e.trim.height=e._frame.height=n.height/r,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(n.width,n.height,r),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,r,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Io.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=e,(r=this._svgRoot)==null||r.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._image.onload=null,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Wi(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Wi(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof fl?(this.ownsStyle=!1,this._style=t):t instanceof Xn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=fl.from(t)):(this.ownsStyle=!0,this._style=new fl(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let gd=Io;gd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};gd.defaultMaxWidth=2024;gd.defaultMaxHeight=2024;gd.defaultAutoResolution=!0;function yM(t,e){let n=[];function r(i){n.push(i.id),Hr.add(i.id,i.src)}for(let i of t)switch(i.type){default:r(i)}return Hr.load(n,e)}function Rb(t){return Hr.get(t)}function ut(t,e){return Hr.get(t).textures[e]}function xM(t,e){return Hr.get(t).animations[e]}function wM(t){return Hr.get(t)}function bM(t,e){return{texture:ut(ub,`${t}.jpg`),width:e[0],height:e[1]}}const SM=t=>e=>{const n=Y.useContext(Be).state.game.table.symbolSize;return Y.cloneElement(R(_e.Sprite,{...bM(t,n),...e,children:t==10?R(_e.Sprite,{x:70,y:80,anchor:[.5,0],texture:ut(us,"Scatter.png")}):t==11?R(_e.Sprite,{x:70,y:80,anchor:[.5,0],texture:ut(us,"Wild.png")}):R(wi,{})}))},TM=()=>bh(12,t=>SM(t));function Kn(t,e,n,r){return{textures:xM(hb(t),e),anchor:.5,initialFrame:0,animationSpeed:.5,x:n[0]/2,y:n[1]/2,width:r[0],height:r[1],isPlaying:!0}}const EM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(0,"Symbol10",e,[210,210]),...t})},CM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(1,"SymbolJ",e,[210,210]),...t})},AM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(2,"SymbolQ",e,[210,210]),...t})},PM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(3,"SymbolK",e,[210,210]),...t})},IM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(4,"SymbolA",e,[210,210]),...t})},RM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(5,"Daisy",e,[245,280]),...t})},kM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(6,"QueenBee_Symbol7_HangingFlowers",e,[197.4,189]),...t})},MM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(7,"QueenBee_Symbol6_BeeHive",e,[151.55,145.25]),...t})},NM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(8,"SkinnyBee",e,[245,280]),y:20,...t})},DM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(9,"FatBee",e,[245,280]),...t})},OM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(10,"QueenBee_Symbol5_HoneyPot",e,[197.4,189]),...t,children:R(_e.Sprite,{x:70,y:80,anchor:[.5,0],texture:ut(us,"Scatter.png")})})},BM=t=>{const e=Y.useContext(Be).state.game.table.symbolSize;return R(_e.AnimatedSprite,{...Kn(11,"QueenBee_symbol",e,[245,280]),onComplete:()=>{console.log(1)},...t,children:R(_e.Sprite,{x:70,y:80,anchor:[.5,0],texture:ut(us,"Wild.png")})})};function LM(){return[EM,CM,AM,PM,IM,RM,kM,MM,NM,DM,OM,BM].map(t=>e=>{const{next:n}=Y.useContext(wb);let r=0;function i(){++r==2&&n()}return R(t,{onLoop:i,...e})})}const zt=({hitFrame:t,children:e,...n})=>{const[r,i]=Y.useState(null);return Y.useEffect(()=>{t&&i(new Ae(...t))},[]),R(_e.Container,{hitArea:r,...n,children:e})},FM=({sIndex:t=0,...e})=>{const n=Bx("symbol",t);return R(zt,{...e,children:R(n,{})})},UM=({sIndex:t=0,...e})=>{const n=Bx("symbolActive",t);return R(zt,{...e,children:R(n,{})})},zM=({frame:t=[0,0,100,100],color:e,...n},r)=>{const i=Y.useCallback(s=>{s.clear(),s.beginFill(e),s.drawRect(...t),s.endFill()},[...t,e]);return R(_e.Graphics,{ref:r,draw:i,...n})},HM=Y.forwardRef(zM),GM=({children:t,...e})=>{const[n,r]=Y.useState(!1),i=Y.useRef();return Y.useEffect(()=>{!n&&r(!n)},[i]),ve(zt,{...e,children:[R(HM,{frame:[0,0,565,315],color:0,ref:i}),R(zt,{mask:i.current,children:t})]})};Lx("symbol",...TM());Lx("symbolActive",...LM());Zh("symbol",FM);Zh("symbolActive",UM);Zh("viewport",GM);function $M(t){let e=Object.create(null);return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(n=>{let r=n.replace(/\+/g," ").split("="),i=r.shift(),s=r.length>0?r.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function jM(){return $M(location.search)}function Ns(t,e){let n=jM();return n[t]?n[t]:e}function WM(){let t=Ns("lang","en");switch(!0){case t.indexOf("us")>=0:case t.indexOf("en")>=0:t="en";break;case t.indexOf("cn")>=0:case t.indexOf("zh")>=0:case t.indexOf("zn")>=0:case t.indexOf("cs")>=0:t="cs";break;case t.indexOf("th")>=0:t="th";break;case t.indexOf("vi")>=0:case t.indexOf("vn")>=0:t="vn";break;case t.indexOf("ko")>=0:case t.indexOf("kr")>=0:t="kr";break;case t.indexOf("km")>=0:case t.indexOf("kh")>=0:t="kh";break;case t.indexOf("id")>=0:t="id";break;case t.indexOf("ja")>=0:case t.indexOf("jp")>=0:t="jp";break;default:t="en"}return t}function VM(){return{operator:Ns("op","1"),funPLay:Ns("fun","1")=="1",showLog:Ns("log","0")=="1",token:Ns("token")||Ns("s"),lang:WM(),platform:Ns("p")||(zr.any?"mobile":"web")}}function XM(t){let e={};for(let n in t){let r=t[n],i=r.length,s=[];for(let h=0;h<i;h++){let d=r[h];s.push([h+.5,d+.5])}let o=r[0];s.unshift([0,o+.5]);let u=r[i-1];s.push([i,u+.5]),e[n]=s}return e}let p1={0:[1,1,1,1,1],1:[0,0,0,0,0],2:[2,2,2,2,2],3:[0,1,2,1,0],4:[2,1,0,1,2],5:[0,0,1,0,0],6:[2,2,1,2,2],7:[1,2,2,2,1],8:[1,0,0,0,1]};const YM={row:3,column:5,payLineMap:p1,winLinePathMap:XM(p1),symbolSize:[105,105],symbolFrame:[115,105]};GC("table",YM);class QM{request(e,n){fetch(e)}signIn(e){e.isFun}getBalance(){}getBets(){}spin(){return fetch("http://localhost:5000/spin/1").then(e=>e.json())}bonus(){}claimFround(){}custom(){}}class KM{constructor(e,n){pt(this,"reels");pt(this,"scaterMultiplier");pt(this,"lineMultiplier");pt(this,"linewin");pt(this,"bonusLinewin");pt(this,"bonusSymbols");this.reels=e.ss,this.scaterMultiplier=e.sm,this.lineMultiplier=e.lm}}class qM extends KM{constructor(e,n){super(e,n);let r=[],i=[],s=[];if(e.lw)for(let o in e.lw)for(let u of e.lw[o]){let h=u[0],d={id:h,symbol:u[1],multiplier:u[3],lines:n.payLineMap[h],linePath:n.winLinePathMap[h],count:u[2],director:o};r.push(d),n.bonusSymbols&&n.bonusSymbols.indexOf(d.symbol)>=0&&(i.push(d),s.push(d.symbol))}this.bonusLinewin=i,this.bonusSymbols=s,this.linewin=r.sort((o,u)=>o.id>u.id||o.id==u.id&&o.director=="l2r"?1:-1)}}$C(QM);WC("spin",qM);var zm={},ZM={get exports(){return zm},set exports(t){zm=t}},Pn={},Hm={},JM={get exports(){return Hm},set exports(t){Hm=t}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var M=B.length;B.push(W);e:for(;0<M;){var Z=M-1>>>1,ie=B[Z];if(0<i(ie,W))B[Z]=W,B[M]=ie,M=Z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],M=B.pop();if(M!==W){B[0]=M;e:for(var Z=0,ie=B.length,Se=ie>>>1;Z<Se;){var we=2*(Z+1)-1,Fe=B[we],Ee=we+1,Le=B[Ee];if(0>i(Fe,M))Ee<ie&&0>i(Le,Fe)?(B[Z]=Le,B[Ee]=M,Z=Ee):(B[Z]=Fe,B[we]=M,Z=we);else if(Ee<ie&&0>i(Le,M))B[Z]=Le,B[Ee]=M,Z=Ee;else break e}}return W}function i(B,W){var M=B.sortIndex-W.sortIndex;return M!==0?M:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,c=null,f=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=B)r(d),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(d)}}function C(B){if(b=!1,T(B),!v)if(n(h)!==null)v=!0,xe(P);else{var W=n(d);W!==null&&te(C,W.startTime-B)}}function P(B,W){v=!1,b&&(b=!1,x(O),O=-1),g=!0;var M=f;try{for(T(W),c=n(h);c!==null&&(!(c.expirationTime>W)||B&&!Q());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ie=Z(c.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?c.callback=ie:c===n(h)&&r(h),T(W)}else r(h);c=n(h)}if(c!==null)var Se=!0;else{var we=n(d);we!==null&&te(C,we.startTime-W),Se=!1}return Se}finally{c=null,f=M,g=!1}}var D=!1,N=null,O=-1,H=5,X=-1;function Q(){return!(t.unstable_now()-X<H)}function re(){if(N!==null){var B=t.unstable_now();X=B;var W=!0;try{W=N(!0,B)}finally{W?V():(D=!1,N=null)}}else D=!1}var V;if(typeof S=="function")V=function(){S(re)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ye=z.port2;z.port1.onmessage=re,V=function(){ye.postMessage(null)}}else V=function(){E(re,0)};function xe(B){N=B,D||(D=!0,V())}function te(B,W){O=E(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,xe(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var M=f;f=W;try{return B()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var M=f;f=B;try{return W()}finally{f=M}},t.unstable_scheduleCallback=function(B,W,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=M+ie,B={id:m++,callback:W,priorityLevel:B,startTime:M,expirationTime:ie,sortIndex:-1},M>Z?(B.sortIndex=M,e(d,B),n(h)===null&&B===n(d)&&(b?(x(O),O=-1):b=!0,te(C,M-Z))):(B.sortIndex=ie,e(h,B),v||g||(v=!0,xe(P))),B},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(B){var W=f;return function(){var M=f;f=W;try{return B.apply(this,arguments)}finally{f=M}}}})(kb);(function(t){t.exports=kb})(JM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Y,An=Hm;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nb=new Set,Ol={};function to(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(Ol[t]=e,t=0;t<e.length;t++)Nb.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m1={},g1={};function tN(t){return Gm.call(g1,t)?!0:Gm.call(m1,t)?!1:eN.test(t)?g1[t]=!0:(m1[t]=!0,!1)}function nN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rN(t,e,n,r){if(e===null||typeof e>"u"||nN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function n0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(t0,n0);$t[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(t0,n0);$t[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(t0,n0);$t[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function r0(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rN(e,n,i,r)&&(n=null),r||i===null?tN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=Mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),Bb=Symbol.for("react.offscreen"),_1=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=_1&&t[_1]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Ep;function ol(t){if(Ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ep=e&&e[1]||""}return`
`+Ep+t}var Cp=!1;function Ap(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function iN(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=Ap(t.type,!1),t;case 11:return t=Ap(t.type.render,!1),t;case 1:return t=Ap(t.type,!0),t;default:return""}}function Vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Do:return"Portal";case $m:return"Profiler";case i0:return"StrictMode";case jm:return"Suspense";case Wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ob:return(t.displayName||"Context")+".Consumer";case Db:return(t._context.displayName||"Context")+".Provider";case s0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o0:return e=t.displayName||null,e!==null?e:Vm(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Vm(t(e))}catch{}}return null}function sN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vm(e);case 8:return e===i0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oN(t){var e=Lb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bc(t){t._valueTracker||(t._valueTracker=oN(t))}function Fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xm(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ub(t,e){e=e.checked,e!=null&&r0(t,"checked",e,!1)}function Ym(t,e){Ub(t,e);var n=cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qm(t,e,n){(e!=="number"||Ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function Zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(al(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cs(n)}}function zb(t,e){var n=cs(e.value),r=cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,Gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aN=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){aN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function $b(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function jb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$b(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lN=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zm(t,e){if(e){if(lN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function a0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,Jo=null,ea=null;function b1(t){if(t=iu(t)){if(typeof tg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=wd(e),tg(t.stateNode,t.type,e))}}function Wb(t){Jo?ea?ea.push(t):ea=[t]:Jo=t}function Vb(){if(Jo){var t=Jo,e=ea;if(ea=Jo=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function Xb(t,e){return t(e)}function Yb(){}var Pp=!1;function Qb(t,e,n){if(Pp)return t(e,n);Pp=!0;try{return Xb(t,e,n)}finally{Pp=!1,(Jo!==null||ea!==null)&&(Yb(),Vb())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var ng=!1;if(_i)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){ng=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{ng=!1}function uN(t,e,n,r,i,s,o,u,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(m){this.onError(m)}}var ml=!1,Ph=null,Ih=!1,rg=null,cN={onError:function(t){ml=!0,Ph=t}};function hN(t,e,n,r,i,s,o,u,h){ml=!1,Ph=null,uN.apply(cN,arguments)}function dN(t,e,n,r,i,s,o,u,h){if(hN.apply(this,arguments),ml){if(ml){var d=Ph;ml=!1,Ph=null}else throw Error(q(198));Ih||(Ih=!0,rg=d)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S1(t){if(no(t)!==t)throw Error(q(188))}function fN(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S1(i),t;if(s===r)return S1(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function qb(t){return t=fN(t),t!==null?Zb(t):null}function Zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zb(t);if(e!==null)return e;t=t.sibling}return null}var Jb=An.unstable_scheduleCallback,T1=An.unstable_cancelCallback,pN=An.unstable_shouldYield,mN=An.unstable_requestPaint,vt=An.unstable_now,gN=An.unstable_getCurrentPriorityLevel,l0=An.unstable_ImmediatePriority,eS=An.unstable_UserBlockingPriority,Rh=An.unstable_NormalPriority,_N=An.unstable_LowPriority,tS=An.unstable_IdlePriority,_d=null,jr=null;function vN(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(_d,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:wN,yN=Math.log,xN=Math.LN2;function wN(t){return t>>>=0,t===0?32:31-(yN(t)/xN|0)|0}var Tc=64,Ec=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=ll(u):(s&=o,s!==0&&(r=ll(s)))}else o=n&~i,o!==0?r=ll(o):s!==0&&(r=ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function bN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yr(s),u=1<<o,h=i[o];h===-1?(!(u&n)||u&r)&&(i[o]=bN(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nS(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function Ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function TN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function u0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function rS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iS,c0,sS,oS,aS,sg=!1,Cc=[],Ki=null,qi=null,Zi=null,Fl=new Map,Ul=new Map,$i=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E1(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Qa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=iu(e),e!==null&&c0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CN(t,e,n,r,i){switch(e){case"focusin":return Ki=Qa(Ki,t,e,n,r,i),!0;case"dragenter":return qi=Qa(qi,t,e,n,r,i),!0;case"mouseover":return Zi=Qa(Zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Qa(Fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Qa(Ul.get(s)||null,t,e,n,r,i)),!0}return!1}function lS(t){var e=Fs(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=Kb(n),e!==null){t.blockedOn=e,aS(t.priority,function(){sS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return e=iu(n),e!==null&&c0(e),t.blockedOn=n,!1;e.shift()}return!0}function C1(t,e,n){Qc(t)&&n.delete(e)}function AN(){sg=!1,Ki!==null&&Qc(Ki)&&(Ki=null),qi!==null&&Qc(qi)&&(qi=null),Zi!==null&&Qc(Zi)&&(Zi=null),Fl.forEach(C1),Ul.forEach(C1)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,sg||(sg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,AN)))}function zl(t){function e(i){return Ka(i,t)}if(0<Cc.length){Ka(Cc[0],t);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Ka(Ki,t),qi!==null&&Ka(qi,t),Zi!==null&&Ka(Zi,t),Fl.forEach(e),Ul.forEach(e),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)lS(n),n.blockedOn===null&&$i.shift()}var ta=Ti.ReactCurrentBatchConfig,Mh=!0;function PN(t,e,n,r){var i=He,s=ta.transition;ta.transition=null;try{He=1,h0(t,e,n,r)}finally{He=i,ta.transition=s}}function IN(t,e,n,r){var i=He,s=ta.transition;ta.transition=null;try{He=4,h0(t,e,n,r)}finally{He=i,ta.transition=s}}function h0(t,e,n,r){if(Mh){var i=og(t,e,n,r);if(i===null)Up(t,e,r,Nh,n),E1(t,r);else if(CN(i,t,e,n,r))r.stopPropagation();else if(E1(t,r),e&4&&-1<EN.indexOf(t)){for(;i!==null;){var s=iu(i);if(s!==null&&iS(s),s=og(t,e,n,r),s===null&&Up(t,e,r,Nh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Up(t,e,r,null,n)}}var Nh=null;function og(t,e,n,r){if(Nh=null,t=a0(r),t=Fs(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nh=t,null}function uS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gN()){case l0:return 1;case eS:return 4;case Rh:case _N:return 16;case tS:return 536870912;default:return 16}default:return 16}}var Vi=null,d0=null,Kc=null;function cS(){if(Kc)return Kc;var t,e=d0,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ac(){return!0}function A1(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ac:A1,this.isPropagationStopped=A1,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=In(ga),ru=ot({},ga,{view:0,detail:0}),RN=In(ru),Rp,kp,qa,vd=ot({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(Rp=t.screenX-qa.screenX,kp=t.screenY-qa.screenY):kp=Rp=0,qa=t),Rp)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),P1=In(vd),kN=ot({},vd,{dataTransfer:0}),MN=In(kN),NN=ot({},ru,{relatedTarget:0}),Mp=In(NN),DN=ot({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),ON=In(DN),BN=ot({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LN=In(BN),FN=ot({},ga,{data:0}),I1=In(FN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HN[t])?!!e[t]:!1}function p0(){return GN}var $N=ot({},ru,{key:function(t){if(t.key){var e=UN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jN=In($N),WN=ot({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=In(WN),VN=ot({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),XN=In(VN),YN=ot({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=In(YN),KN=ot({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qN=In(KN),ZN=[9,13,27,32],m0=_i&&"CompositionEvent"in window,gl=null;_i&&"documentMode"in document&&(gl=document.documentMode);var JN=_i&&"TextEvent"in window&&!gl,hS=_i&&(!m0||gl&&8<gl&&11>=gl),k1=String.fromCharCode(32),M1=!1;function dS(t,e){switch(t){case"keyup":return ZN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function e3(t,e){switch(t){case"compositionend":return fS(e);case"keypress":return e.which!==32?null:(M1=!0,k1);case"textInput":return t=e.data,t===k1&&M1?null:t;default:return null}}function t3(t,e){if(Bo)return t==="compositionend"||!m0&&dS(t,e)?(t=cS(),Kc=d0=Vi=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hS&&e.locale!=="ko"?null:e.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n3[t.type]:e==="textarea"}function pS(t,e,n,r){Wb(r),e=Dh(e,"onChange"),0<e.length&&(n=new f0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Hl=null;function r3(t){ES(t,0)}function yd(t){var e=Uo(t);if(Fb(e))return t}function i3(t,e){if(t==="change")return e}var mS=!1;if(_i){var Np;if(_i){var Dp="oninput"in document;if(!Dp){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),Dp=typeof D1.oninput=="function"}Np=Dp}else Np=!1;mS=Np&&(!document.documentMode||9<document.documentMode)}function O1(){_l&&(_l.detachEvent("onpropertychange",gS),Hl=_l=null)}function gS(t){if(t.propertyName==="value"&&yd(Hl)){var e=[];pS(e,Hl,t,a0(t)),Qb(r3,e)}}function s3(t,e,n){t==="focusin"?(O1(),_l=e,Hl=n,_l.attachEvent("onpropertychange",gS)):t==="focusout"&&O1()}function o3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Hl)}function a3(t,e){if(t==="click")return yd(e)}function l3(t,e){if(t==="input"||t==="change")return yd(e)}function u3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:u3;function Gl(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gm.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function B1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L1(t,e){var n=B1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B1(n)}}function _S(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_S(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vS(){for(var t=window,e=Ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ah(t.document)}return e}function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c3(t){var e=vS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_S(n.ownerDocument.documentElement,n)){if(r!==null&&g0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=L1(n,s);var o=L1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h3=_i&&"documentMode"in document&&11>=document.documentMode,Lo=null,ag=null,vl=null,lg=!1;function F1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||Lo==null||Lo!==Ah(r)||(r=Lo,"selectionStart"in r&&g0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Gl(vl,r)||(vl=r,r=Dh(ag,"onSelect"),0<r.length&&(e=new f0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lo)))}function Pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},Op={},yS={};_i&&(yS=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function xd(t){if(Op[t])return Op[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yS)return Op[t]=e[n];return t}var xS=xd("animationend"),wS=xd("animationiteration"),bS=xd("animationstart"),SS=xd("transitionend"),TS=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(t,e){TS.set(t,e),to(e,[t])}for(var Bp=0;Bp<U1.length;Bp++){var Lp=U1[Bp],d3=Lp.toLowerCase(),f3=Lp[0].toUpperCase()+Lp.slice(1);fs(d3,"on"+f3)}fs(xS,"onAnimationEnd");fs(wS,"onAnimationIteration");fs(bS,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(SS,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function z1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dN(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],h=u.instance,d=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;z1(i,u,d),s=h}else for(o=0;o<r.length;o++){if(u=r[o],h=u.instance,d=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;z1(i,u,d),s=h}}}if(Ih)throw t=rg,Ih=!1,rg=null,t}function Xe(t,e){var n=e[fg];n===void 0&&(n=e[fg]=new Set);var r=t+"__bubble";n.has(r)||(CS(e,t,2,!1),n.add(r))}function Fp(t,e,n){var r=0;e&&(r|=4),CS(n,t,r,e)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[Ic]){t[Ic]=!0,Nb.forEach(function(n){n!=="selectionchange"&&(p3.has(n)||Fp(n,!1,t),Fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ic]||(e[Ic]=!0,Fp("selectionchange",!1,e))}}function CS(t,e,n,r){switch(uS(e)){case 1:var i=PN;break;case 4:i=IN;break;default:i=h0}n=i.bind(null,e,n,t),i=void 0,!ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Up(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Fs(u),o===null)return;if(h=o.tag,h===5||h===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Qb(function(){var d=s,m=a0(n),c=[];e:{var f=TS.get(t);if(f!==void 0){var g=f0,v=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":g=jN;break;case"focusin":v="focus",g=Mp;break;case"focusout":v="blur",g=Mp;break;case"beforeblur":case"afterblur":g=Mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=XN;break;case xS:case wS:case bS:g=ON;break;case SS:g=QN;break;case"scroll":g=RN;break;case"wheel":g=qN;break;case"copy":case"cut":case"paste":g=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=R1}var b=(e&4)!==0,E=!b&&t==="scroll",x=b?f!==null?f+"Capture":null:f;b=[];for(var S=d,T;S!==null;){T=S;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,x!==null&&(C=Ll(S,x),C!=null&&b.push(jl(S,C,T)))),E)break;S=S.return}0<b.length&&(f=new g(f,v,null,n,m),c.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==eg&&(v=n.relatedTarget||n.fromElement)&&(Fs(v)||v[vi]))break e;if((g||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?Fs(v):null,v!==null&&(E=no(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(b=P1,C="onMouseLeave",x="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=R1,C="onPointerLeave",x="onPointerEnter",S="pointer"),E=g==null?f:Uo(g),T=v==null?f:Uo(v),f=new b(C,S+"leave",g,n,m),f.target=E,f.relatedTarget=T,C=null,Fs(m)===d&&(b=new b(x,S+"enter",v,n,m),b.target=T,b.relatedTarget=E,C=b),E=C,g&&v)t:{for(b=g,x=v,S=0,T=b;T;T=So(T))S++;for(T=0,C=x;C;C=So(C))T++;for(;0<S-T;)b=So(b),S--;for(;0<T-S;)x=So(x),T--;for(;S--;){if(b===x||x!==null&&b===x.alternate)break t;b=So(b),x=So(x)}b=null}else b=null;g!==null&&H1(c,f,g,b,!1),v!==null&&E!==null&&H1(c,E,v,b,!0)}}e:{if(f=d?Uo(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=i3;else if(N1(f))if(mS)P=l3;else{P=o3;var D=s3}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=a3);if(P&&(P=P(t,d))){pS(c,P,n,m);break e}D&&D(t,f,d),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(D=d?Uo(d):window,t){case"focusin":(N1(D)||D.contentEditable==="true")&&(Lo=D,ag=d,vl=null);break;case"focusout":vl=ag=Lo=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,F1(c,n,m);break;case"selectionchange":if(h3)break;case"keydown":case"keyup":F1(c,n,m)}var N;if(m0)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Bo?dS(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(hS&&n.locale!=="ko"&&(Bo||O!=="onCompositionStart"?O==="onCompositionEnd"&&Bo&&(N=cS()):(Vi=m,d0="value"in Vi?Vi.value:Vi.textContent,Bo=!0)),D=Dh(d,O),0<D.length&&(O=new I1(O,t,null,n,m),c.push({event:O,listeners:D}),N?O.data=N:(N=fS(n),N!==null&&(O.data=N)))),(N=JN?e3(t,n):t3(t,n))&&(d=Dh(d,"onBeforeInput"),0<d.length&&(m=new I1("onBeforeInput","beforeinput",null,n,m),c.push({event:m,listeners:d}),m.data=N))}ES(c,e)})}function jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ll(t,n),s!=null&&r.unshift(jl(t,s,i)),s=Ll(t,e),s!=null&&r.push(jl(t,s,i))),t=t.return}return r}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,h=u.alternate,d=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&d!==null&&(u=d,i?(h=Ll(n,s),h!=null&&o.unshift(jl(n,h,u))):i||(h=Ll(n,s),h!=null&&o.push(jl(n,h,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(m3,`
`).replace(g3,"")}function Rc(t,e,n){if(e=G1(e),G1(t)!==e&&n)throw Error(q(425))}function Oh(){}var ug=null,cg=null;function hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dg=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(t){return $1.resolve(null).then(t).catch(y3)}:dg;function y3(t){setTimeout(function(){throw t})}function zp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zl(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Ur="__reactFiber$"+_a,Wl="__reactProps$"+_a,vi="__reactContainer$"+_a,fg="__reactEvents$"+_a,x3="__reactListeners$"+_a,w3="__reactHandles$"+_a;function Fs(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[Ur])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function iu(t){return t=t[Ur]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function wd(t){return t[Wl]||null}var pg=[],zo=-1;function ps(t){return{current:t}}function Ye(t){0>zo||(t.current=pg[zo],pg[zo]=null,zo--)}function We(t,e){zo++,pg[zo]=t.current,t.current=e}var hs={},Zt=ps(hs),fn=ps(!1),Qs=hs;function la(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function Bh(){Ye(fn),Ye(Zt)}function W1(t,e,n){if(Zt.current!==hs)throw Error(q(168));We(Zt,e),We(fn,n)}function AS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,sN(t)||"Unknown",i));return ot({},n,r)}function Lh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Qs=Zt.current,We(Zt,t),We(fn,fn.current),!0}function V1(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=AS(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Ye(fn),Ye(Zt),We(Zt,t)):Ye(fn),We(fn,n)}var ai=null,bd=!1,Hp=!1;function PS(t){ai===null?ai=[t]:ai.push(t)}function b3(t){bd=!0,PS(t)}function ms(){if(!Hp&&ai!==null){Hp=!0;var t=0,e=He;try{var n=ai;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ai=null,bd=!1}catch(i){throw ai!==null&&(ai=ai.slice(t+1)),Jb(l0,ms),i}finally{He=e,Hp=!1}}return null}var Ho=[],Go=0,Fh=null,Uh=0,Hn=[],Gn=0,Ks=null,ci=1,hi="";function Ds(t,e){Ho[Go++]=Uh,Ho[Go++]=Fh,Fh=t,Uh=e}function IS(t,e,n){Hn[Gn++]=ci,Hn[Gn++]=hi,Hn[Gn++]=Ks,Ks=t;var r=ci;t=hi;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var s=32-yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ci=1<<32-yr(e)+i|n<<i|r,hi=s+t}else ci=1<<s|n<<i|r,hi=t}function _0(t){t.return!==null&&(Ds(t,1),IS(t,1,0))}function v0(t){for(;t===Fh;)Fh=Ho[--Go],Ho[Go]=null,Uh=Ho[--Go],Ho[Go]=null;for(;t===Ks;)Ks=Hn[--Gn],Hn[Gn]=null,hi=Hn[--Gn],Hn[Gn]=null,ci=Hn[--Gn],Hn[Gn]=null}var Cn=null,Tn=null,Ze=!1,dr=null;function RS(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Tn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ks!==null?{id:ci,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Tn=null,!0):!1;default:return!1}}function mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gg(t){if(Ze){var e=Tn;if(e){var n=e;if(!X1(t,e)){if(mg(t))throw Error(q(418));e=Ji(n.nextSibling);var r=Cn;e&&X1(t,e)?RS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Cn=t)}}else{if(mg(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ze=!1,Cn=t}}}function Y1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function kc(t){if(t!==Cn)return!1;if(!Ze)return Y1(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hg(t.type,t.memoizedProps)),e&&(e=Tn)){if(mg(t))throw kS(),Error(q(418));for(;e;)RS(t,e),e=Ji(e.nextSibling)}if(Y1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Cn?Ji(t.stateNode.nextSibling):null;return!0}function kS(){for(var t=Tn;t;)t=Ji(t.nextSibling)}function ua(){Tn=Cn=null,Ze=!1}function y0(t){dr===null?dr=[t]:dr.push(t)}var S3=Ti.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var zh=ps(null),Hh=null,$o=null,x0=null;function w0(){x0=$o=Hh=null}function b0(t){var e=zh.current;Ye(zh),t._currentValue=e}function _g(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Hh=t,x0=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(x0!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Hh===null)throw Error(q(308));$o=t,Hh.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Us=null;function S0(t){Us===null?Us=[t]:Us.push(t)}function MS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,S0(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function T0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,S0(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u0(t,n)}}function Q1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gh(t,e,n,r){var i=t.updateQueue;Ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,d=h.next;h.next=null,o===null?s=d:o.next=d,o=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=h))}if(s!==null){var c=i.baseState;o=0,m=d=h=null,u=s;do{var f=u.lane,g=u.eventTime;if((r&f)===f){m!==null&&(m=m.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=t,b=u;switch(f=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(g,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(g,c,f):v,f==null)break e;c=ot({},c,f);break e;case 2:Ui=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[u]:f.push(u))}else g={eventTime:g,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=g,h=c):m=m.next=g,o|=f;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;f=u,u=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(m===null&&(h=c),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zs|=o,t.lanes=o,t.memoizedState=c}}function K1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var DS=new Mb.Component().refs;function vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ns(t),s=mi(r,i);s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(xr(e,t,i,r),Zc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ns(t),s=mi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(xr(e,t,i,r),Zc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ns(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=es(t,i,r),e!==null&&(xr(e,t,r,n),Zc(e,t,r))}};function q1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,s):!0}function OS(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=pn(e)?Qs:Zt.current,r=e.contextTypes,s=(r=r!=null)?la(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function yg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=DS,T0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=pn(e)?Qs:Zt.current,i.context=la(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sd.enqueueReplaceState(i,i.state,null),Gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===DS&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Mc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J1(t){var e=t._init;return e(t._payload)}function BS(t){function e(x,S){if(t){var T=x.deletions;T===null?(x.deletions=[S],x.flags|=16):T.push(S)}}function n(x,S){if(!t)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=rs(x,S),x.index=0,x.sibling=null,x}function s(x,S,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<S?(x.flags|=2,S):T):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,S,T,C){return S===null||S.tag!==6?(S=Yp(T,x.mode,C),S.return=x,S):(S=i(S,T),S.return=x,S)}function h(x,S,T,C){var P=T.type;return P===Oo?m(x,S,T.props.children,C,T.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fi&&J1(P)===S.type)?(C=i(S,T.props),C.ref=Za(x,S,T),C.return=x,C):(C=ih(T.type,T.key,T.props,null,x.mode,C),C.ref=Za(x,S,T),C.return=x,C)}function d(x,S,T,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Qp(T,x.mode,C),S.return=x,S):(S=i(S,T.children||[]),S.return=x,S)}function m(x,S,T,C,P){return S===null||S.tag!==7?(S=js(T,x.mode,C,P),S.return=x,S):(S=i(S,T),S.return=x,S)}function c(x,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Yp(""+S,x.mode,T),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wc:return T=ih(S.type,S.key,S.props,null,x.mode,T),T.ref=Za(x,null,S),T.return=x,T;case Do:return S=Qp(S,x.mode,T),S.return=x,S;case Fi:var C=S._init;return c(x,C(S._payload),T)}if(al(S)||Xa(S))return S=js(S,x.mode,T,null),S.return=x,S;Mc(x,S)}return null}function f(x,S,T,C){var P=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:u(x,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wc:return T.key===P?h(x,S,T,C):null;case Do:return T.key===P?d(x,S,T,C):null;case Fi:return P=T._init,f(x,S,P(T._payload),C)}if(al(T)||Xa(T))return P!==null?null:m(x,S,T,C,null);Mc(x,T)}return null}function g(x,S,T,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(T)||null,u(S,x,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wc:return x=x.get(C.key===null?T:C.key)||null,h(S,x,C,P);case Do:return x=x.get(C.key===null?T:C.key)||null,d(S,x,C,P);case Fi:var D=C._init;return g(x,S,T,D(C._payload),P)}if(al(C)||Xa(C))return x=x.get(T)||null,m(S,x,C,P,null);Mc(S,C)}return null}function v(x,S,T,C){for(var P=null,D=null,N=S,O=S=0,H=null;N!==null&&O<T.length;O++){N.index>O?(H=N,N=null):H=N.sibling;var X=f(x,N,T[O],C);if(X===null){N===null&&(N=H);break}t&&N&&X.alternate===null&&e(x,N),S=s(X,S,O),D===null?P=X:D.sibling=X,D=X,N=H}if(O===T.length)return n(x,N),Ze&&Ds(x,O),P;if(N===null){for(;O<T.length;O++)N=c(x,T[O],C),N!==null&&(S=s(N,S,O),D===null?P=N:D.sibling=N,D=N);return Ze&&Ds(x,O),P}for(N=r(x,N);O<T.length;O++)H=g(N,x,O,T[O],C),H!==null&&(t&&H.alternate!==null&&N.delete(H.key===null?O:H.key),S=s(H,S,O),D===null?P=H:D.sibling=H,D=H);return t&&N.forEach(function(Q){return e(x,Q)}),Ze&&Ds(x,O),P}function b(x,S,T,C){var P=Xa(T);if(typeof P!="function")throw Error(q(150));if(T=P.call(T),T==null)throw Error(q(151));for(var D=P=null,N=S,O=S=0,H=null,X=T.next();N!==null&&!X.done;O++,X=T.next()){N.index>O?(H=N,N=null):H=N.sibling;var Q=f(x,N,X.value,C);if(Q===null){N===null&&(N=H);break}t&&N&&Q.alternate===null&&e(x,N),S=s(Q,S,O),D===null?P=Q:D.sibling=Q,D=Q,N=H}if(X.done)return n(x,N),Ze&&Ds(x,O),P;if(N===null){for(;!X.done;O++,X=T.next())X=c(x,X.value,C),X!==null&&(S=s(X,S,O),D===null?P=X:D.sibling=X,D=X);return Ze&&Ds(x,O),P}for(N=r(x,N);!X.done;O++,X=T.next())X=g(N,x,O,X.value,C),X!==null&&(t&&X.alternate!==null&&N.delete(X.key===null?O:X.key),S=s(X,S,O),D===null?P=X:D.sibling=X,D=X);return t&&N.forEach(function(re){return e(x,re)}),Ze&&Ds(x,O),P}function E(x,S,T,C){if(typeof T=="object"&&T!==null&&T.type===Oo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wc:e:{for(var P=T.key,D=S;D!==null;){if(D.key===P){if(P=T.type,P===Oo){if(D.tag===7){n(x,D.sibling),S=i(D,T.props.children),S.return=x,x=S;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fi&&J1(P)===D.type){n(x,D.sibling),S=i(D,T.props),S.ref=Za(x,D,T),S.return=x,x=S;break e}n(x,D);break}else e(x,D);D=D.sibling}T.type===Oo?(S=js(T.props.children,x.mode,C,T.key),S.return=x,x=S):(C=ih(T.type,T.key,T.props,null,x.mode,C),C.ref=Za(x,S,T),C.return=x,x=C)}return o(x);case Do:e:{for(D=T.key;S!==null;){if(S.key===D)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){n(x,S.sibling),S=i(S,T.children||[]),S.return=x,x=S;break e}else{n(x,S);break}else e(x,S);S=S.sibling}S=Qp(T,x.mode,C),S.return=x,x=S}return o(x);case Fi:return D=T._init,E(x,S,D(T._payload),C)}if(al(T))return v(x,S,T,C);if(Xa(T))return b(x,S,T,C);Mc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(n(x,S.sibling),S=i(S,T),S.return=x,x=S):(n(x,S),S=Yp(T,x.mode,C),S.return=x,x=S),o(x)):n(x,S)}return E}var ca=BS(!0),LS=BS(!1),su={},Wr=ps(su),Vl=ps(su),Xl=ps(su);function zs(t){if(t===su)throw Error(q(174));return t}function E0(t,e){switch(We(Xl,e),We(Vl,t),We(Wr,su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qm(e,t)}Ye(Wr),We(Wr,e)}function ha(){Ye(Wr),Ye(Vl),Ye(Xl)}function FS(t){zs(Xl.current);var e=zs(Wr.current),n=qm(e,t.type);e!==n&&(We(Vl,t),We(Wr,n))}function C0(t){Vl.current===t&&(Ye(Wr),Ye(Vl))}var rt=ps(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gp=[];function A0(){for(var t=0;t<Gp.length;t++)Gp[t]._workInProgressVersionPrimary=null;Gp.length=0}var Jc=Ti.ReactCurrentDispatcher,$p=Ti.ReactCurrentBatchConfig,qs=0,st=null,St=null,Nt=null,jh=!1,yl=!1,Yl=0,T3=0;function Yt(){throw Error(q(321))}function P0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function I0(t,e,n,r,i,s){if(qs=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?P3:I3,t=n(r,i),yl){s=0;do{if(yl=!1,Yl=0,25<=s)throw Error(q(301));s+=1,Nt=St=null,e.updateQueue=null,Jc.current=R3,t=n(r,i)}while(yl)}if(Jc.current=Wh,e=St!==null&&St.next!==null,qs=0,Nt=St=st=null,jh=!1,e)throw Error(q(300));return t}function R0(){var t=Yl!==0;return Yl=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Qn(){if(St===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Nt===null?st.memoizedState:Nt.next;if(e!==null)Nt=e,St=t;else{if(t===null)throw Error(q(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ql(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,h=null,d=s;do{var m=d.lane;if((qs&m)===m)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var c={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(u=h=c,o=r):h=h.next=c,st.lanes|=m,Zs|=m}d=d.next}while(d!==null&&d!==s);h===null?o=r:h.next=u,wr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wr(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function US(){}function zS(t,e){var n=st,r=Qn(),i=e(),s=!wr(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,k0($S.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Kl(9,GS.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(q(349));qs&30||HS(n,e,i)}return i}function HS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GS(t,e,n,r){e.value=n,e.getSnapshot=r,jS(e)&&WS(t)}function $S(t,e,n){return n(function(){jS(e)&&WS(t)})}function jS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function WS(t){var e=yi(t,1);e!==null&&xr(e,t,1,-1)}function ex(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=A3.bind(null,st,t),[e.memoizedState,t]}function Kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VS(){return Qn().memoizedState}function eh(t,e,n,r){var i=Br();st.flags|=t,i.memoizedState=Kl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&P0(r,o.deps)){i.memoizedState=Kl(e,n,s,r);return}}st.flags|=t,i.memoizedState=Kl(1|e,n,s,r)}function tx(t,e){return eh(8390656,8,t,e)}function k0(t,e){return Td(2048,8,t,e)}function XS(t,e){return Td(4,2,t,e)}function YS(t,e){return Td(4,4,t,e)}function QS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KS(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,QS.bind(null,e,t),n)}function M0(){}function qS(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZS(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JS(t,e,n){return qs&21?(wr(n,e)||(n=nS(),st.lanes|=n,Zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function E3(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=$p.transition;$p.transition={};try{t(!1),e()}finally{He=n,$p.transition=r}}function eT(){return Qn().memoizedState}function C3(t,e,n){var r=ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tT(t))nT(e,n);else if(n=MS(t,e,n,r),n!==null){var i=nn();xr(n,t,r,i),rT(n,e,r)}}function A3(t,e,n){var r=ns(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tT(t))nT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,wr(u,o)){var h=e.interleaved;h===null?(i.next=i,S0(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=MS(t,e,i,r),n!==null&&(i=nn(),xr(n,t,r,i),rT(n,e,r))}}function tT(t){var e=t.alternate;return t===st||e!==null&&e===st}function nT(t,e){yl=jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u0(t,n)}}var Wh={readContext:Yn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},P3={readContext:Yn,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:tx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eh(4194308,4,QS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eh(4194308,4,t,e)},useInsertionEffect:function(t,e){return eh(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C3.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:ex,useDebugValue:M0,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=ex(!1),e=t[0];return t=E3.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Br();if(Ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Dt===null)throw Error(q(349));qs&30||HS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tx($S.bind(null,r,s,t),[t]),r.flags|=2048,Kl(9,GS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Br(),e=Dt.identifierPrefix;if(Ze){var n=hi,r=ci;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I3={readContext:Yn,useCallback:qS,useContext:Yn,useEffect:k0,useImperativeHandle:KS,useInsertionEffect:XS,useLayoutEffect:YS,useMemo:ZS,useReducer:jp,useRef:VS,useState:function(){return jp(Ql)},useDebugValue:M0,useDeferredValue:function(t){var e=Qn();return JS(e,St.memoizedState,t)},useTransition:function(){var t=jp(Ql)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:zS,useId:eT,unstable_isNewReconciler:!1},R3={readContext:Yn,useCallback:qS,useContext:Yn,useEffect:k0,useImperativeHandle:KS,useInsertionEffect:XS,useLayoutEffect:YS,useMemo:ZS,useReducer:Wp,useRef:VS,useState:function(){return Wp(Ql)},useDebugValue:M0,useDeferredValue:function(t){var e=Qn();return St===null?e.memoizedState=t:JS(e,St.memoizedState,t)},useTransition:function(){var t=Wp(Ql)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:zS,useId:eT,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=iN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k3=typeof WeakMap=="function"?WeakMap:Map;function iT(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xh||(Xh=!0,Rg=r),xg(t,e)},n}function sT(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xg(t,e),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=W3.bind(null,t,e,n),e.then(t,t))}function rx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ix(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,es(n,e,1))),n.lanes|=1),t)}var M3=Ti.ReactCurrentOwner,dn=!1;function tn(t,e,n,r){e.child=t===null?LS(e,null,n,r):ca(e,t.child,n,r)}function sx(t,e,n,r,i){n=n.render;var s=e.ref;return na(e,i),r=I0(t,e,n,r,s,i),n=R0(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ze&&n&&_0(e),e.flags|=1,tn(t,e,r,i),e.child)}function ox(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!z0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oT(t,e,s,r,i)):(t=ih(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=rs(s,r),t.ref=e.ref,t.return=e,e.child=t}function oT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gl(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return wg(t,e,n,r,i)}function aT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Wo,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Wo,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(Wo,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(Wo,Sn),Sn|=r;return tn(t,e,i,n),e.child}function lT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wg(t,e,n,r,i){var s=pn(n)?Qs:Zt.current;return s=la(e,s),na(e,i),n=I0(t,e,n,r,s,i),r=R0(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ze&&r&&_0(e),e.flags|=1,tn(t,e,n,i),e.child)}function ax(t,e,n,r,i){if(pn(n)){var s=!0;Lh(e)}else s=!1;if(na(e,i),e.stateNode===null)th(t,e),OS(e,n,r),yg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Yn(d):(d=pn(n)?Qs:Zt.current,d=la(e,d));var m=n.getDerivedStateFromProps,c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||h!==d)&&Z1(e,o,r,d),Ui=!1;var f=e.memoizedState;o.state=f,Gh(e,r,o,i),h=e.memoizedState,u!==r||f!==h||fn.current||Ui?(typeof m=="function"&&(vg(e,n,m,r),h=e.memoizedState),(u=Ui||q1(e,n,u,r,f,h,d))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NS(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:lr(e.type,u),o.props=d,c=e.pendingProps,f=o.context,h=n.contextType,typeof h=="object"&&h!==null?h=Yn(h):(h=pn(n)?Qs:Zt.current,h=la(e,h));var g=n.getDerivedStateFromProps;(m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==c||f!==h)&&Z1(e,o,r,h),Ui=!1,f=e.memoizedState,o.state=f,Gh(e,r,o,i);var v=e.memoizedState;u!==c||f!==v||fn.current||Ui?(typeof g=="function"&&(vg(e,n,g,r),v=e.memoizedState),(d=Ui||q1(e,n,d,r,f,v,h)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=h,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bg(t,e,n,r,s,i)}function bg(t,e,n,r,i,s){lT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&V1(e,n,!1),xi(t,e,s);r=e.stateNode,M3.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,u,s)):tn(t,e,u,s),e.memoizedState=r.state,i&&V1(e,n,!0),e.child}function uT(t){var e=t.stateNode;e.pendingContext?W1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W1(t,e.context,!1),E0(t,e.containerInfo)}function lx(t,e,n,r,i){return ua(),y0(i),e.flags|=256,tn(t,e,n,r),e.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function cT(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ad(o,r,0,null),t=js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tg(n),e.memoizedState=Sg,t):N0(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return N3(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=rs(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=rs(u,s):(s=js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sg,r}return s=t.child,t=s.sibling,r=rs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function N0(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,r){return r!==null&&y0(r),ca(e,t.child,null,n),t=N0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N3(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vp(Error(q(422))),Nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=Tg(o),e.memoizedState=Sg,s);if(!(e.mode&1))return Nc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(q(419)),r=Vp(s,r,void 0),Nc(t,e,o,r)}if(u=(o&t.childLanes)!==0,dn||u){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),xr(r,t,i,-1))}return U0(),r=Vp(Error(q(421))),Nc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=Ji(i.nextSibling),Cn=e,Ze=!0,dr=null,t!==null&&(Hn[Gn++]=ci,Hn[Gn++]=hi,Hn[Gn++]=Ks,ci=t.id,hi=t.overflow,Ks=e),e=N0(e,r.children),e.flags|=4096,e)}function ux(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_g(t.return,e,n)}function Xp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,n,e);else if(t.tag===19)ux(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$h(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$h(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xp(e,!0,n,null,s);break;case"together":Xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function th(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D3(t,e,n){switch(e.tag){case 3:uT(e),ua();break;case 5:FS(e);break;case 1:pn(e.type)&&Lh(e);break;case 4:E0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(zh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?cT(t,e,n):(We(rt,rt.current&1),t=xi(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,aT(t,e,n)}return xi(t,e,n)}var dT,Eg,fT,pT;dT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};fT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zs(Wr.current);var s=null;switch(n){case"input":i=Xm(t,i),r=Xm(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=Km(t,i),r=Km(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oh)}Zm(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ol.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var h=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&h!==u&&(h!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(n||(n={}),n[o]=h[o])}else n||(s||(s=[]),s.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Xe("scroll",t),s||u===h||(s=[])):(s=s||[]).push(d,h))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};pT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ja(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O3(t,e,n){var r=e.pendingProps;switch(v0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return pn(e.type)&&Bh(),Qt(e),null;case 3:return r=e.stateNode,ha(),Ye(fn),Ye(Zt),A0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(Ng(dr),dr=null))),Eg(t,e),Qt(e),null;case 5:C0(e);var i=zs(Xl.current);if(n=e.type,t!==null&&e.stateNode!=null)fT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Qt(e),null}if(t=zs(Wr.current),kc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ur]=e,r[Wl]=s,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<ul.length;i++)Xe(ul[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":v1(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":x1(r,s),Xe("invalid",r)}Zm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,u,t),i=["children",""+u]):Ol.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":bc(r),y1(r,s,!0);break;case"textarea":bc(r),w1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[Wl]=r,dT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ul.length;i++)Xe(ul[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":v1(t,r),i=Xm(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":x1(t,r),i=Km(t,r),Xe("invalid",t);break;default:i=r}Zm(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?jb(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Gb(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Bl(t,h):typeof h=="number"&&Bl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Xe("scroll",t):h!=null&&r0(t,s,h,o))}switch(n){case"input":bc(t),y1(t,r,!1);break;case"textarea":bc(t),w1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)pT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=zs(Xl.current),zs(Wr.current),kc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:Rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return Qt(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Tn!==null&&e.mode&1&&!(e.flags&128))kS(),ua(),e.flags|=98560,s=!1;else if(s=kc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Ur]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else dr!==null&&(Ng(dr),dr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Tt===0&&(Tt=3):U0())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return ha(),Eg(t,e),t===null&&$l(e.stateNode.containerInfo),Qt(e),null;case 10:return b0(e.type._context),Qt(e),null;case 17:return pn(e.type)&&Bh(),Qt(e),null;case 19:if(Ye(rt),s=e.memoizedState,s===null)return Qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ja(s,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$h(t),o!==null){for(e.flags|=128,Ja(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>fa&&(e.flags|=128,r=!0,Ja(s,!1),e.lanes=4194304)}else{if(!r)if(t=$h(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ja(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Qt(e),null}else 2*vt()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,Ja(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return F0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function B3(t,e){switch(v0(e),e.tag){case 1:return pn(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Ye(fn),Ye(Zt),A0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C0(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return ha(),null;case 10:return b0(e.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var Dc=!1,Kt=!1,L3=typeof WeakSet=="function"?WeakSet:Set,ue=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Cg(t,e,n){try{n()}catch(r){ct(t,e,r)}}var cx=!1;function F3(t,e){if(ug=Mh,t=vS(),g0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,h=-1,d=0,m=0,c=t,f=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(u=o+i),c!==s||r!==0&&c.nodeType!==3||(h=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++d===i&&(u=o),f===s&&++m===r&&(h=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(cg={focusedElem:t,selectionRange:n},Mh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,E=v.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:lr(e.type,b),E);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){ct(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=cx,cx=!1,v}function xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cg(e,n,s)}i=i.next}while(i!==r)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mT(t){var e=t.alternate;e!==null&&(t.alternate=null,mT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[Wl],delete e[fg],delete e[x3],delete e[w3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gT(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oh));else if(r!==4&&(t=t.child,t!==null))for(Pg(t,e,n),t=t.sibling;t!==null;)Pg(t,e,n),t=t.sibling}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}var Lt=null,ur=!1;function Li(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(_d,n)}catch{}switch(n.tag){case 5:Kt||jo(n,e);case 6:var r=Lt,i=ur;Lt=null,Li(t,e,n),Lt=r,ur=i,Lt!==null&&(ur?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ur?(t=Lt,n=n.stateNode,t.nodeType===8?zp(t.parentNode,n):t.nodeType===1&&zp(t,n),zl(t)):zp(Lt,n.stateNode));break;case 4:r=Lt,i=ur,Lt=n.stateNode.containerInfo,ur=!0,Li(t,e,n),Lt=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cg(n,e,o),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!Kt&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ct(n,e,u)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Li(t,e,n),Kt=r):Li(t,e,n);break;default:Li(t,e,n)}}function dx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L3),e.forEach(function(r){var i=X3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Lt=u.stateNode,ur=!1;break e;case 3:Lt=u.stateNode.containerInfo,ur=!0;break e;case 4:Lt=u.stateNode.containerInfo,ur=!0;break e}u=u.return}if(Lt===null)throw Error(q(160));_T(s,o,i),Lt=null,ur=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){ct(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vT(e,t),e=e.sibling}function vT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),Nr(t),r&4){try{xl(3,t,t.return),Ed(3,t)}catch(b){ct(t,t.return,b)}try{xl(5,t,t.return)}catch(b){ct(t,t.return,b)}}break;case 1:ir(e,t),Nr(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(ir(e,t),Nr(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{Bl(i,"")}catch(b){ct(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Ub(i,s),Jm(u,o);var d=Jm(u,s);for(o=0;o<h.length;o+=2){var m=h[o],c=h[o+1];m==="style"?jb(i,c):m==="dangerouslySetInnerHTML"?Gb(i,c):m==="children"?Bl(i,c):r0(i,m,c,d)}switch(u){case"input":Ym(i,s);break;case"textarea":zb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wl]=s}catch(b){ct(t,t.return,b)}}break;case 6:if(ir(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ct(t,t.return,b)}}break;case 3:if(ir(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(b){ct(t,t.return,b)}break;case 4:ir(e,t),Nr(t);break;case 13:ir(e,t),Nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=vt())),r&4&&dx(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(d=Kt)||m,ir(e,t),Kt=d):ir(e,t),Nr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(ue=t,m=t.child;m!==null;){for(c=ue=m;ue!==null;){switch(f=ue,g=f.child,f.tag){case 0:case 11:case 14:case 15:xl(4,f,f.return);break;case 1:jo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){ct(r,n,b)}}break;case 5:jo(f,f.return);break;case 22:if(f.memoizedState!==null){px(c);continue}}g!==null?(g.return=f,ue=g):px(c)}m=m.sibling}e:for(m=null,c=t;;){if(c.tag===5){if(m===null){m=c;try{i=c.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=c.stateNode,h=c.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=$b("display",o))}catch(b){ct(t,t.return,b)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(b){ct(t,t.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ir(e,t),Nr(t),r&4&&dx(t);break;case 21:break;default:ir(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bl(i,""),r.flags&=-33);var s=hx(t);Ig(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=hx(t);Pg(t,u,o);break;default:throw Error(q(161))}}catch(h){ct(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U3(t,e,n){ue=t,yT(t)}function yT(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dc;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||Kt;u=Dc;var d=Kt;if(Dc=o,(Kt=h)&&!d)for(ue=i;ue!==null;)o=ue,h=o.child,o.tag===22&&o.memoizedState!==null?mx(i):h!==null?(h.return=o,ue=h):mx(i);for(;s!==null;)ue=s,yT(s),s=s.sibling;ue=i,Dc=u,Kt=d}fx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):fx(t)}}function fx(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Ed(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&K1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K1(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&zl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Kt||e.flags&512&&Ag(e)}catch(f){ct(e,e.return,f)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function px(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function mx(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ed(4,e)}catch(h){ct(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){ct(e,i,h)}}var s=e.return;try{Ag(e)}catch(h){ct(e,s,h)}break;case 5:var o=e.return;try{Ag(e)}catch(h){ct(e,o,h)}}}catch(h){ct(e,e.return,h)}if(e===t){ue=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ue=u;break}ue=e.return}}var z3=Math.ceil,Vh=Ti.ReactCurrentDispatcher,D0=Ti.ReactCurrentOwner,Vn=Ti.ReactCurrentBatchConfig,Me=0,Dt=null,xt=null,Gt=0,Sn=0,Wo=ps(0),Tt=0,ql=null,Zs=0,Cd=0,O0=0,wl=null,hn=null,B0=0,fa=1/0,oi=null,Xh=!1,Rg=null,ts=null,Oc=!1,Xi=null,Yh=0,bl=0,kg=null,nh=-1,rh=0;function nn(){return Me&6?vt():nh!==-1?nh:nh=vt()}function ns(t){return t.mode&1?Me&2&&Gt!==0?Gt&-Gt:S3.transition!==null?(rh===0&&(rh=nS()),rh):(t=He,t!==0||(t=window.event,t=t===void 0?16:uS(t.type)),t):1}function xr(t,e,n,r){if(50<bl)throw bl=0,kg=null,Error(q(185));nu(t,n,r),(!(Me&2)||t!==Dt)&&(t===Dt&&(!(Me&2)&&(Cd|=n),Tt===4&&ji(t,Gt)),mn(t,r),n===1&&Me===0&&!(e.mode&1)&&(fa=vt()+500,bd&&ms()))}function mn(t,e){var n=t.callbackNode;SN(t,e);var r=kh(t,t===Dt?Gt:0);if(r===0)n!==null&&T1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T1(n),e===1)t.tag===0?b3(gx.bind(null,t)):PS(gx.bind(null,t)),v3(function(){!(Me&6)&&ms()}),n=null;else{switch(rS(r)){case 1:n=l0;break;case 4:n=eS;break;case 16:n=Rh;break;case 536870912:n=tS;break;default:n=Rh}n=AT(n,xT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xT(t,e){if(nh=-1,rh=0,Me&6)throw Error(q(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=kh(t,t===Dt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qh(t,r);else{e=r;var i=Me;Me|=2;var s=bT();(Dt!==t||Gt!==e)&&(oi=null,fa=vt()+500,$s(t,e));do try{$3();break}catch(u){wT(t,u)}while(1);w0(),Vh.current=s,Me=i,xt!==null?e=0:(Dt=null,Gt=0,e=Tt)}if(e!==0){if(e===2&&(i=ig(t),i!==0&&(r=i,e=Mg(t,i))),e===1)throw n=ql,$s(t,0),ji(t,r),mn(t,vt()),n;if(e===6)ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!H3(i)&&(e=Qh(t,r),e===2&&(s=ig(t),s!==0&&(r=s,e=Mg(t,s))),e===1))throw n=ql,$s(t,0),ji(t,r),mn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Os(t,hn,oi);break;case 3:if(ji(t,r),(r&130023424)===r&&(e=B0+500-vt(),10<e)){if(kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dg(Os.bind(null,t,hn,oi),e);break}Os(t,hn,oi);break;case 4:if(ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z3(r/1960))-r,10<r){t.timeoutHandle=dg(Os.bind(null,t,hn,oi),r);break}Os(t,hn,oi);break;case 5:Os(t,hn,oi);break;default:throw Error(q(329))}}}return mn(t,vt()),t.callbackNode===n?xT.bind(null,t):null}function Mg(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&($s(t,e).flags|=256),t=Qh(t,e),t!==2&&(e=hn,hn=n,e!==null&&Ng(e)),t}function Ng(t){hn===null?hn=t:hn.push.apply(hn,t)}function H3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~O0,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function gx(t){if(Me&6)throw Error(q(327));ra();var e=kh(t,0);if(!(e&1))return mn(t,vt()),null;var n=Qh(t,e);if(t.tag!==0&&n===2){var r=ig(t);r!==0&&(e=r,n=Mg(t,r))}if(n===1)throw n=ql,$s(t,0),ji(t,e),mn(t,vt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,hn,oi),mn(t,vt()),null}function L0(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(fa=vt()+500,bd&&ms())}}function Js(t){Xi!==null&&Xi.tag===0&&!(Me&6)&&ra();var e=Me;Me|=1;var n=Vn.transition,r=He;try{if(Vn.transition=null,He=1,t)return t()}finally{He=r,Vn.transition=n,Me=e,!(Me&6)&&ms()}}function F0(){Sn=Wo.current,Ye(Wo)}function $s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_3(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(v0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:ha(),Ye(fn),Ye(Zt),A0();break;case 5:C0(r);break;case 4:ha();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:b0(r.type._context);break;case 22:case 23:F0()}n=n.return}if(Dt=t,xt=t=rs(t.current,null),Gt=Sn=e,Tt=0,ql=null,O0=Cd=Zs=0,hn=wl=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return t}function wT(t,e){do{var n=xt;try{if(w0(),Jc.current=Wh,jh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jh=!1}if(qs=0,Nt=St=st=null,yl=!1,Yl=0,D0.current=null,n===null||n.return===null){Tt=1,ql=e,xt=null;break}e:{var s=t,o=n.return,u=n,h=e;if(e=Gt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,m=u,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=rx(o);if(g!==null){g.flags&=-257,ix(g,o,u,s,e),g.mode&1&&nx(s,d,e),e=g,h=d;var v=e.updateQueue;if(v===null){var b=new Set;b.add(h),e.updateQueue=b}else v.add(h);break e}else{if(!(e&1)){nx(s,d,e),U0();break e}h=Error(q(426))}}else if(Ze&&u.mode&1){var E=rx(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ix(E,o,u,s,e),y0(da(h,u));break e}}s=h=da(h,u),Tt!==4&&(Tt=2),wl===null?wl=[s]:wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=iT(s,h,e);Q1(s,x);break e;case 1:u=h;var S=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ts===null||!ts.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=sT(s,u,e);Q1(s,C);break e}}s=s.return}while(s!==null)}TT(n)}catch(P){e=P,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function bT(){var t=Vh.current;return Vh.current=Wh,t===null?Wh:t}function U0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||!(Zs&268435455)&&!(Cd&268435455)||ji(Dt,Gt)}function Qh(t,e){var n=Me;Me|=2;var r=bT();(Dt!==t||Gt!==e)&&(oi=null,$s(t,e));do try{G3();break}catch(i){wT(t,i)}while(1);if(w0(),Me=n,Vh.current=r,xt!==null)throw Error(q(261));return Dt=null,Gt=0,Tt}function G3(){for(;xt!==null;)ST(xt)}function $3(){for(;xt!==null&&!pN();)ST(xt)}function ST(t){var e=CT(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?TT(t):xt=e,D0.current=null}function TT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B3(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,xt=null;return}}else if(n=O3(n,e,Sn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Os(t,e,n){var r=He,i=Vn.transition;try{Vn.transition=null,He=1,j3(t,e,n,r)}finally{Vn.transition=i,He=r}return null}function j3(t,e,n,r){do ra();while(Xi!==null);if(Me&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TN(t,s),t===Dt&&(xt=Dt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oc||(Oc=!0,AT(Rh,function(){return ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=He;He=1;var u=Me;Me|=4,D0.current=null,F3(t,n),vT(n,t),c3(cg),Mh=!!ug,cg=ug=null,t.current=n,U3(n),mN(),Me=u,He=o,Vn.transition=s}else t.current=n;if(Oc&&(Oc=!1,Xi=t,Yh=i),s=t.pendingLanes,s===0&&(ts=null),vN(n.stateNode),mn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xh)throw Xh=!1,t=Rg,Rg=null,t;return Yh&1&&t.tag!==0&&ra(),s=t.pendingLanes,s&1?t===kg?bl++:(bl=0,kg=t):bl=0,ms(),null}function ra(){if(Xi!==null){var t=rS(Yh),e=Vn.transition,n=He;try{if(Vn.transition=null,He=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,Yh=0,Me&6)throw Error(q(331));var i=Me;for(Me|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var d=u[h];for(ue=d;ue!==null;){var m=ue;switch(m.tag){case 0:case 11:case 15:xl(8,m,s)}var c=m.child;if(c!==null)c.return=m,ue=c;else for(;ue!==null;){m=ue;var f=m.sibling,g=m.return;if(mT(m),m===d){ue=null;break}if(f!==null){f.return=g,ue=f;break}ue=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ue=x;break e}ue=s.return}}var S=t.current;for(ue=S;ue!==null;){o=ue;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ue=T;else e:for(o=S;ue!==null;){if(u=ue,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ed(9,u)}}catch(P){ct(u,u.return,P)}if(u===o){ue=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ue=C;break e}ue=u.return}}if(Me=i,ms(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(_d,t)}catch{}r=!0}return r}finally{He=n,Vn.transition=e}}return!1}function _x(t,e,n){e=da(n,e),e=iT(t,e,1),t=es(t,e,1),e=nn(),t!==null&&(nu(t,1,e),mn(t,e))}function ct(t,e,n){if(t.tag===3)_x(t,t,n);else for(;e!==null;){if(e.tag===3){_x(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){t=da(n,t),t=sT(e,t,1),e=es(e,t,1),t=nn(),e!==null&&(nu(e,1,t),mn(e,t));break}}e=e.return}}function W3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Gt&n)===n&&(Tt===4||Tt===3&&(Gt&130023424)===Gt&&500>vt()-B0?$s(t,0):O0|=n),mn(t,e)}function ET(t,e){e===0&&(t.mode&1?(e=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):e=1);var n=nn();t=yi(t,e),t!==null&&(nu(t,e,n),mn(t,n))}function V3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ET(t,n)}function X3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ET(t,n)}var CT;CT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,D3(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ze&&e.flags&1048576&&IS(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;th(t,e),t=e.pendingProps;var i=la(e,Zt.current);na(e,n),i=I0(null,e,r,t,i,n);var s=R0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,Lh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,T0(e),i.updater=Sd,e.stateNode=i,i._reactInternals=e,yg(e,r,t,n),e=bg(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&_0(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(th(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Q3(r),t=lr(r,t),i){case 0:e=wg(null,e,r,t,n);break e;case 1:e=ax(null,e,r,t,n);break e;case 11:e=sx(null,e,r,t,n);break e;case 14:e=ox(null,e,r,lr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),wg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),ax(t,e,r,i,n);case 3:e:{if(uT(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NS(t,e),Gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(q(423)),e),e=lx(t,e,r,n,i);break e}else if(r!==i){i=da(Error(q(424)),e),e=lx(t,e,r,n,i);break e}else for(Tn=Ji(e.stateNode.containerInfo.firstChild),Cn=e,Ze=!0,dr=null,n=LS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=xi(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return FS(e),t===null&&gg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hg(r,i)?o=null:s!==null&&hg(r,s)&&(e.flags|=32),lT(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&gg(e),null;case 13:return cT(t,e,n);case 4:return E0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),sx(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(zh,r._currentValue),r._currentValue=o,s!==null)if(wr(s.value,o)){if(s.children===i.children&&!fn.current){e=xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=mi(-1,n&-n),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?h.next=h:(h.next=m.next,m.next=h),d.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),_g(s.return,n,e),u.lanes|=n;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_g(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=Yn(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),ox(t,e,r,i,n);case 15:return oT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),th(t,e),e.tag=1,pn(r)?(t=!0,Lh(e)):t=!1,na(e,n),OS(e,r,i),yg(e,r,i,n),bg(null,e,r,!0,t,n);case 19:return hT(t,e,n);case 22:return aT(t,e,n)}throw Error(q(156,e.tag))};function AT(t,e){return Jb(t,e)}function Y3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new Y3(t,e,n,r)}function z0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q3(t){if(typeof t=="function")return z0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===s0)return 11;if(t===o0)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ih(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")z0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oo:return js(n.children,i,s,e);case i0:o=8,i|=8;break;case $m:return t=Wn(12,n,e,i|2),t.elementType=$m,t.lanes=s,t;case jm:return t=Wn(13,n,e,i),t.elementType=jm,t.lanes=s,t;case Wm:return t=Wn(19,n,e,i),t.elementType=Wm,t.lanes=s,t;case Bb:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Db:o=10;break e;case Ob:o=9;break e;case s0:o=11;break e;case o0:o=14;break e;case Fi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function js(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=Bb,t.lanes=n,t.stateNode={isHidden:!1},t}function Yp(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Qp(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ip(0),this.expirationTimes=Ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H0(t,e,n,r,i,s,o,u,h){return t=new K3(t,e,n,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(s),t}function q3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PT(t){if(!t)return hs;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(pn(n))return AS(t,n,e)}return e}function IT(t,e,n,r,i,s,o,u,h){return t=H0(n,r,!0,t,i,s,o,u,h),t.context=PT(null),n=t.current,r=nn(),i=ns(n),s=mi(r,i),s.callback=e??null,es(n,s,i),t.current.lanes=i,nu(t,i,r),mn(t,r),t}function Pd(t,e,n,r){var i=e.current,s=nn(),o=ns(i);return n=PT(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=es(i,e,o),t!==null&&(xr(t,i,o,s),Zc(t,i,o)),o}function Kh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G0(t,e){vx(t,e),(t=t.alternate)&&vx(t,e)}function Z3(){return null}var RT=typeof reportError=="function"?reportError:function(t){console.error(t)};function $0(t){this._internalRoot=t}Id.prototype.render=$0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pd(t,e,null,null)};Id.prototype.unmount=$0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Pd(null,t,null,null)}),e[vi]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=oS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&lS(t)}};function j0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yx(){}function J3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Kh(o);s.call(d)}}var o=IT(e,r,t,0,null,!1,!1,"",yx);return t._reactRootContainer=o,t[vi]=o.current,$l(t.nodeType===8?t.parentNode:t),Js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=Kh(h);u.call(d)}}var h=H0(t,0,!1,null,null,!1,!1,"",yx);return t._reactRootContainer=h,t[vi]=h.current,$l(t.nodeType===8?t.parentNode:t),Js(function(){Pd(e,h,n,r)}),h}function kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=Kh(o);u.call(h)}}Pd(e,o,t,i)}else o=J3(n,e,t,i,r);return Kh(o)}iS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(u0(e,n|1),mn(e,vt()),!(Me&6)&&(fa=vt()+500,ms()))}break;case 13:Js(function(){var r=yi(t,1);if(r!==null){var i=nn();xr(r,t,1,i)}}),G0(t,1)}};c0=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=nn();xr(e,t,134217728,n)}G0(t,134217728)}};sS=function(t){if(t.tag===13){var e=ns(t),n=yi(t,e);if(n!==null){var r=nn();xr(n,t,e,r)}G0(t,e)}};oS=function(){return He};aS=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};tg=function(t,e,n){switch(e){case"input":if(Ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wd(r);if(!i)throw Error(q(90));Fb(r),Ym(r,i)}}}break;case"textarea":zb(t,n);break;case"select":e=n.value,e!=null&&Zo(t,!!n.multiple,e,!1)}};Xb=L0;Yb=Js;var eD={usingClientEntryPoint:!1,Events:[iu,Uo,wd,Wb,Vb,L0]},el={findFiberByHostInstance:Fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tD={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qb(t),t===null?null:t.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||Z3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{_d=Bc.inject(tD),jr=Bc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j0(e))throw Error(q(200));return q3(t,e,null,n)};Pn.createRoot=function(t,e){if(!j0(t))throw Error(q(299));var n=!1,r="",i=RT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H0(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,$l(t.nodeType===8?t.parentNode:t),new $0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=qb(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Js(t)};Pn.hydrate=function(t,e,n){if(!Rd(e))throw Error(q(200));return kd(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!j0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IT(e,null,t,1,n??null,i,!1,s,o),t[vi]=e.current,$l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Id(e)};Pn.render=function(t,e,n){if(!Rd(e))throw Error(q(200));return kd(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(q(40));return t._reactRootContainer?(Js(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};Pn.unstable_batchedUpdates=L0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rd(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return kd(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Pn})(ZM);var kT,xx=zm;kT=xx.createRoot,xx.hydrateRoot;function nD({children:t}){return R("div",{id:"App",className:"app-mod",children:t})}function rD(t){kT(document.getElementById("root")).render(R(nD,{children:t}))}var sh={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-sh.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?sh.Bounce.In(t*2)*.5:sh.Bounce.Out(t*2-1)*.5+.5}}},cl;typeof self>"u"&&typeof process<"u"&&process.hrtime?cl=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?cl=self.performance.now.bind(self.performance):Date.now!==void 0?cl=Date.now:cl=function(){return new Date().getTime()};var Ro=cl,iD=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,n){e===void 0&&(e=Ro()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!n;s&&s.update(e,o)===!1&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),hl={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=hl.Utils.Linear;return e<0?s(t[0],t[1],r):e>1?s(t[n],t[n-1],n-r):s(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,s=hl.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-e,r-o)*i(e,o)*t[o]*s(r,o);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=hl.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),s(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):s(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=hl.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var s=(n-t)*.5,o=(r-e)*.5,u=i*i,h=i*u;return(2*e-2*n+s+o)*h+(-3*e+3*n-2*s-o)*u+s*i+e}}},MT=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),NT=new iD,W0=function(){function t(e,n){n===void 0&&(n=NT),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=sh.Linear.None,this._interpolationFunction=hl.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=MT.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,n){return this._valuesEnd=Object.create(e),n!==void 0&&(this._duration=n),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?Ro()+parseFloat(e):e:Ro(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,n,r,i){for(var s in r){var o=e[s],u=Array.isArray(o),h=u?"array":typeof o,d=!u&&Array.isArray(r[s]);if(!(h==="undefined"||h==="function")){if(d){var m=r[s];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,o)),r[s]=[o].concat(m)}if((h==="object"||u)&&o&&!d){n[s]=u?[]:{};for(var c in o)n[s][c]=o[c];i[s]=u?[]:{},this._setupProperties(o,n[s],r[s],i[s])}else typeof n[s]>"u"&&(n[s]=o),u||(n[s]*=1),d?i[s]=r[s].slice().reverse():i[s]=n[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=Ro()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=Ro()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){if(e===void 0&&(e=Ro()),n===void 0&&(n=!0),this._isPaused)return!0;var r,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;n&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,h=this._chainedTweens.length;u<h;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var s in r)if(n[s]!==void 0){var o=n[s]||0,u=r[s],h=Array.isArray(e[s]),d=Array.isArray(u),m=!h&&d;m?e[s]=this._interpolationFunction(u,i):typeof u=="object"&&u?this._updateProperties(e[s],o,u,i):(u=this._handleRelativeValue(o,u),typeof u=="number"&&(e[s]=o+(u-o)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t}();MT.nextId;var Qr=NT;Qr.getAll.bind(Qr);Qr.removeAll.bind(Qr);Qr.add.bind(Qr);Qr.remove.bind(Qr);var sD=Qr.update.bind(Qr);function Dg(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Kp=function(){return Math.random().toString(36).substring(7).split("").join(".")},wx={INIT:"@@redux/INIT"+Kp(),REPLACE:"@@redux/REPLACE"+Kp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Kp()}};function oD(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:wx.INIT});if(typeof r>"u")throw new Error(Dg(12));if(typeof n(void 0,{type:wx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dg(13))})}function aD(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{oD(n)}catch(u){o=u}return function(h,d){if(h===void 0&&(h={}),o)throw o;for(var m=!1,c={},f=0;f<s.length;f++){var g=s[f],v=n[g],b=h[g],E=v(b,d);if(typeof E>"u")throw d&&d.type,new Error(Dg(14));c[g]=E,m=m||E!==b}return m=m||s.length!==Object.keys(h).length,m?c:h}}const lD=(t={},e)=>t;function uD(){return{game:{url:VM(),table:To("table")||{}}}}const cD=(t={},e)=>{switch(e.type){case GR:return{};case $R:return{...t,amount:e.value.amount,currency:e.value.currency};case jR:return{...t,amount:e.value.amount};default:return t}},hD={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,amount:0}},dD=(t={},e)=>{switch(e.type){case db:return{...t,soundOn:e.value};case WR:return{...t};case Kg:return{...t,menuOn:e.value};case qg:return{...t,payTableOn:e.value};case Zg:return{...t,betPanelOn:e.value};case Jg:return{...t,autoSpinPanelOn:e.value};default:return t}},fD={setting:{soundOn:!0,volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1}},pD=(t={},e)=>{switch(e.type){case fb:let n=t.status;return t.status=="idle"?n="spin":t.status=="stopping"?t.responseModel.linewin.length==0?n="idle":n="showWinAmount":(t.status=="showWinLine"||t.status=="showWinAmount")&&(n="spin"),{...t,status:n};case pb:let r=t.autoSpinCount;return r!=0&&r!="∞"&&--r,{...t,status:"stopping",responseModel:e.value,autoSpinCount:r};case mb:return{...t,status:"showWinAmount"};case gb:return{...t,status:"showWinLine"};case e0:return{...t,status:"idle"};case _b:return{...t,betAmount:e.value};case vb:return{...t,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit,status:"spin"};case VR:{let i=t.autoSpinCount;return i!="∞"&&--i,{...t,autoSpinCount:i}}case yb:return{...t,autoSpinCount:0};default:return t}},mD={spin:{status:"idle",autoSpinCount:0,betAmount:.01,stopAutoSpinLimit:{totalBetTimes:0,signleWin:0,balanceTo:0}}},gD=(t={},e)=>{let n=[].concat(t.scenes);switch(e.type){case XR:return n.push(e.value),{...t,scenes:n};case YR:return n.pop(),{...t,scenes:n};case xb:return n.pop(),n.push(e.value),{...t,scenes:n};case QR:return{...t};default:return t}},_D={sceneManager:{scenes:["preload"]}};function vD(){let t=Ua("user")||cD,e=Ua("setting")||dD,n=Ua("spin")||pD,r=Ua("scene")||gD,i=Ua("reducers");return aD({game:lD,user:t,setting:e,spin:n,sceneManager:r,...i})}function yD(){let t=To("user")||hD,e=To("setting")||fD,n=To("spin")||mD,r=To("scene")||_D,i=To("reducers")||{};return OC(t,e,n,r,uD(),i)}const xD=jC(),wD=VC("spin"),bD=()=>{const{state:t,dispatch:e}=Y.useContext(Be),{status:n}=t.spin,{loggingIn:r}=t.user,i=t.game.table;return Y.useEffect(()=>{n=="spin"&&xD.spin().then(s=>{let o=new wD(s,i),u=setTimeout(()=>{clearTimeout(u),e({type:pb,value:o})},1e3)})},[n]),Y.useEffect(()=>{},[r]),R(wi,{})},bx=document.querySelector("html"),SD=()=>{const t=_e.useApp();function e(){let n=window.innerWidth,r=window.innerHeight,i=t.renderer.width,s=t.renderer.height;if(n!==i&&r!==s){const o=document.getElementById("App");let u,h,d=0,m=0;if(r/n<=540/960){let c=r/540;bx.style.fontSize=`${20*c}px`,t.stage.scale.set(c),u=r/(540/960),h=r,d=(n-u)/2}else{let c=n/960;bx.style.fontSize=`${20*c}px`,t.stage.scale.set(c),u=window.innerWidth,h=540/960*window.innerWidth,m=(r-h)/2}t.renderer.resize(u,h),o.style.width=`${u}px`,o.style.height=`${h}px`,o.style.top=`${m}px`,o.style.left=`${d}px`}}return Y.useEffect(()=>{window.onresize=e,e()},[]),R(wi,{})};var oh={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||n;if(c=parseFloat(c),f.ctx||m(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var v=f._howls[g]._getSoundIds(),b=0;b<v.length;b++){var E=f._howls[g]._soundById(v[b]);E&&E._node&&(E._node.volume=E._volume*c)}return f}return f._volume},mute:function(c){var f=this||n;f.ctx||m(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,n.ctx.currentTime);for(var g=0;g<f._howls.length;g++)if(!f._howls[g]._webAudio)for(var v=f._howls[g]._getSoundIds(),b=0;b<v.length;b++){var E=f._howls[g]._soundById(v[b]);E&&E._node&&(E._node.muted=c?!0:E._muted)}return f},stop:function(){for(var c=this||n,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||n,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,m()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",b=v.match(/OPR\/([0-6].)/g),E=b&&parseInt(b[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,S=v.match(/Version\/(.*?) /),T=x&&S&&parseInt(S[1],10)<15;return c._codecs={mp3:!!(!E&&(g||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(g){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var b=0;b<c._howls.length;b++)if(!c._howls[b]._webAudio)for(var E=c._howls[b]._getSoundIds(),x=0;x<E.length;x++){var S=c._howls[b]._soundById(E[x]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}c._autoResume();var T=c.ctx.createBufferSource();T.buffer=c._scratchBuffer,T.connect(c.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),T.onended=function(){T.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var C=0;C<c._howls.length;C++)c._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||n;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var g=0;g<c._howls[f]._sounds.length;g++)if(!c._howls[f]._sounds[g]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};r.prototype={init:function(c){var f=this;return n.ctx||m(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var g=0;g<c._src.length;g++){var v,b;if(c._format&&c._format[g])v=c._format[g];else{if(b=c._src[g],typeof b!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(b),v||(v=/\.([^.]+)$/.exec(b.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&n.codecs(v)){f=c._src[g];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,f){var g=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&g._state==="loaded"&&!g._sprite[c])return null;if(typeof c>"u"&&(c="__default",!g._playLock)){for(var b=0,E=0;E<g._sounds.length;E++)g._sounds[E]._paused&&!g._sounds[E]._ended&&(b++,v=g._sounds[E]._id);b===1?c=null:v=null}}var x=v?g._soundById(v):g._inactiveSound();if(!x)return null;if(v&&!c&&(c=x._sprite||"__default"),g._state!=="loaded"){x._sprite=c,x._ended=!1;var S=x._id;return g._queue.push({event:"play",action:function(){g.play(S)}}),S}if(v&&!x._paused)return f||g._loadQueue("play"),x._id;g._webAudio&&n._autoResume();var T=Math.max(0,x._seek>0?x._seek:g._sprite[c][0]/1e3),C=Math.max(0,(g._sprite[c][0]+g._sprite[c][1])/1e3-T),P=C*1e3/Math.abs(x._rate),D=g._sprite[c][0]/1e3,N=(g._sprite[c][0]+g._sprite[c][1])/1e3;x._sprite=c,x._ended=!1;var O=function(){x._paused=!1,x._seek=T,x._start=D,x._stop=N,x._loop=!!(x._loop||g._sprite[c][2])};if(T>=N){g._ended(x);return}var H=x._node;if(g._webAudio){var X=function(){g._playLock=!1,O(),g._refreshBuffer(x);var z=x._muted||g._muted?0:x._volume;H.gain.setValueAtTime(z,n.ctx.currentTime),x._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?x._loop?H.bufferSource.noteGrainOn(0,T,86400):H.bufferSource.noteGrainOn(0,T,C):x._loop?H.bufferSource.start(0,T,86400):H.bufferSource.start(0,T,C),P!==1/0&&(g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P)),f||setTimeout(function(){g._emit("play",x._id),g._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?X():(g._playLock=!0,g.once("resume",X),g._clearTimer(x._id))}else{var Q=function(){H.currentTime=T,H.muted=x._muted||g._muted||n._muted||H.muted,H.volume=x._volume*n.volume(),H.playbackRate=x._rate;try{var z=H.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(g._playLock=!0,O(),z.then(function(){g._playLock=!1,H._unlocked=!0,f?g._loadQueue():g._emit("play",x._id)}).catch(function(){g._playLock=!1,g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(g._playLock=!1,O(),g._emit("play",x._id)),H.playbackRate=x._rate,H.paused){g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||x._loop?g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),P):(g._endTimers[x._id]=function(){g._ended(x),H.removeEventListener("ended",g._endTimers[x._id],!1)},H.addEventListener("ended",g._endTimers[x._id],!1))}catch(ye){g._emit("playerror",x._id,ye)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=g._src,H.load());var re=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||re)Q();else{g._playLock=!0,g._state="loading";var V=function(){g._state="loaded",Q(),H.removeEventListener(n._canPlayEvent,V,!1)};H.addEventListener(n._canPlayEvent,V,!1),g._clearTimer(x._id)}}return x._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var g=f._getSoundIds(c),v=0;v<g.length;v++){f._clearTimer(g[v]);var b=f._soundById(g[v]);if(b&&!b._paused&&(b._seek=f.seek(g[v]),b._rateSeek=0,b._paused=!0,f._stopFade(g[v]),b._node))if(f._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),f._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||f._emit("pause",b?b._id:null)}return f},stop:function(c,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(c)}}),g;for(var v=g._getSoundIds(c),b=0;b<v.length;b++){g._clearTimer(v[b]);var E=g._soundById(v[b]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,g._stopFade(v[b]),E._node&&(g._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),g._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&g._clearSound(E._node))),f||g._emit("stop",E._id))}return g},mute:function(c,f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(c,f)}}),g;if(typeof f>"u")if(typeof c=="boolean")g._muted=c;else return g._muted;for(var v=g._getSoundIds(f),b=0;b<v.length;b++){var E=g._soundById(v[b]);E&&(E._muted=c,E._interval&&g._stopFade(E._id),g._webAudio&&E._node?E._node.gain.setValueAtTime(c?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:c),g._emit("mute",E._id))}return g},volume:function(){var c=this,f=arguments,g,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):g=parseFloat(f[0])}else f.length>=2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof g<"u"&&g>=0&&g<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=g),v=c._getSoundIds(v);for(var S=0;S<v.length;S++)x=c._soundById(v[S]),x&&(x._volume=g,f[2]||c._stopFade(v[S]),c._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(g,n.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=g*n.volume()),c._emit("volume",x._id))}else return x=v?c._soundById(v):c._sounds[0],x?x._volume:0;return c},fade:function(c,f,g,v){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(c,f,g,v)}}),b;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),b.volume(c,v);for(var E=b._getSoundIds(v),x=0;x<E.length;x++){var S=b._soundById(E[x]);if(S){if(v||b._stopFade(E[x]),b._webAudio&&!S._muted){var T=n.ctx.currentTime,C=T+g/1e3;S._volume=c,S._node.gain.setValueAtTime(c,T),S._node.gain.linearRampToValueAtTime(f,C)}b._startFadeInterval(S,c,f,g,E[x],typeof v>"u")}}return b},_startFadeInterval:function(c,f,g,v,b,E){var x=this,S=f,T=g-f,C=Math.abs(T/.01),P=Math.max(4,C>0?v/C:v),D=Date.now();c._fadeTo=g,c._interval=setInterval(function(){var N=(Date.now()-D)/v;D=Date.now(),S+=T*N,S=Math.round(S*100)/100,T<0?S=Math.max(g,S):S=Math.min(g,S),x._webAudio?c._volume=S:x.volume(S,c._id,!0),E&&(x._volume=S),(g<f&&S<=g||g>f&&S>=g)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,x.volume(g,c._id),x._emit("fade",c._id))},P)},_stopFade:function(c){var f=this,g=f._soundById(c);return g&&g._interval&&(f._webAudio&&g._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(g._interval),g._interval=null,f.volume(g._fadeTo,c),g._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,g,v,b;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")g=f[0],c._loop=g;else return b=c._soundById(parseInt(f[0],10)),b?b._loop:!1;else f.length===2&&(g=f[0],v=parseInt(f[1],10));for(var E=c._getSoundIds(v),x=0;x<E.length;x++)b=c._soundById(E[x]),b&&(b._loop=g,c._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=g,g&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,c.playing(E[x])&&(c.pause(E[x],!0),c.play(E[x],!0)))));return c},rate:function(){var c=this,f=arguments,g,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):g=parseFloat(f[0])}else f.length===2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof g=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=g),v=c._getSoundIds(v);for(var S=0;S<v.length;S++)if(x=c._soundById(v[S]),x){c.playing(v[S])&&(x._rateSeek=c.seek(v[S]),x._playStart=c._webAudio?n.ctx.currentTime:x._playStart),x._rate=g,c._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(g,n.ctx.currentTime):x._node&&(x._node.playbackRate=g);var T=c.seek(v[S]),C=(c._sprite[x._sprite][0]+c._sprite[x._sprite][1])/1e3-T,P=C*1e3/Math.abs(x._rate);(c._endTimers[v[S]]||!x._paused)&&(c._clearTimer(v[S]),c._endTimers[v[S]]=setTimeout(c._ended.bind(c,x),P)),c._emit("rate",x._id)}}else return x=c._soundById(v),x?x._rate:c._rate;return c},seek:function(){var c=this,f=arguments,g,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var b=c._getSoundIds(),E=b.indexOf(f[0]);E>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,g=parseFloat(f[0]))}else f.length===2&&(g=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof g=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var x=c._soundById(v);if(x)if(typeof g=="number"&&g>=0){var S=c.playing(v);S&&c.pause(v,!0),x._seek=g,x._ended=!1,c._clearTimer(v),!c._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=g);var T=function(){S&&c.play(v,!0),c._emit("seek",v)};if(S&&!c._webAudio){var C=function(){c._playLock?setTimeout(C,0):T()};setTimeout(C,0)}else T()}else if(c._webAudio){var P=c.playing(v)?n.ctx.currentTime-x._playStart:0,D=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(D+P*Math.abs(x._rate))}else return x._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var g=f._soundById(c);return g?!g._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,g=f._duration,v=f._soundById(c);return v&&(g=f._sprite[v._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,g=0;g<f.length;g++)f[g]._paused||c.stop(f[g]._id),c._webAudio||(c._clearSound(f[g]._node),f[g]._node.removeEventListener("error",f[g]._errorFn,!1),f[g]._node.removeEventListener(n._canPlayEvent,f[g]._loadFn,!1),f[g]._node.removeEventListener("ended",f[g]._endFn,!1),n._releaseHtml5Audio(f[g]._node)),delete f[g]._node,c._clearTimer(f[g]._id);var v=n._howls.indexOf(c);v>=0&&n._howls.splice(v,1);var b=!0;for(g=0;g<n._howls.length;g++)if(n._howls[g]._src===c._src||c._src.indexOf(n._howls[g]._src)>=0){b=!1;break}return s&&b&&delete s[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,g,v){var b=this,E=b["_on"+c];return typeof f=="function"&&E.push(v?{id:g,fn:f,once:v}:{id:g,fn:f}),b},off:function(c,f,g){var v=this,b=v["_on"+c],E=0;if(typeof f=="number"&&(g=f,f=null),f||g)for(E=0;E<b.length;E++){var x=g===b[E].id;if(f===b[E].fn&&x||!f&&x){b.splice(E,1);break}}else if(c)v["_on"+c]=[];else{var S=Object.keys(v);for(E=0;E<S.length;E++)S[E].indexOf("_on")===0&&Array.isArray(v[S[E]])&&(v[S[E]]=[])}return v},once:function(c,f,g){var v=this;return v.on(c,f,g,1),v},_emit:function(c,f,g){for(var v=this,b=v["_on"+c],E=b.length-1;E>=0;E--)(!b[E].id||b[E].id===f||c==="load")&&(setTimeout(function(x){x.call(this,f,g)}.bind(v,b[E].fn),0),b[E].once&&v.off(c,b[E].fn,b[E].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var g=f._queue[0];g.event===c&&(f._queue.shift(),f._loadQueue()),c||g.action()}return f},_ended:function(c){var f=this,g=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[g][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var b=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),b)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),n._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var g=f._soundById(c);g&&g._node&&g._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,g=0;g<f._sounds.length;g++)if(c===f._sounds[g]._id)return f._sounds[g];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,g=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&g++;for(v=c._sounds.length-1;v>=0;v--){if(g<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),g--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var g=[],v=0;v<f._sounds.length;v++)g.push(f._sounds[v]._id);return g}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=s[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,g=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),g))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,g=n._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(g,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=g*n.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var f=c._src;if(s[f]){c._duration=s[f].duration,d(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),v=new Uint8Array(g.length),b=0;b<g.length;++b)v[b]=g.charCodeAt(b);h(v.buffer,c)}else{var E=new XMLHttpRequest;E.open(c._xhr.method,f,!0),E.withCredentials=c._xhr.withCredentials,E.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(x){E.setRequestHeader(x,c._xhr.headers[x])}),E.onload=function(){var x=(E.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}h(E.response,c)},E.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[f],c.load())},u(E)}},u=function(c){try{c.send()}catch{c.onerror()}},h=function(c,f){var g=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(b){b&&f._sounds.length>0?(s[f._src]=b,d(f,b)):g()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(v).catch(g):n.ctx.decodeAudioData(c,v,g)},d=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=f?parseInt(f[1],10):null;if(c&&g&&g<9){var v=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!v&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof zi<"u"?(zi.HowlerGlobal=e,zi.Howler=n,zi.Howl=r,zi.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,o,u){var h=this;if(!h.ctx||!h.ctx.listener)return h;var d=h._orientation;if(r=typeof r!="number"?d[1]:r,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,u=typeof u!="number"?d[5]:u,typeof n=="number")h._orientation=[n,r,i,s,o,u],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(n,r,i,s,o,u);else return d;return h},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var o=i._getSoundIds(r),u=0;u<o.length;u++){var h=i._soundById(o[u]);if(h)if(typeof n=="number")h._stereo=n,h._pos=[n,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(n,0,0):h._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",h._id);else return h._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")o._pos=[n,r,i];else return o._pos;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var d=o._soundById(u[h]);if(d)if(typeof n=="number")d._pos=[n,r,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(n,r,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof n=="number")o._orientation=[n,r,i];else return o._orientation;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var d=o._soundById(u[h]);if(d)if(typeof n=="number")d._orientation=[n,r,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var u=n._getSoundIds(s),h=0;h<u.length;h++)if(o=n._soundById(u[h]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var m=o._panner;m?(m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel):(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(oh);class TD{constructor(){pt(this,"channels",{})}exist(e,n){let r=this.channels[e];return Yi(e)&&Yi(r[n])}add(e,n,r,i=1){let s=this.channels[e];Tl(s)&&(s={},this.channels[e]=s),Yi(s[n])&&console.warn(`sound "${n}" is existing in channel "${e}"`);let o={channelId:e,name:n,soundId:r,volume:i};return s[n]=o,o}getPlaybackBy(e){for(let n in this.channels){let r=this.channels[n];for(let i in r)if(e(r[i]))return r[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(n=>n.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(n=>n.name==e)}removeBy(e){for(let n in this.channels){let r=this.channels[n];for(let i in r){let s=r[i];e(s)&&(delete r[i],DC(r)&&delete this.channels[n])}}}removeBySoundId(e){return this.removeBy(n=>n.soundId==e)}removeBySoundName(e){return this.removeBy(n=>n.name==e)}}const X0=class{constructor(){pt(this,"howlers",{});pt(this,"_muted",!1);pt(this,"_volume",1);pt(this,"bgm");pt(this,"channelManager");this.channelManager=new TD}static get Obj(){return this._Obj||(this._Obj=new X0),this._Obj}startup(){this.muted=this._muted,this.volume=this._volume}getSoundIdBySoundName(e){let n=this.channelManager.getPlaybackBySoundName(e);if(n)return n.soundId}getChannelIdBySoundName(e){let n=this.channelManager.getPlaybackBySoundName(e);if(n)return n.channelId}play(e,n,r=1){let i=this.channelManager.getPlaybackBySoundName(n);if(i&&i.channelId==e)this.getSoundPlayer(i.channelId).play(i.soundId);else{let s=this.getSoundPlayer(e),o=s.mute();s.mute(!0);let u=s.play(n);s.volume(r,u),o||s.mute(!1),i=this.channelManager.add(e,n,u,r)}return i}playBgm(e,n,r=1){this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);let i=this.getSoundPlayer(e),s=i.play(n);i.volume(r,s),this.channelManager.add(e,n,s,r),this.bgm={channelId:e,name:n}}isReady(e){return Yi(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){let n=wM(e);if(Yi(n)){n.onend=i=>{e==this.bgm.channelId?this.restartBgm(this.bgm.name):this.channelManager.removeBySoundId(i)};let r=new oh.Howl(n);this.howlers[e]=r}}return this.howlers[e]}resume(){for(let e in this.channelManager.channels){let n=this.channelManager.channels[e];for(let r in n)this.getSoundPlayer(e).play(n[r].channelId)}}pause(e,n){let r=this.getSoundIdBySoundName(n);r&&this.getSoundPlayer(e).pause(r)}pauseBgm(e="bgm"){let n=this.channelManager.getPlaybackBySoundName(e);n&&this.getSoundPlayer(n.channelId).pause(n.soundId)}restartBgm(e="bgm"){let n=this.channelManager.getPlaybackBySoundName(e);n&&this.getSoundPlayer(n.channelId).play(n.channelId)}stop(e,n){let r=this.getSoundIdBySoundName(n);r&&(this.channelManager.removeBySoundId(r),this.getSoundPlayer(e).stop(r))}setVolume(e,n,r){let i=this.getSoundIdBySoundName(n);i&&this.getSoundPlayer(e).volume(r,i)}setBgVolume(e){if(this.bgm){let n=this.getSoundIdBySoundName(this.bgm.name);n&&this.getSoundPlayer(this.bgm.channelId).volume(e,n)}}get volume(){return this._volume}set volume(e){this._volume=this.volume,this._muted||oh.Howler.volume(e)}get muted(){return this._muted}set muted(e){this._muted=e,oh.Howler.mute(e)}};let Ws=X0;pt(Ws,"_Obj");const ED=()=>{const{state:t}=Y.useContext(Be),{soundOn:e,volume:n}=t.setting;return Y.useEffect(()=>{Ws.Obj.muted=!e},[e]),Y.useEffect(()=>{},[n]),R(wi,{})},CD=({children:t,Context:e,render:n})=>R(e.Consumer,{children:r=>n(R(e.Provider,{value:r,children:t}))}),AD=vD(),PD=yD(),ID=({children:t,...e})=>{const[n,r]=Y.useReducer(AD,PD);Array.isArray(t)||(t=[t]);let[i,...s]=Y.Children.map(t,o=>o);return ve(Be.Provider,{value:{state:n,dispatch:r},children:[R(CD,{Context:Be,render:o=>ve(_e.Stage,{options:{backgroundColor:1118481,resolution:1,antialias:!0},...e,children:[R(RD,{}),R(SD,{}),o]}),children:i}),s,R(bD,{}),R(ED,{})]})};function RD(){return _e.useTick(t=>{sD()},!0),R(wi,{})}const kD=({children:t})=>{const{state:e}=Y.useContext(Be),{scenes:n}=e.sceneManager;return t.map(r=>{if(n.indexOf(r.props.id)!=-1)return r})},DT=({children:t,...e})=>R(zt,{...e,children:t}),OT=({children:t,onProgress:e,onComplete:n,...r})=>{const{dispatch:i}=Y.useContext(Be);return yM(r.assets,s=>{e&&e(Math.floor(s*100))}).then(n||(s=>{console.log(s),r.next&&i({type:xb,value:r.next})})),R(DT,{...r,children:t})},MD=({children:t,...e})=>{const n=Y.useRef(null);function r(i){n.current.text=`${i}%`}return R(OT,{onProgress:r,...e,children:t||ve(_e.Container,{children:[R(_e.Sprite,{texture:Rb(ob)}),R(_e.Text,{text:"loading",x:480,y:200,ref:n,style:new Xn({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:50,fontWeight:"400",fill:["#ffffff","#00ff99"],stroke:"#01d27e",strokeThickness:5,letterSpacing:20,dropShadow:!0,dropShadowColor:"#ccced2",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440})})]})})},BT=import.meta.url,ND=LR(BT,[]),DD=zR(BT,[{id:zn,src:Xc("src/betPanel/type_1.json")}],HR(12,"json")),OD=({...t})=>R(MD,{assets:DD,...t}),BD=({...t})=>R(OT,{assets:ND,...t}),LD=Jh("viewport"),FD=({children:t,...e})=>R(LD,{...e,children:t}),UD=({children:t,symbolStates:e,...n})=>{const r=Jh("symbol");return R(zt,{...n,children:e.map(({id:i,...s},o)=>R(r,{...s},`symbol_${o}`))})};function ah({children:t,enable:e=!0,...n}){return R(zt,{cursor:"pointer",interactive:e,...n,children:t})}function zD(t){const{state:e,dispatch:n}=Y.useContext(Be),{menuOn:r}=e.setting;function i(){n({type:Kg,value:!r})}return R(ah,{pointerup:i,hitFrame:[-4,-4,50,50],x:50,y:400,...t,children:R(_e.Sprite,{texture:ut(cb,r?"menu-off.png":"menu-on.png")})})}const HD=({children:t,row:e,symbol:n,...r})=>{const i=Jh("symbolActive"),s=Y.useContext(Be).state.game.table.symbolFrame;return R(zt,{...r,children:R(i,{sIndex:n,y:e*s[1]})})};function LT(t){return Math.floor(Math.random()*(t+1))}function GD(t,e,n){return bh(e,()=>bh(t,()=>LT(n)))}function Sx(t,e){let n={};for(let r=0;r<t;r++){let i=r+1;n[r]={status:"idle",k:0,reel:e[r],next:i<t?i:null}}return n}function qp(t,e,n,r=!1,i=0){let s={reelStop:r,reelStopColumn:i,reelStates:[]};for(let o in t){let u=t[o],h=[];if(s.reelStates.push(h),u.status=="idle")for(let d=0;d<u.reel.length;d++)h.push({id:d,y:d*n[1],sIndex:u.reel[d]});else{let d=u.reel.length,m=d-1;for(let c=0;c<u.reel.length;c++){let f=(u.k*e+c)%d;f>m&&(f=f-d);let g=f*n[1];f=Math.ceil(f),h.push({id:c,y:g,sIndex:u.reel[f]})}}}return s}function Zp(t,e,n,r){t.length==e+1&&t.pop(),t.unshift(Yi(r)?r:LT(n))}function $D(t){return t<1?t*t*t:t}function jD(t){let n=t===0?0:--t*t*(2.70158*t+1.70158)+1;return n>1&&(n=1+(n-1)*.2),n}function WD(t){const{children:e,row:n=3,column:r=5,maxSpeed:i=24,maxSymbolIndex:s}=t,{state:o,dispatch:u}=Y.useContext(Be),{status:h,responseModel:d}=o.spin,{symbolSize:m}=o.game.table,[c,f]=Y.useState(GD(n,r,s)),[g,v]=Y.useState(Sx(r,c)),[b,E]=Y.useState(qp(g,i,m));return _e.useTick(()=>{let x=!1,S=0;for(let T in g){let C=g[T],P,D,N;if(C.status=="spin")N=$D((new Date().getTime()-C.time)/1e3),D=N*i,P=C.k*i,D>=Math.floor(P)+1&&Zp(C.reel,n,s),C.k=N;else if(C.status=="stopping"){let O=Math.min(C.stopK,(new Date().getTime()-C.time)/1e3),H=jD(O/C.stopK)*C.stopK;if(N=C.stoppingK+H,D=N*i,P=C.k*i,D>=Math.floor(P)+1){let X=Math.ceil((C.stopK-H)*i)-1;Zp(C.reel,n,s,C.resultReel[X])}if(C.k=N,O==C.stopK)if(x=!0,S=Number(T),C.status="idle",C.reel.shift(),C.next){let X=g[C.next],Q=X.k,re=Math.round(i*(Q+1.3))/i-Q;X.time=new Date().getTime(),X.status="stopping",X.stopK=re,X.stoppingK=Q}else d.linewin.length==0?u({type:e0}):u({type:mb})}}E(qp(g,i,m,x,S)),v(g)},h!="idle"),Y.useEffect(()=>{let x=new Date().getTime();if(h=="showWinLine"||h=="showWinAmount"||h=="idle"&&d){let S=Sx(r,d.reels);v(S),E(qp(S,i,m))}else if(h=="spin"){for(let S in g){let T=g[S];T.time=x,T.status="spin",T.k=0,Zp(T.reel,n,s)}v(g)}else if(h=="stopping"){for(let P in g){let D=g[P];D.resultReel=d.reels[P]}let S=g[0],T=S.k,C=Math.round(i*(T+1.3))/i-T;S.time=x,S.status="stopping",S.stopK=C,S.stoppingK=T,v(g)}},[h]),e(b)}const VD=({path:t,width:e,color:n,border:r,borderColor:i,...s},o)=>{function u(d){d.moveTo(...t[0]);for(let m=1;m<t.length;m++)d.lineTo(...t[m])}const h=Y.useCallback(d=>{d.clear(),r&&(d.lineStyle(r*2+e,i,1),u(d)),d.lineStyle(e,n,1),u(d),d.endFill()},[t,e,n,r,i]);return R(_e.Graphics,{ref:o,draw:h,...s})},XD=Y.forwardRef(VD);function YD(t,e){let n={};for(let r in t.winLinePathMap){let i=R(XD,{...e,path:t.winLinePathMap[r].map(([s,o])=>{let u=s%1,h=s-u;return t.column==h&&(u=1,h=h-1),[h*t.symbolFrame[0]+u*t.symbolSize[0],o*t.symbolFrame[1]]})},`winline_${r}`);n[r]=i}return n}function QD({lineConfig:t,lineId:e,...n}){const{state:r}=Y.useContext(Be),[i,s]=Y.useState({});return Y.useEffect(()=>{s(YD(r.game.table,t))},[]),R(zt,{...n,children:i[e]})}function Og({children:t,from:e,to:n,playing:r,duration:i,repeat:s}){const[o,u]=Y.useState(e),[h,d]=Y.useState(null);return Y.useEffect(()=>{h&&h.end();let m=new W0(e).to(n,i).repeat(s).onUpdate(c=>{u({...c})});d(m)},[r,i,s]),Y.useEffect(()=>{h&&(r?h.isPlaying()||h.start():h.end().stop())},[r,h]),t(o)}const Y0=class{constructor(){pt(this,"keys",[]);pt(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new Y0),this._Obj}onKeyDownHandler(e){if(e&&e.key){let n=e.key.toLowerCase();this.keys.indexOf(n)==-1&&this.keys.push(n)}}onKeyUpHandler(e){if(e&&e.key){let n=e.key.toLowerCase(),r=this.keys.indexOf(n);if(r>-1){let i=`onKey${n==" "?"Space":n}`;this.keysChangedFCMap[i]&&this.keysChangedFCMap[i](),this.keys.splice(r,1)}}}setKeysChangedFC(e,n){this.keysChangedFCMap[e]&&console.error(`repeated keyboard events: ${e}`),this.keysChangedFCMap[e]=n}};let lh=Y0;pt(lh,"_Obj");function KD(t){return Y.useEffect(()=>{let e=lh.Obj;for(let n in t)n.match(/onKey[A-Z]\w+/)&&e.setKeysChangedFC(n,t[n])},[]),R(wi,{})}const qD=({radius:t,color:e,alpha:n=1,...r},i)=>{const s=Y.useCallback(o=>{o.clear(),o.beginFill(e,n),o.drawCircle(0,0,t),o.endFill()},[t,e,n]);return R(_e.Graphics,{ref:i,draw:s,...r})},ZD=Y.forwardRef(qD),JD=new Xn({align:"center",fill:"#333333"});function eO(t){const{state:e,dispatch:n}=Y.useContext(Be),{status:r,autoSpinCount:i}=e.spin,{betPanelOn:s,autoSpinPanelOn:o}=e.setting,u=r=="idle",h=r=="spin",d=r=="stopping",m=h||d,c=i!=0;Y.useEffect(()=>{},[]);function f(){i!=0?n({type:yb}):n({type:Jg,value:!o})}function g(){n({type:Zg,value:!s})}function v(){h||n({type:fb})}return Y.useEffect(()=>{u&&(i=="∞"||i>0)&&v()},[r]),ve(zt,{x:790,y:86,...t,children:[R(KD,{onKeySpace:v}),R(_e.Sprite,{texture:ut(zn,"betpanel-bg.png")}),ve(ah,{pointerup:f,interactive:!m||c,children:[ve(zt,{visible:!c,children:[R(_e.Sprite,{x:76,y:45,anchor:[.5,0],tint:m?8947848:15912821,texture:ut(zn,"icon-autospin.png")}),R(_e.Sprite,{x:76,y:85,anchor:[.5,0],tint:m?8947848:15912821,texture:ut(us,"autospintext-l.png")})]}),ve(zt,{visible:c,children:[R(_e.Sprite,{x:76,y:30,anchor:[.5,0],tint:15912821,texture:ut(zn,"autspincount.png")}),R(_e.Text,{x:76,y:80,anchor:.5,text:`${i}`,style:JD}),R(Og,{from:{rotation:0},to:{rotation:Math.PI*2},duration:2e3,repeat:Number.MAX_VALUE,playing:c,children:({...b})=>R(_e.Sprite,{x:76,y:80,anchor:[.5,.5],tint:15912821,texture:ut(zn,"stopautoeffect.png"),...b})})]})]}),ve(ah,{x:23,y:142,scale:.88,pointerup:v,interactive:!h,children:[ve(zt,{visible:r=="toBonus",children:[R(_e.Sprite,{texture:ut(zn,"play.png")}),R(_e.Sprite,{texture:ut(zn,"spinhint.png")})]}),R(_e.Sprite,{visible:r=="showWinLine"||r=="showWinAmount",texture:ut(zn,"skip.png")}),ve(zt,{visible:u||h,children:[R(_e.Sprite,{texture:ut(zn,"spin.png")}),R(ZD,{visible:h,x:62,y:62,radius:72,alpha:.5}),R(Og,{from:{rotation:0},to:{rotation:Math.PI*2},duration:u?2e4:500,repeat:Number.MAX_VALUE,playing:!0,children:({...b})=>R(_e.Sprite,{x:62,y:62,anchor:[.5,.5],texture:ut(zn,"spinhint.png"),...b})})]}),R(_e.Sprite,{visible:d,texture:ut(zn,"stop.png")})]}),ve(ah,{pointerup:g,interactive:!m,children:[R(_e.Sprite,{x:76,y:280,anchor:[.5,0],tint:m?8947848:15912821,texture:ut(zn,"icon-bet.png")}),R(_e.Sprite,{x:76,y:320,anchor:[.5,0],tint:m?8947848:15912821,texture:ut(us,"bettext.png")})]})]})}function Tx({channelId:t,name:e,volum:n,playing:r=!0}){return Y.useEffect(()=>{r&&Ws.Obj.play(t,e,n)},[t,e,r]),R(wi,{})}function tO({channelId:t,name:e,volum:n,playing:r=!0}){return Y.useEffect(()=>{r?Ws.Obj.playBgm(t,e,n):Ws.Obj.pauseBgm()},[t,e,r]),R(wi,{})}function nO(t,e){return{amount:t?t.lineMultiplier:0,playing:e=="showWinAmount"}}function rO({amount:t,playing:e,...n}){return ve(zt,{...n,visible:e,children:[R(_e.Sprite,{texture:ut(Qg,"win-amount.png")}),R(Og,{from:{k:0},to:{k:t},playing:e,duration:1500,children:({k:r})=>R(_e.BitmapText,{x:292,y:40,anchor:.5,text:r.toFixed(2),style:{fontName:lb,fontSize:50,align:"center"}})})]})}function iO({children:t}){const{state:e,dispatch:n}=Y.useContext(Be),{status:r,responseModel:i}=e.spin,[s,o]=Y.useState();function u(){s&&clearTimeout(s)}return Y.useEffect(()=>{if(r=="showWinAmount"){let h=setTimeout(()=>{n({type:gb})},2e3);o(h)}else u()},[e.spin.status]),t(nO(i,r))}const sO=new Xn({align:"center",fill:"#ffff00"}),oO=[95,200,305],aO=[-12,102,216,330,444],lO=(()=>{let t=[];for(let e=0;e<5;e++){let n=[];t.push(n);for(let r=0;r<3;r++)n.push([aO[e],oO[r]])}return t})();function uO({winAmount:t,configs:e}){let n=e[0]||{column:0,row:0},r=lO[n.column][n.row];return ve(zt,{x:r[0],y:r[1],visible:e.length>0,children:[R(_e.Sprite,{width:130,height:44,texture:ut(Qg,"win-amount-1.png")}),R(_e.Text,{x:65,y:20,anchor:.5,text:`${t}`,style:sO})]})}const cO=({...t})=>{const{state:e,dispatch:n}=Y.useContext(Be);e.game.url;const{row:r,column:i,symbolFrame:s}=e.game.table;return ve(DT,{...t,children:[R(_e.Sprite,{texture:Rb(ab)}),R(FD,{x:200,y:95,children:R(WD,{maxSymbolIndex:11,children:o=>ve(wi,{children:[o.reelStates.map((u,h)=>R(UD,{x:s[0]*h,symbolStates:u},`reel_${h}`)),R(Tx,{channelId:Yc,name:"reelstop1",volum:1,playing:o.reelStop})]})})}),R(iO,{children:o=>R(rO,{x:480,y:410,pivot:[240,0],...o})}),R(qR,{children:o=>ve(zt,{x:200,y:95,children:[R(QD,{lineId:o.lineId,lineConfig:{width:5,color:16776960,border:2,borderColor:7995647}}),o.configs.map((u,h)=>R(HD,{row:u.row,symbol:u.symbol,x:s[0]*u.column},`reelActive_${h}`)),R(Tx,{channelId:Yc,name:`symbol_${o.symbol}`,volum:1,playing:Yi(o.symbol)},`symbol_sound_${o.soundId}`),R(uO,{winAmount:o.winAmount,configs:o.configs})]})}),R(eO,{}),R(zD,{}),R(_e.Sprite,{x:480,y:0,scale:.9,anchor:[.5,0],texture:ut(us,"logo.png")}),R(tO,{channelId:Yc,name:"bgm",playing:!0,volum:.5})]})};function hO(){const{state:t}=Y.useContext(Be);return R("div",{className:"info-bar-mod",children:ve("div",{className:"list",children:[ve("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon username",src:""}),ve("div",{className:"detail",children:[R("div",{className:"value",children:"stanley"}),R("div",{className:"description",children:"username"})]})]}),ve("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon bet",src:""}),ve("div",{className:"detail",children:[R("div",{className:"value",children:`USD ${t.spin.betAmount*8}`}),R("div",{className:"description",children:"totel bet"})]})]}),ve("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon win",src:""}),ve("div",{className:"detail",children:[R("div",{className:"value",children:"8888"}),R("div",{className:"description",children:"win"})]})]}),ve("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon balance",src:""}),ve("div",{className:"detail",children:[R("div",{className:"value",children:"8888"}),R("div",{className:"description",children:"balance"})]})]}),ve("div",{className:"item w-20",children:[R("img",{className:"icon-mod icon time",src:""}),ve("div",{className:"detail",children:[R("div",{className:"value",children:"17:48:00(GTM+8)"}),R("div",{className:"description",children:"time"})]})]})]})})}function dO(){const{state:t,dispatch:e}=Y.useContext(Be),{menuOn:n,soundOn:r}=t.setting;function i(h){e({type:Kg,value:!1})}function s(){e({type:qg,value:!0})}function o(h){e({type:db,value:!r}),h.stopPropagation()}function u(){}return R("div",{className:`page-mod ${n?"visible":"hidden"}`,onClick:i,children:R("div",{className:`menu-mod ${n?"open":"close"}`,children:ve("div",{className:"list",children:[ve("div",{className:"item w-33 btn-mod",onClick:s,children:[R("div",{className:"icon-mod icon paytable"}),R("div",{className:"title",children:"Paytable"})]}),ve("div",{className:"item w-33 btn-mod",onClick:o,children:[R("div",{className:`icon-mod icon ${r?"sound-on":"sound-off"}`}),R("div",{className:"title",children:"Sound"})]}),ve("div",{className:"item w-33 btn-mod",onClick:u,children:[R("div",{className:"icon-mod icon lobby"}),R("div",{className:"title",children:"Lobby"})]})]})})})}function fO({count:t}){const{state:e,dispatch:n}=Y.useContext(Be),r=Y.useRef(),{payTableOn:i}=e.setting;let[s,o]=Y.useState(),[u,h]=Y.useState(0);function d(E){s={x:E.clientX,y:E.clientY}}function m(){if(s){o(null);let E=Math.round(u);if(E!=u){let x;E<u?x=Math.round(E+Math.min(1,(u-E)*2)):x=Math.round(E+Math.max(-1,(u-E)*2)),new W0({offset:u}).to({offset:x},100).onUpdate(S=>{h(S.offset)}).start()}}}function c(E){if(s){let x={x:E.clientX,y:E.clientY};u+=(x.x-s.x)/960,u%=t,s=x,h(u),o(s)}}function f(){n({type:qg,value:!1})}let g,v,b=r.current?r.current.clientWidth:0;return u>=0?(g=u%1,v=Math.ceil(t-u)%t):(g=u%1+1,g==1&&(g=0),v=Math.abs(Math.floor(u))%3),ve("div",{ref:r,className:`page-mod ${i?"visible":"hidden"}`,onPointerDown:d,onPointerMove:c,onPointerUp:m,children:[ve("div",{className:"paytable-mod",children:[R("div",{className:`item icon-mod info${(v-1+t)%t}`,style:{left:`${b*(g-1)}px`}},`infopage_${0}`),R("div",{className:`item icon-mod info${v}`,style:{left:`${b*g}px`}},`infopage_${1}`)]}),R("div",{className:"close-icon btn-mod",onClick:f,style:{float:"right",marginTop:"0.5rem",marginRight:"1rem"}})]})}const pO=Y.forwardRef(function({className:e,list:n,displayCount:r=5,direction:i="V",onSelectedChanged:s},o){const u=Y.useRef();let[h,d]=Y.useState(),[m,c]=Y.useState(0);const f=n.length;function g(P,D=!0){D?new W0({offset:m}).to({offset:P},100).onUpdate(N=>{c(N.offset)}).onComplete(()=>{c(P),s&&s((f-P)%f)}).start():(c(P),s&&s((f-P)%f))}function v(P){h={x:P.clientX,y:P.clientY}}function b(P){if(h&&u.current){let D={x:P.clientX,y:P.clientY};m+=i=="H"?(D.x-h.x)/(u.current.clientWidth/r):(D.y-h.y)/(u.current.clientHeight/r),m=(m+f)%f,h=D,c(m),d(h)}}function E(){if(h){d(null);let P=Math.round(m);P!=m&&g(P)}}Y.useImperativeHandle(o,()=>({toFirst:()=>{g(0)},toLast:()=>{g(1)},selected:m}));let x,S,T=100/r;m>=0?(x=m%1,S=Math.ceil(f-m)%f):(x=m%1+1,x==1&&(x=0),S=Math.abs(Math.floor(m))%3);let C=[];for(let P=-Math.floor(r/2);P<Math.ceil(r/2);P++){let D=i=="H"?{left:`${T*(x+P+(r-1)/2)}%`,height:"100%",width:`${T}%`,lineHeight:`${u.current?u.current.clientHeight:0}px`}:{top:`${T*(x+P+(r-1)/2)}%`,height:`${T}%`,width:"100%",fontSize:`${100-Math.abs(P)*10}%`,lineHeight:`${u.current?u.current.clientHeight/r:0}px`};C.push(R("div",{className:`item ${P==0?"selected":""}`,style:D,children:n[(S+P+f)%f]},`scroll-select_${P}`))}return R("div",{ref:u,className:`scroll-select-mod${e?" "+e:""}`,onPointerDown:v,onPointerMove:b,onPointerLeave:E,onPointerUp:E,children:C})});const Lc=["0.01","0.02","0.03","0.04","0.05","0.06","0.08","0.10","0.20","0.30","0.40","0.50","0.60","0.70","0.80","0.90","1.00"];function mO(){const{state:t,dispatch:e}=Y.useContext(Be),{betPanelOn:n}=t.setting,[r,i]=Y.useState(0);let s=Y.useRef();function o(){e({type:Zg,value:!1})}function u(m){m.stopPropagation(),s.current.toLast()}function h(){e({type:_b,value:Number(Lc[r])}),o()}function d(m){i(m)}return R("div",{className:`page-mod ${n?"visible":"hidden"}`,onClick:o,children:ve("div",{className:`bet-panel-mod ${n?"open":"close"}`,onClick:m=>m.stopPropagation(),children:[R("div",{className:"arrow-icon btn-mod arrow-btn down",onClick:o}),R("div",{className:"title",children:"bet setting"}),R("div",{className:"bet-section",children:ve("div",{className:"cell clearfix",children:[R("div",{className:"item0",children:"lines"}),R("div",{className:"item1",children:"8"}),R("div",{className:"item3",children:R(pO,{className:"select",list:Lc,ref:s,onSelectedChanged:d})}),R("div",{className:"item2",children:"Liine Bet(USD)"})]})}),R("div",{className:"line"}),ve("div",{className:"bottom clearfix",children:[ve("div",{className:"left",children:[R("div",{className:"detail",children:"Total Bet(USD)"}),R("div",{className:"value",children:`${Number(Lc[r])*8}`})]}),R("div",{className:"btn btn1 select btn-mod-1",onClick:h,children:"confirm"}),R("div",{className:`btn btn0 btn-mod-1 ${r==Lc.length-1?"select":""}`,onClick:u,children:"max bet"})]})]})})}const Ex=[10,25,50,75,100,"∞"],Jp=["5x","10x","20x","50x","∞"];function gO(){const{state:t,dispatch:e}=Y.useContext(Be),{autoSpinPanelOn:n}=t.setting,[r,i]=Y.useState(!1),[s,o]=Y.useState(0),[u,h]=Y.useState(4),d=Y.useRef(),m=Y.useRef(),c=Y.useRef();function f(){e({type:Jg,value:!n})}function g(){i(!r)}function v(){e({type:vb,value:{autoSpinCount:Ex[s],stopAutoSpinLimit:{totalBetTimes:Number(d.current.value)||Jp[u],signleWin:Number(m.current.value),balanceTo:Number(c.current.value)}}}),f()}return R("div",{className:`page-mod page-mod-auto-spin ${n?"visible":"hidden"}`,onClick:f,children:ve("div",{className:`auto-spin-mod ${n?r?"expand ":"open":"close"}`,onClick:b=>b.stopPropagation(),children:[R("div",{className:`arrow-icon btn-mod arrow-btn ${r?"down":"up"}`,onClick:g}),ve("div",{children:[R("div",{className:"title",children:"AUTO SPINS"}),ve("div",{children:[ve("div",{children:[R("div",{className:"left",children:R("div",{className:"sub-title",style:{marginTop:"1rem"},children:"NUMBER OF"})}),R("div",{className:"right",children:R("div",{className:"list",children:Ex.map((b,E)=>R("div",{className:`btn-item btn-mod-1 ${s==E?"selected":""}`,onClick:x=>o(E),children:b},`auto-spin-selected${E}`))})})]}),R("div",{className:`${r?"dn":"db"}`,children:R("div",{className:"btn-item start selected btn-mod-1",onClick:v,children:"start"})})]})]}),R("div",{className:"line"}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"sub-title",children:"STOP LOSS TIMIT"})}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"detail",style:{marginTop:"1rem"},children:"Total Bet"})}),R("div",{className:"right",children:R("div",{className:"list",children:Jp.map((b,E)=>R("div",{className:`btn-item btn-mod-1 ${u==E?"selected":""} ${Jp.length-1==E?"no-limit":""}`,onClick:x=>h(E),children:b},`loss-total-bet${E}`))})})]}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"detail",style:{marginTop:"1.5rem"},children:"Custom"})}),R("div",{className:"right",children:R("input",{ref:d,className:"input-item custom",type:"number"})})]})]}),R("div",{className:"line"}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"sub-title",children:"STOP AUTO SPIN"})}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"detail",style:{marginTop:"1rem"},children:"If single win exceeds"})}),R("div",{className:"right",children:R("input",{ref:m,className:"input-item",type:"number"})})]}),ve("div",{children:[R("div",{className:"left",children:R("div",{className:"detail",style:{marginTop:"1.5rem"},children:"If balance increases by"})}),ve("div",{className:"right",children:[R("input",{ref:c,className:"input-item",type:"number"}),R("div",{className:"btn-item start-expand btn-mod-1 selected",onClick:v,children:"start"})]})]})]})]})})}const _O=()=>ve(ID,{id:"game-canvas",className:"game-context-mod",children:[ve(kD,{children:[R(BD,{id:"preload",next:"loading"}),R(OD,{id:"loading",next:"main"}),R(cO,{id:"main"})]}),R(hO,{}),R(dO,{}),R(fO,{count:3}),R(mO,{}),R(gO,{})]});rD(R(_O,{}));
