var DN=Object.defineProperty;var UN=(r,e,t)=>e in r?DN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var jN=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var C=(r,e,t)=>UN(r,typeof e!="symbol"?e+"":e,t);var xV=jN((AV,Gg)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function uA(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var cA={exports:{}},hg={},hA={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),XN=Symbol.for("react.portal"),$N=Symbol.for("react.fragment"),HN=Symbol.for("react.strict_mode"),zN=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),WN=Symbol.for("react.forward_ref"),VN=Symbol.for("react.suspense"),qN=Symbol.for("react.memo"),KN=Symbol.for("react.lazy"),gT=Symbol.iterator;function QN(r){return r===null||typeof r!="object"?null:(r=gT&&r[gT]||r["@@iterator"],typeof r=="function"?r:null)}var dA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fA=Object.assign,pA={};function gc(r,e,t){this.props=r,this.context=e,this.refs=pA,this.updater=t||dA}gc.prototype.isReactComponent={};gc.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};gc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function mA(){}mA.prototype=gc.prototype;function S_(r,e,t){this.props=r,this.context=e,this.refs=pA,this.updater=t||dA}var T_=S_.prototype=new mA;T_.constructor=S_;fA(T_,gc.prototype);T_.isPureReactComponent=!0;var vT=Array.isArray,gA=Object.prototype.hasOwnProperty,E_={current:null},vA={key:!0,ref:!0,__self:!0,__source:!0};function yA(r,e,t){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gA.call(e,n)&&!vA.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:hd,type:r,key:s,ref:o,props:i,_owner:E_.current}}function ZN(r,e){return{$$typeof:hd,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function C_(r){return typeof r=="object"&&r!==null&&r.$$typeof===hd}function JN(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var yT=/\/+/g;function wv(r,e){return typeof r=="object"&&r!==null&&r.key!=null?JN(""+r.key):e.toString(36)}function Tp(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case hd:case XN:o=!0}}if(o)return o=r,i=i(o),r=n===""?"."+wv(o,0):n,vT(i)?(t="",r!=null&&(t=r.replace(yT,"$&/")+"/"),Tp(i,e,t,"",function(l){return l})):i!=null&&(C_(i)&&(i=ZN(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yT,"$&/")+"/")+r)),e.push(i)),1;if(o=0,n=n===""?".":n+":",vT(r))for(var a=0;a<r.length;a++){s=r[a];var u=n+wv(s,a);o+=Tp(s,e,t,u,i)}else if(u=QN(r),typeof u=="function")for(r=u.call(r),a=0;!(s=r.next()).done;)s=s.value,u=n+wv(s,a++),o+=Tp(s,e,t,u,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bf(r,e,t){if(r==null)return r;var n=[],i=0;return Tp(r,n,"","",function(s){return e.call(t,s,i++)}),n}function eB(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var an={current:null},Ep={transition:null},tB={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:E_};function xA(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:bf,forEach:function(r,e,t){bf(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return bf(r,function(){e++}),e},toArray:function(r){return bf(r,function(e){return e})||[]},only:function(r){if(!C_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Qe.Component=gc;Qe.Fragment=$N;Qe.Profiler=zN;Qe.PureComponent=S_;Qe.StrictMode=HN;Qe.Suspense=VN;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tB;Qe.act=xA;Qe.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=fA({},r.props),i=r.key,s=r.ref,o=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=E_.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(u in e)gA.call(e,u)&&!vA.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:hd,type:r.type,key:i,ref:s,props:n,_owner:o}};Qe.createContext=function(r){return r={$$typeof:GN,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:YN,_context:r},r.Consumer=r};Qe.createElement=yA;Qe.createFactory=function(r){var e=yA.bind(null,r);return e.type=r,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(r){return{$$typeof:WN,render:r}};Qe.isValidElement=C_;Qe.lazy=function(r){return{$$typeof:KN,_payload:{_status:-1,_result:r},_init:eB}};Qe.memo=function(r,e){return{$$typeof:qN,type:r,compare:e===void 0?null:e}};Qe.startTransition=function(r){var e=Ep.transition;Ep.transition={};try{r()}finally{Ep.transition=e}};Qe.unstable_act=xA;Qe.useCallback=function(r,e){return an.current.useCallback(r,e)};Qe.useContext=function(r){return an.current.useContext(r)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(r){return an.current.useDeferredValue(r)};Qe.useEffect=function(r,e){return an.current.useEffect(r,e)};Qe.useId=function(){return an.current.useId()};Qe.useImperativeHandle=function(r,e,t){return an.current.useImperativeHandle(r,e,t)};Qe.useInsertionEffect=function(r,e){return an.current.useInsertionEffect(r,e)};Qe.useLayoutEffect=function(r,e){return an.current.useLayoutEffect(r,e)};Qe.useMemo=function(r,e){return an.current.useMemo(r,e)};Qe.useReducer=function(r,e,t){return an.current.useReducer(r,e,t)};Qe.useRef=function(r){return an.current.useRef(r)};Qe.useState=function(r){return an.current.useState(r)};Qe.useSyncExternalStore=function(r,e,t){return an.current.useSyncExternalStore(r,e,t)};Qe.useTransition=function(){return an.current.useTransition()};Qe.version="18.3.1";hA.exports=Qe;var N=hA.exports;const co=cd(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB=N,nB=Symbol.for("react.element"),iB=Symbol.for("react.fragment"),sB=Object.prototype.hasOwnProperty,oB=rB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aB={key:!0,ref:!0,__self:!0,__source:!0};function _A(r,e,t){var n,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)sB.call(e,n)&&!aB.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:nB,type:r,key:s,ref:o,props:i,_owner:oB.current}}hg.Fragment=iB;hg.jsx=_A;hg.jsxs=_A;cA.exports=hg;var T=cA.exports;function mn(r){return r!=null}function qu(r){return r==null}function wA(r){return typeof r=="string"}function Ku(r){return Array.isArray(r)}function lB(r){return Object.keys(r).length===0&&r.constructor===Object}function uB(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];if(n!=null)for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}const ig=class ig{constructor(){C(this,"mappings");this.mappings={}}static get Obj(){return this._Obj||(this._Obj=new ig),this._Obj}map(e,t){const n=new mB(e,t);return this.mappings[e]=n,n}unmap(e){this.mappings[e]=void 0}get(e,...t){const n=this.mappings[e];if(!qu(n))return n.get(t)}resolve(){console.warn("Injector.resolve() is not implement yet")}};C(ig,"_Obj");let t1=ig;class cB{constructor(e){this.value=e}get(e){return this.value}destroy(){this.value=void 0}}class hB{constructor(e){this.type=e}get(e){return bA(this.type,e)}destroy(){this.type=void 0}}class dB{constructor(e){this.func=e}get(...e){return this.func(...e)}destroy(){this.func=void 0}}class fB{constructor(e){C(this,"instance");this.type=e}get(e){return qu(this.instance)&&(this.instance=bA(this.type,e)),this.instance}destroy(){this.type=void 0,this.instance=void 0}}class pB{constructor(e){this.factory=e}get(e){return this.factory(e)}destroy(){this.factory=void 0}}class mB{constructor(e,t){C(this,"provider");this.name=e,this.type=t}get(e){return qu(this.provider)&&this.toType(this.type),this.provider.get(e)}toValue(e){this.destroy(),this.provider=new cB(e)}toType(e){this.destroy(),this.provider=new hB(e)}toSingleton(e){this.destroy(),this.provider=new fB(e)}asSingleton(){if(this.destroy(),qu(this.type))throw new Error("asSingleton must have a type.");this.toSingleton(this.type)}toFactory(e){this.destroy(),this.provider=new pB(e)}toFunction(e){this.destroy(),this.provider=new dB(e)}destroy(){mn(this.provider)&&this.provider.destroy()}}function bA(r,e){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);default:throw new Error("only support instantiate maximum 10 arguments!")}}const xl=t1.Obj;function zc(r){return xl.get(`action_fc:${r}`)}function A_(r,e){xl.map(`action_init:${r}`).toValue(e)}function nu(r){return xl.get(`action_init:${r}`)}const SA="apiService";function gB(r){return xl.map(SA).toSingleton(r)}function dg(){return xl.get(SA)}function dd(r,e){return xl.map(`parser:${r}`).toValue(e)}function Ys(r){return xl.get(`parser:${r}`)}function vB(r){const e={};for(const t in r){const n=r[t];e[t]=n.map((i,s)=>[s,i])}return e}function yB(r){const e={};for(const t in r){const n=r[t],i=n.length,s=[];for(let u=0;u<i;u++){const l=n[u];s.push([u+.5,l+.5])}const o=n[0];s.unshift([0,o+.5]);const a=n[i-1];s.push([i,a+.5]),e[t]=s}return e}function xB(r){const e=yB(r);for(const t in e){const n=e[t];for(const i of n)i[1]=i[1]-.5*Math.floor(Math.min(i[0],4))}return e}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var iu=9e15,Sa=1e9,r1="0123456789abcdef",Jp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",em="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",n1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-iu,maxE:iu,crypto:!1},TA,ao,Ue=!0,fg="[DecimalError] ",ya=fg+"Invalid argument: ",EA=fg+"Precision limit exceeded",CA=fg+"crypto unavailable",AA="[object Decimal]",Vr=Math.floor,hr=Math.pow,_B=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,wB=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,bB=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,PA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li=1e7,Be=7,SB=9007199254740991,TB=Jp.length-1,i1=em.length-1,oe={toStringTag:AA};oe.absoluteValue=oe.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Re(r)};oe.ceil=function(){return Re(new this.constructor(this),this.e+1,2)};oe.clampedTo=oe.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(ya+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};oe.comparedTo=oe.cmp=function(r){var e,t,n,i,s=this,o=s.d,a=(r=new s.constructor(r)).d,u=s.s,l=r.s;if(!o||!a)return!u||!l?NaN:u!==l?u:o===a?0:!o^u<0?1:-1;if(!o[0]||!a[0])return o[0]?u:a[0]?-l:0;if(u!==l)return u;if(s.e!==r.e)return s.e>r.e^u<0?1:-1;for(n=o.length,i=a.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};oe.cosine=oe.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Be,n.rounding=1,t=EB(n,OA(n,t)),n.precision=r,n.rounding=e,Re(ao==2||ao==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};oe.cubeRoot=oe.cbrt=function(){var r,e,t,n,i,s,o,a,u,l,h=this,c=h.constructor;if(!h.isFinite()||h.isZero())return new c(h);for(Ue=!1,s=h.s*hr(h.s*h,1/3),!s||Math.abs(s)==1/0?(t=Rr(h.d),r=h.e,(s=(r-t.length+1)%3)&&(t+=s==1||s==-2?"0":"00"),s=hr(t,1/3),r=Vr((r+1)/3)-(r%3==(r<0?-1:2)),s==1/0?t="5e"+r:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new c(t),n.s=h.s):n=new c(s.toString()),o=(r=c.precision)+3;;)if(a=n,u=a.times(a).times(a),l=u.plus(h),n=vt(l.plus(h).times(a),l.plus(u),o+2,1),Rr(a.d).slice(0,o)===(t=Rr(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(Re(a,r+1,0),a.times(a).times(a).eq(h))){n=a;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Re(n,r+1,1),e=!n.times(n).times(n).eq(h));break}return Ue=!0,Re(n,r,c.rounding,e)};oe.decimalPlaces=oe.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Vr(this.e/Be))*Be,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};oe.dividedBy=oe.div=function(r){return vt(this,new this.constructor(r))};oe.dividedToIntegerBy=oe.divToInt=function(r){var e=this,t=e.constructor;return Re(vt(e,new t(r),0,1,1),t.precision,t.rounding)};oe.equals=oe.eq=function(r){return this.cmp(r)===0};oe.floor=function(){return Re(new this.constructor(this),this.e+1,3)};oe.greaterThan=oe.gt=function(r){return this.cmp(r)>0};oe.greaterThanOrEqualTo=oe.gte=function(r){var e=this.cmp(r);return e==1||e===0};oe.hyperbolicCosine=oe.cosh=function(){var r,e,t,n,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;t=o.precision,n=o.rounding,o.precision=t+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(r=Math.ceil(i/3),e=(1/mg(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),s=Qu(o,1,s.times(e),new o(1),!0);for(var u,l=r,h=new o(8);l--;)u=s.times(s),s=a.minus(u.times(h.minus(u.times(h))));return Re(s,o.precision=t,o.rounding=n,!0)};oe.hyperbolicSine=oe.sinh=function(){var r,e,t,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,t=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=Qu(s,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/mg(5,r)),i=Qu(s,2,i,i,!0);for(var o,a=new s(5),u=new s(16),l=new s(20);r--;)o=i.times(i),i=i.times(a.plus(o.times(u.times(o).plus(l))))}return s.precision=e,s.rounding=t,Re(i,e,t,!0)};oe.hyperbolicTangent=oe.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,vt(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};oe.inverseCosine=oe.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,s=t.rounding;return n!==-1?n===0?e.isNeg()?Ri(t,i,s):new t(0):new t(NaN):e.isZero()?Ri(t,i+4,s).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Ri(t,i+4,s).times(.5),t.precision=i,t.rounding=s,r.minus(e))};oe.inverseHyperbolicCosine=oe.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,Ue=!1,t=t.times(t).minus(1).sqrt().plus(t),Ue=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};oe.inverseHyperbolicSine=oe.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,Ue=!1,t=t.times(t).plus(1).sqrt().plus(t),Ue=!0,n.precision=r,n.rounding=e,t.ln())};oe.inverseHyperbolicTangent=oe.atanh=function(){var r,e,t,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=s.precision,e=s.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Re(new s(i),r,e,!0):(s.precision=t=n-i.e,i=vt(i.plus(1),new s(1).minus(i),t+r,1),s.precision=r+4,s.rounding=1,i=i.ln(),s.precision=r,s.rounding=e,i.times(.5))):new s(NaN)};oe.inverseSine=oe.asin=function(){var r,e,t,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),t=s.precision,n=s.rounding,e!==-1?e===0?(r=Ri(s,t+4,n).times(.5),r.s=i.s,r):new s(NaN):(s.precision=t+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=n,i.times(2)))};oe.inverseTangent=oe.atan=function(){var r,e,t,n,i,s,o,a,u,l=this,h=l.constructor,c=h.precision,d=h.rounding;if(l.isFinite()){if(l.isZero())return new h(l);if(l.abs().eq(1)&&c+4<=i1)return o=Ri(h,c+4,d).times(.25),o.s=l.s,o}else{if(!l.s)return new h(NaN);if(c+4<=i1)return o=Ri(h,c+4,d).times(.5),o.s=l.s,o}for(h.precision=a=c+10,h.rounding=1,t=Math.min(28,a/Be+2|0),r=t;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Ue=!1,e=Math.ceil(a/Be),n=1,u=l.times(l),o=new h(l),i=l;r!==-1;)if(i=i.times(u),s=o.minus(i.div(n+=2)),i=i.times(u),o=s.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===s.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),Ue=!0,Re(o,h.precision=c,h.rounding=d,!0)};oe.isFinite=function(){return!!this.d};oe.isInteger=oe.isInt=function(){return!!this.d&&Vr(this.e/Be)>this.d.length-2};oe.isNaN=function(){return!this.s};oe.isNegative=oe.isNeg=function(){return this.s<0};oe.isPositive=oe.isPos=function(){return this.s>0};oe.isZero=function(){return!!this.d&&this.d[0]===0};oe.lessThan=oe.lt=function(r){return this.cmp(r)<0};oe.lessThanOrEqualTo=oe.lte=function(r){return this.cmp(r)<1};oe.logarithm=oe.log=function(r){var e,t,n,i,s,o,a,u,l=this,h=l.constructor,c=h.precision,d=h.rounding,p=5;if(r==null)r=new h(10),e=!0;else{if(r=new h(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new h(NaN);e=r.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new h(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(i=t[0];i%10===0;)i/=10;s=i!==1}if(Ue=!1,a=c+p,o=Zo(l,a),n=e?tm(h,a+10):Zo(r,a),u=vt(o,n,a,1),Bh(u.d,i=c,d))do if(a+=10,o=Zo(l,a),n=e?tm(h,a+10):Zo(r,a),u=vt(o,n,a,1),!s){+Rr(u.d).slice(i+1,i+15)+1==1e14&&(u=Re(u,c+1,0));break}while(Bh(u.d,i+=10,d));return Ue=!0,Re(u,c,d)};oe.minus=oe.sub=function(r){var e,t,n,i,s,o,a,u,l,h,c,d,p=this,g=p.constructor;if(r=new g(r),!p.d||!r.d)return!p.s||!r.s?r=new g(NaN):p.d?r.s=-r.s:r=new g(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(l=p.d,d=r.d,a=g.precision,u=g.rounding,!l[0]||!d[0]){if(d[0])r.s=-r.s;else if(l[0])r=new g(p);else return new g(u===3?-0:0);return Ue?Re(r,a,u):r}if(t=Vr(r.e/Be),h=Vr(p.e/Be),l=l.slice(),s=h-t,s){for(c=s<0,c?(e=l,s=-s,o=d.length):(e=d,t=h,o=l.length),n=Math.max(Math.ceil(a/Be),o)+2,s>n&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse()}else{for(n=l.length,o=d.length,c=n<o,c&&(o=n),n=0;n<o;n++)if(l[n]!=d[n]){c=l[n]<d[n];break}s=0}for(c&&(e=l,l=d,d=e,r.s=-r.s),o=l.length,n=d.length-o;n>0;--n)l[o++]=0;for(n=d.length;n>s;){if(l[--n]<d[n]){for(i=n;i&&l[--i]===0;)l[i]=Li-1;--l[i],l[n]+=Li}l[n]-=d[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(r.d=l,r.e=pg(l,t),Ue?Re(r,a,u):r):new g(u===3?-0:0)};oe.modulo=oe.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Re(new n(t),n.precision,n.rounding):(Ue=!1,n.modulo==9?(e=vt(t,r.abs(),0,3,1),e.s*=r.s):e=vt(t,r,0,n.modulo,1),e=e.times(r),Ue=!0,t.minus(e))};oe.naturalExponential=oe.exp=function(){return s1(this)};oe.naturalLogarithm=oe.ln=function(){return Zo(this)};oe.negated=oe.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Re(r)};oe.plus=oe.add=function(r){var e,t,n,i,s,o,a,u,l,h,c=this,d=c.constructor;if(r=new d(r),!c.d||!r.d)return!c.s||!r.s?r=new d(NaN):c.d||(r=new d(r.d||c.s===r.s?c:NaN)),r;if(c.s!=r.s)return r.s=-r.s,c.minus(r);if(l=c.d,h=r.d,a=d.precision,u=d.rounding,!l[0]||!h[0])return h[0]||(r=new d(c)),Ue?Re(r,a,u):r;if(s=Vr(c.e/Be),n=Vr(r.e/Be),l=l.slice(),i=s-n,i){for(i<0?(t=l,i=-i,o=h.length):(t=h,n=s,o=l.length),s=Math.ceil(a/Be),o=s>o?s+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=l.length,i=h.length,o-i<0&&(i=o,t=h,h=l,l=t),e=0;i;)e=(l[--i]=l[i]+h[i]+e)/Li|0,l[i]%=Li;for(e&&(l.unshift(e),++n),o=l.length;l[--o]==0;)l.pop();return r.d=l,r.e=pg(l,n),Ue?Re(r,a,u):r};oe.precision=oe.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(ya+r);return t.d?(e=kA(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};oe.round=function(){var r=this,e=r.constructor;return Re(new e(r),r.e+1,e.rounding)};oe.sine=oe.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Be,n.rounding=1,t=AB(n,OA(n,t)),n.precision=r,n.rounding=e,Re(ao>2?t.neg():t,r,e,!0)):new n(NaN)};oe.squareRoot=oe.sqrt=function(){var r,e,t,n,i,s,o=this,a=o.d,u=o.e,l=o.s,h=o.constructor;if(l!==1||!a||!a[0])return new h(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Ue=!1,l=Math.sqrt(+o),l==0||l==1/0?(e=Rr(a),(e.length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=Vr((u+1)/2)-(u<0||u%2),l==1/0?e="5e"+u:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new h(e)):n=new h(l.toString()),t=(u=h.precision)+3;;)if(s=n,n=s.plus(vt(o,s,t+2,1)).times(.5),Rr(s.d).slice(0,t)===(e=Rr(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Re(s,u+1,0),s.times(s).eq(o))){n=s;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Re(n,u+1,1),r=!n.times(n).eq(o));break}return Ue=!0,Re(n,u,h.rounding,r)};oe.tangent=oe.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=vt(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Re(ao==2||ao==4?t.neg():t,r,e,!0)):new n(NaN)};oe.times=oe.mul=function(r){var e,t,n,i,s,o,a,u,l,h=this,c=h.constructor,d=h.d,p=(r=new c(r)).d;if(r.s*=h.s,!d||!d[0]||!p||!p[0])return new c(!r.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?r.s/0:r.s*0);for(t=Vr(h.e/Be)+Vr(r.e/Be),u=d.length,l=p.length,u<l&&(s=d,d=p,p=s,o=u,u=l,l=o),s=[],o=u+l,n=o;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=u+n;i>n;)a=s[i]+p[n]*d[i-n-1]+e,s[i--]=a%Li|0,e=a/Li|0;s[i]=(s[i]+e)%Li|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),r.d=s,r.e=pg(s,t),Ue?Re(r,c.precision,c.rounding):r};oe.toBinary=function(r,e){return P_(this,2,r,e)};oe.toDecimalPlaces=oe.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Tn(r,0,Sa),e===void 0?e=n.rounding:Tn(e,0,8),Re(t,r+t.e+1,e))};oe.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Is(n,!0):(Tn(r,0,Sa),e===void 0?e=i.rounding:Tn(e,0,8),n=Re(new i(n),r+1,e),t=Is(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};oe.toFixed=function(r,e){var t,n,i=this,s=i.constructor;return r===void 0?t=Is(i):(Tn(r,0,Sa),e===void 0?e=s.rounding:Tn(e,0,8),n=Re(new s(i),r+i.e+1,e),t=Is(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};oe.toFraction=function(r){var e,t,n,i,s,o,a,u,l,h,c,d,p=this,g=p.d,v=p.constructor;if(!g)return new v(p);if(l=t=new v(1),n=u=new v(0),e=new v(n),s=e.e=kA(g)-p.e-1,o=s%Be,e.d[0]=hr(10,o<0?Be+o:o),r==null)r=s>0?e:l;else{if(a=new v(r),!a.isInt()||a.lt(l))throw Error(ya+a);r=a.gt(e)?s>0?e:l:a}for(Ue=!1,a=new v(Rr(g)),h=v.precision,v.precision=s=g.length*Be*2;c=vt(a,e,0,1,1),i=t.plus(c.times(n)),i.cmp(r)!=1;)t=n,n=i,i=l,l=u.plus(c.times(i)),u=i,i=e,e=a.minus(c.times(i)),a=i;return i=vt(r.minus(t),n,0,1,1),u=u.plus(i.times(l)),t=t.plus(i.times(n)),u.s=l.s=p.s,d=vt(l,n,s,1).minus(p).abs().cmp(vt(u,t,s,1).minus(p).abs())<1?[l,n]:[u,t],v.precision=h,Ue=!0,d};oe.toHexadecimal=oe.toHex=function(r,e){return P_(this,16,r,e)};oe.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Tn(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(Ue=!1,t=vt(t,r,0,e,1).times(r),Ue=!0,Re(t)):(r.s=t.s,t=r),t};oe.toNumber=function(){return+this};oe.toOctal=function(r,e){return P_(this,8,r,e)};oe.toPower=oe.pow=function(r){var e,t,n,i,s,o,a=this,u=a.constructor,l=+(r=new u(r));if(!a.d||!r.d||!a.d[0]||!r.d[0])return new u(hr(+a,l));if(a=new u(a),a.eq(1))return a;if(n=u.precision,s=u.rounding,r.eq(1))return Re(a,n,s);if(e=Vr(r.e/Be),e>=r.d.length-1&&(t=l<0?-l:l)<=SB)return i=IA(u,a,t,n),r.s<0?new u(1).div(i):Re(i,n,s);if(o=a.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return t=hr(+a,l),e=t==0||!isFinite(t)?Vr(l*(Math.log("0."+Rr(a.d))/Math.LN10+a.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(Ue=!1,u.rounding=a.s=1,t=Math.min(12,(e+"").length),i=s1(r.times(Zo(a,n+t)),n),i.d&&(i=Re(i,n+5,1),Bh(i.d,n,s)&&(e=n+10,i=Re(s1(r.times(Zo(a,e+t)),e),e+5,1),+Rr(i.d).slice(n+1,n+15)+1==1e14&&(i=Re(i,n+1,0)))),i.s=o,Ue=!0,u.rounding=s,Re(i,n,s))};oe.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Is(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Tn(r,1,Sa),e===void 0?e=i.rounding:Tn(e,0,8),n=Re(new i(n),r,e),t=Is(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};oe.toSignificantDigits=oe.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Tn(r,1,Sa),e===void 0?e=n.rounding:Tn(e,0,8)),Re(new n(t),r,e)};oe.toString=function(){var r=this,e=r.constructor,t=Is(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};oe.truncated=oe.trunc=function(){return Re(new this.constructor(this),this.e+1,1)};oe.valueOf=oe.toJSON=function(){var r=this,e=r.constructor,t=Is(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Rr(r){var e,t,n,i=r.length-1,s="",o=r[0];if(i>0){for(s+=o,e=1;e<i;e++)n=r[e]+"",t=Be-n.length,t&&(s+=$o(t)),s+=n;o=r[e],n=o+"",t=Be-n.length,t&&(s+=$o(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function Tn(r,e,t){if(r!==~~r||r<e||r>t)throw Error(ya+r)}function Bh(r,e,t,n){var i,s,o,a;for(s=r[0];s>=10;s/=10)--e;return--e<0?(e+=Be,i=0):(i=Math.ceil((e+1)/Be),e%=Be),s=hr(10,Be-e),a=r[i]%s|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=t<4&&a==99999||t>3&&a==49999||a==5e4||a==0):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(r[i+1]/s/100|0)==hr(10,e-2)-1||(a==s/2||a==0)&&(r[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(n||t<4)&&a==9999||!n&&t>3&&a==4999):o=((n||t<4)&&a+1==s||!n&&t>3&&a+1==s/2)&&(r[i+1]/s/1e3|0)==hr(10,e-3)-1,o}function Cp(r,e,t){for(var n,i=[0],s,o=0,a=r.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=r1.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function EB(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/mg(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Qu(r,1,e.times(i),new r(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var vt=function(){function r(n,i,s){var o,a=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+a,n[u]=o%s|0,a=o/s|0;return a&&n.unshift(a),n}function e(n,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(n[a]!=i[a]){u=n[a]>i[a]?1:-1;break}return u}function t(n,i,s,o){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*o+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o,a,u){var l,h,c,d,p,g,v,x,y,b,_,S,I,P,k,M,O,D,L,X,F=n.constructor,B=n.s==i.s?1:-1,j=n.d,z=i.d;if(!j||!j[0]||!z||!z[0])return new F(!n.s||!i.s||(j?z&&j[0]==z[0]:!z)?NaN:j&&j[0]==0||!z?B*0:B/0);for(u?(p=1,h=n.e-i.e):(u=Li,p=Be,h=Vr(n.e/p)-Vr(i.e/p)),L=z.length,O=j.length,y=new F(B),b=y.d=[],c=0;z[c]==(j[c]||0);c++);if(z[c]>(j[c]||0)&&h--,s==null?(P=s=F.precision,o=F.rounding):a?P=s+(n.e-i.e)+1:P=s,P<0)b.push(1),g=!0;else{if(P=P/p+2|0,c=0,L==1){for(d=0,z=z[0],P++;(c<O||d)&&P--;c++)k=d*u+(j[c]||0),b[c]=k/z|0,d=k%z|0;g=d||c<O}else{for(d=u/(z[0]+1)|0,d>1&&(z=r(z,d,u),j=r(j,d,u),L=z.length,O=j.length),M=L,_=j.slice(0,L),S=_.length;S<L;)_[S++]=0;X=z.slice(),X.unshift(0),D=z[0],z[1]>=u/2&&++D;do d=0,l=e(z,_,L,S),l<0?(I=_[0],L!=S&&(I=I*u+(_[1]||0)),d=I/D|0,d>1?(d>=u&&(d=u-1),v=r(z,d,u),x=v.length,S=_.length,l=e(v,_,x,S),l==1&&(d--,t(v,L<x?X:z,x,u))):(d==0&&(l=d=1),v=z.slice()),x=v.length,x<S&&v.unshift(0),t(_,v,S,u),l==-1&&(S=_.length,l=e(z,_,L,S),l<1&&(d++,t(_,L<S?X:z,S,u))),S=_.length):l===0&&(d++,_=[0]),b[c++]=d,l&&_[0]?_[S++]=j[M]||0:(_=[j[M]],S=1);while((M++<O||_[0]!==void 0)&&P--);g=_[0]!==void 0}b[0]||b.shift()}if(p==1)y.e=h,TA=g;else{for(c=1,d=b[0];d>=10;d/=10)c++;y.e=c+h*p-1,Re(y,a?s+y.e+1:s,o,g)}return y}}();function Re(r,e,t,n){var i,s,o,a,u,l,h,c,d,p=r.constructor;e:if(e!=null){if(c=r.d,!c)return r;for(i=1,a=c[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=Be,o=e,h=c[d=0],u=h/hr(10,i-o-1)%10|0;else if(d=Math.ceil((s+1)/Be),a=c.length,d>=a)if(n){for(;a++<=d;)c.push(0);h=u=0,i=1,s%=Be,o=s-Be+1}else break e;else{for(h=a=c[d],i=1;a>=10;a/=10)i++;s%=Be,o=s-Be+i,u=o<0?0:h/hr(10,i-o-1)%10|0}if(n=n||e<0||c[d+1]!==void 0||(o<0?h:h%hr(10,i-o-1)),l=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(s>0?o>0?h/hr(10,i-o):0:c[d-1])%10&1||t==(r.s<0?8:7)),e<1||!c[0])return c.length=0,l?(e-=r.e+1,c[0]=hr(10,(Be-e%Be)%Be),r.e=-e||0):c[0]=r.e=0,r;if(s==0?(c.length=d,a=1,d--):(c.length=d+1,a=hr(10,Be-s),c[d]=o>0?(h/hr(10,i-o)%hr(10,o)|0)*a:0),l)for(;;)if(d==0){for(s=1,o=c[0];o>=10;o/=10)s++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(r.e++,c[0]==Li&&(c[0]=1));break}else{if(c[d]+=a,c[d]!=Li)break;c[d--]=0,a=1}for(s=c.length;c[--s]===0;)c.pop()}return Ue&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function Is(r,e,t){if(!r.isFinite())return RA(r);var n,i=r.e,s=Rr(r.d),o=s.length;return e?(t&&(n=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+$o(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r.e<0?"e":"e+")+r.e):i<0?(s="0."+$o(-i-1)+s,t&&(n=t-o)>0&&(s+=$o(n))):i>=o?(s+=$o(i+1-o),t&&(n=t-i-1)>0&&(s=s+"."+$o(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(s+="."),s+=$o(n))),s}function pg(r,e){var t=r[0];for(e*=Be;t>=10;t/=10)e++;return e}function tm(r,e,t){if(e>TB)throw Ue=!0,t&&(r.precision=t),Error(EA);return Re(new r(Jp),e,1,!0)}function Ri(r,e,t){if(e>i1)throw Error(EA);return Re(new r(em),e,t,!0)}function kA(r){var e=r.length-1,t=e*Be+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function $o(r){for(var e="";r--;)e+="0";return e}function IA(r,e,t,n){var i,s=new r(1),o=Math.ceil(n/Be+4);for(Ue=!1;;){if(t%2&&(s=s.times(e),_T(s.d,o)&&(i=!0)),t=Vr(t/2),t===0){t=s.d.length-1,i&&s.d[t]===0&&++s.d[t];break}e=e.times(e),_T(e.d,o)}return Ue=!0,s}function xT(r){return r.d[r.d.length-1]&1}function MA(r,e,t){for(var n,i=new r(e[0]),s=0;++s<e.length;)if(n=new r(e[s]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function s1(r,e){var t,n,i,s,o,a,u,l=0,h=0,c=0,d=r.constructor,p=d.rounding,g=d.precision;if(!r.d||!r.d[0]||r.e>17)return new d(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(Ue=!1,u=g):u=e,a=new d(.03125);r.e>-2;)r=r.times(a),c+=5;for(n=Math.log(hr(2,c))/Math.LN10*2+5|0,u+=n,t=s=o=new d(1),d.precision=u;;){if(s=Re(s.times(r),u,1),t=t.times(++h),a=o.plus(vt(s,t,u,1)),Rr(a.d).slice(0,u)===Rr(o.d).slice(0,u)){for(i=c;i--;)o=Re(o.times(o),u,1);if(e==null)if(l<3&&Bh(o.d,u-n,p,l))d.precision=u+=10,t=s=a=new d(1),h=0,l++;else return Re(o,d.precision=g,p,Ue=!0);else return d.precision=g,o}o=a}}function Zo(r,e){var t,n,i,s,o,a,u,l,h,c,d,p=1,g=10,v=r,x=v.d,y=v.constructor,b=y.rounding,_=y.precision;if(v.s<0||!x||!x[0]||!v.e&&x[0]==1&&x.length==1)return new y(x&&!x[0]?-1/0:v.s!=1?NaN:x?0:v);if(e==null?(Ue=!1,h=_):h=e,y.precision=h+=g,t=Rr(x),n=t.charAt(0),Math.abs(s=v.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)v=v.times(r),t=Rr(v.d),n=t.charAt(0),p++;s=v.e,n>1?(v=new y("0."+t),s++):v=new y(n+"."+t.slice(1))}else return l=tm(y,h+2,_).times(s+""),v=Zo(new y(n+"."+t.slice(1)),h-g).plus(l),y.precision=_,e==null?Re(v,_,b,Ue=!0):v;for(c=v,u=o=v=vt(v.minus(1),v.plus(1),h,1),d=Re(v.times(v),h,1),i=3;;){if(o=Re(o.times(d),h,1),l=u.plus(vt(o,new y(i),h,1)),Rr(l.d).slice(0,h)===Rr(u.d).slice(0,h))if(u=u.times(2),s!==0&&(u=u.plus(tm(y,h+2,_).times(s+""))),u=vt(u,new y(p),h,1),e==null)if(Bh(u.d,h-g,b,a))y.precision=h+=g,l=o=v=vt(c.minus(1),c.plus(1),h,1),d=Re(v.times(v),h,1),i=a=1;else return Re(u,y.precision=_,b,Ue=!0);else return y.precision=_,u;u=l,i+=2}}function RA(r){return String(r.s*r.s/0)}function o1(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%Be,t<0&&(n+=Be),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Be;n<i;)r.d.push(+e.slice(n,n+=Be));e=e.slice(n),n=Be-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),Ue&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function CB(r,e){var t,n,i,s,o,a,u,l,h;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),PA.test(e))return o1(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(wB.test(e))t=16,e=e.toLowerCase();else if(_B.test(e))t=2;else if(bB.test(e))t=8;else throw Error(ya+e);for(s=e.search(/p/i),s>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,n=r.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=IA(n,new n(t),s,s*2)),l=Cp(e,t,Li),h=l.length-1,s=h;l[s]===0;--s)l.pop();return s<0?new n(r.s*0):(r.e=pg(l,h),r.d=l,Ue=!1,o&&(r=vt(r,i,a*4)),u&&(r=r.times(Math.abs(u)<54?hr(2,u):dt.pow(2,u))),Ue=!0,r)}function AB(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Qu(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/mg(5,t)),e=Qu(r,2,e,e);for(var i,s=new r(5),o=new r(16),a=new r(20);t--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function Qu(r,e,t,n,i){var s,o,a,u,l=r.precision,h=Math.ceil(l/Be);for(Ue=!1,u=t.times(t),a=new r(n);;){if(o=vt(a.times(u),new r(e++*e++),l,1),a=i?n.plus(o):n.minus(o),n=vt(o.times(u),new r(e++*e++),l,1),o=a.plus(n),o.d[h]!==void 0){for(s=h;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=n,n=o,o=s}return Ue=!0,o.d.length=h+1,o}function mg(r,e){for(var t=r;--e;)t*=r;return t}function OA(r,e){var t,n=e.s<0,i=Ri(r,r.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return ao=n?4:1,e;if(t=e.divToInt(i),t.isZero())ao=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(s))return ao=xT(t)?n?2:3:n?4:1,e;ao=xT(t)?n?1:4:n?3:2}return e.minus(i).abs()}function P_(r,e,t,n){var i,s,o,a,u,l,h,c,d,p=r.constructor,g=t!==void 0;if(g?(Tn(t,1,Sa),n===void 0?n=p.rounding:Tn(n,0,8)):(t=p.precision,n=p.rounding),!r.isFinite())h=RA(r);else{for(h=Is(r),o=h.indexOf("."),g?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(h=h.replace(".",""),d=new p(1),d.e=h.length-o,d.d=Cp(Is(d),10,i),d.e=d.d.length),c=Cp(h,10,i),s=u=c.length;c[--u]==0;)c.pop();if(!c[0])h=g?"0p+0":"0";else{if(o<0?s--:(r=new p(r),r.d=c,r.e=s,r=vt(r,d,t,n,0,i),c=r.d,s=r.e,l=TA),o=c[t],a=i/2,l=l||c[t+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(r.s<0?3:2)):o>a||o===a&&(n===4||l||n===6&&c[t-1]&1||n===(r.s<0?8:7)),c.length=t,l)for(;++c[--t]>i-1;)c[t]=0,t||(++s,c.unshift(1));for(u=c.length;!c[u-1];--u);for(o=0,h="";o<u;o++)h+=r1.charAt(c[o]);if(g){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)h+="0";for(c=Cp(h,i,e),u=c.length;!c[u-1];--u);for(o=1,h="1.";o<u;o++)h+=r1.charAt(c[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)h="0"+h;h="0."+h}else if(++s>u)for(s-=u;s--;)h+="0";else s<u&&(h=h.slice(0,s)+"."+h.slice(s))}h=(e==16?"0x":e==2?"0b":e==8?"0o":"")+h}return r.s<0?"-"+h:h}function _T(r,e){if(r.length>e)return r.length=e,!0}function PB(r){return new this(r).abs()}function kB(r){return new this(r).acos()}function IB(r){return new this(r).acosh()}function MB(r,e){return new this(r).plus(e)}function RB(r){return new this(r).asin()}function OB(r){return new this(r).asinh()}function NB(r){return new this(r).atan()}function BB(r){return new this(r).atanh()}function FB(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,s=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Ri(this,s,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Ri(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Ri(this,s,1).times(.5),t.s=r.s):e.s<0?(this.precision=s,this.rounding=1,t=this.atan(vt(r,e,s,1)),e=Ri(this,s,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(vt(r,e,s,1)),t}function LB(r){return new this(r).cbrt()}function DB(r){return Re(r=new this(r),r.e+1,2)}function UB(r,e,t){return new this(r).clamp(e,t)}function jB(r){if(!r||typeof r!="object")throw Error(fg+"Object expected");var e,t,n,i=r.defaults===!0,s=["precision",1,Sa,"rounding",0,8,"toExpNeg",-iu,0,"toExpPos",0,iu,"maxE",0,iu,"minE",-iu,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],i&&(this[t]=n1[t]),(n=r[t])!==void 0)if(Vr(n)===n&&n>=s[e+1]&&n<=s[e+2])this[t]=n;else throw Error(ya+t+": "+n);if(t="crypto",i&&(this[t]=n1[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(CA);else this[t]=!1;else throw Error(ya+t+": "+n);return this}function XB(r){return new this(r).cos()}function $B(r){return new this(r).cosh()}function NA(r){var e,t,n;function i(s){var o,a,u,l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,wT(s)){l.s=s.s,Ue?!s.d||s.e>i.maxE?(l.e=NaN,l.d=null):s.e<i.minE?(l.e=0,l.d=[0]):(l.e=s.e,l.d=s.d.slice()):(l.e=s.e,l.d=s.d?s.d.slice():s.d);return}if(u=typeof s,u==="number"){if(s===0){l.s=1/s<0?-1:1,l.e=0,l.d=[0];return}if(s<0?(s=-s,l.s=-1):l.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;Ue?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[s]):(l.e=o,l.d=[s]);return}else if(s*0!==0){s||(l.s=NaN),l.e=NaN,l.d=null;return}return o1(l,s.toString())}else if(u!=="string")throw Error(ya+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),l.s=-1):(a===43&&(s=s.slice(1)),l.s=1),PA.test(s)?o1(l,s):CB(l,s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=jB,i.clone=NA,i.isDecimal=wT,i.abs=PB,i.acos=kB,i.acosh=IB,i.add=MB,i.asin=RB,i.asinh=OB,i.atan=NB,i.atanh=BB,i.atan2=FB,i.cbrt=LB,i.ceil=DB,i.clamp=UB,i.cos=XB,i.cosh=$B,i.div=HB,i.exp=zB,i.floor=YB,i.hypot=GB,i.ln=WB,i.log=VB,i.log10=KB,i.log2=qB,i.max=QB,i.min=ZB,i.mod=JB,i.mul=eF,i.pow=tF,i.random=rF,i.round=nF,i.sign=iF,i.sin=sF,i.sinh=oF,i.sqrt=aF,i.sub=lF,i.sum=uF,i.tan=cF,i.tanh=hF,i.trunc=dF,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function HB(r,e){return new this(r).div(e)}function zB(r){return new this(r).exp()}function YB(r){return Re(r=new this(r),r.e+1,3)}function GB(){var r,e,t=new this(0);for(Ue=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ue=!0,new this(1/0);t=e}return Ue=!0,t.sqrt()}function wT(r){return r instanceof dt||r&&r.toStringTag===AA||!1}function WB(r){return new this(r).ln()}function VB(r,e){return new this(r).log(e)}function qB(r){return new this(r).log(2)}function KB(r){return new this(r).log(10)}function QB(){return MA(this,arguments,"lt")}function ZB(){return MA(this,arguments,"gt")}function JB(r,e){return new this(r).mod(e)}function eF(r,e){return new this(r).mul(e)}function tF(r,e){return new this(r).pow(e)}function rF(r){var e,t,n,i,s=0,o=new this(1),a=[];if(r===void 0?r=this.precision:Tn(r,1,Sa),n=Math.ceil(r/Be),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);s<n;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=n/4}else throw Error(CA);else for(;s<n;)a[s++]=Math.random()*1e7|0;for(n=a[--s],r%=Be,n&&r&&(i=hr(10,Be-r),a[s]=(n/i|0)*i);a[s]===0;s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;a[0]===0;t-=Be)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<Be&&(t-=Be-n)}return o.e=t,o.d=a,o}function nF(r){return Re(r=new this(r),r.e+1,this.rounding)}function iF(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function sF(r){return new this(r).sin()}function oF(r){return new this(r).sinh()}function aF(r){return new this(r).sqrt()}function lF(r,e){return new this(r).sub(e)}function uF(){var r=0,e=arguments,t=new this(e[r]);for(Ue=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return Ue=!0,Re(t,this.precision,this.rounding)}function cF(r){return new this(r).tan()}function hF(r){return new this(r).tanh()}function dF(r){return Re(r=new this(r),r.e+1,1)}oe[Symbol.for("nodejs.util.inspect.custom")]=oe.toString;oe[Symbol.toStringTag]="Decimal";var dt=oe.constructor=NA(n1);Jp=new dt(Jp);em=new dt(em);const fF="geisha",pF=1721126889720,mF={title:fF,assetVersion:pF},bv={0:[0,0,0,0,0,0],1:[0,0,0,0,1,1],2:[0,0,0,1,1,1],3:[0,0,0,1,2,2],4:[0,0,1,1,1,1],5:[0,0,1,1,2,2],6:[0,0,1,2,2,2],7:[0,0,1,2,3,3],8:[0,0,2,2,2,2],9:[0,0,2,2,3,3],10:[0,0,2,3,3,3],11:[0,0,2,3,4,4],12:[0,0,3,3,3,3],13:[0,0,3,3,4,4],14:[0,0,3,4,4,4],15:[0,0,3,4,5,5],16:[0,0,4,4,4,4],17:[0,0,4,4,5,5],18:[0,0,4,5,5,5],19:[0,0,4,5,6,6],20:[1,0,0,0,0,0],21:[1,0,0,0,1,1],22:[1,0,0,1,1,1],23:[1,0,0,1,2,2],24:[1,0,1,1,1,1],25:[1,0,1,1,2,2],26:[1,0,1,2,2,2],27:[1,0,1,2,3,3],28:[1,0,2,2,2,2],29:[1,0,2,2,3,3],30:[1,0,2,3,3,3],31:[1,0,2,3,4,4],32:[0,1,3,3,3,3],33:[0,3,3,3,4,4],34:[1,0,3,4,4,4],35:[1,0,3,4,5,5],36:[0,0,4,4,4,1],37:[0,0,4,4,5,0],38:[1,0,4,5,5,5],39:[1,0,4,5,6,6],40:[1,1,0,0,0,0],41:[1,1,0,0,1,1],42:[1,1,0,1,1,1],43:[1,1,0,1,2,2],44:[1,1,1,1,1,1],45:[1,1,1,1,2,2],46:[1,1,1,2,2,2],47:[1,1,1,2,3,3],48:[1,1,2,2,2,2],49:[1,1,2,2,3,3],50:[1,1,2,3,3,3],51:[1,1,2,3,4,4],52:[1,1,3,3,3,3],53:[1,1,3,3,4,4],54:[1,1,3,4,4,4],55:[1,1,3,4,5,5],56:[1,1,4,4,4,4],57:[1,1,4,4,5,5],58:[1,1,4,5,5,5],59:[1,1,4,5,6,6],60:[1,2,0,0,0,0],61:[1,2,0,0,1,1],62:[1,2,0,1,1,1],63:[1,2,0,1,2,2],64:[1,2,1,1,1,1],65:[1,2,1,1,2,2],66:[1,2,1,2,2,2],67:[1,2,1,2,3,3],68:[1,2,2,2,2,2],69:[1,2,2,2,3,3],70:[1,2,2,3,3,3],71:[1,2,2,3,4,4],72:[1,2,3,3,3,3],73:[1,2,3,3,4,4],74:[1,2,3,4,4,4],75:[1,2,3,4,5,5],76:[1,2,4,4,4,4],77:[1,2,4,4,5,5],78:[1,2,4,5,5,5],79:[1,2,4,5,6,6],80:[2,0,0,0,0,0],81:[2,0,0,0,1,1],82:[2,0,0,1,1,1],83:[2,0,0,1,2,2],84:[2,0,1,1,1,1],85:[2,0,1,1,2,2],86:[2,0,1,2,2,2],87:[2,0,1,2,3,3],88:[2,0,2,2,2,2],89:[2,0,2,2,3,3],90:[2,0,2,3,3,3],91:[2,0,2,3,4,4],92:[2,0,3,3,3,3],93:[2,0,3,3,4,4],94:[2,0,3,4,4,4],95:[2,0,3,4,5,5],96:[2,0,4,4,4,4],97:[2,0,4,4,5,5],98:[2,0,4,5,5,5],99:[2,0,4,5,6,6],100:[2,3,0,0,0,0],101:[2,3,0,0,1,1],102:[2,3,0,1,1,1],103:[2,3,0,1,2,2],104:[2,3,1,1,1,1],105:[2,3,1,1,2,2],106:[2,3,1,2,2,2],107:[2,3,1,2,3,3],108:[2,3,2,2,2,2],109:[2,3,2,2,3,3],110:[2,3,2,3,3,3],111:[2,3,2,3,4,4],112:[2,3,3,3,3,3],113:[2,3,3,3,4,4],114:[2,3,3,4,4,4],115:[2,3,3,4,5,5],116:[2,3,4,4,4,4],117:[2,3,4,4,5,5],118:[2,3,4,5,5,5],119:[2,3,4,5,6,6],120:[0,1,0,0,0,0],121:[0,1,0,0,1,1],122:[0,1,0,1,1,1],123:[0,1,0,1,2,2],124:[0,1,1,1,1,1],125:[0,1,1,1,2,2],126:[0,1,1,2,2,2],127:[0,1,1,2,3,3],128:[0,1,2,2,2,2],129:[0,1,2,2,3,3],130:[0,1,2,3,0,0],131:[0,1,2,3,6,6],132:[0,1,3,3,4,5],133:[0,1,3,3,4,4],134:[0,0,4,4,5,6],135:[0,0,3,4,5,6],136:[0,1,4,4,4,4],137:[0,1,4,4,5,5],138:[0,1,4,5,5,5],139:[0,1,4,5,6,6],140:[0,2,0,0,0,0],141:[0,2,0,0,0,1],142:[0,2,0,0,1,1],143:[0,2,0,0,1,2],144:[0,2,0,1,1,1],145:[0,2,0,1,1,2],146:[0,2,0,1,2,2],147:[0,2,0,1,2,3],148:[0,2,2,2,2,2],149:[0,2,2,2,2,3],150:[0,2,2,2,3,3],151:[0,2,2,2,3,4],152:[0,2,2,3,3,3],153:[0,2,2,3,3,4],154:[0,2,2,3,4,4],155:[0,2,2,3,4,5],156:[0,2,4,4,4,4],157:[0,2,4,4,4,5],158:[0,2,4,4,5,5],159:[0,2,4,4,5,6],160:[0,2,4,5,5,5],161:[0,2,4,5,5,6],162:[0,2,4,5,6,6],163:[1,3,4,4,4,4],164:[1,3,4,4,5,5],165:[1,3,4,5,5,5],166:[1,3,4,5,6,6],167:[1,3,0,0,0,0],168:[1,3,0,0,1,1],169:[1,3,0,1,1,1],170:[2,1,0,0,0,0],171:[2,1,0,0,1,1],172:[2,1,0,1,1,1],173:[2,1,0,1,2,2],174:[2,1,1,1,1,1],175:[2,1,1,1,2,2],176:[2,1,1,2,2,2],177:[2,1,1,2,3,3],178:[2,1,2,2,2,2],179:[2,1,2,2,3,3],180:[2,1,2,3,3,3],181:[2,1,2,3,4,4],182:[2,1,3,3,3,3],183:[2,1,3,3,4,4],184:[2,1,3,4,4,4],185:[2,1,3,4,5,5],186:[2,1,4,4,4,4],187:[2,1,4,4,5,5],188:[2,1,4,5,5,5],189:[2,1,4,5,6,6],190:[1,1,0,2,3,3],191:[1,1,0,2,2,2],192:[1,1,0,2,2,1],193:[1,1,0,2,2,0],194:[1,2,4,3,4,6],195:[1,1,0,2,3,2],196:[1,1,0,2,3,1],197:[1,1,0,2,3,0],198:[1,2,4,3,3,2],199:[1,2,4,3,3,4],200:[1,1,0,1,3,0],201:[1,1,0,1,3,4],202:[1,1,0,1,3,5],203:[1,1,0,1,3,6],204:[1,1,4,4,3,0],205:[2,2,0,0,0,0],206:[2,2,0,0,0,1],207:[2,2,0,0,1,1],208:[2,2,0,0,1,2],209:[2,2,0,1,1,1],210:[2,2,0,1,1,2],211:[2,2,0,1,2,2],212:[2,2,0,1,2,3],213:[2,2,2,2,2,2],214:[2,2,2,2,2,3],215:[2,2,2,2,3,3],216:[2,2,2,2,3,4],217:[2,2,2,3,3,3],218:[2,2,2,3,3,4],219:[2,2,2,3,4,4],220:[2,2,2,3,4,5],221:[2,2,4,4,4,4],222:[2,2,4,4,4,5],223:[2,2,4,4,5,5],224:[2,2,4,4,5,6],225:[2,2,4,5,6,6],226:[2,2,4,5,6,5],227:[2,2,4,5,6,4],228:[1,3,0,0,0,6],229:[1,3,0,0,1,5],230:[1,3,0,1,1,6],231:[1,3,0,1,2,0],232:[1,3,1,1,1,0],233:[1,3,1,1,2,2],234:[1,3,1,2,2,2],235:[1,3,1,2,3,0],236:[1,3,2,2,2,6],237:[1,3,2,2,3,3],238:[1,3,2,3,3,3],239:[1,3,2,3,4,4],240:[0,3,0,0,0,0],241:[0,3,0,0,0,1],242:[0,3,0,0,1,1],243:[0,3,0,0,1,2],244:[0,3,3,4,4,4],245:[0,3,3,4,4,5],246:[0,3,3,4,5,5],247:[0,3,3,4,5,6],248:[0,3,1,2,2,3],249:[0,3,1,2,3,3]},gF={row:3,column:5,paylineMapV2:bv,paylineMap:vB(bv),paylinePathMap:xB(bv),symbolSize:[105,65],symbolFrame:[110,65]};A_("table",gF);const vF={id:6,version:"1.0.0",layoutMap:{l:{safeArea:[0,180,1170,800],displayArea:[0,0,1170,1170]},p:{safeArea:[350,210,540,960],displayArea:[190,0,870,1170]}}};A_("gameconfig",Object.assign(vF,mF));const yF={spin:{betLevel:new dt(25)}};A_("spin",yF);const bt=N.createContext({});var xF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_F=window.device,fe={},a1=[];window.device=fe;var Fh=window.document.documentElement,wF=window.navigator.userAgent.toLowerCase(),bT=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];fe.macos=function(){return Jt("mac")};fe.ios=function(){return fe.iphone()||fe.ipod()||fe.ipad()};fe.iphone=function(){return!fe.windows()&&Jt("iphone")};fe.ipod=function(){return Jt("ipod")};fe.ipad=function(){var r=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return Jt("ipad")||r};fe.android=function(){return!fe.windows()&&Jt("android")};fe.androidPhone=function(){return fe.android()&&Jt("mobile")};fe.androidTablet=function(){return fe.android()&&!Jt("mobile")};fe.blackberry=function(){return Jt("blackberry")||Jt("bb10")};fe.blackberryPhone=function(){return fe.blackberry()&&!Jt("tablet")};fe.blackberryTablet=function(){return fe.blackberry()&&Jt("tablet")};fe.windows=function(){return Jt("windows")};fe.windowsPhone=function(){return fe.windows()&&Jt("phone")};fe.windowsTablet=function(){return fe.windows()&&Jt("touch")&&!fe.windowsPhone()};fe.fxos=function(){return(Jt("(mobile")||Jt("(tablet"))&&Jt(" rv:")};fe.fxosPhone=function(){return fe.fxos()&&Jt("mobile")};fe.fxosTablet=function(){return fe.fxos()&&Jt("tablet")};fe.meego=function(){return Jt("meego")};fe.cordova=function(){return window.cordova&&location.protocol==="file:"};fe.nodeWebkit=function(){return xF(window.process)==="object"};fe.mobile=function(){return fe.androidPhone()||fe.iphone()||fe.ipod()||fe.windowsPhone()||fe.blackberryPhone()||fe.fxosPhone()||fe.meego()};fe.tablet=function(){return fe.ipad()||fe.androidTablet()||fe.blackberryTablet()||fe.windowsTablet()||fe.fxosTablet()};fe.desktop=function(){return!fe.tablet()&&!fe.mobile()};fe.television=function(){for(var r=0;r<bT.length;){if(Jt(bT[r]))return!0;r++}return!1};fe.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?k_(screen.orientation.type,"portrait"):fe.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:window.innerHeight/window.innerWidth>1};fe.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?k_(screen.orientation.type,"landscape"):fe.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1};fe.noConflict=function(){return window.device=_F,this};function k_(r,e){return r.indexOf(e)!==-1}function Jt(r){return k_(wF,r)}function BA(r){return Fh.className.match(new RegExp(r,"i"))}function tr(r){var e=null;BA(r)||(e=Fh.className.replace(/^\s+|\s+$/g,""),Fh.className=e+" "+r)}function ST(r){BA(r)&&(Fh.className=Fh.className.replace(" "+r,""))}fe.ios()?fe.ipad()?tr("ios ipad tablet"):fe.iphone()?tr("ios iphone mobile"):fe.ipod()&&tr("ios ipod mobile"):fe.macos()?tr("macos desktop"):fe.android()?fe.androidTablet()?tr("android tablet"):tr("android mobile"):fe.blackberry()?fe.blackberryTablet()?tr("blackberry tablet"):tr("blackberry mobile"):fe.windows()?fe.windowsTablet()?tr("windows tablet"):fe.windowsPhone()?tr("windows mobile"):tr("windows desktop"):fe.fxos()?fe.fxosTablet()?tr("fxos tablet"):tr("fxos mobile"):fe.meego()?tr("meego mobile"):fe.nodeWebkit()?tr("node-webkit"):fe.television()?tr("television"):fe.desktop()&&tr("desktop");fe.cordova()&&tr("cordova");function Ap(){fe.landscape()?(ST("portrait"),tr("landscape"),TT("landscape")):(ST("landscape"),tr("portrait"),TT("portrait")),FA()}function TT(r){for(var e=0;e<a1.length;e++)a1[e](r)}fe.onChangeOrientation=function(r){typeof r=="function"&&a1.push(r)};var Pp="resize";Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Pp="orientationchange");window.addEventListener?window.addEventListener(Pp,Ap,!1):window.attachEvent?window.attachEvent(Pp,Ap):window[Pp]=Ap;Ap();function I_(r){for(var e=0;e<r.length;e++)if(fe[r[e]]())return r[e];return"unknown"}fe.type=I_(["mobile","tablet","desktop"]);fe.os=I_(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]);function FA(){fe.orientation=I_(["portrait","landscape"])}FA();var M_={exports:{}},Pu=typeof Reflect=="object"?Reflect:null,ET=Pu&&typeof Pu.apply=="function"?Pu.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},kp;Pu&&typeof Pu.ownKeys=="function"?kp=Pu.ownKeys:Object.getOwnPropertySymbols?kp=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:kp=function(e){return Object.getOwnPropertyNames(e)};function bF(r){console&&console.warn&&console.warn(r)}var LA=Number.isNaN||function(e){return e!==e};function mt(){mt.init.call(this)}M_.exports=mt;M_.exports.once=CF;mt.EventEmitter=mt;mt.prototype._events=void 0;mt.prototype._eventsCount=0;mt.prototype._maxListeners=void 0;var CT=10;function gg(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(mt,"defaultMaxListeners",{enumerable:!0,get:function(){return CT},set:function(r){if(typeof r!="number"||r<0||LA(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");CT=r}});mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||LA(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function DA(r){return r._maxListeners===void 0?mt.defaultMaxListeners:r._maxListeners}mt.prototype.getMaxListeners=function(){return DA(this)};mt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")ET(u,this,t);else for(var l=u.length,h=HA(u,l),n=0;n<l;++n)ET(h[n],this,t);return!0};function UA(r,e,t,n){var i,s,o;if(gg(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=DA(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,bF(a)}return r}mt.prototype.addListener=function(e,t){return UA(this,e,t,!1)};mt.prototype.on=mt.prototype.addListener;mt.prototype.prependListener=function(e,t){return UA(this,e,t,!0)};function SF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jA(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=SF.bind(n);return i.listener=t,n.wrapFn=i,i}mt.prototype.once=function(e,t){return gg(t),this.on(e,jA(this,e,t)),this};mt.prototype.prependOnceListener=function(e,t){return gg(t),this.prependListener(e,jA(this,e,t)),this};mt.prototype.removeListener=function(e,t){var n,i,s,o,a;if(gg(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():TF(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};mt.prototype.off=mt.prototype.removeListener;mt.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function XA(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?EF(i):HA(i,i.length)}mt.prototype.listeners=function(e){return XA(this,e,!0)};mt.prototype.rawListeners=function(e){return XA(this,e,!1)};mt.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):$A.call(r,e)};mt.prototype.listenerCount=$A;function $A(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}mt.prototype.eventNames=function(){return this._eventsCount>0?kp(this._events):[]};function HA(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function TF(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function EF(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function CF(r,e){return new Promise(function(t,n){function i(o){r.removeListener(e,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}zA(r,e,s,{once:!0}),e!=="error"&&AF(r,i,{once:!0})})}function AF(r,e,t){typeof r.on=="function"&&zA(r,"error",e,t)}function zA(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var PF=M_.exports,_l=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(_l||{}),YA=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(YA||{}),l1=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(l1||{}),Ie=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(Ie||{}),Oi=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(Oi||{}),de=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(de||{}),ku=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(ku||{}),Se=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(Se||{}),xe=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(xe||{}),Ni=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(Ni||{}),ci=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(ci||{}),di=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(di||{}),Yr=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(Yr||{}),xs=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(xs||{}),R_=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(R_||{}),oi=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(oi||{}),cr=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(cr||{}),rr=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(rr||{}),Cs=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(Cs||{});const kF={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},ye={ADAPTER:kF,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Sv=/iPhone/i,AT=/iPod/i,PT=/iPad/i,kT=/\biOS-universal(?:.+)Mac\b/i,Tv=/\bAndroid(?:.+)Mobile\b/i,IT=/Android/i,$l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sf=/Silk/i,Gs=/Windows Phone/i,MT=/\bWindows(?:.+)ARM\b/i,RT=/BlackBerry/i,OT=/BB10/i,NT=/Opera Mini/i,BT=/\b(CriOS|Chrome)(?:.+)Mobile/i,FT=/Mobile(?:.+)Firefox\b/i,LT=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function IF(r){return function(e){return e.test(r)}}function DT(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=IF(t),s={apple:{phone:i(Sv)&&!i(Gs),ipod:i(AT),tablet:!i(Sv)&&(i(PT)||LT(e))&&!i(Gs),universal:i(kT),device:(i(Sv)||i(AT)||i(PT)||i(kT)||LT(e))&&!i(Gs)},amazon:{phone:i($l),tablet:!i($l)&&i(Sf),device:i($l)||i(Sf)},android:{phone:!i(Gs)&&i($l)||!i(Gs)&&i(Tv),tablet:!i(Gs)&&!i($l)&&!i(Tv)&&(i(Sf)||i(IT)),device:!i(Gs)&&(i($l)||i(Sf)||i(Tv)||i(IT))||i(/\bokhttp\b/i)},windows:{phone:i(Gs),tablet:i(MT),device:i(Gs)||i(MT)},other:{blackberry:i(RT),blackberry10:i(OT),opera:i(NT),firefox:i(FT),chrome:i(BT),device:i(RT)||i(OT)||i(NT)||i(FT)||i(BT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const MF=DT.default??DT,ai=MF(globalThis.navigator);ye.RETINA_PREFIX=/@([0-9\.]+)x/;ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var GA={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,l,h){this.fn=u,this.context=l,this.once=h||!1}function s(u,l,h,c,d){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new i(h,c||u,d),g=t?t+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],h,c;if(this._eventsCount===0)return l;for(c in h=this._events)e.call(h,c)&&l.push(t?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},a.prototype.listeners=function(l){var h=t?t+l:l,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,p=c.length,g=new Array(p);d<p;d++)g[d]=c[d].fn;return g},a.prototype.listenerCount=function(l){var h=t?t+l:l,c=this._events[h];return c?c.fn?1:c.length:0},a.prototype.emit=function(l,h,c,d,p,g){var v=t?t+l:l;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,c),!0;case 4:return x.fn.call(x.context,h,c,d),!0;case 5:return x.fn.call(x.context,h,c,d,p),!0;case 6:return x.fn.call(x.context,h,c,d,p,g),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var S=x.length,I;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(l,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,h);break;case 3:x[_].fn.call(x[_].context,h,c);break;case 4:x[_].fn.call(x[_].context,h,c,d);break;default:if(!b)for(I=1,b=new Array(y-1);I<y;I++)b[I-1]=arguments[I];x[_].fn.apply(x[_].context,b)}}return!0},a.prototype.on=function(l,h,c){return s(this,l,h,c,!1)},a.prototype.once=function(l,h,c){return s(this,l,h,c,!0)},a.prototype.removeListener=function(l,h,c,d){var p=t?t+l:l;if(!this._events[p])return this;if(!h)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===h&&(!d||g.once)&&(!c||g.context===c)&&o(this,p);else{for(var v=0,x=[],y=g.length;v<y;v++)(g[v].fn!==h||d&&!g[v].once||c&&g[v].context!==c)&&x.push(g[v]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},a.prototype.removeAllListeners=function(l){var h;return l?(h=t?t+l:l,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(GA);var RF=GA.exports;const fd=cd(RF);var O_={exports:{}};O_.exports=vg;O_.exports.default=vg;function vg(r,e,t){t=t||2;var n=e&&e.length,i=n?e[0]*t:r.length,s=WA(r,0,i,t,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,h,c,d,p;if(n&&(s=LF(r,e,s,t)),r.length>80*t){a=l=r[0],u=h=r[1];for(var g=t;g<i;g+=t)c=r[g],d=r[g+1],c<a&&(a=c),d<u&&(u=d),c>l&&(l=c),d>h&&(h=d);p=Math.max(l-a,h-u),p=p!==0?32767/p:0}return Lh(s,o,t,a,u,p,0),o}function WA(r,e,t,n,i){var s,o;if(i===h1(r,e,t,n)>0)for(s=e;s<t;s+=n)o=UT(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=UT(s,r[s],r[s+1],o);return o&&yg(o,o.next)&&(Uh(o),o=o.next),o}function ul(r,e){if(!r)return r;e||(e=r);var t=r,n;do if(n=!1,!t.steiner&&(yg(t,t.next)||Ut(t.prev,t,t.next)===0)){if(Uh(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Lh(r,e,t,n,i,s,o){if(r){!o&&s&&$F(r,n,i,s);for(var a=r,u,l;r.prev!==r.next;){if(u=r.prev,l=r.next,s?NF(r,n,i,s):OF(r)){e.push(u.i/t|0),e.push(r.i/t|0),e.push(l.i/t|0),Uh(r),r=l.next,a=l.next;continue}if(r=l,r===a){o?o===1?(r=BF(ul(r),e,t),Lh(r,e,t,n,i,s,2)):o===2&&FF(r,e,t,n,i,s):Lh(ul(r),e,t,n,i,s,1);break}}}}function OF(r){var e=r.prev,t=r,n=r.next;if(Ut(e,t,n)>=0)return!1;for(var i=e.x,s=t.x,o=n.x,a=e.y,u=t.y,l=n.y,h=i<s?i<o?i:o:s<o?s:o,c=a<u?a<l?a:l:u<l?u:l,d=i>s?i>o?i:o:s>o?s:o,p=a>u?a>l?a:l:u>l?u:l,g=n.next;g!==e;){if(g.x>=h&&g.x<=d&&g.y>=c&&g.y<=p&&su(i,a,s,u,o,l,g.x,g.y)&&Ut(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function NF(r,e,t,n){var i=r.prev,s=r,o=r.next;if(Ut(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,h=i.y,c=s.y,d=o.y,p=a<u?a<l?a:l:u<l?u:l,g=h<c?h<d?h:d:c<d?c:d,v=a>u?a>l?a:l:u>l?u:l,x=h>c?h>d?h:d:c>d?c:d,y=u1(p,g,e,t,n),b=u1(v,x,e,t,n),_=r.prevZ,S=r.nextZ;_&&_.z>=y&&S&&S.z<=b;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=x&&_!==i&&_!==o&&su(a,h,u,c,l,d,_.x,_.y)&&Ut(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=p&&S.x<=v&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&su(a,h,u,c,l,d,S.x,S.y)&&Ut(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=y;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=x&&_!==i&&_!==o&&su(a,h,u,c,l,d,_.x,_.y)&&Ut(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=b;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&su(a,h,u,c,l,d,S.x,S.y)&&Ut(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function BF(r,e,t){var n=r;do{var i=n.prev,s=n.next.next;!yg(i,s)&&VA(i,n,n.next,s)&&Dh(i,s)&&Dh(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Uh(n),Uh(n.next),n=r=s),n=n.next}while(n!==r);return ul(n)}function FF(r,e,t,n,i,s){var o=r;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&YF(o,a)){var u=qA(o,a);o=ul(o,o.next),u=ul(u,u.next),Lh(o,e,t,n,i,s,0),Lh(u,e,t,n,i,s,0);return}a=a.next}o=o.next}while(o!==r)}function LF(r,e,t,n){var i=[],s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:r.length,l=WA(r,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(zF(l));for(i.sort(DF),s=0;s<i.length;s++)t=UF(i[s],t);return t}function DF(r,e){return r.x-e.x}function UF(r,e){var t=jF(r,e);if(!t)return e;var n=qA(t,r);return ul(n,n.next),ul(t,t.next)}function jF(r,e){var t=e,n=r.x,i=r.y,s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var a=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=n&&a>s&&(s=a,o=t.x<t.next.x?t:t.next,a===n))return o}t=t.next}while(t!==e);if(!o)return null;var u=o,l=o.x,h=o.y,c=1/0,d;t=o;do n>=t.x&&t.x>=l&&n!==t.x&&su(i<h?n:s,i,l,h,i<h?s:n,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(n-t.x),Dh(t,r)&&(d<c||d===c&&(t.x>o.x||t.x===o.x&&XF(o,t)))&&(o=t,c=d)),t=t.next;while(t!==u);return o}function XF(r,e){return Ut(r.prev,r,e.prev)<0&&Ut(e.next,r,r.next)<0}function $F(r,e,t,n){var i=r;do i.z===0&&(i.z=u1(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,HF(i)}function HF(r){var e,t,n,i,s,o,a,u,l=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,l*=2}while(o>1);return r}function u1(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function zF(r){var e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function su(r,e,t,n,i,s,o,a){return(i-o)*(e-a)>=(r-o)*(s-a)&&(r-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(n-a)}function YF(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!GF(r,e)&&(Dh(r,e)&&Dh(e,r)&&WF(r,e)&&(Ut(r.prev,r,e.prev)||Ut(r,e.prev,e))||yg(r,e)&&Ut(r.prev,r,r.next)>0&&Ut(e.prev,e,e.next)>0)}function Ut(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function yg(r,e){return r.x===e.x&&r.y===e.y}function VA(r,e,t,n){var i=Ef(Ut(r,e,t)),s=Ef(Ut(r,e,n)),o=Ef(Ut(t,n,r)),a=Ef(Ut(t,n,e));return!!(i!==s&&o!==a||i===0&&Tf(r,t,e)||s===0&&Tf(r,n,e)||o===0&&Tf(t,r,n)||a===0&&Tf(t,e,n))}function Tf(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function Ef(r){return r>0?1:r<0?-1:0}function GF(r,e){var t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&VA(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Dh(r,e){return Ut(r.prev,r,r.next)<0?Ut(r,e,r.next)>=0&&Ut(r,r.prev,e)>=0:Ut(r,e,r.prev)<0||Ut(r,r.next,e)<0}function WF(r,e){var t=r,n=!1,i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function qA(r,e){var t=new c1(r.i,r.x,r.y),n=new c1(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function UT(r,e,t,n){var i=new c1(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Uh(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function c1(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}vg.deviation=function(r,e,t,n){var i=e&&e.length,s=i?e[0]*t:r.length,o=Math.abs(h1(r,0,s,t));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*t,h=a<u-1?e[a+1]*t:r.length;o-=Math.abs(h1(r,l,h,t))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*t,p=n[a+1]*t,g=n[a+2]*t;c+=Math.abs((r[d]-r[g])*(r[p+1]-r[d+1])-(r[d]-r[p])*(r[g+1]-r[d+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function h1(r,e,t,n){for(var i=0,s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}vg.flatten=function(r){for(var e=r[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,i=0;i<r.length;i++){for(var s=0;s<r[i].length;s++)for(var o=0;o<e;o++)t.vertices.push(r[i][s][o]);i>0&&(n+=r[i-1].length,t.holes.push(n))}return t};var VF=O_.exports;const qF=cd(VF);var rm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */rm.exports;(function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,s=typeof io=="object"&&io;(s.global===s||s.window===s||s.self===s)&&(t=s);var o,a=2147483647,u=36,l=1,h=26,c=38,d=700,p=72,g=128,v="-",x=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-l,I=Math.floor,P=String.fromCharCode,k;function M(H){throw new RangeError(_[H])}function O(H,V){for(var Z=H.length,te=[];Z--;)te[Z]=V(H[Z]);return te}function D(H,V){var Z=H.split("@"),te="";Z.length>1&&(te=Z[0]+"@",H=Z[1]),H=H.replace(b,".");var le=H.split("."),ge=O(le,V).join(".");return te+ge}function L(H){for(var V=[],Z=0,te=H.length,le,ge;Z<te;)le=H.charCodeAt(Z++),le>=55296&&le<=56319&&Z<te?(ge=H.charCodeAt(Z++),(ge&64512)==56320?V.push(((le&1023)<<10)+(ge&1023)+65536):(V.push(le),Z--)):V.push(le);return V}function X(H){return O(H,function(V){var Z="";return V>65535&&(V-=65536,Z+=P(V>>>10&1023|55296),V=56320|V&1023),Z+=P(V),Z}).join("")}function F(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:u}function B(H,V){return H+22+75*(H<26)-((V!=0)<<5)}function j(H,V,Z){var te=0;for(H=Z?I(H/d):H>>1,H+=I(H/V);H>S*h>>1;te+=u)H=I(H/S);return I(te+(S+1)*H/(H+c))}function z(H){var V=[],Z=H.length,te,le=0,ge=g,Pe=p,Fe,He,qe,$e,Le,ut,et,Tr,Br;for(Fe=H.lastIndexOf(v),Fe<0&&(Fe=0),He=0;He<Fe;++He)H.charCodeAt(He)>=128&&M("not-basic"),V.push(H.charCodeAt(He));for(qe=Fe>0?Fe+1:0;qe<Z;){for($e=le,Le=1,ut=u;qe>=Z&&M("invalid-input"),et=F(H.charCodeAt(qe++)),(et>=u||et>I((a-le)/Le))&&M("overflow"),le+=et*Le,Tr=ut<=Pe?l:ut>=Pe+h?h:ut-Pe,!(et<Tr);ut+=u)Br=u-Tr,Le>I(a/Br)&&M("overflow"),Le*=Br;te=V.length+1,Pe=j(le-$e,te,$e==0),I(le/te)>a-ge&&M("overflow"),ge+=I(le/te),le%=te,V.splice(le++,0,ge)}return X(V)}function q(H){var V,Z,te,le,ge,Pe,Fe,He,qe,$e,Le,ut=[],et,Tr,Br,Qi;for(H=L(H),et=H.length,V=g,Z=0,ge=p,Pe=0;Pe<et;++Pe)Le=H[Pe],Le<128&&ut.push(P(Le));for(te=le=ut.length,le&&ut.push(v);te<et;){for(Fe=a,Pe=0;Pe<et;++Pe)Le=H[Pe],Le>=V&&Le<Fe&&(Fe=Le);for(Tr=te+1,Fe-V>I((a-Z)/Tr)&&M("overflow"),Z+=(Fe-V)*Tr,V=Fe,Pe=0;Pe<et;++Pe)if(Le=H[Pe],Le<V&&++Z>a&&M("overflow"),Le==V){for(He=Z,qe=u;$e=qe<=ge?l:qe>=ge+h?h:qe-ge,!(He<$e);qe+=u)Qi=He-$e,Br=u-$e,ut.push(P(B($e+Qi%Br,0))),He=I(Qi/Br);ut.push(P(B(He,0))),ge=j(Z,Tr,te==le),Z=0,++te}++Z,++V}return ut.join("")}function $(H){return D(H,function(V){return x.test(V)?z(V.slice(4).toLowerCase()):V})}function W(H){return D(H,function(V){return y.test(V)?"xn--"+q(V):V})}if(o={version:"1.4.1",ucs2:{decode:L,encode:X},decode:z,encode:q,toASCII:W,toUnicode:$},n&&i)if(r.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else t.punycode=o})(io)})(rm,rm.exports);var KF=rm.exports,QF=Error,ZF=EvalError,JF=RangeError,eL=ReferenceError,KA=SyntaxError,pd=TypeError,tL=URIError,rL=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0},jT=typeof Symbol<"u"&&Symbol,nL=rL,iL=function(){return typeof jT!="function"||typeof Symbol!="function"||typeof jT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:nL()},Ev={__proto__:null,foo:{}},sL=Object,oL=function(){return{__proto__:Ev}.foo===Ev.foo&&!(Ev instanceof sL)},aL="Function.prototype.bind called on incompatible ",lL=Object.prototype.toString,uL=Math.max,cL="[object Function]",XT=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<t.length;s+=1)n[s+e.length]=t[s];return n},hL=function(e,t){for(var n=[],i=t||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},dL=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},fL=function(e){var t=this;if(typeof t!="function"||lL.apply(t)!==cL)throw new TypeError(aL+t);for(var n=hL(arguments,1),i,s=function(){if(this instanceof i){var h=t.apply(this,XT(n,arguments));return Object(h)===h?h:this}return t.apply(e,XT(n,arguments))},o=uL(0,t.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+dL(a,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var l=function(){};l.prototype=t.prototype,i.prototype=new l,l.prototype=null}return i},pL=fL,N_=Function.prototype.bind||pL,mL=Function.prototype.call,gL=Object.prototype.hasOwnProperty,vL=N_,yL=vL.call(mL,gL),Ze,xL=QF,_L=ZF,wL=JF,bL=eL,Zu=KA,Iu=pd,SL=tL,QA=Function,Cv=function(r){try{return QA('"use strict"; return ('+r+").constructor;")()}catch{}},tl=Object.getOwnPropertyDescriptor;if(tl)try{tl({},"")}catch{tl=null}var Av=function(){throw new Iu},TL=tl?function(){try{return arguments.callee,Av}catch{try{return tl(arguments,"callee").get}catch{return Av}}}():Av,Hl=iL(),EL=oL(),_r=Object.getPrototypeOf||(EL?function(r){return r.__proto__}:null),Kl={},CL=typeof Uint8Array>"u"||!_r?Ze:_r(Uint8Array),rl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ze:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ze:ArrayBuffer,"%ArrayIteratorPrototype%":Hl&&_r?_r([][Symbol.iterator]()):Ze,"%AsyncFromSyncIteratorPrototype%":Ze,"%AsyncFunction%":Kl,"%AsyncGenerator%":Kl,"%AsyncGeneratorFunction%":Kl,"%AsyncIteratorPrototype%":Kl,"%Atomics%":typeof Atomics>"u"?Ze:Atomics,"%BigInt%":typeof BigInt>"u"?Ze:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ze:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ze:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ze:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":xL,"%eval%":eval,"%EvalError%":_L,"%Float32Array%":typeof Float32Array>"u"?Ze:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ze:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ze:FinalizationRegistry,"%Function%":QA,"%GeneratorFunction%":Kl,"%Int8Array%":typeof Int8Array>"u"?Ze:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ze:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ze:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hl&&_r?_r(_r([][Symbol.iterator]())):Ze,"%JSON%":typeof JSON=="object"?JSON:Ze,"%Map%":typeof Map>"u"?Ze:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hl||!_r?Ze:_r(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ze:Promise,"%Proxy%":typeof Proxy>"u"?Ze:Proxy,"%RangeError%":wL,"%ReferenceError%":bL,"%Reflect%":typeof Reflect>"u"?Ze:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ze:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hl||!_r?Ze:_r(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ze:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hl&&_r?_r(""[Symbol.iterator]()):Ze,"%Symbol%":Hl?Symbol:Ze,"%SyntaxError%":Zu,"%ThrowTypeError%":TL,"%TypedArray%":CL,"%TypeError%":Iu,"%Uint8Array%":typeof Uint8Array>"u"?Ze:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ze:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ze:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ze:Uint32Array,"%URIError%":SL,"%WeakMap%":typeof WeakMap>"u"?Ze:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ze:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ze:WeakSet};if(_r)try{null.error}catch(r){var AL=_r(_r(r));rl["%Error.prototype%"]=AL}var PL=function r(e){var t;if(e==="%AsyncFunction%")t=Cv("async function () {}");else if(e==="%GeneratorFunction%")t=Cv("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Cv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&_r&&(t=_r(i.prototype))}return rl[e]=t,t},$T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},md=N_,nm=yL,kL=md.call(Function.call,Array.prototype.concat),IL=md.call(Function.apply,Array.prototype.splice),HT=md.call(Function.call,String.prototype.replace),im=md.call(Function.call,String.prototype.slice),ML=md.call(Function.call,RegExp.prototype.exec),RL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,OL=/\\(\\)?/g,NL=function(e){var t=im(e,0,1),n=im(e,-1);if(t==="%"&&n!=="%")throw new Zu("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Zu("invalid intrinsic syntax, expected opening `%`");var i=[];return HT(e,RL,function(s,o,a,u){i[i.length]=a?HT(u,OL,"$1"):o||s}),i},BL=function(e,t){var n=e,i;if(nm($T,n)&&(i=$T[n],n="%"+i[0]+"%"),nm(rl,n)){var s=rl[n];if(s===Kl&&(s=PL(n)),typeof s>"u"&&!t)throw new Iu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Zu("intrinsic "+e+" does not exist!")},vc=function(e,t){if(typeof e!="string"||e.length===0)throw new Iu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Iu('"allowMissing" argument must be a boolean');if(ML(/^%?[^%]*%?$/,e)===null)throw new Zu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=NL(e),i=n.length>0?n[0]:"",s=BL("%"+i+"%",t),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],IL(n,kL([0,1],l)));for(var h=1,c=!0;h<n.length;h+=1){var d=n[h],p=im(d,0,1),g=im(d,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new Zu("property names with quotes must have matching quotes");if((d==="constructor"||!c)&&(u=!0),i+="."+d,o="%"+i+"%",nm(rl,o))a=rl[o];else if(a!=null){if(!(d in a)){if(!t)throw new Iu("base intrinsic for "+e+" exists, but the property is not available.");return}if(tl&&h+1>=n.length){var v=tl(a,d);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[d]}else c=nm(a,d),a=a[d];c&&!u&&(rl[o]=a)}}return a},ZA={exports:{}},Pv,zT;function B_(){if(zT)return Pv;zT=1;var r=vc,e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Pv=e,Pv}var FL=vc,Ip=FL("%Object.getOwnPropertyDescriptor%",!0);if(Ip)try{Ip([],"length")}catch{Ip=null}var JA=Ip,YT=B_(),LL=KA,zl=pd,GT=JA,DL=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new zl("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new zl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!GT&&GT(e,t);if(YT)YT(e,t,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[t]=n;else throw new LL("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},d1=B_(),eP=function(){return!!d1};eP.hasArrayLengthDefineBug=function(){if(!d1)return null;try{return d1([],"length",{value:1}).length!==1}catch{return!0}};var UL=eP,jL=vc,WT=DL,XL=UL(),VT=JA,qT=pd,$L=jL("%Math.floor%"),HL=function(e,t){if(typeof e!="function")throw new qT("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||$L(t)!==t)throw new qT("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&VT){var o=VT(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(XL?WT(e,"length",t,!0,!0):WT(e,"length",t)),e};(function(r){var e=N_,t=vc,n=HL,i=pd,s=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(o,s),u=B_(),l=t("%Math.max%");r.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=a(e,o,arguments);return n(p,1+l(0,d.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};u?u(r.exports,"apply",{value:h}):r.exports.apply=h})(ZA);var zL=ZA.exports,tP=vc,rP=zL,YL=rP(tP("String.prototype.indexOf")),GL=function(e,t){var n=tP(e,!!t);return typeof n=="function"&&YL(e,".prototype.")>-1?rP(n):n};const WL={},VL=Object.freeze(Object.defineProperty({__proto__:null,default:WL},Symbol.toStringTag,{value:"Module"})),qL=uA(VL);var F_=typeof Map=="function"&&Map.prototype,kv=Object.getOwnPropertyDescriptor&&F_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,sm=F_&&kv&&typeof kv.get=="function"?kv.get:null,KT=F_&&Map.prototype.forEach,L_=typeof Set=="function"&&Set.prototype,Iv=Object.getOwnPropertyDescriptor&&L_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,om=L_&&Iv&&typeof Iv.get=="function"?Iv.get:null,QT=L_&&Set.prototype.forEach,KL=typeof WeakMap=="function"&&WeakMap.prototype,yh=KL?WeakMap.prototype.has:null,QL=typeof WeakSet=="function"&&WeakSet.prototype,xh=QL?WeakSet.prototype.has:null,ZL=typeof WeakRef=="function"&&WeakRef.prototype,ZT=ZL?WeakRef.prototype.deref:null,JL=Boolean.prototype.valueOf,eD=Object.prototype.toString,tD=Function.prototype.toString,rD=String.prototype.match,D_=String.prototype.slice,Jo=String.prototype.replace,nD=String.prototype.toUpperCase,JT=String.prototype.toLowerCase,nP=RegExp.prototype.test,eE=Array.prototype.concat,_s=Array.prototype.join,iD=Array.prototype.slice,tE=Math.floor,f1=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Mv=Object.getOwnPropertySymbols,p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ju||!0)?Symbol.toStringTag:null,iP=Object.prototype.propertyIsEnumerable,rE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function nE(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||nP.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-tE(-r):tE(r);if(n!==r){var i=String(n),s=D_.call(e,i.length+1);return Jo.call(i,t,"$&_")+"."+Jo.call(Jo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jo.call(e,t,"$&_")}var m1=qL,iE=m1.custom,sE=oP(iE)?iE:null,sD=function r(e,t,n,i){var s=t||{};if(Ho(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ho(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ho(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ho(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ho(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return lP(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?nE(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?nE(e,l):l}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return g1(e)?"[Array]":"[Object]";var c=SD(s,n);if(typeof i>"u")i=[];else if(aP(i,e)>=0)return"[Circular]";function d(F,B,j){if(B&&(i=iD.call(i),i.push(B)),j){var z={depth:s.depth};return Ho(s,"quoteStyle")&&(z.quoteStyle=s.quoteStyle),r(F,z,n+1,i)}return r(F,s,n+1,i)}if(typeof e=="function"&&!oE(e)){var p=pD(e),g=Cf(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+_s.call(g,", ")+" }":"")}if(oP(e)){var v=Ju?Jo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):p1.call(e);return typeof e=="object"&&!Ju?Yc(v):v}if(_D(e)){for(var x="<"+JT.call(String(e.nodeName)),y=e.attributes||[],b=0;b<y.length;b++)x+=" "+y[b].name+"="+sP(oD(y[b].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+JT.call(String(e.nodeName))+">",x}if(g1(e)){if(e.length===0)return"[]";var _=Cf(e,d);return c&&!bD(_)?"["+v1(_,c)+"]":"[ "+_s.call(_,", ")+" ]"}if(lD(e)){var S=Cf(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!iP.call(e,"cause")?"{ ["+String(e)+"] "+_s.call(eE.call("[cause]: "+d(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+_s.call(S,", ")+" }"}if(typeof e=="object"&&o){if(sE&&typeof e[sE]=="function"&&m1)return m1(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(mD(e)){var I=[];return KT&&KT.call(e,function(F,B){I.push(d(B,e,!0)+" => "+d(F,e))}),aE("Map",sm.call(e),I,c)}if(yD(e)){var P=[];return QT&&QT.call(e,function(F){P.push(d(F,e))}),aE("Set",om.call(e),P,c)}if(gD(e))return Rv("WeakMap");if(xD(e))return Rv("WeakSet");if(vD(e))return Rv("WeakRef");if(cD(e))return Yc(d(Number(e)));if(dD(e))return Yc(d(f1.call(e)));if(hD(e))return Yc(JL.call(e));if(uD(e))return Yc(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===io)return"{ [object globalThis] }";if(!aD(e)&&!oE(e)){var k=Cf(e,d),M=rE?rE(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",D=!M&&qr&&Object(e)===e&&qr in e?D_.call(Ta(e),8,-1):O?"Object":"",L=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=L+(D||O?"["+_s.call(eE.call([],D||[],O||[]),": ")+"] ":"");return k.length===0?X+"{}":c?X+"{"+v1(k,c)+"}":X+"{ "+_s.call(k,", ")+" }"}return String(e)};function sP(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function oD(r){return Jo.call(String(r),/"/g,"&quot;")}function g1(r){return Ta(r)==="[object Array]"&&(!qr||!(typeof r=="object"&&qr in r))}function aD(r){return Ta(r)==="[object Date]"&&(!qr||!(typeof r=="object"&&qr in r))}function oE(r){return Ta(r)==="[object RegExp]"&&(!qr||!(typeof r=="object"&&qr in r))}function lD(r){return Ta(r)==="[object Error]"&&(!qr||!(typeof r=="object"&&qr in r))}function uD(r){return Ta(r)==="[object String]"&&(!qr||!(typeof r=="object"&&qr in r))}function cD(r){return Ta(r)==="[object Number]"&&(!qr||!(typeof r=="object"&&qr in r))}function hD(r){return Ta(r)==="[object Boolean]"&&(!qr||!(typeof r=="object"&&qr in r))}function oP(r){if(Ju)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!p1)return!1;try{return p1.call(r),!0}catch{}return!1}function dD(r){if(!r||typeof r!="object"||!f1)return!1;try{return f1.call(r),!0}catch{}return!1}var fD=Object.prototype.hasOwnProperty||function(r){return r in this};function Ho(r,e){return fD.call(r,e)}function Ta(r){return eD.call(r)}function pD(r){if(r.name)return r.name;var e=rD.call(tD.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function aP(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function mD(r){if(!sm||!r||typeof r!="object")return!1;try{sm.call(r);try{om.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function gD(r){if(!yh||!r||typeof r!="object")return!1;try{yh.call(r,yh);try{xh.call(r,xh)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function vD(r){if(!ZT||!r||typeof r!="object")return!1;try{return ZT.call(r),!0}catch{}return!1}function yD(r){if(!om||!r||typeof r!="object")return!1;try{om.call(r);try{sm.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function xD(r){if(!xh||!r||typeof r!="object")return!1;try{xh.call(r,xh);try{yh.call(r,yh)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function _D(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function lP(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return lP(D_.call(r,0,e.maxStringLength),e)+n}var i=Jo.call(Jo.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wD);return sP(i,"single",e)}function wD(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+nD.call(e.toString(16))}function Yc(r){return"Object("+r+")"}function Rv(r){return r+" { ? }"}function aE(r,e,t,n){var i=n?v1(t,n):_s.call(t,", ");return r+" ("+e+") {"+i+"}"}function bD(r){for(var e=0;e<r.length;e++)if(aP(r[e],`
`)>=0)return!1;return!0}function SD(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=_s.call(Array(r.indent+1)," ");else return null;return{base:t,prev:_s.call(Array(e+1),t)}}function v1(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+_s.call(r,","+t)+`
`+e.prev}function Cf(r,e){var t=g1(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Ho(r,i)?e(r[i],r):""}var s=typeof Mv=="function"?Mv(r):[],o;if(Ju){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in r)Ho(r,u)&&(t&&String(Number(u))===u&&u<r.length||Ju&&o["$"+u]instanceof Symbol||(nP.call(/[^\w$]/,u)?n.push(e(u,r)+": "+e(r[u],r)):n.push(u+": "+e(r[u],r))));if(typeof Mv=="function")for(var l=0;l<s.length;l++)iP.call(r,s[l])&&n.push("["+e(s[l])+"]: "+e(r[s[l]],r));return n}var uP=vc,yc=GL,TD=sD,ED=pd,Af=uP("%WeakMap%",!0),Pf=uP("%Map%",!0),CD=yc("WeakMap.prototype.get",!0),AD=yc("WeakMap.prototype.set",!0),PD=yc("WeakMap.prototype.has",!0),kD=yc("Map.prototype.get",!0),ID=yc("Map.prototype.set",!0),MD=yc("Map.prototype.has",!0),U_=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},RD=function(r,e){var t=U_(r,e);return t&&t.value},OD=function(r,e,t){var n=U_(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},ND=function(r,e){return!!U_(r,e)},BD=function(){var e,t,n,i={assert:function(s){if(!i.has(s))throw new ED("Side channel does not contain "+TD(s))},get:function(s){if(Af&&s&&(typeof s=="object"||typeof s=="function")){if(e)return CD(e,s)}else if(Pf){if(t)return kD(t,s)}else if(n)return RD(n,s)},has:function(s){if(Af&&s&&(typeof s=="object"||typeof s=="function")){if(e)return PD(e,s)}else if(Pf){if(t)return MD(t,s)}else if(n)return ND(n,s);return!1},set:function(s,o){Af&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Af),AD(e,s,o)):Pf?(t||(t=new Pf),ID(t,s,o)):(n||(n={key:{},next:null}),OD(n,s,o))}};return i},FD=String.prototype.replace,LD=/%20/g,Ov={RFC1738:"RFC1738",RFC3986:"RFC3986"},j_={default:Ov.RFC3986,formatters:{RFC1738:function(r){return FD.call(r,LD,"+")},RFC3986:function(r){return String(r)}},RFC1738:Ov.RFC1738,RFC3986:Ov.RFC3986},DD=j_,Nv=Object.prototype.hasOwnProperty,qa=Array.isArray,ls=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),UD=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(qa(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);t.obj[t.prop]=i}}},cP=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},jD=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(qa(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Nv.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return qa(e)&&!qa(t)&&(i=cP(e,n)),qa(e)&&qa(t)?(t.forEach(function(s,o){if(Nv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Nv.call(s,o)?s[o]=r(s[o],a,n):s[o]=a,s},i)},XD=function(e,t){return Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},e)},$D=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},HD=function(e,t,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===DD.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+ls[l];continue}if(l<2048){a=a+(ls[192|l>>6]+ls[128|l&63]);continue}if(l<55296||l>=57344){a=a+(ls[224|l>>12]+ls[128|l>>6&63]+ls[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=ls[240|l>>18]+ls[128|l>>12&63]+ls[128|l>>6&63]+ls[128|l&63]}return a},zD=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],h=o[l];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(t.push({obj:o,prop:l}),n.push(h))}return UD(t),e},YD=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},GD=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},WD=function(e,t){return[].concat(e,t)},VD=function(e,t){if(qa(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},hP={arrayToObject:cP,assign:XD,combine:WD,compact:zD,decode:$D,encode:HD,isBuffer:GD,isRegExp:YD,maybeMap:VD,merge:jD},dP=BD,Mp=hP,_h=j_,qD=Object.prototype.hasOwnProperty,fP={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ys=Array.isArray,KD=Array.prototype.push,pP=function(r,e){KD.apply(r,ys(e)?e:[e])},QD=Date.prototype.toISOString,lE=_h.default,ur={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Mp.encode,encodeValuesOnly:!1,format:lE,formatter:_h.formatters[lE],indices:!1,serializeDate:function(e){return QD.call(e)},skipNulls:!1,strictNullHandling:!1},ZD=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bv={},JD=function r(e,t,n,i,s,o,a,u,l,h,c,d,p,g,v,x,y,b){for(var _=e,S=b,I=0,P=!1;(S=S.get(Bv))!==void 0&&!P;){var k=S.get(e);if(I+=1,typeof k<"u"){if(k===I)throw new RangeError("Cyclic object value");P=!0}typeof S.get(Bv)>"u"&&(I=0)}if(typeof h=="function"?_=h(t,_):_ instanceof Date?_=p(_):n==="comma"&&ys(_)&&(_=Mp.maybeMap(_,function(H){return H instanceof Date?p(H):H})),_===null){if(o)return l&&!x?l(t,ur.encoder,y,"key",g):t;_=""}if(ZD(_)||Mp.isBuffer(_)){if(l){var M=x?t:l(t,ur.encoder,y,"key",g);return[v(M)+"="+v(l(_,ur.encoder,y,"value",g))]}return[v(t)+"="+v(String(_))]}var O=[];if(typeof _>"u")return O;var D;if(n==="comma"&&ys(_))x&&l&&(_=Mp.maybeMap(_,l)),D=[{value:_.length>0?_.join(",")||null:void 0}];else if(ys(h))D=h;else{var L=Object.keys(_);D=c?L.sort(c):L}var X=u?t.replace(/\./g,"%2E"):t,F=i&&ys(_)&&_.length===1?X+"[]":X;if(s&&ys(_)&&_.length===0)return F+"[]";for(var B=0;B<D.length;++B){var j=D[B],z=typeof j=="object"&&typeof j.value<"u"?j.value:_[j];if(!(a&&z===null)){var q=d&&u?j.replace(/\./g,"%2E"):j,$=ys(_)?typeof n=="function"?n(F,q):F:F+(d?"."+q:"["+q+"]");b.set(e,I);var W=dP();W.set(Bv,b),pP(O,r(z,$,n,i,s,o,a,u,n==="comma"&&x&&ys(_)?null:l,h,c,d,p,g,v,x,y,W))}}return O},e4=function(e){if(!e)return ur;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||ur.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=_h.default;if(typeof e.format<"u"){if(!qD.call(_h.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=_h.formatters[n],s=ur.filter;(typeof e.filter=="function"||ys(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in fP?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=ur.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ur.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ur.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ur.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ur.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ur.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ur.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ur.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ur.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ur.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ur.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ur.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ur.strictNullHandling}},t4=function(r,e){var t=r,n=e4(e),i,s;typeof n.filter=="function"?(s=n.filter,t=s("",t)):ys(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof t!="object"||t===null)return"";var a=fP[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);for(var l=dP(),h=0;h<i.length;++h){var c=i[h];n.skipNulls&&t[c]===null||pP(o,JD(t[c],c,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},ec=hP,y1=Object.prototype.hasOwnProperty,r4=Array.isArray,qt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:ec.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n4=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},mP=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},i4="utf8=%26%2310003%3B",s4="utf8=%E2%9C%93",o4=function(e,t){var n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,s),a=-1,u,l=t.charset;if(t.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===s4?l="utf-8":o[u]===i4&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],c=h.indexOf("]="),d=c===-1?h.indexOf("="):c+1,p,g;d===-1?(p=t.decoder(h,qt.decoder,l,"key"),g=t.strictNullHandling?null:""):(p=t.decoder(h.slice(0,d),qt.decoder,l,"key"),g=ec.maybeMap(mP(h.slice(d+1),t),function(x){return t.decoder(x,qt.decoder,l,"value")})),g&&t.interpretNumericEntities&&l==="iso-8859-1"&&(g=n4(g)),h.indexOf("[]=")>-1&&(g=r4(g)?[g]:g);var v=y1.call(n,p);v&&t.duplicates==="combine"?n[p]=ec.combine(n[p],g):(!v||t.duplicates==="last")&&(n[p]=g)}return n},a4=function(r,e,t,n){for(var i=n?e:mP(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=t.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=t.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=t.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(l,10);!t.parseArrays&&l===""?o={0:i}:!isNaN(h)&&a!==l&&String(h)===l&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(o=[],o[h]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},l4=function(e,t,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,h=[];if(l){if(!n.plainObjects&&y1.call(Object.prototype,l)&&!n.allowPrototypes)return;h.push(l)}for(var c=0;n.depth>0&&(u=a.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&y1.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(u[1])}return u&&h.push("["+s.slice(u.index)+"]"),a4(h,t,n,i)}},u4=function(e){if(!e)return qt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?qt.charset:e.charset,n=typeof e.duplicates>"u"?qt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:qt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:qt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:qt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:qt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:qt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:qt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:qt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:qt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:qt.decoder,delimiter:typeof e.delimiter=="string"||ec.isRegExp(e.delimiter)?e.delimiter:qt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:qt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:qt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:qt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:qt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:qt.strictNullHandling}},c4=function(r,e){var t=u4(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?o4(r,t):r,i=t.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=l4(a,n[a],t,typeof r=="string");i=ec.merge(i,u,t)}return t.allowSparse===!0?i:ec.compact(i)},h4=t4,d4=c4,f4=j_,p4={formats:f4,parse:d4,stringify:h4},m4=KF;function ho(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g4=/^([a-z0-9.+-]+:)/i,v4=/:[0-9]*$/,y4=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,x4=["<",">",'"',"`"," ","\r",`
`,"	"],_4=["{","}","|","\\","^","`"].concat(x4),x1=["'"].concat(_4),uE=["%","/","?",";","#"].concat(x1),cE=["/","?","#"],w4=255,hE=/^[+a-z0-9A-Z_-]{0,63}$/,b4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S4={javascript:!0,"javascript:":!0},_1={javascript:!0,"javascript:":!0},Mu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w1=p4;function T4(r,e,t){if(r&&typeof r=="object"&&r instanceof ho)return r;var n=new ho;return n.parse(r,e,t),n}ho.prototype.parse=function(r,e,t){if(typeof r!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",s=r.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),r=s.join(i);var a=r;if(a=a.trim(),!t&&r.split("#").length===1){var u=y4.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=w1.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=g4.exec(a);if(l){l=l[0];var h=l.toLowerCase();this.protocol=h,a=a.substr(l.length)}if(t||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var c=a.substr(0,2)==="//";c&&!(l&&_1[l])&&(a=a.substr(2),this.slashes=!0)}if(!_1[l]&&(c||l&&!Mu[l])){for(var d=-1,p=0;p<cE.length;p++){var g=a.indexOf(cE[p]);g!==-1&&(d===-1||g<d)&&(d=g)}var v,x;d===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",d),x!==-1&&(v=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(v)),d=-1;for(var p=0;p<uE.length;p++){var g=a.indexOf(uE[p]);g!==-1&&(d===-1||g<d)&&(d=g)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var b=this.hostname.split(/\./),p=0,_=b.length;p<_;p++){var S=b[p];if(S&&!S.match(hE)){for(var I="",P=0,k=S.length;P<k;P++)S.charCodeAt(P)>127?I+="x":I+=S[P];if(!I.match(hE)){var M=b.slice(0,p),O=b.slice(p+1),D=S.match(b4);D&&(M.push(D[1]),O.unshift(D[2])),O.length&&(a="/"+O.join(".")+a),this.hostname=M.join(".");break}}}this.hostname.length>w4?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=m4.toASCII(this.hostname));var L=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+L,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!S4[h])for(var p=0,_=x1.length;p<_;p++){var F=x1[p];if(a.indexOf(F)!==-1){var B=encodeURIComponent(F);B===F&&(B=escape(F)),a=a.split(F).join(B)}}var j=a.indexOf("#");j!==-1&&(this.hash=a.substr(j),a=a.slice(0,j));var z=a.indexOf("?");if(z!==-1?(this.search=a.substr(z),this.query=a.substr(z+1),e&&(this.query=w1.parse(this.query)),a=a.slice(0,z)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Mu[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",q=this.search||"";this.path=L+q}return this.href=this.format(),this};ho.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=w1.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Mu[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+t+o+n};ho.prototype.resolve=function(r){return this.resolveObject(T4(r,!1,!0)).format()};ho.prototype.resolveObject=function(r){if(typeof r=="string"){var e=new ho;e.parse(r,!1,!0),r=e}for(var t=new ho,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];t[s]=this[s]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var o=Object.keys(r),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(t[u]=r[u])}return Mu[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Mu[r.protocol]){for(var l=Object.keys(r),h=0;h<l.length;h++){var c=l[h];t[c]=r[c]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!_1[r.protocol]){for(var _=(r.pathname||"").split("/");_.length&&!(r.host=_.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),t.pathname=_.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var d=t.pathname||"",p=t.search||"";t.path=d+p}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var g=t.pathname&&t.pathname.charAt(0)==="/",v=r.host||r.pathname&&r.pathname.charAt(0)==="/",x=v||g||t.host&&r.pathname,y=x,b=t.pathname&&t.pathname.split("/")||[],_=r.pathname&&r.pathname.split("/")||[],S=t.protocol&&!Mu[t.protocol];if(S&&(t.hostname="",t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host=null),x=x&&(_[0]===""||b[0]==="")),v)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,b=_;else if(_.length)b||(b=[]),b.pop(),b=b.concat(_),t.search=r.search,t.query=r.query;else if(r.search!=null){if(S){t.host=b.shift(),t.hostname=t.host;var I=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;I&&(t.auth=I.shift(),t.hostname=I.shift(),t.host=t.hostname)}return t.search=r.search,t.query=r.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!b.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var P=b.slice(-1)[0],k=(t.host||r.host||b.length>1)&&(P==="."||P==="..")||P==="",M=0,O=b.length;O>=0;O--)P=b[O],P==="."?b.splice(O,1):P===".."?(b.splice(O,1),M++):M&&(b.splice(O,1),M--);if(!x&&!y)for(;M--;M)b.unshift("..");x&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),k&&b.join("/").substr(-1)!=="/"&&b.push("");var D=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(S){t.hostname=D?"":b.length?b.shift():"",t.host=t.hostname;var I=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;I&&(t.auth=I.shift(),t.hostname=I.shift(),t.host=t.hostname)}return x=x||t.host&&b.length,x&&!D&&b.unshift(""),b.length>0?t.pathname=b.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};ho.prototype.parseHost=function(){var r=this.host,e=v4.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const dE={};function Ke(r,e,t=3){if(dE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(n))),dE[e]=!0}function bi(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function Gc(r){return r.split("?")[0].split("#")[0]}function E4(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C4(r,e,t){return r.replace(new RegExp(E4(e),"g"),t)}function A4(r,e){let t="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=r.length;++a){if(a<r.length)o=r.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",n=0):(t=t.slice(0,u),n=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=a,s=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+=`/${r.slice(i+1,a)}`:t=r.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return t}const Gt={toPosix(r){return C4(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){bi(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if(bi(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const n=Gc(this.toPosix(e??ye.ADAPTER.getBaseUrl())),i=Gc(this.toPosix(t??this.rootname(n)));return r=this.toPosix(r),r.startsWith("/")?Gt.join(i,r.slice(1)):this.isAbsolute(r)?r:this.join(n,r)},normalize(r){if(bi(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const n=r.endsWith("/");return r=A4(r,!1),r.length>0&&n&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return bi(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const n=r[t];if(bi(n),n.length>0)if(e===void 0)e=n;else{const i=r[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(bi(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let n=-1,i=!0;const s=this.getProtocol(r),o=r;r=r.slice(s.length);for(let a=r.length-1;a>=1;--a)if(e=r.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?t?"/":this.isUrl(o)?s+r:s:t&&n===1?"//":s+r.slice(0,n)},rootname(r){bi(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){bi(r),e&&bi(e),r=Gc(this.toPosix(r));let t=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let o=e.length-1,a=-1;for(s=r.length-1;s>=0;--s){const u=r.charCodeAt(s);if(u===47){if(!i){t=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return t===n?n=a:n===-1&&(n=r.length),r.slice(t,n)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){t=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":r.slice(t,n)},extname(r){bi(r),r=Gc(this.toPosix(r));let e=-1,t=0,n=-1,i=!0,s=0;for(let o=r.length-1;o>=0;--o){const a=r.charCodeAt(o);if(a===47){if(!i){t=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse(r){bi(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=Gc(this.toPosix(r));let t=r.charCodeAt(0);const n=this.isAbsolute(r);let i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=r.length-1,h=0;for(;l>=i;--l){if(t=r.charCodeAt(l),t===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),t===46?s===-1?s=l:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=r.slice(1,a):e.base=e.name=r.slice(o,a)):(o===0&&n?(e.name=r.slice(1,s),e.base=r.slice(1,a)):(e.name=r.slice(o,s),e.base=r.slice(o,a)),e.ext=r.slice(s,a)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Fv;async function P4(){return Fv??(Fv=(async()=>{var s;const r=document.createElement("canvas").getContext("webgl");if(!r)return Yr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Yr.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.deleteFramebuffer(n),r.deleteTexture(t),(s=r.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Yr.PMA:Yr.UNPACK})()),Fv}let Lv;function gP(){return typeof Lv>"u"&&(Lv=function(){var e;const r={stencil:!0,failIfMajorPerformanceCaveat:ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ye.ADAPTER.getWebGLRenderingContext())return!1;const t=ye.ADAPTER.createCanvas();let n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Lv}var k4={grad:.9,turn:360,rad:360/(2*Math.PI)},Ws=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},wr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},li=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},vP=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},fE=function(r){return{r:li(r.r,0,255),g:li(r.g,0,255),b:li(r.b,0,255),a:li(r.a)}},Dv=function(r){return{r:wr(r.r),g:wr(r.g),b:wr(r.b),a:wr(r.a,3)}},I4=/^#([0-9a-f]{3,8})$/i,kf=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},yP=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=Math.max(e,t,n),o=s-Math.min(e,t,n),a=o?s===e?(t-n)/o:s===t?2+(n-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},xP=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var s=Math.floor(e),o=n*(1-t),a=n*(1-(e-s)*t),u=n*(1-(1-e+s)*t),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},pE=function(r){return{h:vP(r.h),s:li(r.s,0,100),l:li(r.l,0,100),a:li(r.a)}},mE=function(r){return{h:wr(r.h),s:wr(r.s),l:wr(r.l),a:wr(r.a,3)}},gE=function(r){return xP((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},wh=function(r){return{h:(e=yP(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},M4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,R4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,O4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b1={string:[[function(r){var e=I4.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?wr(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?wr(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=O4.exec(r)||N4.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:fE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=M4.exec(r)||R4.exec(r);if(!e)return null;var t,n,i=pE({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(k4[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return gE(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=i===void 0?1:i;return Ws(e)&&Ws(t)&&Ws(n)?fE({r:Number(e),g:Number(t),b:Number(n),a:Number(s)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,s=i===void 0?1:i;if(!Ws(e)||!Ws(t)||!Ws(n))return null;var o=pE({h:Number(e),s:Number(t),l:Number(n),a:Number(s)});return gE(o)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,s=i===void 0?1:i;if(!Ws(e)||!Ws(t)||!Ws(n))return null;var o=function(a){return{h:vP(a.h),s:li(a.s,0,100),v:li(a.v,0,100),a:li(a.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(s)});return xP(o)},"hsv"]]},vE=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},B4=function(r){return typeof r=="string"?vE(r.trim(),b1.string):typeof r=="object"&&r!==null?vE(r,b1.object):[null,void 0]},Uv=function(r,e){var t=wh(r);return{h:t.h,s:li(t.s+100*e,0,100),l:t.l,a:t.a}},jv=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},yE=function(r,e){var t=wh(r);return{h:t.h,s:t.s,l:li(t.l+100*e,0,100),a:t.a}},S1=function(){function r(e){this.parsed=B4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return wr(jv(this.rgba),2)},r.prototype.isDark=function(){return jv(this.rgba)<.5},r.prototype.isLight=function(){return jv(this.rgba)>=.5},r.prototype.toHex=function(){return e=Dv(this.rgba),t=e.r,n=e.g,i=e.b,o=(s=e.a)<1?kf(wr(255*s)):"","#"+kf(t)+kf(n)+kf(i)+o;var e,t,n,i,s,o},r.prototype.toRgb=function(){return Dv(this.rgba)},r.prototype.toRgbString=function(){return e=Dv(this.rgba),t=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+n+", "+i+", "+s+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,s},r.prototype.toHsl=function(){return mE(wh(this.rgba))},r.prototype.toHslString=function(){return e=mE(wh(this.rgba)),t=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+s+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,s},r.prototype.toHsv=function(){return e=yP(this.rgba),{h:wr(e.h),s:wr(e.s),v:wr(e.v),a:wr(e.a,3)};var e},r.prototype.invert=function(){return cs({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),cs(Uv(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),cs(Uv(this.rgba,-e))},r.prototype.grayscale=function(){return cs(Uv(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),cs(yE(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),cs(yE(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?cs({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):wr(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=wh(this.rgba);return typeof e=="number"?cs({h:e,s:t.s,l:t.l,a:t.a}):wr(t.h)},r.prototype.isEqual=function(e){return this.toHex()===cs(e).toHex()},r}(),cs=function(r){return r instanceof S1?r:new S1(r)},xE=[],F4=function(r){r.forEach(function(e){xE.indexOf(e)<0&&(e(S1,b1),xE.push(e))})};function L4(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var s={};r.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var h=this.toRgb(),c=1/0,d="black";if(!s.length)for(var p in t)s[p]=new r(t[p]).toRgb();for(var g in t){var v=(a=h,u=s[g],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));v<c&&(c=v,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":t[a];return u?new r(u).toRgb():null},"name"])}F4([L4]);const Ql=class Rp{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Rp)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(o=>e[o]===t[o])}return e===t}toRgba(){const[e,t,n,i]=this._components;return{r:e,g:t,b:n,a:i}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[t,n,i]=this._components;return e[0]=t,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,n,i,s]=Rp.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return t&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,i,s]=this._components;return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let t,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;t=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,n,i,s=255]=e,t/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Rp.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=cs(e);o.isValid()&&({r:t,g:n,b:i,a:s}=o.rgba,t/=255,n/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(e*255<<16)+(t*255<<8)+(n*255|0)}_clamp(e,t=0,n=1){return typeof e=="number"?Math.min(Math.max(e,t),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,t),n)}),e)}};Ql.shared=new Ql,Ql.temp=new Ql,Ql.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let lt=Ql;function D4(r){return Ke("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),lt.shared.setValue(r).toHex()}function U4(r){return Ke("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),lt.shared.setValue(r).toNumber()}function j4(){const r=[],e=[];for(let n=0;n<32;n++)r[n]=n,e[n]=n;r[Ie.NORMAL_NPM]=Ie.NORMAL,r[Ie.ADD_NPM]=Ie.ADD,r[Ie.SCREEN_NPM]=Ie.SCREEN,e[Ie.NORMAL]=Ie.NORMAL_NPM,e[Ie.ADD]=Ie.ADD_NPM,e[Ie.SCREEN]=Ie.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const _P=j4();function wP(r,e){return _P[e?1:0][r]}function X4(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function bP(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function am(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function _E(r){return!(r&r-1)&&!!r}function wE(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function Ru(r,e,t){const n=r.length;let i;if(e>=n||t===0)return;t=e+t>n?n-e:t;const s=n-t;for(i=e;i<s;++i)r[i]=r[i+t];r.length=s}function ea(r){return r===0?0:r<0?-1:1}let $4=0;function cl(){return++$4}const T1=class{constructor(r,e,t,n){this.left=r,this.top=e,this.right=t,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};T1.EMPTY=new T1(0,0,0,0);let bE=T1;const SE={},hs=Object.create(null),Do=Object.create(null);class H4{constructor(e,t,n){this._canvas=ye.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ye.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function TE(r,e,t){for(let n=0,i=4*t*e;n<e;++n,i+=4)if(r[i+3]!==0)return!1;return!0}function EE(r,e,t,n,i){const s=4*e;for(let o=n,a=n*s+4*t;o<=i;++o,a+=s)if(r[a+3]!==0)return!1;return!0}function z4(r){const{width:e,height:t}=r,n=r.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,t).data;let s=0,o=0,a=e-1,u=t-1;for(;o<t&&TE(i,e,o);)++o;if(o===t)return bE.EMPTY;for(;TE(i,e,u);)--u;for(;EE(i,e,s,o,u);)++s;for(;EE(i,e,a,o,u);)--a;return++a,++u,new bE(s,o,a,u)}function Y4(r){const e=z4(r),{width:t,height:n}=e;let i=null;if(!e.isEmpty()){const s=r.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,t,n)}return{width:t,height:n,data:i}}function G4(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function go(r,e=1){var n;const t=(n=ye.RETINA_PREFIX)==null?void 0:n.exec(r);return t?parseFloat(t[1]):e}var me=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(me||{});const E1=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},CE=(r,e)=>E1(r).priority??e,Te={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(E1).forEach(e=>{e.type.forEach(t=>{var n,i;return(i=(n=this._removeHandlers)[t])==null?void 0:i.call(n,e)})}),this},add(...r){return r.map(E1).forEach(e=>{e.type.forEach(t=>{var s,o;const n=this._addHandlers,i=this._queue;n[t]?(s=n[t])==null||s.call(n,e):(i[t]=i[t]||[],(o=i[t])==null||o.push(e))})}),this},handle(r,e,t){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[r]||i[r])throw new Error(`Extension type ${r} already has a handler`);n[r]=e,i[r]=t;const s=this._queue;return s[r]&&((o=s[r])==null||o.forEach(a=>e(a)),delete s[r]),this},handleByMap(r,e){return this.handle(r,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>CE(s,t)-CE(i,t)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class C1{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const W4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function V4(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function q4(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=W4.replace(/%forloop%/gi,V4(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const Xv=0,$v=1,Hv=2,zv=3,Yv=4,Gv=5;class Ls{constructor(){this.data=0,this.blendMode=Ie.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Xv)}set blend(e){!!(this.data&1<<Xv)!==e&&(this.data^=1<<Xv)}get offsets(){return!!(this.data&1<<$v)}set offsets(e){!!(this.data&1<<$v)!==e&&(this.data^=1<<$v)}get culling(){return!!(this.data&1<<Hv)}set culling(e){!!(this.data&1<<Hv)!==e&&(this.data^=1<<Hv)}get depthTest(){return!!(this.data&1<<zv)}set depthTest(e){!!(this.data&1<<zv)!==e&&(this.data^=1<<zv)}get depthMask(){return!!(this.data&1<<Gv)}set depthMask(e){!!(this.data&1<<Gv)!==e&&(this.data^=1<<Gv)}get clockwiseFrontFace(){return!!(this.data&1<<Yv)}set clockwiseFrontFace(e){!!(this.data&1<<Yv)!==e&&(this.data^=1<<Yv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ie.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ls;return e.depthTest=!1,e.blend=!0,e}}Ls.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const A1=[];function SP(r,e){if(!r)return null;let t="";if(typeof r=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(let n=A1.length-1;n>=0;--n){const i=A1[n];if(i.test&&i.test(r,t))return new i(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Di{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:h}=this;this._aliasCount++;for(let c=0,d=h.length;c<d;c++)h[c][l](e,t,n,i,s,o,a,u);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Di.prototype,{dispatch:{value:Di.prototype.emit},run:{value:Di.prototype.emit}});class jh{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Di("setRealSize"),this.onUpdate=new Di("update"),this.onError=new Di("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class xg extends jh{constructor(e,t){const{width:n,height:i}=t||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Yr.UNPACK);const s=t.realWidth,o=t.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(t.target,0,0,0,s,o,t.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(t.target,0,n.internalFormat,s,o,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const K4={scaleMode:Ni.NEAREST,alphaMode:Yr.NPM},P1=class Zl extends fd{constructor(e=null,t=null){super(),t=Object.assign({},Zl.defaultOptions,t);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:l,format:h,type:c,target:d,resolution:p,resourceOptions:g}=t;e&&!(e instanceof jh)&&(e=SP(e,g),e.internal=!0),this.resolution=p||ye.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=l,this._scaleMode=o,this.format=h,this.type=c,this.target=d,this.alphaMode=n,this.uid=cl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=_E(this.realWidth)&&_E(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Do[this.cacheId],delete hs[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Zl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,n=ye.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${cl()}`}s=e._pixiId}let o=Do[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Zl(e,t),o.cacheId=s,Zl.addToCache(o,s)),o}static fromBuffer(e,t,n,i){e=e||new Float32Array(t*n*4);const s=new xg(e,{width:t,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=de.RGBA,a=Se.FLOAT):e instanceof Int32Array?(o=de.RGBA_INTEGER,a=Se.INT):e instanceof Uint32Array?(o=de.RGBA_INTEGER,a=Se.UNSIGNED_INT):e instanceof Int16Array?(o=de.RGBA_INTEGER,a=Se.SHORT):e instanceof Uint16Array?(o=de.RGBA_INTEGER,a=Se.UNSIGNED_SHORT):e instanceof Int8Array?(o=de.RGBA,a=Se.BYTE):(o=de.RGBA,a=Se.UNSIGNED_BYTE),s.internal=!0,new Zl(s,Object.assign({},K4,{type:a,format:o},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Do[t]&&Do[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),Do[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Do[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Do[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete Do[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};P1.defaultOptions={mipmap:di.POW2,anisotropicLevel:0,scaleMode:Ni.LINEAR,wrapMode:ci.CLAMP,alphaMode:Yr.UNPACK,target:ku.TEXTURE_2D,format:de.RGBA,type:Se.UNSIGNED_BYTE},P1._globalBatch=0;let De=P1;class k1{constructor(){this.texArray=null,this.blend=0,this.type=Oi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Q4=0;class _t{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Q4++,this.disposeRunner=new Di("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Cs.ELEMENT_ARRAY_BUFFER:Cs.ARRAY_BUFFER}get index(){return this.type===Cs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new _t(e)}}class lm{constructor(e,t=0,n=!1,i=Se.FLOAT,s,o,a,u=1){this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,t,n,i,s){return new lm(e,t,n,i,s)}}const Z4={Float32Array,Uint32Array,Int32Array,Uint8Array};function J4(r,e){let t=0,n=0;const i={};for(let u=0;u<r.length;u++)n+=e[u],t+=r[u].length;const s=new ArrayBuffer(t*4);let o=null,a=0;for(let u=0;u<r.length;u++){const l=e[u],h=r[u],c=bP(h);i[c]||(i[c]=new Z4[c](s)),o=i[c];for(let d=0;d<h.length;d++){const p=(d/l|0)*n+a,g=d%l;o[p+g]=h[d]}a+=l}return new Float32Array(s)}const AE={5126:4,5123:2,5121:1};let e5=0;const t5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ms{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=e5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Di("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,i=!1,s,o,a,u=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof _t||(t instanceof Array&&(t=new Float32Array(t)),t=new _t(t));const l=e.split("|");if(l.length>1){for(let c=0;c<l.length;c++)this.addAttribute(l[c],t,n,i,s);return this}let h=this.buffers.indexOf(t);return h===-1&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new lm(h,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof _t||(e instanceof Array&&(e=new Uint16Array(e)),e=new _t(e)),e.type=Cs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],n=new _t;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),t.push(s.size*AE[s.type]/4),s.buffer=0}for(n.data=J4(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ms;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new _t(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new lm(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Cs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Ms,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new t5[bP(o.buffers[a].data)](i[a]),t.buffers[a]=new _t(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=Cs.ELEMENT_ARRAY_BUFFER;let a=0,u=0,l=0,h=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){h=c;break}for(const c in o.attributes){const d=o.attributes[c];(d.buffer|0)===h&&(u+=d.size*AE[d.type]/4)}for(let c=0;c<e.length;c++){const d=e[c].indexBuffer.data;for(let p=0;p<d.length;p++)t.indexBuffer.data[p+l]+=a;a+=e[c].buffers[h].data.length/u,l+=d.length}}return t}}class TP extends Ms{constructor(e=!1){super(),this._buffer=new _t(null,e,!1),this._indexBuffer=new _t(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Se.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Se.FLOAT).addAttribute("aColor",this._buffer,4,!0,Se.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Se.FLOAT).addIndex(this._indexBuffer)}}const um=Math.PI*2,r5=180/Math.PI,n5=Math.PI/180;var Mr=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(Mr||{});class je{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new je(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}je.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const If=[new je,new je,new je,new je];let Ye=class I1{constructor(e=0,t=0,n=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=Mr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new I1(0,0,0,0)}clone(){return new I1(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const O=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>O}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=If[0].set(e.left,e.top),u=If[1].set(e.left,e.bottom),l=If[2].set(e.right,e.top),h=If[3].set(e.right,e.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(c===0||(t.apply(a,a),t.apply(u,u),t.apply(l,l),t.apply(h,h),Math.max(a.x,u.x,l.x,h.x)<=n||Math.min(a.x,u.x,l.x,h.x)>=i||Math.max(a.y,u.y,l.y,h.y)<=s||Math.min(a.y,u.y,l.y,h.y)>=o))return!1;const d=c*(u.y-a.y),p=c*(a.x-u.x),g=d*n+p*s,v=d*i+p*s,x=d*n+p*o,y=d*i+p*o;if(Math.max(g,v,x,y)<=d*a.x+p*a.y||Math.min(g,v,x,y)>=d*h.x+p*h.y)return!1;const b=c*(a.y-l.y),_=c*(l.x-a.x),S=b*n+_*s,I=b*i+_*s,P=b*n+_*o,k=b*i+_*o;return!(Math.max(S,I,P,k)<=b*a.x+_*a.y||Math.min(S,I,P,k)>=b*h.x+_*h.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=s-i,this}};Ye.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class _g{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=Mr.CIRC}clone(){return new _g(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=n}getBounds(){return new Ye(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}_g.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class wg{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i,this.type=Mr.ELIP}clone(){return new wg(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ye(this.x-this.width,this.y-this.height,this.width,this.height)}}wg.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let bh=class EP{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const n=[];for(let i=0,s=t.length;i<s;i++)n.push(t[i].x,t[i].y);t=n}this.points=t,this.type=Mr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new EP(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],h=this.points[o*2+1];u>t!=h>t&&e<(l-a)*((t-u)/(h-u))+a&&(n=!n)}return n}};bh.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class bg{constructor(e=0,t=0,n=0,i=0,s=20){this.x=e,this.y=t,this.width=n,this.height=i,this.radius=s,this.type=Mr.RREC}clone(){return new bg(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=t-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=t-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}bg.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class St{constructor(e=1,t=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,i,s,o){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new je;const n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t}applyInverse(e,t){t=t||new je;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return t.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=s*t-this.d*n,this.d=s*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this}append(e){const t=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,t,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,t),l=Math.abs(a+u);return l<1e-5||Math.abs(um-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*t+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,t=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-t*n;return this.a=i/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-t*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new St;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new St}static get TEMP_MATRIX(){return new St}}St.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const $a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ha=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],za=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ya=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],M1=[],CP=[],Mf=Math.sign;function i5(){for(let r=0;r<16;r++){const e=[];M1.push(e);for(let t=0;t<16;t++){const n=Mf($a[r]*$a[t]+za[r]*Ha[t]),i=Mf(Ha[r]*$a[t]+Ya[r]*Ha[t]),s=Mf($a[r]*za[t]+za[r]*Ya[t]),o=Mf(Ha[r]*za[t]+Ya[r]*Ya[t]);for(let a=0;a<16;a++)if($a[a]===n&&Ha[a]===i&&za[a]===s&&Ya[a]===o){e.push(a);break}}}for(let r=0;r<16;r++){const e=new St;e.set($a[r],Ha[r],za[r],Ya[r],0,0),CP.push(e)}}i5();const Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>$a[r],uY:r=>Ha[r],vX:r=>za[r],vY:r=>Ya[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>M1[r][e],sub:(r,e)=>M1[r][Ft.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Ft.S:Ft.N:Math.abs(e)*2<=Math.abs(r)?r>0?Ft.E:Ft.W:e>0?r>0?Ft.SE:Ft.SW:r>0?Ft.NE:Ft.NW,matrixAppendRotationInv:(r,e,t=0,n=0)=>{const i=CP[Ft.inv(e)];i.tx=t,i.ty=n,r.append(i)}};class Bi{constructor(e,t,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Bi(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Bi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const R1=class{constructor(){this.worldTransform=new St,this.localTransform=new St,this.position=new Bi(this.onChange,this,0,0),this.scale=new Bi(this.onChange,this,1,1),this.pivot=new Bi(this.onChange,this,0,0),this.skew=new Bi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};R1.IDENTITY=new R1;let Sg=R1;Sg.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var s5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,o5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function PE(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function Wv(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function AP(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Wv(2*e);case"bvec3":return Wv(3*e);case"bvec4":return Wv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ou=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],a5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},l5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function u5(r,e){var n;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in r.uniforms){const s=e[i];if(!s){((n=r.uniforms[i])==null?void 0:n.group)===!0&&(r.uniforms[i].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=r.uniforms[i];let a=!1;for(let u=0;u<Ou.length;u++)if(Ou[u].test(s,o)){t.push(Ou[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?a5:l5)[s.type].replace("location",`ud["${i}"].location`);t.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const PP={};let Yl=PP;function c5(){if(Yl===PP||Yl!=null&&Yl.isContextLost()){const r=ye.ADAPTER.createCanvas();let e;ye.PREFER_ENV>=_l.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Yl=e}return Yl}let Rf;function h5(){if(!Rf){Rf=oi.MEDIUM;const r=c5();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(Rf=e.precision?oi.HIGH:oi.MEDIUM)}}return Rf}function kE(r,e){const t=r.getShaderSource(e).split(`
`).map((l,h)=>`${h}: ${l}`),n=r.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{t[l-1]=`%c${t[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=t.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function d5(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||kE(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||kE(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const f5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function kP(r){return f5[r]}let Of=null;const IE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function IP(r,e){if(!Of){const t=Object.keys(IE);Of={};for(let n=0;n<t.length;++n){const i=t[n];Of[r[i]]=IE[i]}}return Of[e]}function ME(r,e,t){if(r.substring(0,9)!=="precision"){let n=e;return e===oi.HIGH&&t!==oi.HIGH&&(n=oi.MEDIUM),`precision ${n} float;
${r}`}else if(t!==oi.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let Wc;function p5(){if(typeof Wc=="boolean")return Wc;try{Wc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Wc=!1}return Wc}let m5=0;const Nf={},O1=class Jl{constructor(e,t,n="pixi-shader",i={}){this.extra={},this.id=m5++,this.vertexSrc=e||Jl.defaultVertexSrc,this.fragmentSrc=t||Jl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Nf[n]?(Nf[n]++,n+=`-${Nf[n]}`):Nf[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=ME(this.vertexSrc,Jl.defaultVertexPrecision,oi.HIGH),this.fragmentSrc=ME(this.fragmentSrc,Jl.defaultFragmentPrecision,h5())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return o5}static get defaultFragmentSrc(){return s5}static from(e,t,n){const i=e+t;let s=SE[i];return s||(SE[i]=s=new Jl(e,t,n)),s}};O1.defaultVertexPrecision=oi.HIGH,O1.defaultFragmentPrecision=ai.apple.device?oi.HIGH:oi.MEDIUM;let Ss=O1,g5=0;class Ui{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=g5++,this.static=!!t,this.ubo=!!n,e instanceof _t?(this.buffer=e,this.buffer.type=Cs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new _t(new Float32Array(1)),this.buffer.type=Cs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(!this.ubo)this.uniforms[e]=new Ui(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,n){return new Ui(e,t,n)}static uboFrom(e,t){return new Ui(e,t??!0,!0)}}class ji{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Ui?this.uniformGroup=t:this.uniformGroup=new Ui(t):this.uniformGroup=new Ui({}),this.disposeRunner=new Di("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const i=t.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const i=Ss.from(e,t);return new ji(i,n)}}class MP{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Ui.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ss(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new St,default:this.defaultGroupCache[e]};return new ji(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class N1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function v5(){return!ai.apple.device}function y5(r){let e=!0;const t=ye.ADAPTER.getNavigator();if(ai.tablet||ai.phone){if(ai.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(ai.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?r:4}class Tg{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var x5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,_5=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const sh=class Ci extends Tg{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=TP,this.vertexSize=6,this.state=Ls.for2d(),this.size=Ci.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??y5(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??v5(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ke("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return _5}static get defaultFragmentTemplate(){return x5}setShaderGenerator({vertex:e=Ci.defaultVertexSrc,fragment:t=Ci.defaultFragmentTemplate}={}){this.shaderGenerator=new MP(e,t)}contextChange(){const e=this.renderer.gl;ye.PREFER_ENV===_l.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ci.defaultMaxTextures),this.maxTextures=q4(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Ci,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new k1);for(;t.length<i;)t.push(new N1);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,n=Ci._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++De._globalBatch,u=0,l=n[0],h=0;i.copyBoundTextures(s,t);for(let c=0;c<this._bufferSize;++c){const d=e[c];e[c]=null,d._batchEnabled!==a&&(l.count>=t&&(i.boundArray(l,s,a,t),this.buildDrawCalls(l,h,c),h=c,l=n[++u],++a),d._batchEnabled=a,d.touched=o,l.elements[l.count++]=d)}l.count>0&&(i.boundArray(l,s,a,t),this.buildDrawCalls(l,h,this._bufferSize),++u,++a);for(let c=0;c<s.length;c++)s[c]=null;De._globalBatch=a}buildDrawCalls(e,t,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=Ci._drawCallPool;let l=this._dcIndex,h=this._aIndex,c=this._iIndex,d=u[l];d.start=this._iIndex,d.texArray=e;for(let p=t;p<n;++p){const g=i[p],v=g._texture.baseTexture,x=_P[v.alphaMode?1:0][g.blendMode];i[p]=null,t<p&&d.blend!==x&&(d.size=c-d.start,t=p,d=u[++l],d.texArray=e,d.start=c),this.packInterleavedGeometry(g,s,o,h,c),h+=g.vertexData.length/2*a,c+=g.indices.length,d.blend=x}t<n&&(d.size=c-d.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=c}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:n}=this;Ci.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:n}=this.renderer,i=Ci._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:u,size:l,start:h,blend:c}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=c,n.set(this.state),t.drawElements(u,l,t.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ci.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=am(Math.ceil(e/8)),n=wE(t),i=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new C1(i*this.vertexSize*4)),s}getIndexBuffer(e){const t=am(Math.ceil(e/12)),n=wE(t),i=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,t,n,i,s){const{uint32View:o,float32View:a}=t,u=i/this.vertexSize,l=e.uvs,h=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),g=lt.shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let v=0;v<c.length;v+=2)a[i++]=c[v],a[i++]=c[v+1],a[i++]=l[v],a[i++]=l[v+1],o[i++]=g,a[i++]=d;for(let v=0;v<h.length;v++)n[s++]=u+h[v]}};sh.defaultBatchSize=4096,sh.extension={name:"batch",type:me.RendererPlugin},sh._drawCallPool=[],sh._textureArrayPool=[];let zo=sh;Te.add(zo);var w5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,b5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const B1=class oh extends ji{constructor(e,t,n){const i=Ss.from(e||oh.defaultVertexSrc,t||oh.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=oh.defaultResolution,this.multisample=oh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ls}apply(e,t,n,i,s){e.applyFilter(this,t,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return b5}static get defaultFragmentSrc(){return w5}};B1.defaultResolution=1,B1.defaultMultisample=rr.NONE;let Gr=B1;class cm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new lt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:i}=e,s=n??t;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}cm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},cm.extension={type:[me.RendererSystem,me.CanvasRendererSystem],name:"background"};Te.add(cm);class RP{constructor(e){this.renderer=e,this.emptyRenderer=new Tg(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let l=0;l<a;l++){const h=s[l],c=h._batchLocation;if(c>=0&&c<i&&t[c]===h){o[l]=c;continue}for(;u<i;){const d=t[u];if(d&&d._batchEnabled===n&&d._batchLocation===u){u++;continue}o[l]=u,h._batchLocation=u,t[u]=h;break}}}destroy(){this.renderer=null}}RP.extension={type:me.RendererSystem,name:"batch"};Te.add(RP);let RE=0;class hm{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=RE++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=RE++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(ye.PREFER_ENV>=_l.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hm.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},hm.extension={type:me.RendererSystem,name:"context"};Te.add(hm);class F1{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Di("disposeFramebuffer"),this.multisample=rr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new De(null,{scaleMode:Ni.NEAREST,resolution:1,mipmap:di.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new De(null,{scaleMode:Ni.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:di.OFF,format:de.DEPTH_COMPONENT,type:Se.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,t/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class OP extends De{constructor(e={}){if(typeof e=="number"){const t=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:t,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=rr.NONE),super(null,e),this.mipmap=di.OFF,this.valid=!0,this._clear=new lt([0,0,0,0]),this.framebuffer=new F1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class vo extends jh{constructor(e){const t=e,n=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,i=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){n===void 0&&!t.startsWith("data:")?e.crossOrigin=G4(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,t,n,i){const s=e.gl,o=t.realWidth,a=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Yr.UNPACK),!this.noSubImage&&t.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(t.target,0,n.internalFormat,t.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class NP extends vo{constructor(e,t){if(t=t||{},typeof e=="string"){const n=new Image;vo.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??ye.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=t._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class X_{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const i=t.width,s=t.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,l=e.y/s+a;n=Ft.add(n,Ft.NW),this.x0=u+o*Ft.uX(n),this.y0=l+a*Ft.uY(n),n=Ft.add(n,2),this.x1=u+o*Ft.uX(n),this.y1=l+a*Ft.uY(n),n=Ft.add(n,2),this.x2=u+o*Ft.uX(n),this.y2=l+a*Ft.uY(n),n=Ft.add(n,2),this.x3=u+o*Ft.uX(n),this.y3=l+a*Ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}X_.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const OE=new X_;function Bf(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}let Oe=class xt extends fd{constructor(e,t,n,i,s,o,a){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Ye(0,0,1,1)),e instanceof xt&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=OE,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new je(o.x,o.y):new je(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&hs[t.url]&&xt.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new xt(this.baseTexture,!this.noFrame&&e,t,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===OE&&(this._uvs=new X_),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=ye.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof De){if(!e.cacheId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${cl()}`,De.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${cl()}`}s=e._pixiId}let o=hs[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof De)?(t.resolution||(t.resolution=go(e)),o=new xt(new De(e,t)),o.baseTexture.cacheId=s,De.addToCache(o.baseTexture,s),xt.addToCache(o,s)):!o&&e instanceof De&&(o=new xt(e),xt.addToCache(o,s)),o}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),i=xt.from(e,Object.assign({resourceOptions:n},t),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,n,i){return new xt(De.fromBuffer(e,t,n,i))}static fromLoader(e,t,n,i){const s=new De(e,Object.assign({scaleMode:De.defaultOptions.scaleMode,resolution:go(t)},i)),{resource:o}=s;o instanceof NP&&(o.url=t);const a=new xt(s);return n||(n=t),De.addToCache(a.baseTexture,n),xt.addToCache(a,n),n!==t&&(De.addToCache(a.baseTexture,t),xt.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),hs[t]&&hs[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),hs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=hs[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete hs[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)hs[e.textureCacheIds[t]]===e&&delete hs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:i,height:s}=e,o=t+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",l=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${u} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xt._EMPTY||(xt._EMPTY=new xt(new De),Bf(xt._EMPTY),Bf(xt._EMPTY.baseTexture)),xt._EMPTY}static get WHITE(){if(!xt._WHITE){const e=ye.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),xt._WHITE=new xt(De.from(e)),Bf(xt._WHITE),Bf(xt._WHITE.baseTexture)}return xt._WHITE}};class wl extends Oe{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(t*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new wl(new OP(e))}}class BP{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=rr.NONE){const i=new OP(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new wl(i)}getOptimalTexture(e,t,n=1,i=rr.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=am(e),t=am(t),s=((e&65535)<<16|t&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,t,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,t,n){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||rr.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}BP.SCREEN_KEY=-1;class S5 extends Ms{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class FP extends Ms{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new _t(this.vertices),this.uvBuffer=new _t(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class T5{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=rr.NONE,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.bindingSourceFrame=new Ye,this.bindingDestinationFrame=new Ye,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ff=[new je,new je,new je,new je],Vv=new St;class LP{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new BP,this.statePool=[],this.quad=new S5,this.quadUv=new FP,this.tempRect=new Ye,this.activeState={},this.globalUniforms=new Ui({outputFrame:new Ye,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new T5,o=n.renderTexture;let a,u;if(o.current){const x=o.current;a=x.resolution,u=x.multisample}else a=n.resolution,u=n.multisample;let l=t[0].resolution||a,h=t[0].multisample??u,c=t[0].padding,d=t[0].autoFit,p=t[0].legacy??!0;for(let x=1;x<t.length;x++){const y=t[x];l=Math.min(l,y.resolution||a),h=Math.min(h,y.multisample??u),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,d=d&&y.autoFit,p=p||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=h,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const g=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Vv.copyFrom(n.projection.transform).invert(),g),d?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,h),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*t.resolution),o[1]=Math.round(s[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*s[2]-.5*o[2],a[3]=t.sourceFrame.height*s[3]-.5*o[3],t.legacy){const l=i.filterArea;l[0]=t.destinationFrame.width,l[1]=t.destinationFrame.height,l[2]=t.sourceFrame.x,l[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,u.renderTexture,xs.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let l=t.renderTexture,h=this.getOptimalFilterTexture(l.width,l.height,t.resolution);h.filterFrame=l.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&t.multisample>1&&(h=this.getOptimalFilterTexture(l.width,l.height,t.resolution),h.filterFrame=l.filterFrame),n[c].apply(this,l,h,xs.CLEAR,t);const d=l;l=h,h=d}n[c].apply(this,l,u.renderTexture,xs.BLEND,t),c>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(h)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=xs.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(t===xs.CLEAR||t===xs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Oi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Oi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=t._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=t.worldTransform.copyTo(St.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,i=rr.NONE){return this.texturePool.getOptimalTexture(e,t,n,i)}getFilterTexture(e,t,n){if(typeof e=="number"){const s=e;e=t,t=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||rr.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=Ff[0],i=Ff[1],s=Ff[2],o=Ff[3];n.set(t.left,t.top),i.set(t.left,t.bottom),s.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),l=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);t.x=a,t.y=u,t.width=l-a,t.height=h-u}roundFrame(e,t,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:l}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}s=s?Vv.copyFrom(s):Vv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}}}LP.extension={type:me.RendererSystem,name:"filter"};Te.add(LP);class E5{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=rr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const C5=new Ye;class DP{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new F1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ye,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ye.PREFER_ENV===_l.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const o=t.width>>n,a=t.height>>n,u=o/t.width;this.setViewport(t.x*u,t.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,i){const s=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=n,s.height=i,this.gl.viewport(e,t,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,i,s=l1.COLOR|l1.DEPTH){const{gl:o}=this;o.clearColor(e,t,n,i),o.clear(s)}initFramebuffer(e){const{gl:t}=this,n=new E5(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){t.bindRenderbuffer(t.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=t.DEPTH_STENCIL:e.depth&&e.stencil?o=t.DEPTH24_STENCIL8:e.depth?o=t.DEPTH_COMPONENT24:o=t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,o,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;t.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const l=s[u],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,h._glTextures[this.CONTEXT_UID].texture,t),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,l;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH_STENCIL):e.depth&&e.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH24_STENCIL8):e.depth?(u=n.DEPTH_ATTACHMENT,l=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,l=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,l,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,l,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=rr.NONE;if(e<=1||t===null)return n;for(let i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=rr.NONE),n}blit(e,t,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;u.blitFramebuffer||(u.blitFramebuffer=new F1(i.width,i.height),u.blitFramebuffer.addColorTexture(0,h)),e=u.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=C5,t.width=i.width,t.height=i.height),n||(n=t);const l=t.width===n.width&&t.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=t.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ye}destroy(){this.renderer=null}}DP.extension={type:me.RendererSystem,name:"framebuffer"};Te.add(DP);const qv={5126:4,5123:2,5121:1};class UP{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ye.PREFER_ENV===_l.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];t.update(i)}}checkCompatibility(e,t){const n=e.attributes,i=t.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){const n=e.attributes,i=t.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,t,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);const u=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID];let h=l[u];if(h)return l[a.id]=h,h;const c=e.buffers,d=e.attributes,p={},g={};for(const v in c)p[v]=0,g[v]=0;for(const v in d)!d[v].size&&a.attributeData[v]?d[v].size=a.attributeData[v].size:d[v].size||console.warn(`PIXI Geometry attribute '${v}' size cannot be determined (likely the bound shader does not have the attribute)`),p[d[v].buffer]+=d[v].size*qv[d[v].type];for(const v in d){const x=d[v],y=x.size;x.stride===void 0&&(p[x.buffer]===y*qv[x.type]?x.stride=0:x.stride=p[x.buffer]),x.start===void 0&&(x.start=g[x.buffer],g[x.buffer]+=y*qv[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let v=0;v<c.length;v++){const x=c[v];o.bind(x),n&&x._glBuffers[s].refCount++}return this.activateVao(e,a),l[a.id]=h,l[u]=h,i.bindVertexArray(null),o.unbind(Cs.ARRAY_BUFFER),h}disposeGeometry(e,t){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const l=s[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!t&&o.dispose(s[u],t))}if(!t){for(const u in n)if(u[0]==="g"){const l=n[u];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const l in a){const h=a[l],c=o[h.buffer],d=c._glBuffers[i];if(t.attributeData[l]){u!==d&&(s.bind(c),u=d);const p=t.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(p,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,t||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,t||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,t||o.getSize(),i||1):s.drawArrays(e,n,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}UP.extension={type:me.RendererSystem,name:"geometry"};Te.add(UP);const NE=new St;class Eg{constructor(e,t){this._texture=e,this.mapCoord=new St,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];t[i]=s*n.a+o*n.c+n.tx,t[i+1]=s*n.b+o*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=t.orig,s=t.trim;s&&(NE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(NE));const o=t.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+u+l)/o.width,a[1]=(t._frame.y+u+l)/o.height,a[2]=(t._frame.x+t._frame.width-u+l)/o.width,a[3]=(t._frame.y+t._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&t.rotate===0,!0}}var A5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,P5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class k5 extends Gr{constructor(e,t,n){let i=null;typeof e!="string"&&t===void 0&&n===void 0&&(i=e,e=void 0,t=void 0,n=void 0),super(e||P5,t||A5,n),this.maskSprite=i,this.maskMatrix=new St}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Eg(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,i))}}class I5{constructor(e=null){this.type=cr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Gr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=cr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class jP{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const s=this.maskDataPool.pop()||new I5;s.pooled=!0,s.maskObject=t,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==cr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case cr.SCISSOR:this.renderer.scissor.push(n);break;case cr.STENCIL:this.renderer.stencil.push(n);break;case cr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case cr.COLOR:this.pushColorMask(n);break}n.type===cr.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case cr.SCISSOR:this.renderer.scissor.pop(t);break;case cr.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case cr.SPRITE:this.popSpriteMask(t);break;case cr.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===cr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=cr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=cr.SCISSOR:e.type=cr.STENCIL:e.type=cr.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new k5])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const s=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}jP.extension={type:me.RendererSystem,name:"mask"};Te.add(jP);class XP{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const BE=new St,FE=[],$P=class Op extends XP{constructor(e){super(e),this.glConst=ye.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,FE.pop()??new Ye);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Op.isMatrixRotated(t.worldTransform)||Op.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,t,n,i,s){Op.isMatrixRotated(s)||(s=s?BE.copyFrom(s):BE.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&FE.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};$P.extension={type:me.RendererSystem,name:"scissor"};let M5=$P;Te.add(M5);class HP extends XP{constructor(e){super(e),this.glConst=ye.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}HP.extension={type:me.RendererSystem,name:"stencil"};Te.add(HP);class zP{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}zP.extension={type:[me.RendererSystem,me.CanvasRendererSystem],name:"_plugin"};Te.add(zP);class YP{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new St,this.transform=null}update(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,t,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/t.width*2,s.d=o*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-o-t.y*s.d}setTransform(e){}destroy(){this.renderer=null}}YP.extension={type:me.RendererSystem,name:"projection"};Te.add(YP);const R5=new Sg,LE=new Ye;class GP{constructor(e){this.renderer=e,this._tempMatrix=new St}generateTexture(e,t){const{region:n,...i}=t||{},s=(n==null?void 0:n.copyTo(LE))||e.getLocalBounds(LE,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=wl.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=R5,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,a}destroy(){}}GP.extension={type:[me.RendererSystem,me.CanvasRendererSystem],name:"textureGenerator"};Te.add(GP);const Da=new Ye,Vc=new Ye;class WP{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.viewportFrame=new Ye}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,t||(Da.width=e.frame.width,Da.height=e.frame.height,t=Da),n||(Vc.x=e.frame.x,Vc.y=e.frame.y,Vc.width=t.width,Vc.height=t.height,n=Vc),o=s.framebuffer):(a=i.resolution,t||(Da.width=i._view.screen.width,Da.height=i._view.screen.height,t=Da),n||(n=Da,n.width=t.width,n.height=t.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,t,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=lt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:l,width:h,height:c}=this.viewportFrame;u=Math.round(u),l=Math.round(l),h=Math.round(h),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,h,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}WP.extension={type:me.RendererSystem,name:"renderTexture"};Te.add(WP);class O5{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function N5(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(r,i);if(s.name.startsWith("gl_"))continue;const o=IP(e,s.type),a={type:o,name:s.name,size:kP(o),location:e.getAttribLocation(r,s.name)};t[s.name]=a}return t}function B5(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(r,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=IP(e,s.type);t[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:AP(u,s.size)}}return t}function F5(r,e){var a;const t=PE(r,r.VERTEX_SHADER,e.vertexSrc),n=PE(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();r.attachShader(i,t),r.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||d5(r,i,t,n),e.attributeData=N5(i,r),e.uniformData=B5(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((l,h)=>l>h?1:-1);for(let l=0;l<u.length;l++)e.attributeData[u[l]].location=l,r.bindAttribLocation(i,l,u[l]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);const o={};for(const u in e.uniformData){const l=e.uniformData[u];o[u]={location:r.getUniformLocation(i,u),value:AP(l.type,l.size)}}return new O5(i,o)}function L5(r,e,t,n,i){t.buffer.update(i)}const D5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},VP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function U5(r){const e=r.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let t=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(t=VP[o.data.type],o.data.size>1&&(t=Math.max(t,16)*o.data.size),o.dataLen=t,n%t!==0&&n<16){const a=n%t%16;n+=a,i+=a}n+t>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=t,n=t):(o.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function j5(r,e){const t=[];for(const n in r)e[n]&&t.push(e[n]);return t.sort((n,i)=>n.index-i.index),t}function X5(r,e){if(!r.autoManage)return{size:0,syncFunc:L5};const t=j5(r.uniforms,e),{uboElements:n,size:i}=U5(t),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=r.uniforms[a.data.name],l=a.data.name;let h=!1;for(let c=0;c<Ou.length;c++){const d=Ou[c];if(d.codeUbo&&d.test(a.data,u)){s.push(`offset = ${a.offset/4};`,Ou[c].codeUbo(a.data.name,u)),h=!0;break}}if(!h)if(a.data.size>1){const c=kP(a.data.type),d=Math.max(VP[a.data.type]/16,1),p=c/d,g=(4-p%4)%4;s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const c=D5[a.data.type];s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let $5=0;const Lf={textureCount:0,uboCount:0};class qP{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=$5++}systemCheck(){if(!p5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(Lf.textureCount=0,Lf.uboCount=0,this.syncUniformGroup(e.uniformGroup,Lf)),i}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=u5(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Lf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=X5(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),t[o]&&s.push(t[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,i=F5(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}qP.extension={type:me.RendererSystem,name:"shader"};Te.add(qP);class dm{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}dm.defaultOptions={hello:!1},dm.extension={type:[me.RendererSystem,me.CanvasRendererSystem],name:"startup"};Te.add(dm);function H5(r,e=[]){return e[Ie.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.ADD]=[r.ONE,r.ONE],e[Ie.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.NONE]=[0,0],e[Ie.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[Ie.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[Ie.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[Ie.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[Ie.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[Ie.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[Ie.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[Ie.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[Ie.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[Ie.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[Ie.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const z5=0,Y5=1,G5=2,W5=3,V5=4,q5=5,KP=class L1{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ie.NONE,this._blendEq=!1,this.map=[],this.map[z5]=this.setBlend,this.map[Y5]=this.setOffset,this.map[G5]=this.setCullFace,this.map[W5]=this.setDepthTest,this.map[V5]=this.setFrontFace,this.map[q5]=this.setDepthMask,this.checks=[],this.defaultState=new Ls,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=H5(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(L1.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(L1.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};KP.extension={type:me.RendererSystem,name:"state"};let K5=KP;Te.add(K5);class Q5 extends fd{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),n=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Di(t)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](t[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ah=class Np{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Np.defaultMaxIdle,this.checkCountMax=Np.defaultCheckCountMax,this.mode=Np.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==R_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let i=0;i<t.length;i++){const s=t[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<t.length;s++)t[s]!==null&&(t[i++]=t[s]);t.length=i}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};ah.defaultMode=R_.AUTO,ah.defaultMaxIdle=60*60,ah.defaultCheckCountMax=60*10,ah.extension={type:me.RendererSystem,name:"textureGC"};let Ga=ah;Te.add(Ga);class Kv{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Se.UNSIGNED_BYTE,this.internalFormat=de.RGBA,this.samplerType=0}}function Z5(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:xe.FLOAT,[r.RGBA]:xe.FLOAT,[r.ALPHA]:xe.FLOAT,[r.LUMINANCE]:xe.FLOAT,[r.LUMINANCE_ALPHA]:xe.FLOAT,[r.R8]:xe.FLOAT,[r.R8_SNORM]:xe.FLOAT,[r.RG8]:xe.FLOAT,[r.RG8_SNORM]:xe.FLOAT,[r.RGB8]:xe.FLOAT,[r.RGB8_SNORM]:xe.FLOAT,[r.RGB565]:xe.FLOAT,[r.RGBA4]:xe.FLOAT,[r.RGB5_A1]:xe.FLOAT,[r.RGBA8]:xe.FLOAT,[r.RGBA8_SNORM]:xe.FLOAT,[r.RGB10_A2]:xe.FLOAT,[r.RGB10_A2UI]:xe.FLOAT,[r.SRGB8]:xe.FLOAT,[r.SRGB8_ALPHA8]:xe.FLOAT,[r.R16F]:xe.FLOAT,[r.RG16F]:xe.FLOAT,[r.RGB16F]:xe.FLOAT,[r.RGBA16F]:xe.FLOAT,[r.R32F]:xe.FLOAT,[r.RG32F]:xe.FLOAT,[r.RGB32F]:xe.FLOAT,[r.RGBA32F]:xe.FLOAT,[r.R11F_G11F_B10F]:xe.FLOAT,[r.RGB9_E5]:xe.FLOAT,[r.R8I]:xe.INT,[r.R8UI]:xe.UINT,[r.R16I]:xe.INT,[r.R16UI]:xe.UINT,[r.R32I]:xe.INT,[r.R32UI]:xe.UINT,[r.RG8I]:xe.INT,[r.RG8UI]:xe.UINT,[r.RG16I]:xe.INT,[r.RG16UI]:xe.UINT,[r.RG32I]:xe.INT,[r.RG32UI]:xe.UINT,[r.RGB8I]:xe.INT,[r.RGB8UI]:xe.UINT,[r.RGB16I]:xe.INT,[r.RGB16UI]:xe.UINT,[r.RGB32I]:xe.INT,[r.RGB32UI]:xe.UINT,[r.RGBA8I]:xe.INT,[r.RGBA8UI]:xe.UINT,[r.RGBA16I]:xe.INT,[r.RGBA16UI]:xe.UINT,[r.RGBA32I]:xe.INT,[r.RGBA32UI]:xe.UINT,[r.DEPTH_COMPONENT16]:xe.FLOAT,[r.DEPTH_COMPONENT24]:xe.FLOAT,[r.DEPTH_COMPONENT32F]:xe.FLOAT,[r.DEPTH_STENCIL]:xe.FLOAT,[r.DEPTH24_STENCIL8]:xe.FLOAT,[r.DEPTH32F_STENCIL8]:xe.FLOAT}:e={[r.RGB]:xe.FLOAT,[r.RGBA]:xe.FLOAT,[r.ALPHA]:xe.FLOAT,[r.LUMINANCE]:xe.FLOAT,[r.LUMINANCE_ALPHA]:xe.FLOAT,[r.DEPTH_STENCIL]:xe.FLOAT},e}function J5(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[Se.UNSIGNED_BYTE]:{[de.RGBA]:r.RGBA8,[de.RGB]:r.RGB8,[de.RG]:r.RG8,[de.RED]:r.R8,[de.RGBA_INTEGER]:r.RGBA8UI,[de.RGB_INTEGER]:r.RGB8UI,[de.RG_INTEGER]:r.RG8UI,[de.RED_INTEGER]:r.R8UI,[de.ALPHA]:r.ALPHA,[de.LUMINANCE]:r.LUMINANCE,[de.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[Se.BYTE]:{[de.RGBA]:r.RGBA8_SNORM,[de.RGB]:r.RGB8_SNORM,[de.RG]:r.RG8_SNORM,[de.RED]:r.R8_SNORM,[de.RGBA_INTEGER]:r.RGBA8I,[de.RGB_INTEGER]:r.RGB8I,[de.RG_INTEGER]:r.RG8I,[de.RED_INTEGER]:r.R8I},[Se.UNSIGNED_SHORT]:{[de.RGBA_INTEGER]:r.RGBA16UI,[de.RGB_INTEGER]:r.RGB16UI,[de.RG_INTEGER]:r.RG16UI,[de.RED_INTEGER]:r.R16UI,[de.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[Se.SHORT]:{[de.RGBA_INTEGER]:r.RGBA16I,[de.RGB_INTEGER]:r.RGB16I,[de.RG_INTEGER]:r.RG16I,[de.RED_INTEGER]:r.R16I},[Se.UNSIGNED_INT]:{[de.RGBA_INTEGER]:r.RGBA32UI,[de.RGB_INTEGER]:r.RGB32UI,[de.RG_INTEGER]:r.RG32UI,[de.RED_INTEGER]:r.R32UI,[de.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[Se.INT]:{[de.RGBA_INTEGER]:r.RGBA32I,[de.RGB_INTEGER]:r.RGB32I,[de.RG_INTEGER]:r.RG32I,[de.RED_INTEGER]:r.R32I},[Se.FLOAT]:{[de.RGBA]:r.RGBA32F,[de.RGB]:r.RGB32F,[de.RG]:r.RG32F,[de.RED]:r.R32F,[de.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[Se.HALF_FLOAT]:{[de.RGBA]:r.RGBA16F,[de.RGB]:r.RGB16F,[de.RG]:r.RG16F,[de.RED]:r.R16F},[Se.UNSIGNED_SHORT_5_6_5]:{[de.RGB]:r.RGB565},[Se.UNSIGNED_SHORT_4_4_4_4]:{[de.RGBA]:r.RGBA4},[Se.UNSIGNED_SHORT_5_5_5_1]:{[de.RGBA]:r.RGB5_A1},[Se.UNSIGNED_INT_2_10_10_10_REV]:{[de.RGBA]:r.RGB10_A2,[de.RGBA_INTEGER]:r.RGB10_A2UI},[Se.UNSIGNED_INT_10F_11F_11F_REV]:{[de.RGB]:r.R11F_G11F_B10F},[Se.UNSIGNED_INT_5_9_9_9_REV]:{[de.RGB]:r.RGB9_E5},[Se.UNSIGNED_INT_24_8]:{[de.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[Se.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[de.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[Se.UNSIGNED_BYTE]:{[de.RGBA]:r.RGBA,[de.RGB]:r.RGB,[de.ALPHA]:r.ALPHA,[de.LUMINANCE]:r.LUMINANCE,[de.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[Se.UNSIGNED_SHORT_5_6_5]:{[de.RGB]:r.RGB},[Se.UNSIGNED_SHORT_4_4_4_4]:{[de.RGBA]:r.RGBA},[Se.UNSIGNED_SHORT_5_5_5_1]:{[de.RGBA]:r.RGBA}},e}class QP{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new De,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=J5(e),this.samplerTypes=Z5(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Kv(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Kv(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=t[s];o&&o._glTextures[i].samplerType!==xe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const t=new Kv(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n;t.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??xe.FLOAT,this.webGLVersion===2&&e.type===Se.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var i;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),(i=e.resource)==null?void 0:i.upload(n,e,t))t.samplerType!==xe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(t.width!==s||t.height!==o||t.dirtyId<0)&&(t.width=s,t.height=o,a.texImage2D(e.target,0,t.internalFormat,s,o,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&Ru(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===di.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=ci.CLAMP:t.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==di.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ni.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ni.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ni.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ni.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}QP.extension={type:me.RendererSystem,name:"texture"};Te.add(QP);class ZP{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:i}=this;t&&i.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:i}=this,s=t.createTransformFeedback();e._glTransformFeedbacks[i]=s,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!t&&s.dispose(a,t))}n&&(t||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}ZP.extension={type:me.RendererSystem,name:"transformFeedback"};Te.add(ZP);class fm{constructor(e){this.renderer=e}init(e){this.screen=new Ye(0,0,e.width,e.height),this.element=e.view||ye.ADAPTER.createCanvas(),this.resolution=e.resolution||ye.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}fm.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},fm.extension={type:[me.RendererSystem,me.CanvasRendererSystem],name:"_view"};Te.add(fm);ye.PREFER_ENV=_l.WEBGL2;ye.STRICT_TEXTURE_CACHE=!1;ye.RENDER_OPTIONS={...hm.defaultOptions,...cm.defaultOptions,...fm.defaultOptions,...dm.defaultOptions};Object.defineProperties(ye,{WRAP_MODE:{get(){return De.defaultOptions.wrapMode},set(r){Ke("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),De.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return De.defaultOptions.scaleMode},set(r){Ke("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),De.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return De.defaultOptions.mipmap},set(r){Ke("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),De.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return De.defaultOptions.anisotropicLevel},set(r){Ke("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),De.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return Ke("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Gr.defaultResolution},set(r){Gr.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return Ke("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Gr.defaultMultisample},set(r){Gr.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return zo.defaultMaxTextures},set(r){Ke("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),zo.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return zo.defaultBatchSize},set(r){Ke("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),zo.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return zo.canUploadSameBuffer},set(r){Ke("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),zo.canUploadSameBuffer=r}},GC_MODE:{get(){return Ga.defaultMode},set(r){Ke("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ga.defaultMode=r}},GC_MAX_IDLE:{get(){return Ga.defaultMaxIdle},set(r){Ke("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ga.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Ga.defaultCheckCountMax},set(r){Ke("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ga.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return Ss.defaultVertexPrecision},set(r){Ke("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ss.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return Ss.defaultFragmentPrecision},set(r){Ke("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ss.defaultFragmentPrecision=r}}});var xa=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(xa||{});class Qv{constructor(e,t=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const JP=class Mn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qv(null,null,1/0),this.deltaMS=1/Mn.targetFPMS,this.elapsedMS=1/Mn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=xa.NORMAL){return this._addListener(new Qv(e,t,n))}addOnce(e,t,n=xa.NORMAL){return this._addListener(new Qv(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Mn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Mn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Mn._shared){const e=Mn._shared=new Mn;e.autoStart=!0,e._protected=!0}return Mn._shared}static get system(){if(!Mn._system){const e=Mn._system=new Mn;e.autoStart=!0,e._protected=!0}return Mn._system}};JP.targetFPMS=.06;let jt=JP;Object.defineProperties(ye,{TARGET_FPMS:{get(){return jt.targetFPMS},set(r){Ke("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),jt.targetFPMS=r}}});class ek{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,xa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?jt.shared:new jt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ek.extension=me.Application;Te.add(ek);const tk=[];Te.handleByList(me.Renderer,tk);function e6(r){for(const e of tk)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var t6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r6=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const n6=t6,rk=r6;class nk{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=rr.HIGH?this.multisample=rr.HIGH:t>=rr.MEDIUM?this.multisample=rr.MEDIUM:t>=rr.LOW?this.multisample=rr.LOW:this.multisample=rr.NONE}destroy(){}}nk.extension={type:me.RendererSystem,name:"_multisample"};Te.add(nk);class i6{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ik{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,s.buffer)}}bindBufferRange(e,t,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,o.buffer,n*256,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const s=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,s)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new i6(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ik.extension={type:me.RendererSystem,name:"buffer"};Te.add(ik);class sk{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let i,s,o,a;if(t&&(i=t.renderTexture,s=t.clear,o=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(t.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}sk.extension={type:me.RendererSystem,name:"objectRenderer"};Te.add(sk);const Bp=class D1 extends Q5{constructor(e){super(),this.type=YA.WEBGL,e=Object.assign({},ye.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ui({projectionMatrix:new St},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:D1.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(Ke("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=D1.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:gP()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ke("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ke("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ke("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ke("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Bp.extension={type:me.Renderer,priority:1},Bp.__plugins={},Bp.__systems={};let $_=Bp;Te.handleByMap(me.RendererPlugin,$_.__plugins);Te.handleByMap(me.RendererSystem,$_.__systems);Te.add($_);class ok extends jh{constructor(e,t){const{width:n,height:i}=t||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new De;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof jh?this.addResourceAt(e[n],n):this.addResourceAt(SP(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:n}=this.items[0];return this.resize(t,n),this.update(),Promise.resolve(this)}),this._load}}class s6 extends ok{constructor(e,t){const{width:n,height:i}=t||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ku.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(let u=0;u<i;u++){const l=o[u];s[u]<l.dirtyId&&(s[u]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,t.format,n.type,l.resource.source))}return!0}}class o6 extends vo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const ak=class lh extends ok{constructor(e,t){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=t||{};if(e&&e.length!==lh.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<lh.SIDES;a++)this.items[a].target=ku.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,t),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ku.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ku.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,n){const i=this.itemDirtyIds;for(let s=0;s<lh.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===lh.SIDES}};ak.SIDES=6;let a6=ak;class ou extends vo{constructor(e,t){t=t||{};let n,i,s;typeof e=="string"?(n=ou.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??s,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const n=await ye.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;t(n),this.onError.emit(n)}}),this._load)}upload(e,t,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ou._EMPTY=ou._EMPTY??ye.ADAPTER.createCanvas(0,0),ou._EMPTY}}const U1=class Fp extends vo{constructor(e,t){t=t||{},super(ye.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Fp.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;vo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*t,s=this._overrideHeight||this._overrideWidth/t*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${cl()}`,o.getContext("2d").drawImage(e,0,0,t,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const t=Fp.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Fp.SVG_XML.test(e)}};U1.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,U1.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let j1=U1;class l6 extends vo{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const X1=class $1 extends vo{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");t.autoLoad!==!1&&n.setAttribute("preload","auto"),t.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),t.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),t.loop===!0&&n.setAttribute("loop",""),t.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];vo.crossOrigin(n,i,t.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:u}=e[s];if(a=a||e[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),h=l.slice(l.lastIndexOf(".")+1);u=u||$1.MIME_TYPES[h]||`video/${h}`}o.src=a,u&&(o.type=u),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=jt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(jt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||$1.TYPES.includes(t)}};X1.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],X1.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let lk=X1;A1.push(ou,NP,o6,lk,l6,j1,xg,a6,s6);class pm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ye.EMPTY:(e=e||new Ye(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,l=n*t.x+s*t.y+a,h=i*t.x+o*t.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let t=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=t,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,t,n,i,s){this.addFrameMatrix(e.worldTransform,t,n,i,s)}addFrameMatrix(e,t,n,i,s){const o=e.a,a=e.b,u=e.c,l=e.d,h=e.tx,c=e.ty;let d=this.minX,p=this.minY,g=this.maxX,v=this.maxY,x=o*t+u*n+h,y=a*t+l*n+c;d=x<d?x:d,p=y<p?y:p,g=x>g?x:g,v=y>v?y:v,x=o*i+u*n+h,y=a*i+l*n+c,d=x<d?x:d,p=y<p?y:p,g=x>g?x:g,v=y>v?y:v,x=o*t+u*s+h,y=a*t+l*s+c,d=x<d?x:d,p=y<p?y:p,g=x>g?x:g,v=y>v?y:v,x=o*i+u*s+h,y=a*i+l*s+c,d=x<d?x:d,p=y<p?y:p,g=x>g?x:g,v=y>v?y:v,this.minX=d,this.minY=p,this.maxX=g,this.maxY=v}addVertexData(e,t,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=t;u<n;u+=2){const l=e[u],h=e[u+1];i=l<i?l:i,s=h<s?h:s,o=l>o?l:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)}addVerticesMatrix(e,t,n,i,s=0,o=s){const a=e.a,u=e.b,l=e.c,h=e.d,c=e.tx,d=e.ty;let p=this.minX,g=this.minY,v=this.maxX,x=this.maxY;for(let y=n;y<i;y+=2){const b=t[y],_=t[y+1],S=a*b+l*_+c,I=h*_+u*b+d;p=Math.min(p,S-s),v=Math.max(v,S+s),g=Math.min(g,I-o),x=Math.max(x,I+o)}this.minX=p,this.minY=g,this.maxX=v,this.maxY=x}addBounds(e){const t=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>h?o:h}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>h?o:h}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,i,s,o){e-=s,t-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class Nt extends fd{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Sg,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const i=t[n];Object.defineProperty(Nt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Ye),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pm);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,n=1,i=1,s=0,o=0,a=0,u=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new u6),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*r5}set angle(e){this.transform.rotation=e*n5}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class u6 extends Nt{constructor(){super(...arguments),this.sortDirty=null}}Nt.prototype.displayObjectUpdateTransform=Nt.prototype.updateTransform;const c6=new St;function h6(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const uk=class H1 extends Nt{constructor(){super(),this.children=[],this.sortableChildren=H1.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Ru(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,Ru(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Ru(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,i=t,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const i=this.children[t];i._lastSortedIndex=t,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(h6),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==H1.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=c6.copyFrom(i),i.prepend(s)):i=s),n&&t.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<t.length;u++)t[u].enabled&&this._enabledFilters.push(t[u])}const i=t&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==cr.NONE));if(i&&e.batch.flush(),t&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,l=this.children.length;u<l;++u)this.children[u].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};uk.defaultSortableChildren=!1;let Kr=uk;Kr.prototype.containerUpdateTransform=Kr.prototype.updateTransform;Object.defineProperties(ye,{SORTABLE_CHILDREN:{get(){return Kr.defaultSortableChildren},set(r){Ke("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Kr.defaultSortableChildren=r}}});const qc=new je,d6=new Uint16Array([0,1,2,0,2,3]);class qi extends Kr{constructor(e){super(),this._anchor=new Bi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new lt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ie.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Oe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=d6,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ye.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ea(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ea(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,o=t.d,a=t.tx,u=t.ty,l=this.vertexData,h=e.trim,c=e.orig,d=this._anchor;let p=0,g=0,v=0,x=0;if(h?(g=h.x-d._x*c.width,p=g+h.width,x=h.y-d._y*c.height,v=x+h.height):(g=-d._x*c.width,p=g+c.width,x=-d._y*c.height,v=x+c.height),l[0]=n*g+s*x+a,l[1]=o*x+i*g+u,l[2]=n*p+s*x+a,l[3]=o*x+i*p+u,l[4]=n*p+s*v+a,l[5]=o*v+i*p+u,l[6]=n*g+s*v+a,l[7]=o*v+i*g+u,this._roundPixels){const y=ye.RESOLUTION;for(let b=0;b<l.length;++b)l[b]=Math.round(l[b]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,l=s.d,h=s.tx,c=s.ty,d=-i._x*n.width,p=d+n.width,g=-i._y*n.height,v=g+n.height;if(t[0]=o*d+u*g+h,t[1]=l*g+a*d+c,t[2]=o*p+u*g+h,t[3]=l*g+a*p+c,t[4]=o*p+u*v+h,t[5]=l*v+a*p+c,t[6]=o*d+u*v+h,t[7]=l*v+a*d+c,this._roundPixels){const x=ye.RESOLUTION;for(let y=0;y<t.length;++y)t[y]=Math.round(t[y]*x)/x}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,qc);const t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x;let s=0;return qc.x>=i&&qc.x<i+t&&(s=-n*this.anchor.y,qc.y>=s&&qc.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof Oe?e:Oe.from(e,t);return new qi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=ea(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=ea(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Oe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const ck=new St;Nt.prototype._cacheAsBitmap=!1;Nt.prototype._cacheData=null;Nt.prototype._cacheAsBitmapResolution=null;Nt.prototype._cacheAsBitmapMultisample=null;class f6{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Nt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new f6),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Nt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Nt.prototype._initCachedDisplayObject=function(r){var d,p;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const t=this.getLocalBounds(new Ye,!0);if((p=this.filters)!=null&&p.length){const g=this.filters[0].padding;t.pad(g)}const n=this.cacheAsBitmapResolution||r.resolution;t.ceil(n),t.width=Math.max(t.width,1/n),t.height=Math.max(t.height,1/n);const i=r.renderTexture.current,s=r.renderTexture.sourceFrame.clone(),o=r.renderTexture.destinationFrame.clone(),a=r.projection.transform,u=wl.create({width:t.width,height:t.height,resolution:n,multisample:this.cacheAsBitmapMultisample??r.multisample}),l=`cacheAsBitmap_${cl()}`;this._cacheData.textureCacheId=l,De.addToCache(u.baseTexture,l),Oe.addToCache(u,l);const h=this.transform.localTransform.copyTo(ck).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=a,r.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const c=new qi(u);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(t.x/t.width),c.anchor.y=-(t.y/t.height),c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};Nt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Nt.prototype._initCachedDisplayObjectCanvas=function(r){var h;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.getLocalBounds(new Ye,!0),t=this.alpha;this.alpha=1;const n=r.canvasContext.activeContext,i=r._projTransform,s=this.cacheAsBitmapResolution||r.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=wl.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${cl()}`;this._cacheData.textureCacheId=a,De.addToCache(o.baseTexture,a),Oe.addToCache(o,a);const u=ck;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),r.canvasContext.activeContext=n,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const l=new qi(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(e.x/e.width),l.anchor.y=-(e.y/e.height),l.alpha=t,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};Nt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Nt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Nt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,De.removeFromCache(this._cacheData.textureCacheId),Oe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Nt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};Nt.prototype.name=null;Kr.prototype.getChildByName=function(r,e){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===r)return this.children[t];if(e)for(let t=0,n=this.children.length;t<n;t++){const i=this.children[t];if(!i.getChildByName)continue;const s=i.getChildByName(r,!0);if(s)return s}return null};Nt.prototype.getGlobalPosition=function(r=new je,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var p6=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class m6 extends Gr{constructor(e=1){super(n6,p6,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const g6={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},v6=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function y6(r){const e=g6[r],t=e.length;let n=v6,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<r;a++){let u=s.replace("%index%",a.toString());o=a,a>=t&&(o=r-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}const x6=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function _6(r,e){const t=Math.ceil(r/2);let n=x6,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<r;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(t-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}class z1 extends Gr{constructor(e,t=8,n=4,i=Gr.defaultResolution,s=5){const o=_6(s,e),a=y6(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=t,u=s;this.state.blend=!1,e.applyFilter(this,a,u,xs.CLEAR);for(let l=1;l<this.passes-1;l++){e.bindAndClear(a,xs.BLIT),this.uniforms.uSampler=u;const h=u;u=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class w6 extends Gr{constructor(e=8,t=4,n=Gr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new z1(!0,e,t,n,i),this.blurYFilter=new z1(!1,e,t,n,i),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,xs.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,i):this.blurXFilter.apply(e,t,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var b6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Y1 extends Gr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(rk,b6,e),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,i,s]=lt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,h=o*(1-n)+a*i,c=o*(1-n)+a*i,d=n+o*(1-n),p=o*(1-n)-a*i,g=o*(1-n)-a*i,v=o*(1-n)+a*i,x=n+o*(1-n),y=[u,l,h,0,0,c,d,p,0,0,g,v,x,0,0,0,0,0,1,0];this._loadMatrix(y,t)}contrast(e,t){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,t)}saturate(e=0,t){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,n,i,s){e=e||.2,t=t||.15,n=n||16770432,i=i||3375104;const o=lt.shared,[a,u,l]=o.setValue(n).toArray(),[h,c,d]=o.setValue(i).toArray(),p=[.3,.59,.11,0,0,a,u,l,e,0,h,c,d,t,0,a-h,u-c,l-d,0,0];this._loadMatrix(p,s)}night(e,t){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Y1.prototype.grayscale=Y1.prototype.greyscale;var S6=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,T6=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class E6 extends Gr{constructor(e,t){const n=new St;e.renderable=!1,super(T6,S6,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,t==null&&(t=20),this.scale=new je(t,t)}apply(e,t,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,t,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var C6=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,A6=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class P6 extends Gr{constructor(){super(A6,C6)}}var k6=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class I6 extends Gr{constructor(e=.5,t=Math.random()){super(rk,k6,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const DE={AlphaFilter:m6,BlurFilter:w6,BlurFilterPass:z1,ColorMatrixFilter:Y1,DisplacementFilter:E6,FXAAFilter:P6,NoiseFilter:I6};Object.entries(DE).forEach(([r,e])=>{Object.defineProperty(DE,r,{get(){return Ke("7.1.0",`filters.${r} has moved to ${r}`),e}})});class M6{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(jt.system.add(this.tickerUpdate,this,xa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(jt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const qo=new M6;class gd{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=gd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new je,this.page=new je,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class mm extends gd{constructor(){super(...arguments),this.client=new je,this.movement=new je,this.offset=new je,this.global=new je,this.screen=new je}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,i,s,o,a,u,l,h,c,d,p,g,v){throw new Error("Method not implemented.")}}class Ai extends mm{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Nu extends mm{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Nu.DOM_DELTA_PIXEL=0,Nu.DOM_DELTA_LINE=1,Nu.DOM_DELTA_PAGE=2;const R6=2048,O6=new je,Zv=new je;class N6{constructor(e){this.dispatch=new fd,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,i=t.length;n<i;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){qo.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,O6.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(t)?t:[t];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const t=[e];for(let n=0;n<R6&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(qo.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const d=h[c],p=this.hitTestMoveRecursive(d,this._isInteractive(t)?t:d.eventMode,n,i,s,o||s(e,n));if(p){if(p.length>0&&!p[p.length-1].parent)continue;const g=e.isInteractive();(p.length>0||g)&&(g&&this._allInteractiveElements.push(e),p.push(e)),this._hitElements.length===0&&(this._hitElements=p),a=!0}}}const u=this._isInteractive(t),l=e.isInteractive();return u&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?l?[e]:[]:null}hitTestRecursive(e,t,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(qo.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let l=u.length-1;l>=0;l--){const h=u[l],c=this.hitTestRecursive(h,this._isInteractive(t)?t:h.eventMode,n,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const d=e.isInteractive();return(c.length>0||d)&&c.push(e),c}}}const o=this._isInteractive(t),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var n;if(e.hitArea&&(e.worldTransform.applyInverse(t,Zv),!e.hitArea.contains(Zv.x,Zv.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var s,o;t=t??e.type;const n=`on${t}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var u,l;if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==t.target){const h=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,h,s);if(this.dispatchEvent(c,"pointerout"),n&&this.dispatchEvent(c,"mouseout"),!t.composedPath().includes(s)){const d=this.createPointerEvent(e,"pointerleave",s);for(d.eventPhase=d.AT_TARGET;d.target&&!t.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(c)}if(s!==t.target){const h=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(t,h);this.dispatchEvent(c,"pointerover"),n&&this.dispatchEvent(c,"mouseover");let d=s==null?void 0:s.parent;for(;d&&d!==this.rootTarget.parent&&d!==t.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const p=this.clonePointerEvent(t,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(c)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),a&&o.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=t.target)==null?void 0:l.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var o;if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const u=i.clicksByButton[e.button];if(u.target===a.target&&t-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=t,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Ai)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Nu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const i=this.allocateEvent(Ai);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(Nu);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(Ai);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Ai&&t instanceof Ai&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof mm&&t instanceof mm&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(t,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const B6=1,F6={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},G1=class W1{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new N6(null),qo.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ai(null),this.rootWheelEvent=new Nu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...W1.defaultEventFeatures},{set:(t,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),t[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:n}=this.renderer;this.setTargetElement(t),this.resolution=n,W1._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=t.length;n<i;n++){const s=t[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,qo.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,qo.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;qo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;qo.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=B6),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=F6[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};G1.extension={name:"events",type:[me.RendererSystem,me.CanvasRendererSystem]},G1.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let V1=G1;Te.add(V1);function UE(r){return r==="dynamic"||r==="static"}const L6={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??UE(V1.defaultEventMode)},set interactive(r){Ke("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??V1.defaultEventMode},set eventMode(r){this._internalInteractive=UE(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof t=="object"?t.signal:void 0,s=typeof t=="object"?t.once===!0:!1,o=typeof e=="function"?void 0:e;r=n?`${r}capture`:r;const a=typeof e=="function"?e:e.handleEvent,u=this;i&&i.addEventListener("abort",()=>{u.off(r,a,o)}),s?u.once(r,a,o):u.on(r,a,o)},removeEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,i)},dispatchEvent(r){if(!(r instanceof gd))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Nt.mixin(L6);const D6={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Nt.mixin(D6);const U6=9,Df=100,j6=0,X6=0,jE=2,XE=1,$6=-1e3,H6=-1e3,z6=2;class hk{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ai.tablet||ai.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Df}px`,t.style.height=`${Df}px`,t.style.position="absolute",t.style.top=`${j6}px`,t.style.left=`${X6}px`,t.style.zIndex=jE.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${XE}px`,e.style.height=`${XE}px`,e.style.position="absolute",e.style.top=`${$6}px`,e.style.left=`${H6}px`,e.style.zIndex=z6.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}update(){const e=performance.now();if(ai.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,l=i/o*u,h=s/a*u;let c=this.div;c.style.left=`${t}px`,c.style.top=`${n}px`,c.style.width=`${o}px`,c.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,Ru(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{c=p._accessibleDiv;let g=p.hitArea;const v=p.worldTransform;p.hitArea?(c.style.left=`${(v.tx+g.x*v.a)*l}px`,c.style.top=`${(v.ty+g.y*v.d)*h}px`,c.style.width=`${g.width*v.a*l}px`,c.style.height=`${g.height*v.d*h}px`):(g=p.getBounds(),this.capHitArea(g),c.style.left=`${g.x*l}px`,c.style.top=`${g.y*h}px`,c.style.width=`${g.width*l}px`,c.style.height=`${g.height*h}px`,c.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(c.title=p.accessibleTitle),c.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&c.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==c.title||p.tabIndex!==c.tabIndex)&&(c.title=p.accessibleTitle,c.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Df}px`,t.style.height=`${Df}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=jE.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new gd(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===U6&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}hk.extension={name:"accessibility",type:[me.RendererPlugin,me.CanvasRendererPlugin]};Te.add(hk);const dk=class q1{constructor(e){this.stage=new Kr,e=Object.assign({forceCanvas:!1},e),this.renderer=e6(e),q1._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const n=q1._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};dk._plugins=[];let Cg=dk;Te.handleByList(me.Application,Cg._plugins);class fk{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,n;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;t=i,n=s}this.renderer.resize(t,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}fk.extension=me.Application;Te.add(fk);const $E={loader:me.LoadParser,resolver:me.ResolveParser,cache:me.CacheParser,detection:me.DetectionParser};Te.handle(me.Asset,r=>{const e=r.ref;Object.entries($E).filter(([t])=>!!e[t]).forEach(([t,n])=>Te.add(Object.assign(e[t],{extension:e[t].extension??n})))},r=>{const e=r.ref;Object.keys($E).filter(t=>!!e[t]).forEach(t=>Te.remove(e[t]))});class Y6{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function xc(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function Ln(r,e){const t=r.split("?")[0],n=Gt.extname(t).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Mi=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(n=>typeof n=="string"||t?e(n):n):r),K1=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function pk(r,e,t,n,i){const s=e[t];for(let o=0;o<s.length;o++){const a=s[o];t<e.length-1?pk(r.replace(n[t],a),e,t+1,n,i):i.push(r.replace(n[t],a))}}function G6(r){const e=/\{(.*?)\}/g,t=r.match(e),n=[];if(t){const i=[];t.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),pk(r,i,0,t,n)}else n.push(r);return n}const gm=r=>!Array.isArray(r);class W6{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=Mi(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(t)){i=u.getCacheableAssets(n,t);break}}i||(i={},n.forEach(a=>{i[a]=t}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==t&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),t instanceof Oe){const a=t;n.forEach(u=>{a.baseTexture!==Oe.EMPTY.baseTexture&&De.addToCache(a.baseTexture,u),Oe.addToCache(a,u)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(n=>{this._cache.delete(n)}),t.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ka=new W6;class V6{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,e,t,this))){s=l;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,t,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,t,this))&&(i=await l.parse(i,t,this)||i,n.parser=l)}return i})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const i={},s=gm(e),o=Mi(e,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const h=Gt.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,l)),i[l.src]=await this.promiseCache[h].promise,t&&t(++n/a)}catch(c){throw delete this.promiseCache[h],delete i[l.src],new Error(`[Loader.load] Failed to load ${h}.
${c}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const t=Mi(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Gt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Hn=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(Hn||{});const q6=".json",K6="application/json",Q6={extension:{type:me.LoadParser,priority:Hn.Low},name:"loadJson",test(r){return xc(r,K6)||Ln(r,q6)},async load(r){return await(await ye.ADAPTER.fetch(r)).json()}};Te.add(Q6);const Z6=".txt",J6="text/plain",e8={name:"loadTxt",extension:{type:me.LoadParser,priority:Hn.Low},test(r){return xc(r,J6)||Ln(r,Z6)},async load(r){return await(await ye.ADAPTER.fetch(r)).text()}};Te.add(e8);const t8=["normal","bold","100","200","300","400","500","600","700","800","900"],r8=[".ttf",".otf",".woff",".woff2"],n8=["font/ttf","font/otf","font/woff","font/woff2"],i8=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function s8(r){const e=Gt.extname(r),t=Gt.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=t.length>0;for(const s of t)if(!s.match(i8)){n=!1;break}let i=t.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const o8=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function a8(r){return o8.test(r)?r:encodeURI(r)}const l8={extension:{type:me.LoadParser,priority:Hn.Low},name:"loadWebFont",test(r){return xc(r,n8)||Ln(r,r8)},async load(r,e){var n,i,s;const t=ye.ADAPTER.getFontFaceSet();if(t){const o=[],a=((n=e.data)==null?void 0:n.family)??s8(r),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>t8.includes(h)))??["normal"],l=e.data??{};for(let h=0;h<u.length;h++){const c=u[h],d=new FontFace(a,`url(${a8(r)})`,{...l,weight:c});await d.load(),t.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>ye.ADAPTER.getFontFaceSet().delete(e))}};Te.add(l8);const u8=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Bu=null,Q1=class{constructor(){Bu||(Bu=URL.createObjectURL(new Blob([u8],{type:"application/javascript"}))),this.worker=new Worker(Bu)}};Q1.revokeObjectURL=function(){Bu&&(URL.revokeObjectURL(Bu),Bu=null)};const c8=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Fu=null;class mk{constructor(){Fu||(Fu=URL.createObjectURL(new Blob([c8],{type:"application/javascript"}))),this.worker=new Worker(Fu)}}mk.revokeObjectURL=function(){Fu&&(URL.revokeObjectURL(Fu),Fu=null)};let HE=0,Jv;class h8{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Q1;t.addEventListener("message",n=>{t.terminate(),Q1.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Jv===void 0&&(Jv=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Jv&&(this._createdWorkers++,e=new mk().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[HE]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:HE++,id:n})}}const zE=new h8;function vd(r,e,t){r.resource.internal=!0;const n=new Oe(r),i=()=>{delete e.promiseCache[t],Ka.has(t)&&Ka.remove(t)};return n.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const d8=[".jpeg",".jpg",".png",".webp",".avif"],f8=["image/jpeg","image/png","image/webp","image/avif"];async function p8(r){const e=await ye.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Ag={name:"loadTextures",extension:{type:me.LoadParser,priority:Hn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return xc(r,f8)||Ln(r,d8)},async load(r,e,t){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await zE.isImageBitmapSupported()?i=await zE.loadImageBitmap(r):i=await p8(r):i=await new Promise((u,l)=>{const h=new Image;h.crossOrigin=this.config.crossOrigin,h.src=r,h.complete?u(h):(h.onload=()=>u(h),h.onerror=c=>l(c))});const s={...e.data};s.resolution??(s.resolution=go(r)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new De(i,s);return o.resource.src=r,vd(o,t,r)},unload(r){r.destroy(!0)}};Te.add(Ag);const m8=".svg",g8="image/svg+xml",v8={extension:{type:me.LoadParser,priority:Hn.High},name:"loadSVG",test(r){return xc(r,g8)||Ln(r,m8)},async testParse(r){return j1.test(r)},async parse(r,e,t){var s;const n=new j1(r,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new De(n,{resolution:go(r),...e==null?void 0:e.data});return i.resource.src=e.src,vd(i,t,e.src)},async load(r,e){return(await ye.ADAPTER.fetch(r)).text()},unload:Ag.unload};Te.add(v8);const y8=[".mp4",".m4v",".webm",".ogv"],x8=["video/mp4","video/webm","video/ogg"],_8={name:"loadVideo",extension:{type:me.LoadParser,priority:Hn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return xc(r,x8)||Ln(r,y8)},async load(r,e,t){var o;let n;const i=await(await ye.ADAPTER.fetch(r)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},u=new lk(s,a);await u.load();const l=new De(u,{alphaMode:await P4(),resolution:go(r),...e==null?void 0:e.data});l.resource.src=r,n=vd(l,t,r),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(r){r.destroy(!0)}};Te.add(_8);class w8{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:i,srcs:s}=e;return Mi(t||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(e,o);n.push(u),a=[o,u]}else{const u=o.map(l=>this._createBundleAssetId(e,l));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(t).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:s,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:s,src:t[i]});else{const o=t[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,t,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ke("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:t,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},Mi(o).forEach(u=>{const{src:l,srcs:h}=u;let{data:c,format:d,loadParser:p}=u;const g=Mi(l||h).map(y=>typeof y=="string"?G6(y):Array.isArray(y)?y:[y]),v=this.getAlias(u);Array.isArray(v)?v.forEach(a):a(v);const x=[];g.forEach(y=>{y.forEach(b=>{let _={};if(typeof b!="object"){_.src=b;for(let S=0;S<this._parsers.length;S++){const I=this._parsers[S];if(I.test(b)){_=I.parse(b);break}}}else c=b.data??c,d=b.format??d,p=b.loadParser??p,_={..._,...b};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:v,data:c,format:d,loadParser:p}),x.push(_)})}),v.forEach(y=>{this._assetMap[y]=x})})}resolveBundle(e){const t=gm(e);e=Mi(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const n={};for(const i in t)n[i]=t[i].src;return n}return t.src}resolve(e){const t=gm(e);e=Mi(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(l=>{const h=s.filter(c=>c[u]?c[u]===l:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:n,data:i,loadParser:s,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=Gt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Gt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class b8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new w8,this.loader=new V6,this.cache=Ka,this._backgroundLoader=new Y6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const t=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,i,s){this.resolver.add(e,t,n,i,s)}async load(e,t){this._initialized||await this.init();const n=gm(e),i=Mi(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,t);return n?o[i[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{t==null||t(++a/u)},h=o.map(c=>{const d=i[c];return u+=Object.keys(d).length,this._mapLoadToResolve(d,l).then(p=>{s[c]=p})});return await Promise.all(h),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ka.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=Ka.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,t);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const l=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[u]]=l,Ka.set(h,l)}),o}async unload(e){this._initialized||await this.init();const t=Mi(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Mi(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(n=>{Ka.remove(n.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((n,i)=>t.indexOf(n)===i),t}get detections(){return this._detections}get preferWorkers(){return Ag.config.preferWorkers}set preferWorkers(e){Ke("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(n=>n in e).forEach(n=>{t.config[n]=e[n]})})}}const nn=new b8;Te.handleByList(me.LoadParser,nn.loader.parsers).handleByList(me.ResolveParser,nn.resolver.parsers).handleByList(me.CacheParser,nn.cache.parsers).handleByList(me.DetectionParser,nn.detections);const S8={extension:me.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof Oe),getCacheableAssets:(r,e)=>{const t={};return r.forEach(n=>{e.forEach((i,s)=>{t[n+(s===0?"":s+1)]=i})}),t}};Te.add(S8);async function gk(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const vk={extension:{type:me.DetectionParser,priority:1},test:async()=>gk("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};Te.add(vk);const yk={extension:{type:me.DetectionParser,priority:0},test:async()=>gk("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};Te.add(yk);const YE=["png","jpg","jpeg"],T8={extension:{type:me.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...YE],remove:async r=>r.filter(e=>!YE.includes(e))};Te.add(T8);const E8="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function H_(r){return E8?!1:document.createElement("video").canPlayType(r)!==""}const C8={extension:{type:me.DetectionParser,priority:0},test:async()=>H_("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};Te.add(C8);const A8={extension:{type:me.DetectionParser,priority:0},test:async()=>H_("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};Te.add(A8);const P8={extension:{type:me.DetectionParser,priority:0},test:async()=>H_("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};Te.add(P8);const k8={extension:me.ResolveParser,test:Ag.test,parse:r=>{var e;return{resolution:parseFloat(((e=ye.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:Gt.extname(r).slice(1),src:r}}};Te.add(k8);var Ar=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(Ar||{});const vm={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ds,eu;function GE(){eu={bptc:ds.getExtension("EXT_texture_compression_bptc"),astc:ds.getExtension("WEBGL_compressed_texture_astc"),etc:ds.getExtension("WEBGL_compressed_texture_etc"),s3tc:ds.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ds.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ds.getExtension("WEBGL_compressed_texture_pvrtc")||ds.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ds.getExtension("WEBGL_compressed_texture_etc1"),atc:ds.getExtension("WEBGL_compressed_texture_atc")}}const I8={extension:{type:me.DetectionParser,priority:2},test:async()=>{const r=ye.ADAPTER.createCanvas().getContext("webgl");return r?(ds=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{eu||GE();const e=[];for(const t in eu)eu[t]&&e.push(t);return[...e,...r]},remove:async r=>(eu||GE(),r.filter(e=>!(e in eu)))};Te.add(I8);class M8 extends xg{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,t),this.origin=n,this.buffer=i?new C1(i):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new C1(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class nl extends M8{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=nl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||nl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:l,levelBuffer:h}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,l,0,h)}return!0}onBlobLoaded(){this._levelBuffers=nl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,n,i,s,o,a){const u=new Array(n);let l=e.byteOffset,h=o,c=a,d=h+i-1&~(i-1),p=c+s-1&~(s-1),g=d*p*vm[t];for(let v=0;v<n;v++)u[v]={levelID:v,levelWidth:n>1?h:d,levelHeight:n>1?c:p,levelBuffer:new Uint8Array(e.buffer,l,g)},l+=g,h=h>>1||1,c=c>>1||1,d=h+i-1&~(i-1),p=c+s-1&~(s-1),g=d*p*vm[t];return u}}const ey=4,Uf=124,R8=32,WE=20,O8=542327876,jf={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},N8={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Xf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},B8=1,F8=2,L8=4,D8=64,U8=512,j8=131072,X8=827611204,$8=861165636,H8=894720068,z8=808540228,Y8=4,G8={[X8]:Ar.COMPRESSED_RGBA_S3TC_DXT1_EXT,[$8]:Ar.COMPRESSED_RGBA_S3TC_DXT3_EXT,[H8]:Ar.COMPRESSED_RGBA_S3TC_DXT5_EXT},W8={70:Ar.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ar.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ar.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ar.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ar.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ar.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ar.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ar.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ar.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ar.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ar.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ar.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ar.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function V8(r){const e=new Uint32Array(r);if(e[0]!==O8)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(r,0,Uf/Uint32Array.BYTES_PER_ELEMENT),n=t[jf.HEIGHT],i=t[jf.WIDTH],s=t[jf.MIPMAP_COUNT],o=new Uint32Array(r,jf.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,R8/Uint32Array.BYTES_PER_ELEMENT),a=o[B8];if(a&L8){const u=o[N8.FOURCC];if(u!==z8){const b=G8[u],_=ey+Uf,S=new Uint8Array(r,_);return[new nl(S,{format:b,width:i,height:n,levels:s})]}const l=ey+Uf,h=new Uint32Array(e.buffer,l,WE/Uint32Array.BYTES_PER_ELEMENT),c=h[Xf.DXGI_FORMAT],d=h[Xf.RESOURCE_DIMENSION],p=h[Xf.MISC_FLAG],g=h[Xf.ARRAY_SIZE],v=W8[c];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(p===Y8)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,y=ey+Uf+WE;if(g===1)x.push(new Uint8Array(r,y));else{const b=vm[v];let _=0,S=i,I=n;for(let k=0;k<s;k++){const M=Math.max(1,S+3&-4),O=Math.max(1,I+3&-4),D=M*O*b;_+=D,S=S>>>1,I=I>>>1}let P=y;for(let k=0;k<g;k++)x.push(new Uint8Array(r,P,_)),P+=_}return x.map(b=>new nl(b,{format:v,width:i,height:n,levels:s}))}throw a&D8?new Error("DDSParser does not support uncompressed texture data."):a&U8?new Error("DDSParser does not supported YUV uncompressed texture data."):a&j8?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&F8?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const VE=[171,75,84,88,32,49,49,187,13,10,26,10],q8=67305985,Si={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Z1=64,qE={[Se.UNSIGNED_BYTE]:1,[Se.UNSIGNED_SHORT]:2,[Se.INT]:4,[Se.UNSIGNED_INT]:4,[Se.FLOAT]:4,[Se.HALF_FLOAT]:8},K8={[de.RGBA]:4,[de.RGB]:3,[de.RG]:2,[de.RED]:1,[de.LUMINANCE]:1,[de.LUMINANCE_ALPHA]:2,[de.ALPHA]:1},Q8={[Se.UNSIGNED_SHORT_4_4_4_4]:2,[Se.UNSIGNED_SHORT_5_5_5_1]:2,[Se.UNSIGNED_SHORT_5_6_5]:2};function Z8(r,e,t=!1){const n=new DataView(e);if(!J8(r,n))return null;const i=n.getUint32(Si.ENDIANNESS,!0)===q8,s=n.getUint32(Si.GL_TYPE,i),o=n.getUint32(Si.GL_FORMAT,i),a=n.getUint32(Si.GL_INTERNAL_FORMAT,i),u=n.getUint32(Si.PIXEL_WIDTH,i),l=n.getUint32(Si.PIXEL_HEIGHT,i)||1,h=n.getUint32(Si.PIXEL_DEPTH,i)||1,c=n.getUint32(Si.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=n.getUint32(Si.NUMBER_OF_FACES,i),p=n.getUint32(Si.NUMBER_OF_MIPMAP_LEVELS,i),g=n.getUint32(Si.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||h!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const v=4,x=4,y=u+3&-4,b=l+3&-4,_=new Array(c);let S=u*l;s===0&&(S=y*b);let I;if(s!==0?qE[s]?I=qE[s]*K8[o]:I=Q8[s]:I=vm[a],I===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const P=t?tU(n,g,i):null;let k=S*I,M=u,O=l,D=y,L=b,X=Z1+g;for(let F=0;F<p;F++){const B=n.getUint32(X,i);let j=X+4;for(let z=0;z<c;z++){let q=_[z];q||(q=_[z]=new Array(p)),q[F]={levelID:F,levelWidth:p>1||s!==0?M:D,levelHeight:p>1||s!==0?O:L,levelBuffer:new Uint8Array(e,j,k)},j+=k}X+=B+4,X=X%4!==0?X+4-X%4:X,M=M>>1||1,O=O>>1||1,D=M+v-1&~(v-1),L=O+x-1&~(x-1),k=D*L*I}return s!==0?{uncompressed:_.map(F=>{let B=F[0].levelBuffer,j=!1;return s===Se.FLOAT?B=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===Se.UNSIGNED_INT?(j=!0,B=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===Se.INT&&(j=!0,B=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new xg(B,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:j?eU(o):o}}),kvData:P}:{compressed:_.map(F=>new nl(null,{format:a,width:u,height:l,levels:p,levelBuffers:F})),kvData:P}}function J8(r,e){for(let t=0;t<VE.length;t++)if(e.getUint8(t)!==VE[t])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function eU(r){switch(r){case de.RGBA:return de.RGBA_INTEGER;case de.RGB:return de.RGB_INTEGER;case de.RG:return de.RG_INTEGER;case de.RED:return de.RED_INTEGER;default:return r}}function tU(r,e,t){const n=new Map;let i=0;for(;i<e;){const s=r.getUint32(Z1+i,t),o=Z1+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&r.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(r.buffer,o,u)),h=new DataView(r.buffer,o+u+1,s-u-1);n.set(l,h),i+=4+s+a}return n}const rU={extension:{type:me.LoadParser,priority:Hn.High},name:"loadDDS",test(r){return Ln(r,".dds")},async load(r,e,t){const n=await(await ye.ADAPTER.fetch(r)).arrayBuffer(),i=V8(n).map(s=>{const o=new De(s,{mipmap:di.OFF,alphaMode:Yr.NO_PREMULTIPLIED_ALPHA,resolution:go(r),...e.data});return vd(o,t,r)});return i.length===1?i[0]:i},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};Te.add(rU);const nU={extension:{type:me.LoadParser,priority:Hn.High},name:"loadKTX",test(r){return Ln(r,".ktx")},async load(r,e,t){const n=await(await ye.ADAPTER.fetch(r)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=Z8(r,n),a=i??s,u={mipmap:di.OFF,alphaMode:Yr.NO_PREMULTIPLIED_ALPHA,resolution:go(r),...e.data},l=a.map(h=>{a===s&&Object.assign(u,{type:h.type,format:h.format});const c=h.resource??h,d=new De(c,u);return d.ktxKeyValueData=o,vd(d,t,r)});return l.length===1?l[0]:l},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};Te.add(nU);const iU=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],sU={extension:me.ResolveParser,test:r=>{const e=Gt.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{var n,i;const e=r.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const s=e.pop();if(iU.includes(s))return{resolution:parseFloat(((n=ye.RETINA_PREFIX.exec(r))==null?void 0:n[1])??"1"),format:s,src:r}}return{resolution:parseFloat(((i=ye.RETINA_PREFIX.exec(r))==null?void 0:i[1])??"1"),format:t,src:r}}};Te.add(sU);const $f=new Ye,oU=4,xk=class uh{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,n,i){const s=new Image;return s.src=await this.base64(e,t,n,i),s}async base64(e,t,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(u=>{if(!u){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(u)},t,n)});if(s.toDataURL!==void 0)return s.toDataURL(t,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:t,quality:n});return new Promise((a,u)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=u,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);o&&uh._flipY(n,i,s),a&&uh._unpremultiplyAlpha(n);const u=new H4(i,s,1),l=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return u.context.putImageData(l,0,0),u.canvas}pixels(e,t){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);return o&&uh._flipY(n,i,s),a&&uh._unpremultiplyAlpha(n),n}_rawPixels(e,t){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,u=!1;e&&(e instanceof wl?a=e:(a=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),u=!0,t&&($f.width=t.width,$f.height=t.height,t=$f)));const l=n.gl;if(a){if(i=a.baseTexture.resolution,t=t??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===de.RGBA,!u){n.renderTexture.bind(a);const p=a.framebuffer.glFramebuffers[n.CONTEXT_UID];p.blitFramebuffer&&n.framebuffer.bind(p.blitFramebuffer)}}else i=n.resolution,t||(t=$f,t.width=n.width/i,t.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const h=Math.max(Math.round(t.width*i),1),c=Math.max(Math.round(t.height*i),1),d=new Uint8Array(oU*h*c);return l.readPixels(Math.round(t.x*i),Math.round(t.y*i),h,c,l.RGBA,l.UNSIGNED_BYTE,d),u&&(a==null||a.destroy(!0)),{pixels:d,width:h,height:c,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,t,n){const i=t<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const u=a*i,l=(n-a-1)*i;o.set(e.subarray(u,u+i)),e.copyWithin(u,l,l+i),e.set(o,l)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};xk.extension={name:"extract",type:me.RendererSystem};let aU=xk;Te.add(aU);const ym={build(r){const e=r.points;let t,n,i,s,o,a;if(r.type===Mr.CIRC){const g=r.shape;t=g.x,n=g.y,o=a=g.radius,i=s=0}else if(r.type===Mr.ELIP){const g=r.shape;t=g.x,n=g.y,o=g.width,a=g.height,i=s=0}else{const g=r.shape,v=g.width/2,x=g.height/2;t=g.x+v,n=g.y+x,o=a=Math.max(0,Math.min(g.radius,Math.min(v,x))),i=v-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(e.length=l,l===0)return;if(u===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+s,e[2]=e[4]=t-i,e[5]=e[7]=n-s;return}let h=0,c=u*4+(i?2:0)+2,d=c,p=l;{const g=i+o,v=s,x=t+g,y=t-g,b=n+v;if(e[h++]=x,e[h++]=b,e[--c]=b,e[--c]=y,s){const _=n-v;e[d++]=y,e[d++]=_,e[--p]=_,e[--p]=x}}for(let g=1;g<u;g++){const v=Math.PI/2*(g/u),x=i+Math.cos(v)*o,y=s+Math.sin(v)*a,b=t+x,_=t-x,S=n+y,I=n-y;e[h++]=b,e[h++]=S,e[--c]=S,e[--c]=_,e[d++]=_,e[d++]=I,e[--p]=I,e[--p]=b}{const g=i,v=s+a,x=t+g,y=t-g,b=n+v,_=n-v;e[h++]=x,e[h++]=b,e[--p]=_,e[--p]=x,i&&(e[h++]=y,e[h++]=b,e[--p]=_,e[--p]=y)}},triangulate(r,e){const t=r.points,n=e.points,i=e.indices;if(t.length===0)return;let s=n.length/2;const o=s;let a,u;if(r.type!==Mr.RREC){const h=r.shape;a=h.x,u=h.y}else{const h=r.shape;a=h.x+h.width/2,u=h.y+h.height/2}const l=r.matrix;n.push(r.matrix?l.a*a+l.c*u+l.tx:a,r.matrix?l.b*a+l.d*u+l.ty:u),s++,n.push(t[0],t[1]);for(let h=2;h<t.length;h+=2)n.push(t[h],t[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function KE(r,e=!1){const t=r.length;if(t<6)return;let n=0;for(let i=0,s=r[t-2],o=r[t-1];i<t;i+=2){const a=r[i],u=r[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=t/2;for(let s=i+i%2;s<t;s+=2){const o=t-s-2,a=t-s-1,u=s,l=s+1;[r[o],r[u]]=[r[u],r[o]],[r[a],r[l]]=[r[l],r[a]]}}}const _k={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const n=r.holes,i=e.points,s=e.indices;if(t.length>=6){KE(t,!1);const o=[];for(let l=0;l<n.length;l++){const h=n[l];KE(h.points,!0),o.push(t.length/2),t=t.concat(h.points)}const a=qF(t,o,2);if(!a)return;const u=i.length/2;for(let l=0;l<a.length;l+=3)s.push(a[l]+u),s.push(a[l+1]+u),s.push(a[l+2]+u);for(let l=0;l<t.length;l++)i.push(t[l])}}},lU={build(r){const e=r.shape,t=e.x,n=e.y,i=e.width,s=e.height,o=r.points;o.length=0,i>=0&&s>=0&&o.push(t,n,t+i,n,t+i,n+s,t,n+s)},triangulate(r,e){const t=r.points,n=e.points;if(t.length===0)return;const i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},uU={build(r){ym.build(r)},triangulate(r,e){ym.triangulate(r,e)}};var ri=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(ri||{}),ta=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(ta||{});const tc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class QE{static curveTo(e,t,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-t,l=a-e,h=i-t,c=n-e,d=Math.abs(u*c-l*h);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const p=u*u+l*l,g=h*h+c*c,v=u*h+l*c,x=s*Math.sqrt(p)/d,y=s*Math.sqrt(g)/d,b=x*v/p,_=y*v/g,S=x*c+y*l,I=x*h+y*u,P=l*(y+b),k=u*(y+b),M=c*(x+_),O=h*(x+_),D=Math.atan2(k-I,P-S),L=Math.atan2(O-I,M-S);return{cx:S+e,cy:I+t,radius:s,startAngle:D,endAngle:L,anticlockwise:l*h>c*u}}static arc(e,t,n,i,s,o,a,u,l){const h=a-o,c=tc._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/um)*40),d=h/(c*2),p=d*2,g=Math.cos(d),v=Math.sin(d),x=c-1,y=x%1/x;for(let b=0;b<=x;++b){const _=b+y*b,S=d+o+p*_,I=Math.cos(S),P=-Math.sin(S);l.push((g*I+v*P)*s+n,(g*-P+v*I)*s+i)}}}class cU{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class z_{static curveLength(e,t,n,i,s,o,a,u){let l=0,h=0,c=0,d=0,p=0,g=0,v=0,x=0,y=0,b=0,_=0,S=e,I=t;for(let P=1;P<=10;++P)h=P/10,c=h*h,d=c*h,p=1-h,g=p*p,v=g*p,x=v*e+3*g*h*n+3*p*c*s+d*a,y=v*t+3*g*h*i+3*p*c*o+d*u,b=S-x,_=I-y,S=x,I=y,l+=Math.sqrt(b*b+_*_);return l}static curveTo(e,t,n,i,s,o,a){const u=a[a.length-2],l=a[a.length-1];a.length-=2;const h=tc._segmentsCount(z_.curveLength(u,l,e,t,n,i,s,o));let c=0,d=0,p=0,g=0,v=0;a.push(u,l);for(let x=1,y=0;x<=h;++x)y=x/h,c=1-y,d=c*c,p=d*c,g=y*y,v=g*y,a.push(p*u+3*d*y*e+3*c*g*n+v*s,p*l+3*d*y*t+3*c*g*i+v*o)}}function ZE(r,e,t,n,i,s,o,a){const u=r-t*i,l=e-n*i,h=r+t*s,c=e+n*s;let d,p;o?(d=n,p=-t):(d=-n,p=t);const g=u+d,v=l+p,x=h+d,y=c+p;return a.push(g,v,x,y),2}function Ua(r,e,t,n,i,s,o,a){const u=t-r,l=n-e;let h=Math.atan2(u,l),c=Math.atan2(i-r,s-e);a&&h<c?h+=Math.PI*2:!a&&h>c&&(c+=Math.PI*2);let d=h;const p=c-h,g=Math.abs(p),v=Math.sqrt(u*u+l*l),x=(15*g*Math.sqrt(v)/Math.PI>>0)+1,y=p/x;if(d+=y,a){o.push(r,e,t,n);for(let b=1,_=d;b<x;b++,_+=y)o.push(r,e,r+Math.sin(_)*v,e+Math.cos(_)*v);o.push(r,e,i,s)}else{o.push(t,n,r,e);for(let b=1,_=d;b<x;b++,_+=y)o.push(r+Math.sin(_)*v,e+Math.cos(_)*v,r,e);o.push(i,s,r,e)}return x*2}function hU(r,e){const t=r.shape;let n=r.points||t.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=r.lineStyle,o=new je(n[0],n[1]),a=new je(n[n.length-2],n[n.length-1]),u=t.type!==Mr.POLY||t.closeStroke,l=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const q=(o.x+a.x)*.5,$=(a.y+o.y)*.5;n.unshift(q,$),n.push(q,$)}const h=e.points,c=n.length/2;let d=n.length;const p=h.length/2,g=s.width/2,v=g*g,x=s.miterLimit*s.miterLimit;let y=n[0],b=n[1],_=n[2],S=n[3],I=0,P=0,k=-(b-S),M=y-_,O=0,D=0,L=Math.sqrt(k*k+M*M);k/=L,M/=L,k*=g,M*=g;const X=s.alignment,F=(1-X)*2,B=X*2;u||(s.cap===ta.ROUND?d+=Ua(y-k*(F-B)*.5,b-M*(F-B)*.5,y-k*F,b-M*F,y+k*B,b+M*B,h,!0)+2:s.cap===ta.SQUARE&&(d+=ZE(y,b,k,M,F,B,!0,h))),h.push(y-k*F,b-M*F,y+k*B,b+M*B);for(let q=1;q<c-1;++q){y=n[(q-1)*2],b=n[(q-1)*2+1],_=n[q*2],S=n[q*2+1],I=n[(q+1)*2],P=n[(q+1)*2+1],k=-(b-S),M=y-_,L=Math.sqrt(k*k+M*M),k/=L,M/=L,k*=g,M*=g,O=-(S-P),D=_-I,L=Math.sqrt(O*O+D*D),O/=L,D/=L,O*=g,D*=g;const $=_-y,W=b-S,H=_-I,V=P-S,Z=$*H+W*V,te=W*H-V*$,le=te<0;if(Math.abs(te)<.001*Math.abs(Z)){h.push(_-k*F,S-M*F,_+k*B,S+M*B),Z>=0&&(s.join===ri.ROUND?d+=Ua(_,S,_-k*F,S-M*F,_-O*F,S-D*F,h,!1)+4:d+=2,h.push(_-O*B,S-D*B,_+O*F,S+D*F));continue}const ge=(-k+y)*(-M+S)-(-k+_)*(-M+b),Pe=(-O+I)*(-D+S)-(-O+_)*(-D+P),Fe=($*Pe-H*ge)/te,He=(V*ge-W*Pe)/te,qe=(Fe-_)*(Fe-_)+(He-S)*(He-S),$e=_+(Fe-_)*F,Le=S+(He-S)*F,ut=_-(Fe-_)*B,et=S-(He-S)*B,Tr=Math.min($*$+W*W,H*H+V*V),Br=le?F:B,Qi=Tr+Br*Br*v,Cl=qe<=Qi;let gi=s.join;if(gi===ri.MITER&&qe/v>x&&(gi=ri.BEVEL),Cl)switch(gi){case ri.MITER:{h.push($e,Le,ut,et);break}case ri.BEVEL:{le?h.push($e,Le,_+k*B,S+M*B,$e,Le,_+O*B,S+D*B):h.push(_-k*F,S-M*F,ut,et,_-O*F,S-D*F,ut,et),d+=2;break}case ri.ROUND:{le?(h.push($e,Le,_+k*B,S+M*B),d+=Ua(_,S,_+k*B,S+M*B,_+O*B,S+D*B,h,!0)+4,h.push($e,Le,_+O*B,S+D*B)):(h.push(_-k*F,S-M*F,ut,et),d+=Ua(_,S,_-k*F,S-M*F,_-O*F,S-D*F,h,!1)+4,h.push(_-O*F,S-D*F,ut,et));break}}else{switch(h.push(_-k*F,S-M*F,_+k*B,S+M*B),gi){case ri.MITER:{le?h.push(ut,et,ut,et):h.push($e,Le,$e,Le),d+=2;break}case ri.ROUND:{le?d+=Ua(_,S,_+k*B,S+M*B,_+O*B,S+D*B,h,!0)+2:d+=Ua(_,S,_-k*F,S-M*F,_-O*F,S-D*F,h,!1)+2;break}}h.push(_-O*F,S-D*F,_+O*B,S+D*B),d+=2}}y=n[(c-2)*2],b=n[(c-2)*2+1],_=n[(c-1)*2],S=n[(c-1)*2+1],k=-(b-S),M=y-_,L=Math.sqrt(k*k+M*M),k/=L,M/=L,k*=g,M*=g,h.push(_-k*F,S-M*F,_+k*B,S+M*B),u||(s.cap===ta.ROUND?d+=Ua(_-k*(F-B)*.5,S-M*(F-B)*.5,_-k*F,S-M*F,_+k*B,S+M*B,h,!1)+2:s.cap===ta.SQUARE&&(d+=ZE(_,S,k,M,F,B,!1,h)));const j=e.indices,z=tc.epsilon*tc.epsilon;for(let q=p;q<d+p-2;++q)y=h[q*2],b=h[q*2+1],_=h[(q+1)*2],S=h[(q+1)*2+1],I=h[(q+2)*2],P=h[(q+2)*2+1],!(Math.abs(y*(S-P)+_*(P-b)+I*(b-S))<z)&&j.push(q,q+1,q+2)}function dU(r,e){let t=0;const n=r.shape,i=r.points||n.points,s=n.type!==Mr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,l=o.length/2;let h=l;for(o.push(i[0],i[1]),t=1;t<u;t++)o.push(i[t*2],i[t*2+1]),a.push(h,h+1),h++;s&&a.push(h,l)}function JE(r,e){r.lineStyle.native?dU(r,e):hU(r,e)}class Y_{static curveLength(e,t,n,i,s,o){const a=e-2*n+s,u=t-2*i+o,l=2*n-2*e,h=2*i-2*t,c=4*(a*a+u*u),d=4*(a*l+u*h),p=l*l+h*h,g=2*Math.sqrt(c+d+p),v=Math.sqrt(c),x=2*c*v,y=2*Math.sqrt(p),b=d/v;return(x*g+v*d*(g-y)+(4*p*c-d*d)*Math.log((2*v+b+g)/(b+y)))/(4*x)}static curveTo(e,t,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=tc._segmentsCount(Y_.curveLength(o,a,e,t,n,i));let l=0,h=0;for(let c=1;c<=u;++c){const d=c/u;l=o+(e-o)*d,h=a+(t-a)*d,s.push(l+(e+(n-e)*d-l)*d,h+(t+(i-t)*d-h)*d)}}}const ty={[Mr.POLY]:_k,[Mr.CIRC]:ym,[Mr.ELIP]:ym,[Mr.RECT]:lU,[Mr.RREC]:uU},e2=[],Hf=[];class xm{constructor(e,t=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new xm(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Gl=new je,wk=class bk extends TP{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Hf.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),e2.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,i=null){const s=new xm(e,t,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new xm(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const i=t[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Gl):Gl.copyFrom(e),i.shape.contains(Gl.x,Gl.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Gl.x,Gl.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<t.length;u++){this.shapeIndex++;const l=t[u],h=l.fillStyle,c=l.lineStyle;ty[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(h.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const p=d===0?h:c;if(!p.visible)continue;const g=p.texture.baseTexture,v=this.indices.length,x=this.points.length/2;g.wrapMode=ci.REPEAT,d===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-x;y!==0&&(n&&!this._compareStyles(i,p)&&(n.end(v,x),n=null),n||(n=e2.pop()||new cU,n.begin(p,v,x),this.batches.push(n),i=p),this.addUvs(this.points,e,p.texture,x,y,p.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const i=e[t];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<bk.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++De._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),Hf.push(this.drawCalls[c]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let i=Hf.pop();i||(i=new k1,i.texArray=new N1),i.texArray.count=0,i.start=0,i.size=0,i.type=Oi.TRIANGLES;let s=0,o=null,a=0,u=!1,l=Oi.TRIANGLES,h=0;this.drawCalls.push(i);for(let c=0;c<this.batches.length;c++){const d=this.batches[c],p=8,g=d.style,v=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,l=u?Oi.LINES:Oi.TRIANGLES,o=null,s=p,e++),o!==v&&(o=v,v._batchEnabled!==e&&(s===p&&(e++,s=0,i.size>0&&(i=Hf.pop(),i||(i=new k1,i.texArray=new N1),this.drawCalls.push(i)),i.start=h,i.size=0,i.texArray.count=0,i.type=l),v.touched=1,v._batchEnabled=e,v._batchLocation=s,v.wrapMode=ci.REPEAT,i.texArray.elements[i.texArray.count++]=v,s++)),i.size+=d.size,h+=d.size,a=v._batchLocation,this.addColors(t,g.color,g.alpha,d.attribSize,d.attribStart),this.addTextureIds(n,a,d.attribSize,d.attribStart)}De._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let l=0;l<e.length/2;l++)o[u++]=e[l*2],o[u++]=e[l*2+1],o[u++]=t[l*2],o[u++]=t[l*2+1],a[u++]=n[l],o[u++]=i[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?_k.triangulate(e,this):ty[e.type].triangulate(e,this)}processLine(e){JE(e,this);for(let t=0;t<e.holes.length;t++)JE(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];ty[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=t.a*i+t.c*s+t.tx,e[n*2+1]=t.b*i+t.d*s+t.ty}}addColors(e,t,n,i,s=0){const o=lt.shared.setValue(t).toLittleEndianNumber(),a=lt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let u=0;u<i;u++)e[s+u]=a}addTextureIds(e,t,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=t}addUvs(e,t,n,i,s,o=null){let a=0;const u=t.length,l=n.frame;for(;a<s;){let c=e[(i+a)*2],d=e[(i+a)*2+1];if(o){const p=o.a*c+o.c*d+o.tx;d=o.b*c+o.d*d+o.ty,c=p}a++,t.push(c/l.width,d/l.height)}const h=n.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,n,u,s)}adjustUvs(e,t,n,i){const s=t.baseTexture,o=1e-6,a=n+i*2,u=t.frame,l=u.width/s.width,h=u.height/s.height;let c=u.x/u.width,d=u.y/u.height,p=Math.floor(e[n]+o),g=Math.floor(e[n+1]+o);for(let v=n+2;v<a;v+=2)p=Math.min(p,Math.floor(e[v]+o)),g=Math.min(g,Math.floor(e[v+1]+o));c-=p,d-=g;for(let v=n;v<a;v+=2)e[v]=(e[v]+c)*l,e[v+1]=(e[v+1]+d)*h}};wk.BATCHABLE_SIZE=100;let fU=wk;class Pg{constructor(){this.color=16777215,this.alpha=1,this.texture=Oe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Pg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Oe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class G_ extends Pg{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ta.BUTT,this.join=ri.MITER,this.miterLimit=10}clone(){const e=new G_;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ta.BUTT,this.join=ri.MITER,this.miterLimit=10}}const ry={},J1=class Lp extends Kr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Pg,this._lineStyle=new G_,this._matrix=null,this._holeMode=!1,this.state=Ls.for2d(),this._geometry=e||new fU,this._geometry.refCount++,this._transformID=-1,this._tintColor=new lt(16777215),this.blendMode=Ie.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Lp(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:Oe.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ta.BUTT,join:ri.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new bh,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new bh,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Y_.curveTo(e,t,n,i,s),this}bezierCurveTo(e,t,n,i,s,o){return this._initCurve(),z_.curveTo(e,t,n,i,s,o,this.currentPath.points),this}arcTo(e,t,n,i,s){this._initCurve(e,t);const o=this.currentPath.points,a=QE.curveTo(e,t,n,i,s,o);if(a){const{cx:u,cy:l,radius:h,startAngle:c,endAngle:d,anticlockwise:p}=a;this.arc(u,l,h,c,d,p)}return this}arc(e,t,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=um:o&&i<=s&&(i+=um),s-i===0)return this;const a=e+Math.cos(i)*n,u=t+Math.sin(i)*n,l=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const c=Math.abs(h[h.length-2]-a),d=Math.abs(h[h.length-1]-u);c<l&&d<l||h.push(a,u)}else this.moveTo(a,u),h=this.currentPath.points;return QE.arc(a,u,e,t,n,i,s,o,h),this}beginFill(e=0,t){return this.beginTextureFill({texture:Oe.WHITE,color:e,alpha:t})}normalizeColor(e){const t=lt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:Oe.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,i){return this.drawShape(new Ye(e,t,n,i))}drawRoundedRect(e,t,n,i,s){return this.drawShape(new bg(e,t,n,i,s))}drawCircle(e,t,n){return this.drawShape(new _g(e,t,n))}drawEllipse(e,t,n,i){return this.drawShape(new wg(e,t,n,i))}drawPolygon(...e){let t,n=!0;const i=e[0];i.points?(n=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;const s=new bh(t);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Mr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),h={vertexData:a,blendMode:t,indices:l,uvs:u,_batchRGB:lt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=h}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=t.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,lt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,t){const{texArray:n,type:i,size:s,start:o}=t,a=n.count;for(let u=0;u<a;u++)e.texture.bind(n.elements[u],u);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!ry[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new St,default:Ui.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;ry[n]=new ji(a,o)}t=ry[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,t,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Lp._TEMP_POINT),this._geometry.containsPoint(Lp._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=lt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,o=t.d,a=t.tx,u=t.ty,l=this._geometry.points,h=this.vertexData;let c=0;for(let d=0;d<l.length;d+=2){const p=l[d],g=l[d+1];h[c++]=n*p+s*g+a,h[c++]=o*g+i*p+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};J1.curves=tc,J1._TEMP_POINT=new je;let Lu=J1;class pU{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const ny=new je,t2=new bh,Sk=class Tk extends Kr{constructor(e,t,n,i=Oi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||Ls.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ye.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Oi.TRIANGLES&&t.length<Tk.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const p=t[d*2],g=t[d*2+1];c[d*2]=s*p+a*g+l,c[d*2+1]=o*p+u*g+h}if(this._roundPixels){const d=ye.RESOLUTION;for(let p=0;p<c.length;++p)c[p]=Math.round(c[p]*d)/d}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new pU(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,ny);const t=this.geometry.getBuffer("aVertexPosition").data,n=t2.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,l=i[a+1]*2,h=i[a+2]*2;if(n[0]=t[u],n[1]=t[u+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[h],n[5]=t[h+1],t2.contains(ny.x,ny.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Sk.BATCHABLE_SIZE=100;let hl=Sk;class yd extends Ms{constructor(e,t,n){super();const i=new _t(e),s=new _t(t,!0),o=new _t(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Se.FLOAT).addAttribute("aTextureCoord",s,2,!1,Se.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var mU=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,gU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class rc extends ji{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:St.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(n,t.uniforms),super(t.program||Ss.from(gU,mU),n),this._colorDirty=!1,this.uvMatrix=new Eg(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new lt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;lt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class vU extends yd{constructor(e=100,t=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let h=0;h<e;h++){const c=h%this.segWidth,d=h/this.segWidth|0;t.push(c*a,d*u),n.push(c/s,d/o)}const l=s*o;for(let h=0;h<l;h++){const c=h%s,d=h/s|0,p=d*this.segWidth+c,g=d*this.segWidth+c+1,v=(d+1)*this.segWidth+c,x=(d+1)*this.segWidth+c+1;i.push(p,g,v,g,x,v)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class yU extends yd{constructor(e=200,t,n=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const l=this._width*this.textureScale,h=e.length;for(let d=0;d<h;d++){const p=d*4;if(this.textureScale>0){const g=u.x-e[d].x,v=u.y-e[d].y,x=Math.sqrt(g*g+v*v);u=e[d],a+=x/l}else a=d/(h-1);s[p]=a,s[p+1]=0,s[p+2]=a,s[p+3]=1}let c=0;for(let d=0;d<h-1;d++){const p=d*2;o[c++]=p,o[c++]=p+1,o[c++]=p+2,o[c++]=p+2,o[c++]=p+1,o[c++]=p+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const h=e[l],c=l*4;l<e.length-1?n=e[l+1]:n=h,s=-(n.x-t.x),i=n.y-t.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=u,s*=u),o[c]=h.x+i,o[c+1]=h.y+s,o[c+2]=h.x-i,o[c+3]=h.y-s,t=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class xU extends hl{constructor(e,t,n){const i=new vU(e.width,e.height,t,n),s=new rc(Oe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:n}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const zf=10;class _U extends xU{constructor(e,t,n,i,s){var o,a,u,l;super(Oe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((o=e.defaultBorders)==null?void 0:o.left)??zf,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??zf,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??zf,this._bottomHeight=s??((l=e.defaultBorders)==null?void 0:l.bottom)??zf,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(t,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class wU extends hl{constructor(e=Oe.EMPTY,t,n,i,s){const o=new yd(t,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new rc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class bU extends hl{constructor(e,t,n=0){const i=new yU(e.height,t,n),s=new rc(e);n>0&&(e.baseTexture.wrapMode=ci.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class SU extends Kr{constructor(e=1500,t,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ie.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new lt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class r2{constructor(e,t,n){this.geometry=new Ms,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Se.FLOAT,offset:s.offset},t[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new _t(X4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=t,t+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new _t(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new _t(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Se.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Se.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,t,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,t,n,s.type===Se.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,t,n,s.type===Se.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var TU=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,EU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Ek extends Tg{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new St,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Se.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ji.from(EU,TU,{}),this.state=Ls.for2d()}render(e){const t=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=t.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=t[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=wP(e.blendMode,l),s.state.set(this.state);const h=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=lt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let d=!1;for(let p=0,g=0;p<o;p+=i,g+=1){let v=o-p;v>i&&(v=i),g>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[g];x.uploadDynamic(t,p,v);const y=e._bufferUpdateIDs[g]||0;d=d||x._updateID<y,d&&(x._updateID=e._updateID,x.uploadStatic(t,p,v)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,v*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)t.push(new r2(this.properties,s,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new r2(this.properties,n,t)}uploadVertices(e,t,n,i,s,o){let a=0,u=0,l=0,h=0;for(let c=0;c<n;++c){const d=e[t+c],p=d._texture,g=d.scale.x,v=d.scale.y,x=p.trim,y=p.orig;x?(u=x.x-d.anchor.x*y.width,a=u+x.width,h=x.y-d.anchor.y*y.height,l=h+x.height):(a=y.width*(1-d.anchor.x),u=y.width*-d.anchor.x,l=y.height*(1-d.anchor.y),h=y.height*-d.anchor.y),i[o]=u*g,i[o+1]=h*v,i[o+s]=a*g,i[o+s+1]=h*v,i[o+s*2]=a*g,i[o+s*2+1]=l*v,i[o+s*3]=u*g,i[o+s*3+1]=l*v,o+=s*4}}uploadPosition(e,t,n,i,s,o){for(let a=0;a<n;a++){const u=e[t+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,t,n,i,s,o){for(let a=0;a<n;a++){const u=e[t+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,t,n,i,s,o){for(let a=0;a<n;++a){const u=e[t+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,t,n,i,s,o){for(let a=0;a<n;++a){const u=e[t+a],l=lt.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Ek.extension={name:"particle",type:me.RendererPlugin};Te.add(Ek);var kg=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(kg||{});const Yf={willReadFrequently:!0},fs=class Ae{static get experimentalLetterSpacingSupported(){let e=Ae._experimentalLetterSpacingSupported;if(e!==void 0){const t=ye.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ae._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,n,i,s,o,a,u,l){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(e,t,n,i=Ae._canvas){n=n??t.wordWrap;const s=t.toFontString(),o=Ae.measureFont(s);o.fontSize===0&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);const a=i.getContext("2d",Yf);a.font=s;const u=(n?Ae.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length);let h=0;for(let g=0;g<u.length;g++){const v=Ae._measureText(u[g],t.letterSpacing,a);l[g]=v,h=Math.max(h,v)}let c=h+t.strokeThickness;t.dropShadow&&(c+=t.dropShadowDistance);const d=t.lineHeight||o.fontSize+t.strokeThickness;let p=Math.max(d,o.fontSize+t.strokeThickness*2)+t.leading+(u.length-1)*(d+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new Ae(e,t,c,p,u,l,d+t.leading,h,o)}static _measureText(e,t,n){let i=!1;Ae.experimentalLetterSpacingSupported&&(Ae.experimentalLetterSpacing?(n.letterSpacing=`${t}px`,n.textLetterSpacing=`${t}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=t:s+=(Ae.graphemeSegmenter(e).length-1)*t),s}static wordWrap(e,t,n=Ae._canvas){const i=n.getContext("2d",Yf);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:h}=t,c=Ae.collapseSpaces(h),d=Ae.collapseNewlines(h);let p=!c;const g=t.wordWrapWidth+l,v=Ae.tokenize(e);for(let x=0;x<v.length;x++){let y=v[x];if(Ae.isNewline(y)){if(!d){a+=Ae.addLine(o),p=!c,o="",s=0;continue}y=" "}if(c){const _=Ae.isBreakingSpace(y),S=Ae.isBreakingSpace(o[o.length-1]);if(_&&S)continue}const b=Ae.getFromCache(y,l,u,i);if(b>g)if(o!==""&&(a+=Ae.addLine(o),o="",s=0),Ae.canBreakWords(y,t.breakWords)){const _=Ae.wordWrapSplit(y);for(let S=0;S<_.length;S++){let I=_[S],P=I,k=1;for(;_[S+k];){const O=_[S+k];if(!Ae.canBreakChars(P,O,y,S,t.breakWords))I+=O;else break;P=O,k++}S+=k-1;const M=Ae.getFromCache(I,l,u,i);M+s>g&&(a+=Ae.addLine(o),p=!1,o="",s=0),o+=I,s+=M}}else{o.length>0&&(a+=Ae.addLine(o),o="",s=0);const _=x===v.length-1;a+=Ae.addLine(y,!_),p=!1,o="",s=0}else b+s>g&&(p=!1,a+=Ae.addLine(o),o="",s=0),(o.length>0||!Ae.isBreakingSpace(y)||p)&&(o+=y,s+=b)}return a+=Ae.addLine(o,!1),a}static addLine(e,t=!0){return e=Ae.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,n,i){let s=n[e];return typeof s!="number"&&(s=Ae._measureText(e,t,i)+t,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const n=e[t];if(!Ae.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ae._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:Ae._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let n="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(Ae.isBreakingSpace(s,o)||Ae.isNewline(s)){n!==""&&(t.push(n),n=""),t.push(s);continue}n+=s}return n!==""&&t.push(n),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,i,s){return!0}static wordWrapSplit(e){return Ae.graphemeSegmenter(e)}static measureFont(e){if(Ae._fonts[e])return Ae._fonts[e];const t={ascent:0,descent:0,fontSize:0},n=Ae._canvas,i=Ae._context;i.font=e;const s=Ae.METRICS_STRING+Ae.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(Ae.BASELINE_SYMBOL).width);const u=Math.ceil(Ae.HEIGHT_MULTIPLIER*a);if(a=a*Ae.BASELINE_MULTIPLIER|0,o===0||u===0)return Ae._fonts[e]=t,t;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const l=i.getImageData(0,0,o,u).data,h=l.length,c=o*4;let d=0,p=0,g=!1;for(d=0;d<a;++d){for(let v=0;v<c;v+=4)if(l[p+v]!==255){g=!0;break}if(!g)p+=c;else break}for(t.ascent=a-d,p=h-c,g=!1,d=u;d>a;--d){for(let v=0;v<c;v+=4)if(l[p+v]!==255){g=!0;break}if(!g)p-=c;else break}return t.descent=d-a,t.fontSize=t.ascent+t.descent,Ae._fonts[e]=t,t}static clearMetrics(e=""){e?delete Ae._fonts[e]:Ae._fonts={}}static get _canvas(){var e;if(!Ae.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Yf))!=null&&e.measureText)return Ae.__canvas=n,n;t=ye.ADAPTER.createCanvas()}catch{t=ye.ADAPTER.createCanvas()}t.width=t.height=10,Ae.__canvas=t}return Ae.__canvas}static get _context(){return Ae.__context||(Ae.__context=Ae._canvas.getContext("2d",Yf)),Ae.__context}};fs.METRICS_STRING="|ÉqÅ",fs.BASELINE_SYMBOL="M",fs.BASELINE_MULTIPLIER=1.4,fs.HEIGHT_MULTIPLIER=2,fs.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),fs.experimentalLetterSpacing=!1,fs._fonts={},fs._newlines=[10,13],fs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Yo=fs;const CU=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ck=class ch{constructor(e){this.styleID=0,this.reset(),sy(this,e,e)}clone(){const e={};return sy(e,this,ch.defaultStyle),new ch(e)}reset(){sy(this,ch.defaultStyle,ch.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=iy(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=iy(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){AU(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=iy(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!CU.includes(i)&&(i=`"${i}"`),t[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};Ck.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:kg.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Rs=Ck;function iy(r){const e=lt.shared,t=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function AU(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function sy(r,e,t){for(const n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}const PU={texture:!0,children:!1,baseTexture:!0},Ak=class ex extends qi{constructor(e,t,n){let i=!1;n||(n=ye.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=Oe.from(n);s.orig=new Ye,s.trim=new Ye,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=ex.defaultResolution??ye.RESOLUTION,this._autoResolution=ex.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Yo.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ke("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Yo.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Yo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,h=i.maxLineWidth,c=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;let d,p;const g=t.dropShadow?2:1;for(let v=0;v<g;++v){const x=t.dropShadow&&v===0,y=x?Math.ceil(Math.max(1,o)+t.padding*2):0,b=y*this._resolution;if(x){n.fillStyle="black",n.strokeStyle="black";const S=t.dropShadowColor,I=t.dropShadowBlur*this._resolution,P=t.dropShadowDistance*this._resolution;n.shadowColor=lt.shared.setValue(S).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=I,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*P+b}else n.fillStyle=this._generateFillStyle(t,a,i),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(u-c.fontSize)/2;u-c.fontSize<0&&(_=0);for(let S=0;S<a.length;S++)d=t.strokeThickness/2,p=t.strokeThickness/2+S*u+c.ascent+_,t.align==="right"?d+=h-l[S]:t.align==="center"&&(d+=(h-l[S])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[S],d+t.padding,p+t.padding-y,!0),t.fill&&this.drawLetterSpacing(a[S],d+t.padding,p+t.padding-y)}this.updateTexture()}drawLetterSpacing(e,t,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Yo.experimentalLetterSpacingSupported&&(Yo.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let a=t;const u=Yo.graphemeSegmenter(e);let l=this.context.measureText(e).width,h=0;for(let c=0;c<u.length;++c){const d=u[c];i?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let p="";for(let g=c+1;g<u.length;++g)p+=u[g];h=this.context.measureText(p).width,a+=l-h+s,l=h}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=Y4(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const t=this._texture,n=this._style,i=n.trim?0:n.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,u=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,h=i.slice(),c=e.fillGradientStops.slice();if(!c.length){const d=h.length+1;for(let p=1;p<d;++p)c.push(p/d)}if(h.unshift(i[0]),c.unshift(0),h.push(i[i.length-1]),c.push(1),e.fillGradientType===kg.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,l+a);const d=n.fontProperties.fontSize+e.strokeThickness;for(let p=0;p<t.length;p++){const g=n.lineHeight*(p-1)+d,v=n.lineHeight*p;let x=v;p>0&&g>v&&(x=(v+g)/2);const y=v+d,b=n.lineHeight*(p+1);let _=y;p+1<t.length&&b<y&&(_=(y+b)/2);const S=(_-x)/l;for(let I=0;I<h.length;I++){let P=0;typeof c[I]=="number"?P=c[I]:P=I/h.length;let k=Math.min(1,Math.max(0,x/l+P*S));k=Number(k.toFixed(5)),s.addColorStop(k,h[I])}}}else{s=this.context.createLinearGradient(a,l/2,u+a,l/2);const d=h.length+1;let p=1;for(let g=0;g<h.length;g++){let v;typeof c[g]=="number"?v=c[g]:v=p/d,s.addColorStop(v,h[g]),p++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},PU,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ea(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ea(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Rs?this._style=e:this._style=new Rs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Ak.defaultAutoResolution=!0;let W_=Ak;class kU{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function IU(r,e){var n;let t=!1;if((n=r==null?void 0:r._textures)!=null&&n.length){for(let i=0;i<r._textures.length;i++)if(r._textures[i]instanceof Oe){const s=r._textures[i].baseTexture;e.includes(s)||(e.push(s),t=!0)}}return t}function MU(r,e){if(r.baseTexture instanceof De){const t=r.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function RU(r,e){if(r._texture&&r._texture instanceof Oe){const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function OU(r,e){return e instanceof W_?(e.updateText(!0),!0):!1}function NU(r,e){if(e instanceof Rs){const t=e.toFontString();return Yo.measureFont(t),!0}return!1}function BU(r,e){if(r instanceof W_){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function FU(r,e){return r instanceof Rs?(e.includes(r)||e.push(r),!0):!1}const Pk=class kk{constructor(e){this.limiter=new kU(kk.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(BU),this.registerFindHook(FU),this.registerFindHook(IU),this.registerFindHook(MU),this.registerFindHook(RU),this.registerUploadHook(OU),this.registerUploadHook(NU)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,jt.system.addOnce(this.tick,this,xa.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)jt.system.addOnce(this.tick,this,xa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Kr)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&jt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Pk.uploadsPerFrame=4;let tx=Pk;Object.defineProperties(ye,{UPLOADS_PER_FRAME:{get(){return tx.uploadsPerFrame},set(r){Ke("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),tx.uploadsPerFrame=r}}});function Ik(r,e){return e instanceof De?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function LU(r,e){if(!(e instanceof Lu))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:n}=t;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Ik(r,s.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function DU(r,e){return r instanceof Lu?(e.push(r),!0):!1}class Mk extends tx{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(DU),this.registerUploadHook(Ik),this.registerUploadHook(LU)}}Mk.extension={name:"prepare",type:me.RendererSystem};Te.add(Mk);class Xh extends qi{constructor(e,t=!0){super(e[0]instanceof Oe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(jt.shared.add(this.update,this,xa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(Oe.from(e[n]));return new Xh(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(Oe.from(e[n]));return new Xh(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Oe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(jt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Kc=new je;class V_ extends qi{constructor(e,t=100,n=100){super(e),this.tileTransform=new Sg,this._width=t,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Eg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Kc);const t=this._width,n=this._height,i=-t*this.anchor._x;if(Kc.x>=i&&Kc.x<i+t){const s=-n*this.anchor._y;if(Kc.y>=s&&Kc.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const n=e instanceof Oe?e:Oe.from(e,t);return new V_(n,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var UU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,jU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,XU=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,n2=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$U=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Gf=new St;class Rk extends Tg{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new FP,this.state=Ls.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=ji.from(n2,$U,t),this.shader=e.context.webGLVersion>1?ji.from(jU,UU,t):ji.from(n2,XU,t)}render(e){const t=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,l=u.alphaMode>0,h=e.tileTransform.localTransform,c=e.uvMatrix;let d=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;d&&(u._glTextures[t.CONTEXT_UID]?d=u.wrapMode!==ci.CLAMP:u.wrapMode===ci.CLAMP&&(u.wrapMode=ci.REPEAT));const p=d?this.simpleShader:this.shader,g=a.width,v=a.height,x=e._width,y=e._height;Gf.set(h.a*g/x,h.b*g/y,h.c*v/x,h.d*v/y,h.tx/x,h.ty/y),Gf.invert(),d?Gf.prepend(c.mapCoord):(p.uniforms.uMapCoord=c.mapCoord.toArray(!0),p.uniforms.uClampFrame=c.uClampFrame,p.uniforms.uClampOffset=c.uClampOffset),p.uniforms.uTransform=Gf.toArray(!0),p.uniforms.uColor=lt.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(p.uniforms.uColor),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=a,t.shader.bind(p),t.geometry.bind(n),this.state.blendMode=wP(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Rk.extension={name:"tilingSprite",type:me.RendererPlugin};Te.add(Rk);const Ok=class hh{constructor(e,t,n){this.linkedSheets=[],(e instanceof De||e instanceof Oe)&&(e={texture:e,data:t,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof Oe?i:null,this.baseTexture=i instanceof De?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const u=this.baseTexture.resource;this.resolution=this._updateResolution(o||(u?u.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let n=go(e,null);return n===null&&(n=typeof t=="number"?t:parseFloat(t??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=hh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const n=hh.BATCH_SIZE;for(;t-e<n&&t<this._frameKeys.length;){const i=this._frameKeys[t],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,h=new Ye(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Ye(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Oe(this.baseTexture,a,h,u,s.rotated?2:0,s.anchor,s.borders),Oe.addToCache(this.textures[i],this.cachePrefix+i.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const i=e[t][n];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*hh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*hh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Ok.BATCH_SIZE=1e3;let i2=Ok;const HU=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Nk(r,e,t){const n={};if(r.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=Gt.dirname(r[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,Nk([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const zU={extension:me.Asset,cache:{test:r=>r instanceof i2,getCacheableAssets:(r,e)=>Nk(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),t=e.pop(),n=e.pop();return t==="json"&&HU.includes(n)},parse:r=>{var t;const e=r.split(".");return{resolution:parseFloat(((t=ye.RETINA_PREFIX.exec(r))==null?void 0:t[1])??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:me.LoadParser,priority:Hn.Normal},async testParse(r,e){return Gt.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,t){var h,c;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Gt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const d=K1(o+(i??r.meta.image),e.src);a=(await t.load([d]))[d]}const u=new i2({texture:a.baseTexture,data:r,resolutionFilename:e.src,cachePrefix:s});await u.parse();const l=(h=r==null?void 0:r.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(l)){const d=[];for(const g of l){if(typeof g!="string")continue;let v=o+g;(c=e.data)!=null&&c.ignoreMultiPack||(v=K1(v,e.src),d.push(t.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(d);u.linkedSheets=p,p.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==g))})}return u},unload(r){r.destroy(!0)}}};Te.add(zU);class _m{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Dp{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in t){const o=t[s].match(/^[a-z]+/gm)[0],a=t[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const l in a){const h=a[l].split("="),c=h[0],d=h[1].replace(/"/gm,""),p=parseFloat(d),g=isNaN(p)?d:p;u[c]=g}n[o].push(u)}const i=new _m;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class rx{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new _m,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let l=0;l<n.length;l++)t.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(let l=0;l<i.length;l++)t.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(let l=0;l<s.length;l++)t.page.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});for(let l=0;l<o.length;l++){const h=o[l];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)t.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<u.length;l++)t.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return t}}class nx{static test(e){return typeof e=="string"&&e.includes("<font>")?rx.test(ye.ADAPTER.parseXML(e)):!1}static parse(e){return rx.parse(ye.ADAPTER.parseXML(e))}}const oy=[Dp,rx,nx];function YU(r){for(let e=0;e<oy.length;e++)if(oy[e].test(r))return oy[e];return null}function GU(r,e,t,n,i,s){const o=t.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=t.dropShadow?t.dropShadowDistance:0,l=t.padding||0,h=r.width/n-u-l*2,c=r.height/n-u-l*2,d=o.slice(),p=t.fillGradientStops.slice();if(!p.length){const g=d.length+1;for(let v=1;v<g;++v)p.push(v/g)}if(d.unshift(o[0]),p.unshift(0),d.push(o[o.length-1]),p.push(1),t.fillGradientType===kg.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,l,h/2,c+l);let g=0;const v=(s.fontProperties.fontSize+t.strokeThickness)/c;for(let x=0;x<i.length;x++){const y=s.lineHeight*x;for(let b=0;b<d.length;b++){let _=0;typeof p[b]=="number"?_=p[b]:_=b/d.length;const S=y/c+_*v;let I=Math.max(g,S);I=Math.min(I,1),a.addColorStop(I,d[b]),g=I}}}else{a=e.createLinearGradient(l,c/2,h+l,c/2);const g=d.length+1;let v=1;for(let x=0;x<d.length;x++){let y;typeof p[x]=="number"?y=p[x]:y=v/g,a.addColorStop(y,d[x]),v++}}return a}function WU(r,e,t,n,i,s,o){const a=t.text,u=t.fontProperties;e.translate(n,i),e.scale(s,s);const l=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=GU(r,e,o,s,[a],t),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,d=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=lt.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,l,h+t.lineHeight-u.descent),o.fill&&e.fillText(a,l,h+t.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Up(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function Bk(r){return Array.from?Array.from(r):r.split("")}function VU(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...Bk(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const jo=class ps{constructor(e,t,n){var h;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,u=go(o.file),l={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(let c=0;c<e.page.length;c++){const{id:d,file:p}=e.page[c];l[d]=t instanceof Array?t[c]:t[p],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[d].baseTexture.alphaMode=Yr.NO_PREMULTIPLIED_ALPHA,l[d].baseTexture.mipmap=di.OFF)}for(let c=0;c<e.char.length;c++){const{id:d,page:p}=e.char[c];let{x:g,y:v,width:x,height:y,xoffset:b,yoffset:_,xadvance:S}=e.char[c];g/=u,v/=u,x/=u,y/=u,b/=u,_/=u,S/=u;const I=new Ye(g+l[p].frame.x/u,v+l[p].frame.y/u,x,y);this.chars[d]={xOffset:b,yOffset:_,xAdvance:S,kerning:{},texture:new Oe(l[p].baseTexture,I),page:p}}for(let c=0;c<e.kerning.length;c++){let{first:d,second:p,amount:g}=e.kerning[c];d/=u,p/=u,g/=u,this.chars[p]&&(this.chars[p].kerning[d]=g)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((h=a==null?void 0:a.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,n){let i;if(e instanceof _m)i=e;else{const o=YU(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}t instanceof Oe&&(t=[t]);const s=new ps(i,t,n);return ps.available[s.font]=s,s}static uninstall(e){const t=ps.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete ps.available[e]}static from(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...l}=Object.assign({},ps.defaultOptions,n),h=VU(i),c=t instanceof Rs?t:new Rs(t),d=a,p=new _m;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};let g=0,v=0,x,y,b,_=0;const S=[];for(let P=0;P<h.length;P++){x||(x=ye.ADAPTER.createCanvas(),x.width=a,x.height=u,y=x.getContext("2d"),b=new De(x,{resolution:o,...l}),S.push(new Oe(b)),p.page.push({id:S.length-1,file:""}));const k=h[P],M=Yo.measureText(k,c,!1,x),O=M.width,D=Math.ceil(M.height),L=Math.ceil((c.fontStyle==="italic"?2:1)*O);if(v>=u-D*o){if(v===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--P,x=null,y=null,b=null,v=0,g=0,_=0;continue}if(_=Math.max(D+M.fontProperties.descent,_),L*o+g>=d){if(g===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--P,v+=_*o,v=Math.ceil(v),g=0,_=0;continue}WU(x,y,M,g,v,o,c);const X=Up(M.text);p.char.push({id:X,page:S.length-1,x:g/o,y:v/o,width:L,height:D,xoffset:0,yoffset:0,xadvance:O-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),g+=(L+2*s)*o,g=Math.ceil(g)}if(!(n!=null&&n.skipKerning))for(let P=0,k=h.length;P<k;P++){const M=h[P];for(let O=0;O<k;O++){const D=h[O],L=y.measureText(M).width,X=y.measureText(D).width,F=y.measureText(M+D).width-(L+X);F&&p.kerning.push({first:Up(M),second:Up(D),amount:F})}}const I=new ps(p,S,!0);return ps.available[e]!==void 0&&ps.uninstall(e),ps.available[e]=I,I}};jo.ALPHA=[["a","z"],["A","Z"]," "],jo.NUMERIC=[["0","9"]],jo.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],jo.ASCII=[[" ","~"]],jo.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:jo.ALPHANUMERIC},jo.available={};let Xo=jo;var qU=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,KU=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const s2=[],o2=[],a2=[],Fk=class Lk extends Kr{constructor(e,t={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},Lk.styleDefaults,t);if(!Xo.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new lt(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Bi(()=>{this.dirty=!0},this,0,0),this._roundPixels=ye.ROUND_PIXELS,this.dirty=!0,this._resolution=ye.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var L;const e=Xo.available[this._fontName],t=this.fontSize,n=t/e.size,i=new je,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Bk(u),h=this._maxWidth*e.size/t,c=e.distanceFieldType==="none"?s2:o2;let d=null,p=0,g=0,v=0,x=-1,y=0,b=0,_=0,S=0;for(let X=0;X<l.length;X++){const F=l[X],B=Up(F);if(/(?:\s)/.test(F)&&(x=X,y=p,S++),F==="\r"||F===`
`){o.push(p),a.push(-1),g=Math.max(g,p),++v,++b,i.x=0,i.y+=e.lineHeight,d=null,S=0;continue}const j=e.chars[B];if(!j)continue;d&&j.kerning[d]&&(i.x+=j.kerning[d]);const z=a2.pop()||{texture:Oe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new je};z.texture=j.texture,z.line=v,z.charCode=B,z.position.x=Math.round(i.x+j.xOffset+this._letterSpacing/2),z.position.y=Math.round(i.y+j.yOffset),z.prevSpaces=S,s.push(z),p=z.position.x+Math.max(j.xAdvance-j.xOffset,j.texture.orig.width),i.x+=j.xAdvance+this._letterSpacing,_=Math.max(_,j.yOffset+j.texture.height),d=B,x!==-1&&h>0&&i.x>h&&(++b,Ru(s,1+x-b,1+X-x),X=x,x=-1,o.push(y),a.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,y),v++,i.x=0,i.y+=e.lineHeight,d=null,S=0)}const I=l[l.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(p=y),o.push(p),g=Math.max(g,p),a.push(-1));const P=[];for(let X=0;X<=v;X++){let F=0;this._align==="right"?F=g-o[X]:this._align==="center"?F=(g-o[X])/2:this._align==="justify"&&(F=a[X]<0?0:(g-o[X])/a[X]),P.push(F)}const k=s.length,M={},O=[],D=this._activePagesMeshData;c.push(...D);for(let X=0;X<k;X++){const F=s[X].texture,B=F.baseTexture.uid;if(!M[B]){let j=c.pop();if(!j){const q=new yd;let $,W;e.distanceFieldType==="none"?($=new rc(Oe.EMPTY),W=Ie.NORMAL):($=new rc(Oe.EMPTY,{program:Ss.from(KU,qU),uniforms:{uFWidth:0}}),W=Ie.NORMAL_NPM);const H=new hl(q,$);H.blendMode=W,j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0;const{_textureCache:z}=this;z[B]=z[B]||new Oe(F.baseTexture),j.mesh.texture=z[B],j.mesh.tint=this._tintColor.value,O.push(j),M[B]=j}M[B].total++}for(let X=0;X<D.length;X++)O.includes(D[X])||this.removeChild(D[X].mesh);for(let X=0;X<O.length;X++)O[X].mesh.parent!==this&&this.addChild(O[X].mesh);this._activePagesMeshData=O;for(const X in M){const F=M[X],B=F.total;if(!(((L=F.indices)==null?void 0:L.length)>6*B)||F.vertices.length<hl.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*B),F.uvs=new Float32Array(4*2*B),F.indices=new Uint16Array(6*B);else{const j=F.total,z=F.vertices;for(let q=j*4*2;q<z.length;q++)z[q]=0}F.mesh.size=6*B}for(let X=0;X<k;X++){const F=s[X];let B=F.position.x+P[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(B=Math.round(B));const j=B*n,z=F.position.y*n,q=F.texture,$=M[q.baseTexture.uid],W=q.frame,H=q._uvs,V=$.index++;$.indices[V*6+0]=0+V*4,$.indices[V*6+1]=1+V*4,$.indices[V*6+2]=2+V*4,$.indices[V*6+3]=0+V*4,$.indices[V*6+4]=2+V*4,$.indices[V*6+5]=3+V*4,$.vertices[V*8+0]=j,$.vertices[V*8+1]=z,$.vertices[V*8+2]=j+W.width*n,$.vertices[V*8+3]=z,$.vertices[V*8+4]=j+W.width*n,$.vertices[V*8+5]=z+W.height*n,$.vertices[V*8+6]=j,$.vertices[V*8+7]=z+W.height*n,$.uvs[V*8+0]=H.x0,$.uvs[V*8+1]=H.y0,$.uvs[V*8+2]=H.x1,$.uvs[V*8+3]=H.y1,$.uvs[V*8+4]=H.x2,$.uvs[V*8+5]=H.y2,$.uvs[V*8+6]=H.x3,$.uvs[V*8+7]=H.y3}this._textWidth=g*n,this._textHeight=(i.y+e.lineHeight)*n;for(const X in M){const F=M[X];if(this.anchor.x!==0||this.anchor.y!==0){let q=0;const $=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y;for(let H=0;H<F.total;H++)F.vertices[q++]-=$,F.vertices[q++]-=W,F.vertices[q++]-=$,F.vertices[q++]-=W,F.vertices[q++]-=$,F.vertices[q++]-=W,F.vertices[q++]-=$,F.vertices[q++]-=W}this._maxLineHeight=_*n;const B=F.mesh.geometry.getBuffer("aVertexPosition"),j=F.mesh.geometry.getBuffer("aTextureCoord"),z=F.mesh.geometry.getIndex();B.data=F.vertices,j.data=F.uvs,z.data=F.indices,B.update(),j.update(),z.update()}for(let X=0;X<s.length;X++)a2.push(s[X]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:i}=Xo.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,l=Math.sqrt(s*s+o*o),h=Math.sqrt(a*a+u*u),c=(Math.abs(l)+Math.abs(h))/2,d=this.fontSize/i,p=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=c*t*d*p}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Xo.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Xo.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Xo.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=Xo.available[this._fontName].distanceFieldType==="none"?s2:o2;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Oe.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Fk.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let QU=Fk;const ZU=[".xml",".fnt"],JU={extension:{type:me.LoadParser,priority:Hn.Normal},name:"loadBitmapFont",test(r){return ZU.includes(Gt.extname(r).toLowerCase())},async testParse(r){return Dp.test(r)||nx.test(r)},async parse(r,e,t){const n=Dp.test(r)?Dp.parse(r):nx.parse(r),{src:i}=e,{page:s}=n,o=[];for(let l=0;l<s.length;++l){const h=s[l].file;let c=Gt.join(Gt.dirname(i),h);c=K1(c,i),o.push(c)}const a=await t.load(o),u=o.map(l=>a[l]);return Xo.install(n,u,!0)},async load(r,e){return(await ye.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};Te.add(JU);const ix=class tu extends Rs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new tu(Object.keys(tu.defaultOptions).reduce((t,n)=>({...t,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete tu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:n}=tu;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ye.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),u=new FileReader;u.onload=()=>s([a,u.result]),u.onerror=o,u.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Gt.basename(e,Gt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},t);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(n=>!this._overrides.includes(n));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(n=>this._overrides.includes(n));t.length>0&&(this._overrides=this._overrides.filter(n=>!t.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=U4(e)),typeof e=="number"?D4(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,tu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=ye.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};ix.availableFonts={},ix.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ay=ix;const Wf=class ru extends qi{constructor(e="",t={}){super(Oe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=Oe.from(n,{scaleMode:ye.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ye,i.trim=new Ye,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),l=document.createElementNS(o,"div"),h=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",a.appendChild(u),this.maxWidth=ru.defaultMaxWidth,this.maxHeight=ru.defaultMaxHeight,this._domElement=l,this._styleElement=h,this._svgRoot=a,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(l),this._image=n,this._loadImage=new Image,this._autoResolution=ru.defaultAutoResolution,this._resolution=ru.defaultResolution??ye.RESOLUTION,this.text=e,this.style=t}measureText(e){var h,c;const{text:t,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(h=this._style)==null?void 0:h.toCSS(i)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:u+n.padding*2,height:l+n.padding*2}}async updateText(e=!0){const{style:t,_image:n,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(u=>{i.onload=async()=>{if(a<this._updateID){u();return}await t.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),u()};const l=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=n.width/i,t.trim.height=t._frame.height=n.height/i,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},ru.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=t,(i=this._svgRoot)==null||i.remove(),this._svgRoot=t,(s=this._domElement)==null||s.remove(),this._domElement=t,(o=this._foreignObject)==null||o.remove(),this._foreignObject=t,(a=this._styleElement)==null||a.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ea(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ea(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof ay?(this.ownsStyle=!1,this._style=e):e instanceof Rs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ay.from(e)):(this.ownsStyle=!0,this._style=new ay(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Wf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Wf.defaultMaxWidth=2024,Wf.defaultMaxHeight=2024,Wf.defaultAutoResolution=!0;function ej(r){const e=Object.create(null);return r=r.trim().replace(/^(\?|#|&)/,""),r&&r.split("&").forEach(t=>{const n=t.replace(/\+/g," ").split("=");let i=n.shift(),s=n.length>0?n.join("="):void 0;i=decodeURIComponent(i),s=s===void 0?null:decodeURIComponent(s),e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function tj(r){let e="",t=0;for(const n in r)r[n]&&(t++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e}function rj(r){return r===void 0&&(r=q_()),`${window.location.protocol}//${window.location.host}${window.location.pathname}?`+tj(r)}function q_(){return ej(window.location.search)}function nj(r,e){const t=q_();return t[r]=e,rj(t)}function Rn(r,e){const t=q_();return t[r]?t[r]:e}var ze=(r=>(r.English="en",r.Chinese="cs",r.Vietnamese="vn",r.Thai="th",r.Khmer="kh",r.Indonesian="id",r.Korean="kr",r.Japanese="jp",r.Turkish="tr",r.Portuguese="pt",r.IndianHindi="hi",r))(ze||{});class ij{constructor(){C(this,"urlOptions");C(this,"tableOptions");C(this,"configOptions");this.urlOptions=this.getUrlConfig(),this.tableOptions=nu("table")||{},this.configOptions=nu("gameconfig")||{}}configureLanguage(){let e=Rn("lang","en");switch(!0){case e.indexOf("us")>=0:case e.indexOf("en")>=0:e="en";break;case e.indexOf("cn")>=0:case e.indexOf("zh")>=0:case e.indexOf("zn")>=0:case e.indexOf("cs")>=0:e="cs";break;case e.indexOf("th")>=0:e="th";break;case e.indexOf("vi")>=0:case e.indexOf("vn")>=0:e="vn";break;case e.indexOf("ko")>=0:case e.indexOf("kr")>=0:e="kr";break;case e.indexOf("km")>=0:case e.indexOf("kh")>=0:e="kh";break;case e.indexOf("id")>=0:e="id";break;case e.indexOf("ja")>=0:case e.indexOf("jp")>=0:e="jp";break;case e.indexOf("hi")>=0:e="hi";break;case e.indexOf("tr")>=0:e="tr";break;case e.indexOf("pt")>=0:e="pt";break;default:e="en"}return e}getUrlConfig(){const e={operator:Rn("op",""),funPLay:Rn("fun","0")=="1",showLog:Rn("log","0")=="1",loginUrl:Rn("loginUrl",""),lobbyUrl:Rn("lobbyUrl",""),fundsUrl:Rn("fundsUrl",""),livechatUrl:Rn("livechatUrl",""),token:Rn("token")||Rn("s"),lang:this.configureLanguage(),platform:Rn("p")||(ai.any?"mobile":"web")};return!e.token&&!e.loginUrl&&(e.funPLay=!0),e}getLoginUrl(){return this.urlOptions.loginUrl?`${this.urlOptions.loginUrl}?url=${encodeURIComponent(nj("fun","0"))}`:this.getLobbyUrl()}getLobbyUrl(){return this.urlOptions.lobbyUrl||""}}var aa=Object.freeze({Linear:Object.freeze({None:function(r){return r},In:function(r){return r},Out:function(r){return r},InOut:function(r){return r}}),Quadratic:Object.freeze({In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}}),Cubic:Object.freeze({In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}}),Quartic:Object.freeze({In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}}),Quintic:Object.freeze({In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}}),Sinusoidal:Object.freeze({In:function(r){return 1-Math.sin((1-r)*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.sin(Math.PI*(.5-r)))}}),Exponential:Object.freeze({In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}}),Circular:Object.freeze({In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}}),Elastic:Object.freeze({In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(r){var e=1.70158;return r===1?1:r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return r===0?0:--r*r*((e+1)*r+e)+1},InOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}}),Bounce:Object.freeze({In:function(r){return 1-aa.Bounce.Out(1-r)},Out:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},InOut:function(r){return r<.5?aa.Bounce.In(r*2)*.5:aa.Bounce.Out(r*2-1)*.5+.5}}),generatePow:function(r){return r===void 0&&(r=4),r=r<Number.EPSILON?Number.EPSILON:r,r=r>1e4?1e4:r,{In:function(e){return Math.pow(e,r)},Out:function(e){return 1-Math.pow(1-e,r)},InOut:function(e){return e<.5?Math.pow(e*2,r)/2:(1-Math.pow(2-e*2,r))/2+.5}}}}),dh=function(){return performance.now()},Dk=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,t){e===void 0&&(e=dh()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),au={Linear:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=au.Utils.Linear;return e<0?s(r[0],r[1],n):e>1?s(r[t],r[t-1],t-n):s(r[i],r[i+1>t?t:i+1],n-i)},Bezier:function(r,e){for(var t=0,n=r.length-1,i=Math.pow,s=au.Utils.Bernstein,o=0;o<=n;o++)t+=i(1-e,n-o)*i(e,o)*r[o]*s(n,o);return t},CatmullRom:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=au.Utils.CatmullRom;return r[0]===r[t]?(e<0&&(i=Math.floor(n=t*(1+e))),s(r[(i-1+t)%t],r[i],r[(i+1)%t],r[(i+2)%t],n-i)):e<0?r[0]-(s(r[0],r[0],r[1],r[1],-n)-r[0]):e>1?r[t]-(s(r[t],r[t],r[t-1],r[t-1],n-t)-r[t]):s(r[i?i-1:0],r[i],r[t<i+1?t:i+1],r[t<i+2?t:i+2],n-i)},Utils:{Linear:function(r,e,t){return(e-r)*t+r},Bernstein:function(r,e){var t=au.Utils.Factorial;return t(r)/t(e)/t(r-e)},Factorial:function(){var r=[1];return function(e){var t=1;if(r[e])return r[e];for(var n=e;n>1;n--)t*=n;return r[e]=t,t}}(),CatmullRom:function(r,e,t,n,i){var s=(t-r)*.5,o=(n-e)*.5,a=i*i,u=i*a;return(2*e-2*t+s+o)*u+(-3*e+3*t-2*s-o)*a+s*i+e}}},sj=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),sx=new Dk,Uk=function(){function r(e,t){t===void 0&&(t=sx),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=aa.Linear.None,this._interpolationFunction=au.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=sj.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.getDuration=function(){return this._duration},r.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},r.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},r.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},r.prototype.start=function(e,t){if(e===void 0&&(e=dh()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},r.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},r.prototype._setupProperties=function(e,t,n,i,s){for(var o in n){var a=e[o],u=Array.isArray(a),l=u?"array":typeof a,h=!u&&Array.isArray(n[o]);if(!(l==="undefined"||l==="function")){if(h){var c=n[o];if(c.length===0)continue;for(var d=[a],p=0,g=c.length;p<g;p+=1){var v=this._handleRelativeValue(a,c[p]);if(isNaN(v)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(v)}h&&(n[o]=d)}if((l==="object"||u)&&a&&!h){t[o]=u?[]:{};var x=a;for(var y in x)t[o][y]=x[y];i[o]=u?[]:{};var c=n[o];if(!this._isDynamic){var b={};for(var y in c)b[y]=c[y];n[o]=c=b}this._setupProperties(x,t[o],c,i[o],s)}else(typeof t[o]>"u"||s)&&(t[o]=a),u||(t[o]*=1),h?i[o]=n[o].slice().reverse():i[o]=t[o]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},r.prototype.pause=function(e){return e===void 0&&(e=dh()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},r.prototype.resume=function(e){return e===void 0&&(e=dh()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},r.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return e===void 0&&(e=sx),this._group=e,this},r.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},r.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},r.prototype.easing=function(e){return e===void 0&&(e=aa.Linear.None),this._easingFunction=e,this},r.prototype.interpolation=function(e){return e===void 0&&(e=au.Linear),this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,t){var n;if(e===void 0&&(e=dh()),t===void 0&&(t=!0),this._isPaused)return!0;var i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=e-this._startTime,o=this._duration+((n=this._repeatDelayTime)!==null&&n!==void 0?n:this._delayTime),a=this._duration+this._repeat*o,u=this._calculateElapsedPortion(s,o,a),l=this._easingFunction(u),h=this._calculateCompletionStatus(s,o);if(h==="repeat"&&this._processRepetition(s,o),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),h==="about-to-repeat"&&this._processRepetition(s,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,u),h==="repeat"||h==="about-to-repeat")this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1;else if(h==="completed"){this._isPlaying=!1,this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,d=this._chainedTweens.length;c<d;c++)this._chainedTweens[c].start(this._startTime+this._duration,!1)}return h!=="completed"},r.prototype._calculateElapsedPortion=function(e,t,n){if(this._duration===0||e>n)return 1;var i=e%t,s=Math.min(i/this._duration,1);return s===0&&e!==0&&e%this._duration===0?1:s},r.prototype._calculateCompletionStatus=function(e,t){return this._duration!==0&&e<this._duration?"playing":this._repeat<=0?"completed":e===this._duration?"about-to-repeat":"repeat"},r.prototype._processRepetition=function(e,t){var n=Math.min(Math.trunc((e-this._duration)/t)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=n);for(var i in this._valuesStartRepeat){var s=this._valuesEnd[i];!this._yoyo&&typeof s=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(s)),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}this._yoyo&&(this._reversed=!this._reversed),this._startTime+=t*n},r.prototype._updateProperties=function(e,t,n,i){for(var s in n)if(t[s]!==void 0){var o=t[s]||0,a=n[s],u=Array.isArray(e[s]),l=Array.isArray(a),h=!u&&l;h?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},r.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},r.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},r}(),Os=sx;Os.getAll.bind(Os);Os.removeAll.bind(Os);Os.add.bind(Os);var oj=Os.remove.bind(Os),aj=Os.update.bind(Os);class lj extends ij{constructor(){super();C(this,"_time",0);C(this,"_turboTime",0);C(this,"turboTicker",new jt);C(this,"turboTweenGroup",new Dk);this.turboTicker.autoStart=!1}deltaTime(t){this._time+=t}deltaTurboTime(t){this._turboTime+=t}getTime(t){return t?this._turboTime:this._time}}class uj extends lj{constructor(){super(...arguments);C(this,"eventEmitter",new PF.EventEmitter)}get notice(){return this.eventEmitter}}class cj extends uj{constructor(){super(...arguments);C(this,"_viewport");C(this,"_orientation")}get viewport(){return this._viewport}get orientation(){return this._orientation}updateViewport(t,n,i,s){this._viewport=[t,n,i,s]}updateOrientation(){this._orientation=this.getOrientationType()}get isLandscapeOnly(){const t=this.configOptions.layoutMap;return t.l&&!t.p}get isPortraitOnly(){const t=this.configOptions.layoutMap;return t.p&&!t.l}getOrientationType(){const t=this.configOptions.layoutMap;return t.p&&t.l?document.documentElement.clientHeight/document.documentElement.clientWidth>1/.767?"p":"l":t.p?"p":"l"}get layoutOptions(){return this.configOptions.layoutMap[this._orientation]}}class hj extends cj{constructor(){super(...arguments);C(this,"_isSupportAvif",!1);C(this,"_isSupportWebp",!1)}get isSupportWebp(){return this._isSupportWebp}get isSupportAvif(){return this._isSupportAvif}setSupportImagesFormat(t,n){this._isSupportAvif=n,this._isSupportWebp=t}filterImageFormat(t){return this.isSupportAvif||t.splice(t.indexOf("avif"),1),this.isSupportWebp||t.splice(t.indexOf("webp"),1),t[0]}}class dj extends hj{constructor(){super();C(this,"isTablet");C(this,"isMobile");this.isMobile=fe.mobile(),this.isTablet=fe.tablet()}}class fj extends dj{constructor(){super(...arguments);C(this,"_serverTimeMillisecond",0);C(this,"_timer")}setServerTime(t){this._serverTimeMillisecond=t*1e3,this._timer=new Date}getServerTimeMillisecond(){return this._serverTimeMillisecond}getServerTimeMillisecondNow(){const n=new Date().getTime()-this._timer.getTime();return this._serverTimeMillisecond+n}}const sg=class sg extends fj{static get Obj(){return this._Obj||(this._Obj=new sg),this._Obj}};C(sg,"_Obj");let Me=sg;const pj="action_sign_in",jk="action_get_player_info",Xk="action_balance_change",$k="action_sound_open",mj="action_volume_changed",Hk="action_menu_open",zk="action_paytable_open",gj="action_betpanel_open",vj="action_auto_panel_open",Yk="action_orientation_changed",yj="action_force_update",Gk="action_history_list_open",Wk="action_history_detail_open",Vk="action_error_detail",qk="action_spin",Kk="action_loaded",Qk="action_loaded_error",Zk="action_spin_stopping",Jk="action_spin_stop",eI="action_set_bet_amount",tI="action_set_bet_level",rI="action_set_auto_spin_detail",xj="action_do_auto_spin",nI="action_stop_auto_spin",iI="action_set_spin_speed",sI="action_linebets_loaded",_j="action_scene_push",wj="action_scene_pop",oI="action_scene_replace",bj="action_scene_to_root",aI="action_assets_loading",Sj=(r={},e)=>{switch(e.type){case $k:return{...r,soundOn:e.value};case mj:return{...r};case Hk:return{...r,menuOn:e.value};case zk:return{...r,payTableOn:e.value};case gj:return{...r,betPanelOn:e.value};case vj:return{...r,autoSpinPanelOn:e.value};case Yk:return{...r,orientation:e.value};case yj:return{...r,forceUpdate:!r.forceUpdate};case Gk:return{...r,historyListOn:e.value};case Wk:return{...r,historyDetail:{...e.value}};case Vk:return{...r,error:{...e.value}};default:return r}},Tj={setting:{volume:.5,menuOn:!1,payTableOn:!1,betPanelOn:!1,autoSpinPanelOn:!1,orientation:"l",forceUpdate:!1,historyListOn:!1,historyDetail:{on:!1,data:null,index:0},error:{code:0,show:!1,allowClose:!0}}};function lI(r){return{type:$k,value:r}}function uI(r){return{type:Hk,value:r}}function cI(r){return{type:zk,value:r}}function Ej(r){return{type:Yk,value:r}}function hI(r){return{type:Gk,value:r}}function dI(r,e=[],t=0){return{type:Wk,value:{on:r,data:e,index:t}}}function rn(r,e=!1,t=!0){return{type:Vk,value:{code:r,show:e,allowClose:t}}}const ly="authorization",Cj="https://dev-crescendo-real.gpistudios.com",Aj="https://dev-crescendo-slot-api.gpistudios.com";class Pj{constructor(){C(this,"context",Me.Obj);C(this,"authorization",sessionStorage.getItem(ly));C(this,"canReAuth",!!this.authorization);C(this,"_dispatch")}get domain(){return this.context.urlOptions.funPLay?Aj:Cj}setDispatch(e){this._dispatch=e}authAndCanReTry(){this.authorization="",sessionStorage.setItem(ly,"");const e=this.canReAuth;return this.canReAuth=!1,e}request(e,t="GET",n="json",i=null){const s=this.authorization?{Authorization:`${this.authorization}`}:{};return navigator.onLine==!1?(this._dispatch(rn("000")),Promise.reject()):new Promise((o,a)=>{const u=new AbortController,l=setTimeout(()=>{clearTimeout(l),u.abort(),this._dispatch(rn("001"))},15e3);fetch(e,{method:t,headers:s,signal:u.signal}).then(h=>{clearTimeout(l),h.status==200?h[n]().then(d=>{if(i){const p=new i(d);p.code&&this._dispatch(rn(p.code)),o(p)}else o(d)}).catch(()=>{this._dispatch(rn("000")),a()}):(this._dispatch(rn(h.status)),o({code:h.status}))}).catch(h=>{clearTimeout(l),h.name!="AbortError"&&this._dispatch(rn("000")),a()})})}auth(){const{operator:e,token:t}=this.context.urlOptions,n=t||Math.random().toFixed(8),i=`${this.domain}/auth/${e}/${n}`;return!t&&this.authorization?Promise.resolve(this.authorization):this.request(i,"GET","text").then(s=>{wA(s)&&(s=`Bearer ${s}`,this.authorization=s,sessionStorage.setItem(ly,s))})}player(){const e=Ys("player"),t=`${this.domain}/s/player`;return this.request(t,"GET","json",e)}meta(){const e=Ys("meta"),t=this.context.configOptions.id,n=`${this.domain}/s/meta/${t}`;return this.request(n,"GET","json",e)}spin(e){const t=Ys("spin"),n=this.context.configOptions.id,i=`${this.domain}/s/spin/${n}?lineBet=${e}`;return this.request(i,"GET","json",t)}spin2(e,t){const n=Ys("spin"),i=this.context.configOptions.id,s=`${this.domain}/s/spin/${i}?lineBet=${e}&level=${t}`;return this.request(s,"GET","json",n)}load(){const e=Ys("load"),t=this.context.configOptions.id,n=`${this.domain}/s/load/${t}`;return this.request(n,"GET","json",e)}start(e){const t=Ys("start"),n=this.context.configOptions.id,i=`${this.domain}/s/start/${n}/${e}`;return this.request(i,"GET","json",t)}continue(){const e=Ys("continue"),t=this.context.configOptions.id,n=`${this.domain}/s/cont/${t}`;return this.request(n,"GET","json",e)}history(e,t,n,i,s){const o=Ys("history"),a=this.context.configOptions.id,u=`${this.domain}/s/list/${a}/${e}/${t}/${n}/${i}/${s}`;return this.request(u,"GET","json",o)}lineBets(){const e=Ys("lineBets"),t=this.context.configOptions.id,n=`${this.domain}/s/lineBets/${t}`;return this.request(n,"GET","json",e)}}function kj(){const{dispatch:r}=N.useContext(bt);return N.useEffect(()=>{dg().setDispatch(r)},[]),T.jsx(T.Fragment,{})}function Du(r,e){const t=r.toString();return new Array(e-t.length+1).join("0")+t}function Ij(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Mj(r){return r%4==0&&r%100!=0||r%400==0}function Rj(r){return r==ze.Chinese?"MMdd hh:mm:ss":"dd/MM hh:mm:ss"}function fI(r,e,t,n=ze.English){r instanceof Date||(r=new Date(r));const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],o=r.getUTCFullYear(),a=r.getUTCMonth(),u=r.getUTCDate(),l=r.getUTCHours();let h=o,c=a,d=u,p=l+e;if(p>=24){p-=24,d++;const y=Mj(h)?29:28;d>[31,y,31,30,31,30,31,31,30,31,30,31][c]&&(d=1,c++,c==12&&(c=0,h++))}c=(n==ze.Chinese?s:i)[c],d=Du(d,2)+(n==ze.Chinese?"日":"");const v=Du(r.getMinutes(),2),x=Du(r.getSeconds(),2);return t.replace("dd",d).replace("MM",c).replace("yyyy",`${h}`).replace("hh",p).replace("mm",v).replace("ss",x)}function Oj(r,e,t){const n=new Date(t);let i=n.getUTCHours()+r;i>=24&&(i=i-24);const s=n.getUTCMinutes(),o=n.getSeconds(),a=Du(i,2)+":"+Du(s,2);return e?a+" (+"+r+")":a+":"+Du(o,2)+" (GMT+"+r+")"}function pI(r,e){return r*=1e3,fI(new Date(r),8,Rj(e),e)}class Nj{constructor(e){C(this,"list",[]);const t=Me.Obj.urlOptions.lang;this.list=e||[],this.list.forEach(n=>{n.createdOnFormat=pI(n.createdOn,t)})}}class xd{constructor(e){C(this,"data");C(this,"code");C(this,"message");this.data=e;const t=e.result||e;t.code&&(this.code=t.code,this.message=t.message)}static Init(e,t){return new xd({code:e,message:t})}}let Bj=class extends xd{constructor(t){super(t);C(this,"gameId");C(this,"currency");C(this,"lineBets");this.gameId=t.gameId,this.currency=t.currency,this.lineBets=t.lineBets}};class Fj extends Bj{}class Lj extends xd{constructor(t){super(t);C(this,"isFromLoad",!1);C(this,"credit");C(this,"cost");C(this,"payout");C(this,"balance");C(this,"createdOn");!this.code&&(this.createdOn=t.createdOn,this.credit=new dt(t.credit||0),this.cost=new dt(t.cost||0),this.payout=new dt(t.payout||0),this.balance=new dt(t.balance||0))}}class K_ extends Lj{constructor(t){super(t);C(this,"ss");C(this,"wins");C(this,"fs");C(this,"lw");C(this,"isGetFs");C(this,"lineBet");C(this,"scatterCount");if(this.code)return;const n=t.result||t;this.ss=n.ss,this.fs=n.fs||0,this.lineBet=new dt(n.lineBet),this.lw=n.lw?n.lw.map(s=>({lineId:s[0],type:s[1],count:s[2],existWild:s[3],mul:s[4]})):[];let i=0;for(const s of this.ss)for(const o of s)o==10&&i++;this.isGetFs=i>=10,this.scatterCount=i}get winType(){const t=this.payout.div(this.credit.mul(25));return t.greaterThanOrEqualTo(38)?"big":t.greaterThanOrEqualTo(26)?"high":t.greaterThanOrEqualTo(17)?"medium":t.greaterThanOrEqualTo(6)?"normal":"small"}}class Dj extends K_{constructor(){super(...arguments);C(this,"isFromLoad",!0)}}class Uj extends xd{constructor(t){super(t);C(this,"name");C(this,"test");C(this,"currency");C(this,"balance");C(this,"st");!this.code&&(this.name=t.name,this.test=t.test,this.currency=t.currency,this.balance=new dt(t.balance),this.st=t.st)}}gB(Pj);dd("spin",K_);dd("load",Dj);dd("player",Uj);dd("lineBets",Fj);dd("history",Nj);var mI={exports:{}};(function(r){(function(){function e(v,x){document.addEventListener?v.addEventListener("scroll",x,!1):v.attachEvent("scroll",x)}function t(v){document.body?v():document.addEventListener?document.addEventListener("DOMContentLoaded",function x(){document.removeEventListener("DOMContentLoaded",x),v()}):document.attachEvent("onreadystatechange",function x(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",x),v())})}function n(v){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(v)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(v,x){v.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+x+";"}function s(v){var x=v.g.offsetWidth,y=x+100;return v.j.style.width=y+"px",v.i.scrollLeft=y,v.h.scrollLeft=v.h.scrollWidth+100,v.l!==x?(v.l=x,!0):!1}function o(v,x){function y(){var _=b;s(_)&&_.g.parentNode!==null&&x(_.l)}var b=v;e(v.h,y),e(v.i,y),s(v)}function a(v,x,y){x=x||{},y=y||window,this.family=v,this.style=x.style||"normal",this.weight=x.weight||"normal",this.stretch=x.stretch||"normal",this.context=y}var u=null,l=null,h=null,c=null;function d(v){return l===null&&(p(v)&&/Apple/.test(window.navigator.vendor)?(v=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!v&&603>parseInt(v[1],10)):l=!1),l}function p(v){return c===null&&(c=!!v.document.fonts),c}function g(v,x){var y=v.style,b=v.weight;if(h===null){var _=document.createElement("div");try{_.style.font="condensed 100px sans-serif"}catch{}h=_.style.font!==""}return[y,b,h?v.stretch:"","100px",x].join(" ")}a.prototype.load=function(v,x){var y=this,b=v||"BESbswy",_=0,S=x||3e3,I=new Date().getTime();return new Promise(function(P,k){if(p(y.context)&&!d(y.context)){var M=new Promise(function(D,L){function X(){new Date().getTime()-I>=S?L(Error(""+S+"ms timeout exceeded")):y.context.document.fonts.load(g(y,'"'+y.family+'"'),b).then(function(F){1<=F.length?D():setTimeout(X,25)},L)}X()}),O=new Promise(function(D,L){_=setTimeout(function(){L(Error(""+S+"ms timeout exceeded"))},S)});Promise.race([O,M]).then(function(){clearTimeout(_),P(y)},k)}else t(function(){function D(){var Z;(Z=j!=-1&&z!=-1||j!=-1&&q!=-1||z!=-1&&q!=-1)&&((Z=j!=z&&j!=q&&z!=q)||(u===null&&(Z=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!Z&&(536>parseInt(Z[1],10)||parseInt(Z[1],10)===536&&11>=parseInt(Z[2],10))),Z=u&&(j==$&&z==$&&q==$||j==W&&z==W&&q==W||j==H&&z==H&&q==H)),Z=!Z),Z&&(V.parentNode!==null&&V.parentNode.removeChild(V),clearTimeout(_),P(y))}function L(){if(new Date().getTime()-I>=S)V.parentNode!==null&&V.parentNode.removeChild(V),k(Error(""+S+"ms timeout exceeded"));else{var Z=y.context.document.hidden;(Z===!0||Z===void 0)&&(j=X.g.offsetWidth,z=F.g.offsetWidth,q=B.g.offsetWidth,D()),_=setTimeout(L,50)}}var X=new n(b),F=new n(b),B=new n(b),j=-1,z=-1,q=-1,$=-1,W=-1,H=-1,V=document.createElement("div");V.dir="ltr",i(X,g(y,"sans-serif")),i(F,g(y,"serif")),i(B,g(y,"monospace")),V.appendChild(X.g),V.appendChild(F.g),V.appendChild(B.g),y.context.document.body.appendChild(V),$=X.g.offsetWidth,W=F.g.offsetWidth,H=B.g.offsetWidth,L(),o(X,function(Z){j=Z,D()}),i(X,g(y,'"'+y.family+'",sans-serif')),o(F,function(Z){z=Z,D()}),i(F,g(y,'"'+y.family+'",serif')),o(B,function(Z){q=Z,D()}),i(B,g(y,'"'+y.family+'",monospace'))})})},r.exports=a})()})(mI);var jj=mI.exports;const Xj=cd(jj);var gI={exports:{}},zn={},vI={exports:{}},yI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e($,W){var H=$.length;$.push(W);e:for(;0<H;){var V=H-1>>>1,Z=$[V];if(0<i(Z,W))$[V]=W,$[H]=Z,H=V;else break e}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var W=$[0],H=$.pop();if(H!==W){$[0]=H;e:for(var V=0,Z=$.length,te=Z>>>1;V<te;){var le=2*(V+1)-1,ge=$[le],Pe=le+1,Fe=$[Pe];if(0>i(ge,H))Pe<Z&&0>i(Fe,ge)?($[V]=Fe,$[Pe]=H,V=Pe):($[V]=ge,$[le]=H,V=le);else if(Pe<Z&&0>i(Fe,H))$[V]=Fe,$[Pe]=H,V=Pe;else break e}}return W}function i($,W){var H=$.sortIndex-W.sortIndex;return H!==0?H:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,c=null,d=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var W=t(l);W!==null;){if(W.callback===null)n(l);else if(W.startTime<=$)n(l),W.sortIndex=W.expirationTime,e(u,W);else break;W=t(l)}}function S($){if(v=!1,_($),!g)if(t(u)!==null)g=!0,z(I);else{var W=t(l);W!==null&&q(S,W.startTime-$)}}function I($,W){g=!1,v&&(v=!1,y(M),M=-1),p=!0;var H=d;try{for(_(W),c=t(u);c!==null&&(!(c.expirationTime>W)||$&&!L());){var V=c.callback;if(typeof V=="function"){c.callback=null,d=c.priorityLevel;var Z=V(c.expirationTime<=W);W=r.unstable_now(),typeof Z=="function"?c.callback=Z:c===t(u)&&n(u),_(W)}else n(u);c=t(u)}if(c!==null)var te=!0;else{var le=t(l);le!==null&&q(S,le.startTime-W),te=!1}return te}finally{c=null,d=H,p=!1}}var P=!1,k=null,M=-1,O=5,D=-1;function L(){return!(r.unstable_now()-D<O)}function X(){if(k!==null){var $=r.unstable_now();D=$;var W=!0;try{W=k(!0,$)}finally{W?F():(P=!1,k=null)}}else P=!1}var F;if(typeof b=="function")F=function(){b(X)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=X,F=function(){j.postMessage(null)}}else F=function(){x(X,0)};function z($){k=$,P||(P=!0,F())}function q($,W){M=x(function(){$(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){g||p||(g=!0,z(I))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function($){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var H=d;d=W;try{return $()}finally{d=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=d;d=$;try{return W()}finally{d=H}},r.unstable_scheduleCallback=function($,W,H){var V=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,$={id:h++,callback:W,priorityLevel:$,startTime:H,expirationTime:Z,sortIndex:-1},H>V?($.sortIndex=H,e(l,$),t(u)===null&&$===t(l)&&(v?(y(M),M=-1):v=!0,q(S,H-V))):($.sortIndex=Z,e(u,$),g||p||(g=!0,z(I))),$},r.unstable_shouldYield=L,r.unstable_wrapCallback=function($){var W=d;return function(){var H=d;d=W;try{return $.apply(this,arguments)}finally{d=H}}}})(yI);vI.exports=yI;var $j=vI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj=N,Xn=$j;function ue(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xI=new Set,$h={};function bl(r,e){nc(r,e),nc(r+"Capture",e)}function nc(r,e){for($h[r]=e,r=0;r<e.length;r++)xI.add(e[r])}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ox=Object.prototype.hasOwnProperty,zj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l2={},u2={};function Yj(r){return ox.call(u2,r)?!0:ox.call(l2,r)?!1:zj.test(r)?u2[r]=!0:(l2[r]=!0,!1)}function Gj(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function Wj(r,e,t,n){if(e===null||typeof e>"u"||Gj(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(r,e,t,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Nr[r]=new ln(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Nr[e]=new ln(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Nr[r]=new ln(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Nr[r]=new ln(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Nr[r]=new ln(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Nr[r]=new ln(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Nr[r]=new ln(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Nr[r]=new ln(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Nr[r]=new ln(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q_=/[\-:]([a-z])/g;function Z_(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Q_,Z_);Nr[e]=new ln(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Q_,Z_);Nr[e]=new ln(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Q_,Z_);Nr[e]=new ln(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Nr[r]=new ln(r,1,!1,r.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Nr[r]=new ln(r,1,!1,r.toLowerCase(),null,!0,!0)});function J_(r,e,t,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wj(e,t,i,n)&&(t=null),n||i===null?Yj(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var To=Hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),lu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),ew=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),_I=Symbol.for("react.provider"),wI=Symbol.for("react.context"),tw=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),ux=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),bI=Symbol.for("react.offscreen"),c2=Symbol.iterator;function Qc(r){return r===null||typeof r!="object"?null:(r=c2&&r[c2]||r["@@iterator"],typeof r=="function"?r:null)}var Ht=Object.assign,uy;function fh(r){if(uy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);uy=e&&e[1]||""}return`
`+uy+r}var cy=!1;function hy(r,e){if(!r||cy)return"";cy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(r,[],e)}else{try{e.call()}catch(l){n=l}r.call(e.prototype)}else{try{throw Error()}catch(l){n=l}r()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return r.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",r.displayName)),u}while(1<=o&&0<=a);break}}}finally{cy=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?fh(r):""}function Vj(r){switch(r.tag){case 5:return fh(r.type);case 16:return fh("Lazy");case 13:return fh("Suspense");case 19:return fh("SuspenseList");case 0:case 2:case 15:return r=hy(r.type,!1),r;case 11:return r=hy(r.type.render,!1),r;case 1:return r=hy(r.type,!0),r;default:return""}}function cx(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case uu:return"Fragment";case lu:return"Portal";case ax:return"Profiler";case ew:return"StrictMode";case lx:return"Suspense";case ux:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case wI:return(r.displayName||"Context")+".Consumer";case _I:return(r._context.displayName||"Context")+".Provider";case tw:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case rw:return e=r.displayName||null,e!==null?e:cx(r.type)||"Memo";case Go:e=r._payload,r=r._init;try{return cx(r(e))}catch{}}return null}function qj(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cx(e);case 8:return e===ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _a(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function SI(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kj(r){var e=SI(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function qf(r){r._valueTracker||(r._valueTracker=Kj(r))}function TI(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=SI(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function wm(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function hx(r,e){var t=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function h2(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=_a(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EI(r,e){e=e.checked,e!=null&&J_(r,"checked",e,!1)}function dx(r,e){EI(r,e);var t=_a(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?fx(r,e.type,t):e.hasOwnProperty("defaultValue")&&fx(r,e.type,_a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function d2(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function fx(r,e,t){(e!=="number"||wm(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var ph=Array.isArray;function Uu(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+_a(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function px(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function f2(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ue(92));if(ph(t)){if(1<t.length)throw Error(ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:_a(t)}}function CI(r,e){var t=_a(e.value),n=_a(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function p2(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function AI(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mx(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?AI(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Kf,PI=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Kf=Kf||document.createElement("div"),Kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kf.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Hh(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qj=["Webkit","ms","Moz","O"];Object.keys(Sh).forEach(function(r){Qj.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Sh[e]=Sh[r]})});function kI(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Sh.hasOwnProperty(r)&&Sh[r]?(""+e).trim():e+"px"}function II(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=kI(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var Zj=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gx(r,e){if(e){if(Zj[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function vx(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=null;function nw(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xx=null,ju=null,Xu=null;function m2(r){if(r=bd(r)){if(typeof xx!="function")throw Error(ue(280));var e=r.stateNode;e&&(e=Ng(e),xx(r.stateNode,r.type,e))}}function MI(r){ju?Xu?Xu.push(r):Xu=[r]:ju=r}function RI(){if(ju){var r=ju,e=Xu;if(Xu=ju=null,m2(r),e)for(r=0;r<e.length;r++)m2(e[r])}}function OI(r,e){return r(e)}function NI(){}var dy=!1;function BI(r,e,t){if(dy)return r(e,t);dy=!0;try{return OI(r,e,t)}finally{dy=!1,(ju!==null||Xu!==null)&&(NI(),RI())}}function zh(r,e){var t=r.stateNode;if(t===null)return null;var n=Ng(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(ue(231,e,typeof t));return t}var _x=!1;if(yo)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){_x=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{_x=!1}function Jj(r,e,t,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(t,l)}catch(h){this.onError(h)}}var Th=!1,bm=null,Sm=!1,wx=null,e7={onError:function(r){Th=!0,bm=r}};function t7(r,e,t,n,i,s,o,a,u){Th=!1,bm=null,Jj.apply(e7,arguments)}function r7(r,e,t,n,i,s,o,a,u){if(t7.apply(this,arguments),Th){if(Th){var l=bm;Th=!1,bm=null}else throw Error(ue(198));Sm||(Sm=!0,wx=l)}}function Sl(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function FI(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function g2(r){if(Sl(r)!==r)throw Error(ue(188))}function n7(r){var e=r.alternate;if(!e){if(e=Sl(r),e===null)throw Error(ue(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return g2(i),r;if(s===n)return g2(i),e;s=s.sibling}throw Error(ue(188))}if(t.return!==n.return)t=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,n=s;break}if(a===n){o=!0,n=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,n=i;break}if(a===n){o=!0,n=s,t=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(t.alternate!==n)throw Error(ue(190))}if(t.tag!==3)throw Error(ue(188));return t.stateNode.current===t?r:e}function LI(r){return r=n7(r),r!==null?DI(r):null}function DI(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=DI(r);if(e!==null)return e;r=r.sibling}return null}var UI=Xn.unstable_scheduleCallback,v2=Xn.unstable_cancelCallback,i7=Xn.unstable_shouldYield,s7=Xn.unstable_requestPaint,Zt=Xn.unstable_now,o7=Xn.unstable_getCurrentPriorityLevel,iw=Xn.unstable_ImmediatePriority,jI=Xn.unstable_UserBlockingPriority,Tm=Xn.unstable_NormalPriority,a7=Xn.unstable_LowPriority,XI=Xn.unstable_IdlePriority,Ig=null,As=null;function l7(r){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(Ig,r,void 0,(r.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:h7,u7=Math.log,c7=Math.LN2;function h7(r){return r>>>=0,r===0?32:31-(u7(r)/c7|0)|0}var Qf=64,Zf=4194304;function mh(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Em(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?n=mh(a):(s&=o,s!==0&&(n=mh(s)))}else o=t&~i,o!==0?n=mh(o):s!==0&&(n=mh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Xi(e),i=1<<t,n|=r[t],e&=~i;return n}function d7(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f7(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var o=31-Xi(s),a=1<<o,u=i[o];u===-1?(!(a&t)||a&n)&&(i[o]=d7(a,e)):u<=e&&(r.expiredLanes|=a),s&=~a}}function bx(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $I(){var r=Qf;return Qf<<=1,!(Qf&4194240)&&(Qf=64),r}function fy(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function _d(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Xi(e),r[e]=t}function p7(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-Xi(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function sw(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Xi(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var pt=0;function HI(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var zI,ow,YI,GI,WI,Sx=!1,Jf=[],la=null,ua=null,ca=null,Yh=new Map,Gh=new Map,Ko=[],m7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(r,e){switch(r){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(e.pointerId)}}function Jc(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bd(e),e!==null&&ow(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function g7(r,e,t,n,i){switch(e){case"focusin":return la=Jc(la,r,e,t,n,i),!0;case"dragenter":return ua=Jc(ua,r,e,t,n,i),!0;case"mouseover":return ca=Jc(ca,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return Yh.set(s,Jc(Yh.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gh.set(s,Jc(Gh.get(s)||null,r,e,t,n,i)),!0}return!1}function VI(r){var e=Qa(r.target);if(e!==null){var t=Sl(e);if(t!==null){if(e=t.tag,e===13){if(e=FI(t),e!==null){r.blockedOn=e,WI(r.priority,function(){YI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jp(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Tx(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);yx=n,t.target.dispatchEvent(n),yx=null}else return e=bd(t),e!==null&&ow(e),r.blockedOn=t,!1;e.shift()}return!0}function x2(r,e,t){jp(r)&&t.delete(e)}function v7(){Sx=!1,la!==null&&jp(la)&&(la=null),ua!==null&&jp(ua)&&(ua=null),ca!==null&&jp(ca)&&(ca=null),Yh.forEach(x2),Gh.forEach(x2)}function eh(r,e){r.blockedOn===e&&(r.blockedOn=null,Sx||(Sx=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,v7)))}function Wh(r){function e(i){return eh(i,r)}if(0<Jf.length){eh(Jf[0],r);for(var t=1;t<Jf.length;t++){var n=Jf[t];n.blockedOn===r&&(n.blockedOn=null)}}for(la!==null&&eh(la,r),ua!==null&&eh(ua,r),ca!==null&&eh(ca,r),Yh.forEach(e),Gh.forEach(e),t=0;t<Ko.length;t++)n=Ko[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ko.length&&(t=Ko[0],t.blockedOn===null);)VI(t),t.blockedOn===null&&Ko.shift()}var $u=To.ReactCurrentBatchConfig,Cm=!0;function y7(r,e,t,n){var i=pt,s=$u.transition;$u.transition=null;try{pt=1,aw(r,e,t,n)}finally{pt=i,$u.transition=s}}function x7(r,e,t,n){var i=pt,s=$u.transition;$u.transition=null;try{pt=4,aw(r,e,t,n)}finally{pt=i,$u.transition=s}}function aw(r,e,t,n){if(Cm){var i=Tx(r,e,t,n);if(i===null)Sy(r,e,n,Am,t),y2(r,n);else if(g7(i,r,e,t,n))n.stopPropagation();else if(y2(r,n),e&4&&-1<m7.indexOf(r)){for(;i!==null;){var s=bd(i);if(s!==null&&zI(s),s=Tx(r,e,t,n),s===null&&Sy(r,e,n,Am,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sy(r,e,n,null,t)}}var Am=null;function Tx(r,e,t,n){if(Am=null,r=nw(n),r=Qa(r),r!==null)if(e=Sl(r),e===null)r=null;else if(t=e.tag,t===13){if(r=FI(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Am=r,null}function qI(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o7()){case iw:return 1;case jI:return 4;case Tm:case a7:return 16;case XI:return 536870912;default:return 16}default:return 16}}var ra=null,lw=null,Xp=null;function KI(){if(Xp)return Xp;var r,e=lw,t=e.length,n,i="value"in ra?ra.value:ra.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var o=t-r;for(n=1;n<=o&&e[t-n]===i[s-n];n++);return Xp=i.slice(r,1<n?1-n:void 0)}function $p(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function ep(){return!0}function _2(){return!1}function Yn(r){function e(t,n,i,s,o){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:_2,this.isPropagationStopped=_2,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Yn(_c),wd=Ht({},_c,{view:0,detail:0}),_7=Yn(wd),py,my,th,Mg=Ht({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==th&&(th&&r.type==="mousemove"?(py=r.screenX-th.screenX,my=r.screenY-th.screenY):my=py=0,th=r),py)},movementY:function(r){return"movementY"in r?r.movementY:my}}),w2=Yn(Mg),w7=Ht({},Mg,{dataTransfer:0}),b7=Yn(w7),S7=Ht({},wd,{relatedTarget:0}),gy=Yn(S7),T7=Ht({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),E7=Yn(T7),C7=Ht({},_c,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),A7=Yn(C7),P7=Ht({},_c,{data:0}),b2=Yn(P7),k7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R7(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=M7[r])?!!e[r]:!1}function cw(){return R7}var O7=Ht({},wd,{key:function(r){if(r.key){var e=k7[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=$p(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?I7[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(r){return r.type==="keypress"?$p(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$p(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),N7=Yn(O7),B7=Ht({},Mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S2=Yn(B7),F7=Ht({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),L7=Yn(F7),D7=Ht({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),U7=Yn(D7),j7=Ht({},Mg,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),X7=Yn(j7),$7=[9,13,27,32],hw=yo&&"CompositionEvent"in window,Eh=null;yo&&"documentMode"in document&&(Eh=document.documentMode);var H7=yo&&"TextEvent"in window&&!Eh,QI=yo&&(!hw||Eh&&8<Eh&&11>=Eh),T2=" ",E2=!1;function ZI(r,e){switch(r){case"keyup":return $7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JI(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var cu=!1;function z7(r,e){switch(r){case"compositionend":return JI(e);case"keypress":return e.which!==32?null:(E2=!0,T2);case"textInput":return r=e.data,r===T2&&E2?null:r;default:return null}}function Y7(r,e){if(cu)return r==="compositionend"||!hw&&ZI(r,e)?(r=KI(),Xp=lw=ra=null,cu=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QI&&e.locale!=="ko"?null:e.data;default:return null}}var G7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C2(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!G7[r.type]:e==="textarea"}function eM(r,e,t,n){MI(n),e=Pm(e,"onChange"),0<e.length&&(t=new uw("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Ch=null,Vh=null;function W7(r){hM(r,0)}function Rg(r){var e=fu(r);if(TI(e))return r}function V7(r,e){if(r==="change")return e}var tM=!1;if(yo){var vy;if(yo){var yy="oninput"in document;if(!yy){var A2=document.createElement("div");A2.setAttribute("oninput","return;"),yy=typeof A2.oninput=="function"}vy=yy}else vy=!1;tM=vy&&(!document.documentMode||9<document.documentMode)}function P2(){Ch&&(Ch.detachEvent("onpropertychange",rM),Vh=Ch=null)}function rM(r){if(r.propertyName==="value"&&Rg(Vh)){var e=[];eM(e,Vh,r,nw(r)),BI(W7,e)}}function q7(r,e,t){r==="focusin"?(P2(),Ch=e,Vh=t,Ch.attachEvent("onpropertychange",rM)):r==="focusout"&&P2()}function K7(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rg(Vh)}function Q7(r,e){if(r==="click")return Rg(e)}function Z7(r,e){if(r==="input"||r==="change")return Rg(e)}function J7(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var zi=typeof Object.is=="function"?Object.is:J7;function qh(r,e){if(zi(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!ox.call(e,i)||!zi(r[i],e[i]))return!1}return!0}function k2(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function I2(r,e){var t=k2(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=k2(t)}}function nM(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?nM(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function iM(){for(var r=window,e=wm();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=wm(r.document)}return e}function dw(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function eX(r){var e=iM(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&nM(t.ownerDocument.documentElement,t)){if(n!==null&&dw(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=I2(t,s);var o=I2(t,n);i&&o&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tX=yo&&"documentMode"in document&&11>=document.documentMode,hu=null,Ex=null,Ah=null,Cx=!1;function M2(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Cx||hu==null||hu!==wm(n)||(n=hu,"selectionStart"in n&&dw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ah&&qh(Ah,n)||(Ah=n,n=Pm(Ex,"onSelect"),0<n.length&&(e=new uw("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=hu)))}function tp(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var du={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},xy={},sM={};yo&&(sM=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function Og(r){if(xy[r])return xy[r];if(!du[r])return r;var e=du[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in sM)return xy[r]=e[t];return r}var oM=Og("animationend"),aM=Og("animationiteration"),lM=Og("animationstart"),uM=Og("transitionend"),cM=new Map,R2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(r,e){cM.set(r,e),bl(e,[r])}for(var _y=0;_y<R2.length;_y++){var wy=R2[_y],rX=wy.toLowerCase(),nX=wy[0].toUpperCase()+wy.slice(1);Ea(rX,"on"+nX)}Ea(oM,"onAnimationEnd");Ea(aM,"onAnimationIteration");Ea(lM,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(uM,"onTransitionEnd");nc("onMouseEnter",["mouseout","mouseover"]);nc("onMouseLeave",["mouseout","mouseover"]);nc("onPointerEnter",["pointerout","pointerover"]);nc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iX=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function O2(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,r7(n,e,void 0,r),r.currentTarget=null}function hM(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;O2(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;O2(i,a,l),s=u}}}if(Sm)throw r=wx,Sm=!1,wx=null,r}function Et(r,e){var t=e[Mx];t===void 0&&(t=e[Mx]=new Set);var n=r+"__bubble";t.has(n)||(dM(e,r,2,!1),t.add(n))}function by(r,e,t){var n=0;e&&(n|=4),dM(t,r,n,e)}var rp="_reactListening"+Math.random().toString(36).slice(2);function Kh(r){if(!r[rp]){r[rp]=!0,xI.forEach(function(t){t!=="selectionchange"&&(iX.has(t)||by(t,!1,r),by(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[rp]||(e[rp]=!0,by("selectionchange",!1,e))}}function dM(r,e,t,n){switch(qI(e)){case 1:var i=y7;break;case 4:i=x7;break;default:i=aw}t=i.bind(null,e,t,r),i=void 0,!_x||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function Sy(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qa(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}BI(function(){var l=s,h=nw(t),c=[];e:{var d=cM.get(r);if(d!==void 0){var p=uw,g=r;switch(r){case"keypress":if($p(t)===0)break e;case"keydown":case"keyup":p=N7;break;case"focusin":g="focus",p=gy;break;case"focusout":g="blur",p=gy;break;case"beforeblur":case"afterblur":p=gy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=b7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L7;break;case oM:case aM:case lM:p=E7;break;case uM:p=U7;break;case"scroll":p=_7;break;case"wheel":p=X7;break;case"copy":case"cut":case"paste":p=A7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=S2}var v=(e&4)!==0,x=!v&&r==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var b=l,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=zh(b,y),S!=null&&v.push(Qh(b,S,_)))),x)break;b=b.return}0<v.length&&(d=new p(d,g,null,t,h),c.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",d&&t!==yx&&(g=t.relatedTarget||t.fromElement)&&(Qa(g)||g[xo]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=l,g=g?Qa(g):null,g!==null&&(x=Sl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(v=w2,S="onMouseLeave",y="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(v=S2,S="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?d:fu(p),_=g==null?d:fu(g),d=new v(S,b+"leave",p,t,h),d.target=x,d.relatedTarget=_,S=null,Qa(h)===l&&(v=new v(y,b+"enter",g,t,h),v.target=_,v.relatedTarget=x,S=v),x=S,p&&g)t:{for(v=p,y=g,b=0,_=v;_;_=Wl(_))b++;for(_=0,S=y;S;S=Wl(S))_++;for(;0<b-_;)v=Wl(v),b--;for(;0<_-b;)y=Wl(y),_--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=Wl(v),y=Wl(y)}v=null}else v=null;p!==null&&N2(c,d,p,v,!1),g!==null&&x!==null&&N2(c,x,g,v,!0)}}e:{if(d=l?fu(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var I=V7;else if(C2(d))if(tM)I=Z7;else{I=K7;var P=q7}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Q7);if(I&&(I=I(r,l))){eM(c,I,t,h);break e}P&&P(r,d,l),r==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&fx(d,"number",d.value)}switch(P=l?fu(l):window,r){case"focusin":(C2(P)||P.contentEditable==="true")&&(hu=P,Ex=l,Ah=null);break;case"focusout":Ah=Ex=hu=null;break;case"mousedown":Cx=!0;break;case"contextmenu":case"mouseup":case"dragend":Cx=!1,M2(c,t,h);break;case"selectionchange":if(tX)break;case"keydown":case"keyup":M2(c,t,h)}var k;if(hw)e:{switch(r){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cu?ZI(r,t)&&(M="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(QI&&t.locale!=="ko"&&(cu||M!=="onCompositionStart"?M==="onCompositionEnd"&&cu&&(k=KI()):(ra=h,lw="value"in ra?ra.value:ra.textContent,cu=!0)),P=Pm(l,M),0<P.length&&(M=new b2(M,r,null,t,h),c.push({event:M,listeners:P}),k?M.data=k:(k=JI(t),k!==null&&(M.data=k)))),(k=H7?z7(r,t):Y7(r,t))&&(l=Pm(l,"onBeforeInput"),0<l.length&&(h=new b2("onBeforeInput","beforeinput",null,t,h),c.push({event:h,listeners:l}),h.data=k))}hM(c,e)})}function Qh(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Pm(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zh(r,t),s!=null&&n.unshift(Qh(r,s,i)),s=zh(r,e),s!=null&&n.push(Qh(r,s,i))),r=r.return}return n}function Wl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function N2(r,e,t,n,i){for(var s=e._reactName,o=[];t!==null&&t!==n;){var a=t,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=zh(t,s),u!=null&&o.unshift(Qh(t,u,a))):i||(u=zh(t,s),u!=null&&o.push(Qh(t,u,a)))),t=t.return}o.length!==0&&r.push({event:e,listeners:o})}var sX=/\r\n?/g,oX=/\u0000|\uFFFD/g;function B2(r){return(typeof r=="string"?r:""+r).replace(sX,`
`).replace(oX,"")}function np(r,e,t){if(e=B2(e),B2(r)!==e&&t)throw Error(ue(425))}function km(){}var Ax=null,Px=null;function kx(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ix=typeof setTimeout=="function"?setTimeout:void 0,aX=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,lX=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(r){return F2.resolve(null).then(r).catch(uX)}:Ix;function uX(r){setTimeout(function(){throw r})}function Ty(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),Wh(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);Wh(e)}function ha(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function L2(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var wc=Math.random().toString(36).slice(2),ws="__reactFiber$"+wc,Zh="__reactProps$"+wc,xo="__reactContainer$"+wc,Mx="__reactEvents$"+wc,cX="__reactListeners$"+wc,hX="__reactHandles$"+wc;function Qa(r){var e=r[ws];if(e)return e;for(var t=r.parentNode;t;){if(e=t[xo]||t[ws]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=L2(r);r!==null;){if(t=r[ws])return t;r=L2(r)}return e}r=t,t=r.parentNode}return null}function bd(r){return r=r[ws]||r[xo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function fu(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(ue(33))}function Ng(r){return r[Zh]||null}var Rx=[],pu=-1;function Ca(r){return{current:r}}function At(r){0>pu||(r.current=Rx[pu],Rx[pu]=null,pu--)}function wt(r,e){pu++,Rx[pu]=r.current,r.current=e}var wa={},Qr=Ca(wa),_n=Ca(!1),dl=wa;function ic(r,e){var t=r.type.contextTypes;if(!t)return wa;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function wn(r){return r=r.childContextTypes,r!=null}function Im(){At(_n),At(Qr)}function D2(r,e,t){if(Qr.current!==wa)throw Error(ue(168));wt(Qr,e),wt(_n,t)}function fM(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ue(108,qj(r)||"Unknown",i));return Ht({},t,n)}function Mm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wa,dl=Qr.current,wt(Qr,r),wt(_n,_n.current),!0}function U2(r,e,t){var n=r.stateNode;if(!n)throw Error(ue(169));t?(r=fM(r,e,dl),n.__reactInternalMemoizedMergedChildContext=r,At(_n),At(Qr),wt(Qr,r)):At(_n),wt(_n,t)}var Js=null,Bg=!1,Ey=!1;function pM(r){Js===null?Js=[r]:Js.push(r)}function dX(r){Bg=!0,pM(r)}function Aa(){if(!Ey&&Js!==null){Ey=!0;var r=0,e=pt;try{var t=Js;for(pt=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Js=null,Bg=!1}catch(i){throw Js!==null&&(Js=Js.slice(r+1)),UI(iw,Aa),i}finally{pt=e,Ey=!1}}return null}var mu=[],gu=0,Rm=null,Om=0,ii=[],si=0,fl=null,lo=1,uo="";function Wa(r,e){mu[gu++]=Om,mu[gu++]=Rm,Rm=r,Om=e}function mM(r,e,t){ii[si++]=lo,ii[si++]=uo,ii[si++]=fl,fl=r;var n=lo;r=uo;var i=32-Xi(n)-1;n&=~(1<<i),t+=1;var s=32-Xi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,lo=1<<32-Xi(e)+i|t<<i|n,uo=s+r}else lo=1<<s|t<<i|n,uo=r}function fw(r){r.return!==null&&(Wa(r,1),mM(r,1,0))}function pw(r){for(;r===Rm;)Rm=mu[--gu],mu[gu]=null,Om=mu[--gu],mu[gu]=null;for(;r===fl;)fl=ii[--si],ii[si]=null,uo=ii[--si],ii[si]=null,lo=ii[--si],ii[si]=null}var Dn=null,Fn=null,Ot=!1,Ii=null;function gM(r,e){var t=ui(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function j2(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Dn=r,Fn=ha(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Dn=r,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=fl!==null?{id:lo,overflow:uo}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ui(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Dn=r,Fn=null,!0):!1;default:return!1}}function Ox(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nx(r){if(Ot){var e=Fn;if(e){var t=e;if(!j2(r,e)){if(Ox(r))throw Error(ue(418));e=ha(t.nextSibling);var n=Dn;e&&j2(r,e)?gM(n,t):(r.flags=r.flags&-4097|2,Ot=!1,Dn=r)}}else{if(Ox(r))throw Error(ue(418));r.flags=r.flags&-4097|2,Ot=!1,Dn=r}}}function X2(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dn=r}function ip(r){if(r!==Dn)return!1;if(!Ot)return X2(r),Ot=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!kx(r.type,r.memoizedProps)),e&&(e=Fn)){if(Ox(r))throw vM(),Error(ue(418));for(;e;)gM(r,e),e=ha(e.nextSibling)}if(X2(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ue(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Fn=ha(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Fn=null}}else Fn=Dn?ha(r.stateNode.nextSibling):null;return!0}function vM(){for(var r=Fn;r;)r=ha(r.nextSibling)}function sc(){Fn=Dn=null,Ot=!1}function mw(r){Ii===null?Ii=[r]:Ii.push(r)}var fX=To.ReactCurrentBatchConfig;function rh(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ue(309));var n=t.stateNode}if(!n)throw Error(ue(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof r!="string")throw Error(ue(284));if(!t._owner)throw Error(ue(290,r))}return r}function sp(r,e){throw r=Object.prototype.toString.call(e),Error(ue(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function $2(r){var e=r._init;return e(r._payload)}function yM(r){function e(y,b){if(r){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function t(y,b){if(!r)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=ma(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,r?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return r&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,S){return b===null||b.tag!==6?(b=Ry(_,y.mode,S),b.return=y,b):(b=i(b,_),b.return=y,b)}function u(y,b,_,S){var I=_.type;return I===uu?h(y,b,_.props.children,S,_.key):b!==null&&(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Go&&$2(I)===b.type)?(S=i(b,_.props),S.ref=rh(y,b,_),S.return=y,S):(S=qp(_.type,_.key,_.props,null,y.mode,S),S.ref=rh(y,b,_),S.return=y,S)}function l(y,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Oy(_,y.mode,S),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function h(y,b,_,S,I){return b===null||b.tag!==7?(b=sl(_,y.mode,S,I),b.return=y,b):(b=i(b,_),b.return=y,b)}function c(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ry(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vf:return _=qp(b.type,b.key,b.props,null,y.mode,_),_.ref=rh(y,null,b),_.return=y,_;case lu:return b=Oy(b,y.mode,_),b.return=y,b;case Go:var S=b._init;return c(y,S(b._payload),_)}if(ph(b)||Qc(b))return b=sl(b,y.mode,_,null),b.return=y,b;sp(y,b)}return null}function d(y,b,_,S){var I=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vf:return _.key===I?u(y,b,_,S):null;case lu:return _.key===I?l(y,b,_,S):null;case Go:return I=_._init,d(y,b,I(_._payload),S)}if(ph(_)||Qc(_))return I!==null?null:h(y,b,_,S,null);sp(y,_)}return null}function p(y,b,_,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,a(b,y,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vf:return y=y.get(S.key===null?_:S.key)||null,u(b,y,S,I);case lu:return y=y.get(S.key===null?_:S.key)||null,l(b,y,S,I);case Go:var P=S._init;return p(y,b,_,P(S._payload),I)}if(ph(S)||Qc(S))return y=y.get(_)||null,h(b,y,S,I,null);sp(b,S)}return null}function g(y,b,_,S){for(var I=null,P=null,k=b,M=b=0,O=null;k!==null&&M<_.length;M++){k.index>M?(O=k,k=null):O=k.sibling;var D=d(y,k,_[M],S);if(D===null){k===null&&(k=O);break}r&&k&&D.alternate===null&&e(y,k),b=s(D,b,M),P===null?I=D:P.sibling=D,P=D,k=O}if(M===_.length)return t(y,k),Ot&&Wa(y,M),I;if(k===null){for(;M<_.length;M++)k=c(y,_[M],S),k!==null&&(b=s(k,b,M),P===null?I=k:P.sibling=k,P=k);return Ot&&Wa(y,M),I}for(k=n(y,k);M<_.length;M++)O=p(k,y,M,_[M],S),O!==null&&(r&&O.alternate!==null&&k.delete(O.key===null?M:O.key),b=s(O,b,M),P===null?I=O:P.sibling=O,P=O);return r&&k.forEach(function(L){return e(y,L)}),Ot&&Wa(y,M),I}function v(y,b,_,S){var I=Qc(_);if(typeof I!="function")throw Error(ue(150));if(_=I.call(_),_==null)throw Error(ue(151));for(var P=I=null,k=b,M=b=0,O=null,D=_.next();k!==null&&!D.done;M++,D=_.next()){k.index>M?(O=k,k=null):O=k.sibling;var L=d(y,k,D.value,S);if(L===null){k===null&&(k=O);break}r&&k&&L.alternate===null&&e(y,k),b=s(L,b,M),P===null?I=L:P.sibling=L,P=L,k=O}if(D.done)return t(y,k),Ot&&Wa(y,M),I;if(k===null){for(;!D.done;M++,D=_.next())D=c(y,D.value,S),D!==null&&(b=s(D,b,M),P===null?I=D:P.sibling=D,P=D);return Ot&&Wa(y,M),I}for(k=n(y,k);!D.done;M++,D=_.next())D=p(k,y,M,D.value,S),D!==null&&(r&&D.alternate!==null&&k.delete(D.key===null?M:D.key),b=s(D,b,M),P===null?I=D:P.sibling=D,P=D);return r&&k.forEach(function(X){return e(y,X)}),Ot&&Wa(y,M),I}function x(y,b,_,S){if(typeof _=="object"&&_!==null&&_.type===uu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vf:e:{for(var I=_.key,P=b;P!==null;){if(P.key===I){if(I=_.type,I===uu){if(P.tag===7){t(y,P.sibling),b=i(P,_.props.children),b.return=y,y=b;break e}}else if(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Go&&$2(I)===P.type){t(y,P.sibling),b=i(P,_.props),b.ref=rh(y,P,_),b.return=y,y=b;break e}t(y,P);break}else e(y,P);P=P.sibling}_.type===uu?(b=sl(_.props.children,y.mode,S,_.key),b.return=y,y=b):(S=qp(_.type,_.key,_.props,null,y.mode,S),S.ref=rh(y,b,_),S.return=y,y=S)}return o(y);case lu:e:{for(P=_.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){t(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Oy(_,y.mode,S),b.return=y,y=b}return o(y);case Go:return P=_._init,x(y,b,P(_._payload),S)}if(ph(_))return g(y,b,_,S);if(Qc(_))return v(y,b,_,S);sp(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(t(y,b.sibling),b=i(b,_),b.return=y,y=b):(t(y,b),b=Ry(_,y.mode,S),b.return=y,y=b),o(y)):t(y,b)}return x}var oc=yM(!0),xM=yM(!1),Nm=Ca(null),Bm=null,vu=null,gw=null;function vw(){gw=vu=Bm=null}function yw(r){var e=Nm.current;At(Nm),r._currentValue=e}function Bx(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Hu(r,e){Bm=r,gw=vu=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(yn=!0),r.firstContext=null)}function fi(r){var e=r._currentValue;if(gw!==r)if(r={context:r,memoizedValue:e,next:null},vu===null){if(Bm===null)throw Error(ue(308));vu=r,Bm.dependencies={lanes:0,firstContext:r}}else vu=vu.next=r;return e}var Za=null;function xw(r){Za===null?Za=[r]:Za.push(r)}function _M(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,xw(e)):(t.next=i.next,i.next=t),e.interleaved=t,_o(r,n)}function _o(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Wo=!1;function _w(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wM(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fo(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function da(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,_o(r,t)}return i=n.interleaved,i===null?(e.next=e,xw(n)):(e.next=i.next,i.next=e),n.interleaved=e,_o(r,t)}function Hp(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,sw(r,t)}}function H2(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Fm(r,e,t,n){var i=r.updateQueue;Wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var h=r.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,h=l=u=null,a=s;do{var d=a.lane,p=a.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=r,v=a;switch(d=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){c=g.call(p,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,c,d):g,d==null)break e;c=Ht({},c,d);break e;case 2:Wo=!0}}a.callback!==null&&a.lane!==0&&(r.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(l=h=p,u=c):h=h.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ml|=o,r.lanes=o,r.memoizedState=c}}function z2(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(ue(191,i));i.call(n)}}}var Sd={},Ps=Ca(Sd),Jh=Ca(Sd),ed=Ca(Sd);function Ja(r){if(r===Sd)throw Error(ue(174));return r}function ww(r,e){switch(wt(ed,e),wt(Jh,r),wt(Ps,Sd),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mx(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=mx(e,r)}At(Ps),wt(Ps,e)}function ac(){At(Ps),At(Jh),At(ed)}function bM(r){Ja(ed.current);var e=Ja(Ps.current),t=mx(e,r.type);e!==t&&(wt(Jh,r),wt(Ps,t))}function bw(r){Jh.current===r&&(At(Ps),At(Jh))}var Dt=Ca(0);function Lm(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cy=[];function Sw(){for(var r=0;r<Cy.length;r++)Cy[r]._workInProgressVersionPrimary=null;Cy.length=0}var zp=To.ReactCurrentDispatcher,Ay=To.ReactCurrentBatchConfig,pl=0,$t=null,dr=null,br=null,Dm=!1,Ph=!1,td=0,pX=0;function jr(){throw Error(ue(321))}function Tw(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!zi(r[t],e[t]))return!1;return!0}function Ew(r,e,t,n,i,s){if(pl=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zp.current=r===null||r.memoizedState===null?yX:xX,r=t(n,i),Ph){s=0;do{if(Ph=!1,td=0,25<=s)throw Error(ue(301));s+=1,br=dr=null,e.updateQueue=null,zp.current=_X,r=t(n,i)}while(Ph)}if(zp.current=Um,e=dr!==null&&dr.next!==null,pl=0,br=dr=$t=null,Dm=!1,e)throw Error(ue(300));return r}function Cw(){var r=td!==0;return td=0,r}function ms(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?$t.memoizedState=br=r:br=br.next=r,br}function pi(){if(dr===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=dr.next;var e=br===null?$t.memoizedState:br.next;if(e!==null)br=e,dr=r;else{if(r===null)throw Error(ue(310));dr=r,r={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},br===null?$t.memoizedState=br=r:br=br.next=r}return br}function rd(r,e){return typeof e=="function"?e(r):e}function Py(r){var e=pi(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=r;var n=dr,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var h=l.lane;if((pl&h)===h)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:r(n,l.action);else{var c={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=c,o=n):u=u.next=c,$t.lanes|=h,ml|=h}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,zi(n,e.memoizedState)||(yn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,$t.lanes|=s,ml|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ky(r){var e=pi(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=r(s,o.action),o=o.next;while(o!==i);zi(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function SM(){}function TM(r,e){var t=$t,n=pi(),i=e(),s=!zi(n.memoizedState,i);if(s&&(n.memoizedState=i,yn=!0),n=n.queue,Aw(AM.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||br!==null&&br.memoizedState.tag&1){if(t.flags|=2048,nd(9,CM.bind(null,t,n,i,e),void 0,null),Sr===null)throw Error(ue(349));pl&30||EM(t,e,i)}return i}function EM(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function CM(r,e,t,n){e.value=t,e.getSnapshot=n,PM(e)&&kM(r)}function AM(r,e,t){return t(function(){PM(e)&&kM(r)})}function PM(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!zi(r,t)}catch{return!0}}function kM(r){var e=_o(r,1);e!==null&&$i(e,r,1,-1)}function Y2(r){var e=ms();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:r},e.queue=r,r=r.dispatch=vX.bind(null,$t,r),[e.memoizedState,r]}function nd(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function IM(){return pi().memoizedState}function Yp(r,e,t,n){var i=ms();$t.flags|=r,i.memoizedState=nd(1|e,t,void 0,n===void 0?null:n)}function Fg(r,e,t,n){var i=pi();n=n===void 0?null:n;var s=void 0;if(dr!==null){var o=dr.memoizedState;if(s=o.destroy,n!==null&&Tw(n,o.deps)){i.memoizedState=nd(e,t,s,n);return}}$t.flags|=r,i.memoizedState=nd(1|e,t,s,n)}function G2(r,e){return Yp(8390656,8,r,e)}function Aw(r,e){return Fg(2048,8,r,e)}function MM(r,e){return Fg(4,2,r,e)}function RM(r,e){return Fg(4,4,r,e)}function OM(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function NM(r,e,t){return t=t!=null?t.concat([r]):null,Fg(4,4,OM.bind(null,e,r),t)}function Pw(){}function BM(r,e){var t=pi();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function FM(r,e){var t=pi();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function LM(r,e,t){return pl&21?(zi(t,e)||(t=$I(),$t.lanes|=t,ml|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,yn=!0),r.memoizedState=t)}function mX(r,e){var t=pt;pt=t!==0&&4>t?t:4,r(!0);var n=Ay.transition;Ay.transition={};try{r(!1),e()}finally{pt=t,Ay.transition=n}}function DM(){return pi().memoizedState}function gX(r,e,t){var n=pa(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},UM(r))jM(e,t);else if(t=_M(r,e,t,n),t!==null){var i=sn();$i(t,r,n,i),XM(t,e,n)}}function vX(r,e,t){var n=pa(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(UM(r))jM(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,zi(a,o)){var u=e.interleaved;u===null?(i.next=i,xw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=_M(r,e,i,n),t!==null&&(i=sn(),$i(t,r,n,i),XM(t,e,n))}}function UM(r){var e=r.alternate;return r===$t||e!==null&&e===$t}function jM(r,e){Ph=Dm=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function XM(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,sw(r,t)}}var Um={readContext:fi,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},yX={readContext:fi,useCallback:function(r,e){return ms().memoizedState=[r,e===void 0?null:e],r},useContext:fi,useEffect:G2,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Yp(4194308,4,OM.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Yp(4194308,4,r,e)},useInsertionEffect:function(r,e){return Yp(4,2,r,e)},useMemo:function(r,e){var t=ms();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=ms();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=gX.bind(null,$t,r),[n.memoizedState,r]},useRef:function(r){var e=ms();return r={current:r},e.memoizedState=r},useState:Y2,useDebugValue:Pw,useDeferredValue:function(r){return ms().memoizedState=r},useTransition:function(){var r=Y2(!1),e=r[0];return r=mX.bind(null,r[1]),ms().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=$t,i=ms();if(Ot){if(t===void 0)throw Error(ue(407));t=t()}else{if(t=e(),Sr===null)throw Error(ue(349));pl&30||EM(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,G2(AM.bind(null,n,s,r),[r]),n.flags|=2048,nd(9,CM.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=ms(),e=Sr.identifierPrefix;if(Ot){var t=uo,n=lo;t=(n&~(1<<32-Xi(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=td++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=pX++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},xX={readContext:fi,useCallback:BM,useContext:fi,useEffect:Aw,useImperativeHandle:NM,useInsertionEffect:MM,useLayoutEffect:RM,useMemo:FM,useReducer:Py,useRef:IM,useState:function(){return Py(rd)},useDebugValue:Pw,useDeferredValue:function(r){var e=pi();return LM(e,dr.memoizedState,r)},useTransition:function(){var r=Py(rd)[0],e=pi().memoizedState;return[r,e]},useMutableSource:SM,useSyncExternalStore:TM,useId:DM,unstable_isNewReconciler:!1},_X={readContext:fi,useCallback:BM,useContext:fi,useEffect:Aw,useImperativeHandle:NM,useInsertionEffect:MM,useLayoutEffect:RM,useMemo:FM,useReducer:ky,useRef:IM,useState:function(){return ky(rd)},useDebugValue:Pw,useDeferredValue:function(r){var e=pi();return dr===null?e.memoizedState=r:LM(e,dr.memoizedState,r)},useTransition:function(){var r=ky(rd)[0],e=pi().memoizedState;return[r,e]},useMutableSource:SM,useSyncExternalStore:TM,useId:DM,unstable_isNewReconciler:!1};function Pi(r,e){if(r&&r.defaultProps){e=Ht({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Fx(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:Ht({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Lg={isMounted:function(r){return(r=r._reactInternals)?Sl(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=sn(),i=pa(r),s=fo(n,i);s.payload=e,t!=null&&(s.callback=t),e=da(r,s,i),e!==null&&($i(e,r,i,n),Hp(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=sn(),i=pa(r),s=fo(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=da(r,s,i),e!==null&&($i(e,r,i,n),Hp(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=sn(),n=pa(r),i=fo(t,n);i.tag=2,e!=null&&(i.callback=e),e=da(r,i,n),e!==null&&($i(e,r,n,t),Hp(e,r,n))}};function W2(r,e,t,n,i,s,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!qh(t,n)||!qh(i,s):!0}function $M(r,e,t){var n=!1,i=wa,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(i=wn(e)?dl:Qr.current,n=e.contextTypes,s=(n=n!=null)?ic(r,i):wa),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function V2(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Lg.enqueueReplaceState(e,e.state,null)}function Lx(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},_w(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fi(s):(s=wn(e)?dl:Qr.current,i.context=ic(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fx(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lg.enqueueReplaceState(i,i.state,null),Fm(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function lc(r,e){try{var t="",n=e;do t+=Vj(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function Iy(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function Dx(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var wX=typeof WeakMap=="function"?WeakMap:Map;function HM(r,e,t){t=fo(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Xm||(Xm=!0,Vx=n),Dx(r,e)},t}function zM(r,e,t){t=fo(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){Dx(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Dx(r,e),typeof n!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function q2(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new wX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=BX.bind(null,r,e,t),e.then(r,r))}function K2(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function Q2(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=fo(-1,1),e.tag=2,da(t,e,1))),t.lanes|=1),r)}var bX=To.ReactCurrentOwner,yn=!1;function tn(r,e,t,n){e.child=r===null?xM(e,null,t,n):oc(e,r.child,t,n)}function Z2(r,e,t,n,i){t=t.render;var s=e.ref;return Hu(e,i),n=Ew(r,e,t,n,s,i),t=Cw(),r!==null&&!yn?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,wo(r,e,i)):(Ot&&t&&fw(e),e.flags|=1,tn(r,e,n,i),e.child)}function J2(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!Fw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,YM(r,e,s,n,i)):(r=qp(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:qh,t(o,n)&&r.ref===e.ref)return wo(r,e,i)}return e.flags|=1,r=ma(s,n),r.ref=e.ref,r.return=e,e.child=r}function YM(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(qh(s,n)&&r.ref===e.ref)if(yn=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(yn=!0);else return e.lanes=r.lanes,wo(r,e,i)}return Ux(r,e,t,n,i)}function GM(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(xu,Bn),Bn|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,wt(xu,Bn),Bn|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,wt(xu,Bn),Bn|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,wt(xu,Bn),Bn|=n;return tn(r,e,i,t),e.child}function WM(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ux(r,e,t,n,i){var s=wn(t)?dl:Qr.current;return s=ic(e,s),Hu(e,i),t=Ew(r,e,t,n,s,i),n=Cw(),r!==null&&!yn?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,wo(r,e,i)):(Ot&&n&&fw(e),e.flags|=1,tn(r,e,t,i),e.child)}function eC(r,e,t,n,i){if(wn(t)){var s=!0;Mm(e)}else s=!1;if(Hu(e,i),e.stateNode===null)Gp(r,e),$M(e,t,n),Lx(e,t,n,i),n=!0;else if(r===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=t.contextType;typeof l=="object"&&l!==null?l=fi(l):(l=wn(t)?dl:Qr.current,l=ic(e,l));var h=t.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&V2(e,o,n,l),Wo=!1;var d=e.memoizedState;o.state=d,Fm(e,n,o,i),u=e.memoizedState,a!==n||d!==u||_n.current||Wo?(typeof h=="function"&&(Fx(e,t,h,n),u=e.memoizedState),(a=Wo||W2(e,t,a,n,d,u,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,wM(r,e),a=e.memoizedProps,l=e.type===e.elementType?a:Pi(e.type,a),o.props=l,c=e.pendingProps,d=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=fi(u):(u=wn(t)?dl:Qr.current,u=ic(e,u));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||d!==u)&&V2(e,o,n,u),Wo=!1,d=e.memoizedState,o.state=d,Fm(e,n,o,i);var g=e.memoizedState;a!==c||d!==g||_n.current||Wo?(typeof p=="function"&&(Fx(e,t,p,n),g=e.memoizedState),(l=Wo||W2(e,t,l,n,d,g,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&d===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&d===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&d===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&d===r.memoizedState||(e.flags|=1024),n=!1)}return jx(r,e,t,n,s,i)}function jx(r,e,t,n,i,s){WM(r,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&U2(e,t,!1),wo(r,e,s);n=e.stateNode,bX.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&o?(e.child=oc(e,r.child,null,s),e.child=oc(e,null,a,s)):tn(r,e,a,s),e.memoizedState=n.state,i&&U2(e,t,!0),e.child}function VM(r){var e=r.stateNode;e.pendingContext?D2(r,e.pendingContext,e.pendingContext!==e.context):e.context&&D2(r,e.context,!1),ww(r,e.containerInfo)}function tC(r,e,t,n,i){return sc(),mw(i),e.flags|=256,tn(r,e,t,n),e.child}var Xx={dehydrated:null,treeContext:null,retryLane:0};function $x(r){return{baseLanes:r,cachePool:null,transitions:null}}function qM(r,e,t){var n=e.pendingProps,i=Dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=r!==null&&r.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),wt(Dt,i&1),r===null)return Nx(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,r=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jg(o,n,0,null),r=sl(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=$x(t),e.memoizedState=Xx,r):kw(e,o));if(i=r.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SX(r,e,o,n,a,i,t);if(s){s=n.fallback,o=e.mode,i=r.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=ma(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ma(a,s):(s=sl(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=r.child.memoizedState,o=o===null?$x(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=r.childLanes&~t,e.memoizedState=Xx,n}return s=r.child,r=s.sibling,n=ma(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function kw(r,e){return e=jg({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function op(r,e,t,n){return n!==null&&mw(n),oc(e,r.child,null,t),r=kw(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function SX(r,e,t,n,i,s,o){if(t)return e.flags&256?(e.flags&=-257,n=Iy(Error(ue(422))),op(r,e,o,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=jg({mode:"visible",children:n.children},i,0,null),s=sl(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&oc(e,r.child,null,o),e.child.memoizedState=$x(o),e.memoizedState=Xx,s);if(!(e.mode&1))return op(r,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ue(419)),n=Iy(s,n,void 0),op(r,e,o,n)}if(a=(o&r.childLanes)!==0,yn||a){if(n=Sr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_o(r,i),$i(n,r,i,-1))}return Bw(),n=Iy(Error(ue(421))),op(r,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=FX.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,Fn=ha(i.nextSibling),Dn=e,Ot=!0,Ii=null,r!==null&&(ii[si++]=lo,ii[si++]=uo,ii[si++]=fl,lo=r.id,uo=r.overflow,fl=e),e=kw(e,n.children),e.flags|=4096,e)}function rC(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),Bx(r.return,e,t)}function My(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function KM(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(tn(r,e,n.children,t),n=Dt.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rC(r,t,e);else if(r.tag===19)rC(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(wt(Dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Lm(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),My(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Lm(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}My(e,!0,t,null,s);break;case"together":My(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gp(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function wo(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),ml|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(ue(153));if(e.child!==null){for(r=e.child,t=ma(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=ma(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function TX(r,e,t){switch(e.tag){case 3:VM(e),sc();break;case 5:bM(e);break;case 1:wn(e.type)&&Mm(e);break;case 4:ww(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;wt(Nm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wt(Dt,Dt.current&1),e.flags|=128,null):t&e.child.childLanes?qM(r,e,t):(wt(Dt,Dt.current&1),r=wo(r,e,t),r!==null?r.sibling:null);wt(Dt,Dt.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return KM(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(Dt,Dt.current),n)break;return null;case 22:case 23:return e.lanes=0,GM(r,e,t)}return wo(r,e,t)}var QM,Hx,ZM,JM;QM=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Hx=function(){};ZM=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Ja(Ps.current);var s=null;switch(t){case"input":i=hx(r,i),n=hx(r,n),s=[];break;case"select":i=Ht({},i,{value:void 0}),n=Ht({},n,{value:void 0}),s=[];break;case"textarea":i=px(r,i),n=px(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=km)}gx(t,n);var o;t=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&($h.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(l,t)),t=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&($h.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Et("scroll",r),s||a===u||(s=[])):(s=s||[]).push(l,u))}t&&(s=s||[]).push("style",t);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};JM=function(r,e,t,n){t!==n&&(e.flags|=4)};function nh(r,e){if(!Ot)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Xr(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function EX(r,e,t){var n=e.pendingProps;switch(pw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(e),null;case 1:return wn(e.type)&&Im(),Xr(e),null;case 3:return n=e.stateNode,ac(),At(_n),At(Qr),Sw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(ip(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ii!==null&&(Qx(Ii),Ii=null))),Hx(r,e),Xr(e),null;case 5:bw(e);var i=Ja(ed.current);if(t=e.type,r!==null&&e.stateNode!=null)ZM(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ue(166));return Xr(e),null}if(r=Ja(Ps.current),ip(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[ws]=e,n[Zh]=s,r=(e.mode&1)!==0,t){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(i=0;i<gh.length;i++)Et(gh[i],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":h2(n,s),Et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Et("invalid",n);break;case"textarea":f2(n,s),Et("invalid",n)}gx(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&np(n.textContent,a,r),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&np(n.textContent,a,r),i=["children",""+a]):$h.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Et("scroll",n)}switch(t){case"input":qf(n),d2(n,s,!0);break;case"textarea":qf(n),p2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=km)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=AI(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=o.createElement(t,{is:n.is}):(r=o.createElement(t),t==="select"&&(o=r,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):r=o.createElementNS(r,t),r[ws]=e,r[Zh]=n,QM(r,e,!1,!1),e.stateNode=r;e:{switch(o=vx(t,n),t){case"dialog":Et("cancel",r),Et("close",r),i=n;break;case"iframe":case"object":case"embed":Et("load",r),i=n;break;case"video":case"audio":for(i=0;i<gh.length;i++)Et(gh[i],r);i=n;break;case"source":Et("error",r),i=n;break;case"img":case"image":case"link":Et("error",r),Et("load",r),i=n;break;case"details":Et("toggle",r),i=n;break;case"input":h2(r,n),i=hx(r,n),Et("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=Ht({},n,{value:void 0}),Et("invalid",r);break;case"textarea":f2(r,n),i=px(r,n),Et("invalid",r);break;default:i=n}gx(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?II(r,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&PI(r,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Hh(r,u):typeof u=="number"&&Hh(r,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($h.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Et("scroll",r):u!=null&&J_(r,s,u,o))}switch(t){case"input":qf(r),d2(r,n,!1);break;case"textarea":qf(r),p2(r);break;case"option":n.value!=null&&r.setAttribute("value",""+_a(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Uu(r,!!n.multiple,s,!1):n.defaultValue!=null&&Uu(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=km)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xr(e),null;case 6:if(r&&e.stateNode!=null)JM(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ue(166));if(t=Ja(ed.current),Ja(Ps.current),ip(e)){if(n=e.stateNode,t=e.memoizedProps,n[ws]=e,(s=n.nodeValue!==t)&&(r=Dn,r!==null))switch(r.tag){case 3:np(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&np(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[ws]=e,e.stateNode=n}return Xr(e),null;case 13:if(At(Dt),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ot&&Fn!==null&&e.mode&1&&!(e.flags&128))vM(),sc(),e.flags|=98560,s=!1;else if(s=ip(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[ws]=e}else sc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xr(e),s=!1}else Ii!==null&&(Qx(Ii),Ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Dt.current&1?pr===0&&(pr=3):Bw())),e.updateQueue!==null&&(e.flags|=4),Xr(e),null);case 4:return ac(),Hx(r,e),r===null&&Kh(e.stateNode.containerInfo),Xr(e),null;case 10:return yw(e.type._context),Xr(e),null;case 17:return wn(e.type)&&Im(),Xr(e),null;case 19:if(At(Dt),s=e.memoizedState,s===null)return Xr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)nh(s,!1);else{if(pr!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=Lm(r),o!==null){for(e.flags|=128,nh(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return wt(Dt,Dt.current&1|2),e.child}r=r.sibling}s.tail!==null&&Zt()>uc&&(e.flags|=128,n=!0,nh(s,!1),e.lanes=4194304)}else{if(!n)if(r=Lm(o),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),nh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ot)return Xr(e),null}else 2*Zt()-s.renderingStartTime>uc&&t!==1073741824&&(e.flags|=128,n=!0,nh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zt(),e.sibling=null,t=Dt.current,wt(Dt,n?t&1|2:t&1),e):(Xr(e),null);case 22:case 23:return Nw(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bn&1073741824&&(Xr(e),e.subtreeFlags&6&&(e.flags|=8192)):Xr(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function CX(r,e){switch(pw(e),e.tag){case 1:return wn(e.type)&&Im(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return ac(),At(_n),At(Qr),Sw(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return bw(e),null;case 13:if(At(Dt),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));sc()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return At(Dt),null;case 4:return ac(),null;case 10:return yw(e.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var ap=!1,Hr=!1,AX=typeof WeakSet=="function"?WeakSet:Set,we=null;function yu(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Yt(r,e,n)}else t.current=null}function zx(r,e,t){try{t()}catch(n){Yt(r,e,n)}}var nC=!1;function PX(r,e){if(Ax=Cm,r=iM(),dw(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,l=0,h=0,c=r,d=null;t:for(;;){for(var p;c!==t||i!==0&&c.nodeType!==3||(a=o+i),c!==s||n!==0&&c.nodeType!==3||(u=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===r)break t;if(d===t&&++l===i&&(a=o),d===s&&++h===n&&(u=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Px={focusedElem:r,selectionRange:t},Cm=!1,we=e;we!==null;)if(e=we,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,we=r;else for(;we!==null;){e=we;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Pi(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){Yt(e,e.return,S)}if(r=e.sibling,r!==null){r.return=e.return,we=r;break}we=e.return}return g=nC,nC=!1,g}function kh(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&zx(e,t,s)}i=i.next}while(i!==n)}}function Dg(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Yx(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function e3(r){var e=r.alternate;e!==null&&(r.alternate=null,e3(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[ws],delete e[Zh],delete e[Mx],delete e[cX],delete e[hX])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function t3(r){return r.tag===5||r.tag===3||r.tag===4}function iC(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||t3(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gx(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=km));else if(n!==4&&(r=r.child,r!==null))for(Gx(r,e,t),r=r.sibling;r!==null;)Gx(r,e,t),r=r.sibling}function Wx(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Wx(r,e,t),r=r.sibling;r!==null;)Wx(r,e,t),r=r.sibling}var Pr=null,ki=!1;function Uo(r,e,t){for(t=t.child;t!==null;)r3(r,e,t),t=t.sibling}function r3(r,e,t){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(Ig,t)}catch{}switch(t.tag){case 5:Hr||yu(t,e);case 6:var n=Pr,i=ki;Pr=null,Uo(r,e,t),Pr=n,ki=i,Pr!==null&&(ki?(r=Pr,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Pr.removeChild(t.stateNode));break;case 18:Pr!==null&&(ki?(r=Pr,t=t.stateNode,r.nodeType===8?Ty(r.parentNode,t):r.nodeType===1&&Ty(r,t),Wh(r)):Ty(Pr,t.stateNode));break;case 4:n=Pr,i=ki,Pr=t.stateNode.containerInfo,ki=!0,Uo(r,e,t),Pr=n,ki=i;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zx(t,e,o),i=i.next}while(i!==n)}Uo(r,e,t);break;case 1:if(!Hr&&(yu(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){Yt(t,e,a)}Uo(r,e,t);break;case 21:Uo(r,e,t);break;case 22:t.mode&1?(Hr=(n=Hr)||t.memoizedState!==null,Uo(r,e,t),Hr=n):Uo(r,e,t);break;default:Uo(r,e,t)}}function sC(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new AX),e.forEach(function(n){var i=LX.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function Ti(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,ki=!1;break e;case 3:Pr=a.stateNode.containerInfo,ki=!0;break e;case 4:Pr=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(Pr===null)throw Error(ue(160));r3(s,o,i),Pr=null,ki=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Yt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n3(e,r),e=e.sibling}function n3(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ti(e,r),us(r),n&4){try{kh(3,r,r.return),Dg(3,r)}catch(v){Yt(r,r.return,v)}try{kh(5,r,r.return)}catch(v){Yt(r,r.return,v)}}break;case 1:Ti(e,r),us(r),n&512&&t!==null&&yu(t,t.return);break;case 5:if(Ti(e,r),us(r),n&512&&t!==null&&yu(t,t.return),r.flags&32){var i=r.stateNode;try{Hh(i,"")}catch(v){Yt(r,r.return,v)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,o=t!==null?t.memoizedProps:s,a=r.type,u=r.updateQueue;if(r.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&EI(i,s),vx(a,o);var l=vx(a,s);for(o=0;o<u.length;o+=2){var h=u[o],c=u[o+1];h==="style"?II(i,c):h==="dangerouslySetInnerHTML"?PI(i,c):h==="children"?Hh(i,c):J_(i,h,c,l)}switch(a){case"input":dx(i,s);break;case"textarea":CI(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Uu(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Uu(i,!!s.multiple,s.defaultValue,!0):Uu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zh]=s}catch(v){Yt(r,r.return,v)}}break;case 6:if(Ti(e,r),us(r),n&4){if(r.stateNode===null)throw Error(ue(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(v){Yt(r,r.return,v)}}break;case 3:if(Ti(e,r),us(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Wh(e.containerInfo)}catch(v){Yt(r,r.return,v)}break;case 4:Ti(e,r),us(r);break;case 13:Ti(e,r),us(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rw=Zt())),n&4&&sC(r);break;case 22:if(h=t!==null&&t.memoizedState!==null,r.mode&1?(Hr=(l=Hr)||h,Ti(e,r),Hr=l):Ti(e,r),us(r),n&8192){if(l=r.memoizedState!==null,(r.stateNode.isHidden=l)&&!h&&r.mode&1)for(we=r,h=r.child;h!==null;){for(c=we=h;we!==null;){switch(d=we,p=d.child,d.tag){case 0:case 11:case 14:case 15:kh(4,d,d.return);break;case 1:yu(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,t=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Yt(n,t,v)}}break;case 5:yu(d,d.return);break;case 22:if(d.memoizedState!==null){aC(c);continue}}p!==null?(p.return=d,we=p):aC(c)}h=h.sibling}e:for(h=null,c=r;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=kI("display",o))}catch(v){Yt(r,r.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(v){Yt(r,r.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===r)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ti(e,r),us(r),n&4&&sC(r);break;case 21:break;default:Ti(e,r),us(r)}}function us(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(t3(t)){var n=t;break e}t=t.return}throw Error(ue(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hh(i,""),n.flags&=-33);var s=iC(r);Wx(r,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=iC(r);Gx(r,a,o);break;default:throw Error(ue(161))}}catch(u){Yt(r,r.return,u)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function kX(r,e,t){we=r,i3(r)}function i3(r,e,t){for(var n=(r.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ap;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Hr;a=ap;var l=Hr;if(ap=o,(Hr=u)&&!l)for(we=i;we!==null;)o=we,u=o.child,o.tag===22&&o.memoizedState!==null?lC(i):u!==null?(u.return=o,we=u):lC(i);for(;s!==null;)we=s,i3(s),s=s.sibling;we=i,ap=a,Hr=l}oC(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):oC(r)}}function oC(r){for(;we!==null;){var e=we;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hr||Dg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Hr)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Pi(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&z2(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}z2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Wh(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Hr||e.flags&512&&Yx(e)}catch(d){Yt(e,e.return,d)}}if(e===r){we=null;break}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}}function aC(r){for(;we!==null;){var e=we;if(e===r){we=null;break}var t=e.sibling;if(t!==null){t.return=e.return,we=t;break}we=e.return}}function lC(r){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Dg(4,e)}catch(u){Yt(e,t,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Yt(e,i,u)}}var s=e.return;try{Yx(e)}catch(u){Yt(e,s,u)}break;case 5:var o=e.return;try{Yx(e)}catch(u){Yt(e,o,u)}}}catch(u){Yt(e,e.return,u)}if(e===r){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var IX=Math.ceil,jm=To.ReactCurrentDispatcher,Iw=To.ReactCurrentOwner,hi=To.ReactCurrentBatchConfig,st=0,Sr=null,ir=null,Or=0,Bn=0,xu=Ca(0),pr=0,id=null,ml=0,Ug=0,Mw=0,Ih=null,gn=null,Rw=0,uc=1/0,qs=null,Xm=!1,Vx=null,fa=null,lp=!1,na=null,$m=0,Mh=0,qx=null,Wp=-1,Vp=0;function sn(){return st&6?Zt():Wp!==-1?Wp:Wp=Zt()}function pa(r){return r.mode&1?st&2&&Or!==0?Or&-Or:fX.transition!==null?(Vp===0&&(Vp=$I()),Vp):(r=pt,r!==0||(r=window.event,r=r===void 0?16:qI(r.type)),r):1}function $i(r,e,t,n){if(50<Mh)throw Mh=0,qx=null,Error(ue(185));_d(r,t,n),(!(st&2)||r!==Sr)&&(r===Sr&&(!(st&2)&&(Ug|=t),pr===4&&Qo(r,Or)),bn(r,n),t===1&&st===0&&!(e.mode&1)&&(uc=Zt()+500,Bg&&Aa()))}function bn(r,e){var t=r.callbackNode;f7(r,e);var n=Em(r,r===Sr?Or:0);if(n===0)t!==null&&v2(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&v2(t),e===1)r.tag===0?dX(uC.bind(null,r)):pM(uC.bind(null,r)),lX(function(){!(st&6)&&Aa()}),t=null;else{switch(HI(n)){case 1:t=iw;break;case 4:t=jI;break;case 16:t=Tm;break;case 536870912:t=XI;break;default:t=Tm}t=d3(t,s3.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function s3(r,e){if(Wp=-1,Vp=0,st&6)throw Error(ue(327));var t=r.callbackNode;if(zu()&&r.callbackNode!==t)return null;var n=Em(r,r===Sr?Or:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=Hm(r,n);else{e=n;var i=st;st|=2;var s=a3();(Sr!==r||Or!==e)&&(qs=null,uc=Zt()+500,il(r,e));do try{OX();break}catch(a){o3(r,a)}while(!0);vw(),jm.current=s,st=i,ir!==null?e=0:(Sr=null,Or=0,e=pr)}if(e!==0){if(e===2&&(i=bx(r),i!==0&&(n=i,e=Kx(r,i))),e===1)throw t=id,il(r,0),Qo(r,n),bn(r,Zt()),t;if(e===6)Qo(r,n);else{if(i=r.current.alternate,!(n&30)&&!MX(i)&&(e=Hm(r,n),e===2&&(s=bx(r),s!==0&&(n=s,e=Kx(r,s))),e===1))throw t=id,il(r,0),Qo(r,n),bn(r,Zt()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(ue(345));case 2:Va(r,gn,qs);break;case 3:if(Qo(r,n),(n&130023424)===n&&(e=Rw+500-Zt(),10<e)){if(Em(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){sn(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Ix(Va.bind(null,r,gn,qs),e);break}Va(r,gn,qs);break;case 4:if(Qo(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var o=31-Xi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IX(n/1960))-n,10<n){r.timeoutHandle=Ix(Va.bind(null,r,gn,qs),n);break}Va(r,gn,qs);break;case 5:Va(r,gn,qs);break;default:throw Error(ue(329))}}}return bn(r,Zt()),r.callbackNode===t?s3.bind(null,r):null}function Kx(r,e){var t=Ih;return r.current.memoizedState.isDehydrated&&(il(r,e).flags|=256),r=Hm(r,e),r!==2&&(e=gn,gn=t,e!==null&&Qx(e)),r}function Qx(r){gn===null?gn=r:gn.push.apply(gn,r)}function MX(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!zi(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qo(r,e){for(e&=~Mw,e&=~Ug,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Xi(e),n=1<<t;r[t]=-1,e&=~n}}function uC(r){if(st&6)throw Error(ue(327));zu();var e=Em(r,0);if(!(e&1))return bn(r,Zt()),null;var t=Hm(r,e);if(r.tag!==0&&t===2){var n=bx(r);n!==0&&(e=n,t=Kx(r,n))}if(t===1)throw t=id,il(r,0),Qo(r,e),bn(r,Zt()),t;if(t===6)throw Error(ue(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Va(r,gn,qs),bn(r,Zt()),null}function Ow(r,e){var t=st;st|=1;try{return r(e)}finally{st=t,st===0&&(uc=Zt()+500,Bg&&Aa())}}function gl(r){na!==null&&na.tag===0&&!(st&6)&&zu();var e=st;st|=1;var t=hi.transition,n=pt;try{if(hi.transition=null,pt=1,r)return r()}finally{pt=n,hi.transition=t,st=e,!(st&6)&&Aa()}}function Nw(){Bn=xu.current,At(xu)}function il(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,aX(t)),ir!==null)for(t=ir.return;t!==null;){var n=t;switch(pw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Im();break;case 3:ac(),At(_n),At(Qr),Sw();break;case 5:bw(n);break;case 4:ac();break;case 13:At(Dt);break;case 19:At(Dt);break;case 10:yw(n.type._context);break;case 22:case 23:Nw()}t=t.return}if(Sr=r,ir=r=ma(r.current,null),Or=Bn=e,pr=0,id=null,Mw=Ug=ml=0,gn=Ih=null,Za!==null){for(e=0;e<Za.length;e++)if(t=Za[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}t.pending=n}Za=null}return r}function o3(r,e){do{var t=ir;try{if(vw(),zp.current=Um,Dm){for(var n=$t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Dm=!1}if(pl=0,br=dr=$t=null,Ph=!1,td=0,Iw.current=null,t===null||t.return===null){pr=1,id=e,ir=null;break}e:{var s=r,o=t.return,a=t,u=e;if(e=Or,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=K2(o);if(p!==null){p.flags&=-257,Q2(p,o,a,s,e),p.mode&1&&q2(s,l,e),e=p,u=l;var g=e.updateQueue;if(g===null){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break e}else{if(!(e&1)){q2(s,l,e),Bw();break e}u=Error(ue(426))}}else if(Ot&&a.mode&1){var x=K2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Q2(x,o,a,s,e),mw(lc(u,a));break e}}s=u=lc(u,a),pr!==4&&(pr=2),Ih===null?Ih=[s]:Ih.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=HM(s,u,e);H2(s,y);break e;case 1:a=u;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fa===null||!fa.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=zM(s,a,e);H2(s,S);break e}}s=s.return}while(s!==null)}u3(t)}catch(I){e=I,ir===t&&t!==null&&(ir=t=t.return);continue}break}while(!0)}function a3(){var r=jm.current;return jm.current=Um,r===null?Um:r}function Bw(){(pr===0||pr===3||pr===2)&&(pr=4),Sr===null||!(ml&268435455)&&!(Ug&268435455)||Qo(Sr,Or)}function Hm(r,e){var t=st;st|=2;var n=a3();(Sr!==r||Or!==e)&&(qs=null,il(r,e));do try{RX();break}catch(i){o3(r,i)}while(!0);if(vw(),st=t,jm.current=n,ir!==null)throw Error(ue(261));return Sr=null,Or=0,pr}function RX(){for(;ir!==null;)l3(ir)}function OX(){for(;ir!==null&&!i7();)l3(ir)}function l3(r){var e=h3(r.alternate,r,Bn);r.memoizedProps=r.pendingProps,e===null?u3(r):ir=e,Iw.current=null}function u3(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=CX(t,e),t!==null){t.flags&=32767,ir=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pr=6,ir=null;return}}else if(t=EX(t,e,Bn),t!==null){ir=t;return}if(e=e.sibling,e!==null){ir=e;return}ir=e=r}while(e!==null);pr===0&&(pr=5)}function Va(r,e,t){var n=pt,i=hi.transition;try{hi.transition=null,pt=1,NX(r,e,t,n)}finally{hi.transition=i,pt=n}return null}function NX(r,e,t,n){do zu();while(na!==null);if(st&6)throw Error(ue(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(ue(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(p7(r,s),r===Sr&&(ir=Sr=null,Or=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lp||(lp=!0,d3(Tm,function(){return zu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var o=pt;pt=1;var a=st;st|=4,Iw.current=null,PX(r,t),n3(t,r),eX(Px),Cm=!!Ax,Px=Ax=null,r.current=t,kX(t),s7(),st=a,pt=o,hi.transition=s}else r.current=t;if(lp&&(lp=!1,na=r,$m=i),s=r.pendingLanes,s===0&&(fa=null),l7(t.stateNode),bn(r,Zt()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xm)throw Xm=!1,r=Vx,Vx=null,r;return $m&1&&r.tag!==0&&zu(),s=r.pendingLanes,s&1?r===qx?Mh++:(Mh=0,qx=r):Mh=0,Aa(),null}function zu(){if(na!==null){var r=HI($m),e=hi.transition,t=pt;try{if(hi.transition=null,pt=16>r?16:r,na===null)var n=!1;else{if(r=na,na=null,$m=0,st&6)throw Error(ue(331));var i=st;for(st|=4,we=r.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(we=l;we!==null;){var h=we;switch(h.tag){case 0:case 11:case 15:kh(8,h,s)}var c=h.child;if(c!==null)c.return=h,we=c;else for(;we!==null;){h=we;var d=h.sibling,p=h.return;if(e3(h),h===l){we=null;break}if(d!==null){d.return=p,we=d;break}we=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,we=y;break e}we=s.return}}var b=r.current;for(we=b;we!==null;){o=we;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,we=_;else e:for(o=b;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dg(9,a)}}catch(I){Yt(a,a.return,I)}if(a===o){we=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,we=S;break e}we=a.return}}if(st=i,Aa(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(Ig,r)}catch{}n=!0}return n}finally{pt=t,hi.transition=e}}return!1}function cC(r,e,t){e=lc(t,e),e=HM(r,e,1),r=da(r,e,1),e=sn(),r!==null&&(_d(r,1,e),bn(r,e))}function Yt(r,e,t){if(r.tag===3)cC(r,r,t);else for(;e!==null;){if(e.tag===3){cC(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fa===null||!fa.has(n))){r=lc(t,r),r=zM(e,r,1),e=da(e,r,1),r=sn(),e!==null&&(_d(e,1,r),bn(e,r));break}}e=e.return}}function BX(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=sn(),r.pingedLanes|=r.suspendedLanes&t,Sr===r&&(Or&t)===t&&(pr===4||pr===3&&(Or&130023424)===Or&&500>Zt()-Rw?il(r,0):Mw|=t),bn(r,e)}function c3(r,e){e===0&&(r.mode&1?(e=Zf,Zf<<=1,!(Zf&130023424)&&(Zf=4194304)):e=1);var t=sn();r=_o(r,e),r!==null&&(_d(r,e,t),bn(r,t))}function FX(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),c3(r,t)}function LX(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(e),c3(r,t)}var h3;h3=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return yn=!1,TX(r,e,t);yn=!!(r.flags&131072)}else yn=!1,Ot&&e.flags&1048576&&mM(e,Om,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gp(r,e),r=e.pendingProps;var i=ic(e,Qr.current);Hu(e,t),i=Ew(null,e,n,r,i,t);var s=Cw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(n)?(s=!0,Mm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_w(e),i.updater=Lg,e.stateNode=i,i._reactInternals=e,Lx(e,n,r,t),e=jx(null,e,n,!0,s,t)):(e.tag=0,Ot&&s&&fw(e),tn(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Gp(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=UX(n),r=Pi(n,r),i){case 0:e=Ux(null,e,n,r,t);break e;case 1:e=eC(null,e,n,r,t);break e;case 11:e=Z2(null,e,n,r,t);break e;case 14:e=J2(null,e,n,Pi(n.type,r),t);break e}throw Error(ue(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Pi(n,i),Ux(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Pi(n,i),eC(r,e,n,i,t);case 3:e:{if(VM(e),r===null)throw Error(ue(387));n=e.pendingProps,s=e.memoizedState,i=s.element,wM(r,e),Fm(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lc(Error(ue(423)),e),e=tC(r,e,n,t,i);break e}else if(n!==i){i=lc(Error(ue(424)),e),e=tC(r,e,n,t,i);break e}else for(Fn=ha(e.stateNode.containerInfo.firstChild),Dn=e,Ot=!0,Ii=null,t=xM(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(sc(),n===i){e=wo(r,e,t);break e}tn(r,e,n,t)}e=e.child}return e;case 5:return bM(e),r===null&&Nx(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,o=i.children,kx(n,i)?o=null:s!==null&&kx(n,s)&&(e.flags|=32),WM(r,e),tn(r,e,o,t),e.child;case 6:return r===null&&Nx(e),null;case 13:return qM(r,e,t);case 4:return ww(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=oc(e,null,n,t):tn(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Pi(n,i),Z2(r,e,n,i,t);case 7:return tn(r,e,e.pendingProps,t),e.child;case 8:return tn(r,e,e.pendingProps.children,t),e.child;case 12:return tn(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,wt(Nm,n._currentValue),n._currentValue=o,s!==null)if(zi(s.value,o)){if(s.children===i.children&&!_n.current){e=wo(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=fo(-1,t&-t),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Bx(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Bx(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Hu(e,t),i=fi(i),n=n(i),e.flags|=1,tn(r,e,n,t),e.child;case 14:return n=e.type,i=Pi(n,e.pendingProps),i=Pi(n.type,i),J2(r,e,n,i,t);case 15:return YM(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Pi(n,i),Gp(r,e),e.tag=1,wn(n)?(r=!0,Mm(e)):r=!1,Hu(e,t),$M(e,n,i),Lx(e,n,i,t),jx(null,e,n,!0,r,t);case 19:return KM(r,e,t);case 22:return GM(r,e,t)}throw Error(ue(156,e.tag))};function d3(r,e){return UI(r,e)}function DX(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(r,e,t,n){return new DX(r,e,t,n)}function Fw(r){return r=r.prototype,!(!r||!r.isReactComponent)}function UX(r){if(typeof r=="function")return Fw(r)?1:0;if(r!=null){if(r=r.$$typeof,r===tw)return 11;if(r===rw)return 14}return 2}function ma(r,e){var t=r.alternate;return t===null?(t=ui(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function qp(r,e,t,n,i,s){var o=2;if(n=r,typeof r=="function")Fw(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case uu:return sl(t.children,i,s,e);case ew:o=8,i|=8;break;case ax:return r=ui(12,t,e,i|2),r.elementType=ax,r.lanes=s,r;case lx:return r=ui(13,t,e,i),r.elementType=lx,r.lanes=s,r;case ux:return r=ui(19,t,e,i),r.elementType=ux,r.lanes=s,r;case bI:return jg(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _I:o=10;break e;case wI:o=9;break e;case tw:o=11;break e;case rw:o=14;break e;case Go:o=16,n=null;break e}throw Error(ue(130,r==null?r:typeof r,""))}return e=ui(o,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function sl(r,e,t,n){return r=ui(7,r,n,e),r.lanes=t,r}function jg(r,e,t,n){return r=ui(22,r,n,e),r.elementType=bI,r.lanes=t,r.stateNode={isHidden:!1},r}function Ry(r,e,t){return r=ui(6,r,null,e),r.lanes=t,r}function Oy(r,e,t){return e=ui(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function jX(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fy(0),this.expirationTimes=fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lw(r,e,t,n,i,s,o,a,u){return r=new jX(r,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ui(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},_w(s),r}function XX(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function f3(r){if(!r)return wa;r=r._reactInternals;e:{if(Sl(r)!==r||r.tag!==1)throw Error(ue(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(r.tag===1){var t=r.type;if(wn(t))return fM(r,t,e)}return e}function p3(r,e,t,n,i,s,o,a,u){return r=Lw(t,n,!0,r,i,s,o,a,u),r.context=f3(null),t=r.current,n=sn(),i=pa(t),s=fo(n,i),s.callback=e??null,da(t,s,i),r.current.lanes=i,_d(r,i,n),bn(r,n),r}function Xg(r,e,t,n){var i=e.current,s=sn(),o=pa(i);return t=f3(t),e.context===null?e.context=t:e.pendingContext=t,e=fo(s,o),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=da(i,e,o),r!==null&&($i(r,i,o,s),Hp(r,i,o)),o}function zm(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hC(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Dw(r,e){hC(r,e),(r=r.alternate)&&hC(r,e)}function $X(){return null}var m3=typeof reportError=="function"?reportError:function(r){console.error(r)};function Uw(r){this._internalRoot=r}$g.prototype.render=Uw.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(ue(409));Xg(r,e,null,null)};$g.prototype.unmount=Uw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;gl(function(){Xg(null,r,null,null)}),e[xo]=null}};function $g(r){this._internalRoot=r}$g.prototype.unstable_scheduleHydration=function(r){if(r){var e=GI();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Ko.length&&e!==0&&e<Ko[t].priority;t++);Ko.splice(t,0,r),t===0&&VI(r)}};function jw(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Hg(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dC(){}function HX(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=zm(o);s.call(l)}}var o=p3(e,n,r,0,null,!1,!1,"",dC);return r._reactRootContainer=o,r[xo]=o.current,Kh(r.nodeType===8?r.parentNode:r),gl(),o}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=zm(u);a.call(l)}}var u=Lw(r,0,!1,null,null,!1,!1,"",dC);return r._reactRootContainer=u,r[xo]=u.current,Kh(r.nodeType===8?r.parentNode:r),gl(function(){Xg(e,u,t,n)}),u}function zg(r,e,t,n,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=zm(o);a.call(u)}}Xg(e,o,r,i)}else o=HX(t,e,r,i,n);return zm(o)}zI=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=mh(e.pendingLanes);t!==0&&(sw(e,t|1),bn(e,Zt()),!(st&6)&&(uc=Zt()+500,Aa()))}break;case 13:gl(function(){var n=_o(r,1);if(n!==null){var i=sn();$i(n,r,1,i)}}),Dw(r,1)}};ow=function(r){if(r.tag===13){var e=_o(r,134217728);if(e!==null){var t=sn();$i(e,r,134217728,t)}Dw(r,134217728)}};YI=function(r){if(r.tag===13){var e=pa(r),t=_o(r,e);if(t!==null){var n=sn();$i(t,r,e,n)}Dw(r,e)}};GI=function(){return pt};WI=function(r,e){var t=pt;try{return pt=r,e()}finally{pt=t}};xx=function(r,e,t){switch(e){case"input":if(dx(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=Ng(n);if(!i)throw Error(ue(90));TI(n),dx(n,i)}}}break;case"textarea":CI(r,t);break;case"select":e=t.value,e!=null&&Uu(r,!!t.multiple,e,!1)}};OI=Ow;NI=gl;var zX={usingClientEntryPoint:!1,Events:[bd,fu,Ng,MI,RI,Ow]},ih={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YX={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:To.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=LI(r),r===null?null:r.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||$X,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{Ig=up.inject(YX),As=up}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zX;zn.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jw(e))throw Error(ue(200));return XX(r,e,null,t)};zn.createRoot=function(r,e){if(!jw(r))throw Error(ue(299));var t=!1,n="",i=m3;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lw(r,1,!1,null,null,t,!1,n,i),r[xo]=e.current,Kh(r.nodeType===8?r.parentNode:r),new Uw(e)};zn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(ue(188)):(r=Object.keys(r).join(","),Error(ue(268,r)));return r=LI(e),r=r===null?null:r.stateNode,r};zn.flushSync=function(r){return gl(r)};zn.hydrate=function(r,e,t){if(!Hg(e))throw Error(ue(200));return zg(null,r,e,!0,t)};zn.hydrateRoot=function(r,e,t){if(!jw(r))throw Error(ue(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",o=m3;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=p3(e,null,r,1,t??null,i,!1,s,o),r[xo]=e.current,Kh(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new $g(e)};zn.render=function(r,e,t){if(!Hg(e))throw Error(ue(200));return zg(null,r,e,!1,t)};zn.unmountComponentAtNode=function(r){if(!Hg(r))throw Error(ue(40));return r._reactRootContainer?(gl(function(){zg(null,null,r,!1,function(){r._reactRootContainer=null,r[xo]=null})}),!0):!1};zn.unstable_batchedUpdates=Ow;zn.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Hg(t))throw Error(ue(200));if(r==null||r._reactInternals===void 0)throw Error(ue(38));return zg(r,e,t,!1,n)};zn.version="18.3.1-next-f1338f8080-20240426";function g3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g3)}catch(r){console.error(r)}}g3(),gI.exports=zn;var GX=gI.exports,Xw,fC=GX;Xw=fC.createRoot,fC.hydrateRoot;function v3(...r){const e={};for(const t of r)for(const n of t)e[n.id]=n;return Object.values(e)}const y3="game_Bg_L",Zr="message",x3="lang_components";function WX(r){return[{id:Zr,src:`text/${r}.json`},{id:x3,src:`compress/lang/${r}@2x.[avif,webp,png].json`}]}function VX(r,...e){return v3(WX(r),...e)}const _3="sounds",Yg="components",w3="uncomponents",Kp="preload_component";function qX(r){return[{id:_3,src:"sound/sounds.json"},{id:Yg,src:"compress/components-_default@2x.[avif,webp,png].json"}]}function KX(r,...e){return v3(qX(),...e)}function QX(r,e){return`./assets/${r}${e?`?v=${e}`:""}`}function ZX(r,e){const t=r.match(/\[(.+)\]/);if(t){const n=t[1].split(",");r=r.replace(t[0],Me.Obj.filterImageFormat(n))}return QX(r,e)}function b3(r,e,t){const n=[];function i(s,o,a={}){nn.add({src:ZX(o,e),alias:s,...a})}for(const s of r)switch(n.push(s.id),s.type){default:i(s.id,s.src,s.options)}return nn.load(n,t)}function JX(r){return nn.get(r)}function $w(r,e){const t=nn.get(r);let n=t.textures[e];if(!n){for(const i of t.linkedSheets)if(n=i.textures[e],n)break}return n}function e$(r,e){const n=nn.get(r).data.animations[e],i=[];for(const s of n)i.push($w(r,s));return i}function t$(r){return nn.get(r)}function on(r,e){return(nn.get(r)||{})[e]||e}function r$(r){const[e,t]=N.useState("");return N.useEffect(()=>{if(!e){const n=setInterval(()=>{const i="disablel",s=on(Zr,i);s&&i!=s&&(t(s),clearInterval(n))},1e3)}},[e]),T.jsx("div",{id:"screen-only-tips-p",className:"screen-only-tips-mod p",children:T.jsx("div",{className:"tips",children:e})})}function n$(r){const[e,t]=N.useState("");return N.useEffect(()=>{if(!e){const n=setInterval(()=>{const i="disablep",s=on(Zr,i);s&&i!=s&&(t(s),clearInterval(n))},1e3)}},[e]),T.jsx("div",{id:"screen-only-tips-l",className:"screen-only-tips-mod p",children:T.jsx("div",{className:"tips",children:e})})}function i$(){return T.jsxs(T.Fragment,{children:[T.jsx(n$,{}),T.jsx(r$,{})]})}function s$({children:r}){return T.jsx("div",{id:"App",className:"app-mod",children:r})}function o$(){if(gP())return Promise.resolve();{const r={cs:`游戏加载失败。
您的浏览器不支持或已禁用WebGL。
请关闭浏览器限制并重新加载游戏。`,kh:`ដំនើការចូលក្នុងហ្គេមត្រូវបរាជ័យ។
កម្មវិធីអ៊ីនធឺណេតរបស់អ្នកមិនទ្រទ្រង់លើការប្រើប្រាស់ ឬបានបិត WebGL។
សូមចូលទៅកាន់ហ្គេមម្តងទៀតដោយបើក WebGL។`,id:`Loadin game gagal.
Browser Anda tidak mendukung atau telah menonaktifkan WebGL. 
Load ulang game di browser dengan WebGL diaktifkan.`,kr:`게임 로딩에 실패했습니다.
브라우저가 WebGL을 지원하지 않거나 비활성화했습니다.
WebGL이 활성화된 브라우저에서 게임을 새로고침하세요.`,th:`โหลดเกมไม่สำเร็จ
เบราว์เซอร์ของคุณไม่รองรับ WebGLหรือถูกปิดใช้งาน,
โปรดเปิดใช้งานบนเบราว์เซอร์ของคุณ และโหลดเกมใหม่`,vn:`Tải trò chơi không thành công.
Trình duyệt của bạn không hỗ trợ hoặc đã tắt WebGL. 
Vui lòng tải lại trò chơi trong trình duyệt có bật WebGL.`,tr:"Oyun yükleme başarısız oldu Tarayıcınız WebGL'yi desteklemiyor veya devre dışı bırakmış.Lütfen oyunu WebGL'nin etkin olduğu tarayıcılarda yeniden yükleyin.",pt:"O carregamento do jogo falhou. Seu navegador não suporta ou desabilitou o WebGL. Por favor, recarregue o jogo em navegadores com o WebGL ativado."}[Me.Obj.urlOptions.lang]??`Game loading failed. 
Your browser does not support or has disabled the WebGL. 
Please reload game in browsers with WebGL enabled.`;return Xw(document.body).render(T.jsx("div",{className:"webgl-not-support",children:T.jsx("div",{className:"text",children:r})})),Promise.reject("webgl not support")}}function a$(r=[]){return new Promise((e,t)=>{if(r.length===0)e();else{const n=[];for(const i of r){const s=new Xj(i);n.push(s.load(null,3e5))}Promise.all(n).then(()=>{e()})}})}function l$(){return Promise.all([vk.test(),yk.test()]).then(([r,e])=>{Me.Obj.setSupportImagesFormat(e,r);const t=document.getElementById("blur-bg");t.className=t.className+" "+Me.Obj.filterImageFormat(["avif","webp","jpg"])})}function u$(r,e=[]){const t=Me.Obj,{operator:n,token:i,loginUrl:s,funPLay:o}=t.urlOptions;n?!o&&!i&&s?window.open(t.getLoginUrl(),"_self"):o$().then(a$.bind(null,e)).then(l$).then(()=>{Xw(document.getElementById("root")).render(T.jsxs(T.Fragment,{children:[T.jsx(s$,{children:r}),T.jsx(i$,{})]}))}).catch(a=>{console.error(a)}):alert("The operator parameter is missing!")}var Gg={exports:{}},S3={exports:{}},c$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h$=c$,d$=h$;function T3(){}function E3(){}E3.resetWarningCache=T3;var f$=function(){function r(n,i,s,o,a,u){if(u!==d$){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:E3,resetWarningCache:T3};return t.PropTypes=t,t};S3.exports=f$();var p$=S3.exports;const Ct=cd(p$);function Un(r){return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(r)}function C3(r){var e=function(t,n){if(Un(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,n||"default");if(Un(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return Un(e)==="symbol"?e:String(e)}function Kt(r,e,t){return(e=C3(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ny(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function bo(r){return function(e){if(Array.isArray(e))return Ny(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return Ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ny(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wt(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i]}var m$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g$(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var v$=function(r){return r==null};function vh(r){var e=[];if(r===void 0)return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=bo(r);else{if(r===null||Un(r)!=="object")return e;e=[r&&(r==null?void 0:r.x)||0,r&&(r==null?void 0:r.y)||0]}return e.filter(function(t){return!v$(t)&&!isNaN(t)}).map(Number)}function pC(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function By(r){return r instanceof je||r instanceof Bi}var Ym=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Fy(r,e,t){if(By(r[e])&&By(t))r[e].copyFrom(t);else if(By(r[e])){var n=vh(t);Wt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Un(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var Vl,A3=function(r){var e,t=r;if(!Array.isArray(t)){if(e=r,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(r)}var n={};return t.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},P3=function(r){return function(){return!r.apply(void 0,arguments)}},Zx="children",y$=(Kt(Vl={},Zx,!0),Kt(Vl,"parent",!0),Kt(Vl,"worldAlpha",!0),Kt(Vl,"worldTransform",!0),Kt(Vl,"worldVisible",!0),Vl),Jx={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ns=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,l;a==null||(u=a.__reactpixi)===null||u===void 0||(l=u.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(t.hasOwnProperty(a))return Wt(u.typeofs.some(function(l){return Un(t[a])===l})||u.instanceofs.some(function(l){return t[a]instanceof l}),"".concat(r," ").concat(a," prop is invalid")),t[a]};if(t.texture)return Wt(t.texture instanceof Oe,"".concat(r," texture needs to be typeof `Texture`")),t.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Oe]});Wt(!!s,"".concat(r," could not get texture from props"));var o=Oe.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},x$=P3(A3([].concat(bo(Object.keys(y$)),bo(Ym))));function Bs(r,e,t){var n=!1;if(Wt(Nt.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",Un(r)),!t.ignoreEvents)for(var i=typeof r.removeListener=="function",s=typeof r.on=="function",o=0;o<Ym.length;o++){var a=Ym[o];e[a]!==t[a]&&(n=!0,typeof e[a]=="function"&&i&&r.removeListener(a,e[a]),typeof t[a]=="function"&&s&&r.on(a,t[a]))}var u=Object.keys(t||{});if(t.overwriteProps){for(var l=0;l<u.length;l++){var h=u[l];e[h]!==t[h]&&(n=!0,Fy(r,h,t[h]))}return n}for(var c=u.filter(x$),d=0;d<c.length;d++){var p=c[d],g=t[p];t[p]!==e[p]&&(n=!0),g!==void 0?Fy(r,p,g):p in Jx?(console.warn("setting default value: ".concat(p,", from: ").concat(r[p]," to: ").concat(g," for"),r),n=!0,Fy(r,p,Jx[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(r[p]," to ").concat(g," for"),r)}return n}var _$=function(r,e){var t=e.text,n=e.style;return new QU(t,n)},w$=function(){return new Kr};function Pa(r,e){if(r==null)return{};var t,n,i=function(o,a){if(o==null)return{};var u,l,h={},c=Object.keys(o);for(l=0;l<c.length;l++)u=c[l],a.indexOf(u)>=0||(h[u]=o[u]);return h}(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var b$=["draw","geometry"],S$=function(r,e){var t=e.geometry;Wt(!t||t instanceof Lu,"Graphics geometry needs to be a `Graphics`");var n=t?new Lu(t.geometry):new Lu;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=Bs(i,s,Pa(o,b$));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},T$=["image","texture"],E$=function(r,e){var t=e.leftWidth,n=t===void 0?10:t,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,l=u===void 0?10:u,h=Ns("NineSlicePlane",r,e),c=new _U(h,n,s,a,l);return c.applyProps=function(d,p,g){var v=g.image,x=g.texture,y=Bs(d,p,Pa(g,T$));return(v||x)&&(x!==p.texture&&(y=!0),d.texture=Ns("NineSlicePlane",r,g)),y},c};function mC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function cp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(t),!0).forEach(function(n){Kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var C$=function(r,e){var t=e.maxSize,n=t===void 0?1500:t,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=cp(cp({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),l=cp(cp({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),h=new SU(n,u,s,a);return h.willUnmount=function(c,d,p){c.destroy(l)},h},A$=["image","texture"],P$=function(r,e){var t=new qi(Ns("Sprite",r,e));return t.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=Bs(n,i,Pa(s,A$));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=Ns("Sprite",r,s)),u},t},k$=["textures","isPlaying","initialFrame","images"],I$=function(r,e){var t=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(l){return l.map(function(h){return Wt(h instanceof Oe||(h==null?void 0:h.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),h})},u=n?Xh.fromImages(n):new Xh(a(t));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(l,h,c){var d=c.textures,p=c.isPlaying,g=c.initialFrame,v=c.images,x=Bs(l,h,Pa(c,k$));if(v&&h.images!==v){for(var y=[],b=0;b<v.length;++b)y.push(Oe.from(v[b]));l.textures=y,x=!0}if(d&&h.textures!==d&&(l.textures=a(d),x=!0),p!==h.isPlaying||g!==h.initialFrame){var _=typeof g=="number"?g:u.currentFrame||0;u[p?"gotoAndPlay":"gotoAndStop"](_),x=!0}return x},u},M$=function(r,e){var t=e.text,n=t===void 0?"":t,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new W_(n,s);return o?(a.updateText(),new qi(a.texture)):a},R$=["tileScale","tilePosition","image","texture"],O$=function(r,e){var t=e.width,n=t===void 0?100:t,i=e.height,s=i===void 0?100:i,o=Ns("TilingSprite",r,e),a=new V_(o,n,s);return a.applyProps=function(u,l,h){var c=h.tileScale,d=h.tilePosition,p=h.image,g=h.texture,v=Bs(u,l,Pa(h,R$));if(d){var x,y=vh(d);(x=u.tilePosition).set.apply(x,bo(y)),v=!pC(vh(l.tilePosition),y)||v}if(c){var b,_=vh(c);(b=u.tileScale).set.apply(b,bo(_)),v=!pC(vh(l.tileScale),_)||v}return(p||g)&&(g!==l.texture&&(v=!0),u.texture=Ns("Sprite",r,h)),v},a},N$=["image","texture"],B$=function(r,e){var t=Ns("Mesh",r,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Oi.TRIANGLES:o,u=new wU(t,n,i,s,a);return u.applyProps=function(l,h,c){var d=c.image,p=c.texture,g=Bs(l,h,Pa(c,N$));return(d||p)&&(p!==h.texture&&(g=!0),l.texture=Ns("Mesh",r,c)),g},u},F$=["image","texture"],L$=function(r,e){var t=Ns("SimpleRope",r,e),n=e.points,i=new bU(t,n);return i.applyProps=function(s,o,a){var u=a.image,l=a.texture,h=Pa(a,F$);Wt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var c=Bs(s,o,h);return(u||l)&&(l!==o.texture&&(c=!0),s.texture=Ns("SimpleRope",r,a)),c},i},D$=Object.freeze({__proto__:null,BitmapText:_$,Container:w$,Graphics:S$,NineSlicePlane:E$,ParticleContainer:C$,Sprite:P$,Text:M$,TilingSprite:O$,SimpleMesh:B$,SimpleRope:L$,AnimatedSprite:I$});function gC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(t),!0).forEach(function(n){Kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var En={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},U$=Object.keys(En).reduce(function(r,e){return vC(vC({},r),{},Kt({},e,D$[e]))},{}),k3={};function j$(r,e){return Wt(!!r,"Expect type to be defined, got `%s`",r),Wt(!En[r],"Component `%s` could not be created, already exists in default components.",r),k3[r]=e,r}var yC,xC,_C,wC,e_={},t_={},X$={get exports(){return t_},set exports(r){t_=r}},bC={};function $$(){return xC||(xC=1,X$.exports=(yC||(yC=1,function(r){function e($,W){var H=$.length;$.push(W);e:for(;0<H;){var V=H-1>>>1,Z=$[V];if(!(0<i(Z,W)))break e;$[V]=W,$[H]=Z,H=V}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var W=$[0],H=$.pop();if(H!==W){$[0]=H;e:for(var V=0,Z=$.length,te=Z>>>1;V<te;){var le=2*(V+1)-1,ge=$[le],Pe=le+1,Fe=$[Pe];if(0>i(ge,H))Pe<Z&&0>i(Fe,ge)?($[V]=Fe,$[Pe]=H,V=Pe):($[V]=ge,$[le]=H,V=le);else{if(!(Pe<Z&&0>i(Fe,H)))break e;$[V]=Fe,$[Pe]=H,V=Pe}}}return W}function i($,W){var H=$.sortIndex-W.sortIndex;return H!==0?H:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,c=null,d=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _($){for(var W=t(l);W!==null;){if(W.callback===null)n(l);else{if(!(W.startTime<=$))break;n(l),W.sortIndex=W.expirationTime,e(u,W)}W=t(l)}}function S($){if(v=!1,_($),!g)if(t(u)!==null)g=!0,z(I);else{var W=t(l);W!==null&&q(S,W.startTime-$)}}function I($,W){g=!1,v&&(v=!1,y(O),O=-1),p=!0;var H=d;try{for(_(W),c=t(u);c!==null&&(!(c.expirationTime>W)||$&&!X());){var V=c.callback;if(typeof V=="function"){c.callback=null,d=c.priorityLevel;var Z=V(c.expirationTime<=W);W=r.unstable_now(),typeof Z=="function"?c.callback=Z:c===t(u)&&n(u),_(W)}else n(u);c=t(u)}if(c!==null)var te=!0;else{var le=t(l);le!==null&&q(S,le.startTime-W),te=!1}return te}finally{c=null,d=H,p=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,k=!1,M=null,O=-1,D=5,L=-1;function X(){return!(r.unstable_now()-L<D)}function F(){if(M!==null){var $=r.unstable_now();L=$;var W=!0;try{W=M(!0,$)}finally{W?P():(k=!1,M=null)}}else k=!1}if(typeof b=="function")P=function(){b(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=F,P=function(){j.postMessage(null)}}else P=function(){x(F,0)};function z($){M=$,k||(k=!0,P())}function q($,W){O=x(function(){$(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){g||p||(g=!0,z(I))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function($){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var H=d;d=W;try{return $()}finally{d=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=d;d=$;try{return W()}finally{d=H}},r.unstable_scheduleCallback=function($,W,H){var V=r.unstable_now();switch(H=typeof H=="object"&&H!==null&&typeof(H=H.delay)=="number"&&0<H?V+H:V,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return $={id:h++,callback:W,priorityLevel:$,startTime:H,expirationTime:Z=H+Z,sortIndex:-1},H>V?($.sortIndex=H,e(l,$),t(u)===null&&$===t(l)&&(v?(y(O),O=-1):v=!0,q(S,H-V))):($.sortIndex=Z,e(u,$),g||p||(g=!0,z(I))),$},r.unstable_shouldYield=X,r.unstable_wrapCallback=function($){var W=d;return function(){var H=d;d=W;try{return $.apply(this,arguments)}finally{d=H}}}}(bC)),bC)),t_}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function H$(){return wC||(wC=1,_C=function(r){var e={},t=co,n=$$(),i=Object.assign;function s(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S=Symbol.iterator;function I(f){return f===null||typeof f!="object"?null:typeof(f=S&&f[S]||f["@@iterator"])=="function"?f:null}function P(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case l:return"Fragment";case u:return"Portal";case c:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case p:return(f.displayName||"Context")+".Consumer";case d:return(f._context.displayName||"Context")+".Provider";case g:var m=f.render;return(f=f.displayName)||(f=(f=m.displayName||m.name||"")!==""?"ForwardRef("+f+")":"ForwardRef"),f;case y:return(m=f.displayName||null)!==null?m:P(f.type)||"Memo";case b:m=f._payload,f=f._init;try{return P(f(m))}catch{}}return null}function k(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=(f=m.render).displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(m);case 8:return m===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function M(f){var m=f,w=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do 4098&(m=f).flags&&(w=m.return),f=m.return;while(f)}return m.tag===3?w:null}function O(f){if(M(f)!==f)throw Error(s(188))}function D(f){var m=f.alternate;if(!m){if((m=M(f))===null)throw Error(s(188));return m!==f?null:f}for(var w=f,E=m;;){var A=w.return;if(A===null)break;var R=A.alternate;if(R===null){if((E=A.return)!==null){w=E;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===w)return O(A),f;if(R===E)return O(A),m;R=R.sibling}throw Error(s(188))}if(w.return!==E.return)w=A,E=R;else{for(var U=!1,Y=A.child;Y;){if(Y===w){U=!0,w=A,E=R;break}if(Y===E){U=!0,E=A,w=R;break}Y=Y.sibling}if(!U){for(Y=R.child;Y;){if(Y===w){U=!0,w=R,E=A;break}if(Y===E){U=!0,E=R,w=A;break}Y=Y.sibling}if(!U)throw Error(s(189))}}if(w.alternate!==E)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?f:m}function L(f){return(f=D(f))!==null?X(f):null}function X(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=X(f);if(m!==null)return m;f=f.sibling}return null}function F(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var m=F(f);if(m!==null)return m}f=f.sibling}return null}var B,j=Array.isArray,z=r.getPublicInstance,q=r.getRootHostContext,$=r.getChildHostContext,W=r.prepareForCommit,H=r.resetAfterCommit,V=r.createInstance,Z=r.appendInitialChild,te=r.finalizeInitialChildren,le=r.prepareUpdate,ge=r.shouldSetTextContent,Pe=r.createTextInstance,Fe=r.scheduleTimeout,He=r.cancelTimeout,qe=r.noTimeout,$e=r.isPrimaryRenderer,Le=r.supportsMutation,ut=r.supportsPersistence,et=r.supportsHydration,Tr=r.getInstanceFromNode,Br=r.preparePortalMount,Qi=r.getCurrentEventPriority,Cl=r.detachDeletedInstance,gi=r.supportsMicrotasks,Tc=r.scheduleMicrotask,Eo=r.supportsTestSelectors,Co=r.findFiberRoot,Id=r.getBoundingRect,Md=r.getTextContent,Gn=r.isHiddenSubtree,_O=r.matchAccessibilityRole,wO=r.setFocusIfFocusable,bO=r.setupIntersectionObserver,SO=r.appendChild,TO=r.appendChildToContainer,EO=r.commitTextUpdate,CO=r.commitMount,AO=r.commitUpdate,PO=r.insertBefore,kO=r.insertInContainerBefore,IO=r.removeChild,MO=r.removeChildFromContainer,Cb=r.resetTextContent,RO=r.hideInstance,OO=r.hideTextInstance,NO=r.unhideInstance,BO=r.unhideTextInstance,FO=r.clearContainer,LO=r.cloneInstance,Ab=r.createContainerChildSet,Pb=r.appendChildToContainerChildSet,DO=r.finalizeContainerChildren,a0=r.replaceContainerChildren,kb=r.cloneHiddenInstance,Ib=r.cloneHiddenTextInstance,UO=r.canHydrateInstance,jO=r.canHydrateTextInstance,XO=r.canHydrateSuspenseInstance,Mb=r.isSuspenseInstancePending,l0=r.isSuspenseInstanceFallback,$O=r.getSuspenseInstanceFallbackErrorDetails,HO=r.registerSuspenseInstanceRetry,Rd=r.getNextHydratableSibling,zO=r.getFirstHydratableChild,YO=r.getFirstHydratableChildWithinContainer,GO=r.getFirstHydratableChildWithinSuspenseInstance,WO=r.hydrateInstance,VO=r.hydrateTextInstance,qO=r.hydrateSuspenseInstance,KO=r.getNextHydratableInstanceAfterSuspenseInstance,QO=r.commitHydratedContainer,ZO=r.commitHydratedSuspenseInstance,JO=r.clearSuspenseBoundary,eN=r.clearSuspenseBoundaryFromContainer,tN=r.shouldDeleteUnhydratedTailInstances,rN=r.didNotMatchHydratedContainerTextInstance,nN=r.didNotMatchHydratedTextInstance;function Ec(f){if(B===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+f}var u0=!1;function c0(f,m){if(!f||u0)return"";u0=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ee){var E=ee}Reflect.construct(f,[],m)}else{try{m.call()}catch(ee){E=ee}f.call(m.prototype)}else{try{throw Error()}catch(ee){E=ee}f()}}catch(ee){if(ee&&E&&typeof ee.stack=="string"){for(var A=ee.stack.split(`
`),R=E.stack.split(`
`),U=A.length-1,Y=R.length-1;1<=U&&0<=Y&&A[U]!==R[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(A[U]!==R[Y]){if(U!==1||Y!==1)do if(U--,0>--Y||A[U]!==R[Y]){var Q=`
`+A[U].replace(" at new "," at ");return f.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",f.displayName)),Q}while(1<=U&&0<=Y);break}}}finally{u0=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?Ec(f):""}var iN=Object.prototype.hasOwnProperty,h0=[],Al=-1;function Ao(f){return{current:f}}function It(f){0>Al||(f.current=h0[Al],h0[Al]=null,Al--)}function yt(f,m){Al++,h0[Al]=f.current,f.current=m}var Po={},Fr=Ao(Po),un=Ao(!1),ka=Po;function Pl(f,m){var w=f.type.contextTypes;if(!w)return Po;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===m)return E.__reactInternalMemoizedMaskedChildContext;var A,R={};for(A in w)R[A]=m[A];return E&&((f=f.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=R),R}function Cn(f){return(f=f.childContextTypes)!=null}function d0(){It(un),It(Fr)}function Rb(f,m,w){if(Fr.current!==Po)throw Error(s(168));yt(Fr,m),yt(un,w)}function Ob(f,m,w){var E=f.stateNode;if(m=m.childContextTypes,typeof E.getChildContext!="function")return w;for(var A in E=E.getChildContext())if(!(A in m))throw Error(s(108,k(f)||"Unknown",A));return i({},w,E)}function Od(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Po,ka=Fr.current,yt(Fr,f),yt(un,un.current),!0}function Nb(f,m,w){var E=f.stateNode;if(!E)throw Error(s(169));w?(f=Ob(f,m,ka),E.__reactInternalMemoizedMergedChildContext=f,It(un),It(Fr),yt(Fr,f)):It(un),yt(un,w)}var vi=Math.clz32?Math.clz32:function(f){return(f>>>=0)===0?32:31-(sN(f)/oN|0)|0},sN=Math.log,oN=Math.LN2,f0=64,p0=4194304;function Cc(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&f;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&f;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Nd(f,m){var w=f.pendingLanes;if(w===0)return 0;var E=0,A=f.suspendedLanes,R=f.pingedLanes,U=268435455&w;if(U!==0){var Y=U&~A;Y!==0?E=Cc(Y):(R&=U)!==0&&(E=Cc(R))}else(U=w&~A)!==0?E=Cc(U):R!==0&&(E=Cc(R));if(E===0)return 0;if(m!==0&&m!==E&&!(m&A)&&((A=E&-E)>=(R=m&-m)||A===16&&4194240&R))return m;if(4&E&&(E|=16&w),(m=f.entangledLanes)!==0)for(f=f.entanglements,m&=E;0<m;)A=1<<(w=31-vi(m)),E|=f[w],m&=~A;return E}function aN(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;default:return-1}}function m0(f){return(f=-1073741825&f.pendingLanes)!==0?f:1073741824&f?1073741824:0}function Bb(){var f=f0;return!(4194240&(f0<<=1))&&(f0=64),f}function g0(f){for(var m=[],w=0;31>w;w++)m.push(f);return m}function Ac(f,m,w){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),(f=f.eventTimes)[m=31-vi(m)]=w}function v0(f,m){var w=f.entangledLanes|=m;for(f=f.entanglements;w;){var E=31-vi(w),A=1<<E;A&m|f[E]&m&&(f[E]|=m),w&=~A}}var ot=0;function Fb(f){return 1<(f&=-f)?4<f?268435455&f?16:536870912:4:1}var y0=n.unstable_scheduleCallback,Lb=n.unstable_cancelCallback,lN=n.unstable_shouldYield,uN=n.unstable_requestPaint,mr=n.unstable_now,x0=n.unstable_ImmediatePriority,cN=n.unstable_UserBlockingPriority,Db=n.unstable_NormalPriority,hN=n.unstable_IdlePriority,Bd=null,Zi=null,yi=typeof Object.is=="function"?Object.is:function(f,m){return f===m&&(f!==0||1/f==1/m)||f!=f&&m!=m},Xs=null,Fd=!1,_0=!1;function Ub(f){Xs===null?Xs=[f]:Xs.push(f)}function Ji(){if(!_0&&Xs!==null){_0=!0;var f=0,m=ot;try{var w=Xs;for(ot=1;f<w.length;f++){var E=w[f];do E=E(!0);while(E!==null)}Xs=null,Fd=!1}catch(A){throw Xs!==null&&(Xs=Xs.slice(f+1)),y0(x0,Ji),A}finally{ot=m,_0=!1}}return null}var kl=[],Il=0,Ld=null,Dd=0,Wn=[],Vn=0,Ia=null,es=1,$s="";function Ma(f,m){kl[Il++]=Dd,kl[Il++]=Ld,Ld=f,Dd=m}function jb(f,m,w){Wn[Vn++]=es,Wn[Vn++]=$s,Wn[Vn++]=Ia,Ia=f;var E=es;f=$s;var A=32-vi(E)-1;E&=~(1<<A),w+=1;var R=32-vi(m)+A;if(30<R){var U=A-A%5;R=(E&(1<<U)-1).toString(32),E>>=U,A-=U,es=1<<32-vi(m)+A|w<<A|E,$s=R+f}else es=1<<R|w<<A|E,$s=f}function w0(f){f.return!==null&&(Ma(f,1),jb(f,1,0))}function b0(f){for(;f===Ld;)Ld=kl[--Il],kl[Il]=null,Dd=kl[--Il],kl[Il]=null;for(;f===Ia;)Ia=Wn[--Vn],Wn[Vn]=null,$s=Wn[--Vn],Wn[Vn]=null,es=Wn[--Vn],Wn[Vn]=null}var An=null,qn=null,Mt=!1,Pc=!1,xi=null;function Xb(f,m){var w=ei(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=f,(m=f.deletions)===null?(f.deletions=[w],f.flags|=16):m.push(w)}function $b(f,m){switch(f.tag){case 5:return(m=UO(m,f.type,f.pendingProps))!==null&&(f.stateNode=m,An=f,qn=zO(m),!0);case 6:return(m=jO(m,f.pendingProps))!==null&&(f.stateNode=m,An=f,qn=null,!0);case 13:if((m=XO(m))!==null){var w=Ia!==null?{id:es,overflow:$s}:null;return f.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},(w=ei(18,null,null,0)).stateNode=m,w.return=f,f.child=w,An=f,qn=null,!0}return!1;default:return!1}}function S0(f){return(1&f.mode)!=0&&(128&f.flags)==0}function T0(f){if(Mt){var m=qn;if(m){var w=m;if(!$b(f,m)){if(S0(f))throw Error(s(418));m=Rd(w);var E=An;m&&$b(f,m)?Xb(E,w):(f.flags=-4097&f.flags|2,Mt=!1,An=f)}}else{if(S0(f))throw Error(s(418));f.flags=-4097&f.flags|2,Mt=!1,An=f}}}function Hb(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;An=f}function Ud(f){if(!et||f!==An)return!1;if(!Mt)return Hb(f),Mt=!0,!1;if(f.tag!==3&&(f.tag!==5||tN(f.type)&&!ge(f.type,f.memoizedProps))){var m=qn;if(m){if(S0(f))throw zb(),Error(s(418));for(;m;)Xb(f,m),m=Rd(m)}}if(Hb(f),f.tag===13){if(!et)throw Error(s(316));if(!(f=(f=f.memoizedState)!==null?f.dehydrated:null))throw Error(s(317));qn=KO(f)}else qn=An?Rd(f.stateNode):null;return!0}function zb(){for(var f=qn;f;)f=Rd(f)}function Ml(){et&&(qn=An=null,Pc=Mt=!1)}function E0(f){xi===null?xi=[f]:xi.push(f)}var dN=o.ReactCurrentBatchConfig;function jd(f,m){if(yi(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var w=Object.keys(f),E=Object.keys(m);if(w.length!==E.length)return!1;for(E=0;E<w.length;E++){var A=w[E];if(!iN.call(m,A)||!yi(f[A],m[A]))return!1}return!0}function fN(f){switch(f.tag){case 5:return Ec(f.type);case 16:return Ec("Lazy");case 13:return Ec("Suspense");case 19:return Ec("SuspenseList");case 0:case 2:case 15:return f=c0(f.type,!1);case 11:return f=c0(f.type.render,!1);case 1:return f=c0(f.type,!0);default:return""}}function _i(f,m){if(f&&f.defaultProps){for(var w in m=i({},m),f=f.defaultProps)m[w]===void 0&&(m[w]=f[w]);return m}return m}var Xd=Ao(null),$d=null,Rl=null,C0=null;function A0(){C0=Rl=$d=null}function Yb(f,m,w){$e?(yt(Xd,m._currentValue),m._currentValue=w):(yt(Xd,m._currentValue2),m._currentValue2=w)}function P0(f){var m=Xd.current;It(Xd),$e?f._currentValue=m:f._currentValue2=m}function k0(f,m,w){for(;f!==null;){var E=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),f===w)break;f=f.return}}function Ol(f,m){$d=f,C0=Rl=null,(f=f.dependencies)!==null&&f.firstContext!==null&&(f.lanes&m&&(cn=!0),f.firstContext=null)}function Kn(f){var m=$e?f._currentValue:f._currentValue2;if(C0!==f)if(f={context:f,memoizedValue:m,next:null},Rl===null){if($d===null)throw Error(s(308));Rl=f,$d.dependencies={lanes:0,firstContext:f}}else Rl=Rl.next=f;return m}var Ra=null;function I0(f){Ra===null?Ra=[f]:Ra.push(f)}function Gb(f,m,w,E){var A=m.interleaved;return A===null?(w.next=w,I0(m)):(w.next=A.next,A.next=w),m.interleaved=w,ts(f,E)}function ts(f,m){f.lanes|=m;var w=f.alternate;for(w!==null&&(w.lanes|=m),w=f,f=f.return;f!==null;)f.childLanes|=m,(w=f.alternate)!==null&&(w.childLanes|=m),w=f,f=f.return;return w.tag===3?w.stateNode:null}var ko=!1;function M0(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wb(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Hs(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function Io(f,m,w){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(2&tt)!=0){var A=E.pending;return A===null?m.next=m:(m.next=A.next,A.next=m),E.pending=m,ts(f,w)}return(A=E.interleaved)===null?(m.next=m,I0(E)):(m.next=A.next,A.next=m),E.interleaved=m,ts(f,w)}function Hd(f,m,w){if((m=m.updateQueue)!==null&&(m=m.shared,(4194240&w)!=0)){var E=m.lanes;w|=E&=f.pendingLanes,m.lanes=w,v0(f,w)}}function Vb(f,m){var w=f.updateQueue,E=f.alternate;if(E!==null&&w===(E=E.updateQueue)){var A=null,R=null;if((w=w.firstBaseUpdate)!==null){do{var U={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};R===null?A=R=U:R=R.next=U,w=w.next}while(w!==null);R===null?A=R=m:R=R.next=m}else A=R=m;return w={baseState:E.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:E.shared,effects:E.effects},void(f.updateQueue=w)}(f=w.lastBaseUpdate)===null?w.firstBaseUpdate=m:f.next=m,w.lastBaseUpdate=m}function zd(f,m,w,E){var A=f.updateQueue;ko=!1;var R=A.firstBaseUpdate,U=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var Q=Y,ee=Q.next;Q.next=null,U===null?R=ee:U.next=ee,U=Q;var ie=f.alternate;ie!==null&&(Y=(ie=ie.updateQueue).lastBaseUpdate)!==U&&(Y===null?ie.firstBaseUpdate=ee:Y.next=ee,ie.lastBaseUpdate=Q)}if(R!==null){var ve=A.baseState;for(U=0,ie=ee=Q=null,Y=R;;){var re=Y.lane,he=Y.eventTime;if((E&re)===re){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ee=f,We=Y;switch(re=m,he=w,We.tag){case 1:if(typeof(Ee=We.payload)=="function"){ve=Ee.call(he,ve,re);break e}ve=Ee;break e;case 3:Ee.flags=-65537&Ee.flags|128;case 0:if((re=typeof(Ee=We.payload)=="function"?Ee.call(he,ve,re):Ee)==null)break e;ve=i({},ve,re);break e;case 2:ko=!0}}Y.callback!==null&&Y.lane!==0&&(f.flags|=64,(re=A.effects)===null?A.effects=[Y]:re.push(Y))}else he={eventTime:he,lane:re,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ie===null?(ee=ie=he,Q=ve):ie=ie.next=he,U|=re;if((Y=Y.next)===null){if((Y=A.shared.pending)===null)break;Y=(re=Y).next,re.next=null,A.lastBaseUpdate=re,A.shared.pending=null}}if(ie===null&&(Q=ve),A.baseState=Q,A.firstBaseUpdate=ee,A.lastBaseUpdate=ie,(m=A.shared.interleaved)!==null){A=m;do U|=A.lane,A=A.next;while(A!==m)}else R===null&&(A.shared.lanes=0);Na|=U,f.lanes=U,f.memoizedState=ve}}function qb(f,m,w){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var E=f[m],A=E.callback;if(A!==null){if(E.callback=null,E=w,typeof A!="function")throw Error(s(191,A));A.call(E)}}}var Kb=new t.Component().refs;function R0(f,m,w,E){w=(w=w(E,m=f.memoizedState))==null?m:i({},m,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var Yd={isMounted:function(f){return!!(f=f._reactInternals)&&M(f)===f},enqueueSetState:function(f,m,w){f=f._reactInternals;var E=Ur(),A=No(f),R=Hs(E,A);R.payload=m,w!=null&&(R.callback=w),(m=Io(f,R,A))!==null&&(Jn(m,f,A,E),Hd(m,f,A))},enqueueReplaceState:function(f,m,w){f=f._reactInternals;var E=Ur(),A=No(f),R=Hs(E,A);R.tag=1,R.payload=m,w!=null&&(R.callback=w),(m=Io(f,R,A))!==null&&(Jn(m,f,A,E),Hd(m,f,A))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var w=Ur(),E=No(f),A=Hs(w,E);A.tag=2,m!=null&&(A.callback=m),(m=Io(f,A,E))!==null&&(Jn(m,f,E,w),Hd(m,f,E))}};function Qb(f,m,w,E,A,R,U){return typeof(f=f.stateNode).shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,R,U):!m.prototype||!m.prototype.isPureReactComponent||!jd(w,E)||!jd(A,R)}function Zb(f,m,w){var E=!1,A=Po,R=m.contextType;return typeof R=="object"&&R!==null?R=Kn(R):(A=Cn(m)?ka:Fr.current,R=(E=(E=m.contextTypes)!=null)?Pl(f,A):Po),m=new m(w,R),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yd,f.stateNode=m,m._reactInternals=f,E&&((f=f.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,f.__reactInternalMemoizedMaskedChildContext=R),m}function Jb(f,m,w,E){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,E),m.state!==f&&Yd.enqueueReplaceState(m,m.state,null)}function O0(f,m,w,E){var A=f.stateNode;A.props=w,A.state=f.memoizedState,A.refs=Kb,M0(f);var R=m.contextType;typeof R=="object"&&R!==null?A.context=Kn(R):(R=Cn(m)?ka:Fr.current,A.context=Pl(f,R)),A.state=f.memoizedState,typeof(R=m.getDerivedStateFromProps)=="function"&&(R0(f,m,R,w),A.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(m=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),m!==A.state&&Yd.enqueueReplaceState(A,A.state,null),zd(f,w,A,E),A.state=f.memoizedState),typeof A.componentDidMount=="function"&&(f.flags|=4194308)}function kc(f,m,w){if((f=w.ref)!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner){if(w.tag!==1)throw Error(s(309));var E=w.stateNode}if(!E)throw Error(s(147,f));var A=E,R=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===R?m.ref:(m=function(U){var Y=A.refs;Y===Kb&&(Y=A.refs={}),U===null?delete Y[R]:Y[R]=U},m._stringRef=R,m)}if(typeof f!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,f))}return f}function Gd(f,m){throw f=Object.prototype.toString.call(m),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function eS(f){return(0,f._init)(f._payload)}function tS(f){function m(se,K){if(f){var J=se.deletions;J===null?(se.deletions=[K],se.flags|=16):J.push(K)}}function w(se,K){if(!f)return null;for(;K!==null;)m(se,K),K=K.sibling;return null}function E(se,K){for(se=new Map;K!==null;)K.key!==null?se.set(K.key,K):se.set(K.index,K),K=K.sibling;return se}function A(se,K){return(se=Fo(se,K)).index=0,se.sibling=null,se}function R(se,K,J){return se.index=J,f?(J=se.alternate)!==null?(J=J.index)<K?(se.flags|=2,K):J:(se.flags|=2,K):(se.flags|=1048576,K)}function U(se){return f&&se.alternate===null&&(se.flags|=2),se}function Y(se,K,J,ae){return K===null||K.tag!==6?((K=xv(J,se.mode,ae)).return=se,K):((K=A(K,J)).return=se,K)}function Q(se,K,J,ae){var Ne=J.type;return Ne===l?ie(se,K,J.props.children,ae,J.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===b&&eS(Ne)===K.type)?((ae=A(K,J.props)).ref=kc(se,K,J),ae.return=se,ae):((ae=xf(J.type,J.key,J.props,null,se.mode,ae)).ref=kc(se,K,J),ae.return=se,ae)}function ee(se,K,J,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?((K=_v(J,se.mode,ae)).return=se,K):((K=A(K,J.children||[])).return=se,K)}function ie(se,K,J,ae,Ne){return K===null||K.tag!==7?((K=La(J,se.mode,ae,Ne)).return=se,K):((K=A(K,J)).return=se,K)}function ve(se,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return(K=xv(""+K,se.mode,J)).return=se,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case a:return(J=xf(K.type,K.key,K.props,null,se.mode,J)).ref=kc(se,null,K),J.return=se,J;case u:return(K=_v(K,se.mode,J)).return=se,K;case b:return ve(se,(0,K._init)(K._payload),J)}if(j(K)||I(K))return(K=La(K,se.mode,J,null)).return=se,K;Gd(se,K)}return null}function re(se,K,J,ae){var Ne=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ne!==null?null:Y(se,K,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case a:return J.key===Ne?Q(se,K,J,ae):null;case u:return J.key===Ne?ee(se,K,J,ae):null;case b:return re(se,K,(Ne=J._init)(J._payload),ae)}if(j(J)||I(J))return Ne!==null?null:ie(se,K,J,ae,null);Gd(se,J)}return null}function he(se,K,J,ae,Ne){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Y(K,se=se.get(J)||null,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:return Q(K,se=se.get(ae.key===null?J:ae.key)||null,ae,Ne);case u:return ee(K,se=se.get(ae.key===null?J:ae.key)||null,ae,Ne);case b:return he(se,K,J,(0,ae._init)(ae._payload),Ne)}if(j(ae)||I(ae))return ie(K,se=se.get(J)||null,ae,Ne,null);Gd(K,ae)}return null}function Ee(se,K,J,ae){for(var Ne=null,ct=null,Ce=K,at=K=0,Cr=null;Ce!==null&&at<J.length;at++){Ce.index>at?(Cr=Ce,Ce=null):Cr=Ce.sibling;var ht=re(se,Ce,J[at],ae);if(ht===null){Ce===null&&(Ce=Cr);break}f&&Ce&&ht.alternate===null&&m(se,Ce),K=R(ht,K,at),ct===null?Ne=ht:ct.sibling=ht,ct=ht,Ce=Cr}if(at===J.length)return w(se,Ce),Mt&&Ma(se,at),Ne;if(Ce===null){for(;at<J.length;at++)(Ce=ve(se,J[at],ae))!==null&&(K=R(Ce,K,at),ct===null?Ne=Ce:ct.sibling=Ce,ct=Ce);return Mt&&Ma(se,at),Ne}for(Ce=E(se,Ce);at<J.length;at++)(Cr=he(Ce,se,at,J[at],ae))!==null&&(f&&Cr.alternate!==null&&Ce.delete(Cr.key===null?at:Cr.key),K=R(Cr,K,at),ct===null?Ne=Cr:ct.sibling=Cr,ct=Cr);return f&&Ce.forEach(function(Lo){return m(se,Lo)}),Mt&&Ma(se,at),Ne}function We(se,K,J,ae){var Ne=I(J);if(typeof Ne!="function")throw Error(s(150));if((J=Ne.call(J))==null)throw Error(s(151));for(var ct=Ne=null,Ce=K,at=K=0,Cr=null,ht=J.next();Ce!==null&&!ht.done;at++,ht=J.next()){Ce.index>at?(Cr=Ce,Ce=null):Cr=Ce.sibling;var Lo=re(se,Ce,ht.value,ae);if(Lo===null){Ce===null&&(Ce=Cr);break}f&&Ce&&Lo.alternate===null&&m(se,Ce),K=R(Lo,K,at),ct===null?Ne=Lo:ct.sibling=Lo,ct=Lo,Ce=Cr}if(ht.done)return w(se,Ce),Mt&&Ma(se,at),Ne;if(Ce===null){for(;!ht.done;at++,ht=J.next())(ht=ve(se,ht.value,ae))!==null&&(K=R(ht,K,at),ct===null?Ne=ht:ct.sibling=ht,ct=ht);return Mt&&Ma(se,at),Ne}for(Ce=E(se,Ce);!ht.done;at++,ht=J.next())(ht=he(Ce,se,at,ht.value,ae))!==null&&(f&&ht.alternate!==null&&Ce.delete(ht.key===null?at:ht.key),K=R(ht,K,at),ct===null?Ne=ht:ct.sibling=ht,ct=ht);return f&&Ce.forEach(function(LN){return m(se,LN)}),Mt&&Ma(se,at),Ne}return function se(K,J,ae,Ne){if(typeof ae=="object"&&ae!==null&&ae.type===l&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:e:{for(var ct=ae.key,Ce=J;Ce!==null;){if(Ce.key===ct){if((ct=ae.type)===l){if(Ce.tag===7){w(K,Ce.sibling),(J=A(Ce,ae.props.children)).return=K,K=J;break e}}else if(Ce.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&eS(ct)===Ce.type){w(K,Ce.sibling),(J=A(Ce,ae.props)).ref=kc(K,Ce,ae),J.return=K,K=J;break e}w(K,Ce);break}m(K,Ce),Ce=Ce.sibling}ae.type===l?((J=La(ae.props.children,K.mode,Ne,ae.key)).return=K,K=J):((Ne=xf(ae.type,ae.key,ae.props,null,K.mode,Ne)).ref=kc(K,J,ae),Ne.return=K,K=Ne)}return U(K);case u:e:{for(Ce=ae.key;J!==null;){if(J.key===Ce){if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){w(K,J.sibling),(J=A(J,ae.children||[])).return=K,K=J;break e}w(K,J);break}m(K,J),J=J.sibling}(J=_v(ae,K.mode,Ne)).return=K,K=J}return U(K);case b:return se(K,J,(Ce=ae._init)(ae._payload),Ne)}if(j(ae))return Ee(K,J,ae,Ne);if(I(ae))return We(K,J,ae,Ne);Gd(K,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,J!==null&&J.tag===6?(w(K,J.sibling),(J=A(J,ae)).return=K,K=J):(w(K,J),(J=xv(ae,K.mode,Ne)).return=K,K=J),U(K)):w(K,J)}}var Nl=tS(!0),rS=tS(!1),Ic={},Qn=Ao(Ic),Mc=Ao(Ic),Bl=Ao(Ic);function rs(f){if(f===Ic)throw Error(s(174));return f}function N0(f,m){yt(Bl,m),yt(Mc,f),yt(Qn,Ic),f=q(m),It(Qn),yt(Qn,f)}function Fl(){It(Qn),It(Mc),It(Bl)}function nS(f){var m=rs(Bl.current),w=rs(Qn.current);w!==(m=$(w,f.type,m))&&(yt(Mc,f),yt(Qn,m))}function B0(f){Mc.current===f&&(It(Qn),It(Mc))}var zt=Ao(0);function Wd(f){for(var m=f;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&((w=w.dehydrated)===null||Mb(w)||l0(w)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(128&m.flags)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var F0=[];function L0(){for(var f=0;f<F0.length;f++){var m=F0[f];$e?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}F0.length=0}var Vd=o.ReactCurrentDispatcher,D0=o.ReactCurrentBatchConfig,Oa=0,Bt=null,gr=null,vr=null,qd=!1,Rc=!1,Oc=0,pN=0;function Lr(){throw Error(s(321))}function U0(f,m){if(m===null)return!1;for(var w=0;w<m.length&&w<f.length;w++)if(!yi(f[w],m[w]))return!1;return!0}function j0(f,m,w,E,A,R){if(Oa=R,Bt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Vd.current=f===null||f.memoizedState===null?yN:xN,f=w(E,A),Rc){R=0;do{if(Rc=!1,Oc=0,25<=R)throw Error(s(301));R+=1,vr=gr=null,m.updateQueue=null,Vd.current=_N,f=w(E,A)}while(Rc)}if(Vd.current=Zd,m=gr!==null&&gr.next!==null,Oa=0,vr=gr=Bt=null,qd=!1,m)throw Error(s(300));return f}function X0(){var f=Oc!==0;return Oc=0,f}function ns(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Bt.memoizedState=vr=f:vr=vr.next=f,vr}function Zn(){if(gr===null){var f=Bt.alternate;f=f!==null?f.memoizedState:null}else f=gr.next;var m=vr===null?Bt.memoizedState:vr.next;if(m!==null)vr=m,gr=f;else{if(f===null)throw Error(s(310));f={memoizedState:(gr=f).memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},vr===null?Bt.memoizedState=vr=f:vr=vr.next=f}return vr}function Nc(f,m){return typeof m=="function"?m(f):m}function $0(f){var m=Zn(),w=m.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=f;var E=gr,A=E.baseQueue,R=w.pending;if(R!==null){if(A!==null){var U=A.next;A.next=R.next,R.next=U}E.baseQueue=A=R,w.pending=null}if(A!==null){R=A.next,E=E.baseState;var Y=U=null,Q=null,ee=R;do{var ie=ee.lane;if((Oa&ie)===ie)Q!==null&&(Q=Q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),E=ee.hasEagerState?ee.eagerState:f(E,ee.action);else{var ve={lane:ie,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};Q===null?(Y=Q=ve,U=E):Q=Q.next=ve,Bt.lanes|=ie,Na|=ie}ee=ee.next}while(ee!==null&&ee!==R);Q===null?U=E:Q.next=Y,yi(E,m.memoizedState)||(cn=!0),m.memoizedState=E,m.baseState=U,m.baseQueue=Q,w.lastRenderedState=E}if((f=w.interleaved)!==null){A=f;do R=A.lane,Bt.lanes|=R,Na|=R,A=A.next;while(A!==f)}else A===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function H0(f){var m=Zn(),w=m.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=f;var E=w.dispatch,A=w.pending,R=m.memoizedState;if(A!==null){w.pending=null;var U=A=A.next;do R=f(R,U.action),U=U.next;while(U!==A);yi(R,m.memoizedState)||(cn=!0),m.memoizedState=R,m.baseQueue===null&&(m.baseState=R),w.lastRenderedState=R}return[R,E]}function iS(){}function sS(f,m){var w=Bt,E=Zn(),A=m(),R=!yi(E.memoizedState,A);if(R&&(E.memoizedState=A,cn=!0),E=E.queue,z0(lS.bind(null,w,E,f),[f]),E.getSnapshot!==m||R||vr!==null&&1&vr.memoizedState.tag){if(w.flags|=2048,Bc(9,aS.bind(null,w,E,A,m),void 0,null),yr===null)throw Error(s(349));30&Oa||oS(w,m,A)}return A}function oS(f,m,w){f.flags|=16384,f={getSnapshot:m,value:w},(m=Bt.updateQueue)===null?(m={lastEffect:null,stores:null},Bt.updateQueue=m,m.stores=[f]):(w=m.stores)===null?m.stores=[f]:w.push(f)}function aS(f,m,w,E){m.value=w,m.getSnapshot=E,uS(m)&&cS(f)}function lS(f,m,w){return w(function(){uS(m)&&cS(f)})}function uS(f){var m=f.getSnapshot;f=f.value;try{var w=m();return!yi(f,w)}catch{return!0}}function cS(f){var m=ts(f,1);m!==null&&Jn(m,f,1,-1)}function hS(f){var m=ns();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:f},m.queue=f,f=f.dispatch=vN.bind(null,Bt,f),[m.memoizedState,f]}function Bc(f,m,w,E){return f={tag:f,create:m,destroy:w,deps:E,next:null},(m=Bt.updateQueue)===null?(m={lastEffect:null,stores:null},Bt.updateQueue=m,m.lastEffect=f.next=f):(w=m.lastEffect)===null?m.lastEffect=f.next=f:(E=w.next,w.next=f,f.next=E,m.lastEffect=f),f}function dS(){return Zn().memoizedState}function Kd(f,m,w,E){var A=ns();Bt.flags|=f,A.memoizedState=Bc(1|m,w,void 0,E===void 0?null:E)}function Qd(f,m,w,E){var A=Zn();E=E===void 0?null:E;var R=void 0;if(gr!==null){var U=gr.memoizedState;if(R=U.destroy,E!==null&&U0(E,U.deps))return void(A.memoizedState=Bc(m,w,R,E))}Bt.flags|=f,A.memoizedState=Bc(1|m,w,R,E)}function fS(f,m){return Kd(8390656,8,f,m)}function z0(f,m){return Qd(2048,8,f,m)}function pS(f,m){return Qd(4,2,f,m)}function mS(f,m){return Qd(4,4,f,m)}function gS(f,m){return typeof m=="function"?(f=f(),m(f),function(){m(null)}):m!=null?(f=f(),m.current=f,function(){m.current=null}):void 0}function vS(f,m,w){return w=w!=null?w.concat([f]):null,Qd(4,4,gS.bind(null,m,f),w)}function Y0(){}function yS(f,m){var w=Zn();m=m===void 0?null:m;var E=w.memoizedState;return E!==null&&m!==null&&U0(m,E[1])?E[0]:(w.memoizedState=[f,m],f)}function xS(f,m){var w=Zn();m=m===void 0?null:m;var E=w.memoizedState;return E!==null&&m!==null&&U0(m,E[1])?E[0]:(f=f(),w.memoizedState=[f,m],f)}function _S(f,m,w){return 21&Oa?(yi(w,m)||(w=Bb(),Bt.lanes|=w,Na|=w,f.baseState=!0),m):(f.baseState&&(f.baseState=!1,cn=!0),f.memoizedState=w)}function mN(f,m){var w=ot;ot=w!==0&&4>w?w:4,f(!0);var E=D0.transition;D0.transition={};try{f(!1),m()}finally{ot=w,D0.transition=E}}function wS(){return Zn().memoizedState}function gN(f,m,w){var E=No(f);w={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null},bS(f)?SS(m,w):(w=Gb(f,m,w,E))!==null&&(Jn(w,f,E,Ur()),TS(w,m,E))}function vN(f,m,w){var E=No(f),A={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null};if(bS(f))SS(m,A);else{var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=m.lastRenderedReducer)!==null)try{var U=m.lastRenderedState,Y=R(U,w);if(A.hasEagerState=!0,A.eagerState=Y,yi(Y,U)){var Q=m.interleaved;return Q===null?(A.next=A,I0(m)):(A.next=Q.next,Q.next=A),void(m.interleaved=A)}}catch{}(w=Gb(f,m,A,E))!==null&&(Jn(w,f,E,A=Ur()),TS(w,m,E))}}function bS(f){var m=f.alternate;return f===Bt||m!==null&&m===Bt}function SS(f,m){Rc=qd=!0;var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}function TS(f,m,w){if(4194240&w){var E=m.lanes;w|=E&=f.pendingLanes,m.lanes=w,v0(f,w)}}var Zd={readContext:Kn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},yN={readContext:Kn,useCallback:function(f,m){return ns().memoizedState=[f,m===void 0?null:m],f},useContext:Kn,useEffect:fS,useImperativeHandle:function(f,m,w){return w=w!=null?w.concat([f]):null,Kd(4194308,4,gS.bind(null,m,f),w)},useLayoutEffect:function(f,m){return Kd(4194308,4,f,m)},useInsertionEffect:function(f,m){return Kd(4,2,f,m)},useMemo:function(f,m){var w=ns();return m=m===void 0?null:m,f=f(),w.memoizedState=[f,m],f},useReducer:function(f,m,w){var E=ns();return m=w!==void 0?w(m):m,E.memoizedState=E.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},E.queue=f,f=f.dispatch=gN.bind(null,Bt,f),[E.memoizedState,f]},useRef:function(f){return f={current:f},ns().memoizedState=f},useState:hS,useDebugValue:Y0,useDeferredValue:function(f){return ns().memoizedState=f},useTransition:function(){var f=hS(!1),m=f[0];return f=mN.bind(null,f[1]),ns().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,w){var E=Bt,A=ns();if(Mt){if(w===void 0)throw Error(s(407));w=w()}else{if(w=m(),yr===null)throw Error(s(349));30&Oa||oS(E,m,w)}A.memoizedState=w;var R={value:w,getSnapshot:m};return A.queue=R,fS(lS.bind(null,E,R,f),[f]),E.flags|=2048,Bc(9,aS.bind(null,E,R,w,m),void 0,null),w},useId:function(){var f=ns(),m=yr.identifierPrefix;if(Mt){var w=$s;m=":"+m+"R"+(w=(es&~(1<<32-vi(es)-1)).toString(32)+w),0<(w=Oc++)&&(m+="H"+w.toString(32)),m+=":"}else m=":"+m+"r"+(w=pN++).toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},xN={readContext:Kn,useCallback:yS,useContext:Kn,useEffect:z0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:mS,useMemo:xS,useReducer:$0,useRef:dS,useState:function(){return $0(Nc)},useDebugValue:Y0,useDeferredValue:function(f){return _S(Zn(),gr.memoizedState,f)},useTransition:function(){return[$0(Nc)[0],Zn().memoizedState]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1},_N={readContext:Kn,useCallback:yS,useContext:Kn,useEffect:z0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:mS,useMemo:xS,useReducer:H0,useRef:dS,useState:function(){return H0(Nc)},useDebugValue:Y0,useDeferredValue:function(f){var m=Zn();return gr===null?m.memoizedState=f:_S(m,gr.memoizedState,f)},useTransition:function(){return[H0(Nc)[0],Zn().memoizedState]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1};function Ll(f,m){try{var w="",E=m;do w+=fN(E),E=E.return;while(E);var A=w}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:f,source:m,stack:A,digest:null}}function G0(f,m,w){return{value:f,source:null,stack:w??null,digest:m??null}}function W0(f,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var wN=typeof WeakMap=="function"?WeakMap:Map;function ES(f,m,w){(w=Hs(-1,w)).tag=3,w.payload={element:null};var E=m.value;return w.callback=function(){ff||(ff=!0,dv=E),W0(0,m)},w}function CS(f,m,w){(w=Hs(-1,w)).tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var A=m.value;w.payload=function(){return E(A)},w.callback=function(){W0(0,m)}}var R=f.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(w.callback=function(){W0(0,m),typeof E!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})}),w}function AS(f,m,w){var E=f.pingCache;if(E===null){E=f.pingCache=new wN;var A=new Set;E.set(m,A)}else(A=E.get(m))===void 0&&(A=new Set,E.set(m,A));A.has(w)||(A.add(w),f=IN.bind(null,f,m,w),m.then(f,f))}function PS(f){do{var m;if((m=f.tag===13)&&(m=(m=f.memoizedState)===null||m.dehydrated!==null),m)return f;f=f.return}while(f!==null);return null}function kS(f,m,w,E,A){return 1&f.mode?(f.flags|=65536,f.lanes=A,f):(f===m?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:((m=Hs(-1,1)).tag=2,Io(w,m,1))),w.lanes|=1),f)}var bN=o.ReactCurrentOwner,cn=!1;function hn(f,m,w,E){m.child=f===null?rS(m,null,w,E):Nl(m,f.child,w,E)}function IS(f,m,w,E,A){w=w.render;var R=m.ref;return Ol(m,A),E=j0(f,m,w,E,R,A),w=X0(),f===null||cn?(Mt&&w&&w0(m),m.flags|=1,hn(f,m,E,A),m.child):(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~A,zs(f,m,A))}function MS(f,m,w,E,A){if(f===null){var R=w.type;return typeof R!="function"||yv(R)||R.defaultProps!==void 0||w.compare!==null||w.defaultProps!==void 0?((f=xf(w.type,null,E,m,m.mode,A)).ref=m.ref,f.return=m,m.child=f):(m.tag=15,m.type=R,RS(f,m,R,E,A))}if(R=f.child,(f.lanes&A)==0){var U=R.memoizedProps;if((w=(w=w.compare)!==null?w:jd)(U,E)&&f.ref===m.ref)return zs(f,m,A)}return m.flags|=1,(f=Fo(R,E)).ref=m.ref,f.return=m,m.child=f}function RS(f,m,w,E,A){if(f!==null){var R=f.memoizedProps;if(jd(R,E)&&f.ref===m.ref){if(cn=!1,m.pendingProps=E=R,(f.lanes&A)==0)return m.lanes=f.lanes,zs(f,m,A);131072&f.flags&&(cn=!0)}}return V0(f,m,w,E,A)}function OS(f,m,w){var E=m.pendingProps,A=E.children,R=f!==null?f.memoizedState:null;if(E.mode==="hidden")if(!(1&m.mode))m.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ul,Pn),Pn|=w;else{if(!(1073741824&w))return f=R!==null?R.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null,transitions:null},m.updateQueue=null,yt(Ul,Pn),Pn|=f,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=R!==null?R.baseLanes:w,yt(Ul,Pn),Pn|=E}else R!==null?(E=R.baseLanes|w,m.memoizedState=null):E=w,yt(Ul,Pn),Pn|=E;return hn(f,m,A,w),m.child}function NS(f,m){var w=m.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function V0(f,m,w,E,A){var R=Cn(w)?ka:Fr.current;return R=Pl(m,R),Ol(m,A),w=j0(f,m,w,E,R,A),E=X0(),f===null||cn?(Mt&&E&&w0(m),m.flags|=1,hn(f,m,w,A),m.child):(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~A,zs(f,m,A))}function BS(f,m,w,E,A){if(Cn(w)){var R=!0;Od(m)}else R=!1;if(Ol(m,A),m.stateNode===null)rf(f,m),Zb(m,w,E),O0(m,w,E,A),E=!0;else if(f===null){var U=m.stateNode,Y=m.memoizedProps;U.props=Y;var Q=U.context,ee=w.contextType;typeof ee=="object"&&ee!==null?ee=Kn(ee):ee=Pl(m,ee=Cn(w)?ka:Fr.current);var ie=w.getDerivedStateFromProps,ve=typeof ie=="function"||typeof U.getSnapshotBeforeUpdate=="function";ve||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==E||Q!==ee)&&Jb(m,U,E,ee),ko=!1;var re=m.memoizedState;U.state=re,zd(m,E,U,A),Q=m.memoizedState,Y!==E||re!==Q||un.current||ko?(typeof ie=="function"&&(R0(m,w,ie,E),Q=m.memoizedState),(Y=ko||Qb(m,w,Y,E,re,Q,ee))?(ve||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=Q),U.props=E,U.state=Q,U.context=ee,E=Y):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{U=m.stateNode,Wb(f,m),Y=m.memoizedProps,ee=m.type===m.elementType?Y:_i(m.type,Y),U.props=ee,ve=m.pendingProps,re=U.context,typeof(Q=w.contextType)=="object"&&Q!==null?Q=Kn(Q):Q=Pl(m,Q=Cn(w)?ka:Fr.current);var he=w.getDerivedStateFromProps;(ie=typeof he=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==ve||re!==Q)&&Jb(m,U,E,Q),ko=!1,re=m.memoizedState,U.state=re,zd(m,E,U,A);var Ee=m.memoizedState;Y!==ve||re!==Ee||un.current||ko?(typeof he=="function"&&(R0(m,w,he,E),Ee=m.memoizedState),(ee=ko||Qb(m,w,ee,E,re,Ee,Q)||!1)?(ie||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(E,Ee,Q),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(E,Ee,Q)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===f.memoizedProps&&re===f.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&re===f.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=Ee),U.props=E,U.state=Ee,U.context=Q,E=ee):(typeof U.componentDidUpdate!="function"||Y===f.memoizedProps&&re===f.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&re===f.memoizedState||(m.flags|=1024),E=!1)}return q0(f,m,w,E,R,A)}function q0(f,m,w,E,A,R){NS(f,m);var U=(128&m.flags)!=0;if(!E&&!U)return A&&Nb(m,w,!1),zs(f,m,R);E=m.stateNode,bN.current=m;var Y=U&&typeof w.getDerivedStateFromError!="function"?null:E.render();return m.flags|=1,f!==null&&U?(m.child=Nl(m,f.child,null,R),m.child=Nl(m,null,Y,R)):hn(f,m,Y,R),m.memoizedState=E.state,A&&Nb(m,w,!0),m.child}function FS(f){var m=f.stateNode;m.pendingContext?Rb(0,m.pendingContext,m.pendingContext!==m.context):m.context&&Rb(0,m.context,!1),N0(f,m.containerInfo)}function LS(f,m,w,E,A){return Ml(),E0(A),m.flags|=256,hn(f,m,w,E),m.child}var Fc,Lc,Jd,ef,K0={dehydrated:null,treeContext:null,retryLane:0};function Q0(f){return{baseLanes:f,cachePool:null,transitions:null}}function DS(f,m,w){var E,A=m.pendingProps,R=zt.current,U=!1,Y=(128&m.flags)!=0;if((E=Y)||(E=(f===null||f.memoizedState!==null)&&(2&R)!=0),E?(U=!0,m.flags&=-129):f!==null&&f.memoizedState===null||(R|=1),yt(zt,1&R),f===null)return T0(m),(f=m.memoizedState)!==null&&(f=f.dehydrated)!==null?(1&m.mode?l0(f)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(Y=A.children,f=A.fallback,U?(A=m.mode,U=m.child,Y={mode:"hidden",children:Y},!(1&A)&&U!==null?(U.childLanes=0,U.pendingProps=Y):U=_f(Y,A,0,null),f=La(f,A,w,null),U.return=m,f.return=m,U.sibling=f,m.child=U,m.child.memoizedState=Q0(w),m.memoizedState=K0,f):Z0(m,Y));if((R=f.memoizedState)!==null&&(E=R.dehydrated)!==null)return function(ee,ie,ve,re,he,Ee,We){if(ve)return 256&ie.flags?(ie.flags&=-257,tf(ee,ie,We,re=G0(Error(s(422))))):ie.memoizedState!==null?(ie.child=ee.child,ie.flags|=128,null):(Ee=re.fallback,he=ie.mode,re=_f({mode:"visible",children:re.children},he,0,null),(Ee=La(Ee,he,We,null)).flags|=2,re.return=ie,Ee.return=ie,re.sibling=Ee,ie.child=re,1&ie.mode&&Nl(ie,ee.child,null,We),ie.child.memoizedState=Q0(We),ie.memoizedState=K0,Ee);if(!(1&ie.mode))return tf(ee,ie,We,null);if(l0(he))return re=$O(he).digest,Ee=Error(s(419)),re=G0(Ee,re,void 0),tf(ee,ie,We,re);if(ve=(We&ee.childLanes)!=0,cn||ve){if((re=yr)!==null){switch(We&-We){case 4:he=2;break;case 16:he=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:he=32;break;case 536870912:he=268435456;break;default:he=0}(he=he&(re.suspendedLanes|We)?0:he)!==0&&he!==Ee.retryLane&&(Ee.retryLane=he,ts(ee,he),Jn(re,ee,he,-1))}return vv(),tf(ee,ie,We,re=G0(Error(s(421))))}return Mb(he)?(ie.flags|=128,ie.child=ee.child,ie=MN.bind(null,ee),HO(he,ie),null):(ee=Ee.treeContext,et&&(qn=GO(he),An=ie,Mt=!0,xi=null,Pc=!1,ee!==null&&(Wn[Vn++]=es,Wn[Vn++]=$s,Wn[Vn++]=Ia,es=ee.id,$s=ee.overflow,Ia=ie)),ie=Z0(ie,re.children),ie.flags|=4096,ie)}(f,m,Y,A,E,R,w);if(U){U=A.fallback,Y=m.mode,E=(R=f.child).sibling;var Q={mode:"hidden",children:A.children};return!(1&Y)&&m.child!==R?((A=m.child).childLanes=0,A.pendingProps=Q,m.deletions=null):(A=Fo(R,Q)).subtreeFlags=14680064&R.subtreeFlags,E!==null?U=Fo(E,U):(U=La(U,Y,w,null)).flags|=2,U.return=m,A.return=m,A.sibling=U,m.child=A,A=U,U=m.child,Y=(Y=f.child.memoizedState)===null?Q0(w):{baseLanes:Y.baseLanes|w,cachePool:null,transitions:Y.transitions},U.memoizedState=Y,U.childLanes=f.childLanes&~w,m.memoizedState=K0,A}return f=(U=f.child).sibling,A=Fo(U,{mode:"visible",children:A.children}),!(1&m.mode)&&(A.lanes=w),A.return=m,A.sibling=null,f!==null&&((w=m.deletions)===null?(m.deletions=[f],m.flags|=16):w.push(f)),m.child=A,m.memoizedState=null,A}function Z0(f,m){return(m=_f({mode:"visible",children:m},f.mode,0,null)).return=f,f.child=m}function tf(f,m,w,E){return E!==null&&E0(E),Nl(m,f.child,null,w),(f=Z0(m,m.pendingProps.children)).flags|=2,m.memoizedState=null,f}function US(f,m,w){f.lanes|=m;var E=f.alternate;E!==null&&(E.lanes|=m),k0(f.return,m,w)}function J0(f,m,w,E,A){var R=f.memoizedState;R===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:w,tailMode:A}:(R.isBackwards=m,R.rendering=null,R.renderingStartTime=0,R.last=E,R.tail=w,R.tailMode=A)}function jS(f,m,w){var E=m.pendingProps,A=E.revealOrder,R=E.tail;if(hn(f,m,E.children,w),(2&(E=zt.current))!=0)E=1&E|2,m.flags|=128;else{if(f!==null&&128&f.flags)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&US(f,w,m);else if(f.tag===19)US(f,w,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(yt(zt,E),(1&m.mode)==0)m.memoizedState=null;else switch(A){case"forwards":for(w=m.child,A=null;w!==null;)(f=w.alternate)!==null&&Wd(f)===null&&(A=w),w=w.sibling;(w=A)===null?(A=m.child,m.child=null):(A=w.sibling,w.sibling=null),J0(m,!1,A,w,R);break;case"backwards":for(w=null,A=m.child,m.child=null;A!==null;){if((f=A.alternate)!==null&&Wd(f)===null){m.child=A;break}f=A.sibling,A.sibling=w,w=A,A=f}J0(m,!0,w,null,R);break;case"together":J0(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function rf(f,m){!(1&m.mode)&&f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2)}function zs(f,m,w){if(f!==null&&(m.dependencies=f.dependencies),Na|=m.lanes,(w&m.childLanes)==0)return null;if(f!==null&&m.child!==f.child)throw Error(s(153));if(m.child!==null){for(w=Fo(f=m.child,f.pendingProps),m.child=w,w.return=m;f.sibling!==null;)f=f.sibling,(w=w.sibling=Fo(f,f.pendingProps)).return=m;w.sibling=null}return m.child}function is(f){f.flags|=4}function XS(f,m){if(f!==null&&f.child===m.child)return!0;if(16&m.flags)return!1;for(f=m.child;f!==null;){if(12854&f.flags||12854&f.subtreeFlags)return!1;f=f.sibling}return!0}if(Le)Fc=function(f,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)Z(f,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Lc=function(){},Jd=function(f,m,w,E,A){if((f=f.memoizedProps)!==E){var R=m.stateNode,U=rs(Qn.current);w=le(R,w,f,E,A,U),(m.updateQueue=w)&&is(m)}},ef=function(f,m,w,E){w!==E&&is(m)};else if(ut){Fc=function(f,m,w,E){for(var A=m.child;A!==null;){if(A.tag===5){var R=A.stateNode;w&&E&&(R=kb(R,A.type,A.memoizedProps,A)),Z(f,R)}else if(A.tag===6)R=A.stateNode,w&&E&&(R=Ib(R,A.memoizedProps,A)),Z(f,R);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(R=A.child)!==null&&(R.return=A),Fc(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var $S=function(f,m,w,E){for(var A=m.child;A!==null;){if(A.tag===5){var R=A.stateNode;w&&E&&(R=kb(R,A.type,A.memoizedProps,A)),Pb(f,R)}else if(A.tag===6)R=A.stateNode,w&&E&&(R=Ib(R,A.memoizedProps,A)),Pb(f,R);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(R=A.child)!==null&&(R.return=A),$S(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Lc=function(f,m){var w=m.stateNode;if(!XS(f,m)){f=w.containerInfo;var E=Ab(f);$S(E,m,!1,!1),w.pendingChildren=E,is(m),DO(f,E)}},Jd=function(f,m,w,E,A){var R=f.stateNode,U=f.memoizedProps;if((f=XS(f,m))&&U===E)m.stateNode=R;else{var Y=m.stateNode,Q=rs(Qn.current),ee=null;U!==E&&(ee=le(Y,w,U,E,A,Q)),f&&ee===null?m.stateNode=R:(R=LO(R,ee,w,U,E,m,f,Y),te(R,w,E,A,Q)&&is(m),m.stateNode=R,f?is(m):Fc(R,m,!1,!1))}},ef=function(f,m,w,E){w!==E?(f=rs(Bl.current),w=rs(Qn.current),m.stateNode=Pe(E,f,w,m),is(m)):m.stateNode=f.stateNode}}else Lc=function(){},Jd=function(){},ef=function(){};function Dc(f,m){if(!Mt)switch(f.tailMode){case"hidden":m=f.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function Jr(f){var m=f.alternate!==null&&f.alternate.child===f.child,w=0,E=0;if(m)for(var A=f.child;A!==null;)w|=A.lanes|A.childLanes,E|=14680064&A.subtreeFlags,E|=14680064&A.flags,A.return=f,A=A.sibling;else for(A=f.child;A!==null;)w|=A.lanes|A.childLanes,E|=A.subtreeFlags,E|=A.flags,A.return=f,A=A.sibling;return f.subtreeFlags|=E,f.childLanes=w,m}function SN(f,m,w){var E=m.pendingProps;switch(b0(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(m),null;case 1:case 17:return Cn(m.type)&&d0(),Jr(m),null;case 3:return w=m.stateNode,Fl(),It(un),It(Fr),L0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),f!==null&&f.child!==null||(Ud(m)?is(m):f===null||f.memoizedState.isDehydrated&&!(256&m.flags)||(m.flags|=1024,xi!==null&&(mv(xi),xi=null))),Lc(f,m),Jr(m),null;case 5:B0(m),w=rs(Bl.current);var A=m.type;if(f!==null&&m.stateNode!=null)Jd(f,m,A,E,w),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!E){if(m.stateNode===null)throw Error(s(166));return Jr(m),null}if(f=rs(Qn.current),Ud(m)){if(!et)throw Error(s(175));f=WO(m.stateNode,m.type,m.memoizedProps,w,f,m,!Pc),m.updateQueue=f,f!==null&&is(m)}else{var R=V(A,E,w,f,m);Fc(R,m,!1,!1),m.stateNode=R,te(R,A,E,w,f)&&is(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Jr(m),null;case 6:if(f&&m.stateNode!=null)ef(f,m,f.memoizedProps,E);else{if(typeof E!="string"&&m.stateNode===null)throw Error(s(166));if(f=rs(Bl.current),w=rs(Qn.current),Ud(m)){if(!et)throw Error(s(176));if(f=m.stateNode,w=m.memoizedProps,(E=VO(f,w,m,!Pc))&&(A=An)!==null)switch(A.tag){case 3:rN(A.stateNode.containerInfo,f,w,(1&A.mode)!=0);break;case 5:nN(A.type,A.memoizedProps,A.stateNode,f,w,(1&A.mode)!=0)}E&&is(m)}else m.stateNode=Pe(E,f,w,m)}return Jr(m),null;case 13:if(It(zt),E=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Mt&&qn!==null&&1&m.mode&&!(128&m.flags))zb(),Ml(),m.flags|=98560,A=!1;else if(A=Ud(m),E!==null&&E.dehydrated!==null){if(f===null){if(!A)throw Error(s(318));if(!et)throw Error(s(344));if(!(A=(A=m.memoizedState)!==null?A.dehydrated:null))throw Error(s(317));qO(A,m)}else Ml(),!(128&m.flags)&&(m.memoizedState=null),m.flags|=4;Jr(m),A=!1}else xi!==null&&(mv(xi),xi=null),A=!0;if(!A)return 65536&m.flags?m:null}return 128&m.flags?(m.lanes=w,m):((w=E!==null)!=(f!==null&&f.memoizedState!==null)&&w&&(m.child.flags|=8192,1&m.mode&&(f===null||1&zt.current?or===0&&(or=3):vv())),m.updateQueue!==null&&(m.flags|=4),Jr(m),null);case 4:return Fl(),Lc(f,m),f===null&&Br(m.stateNode.containerInfo),Jr(m),null;case 10:return P0(m.type._context),Jr(m),null;case 19:if(It(zt),(A=m.memoizedState)===null)return Jr(m),null;if(E=(128&m.flags)!=0,(R=A.rendering)===null)if(E)Dc(A,!1);else{if(or!==0||f!==null&&128&f.flags)for(f=m.child;f!==null;){if((R=Wd(f))!==null){for(m.flags|=128,Dc(A,!1),(f=R.updateQueue)!==null&&(m.updateQueue=f,m.flags|=4),m.subtreeFlags=0,f=w,w=m.child;w!==null;)A=f,(E=w).flags&=14680066,(R=E.alternate)===null?(E.childLanes=0,E.lanes=A,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,A=R.dependencies,E.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),w=w.sibling;return yt(zt,1&zt.current|2),m.child}f=f.sibling}A.tail!==null&&mr()>hv&&(m.flags|=128,E=!0,Dc(A,!1),m.lanes=4194304)}else{if(!E)if((f=Wd(R))!==null){if(m.flags|=128,E=!0,(f=f.updateQueue)!==null&&(m.updateQueue=f,m.flags|=4),Dc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!R.alternate&&!Mt)return Jr(m),null}else 2*mr()-A.renderingStartTime>hv&&w!==1073741824&&(m.flags|=128,E=!0,Dc(A,!1),m.lanes=4194304);A.isBackwards?(R.sibling=m.child,m.child=R):((f=A.last)!==null?f.sibling=R:m.child=R,A.last=R)}return A.tail!==null?(m=A.tail,A.rendering=m,A.tail=m.sibling,A.renderingStartTime=mr(),m.sibling=null,f=zt.current,yt(zt,E?1&f|2:1&f),m):(Jr(m),null);case 22:case 23:return gv(),w=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(m.flags|=8192),w&&1&m.mode?1073741824&Pn&&(Jr(m),Le&&6&m.subtreeFlags&&(m.flags|=8192)):Jr(m),null;case 24:case 25:return null}throw Error(s(156,m.tag))}function TN(f,m){switch(b0(m),m.tag){case 1:return Cn(m.type)&&d0(),65536&(f=m.flags)?(m.flags=-65537&f|128,m):null;case 3:return Fl(),It(un),It(Fr),L0(),65536&(f=m.flags)&&!(128&f)?(m.flags=-65537&f|128,m):null;case 5:return B0(m),null;case 13:if(It(zt),(f=m.memoizedState)!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(s(340));Ml()}return 65536&(f=m.flags)?(m.flags=-65537&f|128,m):null;case 19:return It(zt),null;case 4:return Fl(),null;case 10:return P0(m.type._context),null;case 22:case 23:return gv(),null;default:return null}}var nf=!1,Dr=!1,EN=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Dl(f,m){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(E){Rt(f,m,E)}else w.current=null}function HS(f,m,w){try{w()}catch(E){Rt(f,m,E)}}var zS=!1;function Uc(f,m,w){var E=m.updateQueue;if((E=E!==null?E.lastEffect:null)!==null){var A=E=E.next;do{if((A.tag&f)===f){var R=A.destroy;A.destroy=void 0,R!==void 0&&HS(m,w,R)}A=A.next}while(A!==E)}}function sf(f,m){if((m=(m=m.updateQueue)!==null?m.lastEffect:null)!==null){var w=m=m.next;do{if((w.tag&f)===f){var E=w.create;w.destroy=E()}w=w.next}while(w!==m)}}function ev(f){var m=f.ref;if(m!==null){var w=f.stateNode;f.tag===5?f=z(w):f=w,typeof m=="function"?m(f):m.current=f}}function YS(f){var m=f.alternate;m!==null&&(f.alternate=null,YS(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode)!==null&&Cl(m),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function GS(f){return f.tag===5||f.tag===3||f.tag===4}function WS(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||GS(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(2&f.flags||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(2&f.flags))return f.stateNode}}function tv(f,m,w){var E=f.tag;if(E===5||E===6)f=f.stateNode,m?kO(w,f,m):TO(w,f);else if(E!==4&&(f=f.child)!==null)for(tv(f,m,w),f=f.sibling;f!==null;)tv(f,m,w),f=f.sibling}function rv(f,m,w){var E=f.tag;if(E===5||E===6)f=f.stateNode,m?PO(w,f,m):SO(w,f);else if(E!==4&&(f=f.child)!==null)for(rv(f,m,w),f=f.sibling;f!==null;)rv(f,m,w),f=f.sibling}var en=null,ss=!1;function os(f,m,w){for(w=w.child;w!==null;)nv(f,m,w),w=w.sibling}function nv(f,m,w){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(Bd,w)}catch{}switch(w.tag){case 5:Dr||Dl(w,m);case 6:if(Le){var E=en,A=ss;en=null,os(f,m,w),ss=A,(en=E)!==null&&(ss?MO(en,w.stateNode):IO(en,w.stateNode))}else os(f,m,w);break;case 18:Le&&en!==null&&(ss?eN(en,w.stateNode):JO(en,w.stateNode));break;case 4:Le?(E=en,A=ss,en=w.stateNode.containerInfo,ss=!0,os(f,m,w),en=E,ss=A):(ut&&(E=w.stateNode.containerInfo,A=Ab(E),a0(E,A)),os(f,m,w));break;case 0:case 11:case 14:case 15:if(!Dr&&(E=w.updateQueue)!==null&&(E=E.lastEffect)!==null){A=E=E.next;do{var R=A,U=R.destroy;R=R.tag,U!==void 0&&(2&R||4&R)&&HS(w,m,U),A=A.next}while(A!==E)}os(f,m,w);break;case 1:if(!Dr&&(Dl(w,m),typeof(E=w.stateNode).componentWillUnmount=="function"))try{E.props=w.memoizedProps,E.state=w.memoizedState,E.componentWillUnmount()}catch(Y){Rt(w,m,Y)}os(f,m,w);break;case 21:os(f,m,w);break;case 22:1&w.mode?(Dr=(E=Dr)||w.memoizedState!==null,os(f,m,w),Dr=E):os(f,m,w);break;default:os(f,m,w)}}function VS(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new EN),m.forEach(function(E){var A=RN.bind(null,f,E);w.has(E)||(w.add(E),E.then(A,A))})}}function wi(f,m){var w=m.deletions;if(w!==null)for(var E=0;E<w.length;E++){var A=w[E];try{var R=f,U=m;if(Le){var Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:en=Y.stateNode,ss=!1;break e;case 3:case 4:en=Y.stateNode.containerInfo,ss=!0;break e}Y=Y.return}if(en===null)throw Error(s(160));nv(R,U,A),en=null,ss=!1}else nv(R,U,A);var Q=A.alternate;Q!==null&&(Q.return=null),A.return=null}catch(ee){Rt(A,m,ee)}}if(12854&m.subtreeFlags)for(m=m.child;m!==null;)qS(m,f),m=m.sibling}function qS(f,m){var w=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(wi(m,f),as(f),4&E){try{Uc(3,f,f.return),sf(3,f)}catch(re){Rt(f,f.return,re)}try{Uc(5,f,f.return)}catch(re){Rt(f,f.return,re)}}break;case 1:wi(m,f),as(f),512&E&&w!==null&&Dl(w,w.return);break;case 5:if(wi(m,f),as(f),512&E&&w!==null&&Dl(w,w.return),Le){if(32&f.flags){var A=f.stateNode;try{Cb(A)}catch(re){Rt(f,f.return,re)}}if(4&E&&(A=f.stateNode)!=null){var R=f.memoizedProps;if(w=w!==null?w.memoizedProps:R,E=f.type,m=f.updateQueue,f.updateQueue=null,m!==null)try{AO(A,m,E,w,R,f)}catch(re){Rt(f,f.return,re)}}}break;case 6:if(wi(m,f),as(f),4&E&&Le){if(f.stateNode===null)throw Error(s(162));A=f.stateNode,R=f.memoizedProps,w=w!==null?w.memoizedProps:R;try{EO(A,w,R)}catch(re){Rt(f,f.return,re)}}break;case 3:if(wi(m,f),as(f),4&E){if(Le&&et&&w!==null&&w.memoizedState.isDehydrated)try{QO(m.containerInfo)}catch(re){Rt(f,f.return,re)}if(ut){A=m.containerInfo,R=m.pendingChildren;try{a0(A,R)}catch(re){Rt(f,f.return,re)}}}break;case 4:if(wi(m,f),as(f),4&E&&ut){A=(R=f.stateNode).containerInfo,R=R.pendingChildren;try{a0(A,R)}catch(re){Rt(f,f.return,re)}}break;case 13:wi(m,f),as(f),8192&(A=f.child).flags&&(R=A.memoizedState!==null,A.stateNode.isHidden=R,!R||A.alternate!==null&&A.alternate.memoizedState!==null||(cv=mr())),4&E&&VS(f);break;case 22:var U=w!==null&&w.memoizedState!==null;if(1&f.mode?(Dr=(w=Dr)||U,wi(m,f),Dr=w):wi(m,f),as(f),8192&E){if(w=f.memoizedState!==null,(f.stateNode.isHidden=w)&&!U&&(1&f.mode)!=0)for(_e=f,E=f.child;E!==null;){for(m=_e=E;_e!==null;){var Y=(U=_e).child;switch(U.tag){case 0:case 11:case 14:case 15:Uc(4,U,U.return);break;case 1:Dl(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){var ee=U,ie=U.return;try{var ve=ee;Q.props=ve.memoizedProps,Q.state=ve.memoizedState,Q.componentWillUnmount()}catch(re){Rt(ee,ie,re)}}break;case 5:Dl(U,U.return);break;case 22:if(U.memoizedState!==null){ZS(m);continue}}Y!==null?(Y.return=U,_e=Y):ZS(m)}E=E.sibling}if(Le){e:if(E=null,Le)for(m=f;;){if(m.tag===5){if(E===null){E=m;try{A=m.stateNode,w?RO(A):NO(m.stateNode,m.memoizedProps)}catch(re){Rt(f,f.return,re)}}}else if(m.tag===6){if(E===null)try{R=m.stateNode,w?OO(R):BO(R,m.memoizedProps)}catch(re){Rt(f,f.return,re)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;E===m&&(E=null),m=m.return}E===m&&(E=null),m.sibling.return=m.return,m=m.sibling}}}break;case 19:wi(m,f),as(f),4&E&&VS(f);break;case 21:break;default:wi(m,f),as(f)}}function as(f){var m=f.flags;if(2&m){try{if(Le){e:{for(var w=f.return;w!==null;){if(GS(w)){var E=w;break e}w=w.return}throw Error(s(160))}switch(E.tag){case 5:var A=E.stateNode;32&E.flags&&(Cb(A),E.flags&=-33),rv(f,WS(f),A);break;case 3:case 4:var R=E.stateNode.containerInfo;tv(f,WS(f),R);break;default:throw Error(s(161))}}}catch(U){Rt(f,f.return,U)}f.flags&=-3}4096&m&&(f.flags&=-4097)}function CN(f,m,w){_e=f,KS(f)}function KS(f,m,w){for(var E=(1&f.mode)!=0;_e!==null;){var A=_e,R=A.child;if(A.tag===22&&E){var U=A.memoizedState!==null||nf;if(!U){var Y=A.alternate,Q=Y!==null&&Y.memoizedState!==null||Dr;Y=nf;var ee=Dr;if(nf=U,(Dr=Q)&&!ee)for(_e=A;_e!==null;)Q=(U=_e).child,U.tag===22&&U.memoizedState!==null?JS(A):Q!==null?(Q.return=U,_e=Q):JS(A);for(;R!==null;)_e=R,KS(R),R=R.sibling;_e=A,nf=Y,Dr=ee}QS(f)}else 8772&A.subtreeFlags&&R!==null?(R.return=A,_e=R):QS(f)}}function QS(f){for(;_e!==null;){var m=_e;if(8772&m.flags){var w=m.alternate;try{if(8772&m.flags)switch(m.tag){case 0:case 11:case 15:Dr||sf(5,m);break;case 1:var E=m.stateNode;if(4&m.flags&&!Dr)if(w===null)E.componentDidMount();else{var A=m.elementType===m.type?w.memoizedProps:_i(m.type,w.memoizedProps);E.componentDidUpdate(A,w.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var R=m.updateQueue;R!==null&&qb(m,R,E);break;case 3:var U=m.updateQueue;if(U!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=z(m.child.stateNode);break;case 1:w=m.child.stateNode}qb(m,U,w)}break;case 5:var Y=m.stateNode;w===null&&4&m.flags&&CO(Y,m.type,m.memoizedProps,m);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(et&&m.memoizedState===null){var Q=m.alternate;if(Q!==null){var ee=Q.memoizedState;if(ee!==null){var ie=ee.dehydrated;ie!==null&&ZO(ie)}}}break;default:throw Error(s(163))}Dr||512&m.flags&&ev(m)}catch(ve){Rt(m,m.return,ve)}}if(m===f){_e=null;break}if((w=m.sibling)!==null){w.return=m.return,_e=w;break}_e=m.return}}function ZS(f){for(;_e!==null;){var m=_e;if(m===f){_e=null;break}var w=m.sibling;if(w!==null){w.return=m.return,_e=w;break}_e=m.return}}function JS(f){for(;_e!==null;){var m=_e;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{sf(4,m)}catch(Q){Rt(m,w,Q)}break;case 1:var E=m.stateNode;if(typeof E.componentDidMount=="function"){var A=m.return;try{E.componentDidMount()}catch(Q){Rt(m,A,Q)}}var R=m.return;try{ev(m)}catch(Q){Rt(m,R,Q)}break;case 5:var U=m.return;try{ev(m)}catch(Q){Rt(m,U,Q)}}}catch(Q){Rt(m,m.return,Q)}if(m===f){_e=null;break}var Y=m.sibling;if(Y!==null){Y.return=m.return,_e=Y;break}_e=m.return}}var of=0,af=1,lf=2,uf=3,cf=4;if(typeof Symbol=="function"&&Symbol.for){var jc=Symbol.for;of=jc("selector.component"),af=jc("selector.has_pseudo_class"),lf=jc("selector.role"),uf=jc("selector.test_id"),cf=jc("selector.text")}function iv(f){var m=Tr(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if((f=Co(f))===null)throw Error(s(362));return f.stateNode.current}function sv(f,m){switch(m.$$typeof){case of:if(f.type===m.value)return!0;break;case af:e:{m=m.value,f=[f,0];for(var w=0;w<f.length;){var E=f[w++],A=f[w++],R=m[A];if(E.tag!==5||!Gn(E)){for(;R!=null&&sv(E,R);)R=m[++A];if(A===m.length){m=!0;break e}for(E=E.child;E!==null;)f.push(E,A),E=E.sibling}}m=!1}return m;case lf:if(f.tag===5&&_O(f.stateNode,m.value))return!0;break;case cf:if((f.tag===5||f.tag===6)&&(f=Md(f))!==null&&0<=f.indexOf(m.value))return!0;break;case uf:if(f.tag===5&&typeof(f=f.memoizedProps["data-testname"])=="string"&&f.toLowerCase()===m.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function ov(f){switch(f.$$typeof){case of:return"<"+(P(f.value)||"Unknown")+">";case af:return":has("+(ov(f)||"")+")";case lf:return'[role="'+f.value+'"]';case cf:return'"'+f.value+'"';case uf:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function eT(f,m){var w=[];f=[f,0];for(var E=0;E<f.length;){var A=f[E++],R=f[E++],U=m[R];if(A.tag!==5||!Gn(A)){for(;U!=null&&sv(A,U);)U=m[++R];if(R===m.length)w.push(A);else for(A=A.child;A!==null;)f.push(A,R),A=A.sibling}}return w}function av(f,m){if(!Eo)throw Error(s(363));f=eT(f=iv(f),m),m=[],f=Array.from(f);for(var w=0;w<f.length;){var E=f[w++];if(E.tag===5)Gn(E)||m.push(E.stateNode);else for(E=E.child;E!==null;)f.push(E),E=E.sibling}return m}var AN=Math.ceil,hf=o.ReactCurrentDispatcher,lv=o.ReactCurrentOwner,Vt=o.ReactCurrentBatchConfig,tt=0,yr=null,er=null,Er=0,Pn=0,Ul=Ao(0),or=0,Xc=null,Na=0,df=0,uv=0,$c=null,kn=null,cv=0,hv=1/0,Mo=null;function jl(){hv=mr()+500}var tT,ff=!1,dv=null,Ro=null,pf=!1,Oo=null,mf=0,Hc=0,fv=null,gf=-1,vf=0;function Ur(){return 6&tt?mr():gf!==-1?gf:gf=mr()}function No(f){return 1&f.mode?2&tt&&Er!==0?Er&-Er:dN.transition!==null?(vf===0&&(vf=Bb()),vf):(f=ot)!==0?f:Qi():1}function Jn(f,m,w,E){if(50<Hc)throw Hc=0,fv=null,Error(s(185));Ac(f,w,E),2&tt&&f===yr||(f===yr&&(!(2&tt)&&(df|=w),or===4&&Bo(f,Er)),dn(f,E),w===1&&tt===0&&!(1&m.mode)&&(jl(),Fd&&Ji()))}function dn(f,m){var w=f.callbackNode;(function(A,R){for(var U=A.suspendedLanes,Y=A.pingedLanes,Q=A.expirationTimes,ee=A.pendingLanes;0<ee;){var ie=31-vi(ee),ve=1<<ie,re=Q[ie];re===-1?ve&U&&!(ve&Y)||(Q[ie]=aN(ve,R)):re<=R&&(A.expiredLanes|=ve),ee&=~ve}})(f,m);var E=Nd(f,f===yr?Er:0);if(E===0)w!==null&&Lb(w),f.callbackNode=null,f.callbackPriority=0;else if(m=E&-E,f.callbackPriority!==m){if(w!=null&&Lb(w),m===1)f.tag===0?function(A){Fd=!0,Ub(A)}(nT.bind(null,f)):Ub(nT.bind(null,f)),gi?Tc(function(){!(6&tt)&&Ji()}):y0(x0,Ji),w=null;else{switch(Fb(E)){case 1:w=x0;break;case 4:w=cN;break;case 16:default:w=Db;break;case 536870912:w=hN}w=hT(w,rT.bind(null,f))}f.callbackPriority=m,f.callbackNode=w}}function rT(f,m){if(gf=-1,vf=0,(6&tt)!=0)throw Error(s(327));var w=f.callbackNode;if(Fa()&&f.callbackNode!==w)return null;var E=Nd(f,f===yr?Er:0);if(E===0)return null;if(30&E||E&f.expiredLanes||m)m=yf(f,E);else{m=E;var A=tt;tt|=2;var R=oT();for(yr===f&&Er===m||(Mo=null,jl(),Ba(f,m));;)try{kN();break}catch(Y){sT(f,Y)}A0(),hf.current=R,tt=A,er!==null?m=0:(yr=null,Er=0,m=or)}if(m!==0){if(m===2&&(A=m0(f))!==0&&(E=A,m=pv(f,A)),m===1)throw w=Xc,Ba(f,0),Bo(f,E),dn(f,mr()),w;if(m===6)Bo(f,E);else{if(A=f.current.alternate,(30&E)==0&&!function(Y){for(var Q=Y;;){if(16384&Q.flags){var ee=Q.updateQueue;if(ee!==null&&(ee=ee.stores)!==null)for(var ie=0;ie<ee.length;ie++){var ve=ee[ie],re=ve.getSnapshot;ve=ve.value;try{if(!yi(re(),ve))return!1}catch{return!1}}}if(ee=Q.child,16384&Q.subtreeFlags&&ee!==null)ee.return=Q,Q=ee;else{if(Q===Y)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===Y)return!0;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}}return!0}(A)&&((m=yf(f,E))===2&&(R=m0(f))!==0&&(E=R,m=pv(f,R)),m===1))throw w=Xc,Ba(f,0),Bo(f,E),dn(f,mr()),w;switch(f.finishedWork=A,f.finishedLanes=E,m){case 0:case 1:throw Error(s(345));case 2:case 5:Xl(f,kn,Mo);break;case 3:if(Bo(f,E),(130023424&E)===E&&10<(m=cv+500-mr())){if(Nd(f,0)!==0)break;if(((A=f.suspendedLanes)&E)!==E){Ur(),f.pingedLanes|=f.suspendedLanes&A;break}f.timeoutHandle=Fe(Xl.bind(null,f,kn,Mo),m);break}Xl(f,kn,Mo);break;case 4:if(Bo(f,E),(4194240&E)===E)break;for(m=f.eventTimes,A=-1;0<E;){var U=31-vi(E);R=1<<U,(U=m[U])>A&&(A=U),E&=~R}if(E=A,10<(E=(120>(E=mr()-E)?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*AN(E/1960))-E)){f.timeoutHandle=Fe(Xl.bind(null,f,kn,Mo),E);break}Xl(f,kn,Mo);break;default:throw Error(s(329))}}}return dn(f,mr()),f.callbackNode===w?rT.bind(null,f):null}function pv(f,m){var w=$c;return f.current.memoizedState.isDehydrated&&(Ba(f,m).flags|=256),(f=yf(f,m))!==2&&(m=kn,kn=w,m!==null&&mv(m)),f}function mv(f){kn===null?kn=f:kn.push.apply(kn,f)}function Bo(f,m){for(m&=~uv,m&=~df,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var w=31-vi(m),E=1<<w;f[w]=-1,m&=~E}}function nT(f){if(6&tt)throw Error(s(327));Fa();var m=Nd(f,0);if(!(1&m))return dn(f,mr()),null;var w=yf(f,m);if(f.tag!==0&&w===2){var E=m0(f);E!==0&&(m=E,w=pv(f,E))}if(w===1)throw w=Xc,Ba(f,0),Bo(f,m),dn(f,mr()),w;if(w===6)throw Error(s(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,Xl(f,kn,Mo),dn(f,mr()),null}function iT(f){Oo!==null&&Oo.tag===0&&!(6&tt)&&Fa();var m=tt;tt|=1;var w=Vt.transition,E=ot;try{if(Vt.transition=null,ot=1,f)return f()}finally{ot=E,Vt.transition=w,!(6&(tt=m))&&Ji()}}function gv(){Pn=Ul.current,It(Ul)}function Ba(f,m){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==qe&&(f.timeoutHandle=qe,He(w)),er!==null)for(w=er.return;w!==null;){var E=w;switch(b0(E),E.tag){case 1:(E=E.type.childContextTypes)!=null&&d0();break;case 3:Fl(),It(un),It(Fr),L0();break;case 5:B0(E);break;case 4:Fl();break;case 13:case 19:It(zt);break;case 10:P0(E.type._context);break;case 22:case 23:gv()}w=w.return}if(yr=f,er=f=Fo(f.current,null),Er=Pn=m,or=0,Xc=null,uv=df=Na=0,kn=$c=null,Ra!==null){for(m=0;m<Ra.length;m++)if((E=(w=Ra[m]).interleaved)!==null){w.interleaved=null;var A=E.next,R=w.pending;if(R!==null){var U=R.next;R.next=A,E.next=U}w.pending=E}Ra=null}return f}function sT(f,m){for(;;){var w=er;try{if(A0(),Vd.current=Zd,qd){for(var E=Bt.memoizedState;E!==null;){var A=E.queue;A!==null&&(A.pending=null),E=E.next}qd=!1}if(Oa=0,vr=gr=Bt=null,Rc=!1,Oc=0,lv.current=null,w===null||w.return===null){or=1,Xc=m,er=null;break}e:{var R=f,U=w.return,Y=w,Q=m;if(m=Er,Y.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ee=Q,ie=Y,ve=ie.tag;if(!(1&ie.mode)&&(ve===0||ve===11||ve===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=PS(U);if(he!==null){he.flags&=-257,kS(he,U,Y,0,m),1&he.mode&&AS(R,ee,m),Q=ee;var Ee=(m=he).updateQueue;if(Ee===null){var We=new Set;We.add(Q),m.updateQueue=We}else Ee.add(Q);break e}if(!(1&m)){AS(R,ee,m),vv();break e}Q=Error(s(426))}else if(Mt&&1&Y.mode){var se=PS(U);if(se!==null){!(65536&se.flags)&&(se.flags|=256),kS(se,U,Y,0,m),E0(Ll(Q,Y));break e}}R=Q=Ll(Q,Y),or!==4&&(or=2),$c===null?$c=[R]:$c.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,m&=-m,R.lanes|=m,Vb(R,ES(0,Q,m));break e;case 1:Y=Q;var K=R.type,J=R.stateNode;if(!(128&R.flags)&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ro===null||!Ro.has(J)))){R.flags|=65536,m&=-m,R.lanes|=m,Vb(R,CS(R,Y,m));break e}}R=R.return}while(R!==null)}lT(w)}catch(ae){m=ae,er===w&&w!==null&&(er=w=w.return);continue}break}}function oT(){var f=hf.current;return hf.current=Zd,f===null?Zd:f}function vv(){or!==0&&or!==3&&or!==2||(or=4),yr===null||!(268435455&Na)&&!(268435455&df)||Bo(yr,Er)}function yf(f,m){var w=tt;tt|=2;var E=oT();for(yr===f&&Er===m||(Mo=null,Ba(f,m));;)try{PN();break}catch(A){sT(f,A)}if(A0(),tt=w,hf.current=E,er!==null)throw Error(s(261));return yr=null,Er=0,or}function PN(){for(;er!==null;)aT(er)}function kN(){for(;er!==null&&!lN();)aT(er)}function aT(f){var m=tT(f.alternate,f,Pn);f.memoizedProps=f.pendingProps,m===null?lT(f):er=m,lv.current=null}function lT(f){var m=f;do{var w=m.alternate;if(f=m.return,(32768&m.flags)==0){if((w=SN(w,m,Pn))!==null)return void(er=w)}else{if((w=TN(w,m))!==null)return w.flags&=32767,void(er=w);if(f===null)return or=6,void(er=null);f.flags|=32768,f.subtreeFlags=0,f.deletions=null}if((m=m.sibling)!==null)return void(er=m);er=m=f}while(m!==null);or===0&&(or=5)}function Xl(f,m,w){var E=ot,A=Vt.transition;try{Vt.transition=null,ot=1,function(R,U,Y,Q){do Fa();while(Oo!==null);if(6&tt)throw Error(s(327));Y=R.finishedWork;var ee=R.finishedLanes;if(Y===null)return null;if(R.finishedWork=null,R.finishedLanes=0,Y===R.current)throw Error(s(177));R.callbackNode=null,R.callbackPriority=0;var ie=Y.lanes|Y.childLanes;if(function(he,Ee){var We=he.pendingLanes&~Ee;he.pendingLanes=Ee,he.suspendedLanes=0,he.pingedLanes=0,he.expiredLanes&=Ee,he.mutableReadLanes&=Ee,he.entangledLanes&=Ee,Ee=he.entanglements;var se=he.eventTimes;for(he=he.expirationTimes;0<We;){var K=31-vi(We),J=1<<K;Ee[K]=0,se[K]=-1,he[K]=-1,We&=~J}}(R,ie),R===yr&&(er=yr=null,Er=0),!(2064&Y.subtreeFlags)&&!(2064&Y.flags)||pf||(pf=!0,hT(Db,function(){return Fa(),null})),ie=(15990&Y.flags)!=0,(15990&Y.subtreeFlags)!=0||ie){ie=Vt.transition,Vt.transition=null;var ve=ot;ot=1;var re=tt;tt|=4,lv.current=null,function(he,Ee){for(W(he.containerInfo),_e=Ee;_e!==null;)if(Ee=(he=_e).child,(1028&he.subtreeFlags)!=0&&Ee!==null)Ee.return=he,_e=Ee;else for(;_e!==null;){he=_e;try{var We=he.alternate;if(1024&he.flags)switch(he.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(We!==null){var se=We.memoizedProps,K=We.memoizedState,J=he.stateNode,ae=J.getSnapshotBeforeUpdate(he.elementType===he.type?se:_i(he.type,se),K);J.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:Le&&FO(he.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ne){Rt(he,he.return,Ne)}if((Ee=he.sibling)!==null){Ee.return=he.return,_e=Ee;break}_e=he.return}We=zS,zS=!1}(R,Y),qS(Y,R),H(R.containerInfo),R.current=Y,CN(Y),uN(),tt=re,ot=ve,Vt.transition=ie}else R.current=Y;if(pf&&(pf=!1,Oo=R,mf=ee),ie=R.pendingLanes,ie===0&&(Ro=null),function(he){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(Bd,he,void 0,(128&he.current.flags)==128)}catch{}}(Y.stateNode),dn(R,mr()),U!==null)for(Q=R.onRecoverableError,Y=0;Y<U.length;Y++)ee=U[Y],Q(ee.value,{componentStack:ee.stack,digest:ee.digest});if(ff)throw ff=!1,R=dv,dv=null,R;1&mf&&R.tag!==0&&Fa(),ie=R.pendingLanes,1&ie?R===fv?Hc++:(Hc=0,fv=R):Hc=0,Ji()}(f,m,w,E)}finally{Vt.transition=A,ot=E}return null}function Fa(){if(Oo!==null){var f=Fb(mf),m=Vt.transition,w=ot;try{if(Vt.transition=null,ot=16>f?16:f,Oo===null)var E=!1;else{if(f=Oo,Oo=null,mf=0,(6&tt)!=0)throw Error(s(331));var A=tt;for(tt|=4,_e=f.current;_e!==null;){var R=_e,U=R.child;if(16&_e.flags){var Y=R.deletions;if(Y!==null){for(var Q=0;Q<Y.length;Q++){var ee=Y[Q];for(_e=ee;_e!==null;){var ie=_e;switch(ie.tag){case 0:case 11:case 15:Uc(8,ie,R)}var ve=ie.child;if(ve!==null)ve.return=ie,_e=ve;else for(;_e!==null;){var re=(ie=_e).sibling,he=ie.return;if(YS(ie),ie===ee){_e=null;break}if(re!==null){re.return=he,_e=re;break}_e=he}}}var Ee=R.alternate;if(Ee!==null){var We=Ee.child;if(We!==null){Ee.child=null;do{var se=We.sibling;We.sibling=null,We=se}while(We!==null)}}_e=R}}if(2064&R.subtreeFlags&&U!==null)U.return=R,_e=U;else e:for(;_e!==null;){if(2048&(R=_e).flags)switch(R.tag){case 0:case 11:case 15:Uc(9,R,R.return)}var K=R.sibling;if(K!==null){K.return=R.return,_e=K;break e}_e=R.return}}var J=f.current;for(_e=J;_e!==null;){var ae=(U=_e).child;if(2064&U.subtreeFlags&&ae!==null)ae.return=U,_e=ae;else e:for(U=J;_e!==null;){if(2048&(Y=_e).flags)try{switch(Y.tag){case 0:case 11:case 15:sf(9,Y)}}catch(ct){Rt(Y,Y.return,ct)}if(Y===U){_e=null;break e}var Ne=Y.sibling;if(Ne!==null){Ne.return=Y.return,_e=Ne;break e}_e=Y.return}}if(tt=A,Ji(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(Bd,f)}catch{}E=!0}return E}finally{ot=w,Vt.transition=m}}return!1}function uT(f,m,w){f=Io(f,m=ES(0,m=Ll(w,m),1),1),m=Ur(),f!==null&&(Ac(f,1,m),dn(f,m))}function Rt(f,m,w){if(f.tag===3)uT(f,f,w);else for(;m!==null;){if(m.tag===3){uT(m,f,w);break}if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ro===null||!Ro.has(E))){m=Io(m,f=CS(m,f=Ll(w,f),1),1),f=Ur(),m!==null&&(Ac(m,1,f),dn(m,f));break}}m=m.return}}function IN(f,m,w){var E=f.pingCache;E!==null&&E.delete(m),m=Ur(),f.pingedLanes|=f.suspendedLanes&w,yr===f&&(Er&w)===w&&(or===4||or===3&&(130023424&Er)===Er&&500>mr()-cv?Ba(f,0):uv|=w),dn(f,m)}function cT(f,m){m===0&&(1&f.mode?(m=p0,!(130023424&(p0<<=1))&&(p0=4194304)):m=1);var w=Ur();(f=ts(f,m))!==null&&(Ac(f,m,w),dn(f,w))}function MN(f){var m=f.memoizedState,w=0;m!==null&&(w=m.retryLane),cT(f,w)}function RN(f,m){var w=0;switch(f.tag){case 13:var E=f.stateNode,A=f.memoizedState;A!==null&&(w=A.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(s(314))}E!==null&&E.delete(m),cT(f,w)}function hT(f,m){return y0(f,m)}function ON(f,m,w,E){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(f,m,w,E){return new ON(f,m,w,E)}function yv(f){return!(!(f=f.prototype)||!f.isReactComponent)}function Fo(f,m){var w=f.alternate;return w===null?((w=ei(f.tag,m,f.key,f.mode)).elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=m,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=14680064&f.flags,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,m=f.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function xf(f,m,w,E,A,R){var U=2;if(E=f,typeof f=="function")yv(f)&&(U=1);else if(typeof f=="string")U=5;else e:switch(f){case l:return La(w.children,A,R,m);case h:U=8,A|=8;break;case c:return(f=ei(12,w,m,2|A)).elementType=c,f.lanes=R,f;case v:return(f=ei(13,w,m,A)).elementType=v,f.lanes=R,f;case x:return(f=ei(19,w,m,A)).elementType=x,f.lanes=R,f;case _:return _f(w,A,R,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case d:U=10;break e;case p:U=9;break e;case g:U=11;break e;case y:U=14;break e;case b:U=16,E=null;break e}throw Error(s(130,f==null?f:typeof f,""))}return(m=ei(U,w,m,A)).elementType=f,m.type=E,m.lanes=R,m}function La(f,m,w,E){return(f=ei(7,f,E,m)).lanes=w,f}function _f(f,m,w,E){return(f=ei(22,f,E,m)).elementType=_,f.lanes=w,f.stateNode={isHidden:!1},f}function xv(f,m,w){return(f=ei(6,f,null,m)).lanes=w,f}function _v(f,m,w){return(m=ei(4,f.children!==null?f.children:[],f.key,m)).lanes=w,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function NN(f,m,w,E,A){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g0(0),this.expirationTimes=g0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g0(0),this.identifierPrefix=E,this.onRecoverableError=A,et&&(this.mutableSourceEagerHydrationData=null)}function dT(f,m,w,E,A,R,U,Y,Q){return f=new NN(f,m,w,Y,Q),m===1?(m=1,R===!0&&(m|=8)):m=0,R=ei(3,null,null,m),f.current=R,R.stateNode=f,R.memoizedState={element:E,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},M0(R),f}function fT(f){if(!f)return Po;e:{if(M(f=f._reactInternals)!==f||f.tag!==1)throw Error(s(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Cn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(f.tag===1){var w=f.type;if(Cn(w))return Ob(f,w,m)}return m}function pT(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return(f=L(m))===null?null:f.stateNode}function mT(f,m){if((f=f.memoizedState)!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<m?w:m}}function wf(f,m){mT(f,m),(f=f.alternate)&&mT(f,m)}function BN(f){return(f=L(f))===null?null:f.stateNode}function FN(){return null}return tT=function(f,m,w){if(f!==null)if(f.memoizedProps!==m.pendingProps||un.current)cn=!0;else{if(!(f.lanes&w)&&!(128&m.flags))return cn=!1,function(ve,re,he){switch(re.tag){case 3:FS(re),Ml();break;case 5:nS(re);break;case 1:Cn(re.type)&&Od(re);break;case 4:N0(re,re.stateNode.containerInfo);break;case 10:Yb(0,re.type._context,re.memoizedProps.value);break;case 13:var Ee=re.memoizedState;if(Ee!==null)return Ee.dehydrated!==null?(yt(zt,1&zt.current),re.flags|=128,null):he&re.child.childLanes?DS(ve,re,he):(yt(zt,1&zt.current),(ve=zs(ve,re,he))!==null?ve.sibling:null);yt(zt,1&zt.current);break;case 19:if(Ee=(he&re.childLanes)!=0,(128&ve.flags)!=0){if(Ee)return jS(ve,re,he);re.flags|=128}var We=re.memoizedState;if(We!==null&&(We.rendering=null,We.tail=null,We.lastEffect=null),yt(zt,zt.current),Ee)break;return null;case 22:case 23:return re.lanes=0,OS(ve,re,he)}return zs(ve,re,he)}(f,m,w);cn=(131072&f.flags)!=0}else cn=!1,Mt&&1048576&m.flags&&jb(m,Dd,m.index);switch(m.lanes=0,m.tag){case 2:var E=m.type;rf(f,m),f=m.pendingProps;var A=Pl(m,Fr.current);Ol(m,w),A=j0(null,m,E,f,A,w);var R=X0();return m.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Cn(E)?(R=!0,Od(m)):R=!1,m.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,M0(m),A.updater=Yd,m.stateNode=A,A._reactInternals=m,O0(m,E,f,w),m=q0(null,m,E,!0,R,w)):(m.tag=0,Mt&&R&&w0(m),hn(null,m,A,w),m=m.child),m;case 16:E=m.elementType;e:{switch(rf(f,m),f=m.pendingProps,E=(A=E._init)(E._payload),m.type=E,A=m.tag=function(ve){if(typeof ve=="function")return yv(ve)?1:0;if(ve!=null){if((ve=ve.$$typeof)===g)return 11;if(ve===y)return 14}return 2}(E),f=_i(E,f),A){case 0:m=V0(null,m,E,f,w);break e;case 1:m=BS(null,m,E,f,w);break e;case 11:m=IS(null,m,E,f,w);break e;case 14:m=MS(null,m,E,_i(E.type,f),w);break e}throw Error(s(306,E,""))}return m;case 0:return E=m.type,A=m.pendingProps,V0(f,m,E,A=m.elementType===E?A:_i(E,A),w);case 1:return E=m.type,A=m.pendingProps,BS(f,m,E,A=m.elementType===E?A:_i(E,A),w);case 3:e:{if(FS(m),f===null)throw Error(s(387));E=m.pendingProps,A=(R=m.memoizedState).element,Wb(f,m),zd(m,E,null,w);var U=m.memoizedState;if(E=U.element,et&&R.isDehydrated){if(R={element:E,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},m.updateQueue.baseState=R,m.memoizedState=R,256&m.flags){m=LS(f,m,E,w,A=Ll(Error(s(423)),m));break e}if(E!==A){m=LS(f,m,E,w,A=Ll(Error(s(424)),m));break e}for(et&&(qn=YO(m.stateNode.containerInfo),An=m,Mt=!0,xi=null,Pc=!1),w=rS(m,null,E,w),m.child=w;w;)w.flags=-3&w.flags|4096,w=w.sibling}else{if(Ml(),E===A){m=zs(f,m,w);break e}hn(f,m,E,w)}m=m.child}return m;case 5:return nS(m),f===null&&T0(m),E=m.type,A=m.pendingProps,R=f!==null?f.memoizedProps:null,U=A.children,ge(E,A)?U=null:R!==null&&ge(E,R)&&(m.flags|=32),NS(f,m),hn(f,m,U,w),m.child;case 6:return f===null&&T0(m),null;case 13:return DS(f,m,w);case 4:return N0(m,m.stateNode.containerInfo),E=m.pendingProps,f===null?m.child=Nl(m,null,E,w):hn(f,m,E,w),m.child;case 11:return E=m.type,A=m.pendingProps,IS(f,m,E,A=m.elementType===E?A:_i(E,A),w);case 7:return hn(f,m,m.pendingProps,w),m.child;case 8:case 12:return hn(f,m,m.pendingProps.children,w),m.child;case 10:e:{if(E=m.type._context,A=m.pendingProps,R=m.memoizedProps,Yb(0,E,U=A.value),R!==null)if(yi(R.value,U)){if(R.children===A.children&&!un.current){m=zs(f,m,w);break e}}else for((R=m.child)!==null&&(R.return=m);R!==null;){var Y=R.dependencies;if(Y!==null){U=R.child;for(var Q=Y.firstContext;Q!==null;){if(Q.context===E){if(R.tag===1){(Q=Hs(-1,w&-w)).tag=2;var ee=R.updateQueue;if(ee!==null){var ie=(ee=ee.shared).pending;ie===null?Q.next=Q:(Q.next=ie.next,ie.next=Q),ee.pending=Q}}R.lanes|=w,(Q=R.alternate)!==null&&(Q.lanes|=w),k0(R.return,w,m),Y.lanes|=w;break}Q=Q.next}}else if(R.tag===10)U=R.type===m.type?null:R.child;else if(R.tag===18){if((U=R.return)===null)throw Error(s(341));U.lanes|=w,(Y=U.alternate)!==null&&(Y.lanes|=w),k0(U,w,m),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===m){U=null;break}if((R=U.sibling)!==null){R.return=U.return,U=R;break}U=U.return}R=U}hn(f,m,A.children,w),m=m.child}return m;case 9:return A=m.type,E=m.pendingProps.children,Ol(m,w),E=E(A=Kn(A)),m.flags|=1,hn(f,m,E,w),m.child;case 14:return A=_i(E=m.type,m.pendingProps),MS(f,m,E,A=_i(E.type,A),w);case 15:return RS(f,m,m.type,m.pendingProps,w);case 17:return E=m.type,A=m.pendingProps,A=m.elementType===E?A:_i(E,A),rf(f,m),m.tag=1,Cn(E)?(f=!0,Od(m)):f=!1,Ol(m,w),Zb(m,E,A),O0(m,E,A,w),q0(null,m,E,!0,f,w);case 19:return jS(f,m,w);case 22:return OS(f,m,w)}throw Error(s(156,m.tag))},e.attemptContinuousHydration=function(f){if(f.tag===13){var m=ts(f,134217728);m!==null&&Jn(m,f,134217728,Ur()),wf(f,134217728)}},e.attemptDiscreteHydration=function(f){if(f.tag===13){var m=ts(f,1);m!==null&&Jn(m,f,1,Ur()),wf(f,1)}},e.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=No(f),w=ts(f,m);w!==null&&Jn(w,f,m,Ur()),wf(f,m)}},e.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var w=Cc(m.pendingLanes);w!==0&&(v0(m,1|w),dn(m,mr()),!(6&tt)&&(jl(),Ji()))}break;case 13:iT(function(){var E=ts(f,1);if(E!==null){var A=Ur();Jn(E,f,1,A)}}),wf(f,1)}},e.batchedUpdates=function(f,m){var w=tt;tt|=1;try{return f(m)}finally{(tt=w)===0&&(jl(),Fd&&Ji())}},e.createComponentSelector=function(f){return{$$typeof:of,value:f}},e.createContainer=function(f,m,w,E,A,R,U){return dT(f,m,!1,null,0,E,0,R,U)},e.createHasPseudoClassSelector=function(f){return{$$typeof:af,value:f}},e.createHydrationContainer=function(f,m,w,E,A,R,U,Y,Q){return(f=dT(w,E,!0,f,0,R,0,Y,Q)).context=fT(null),w=f.current,(R=Hs(E=Ur(),A=No(w))).callback=m??null,Io(w,R,A),f.current.lanes=A,Ac(f,A,E),dn(f,E),f},e.createPortal=function(f,m,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:f,containerInfo:m,implementation:w}},e.createRoleSelector=function(f){return{$$typeof:lf,value:f}},e.createTestNameSelector=function(f){return{$$typeof:uf,value:f}},e.createTextSelector=function(f){return{$$typeof:cf,value:f}},e.deferredUpdates=function(f){var m=ot,w=Vt.transition;try{return Vt.transition=null,ot=16,f()}finally{ot=m,Vt.transition=w}},e.discreteUpdates=function(f,m,w,E,A){var R=ot,U=Vt.transition;try{return Vt.transition=null,ot=1,f(m,w,E,A)}finally{ot=R,Vt.transition=U,tt===0&&jl()}},e.findAllNodes=av,e.findBoundingRects=function(f,m){if(!Eo)throw Error(s(363));m=av(f,m),f=[];for(var w=0;w<m.length;w++)f.push(Id(m[w]));for(m=f.length-1;0<m;m--)for(var E=(w=f[m]).x,A=E+w.width,R=w.y,U=R+w.height,Y=m-1;0<=Y;Y--)if(m!==Y){var Q=f[Y],ee=Q.x,ie=ee+Q.width,ve=Q.y,re=ve+Q.height;if(E>=ee&&R>=ve&&A<=ie&&U<=re){f.splice(m,1);break}if(!(E!==ee||w.width!==Q.width||re<R||ve>U)){ve>R&&(Q.height+=ve-R,Q.y=R),re<U&&(Q.height=U-ve),f.splice(m,1);break}if(!(R!==ve||w.height!==Q.height||ie<E||ee>A)){ee>E&&(Q.width+=ee-E,Q.x=E),ie<A&&(Q.width=A-ee),f.splice(m,1);break}}return f},e.findHostInstance=pT,e.findHostInstanceWithNoPortals=function(f){return(f=(f=D(f))!==null?F(f):null)===null?null:f.stateNode},e.findHostInstanceWithWarning=function(f){return pT(f)},e.flushControlled=function(f){var m=tt;tt|=1;var w=Vt.transition,E=ot;try{Vt.transition=null,ot=1,f()}finally{ot=E,Vt.transition=w,(tt=m)===0&&(jl(),Ji())}},e.flushPassiveEffects=Fa,e.flushSync=iT,e.focusWithin=function(f,m){if(!Eo)throw Error(s(363));for(m=eT(f=iv(f),m),m=Array.from(m),f=0;f<m.length;){var w=m[f++];if(!Gn(w)){if(w.tag===5&&wO(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ot},e.getFindAllNodesFailureDescription=function(f,m){if(!Eo)throw Error(s(363));var w=0,E=[];f=[iv(f),0];for(var A=0;A<f.length;){var R=f[A++],U=f[A++],Y=m[U];if((R.tag!==5||!Gn(R))&&(sv(R,Y)&&(E.push(ov(Y)),++U>w&&(w=U)),U<m.length))for(R=R.child;R!==null;)f.push(R,U),R=R.sibling}if(w<m.length){for(f=[];w<m.length;w++)f.push(ov(m[w]));return`findAllNodes was able to match part of the selector:
  `+E.join(" > ")+`

No matching component was found for:
  `+f.join(" > ")}return null},e.getPublicRootInstance=function(f){return(f=f.current).child?f.child.tag===5?z(f.child.stateNode):f.child.stateNode:null},e.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:BN,findFiberByHostInstance:f.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{Bd=m.inject(f),Zi=m}catch{}f=!!m.checkDCE}}return f},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(f,m,w,E){if(!Eo)throw Error(s(363));f=av(f,m);var A=bO(f,w,E).disconnect;return{disconnect:function(){A()}}},e.registerMutableSourceForHydration=function(f,m){var w=m._getVersion;w=w(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,w]:f.mutableSourceEagerHydrationData.push(m,w)},e.runWithPriority=function(f,m){var w=ot;try{return ot=f,m()}finally{ot=w}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(f,m,w,E){var A=m.current,R=Ur(),U=No(A);return w=fT(w),m.context===null?m.context=w:m.pendingContext=w,(m=Hs(R,U)).payload={element:f},(E=E===void 0?null:E)!==null&&(m.callback=E),(f=Io(A,m,U))!==null&&(Jn(f,A,U,R),Hd(f,A,U)),U},e}),_C}({get exports(){return e_},set exports(r){e_=r}}).exports=H$();var z$=g$(e_),I3={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},r_={},hp={get exports(){return r_},set exports(r){r_=r}};(function(){var r,e,t,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?hp.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(hp.exports=function(){return(r()-i)/1e6},e=process.hrtime,n=(r=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(hp.exports=function(){return Date.now()-t},t=Date.now()):(hp.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(m$);var SC,_u={},ja={};({get exports(){return _u},set exports(r){_u=r}}).exports=(SC||(SC=1,ja.ConcurrentRoot=1,ja.ContinuousEventPriority=4,ja.DefaultEventPriority=16,ja.DiscreteEventPriority=1,ja.IdleEventPriority=536870912,ja.LegacyRoot=0),ja);var Y$={};function Ly(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function M3(r,e){var t,n,i;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=r.children)!==null&&i!==void 0&&i.length&&bo(r.children).forEach(function(s){M3(s,r)})}function TC(r,e){var t;M3(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,l=u!==void 0&&u,h=n.destroyBaseTexture,c=h!==void 0&&h;s&&e.destroy({children:a,texture:l,baseTexture:c})}function EC(r,e,t){var n,i;Wt(e!==t,"Cannot insert node before itself"),r.children.indexOf(e)!==-1&&r.removeChild(e);var s=r.getChildIndex(t);r.addChildAt(e,s),(n=r.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var CC=null,Fi=z$({getRootHostContext:function(){return Y$},getChildHostContext:function(r){return r},getChildHostContextForEventComponent:function(r){return r},getPublicInstance:function(r){return r},getCurrentEventPriority:function(){return function(){var r,e;if(typeof window>"u")return _u.DefaultEventPriority;switch((r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return _u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return _u.ContinuousEventPriority;default:return _u.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(r){var e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=U$[r];if(typeof s=="function"&&(e=s(i,n)),!e){var o=k3[r];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Bs)(e,{},n)),e},hideInstance:function(r){r.visible=!1},unhideInstance:function(r,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;r.visible=t},finalizeInitialChildren:function(r,e,t){return!1},prepareUpdate:function(r,e,t,n,i,s){return CC=function(o,a,u,l){var h=null;for(var c in u)!l.hasOwnProperty(c)&&u.hasOwnProperty(c)&&u[c]!==null&&(c===Zx||(h||(h=[]),h.push(c,null)));for(var d in l){var p=l[d],g=u!==null?u[d]:void 0;!l.hasOwnProperty(d)||p===g||p===null&&g===null||d===Zx||(h||(h=[]),h.push(d,p))}return h}(0,0,t,n)},shouldSetTextContent:function(r,e){return!1},shouldDeprioritizeSubtree:function(r,e){var t=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(t&&n&&i)},createTextInstance:function(r,e,t){Wt(!1,'Error trying to add text node "'.concat(r,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(r,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:r_,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Ly.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Ly.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Ly.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=TC.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=TC.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:EC,insertInContainerBefore:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=EC.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(r,e,t,n,i){var s,o,a=r&&r.applyProps;typeof a!="function"&&(a=Bs),(a(r,n,i)||CC)&&((s=r.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(r,e,t,n,i){},commitTextUpdate:function(r,e,t){},resetTextContent:function(r){},clearContainer:function(r){},getFundamentalComponentInstance:function(r){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(r){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},getInstanceFromNode:function(r){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(r){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(r){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(r){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(r){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(r){}}),G$=I3.dependencies["react-dom"].replace(/[^0-9.]/g,""),W$=I3.name;Fi.injectIntoDevTools({bundleType:0,version:G$,rendererPackageName:W$,findHostInstanceByFiber:Fi.findHostInstance});var ga=new Map;function R3(r){if(Wt(Kr.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`."),ga.has(r)){var e=ga.get(r).pixiFiberContainer;Fi.updateContainer(null,e,void 0,function(){ga.delete(r)})}}function O3(r){Wt(Kr.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`.");var e=ga.get(r);if(Wt(!e,"createRoot should only be called once"),!e){var t=Fi.createContainer(r);e={pixiFiberContainer:t,reactRoot:{render:function(n){return Fi.updateContainer(n,t,void 0),Fi.getPublicRootInstance(t)},unmount:function(){R3(r),ga.delete(r)}}},ga.set(r,e)}return e.reactRoot}function V$(r,e,t){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ga.has(e)?n=ga.get(e).reactRoot:n=O3(e),n.render(r)}function q$(r){R3(r)}function sd(){return sd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sd.apply(this,arguments)}function K$(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Q$(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,C3(n.key),n)}}function Vs(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Gm(r,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Gm(r,e)}function Z$(r,e){if(e&&(Un(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vs(r)}function Wm(r){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wm(r)}var Wg=co.createContext(null),N3=Wg.Provider,B3=Wg.Consumer,J$=function(r){var e=co.forwardRef(function(t,n){return co.createElement(B3,null,function(i){return co.createElement(r,sd({},t,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(r.displayName||r.name,")"),e};function eH(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=Wm(r);if(e){var i=Wm(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Z$(this,t)}}function AC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(t),!0).forEach(function(n){Kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var PC=function(){},F3={width:Ct.number,height:Ct.number,onMount:Ct.func,onUnmount:Ct.func,raf:Ct.bool,renderOnComponentChange:Ct.bool,children:Ct.node,options:Ct.shape({autoStart:Ct.bool,width:Ct.number,height:Ct.number,useContextAlpha:Ct.bool,backgroundAlpha:Ct.number,autoDensity:Ct.bool,antialias:Ct.bool,preserveDrawingBuffer:Ct.bool,resolution:Ct.number,forceCanvas:Ct.bool,backgroundColor:Ct.number,clearBeforeRender:Ct.bool,powerPreference:Ct.string,sharedTicker:Ct.bool,sharedLoader:Ct.bool,resizeTo:function(r,e){var t=r[e];t&&Wt(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Un(t),", expect `window` or an `HTMLElement`."))},view:function(r,e,t){var n=r[e];n&&Wt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Un(n),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},tH={width:800,height:600,onMount:PC,onUnmount:PC,raf:!0,renderOnComponentChange:!0},n_=function(r){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Gm(s,o)})(i,co.Component);var e,t,n=eH(i);function i(){var s;K$(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Kt(Vs(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Kt(Vs(s),"_mediaQuery",null),Kt(Vs(s),"_ticker",null),Kt(Vs(s),"_needsUpdate",!0),Kt(Vs(s),"app",null),Kt(Vs(s),"updateSize",function(){var l=s.props,h=l.width,c=l.height,d=l.options;d!=null&&d.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(h,c)}),Kt(Vs(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Kt(Vs(s),"renderStage",function(){var l=s.props,h=l.renderOnComponentChange;!l.raf&&h&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(t=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,l=s.options,h=s.raf,c=s.renderOnComponentChange;this.app=new Cg(dp(dp({width:a,height:u,view:this._canvas},l),{},{autoDensity:(l==null?void 0:l.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[h?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Fi.createContainer(this.app.stage),Fi.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),l!=null&&l.autoDensity&&window.matchMedia&&(l==null?void 0:l.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),c&&!h&&(this._ticker=new jt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,l=this.props,h=l.width,c=l.height,d=l.raf,p=l.renderOnComponentChange,g=l.options;(g==null?void 0:g.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(g==null?void 0:g.resolution)&&(this.app.renderer.resolution=g.resolution,this.resetInteractionManager()),s.height===c&&s.width===h&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(g==null?void 0:g.resolution)||this.updateSize(),s.raf!==d&&this.app.ticker[d?"start":"stop"](),Fi.updateContainer(this.getChildren(),this.mountNode,this),s.width===h&&s.height===c&&s.raf===d&&s.renderOnComponentChange===p&&s.options===g||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return co.createElement(N3,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Fi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(Wt(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):co.createElement("canvas",sd({},(s=this.props,o=[].concat(bo(Object.keys(F3)),bo(Object.keys(Jx))),Object.keys(s).filter(function(l){return!o.includes(l)}).reduce(function(l,h){return dp(dp({},l),{},Kt({},h,s[h]))},{})),{ref:function(l){return a._canvas=l}}))}}])&&Q$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}();n_.propTypes=F3,n_.defaultProps=tH;var rH=n_;function L3(){var r=N.useContext(Wg);return Wt(r instanceof Cg,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),r}function nH(r){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=L3();Wt(typeof r=="function","`useTick` needs a callback function."),Wt(t instanceof Cg,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=N.useRef(null);N.useEffect(function(){n.current=r},[r]),N.useEffect(function(){if(e){var i=function(s){return n.current.apply(t.ticker,[s,t.ticker])};return t.ticker.add(i),function(){t.ticker&&t.ticker.remove(i)}}},[e])}function iH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i_(r,e,t){return i_=iH()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Gm(a,s.prototype),a},i_.apply(null,arguments)}var sH=["children","apply"];function kC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(t),!0).forEach(function(n){Kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var oH=function(r,e){Wt(Un(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Pa(i,sH),u=N.useRef(N.useMemo(function(){return t.map(function(c){var d,p=(a==null||(d=a[c])===null||d===void 0?void 0:d.construct)||[];return i_(e[c],bo(p))})},[t])),l=N.useMemo(function(){return t.reduce(function(c,d,p){return fp(fp({},c),{},Kt({},d,u.current[p]))},{})},[t]),h=N.useMemo(function(){return Object.keys(a).filter(P3(A3(t))).reduce(function(c,d){return fp(fp({},c),{},Kt({},d,a[d]))},{})},[a,t]);return t.forEach(function(c,d){return Object.assign(u.current[d],a[c])}),o&&function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return d.every(function(g){return typeof g=="function"})}(o)&&o.call(r,l),co.createElement(r,sd({},h,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ct.node,apply:Ct.func},n},aH=En.BitmapText,lH=En.Container,uH=En.Graphics,cH=En.NineSlicePlane,hH=En.ParticleContainer,dH=En.Sprite,fH=En.AnimatedSprite,pH=En.Text,mH=En.TilingSprite,gH=En.SimpleMesh,vH=En.SimpleRope;const yH=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:fH,AppConsumer:B3,AppContext:Wg,AppProvider:N3,BitmapText:aH,Container:lH,Graphics:uH,NineSlicePlane:cH,ParticleContainer:hH,PixiComponent:j$,PixiFiber:Fi,SimpleMesh:gH,SimpleRope:vH,Sprite:dH,Stage:rH,TYPES:En,Text:pH,TilingSprite:mH,applyDefaultProps:Bs,createRoot:O3,eventHandlers:Ym,render:V$,unmountComponentAtNode:q$,useApp:L3,useTick:nH,withFilters:oH,withPixiApp:J$},Symbol.toStringTag,{value:"Module"})),xH=uA(yH);Gg.exports=xH;var Pt=Gg.exports;function s_(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Dy=function(){return Math.random().toString(36).substring(7).split("").join(".")},IC={INIT:"@@redux/INIT"+Dy(),REPLACE:"@@redux/REPLACE"+Dy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dy()}};function _H(r){Object.keys(r).forEach(function(e){var t=r[e],n=t(void 0,{type:IC.INIT});if(typeof n>"u")throw new Error(s_(12));if(typeof t(void 0,{type:IC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(s_(13))})}function wH(r){for(var e=Object.keys(r),t={},n=0;n<e.length;n++){var i=e[n];typeof r[i]=="function"&&(t[i]=r[i])}var s=Object.keys(t),o;try{_H(t)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var h=!1,c={},d=0;d<s.length;d++){var p=s[d],g=t[p],v=u[p],x=g(v,l);if(typeof x>"u")throw l&&l.type,new Error(s_(14));c[p]=x,h=h||x!==v}return h=h||s.length!==Object.keys(u).length,h?c:u}}const bH=(r={},e)=>{const t=[].concat(r.scenes);switch(e.type){case _j:return t.push(e.value),{...r,scenes:t};case wj:return t.pop(),{...r,scenes:t};case oI:return t.pop(),t.push(e.value),{...r,scenes:t};case bj:return{...r};case aI:return{...r,assetsLoadingProgress:e.value};default:return r}},SH={sceneManager:{scenes:["preload"],assetsLoadingProgress:0}};function Hw(r){return{type:oI,value:r}}function o_(r){return{type:aI,value:r}}const a_="∞",TH=(r={},e)=>{switch(e.type){case qk:let t=r.status;return r.status=="idle"?t="spin":r.status=="stopping"&&(t="idle"),{...r,status:t};case Kk:return{...r,spinModel:e.value};case Qk:return{...r,loadErrorModel:e.value};case Zk:return{...r,status:"stopping",spinModel:e.value};case Jk:return{...r,status:"idle"};case eI:return{...r,betAmount:e.value};case tI:return{...r,betLevel:e.value};case rI:return{...r,autoSpinCount:e.value.autoSpinCount,stopAutoSpinLimit:e.value.stopAutoSpinLimit};case xj:{let n=r.autoSpinCount;return n!=a_&&--n,{...r,status:"spin",autoSpinCount:n}}case nI:return{...r,autoSpinCount:0};case iI:return{...r,speedModel:e.value};case sI:return{...r,lineBetsModel:e.value};default:return r}},EH={spin:{status:"idle",autoSpinCount:0,lineBetsModel:null,speedModel:"normal",stopAutoSpinLimit:{totalBetTimes:new dt(0),signleWin:new dt(0),balanceTo:new dt(0)}}};function MC(){return{type:qk}}function CH(r){return{type:Kk,value:r}}function AH(r){return{type:Qk,value:r}}function PH(r){return{type:Zk,value:r}}function D3(){return{type:Jk}}function eo(r){return{type:eI,value:new dt(r)}}function RC(r){return{type:tI,value:new dt(r)}}function kH(r,e,t,n){return{type:rI,value:{autoSpinCount:r,stopAutoSpinLimit:{totalBetTimes:e==a_?a_:new dt(e),signleWin:new dt(t),balanceTo:new dt(n)}}}}function OC(){return{type:nI}}function IH(r){return{type:iI,value:r}}function MH(r){return{type:sI,value:r}}const RH=(r={},e)=>{switch(e.type){case pj:return{};case jk:const t=e.value;return{...r,loggingIn:!0,memberName:t.name,isTestAccount:t.test,balance:t.balance,currency:t.currency};case Xk:return{...r,balance:e.value.balance};default:return r}},OH={user:{loggingIn:!1,memberName:"w88",currency:"RMB",isTestAccount:!0,balance:new dt(0)}};function NH(r){return{type:jk,value:r}}function Qp(r){return{type:Xk,value:{balance:new dt(r)}}}function BH(){const r=zc("user")||RH,e=zc("setting")||Sj,t=zc("spin")||TH,n=zc("scene")||bH,i=zc("reducers");return wH({user:r,setting:e,spin:t,sceneManager:n,...i})}function pp(r,e={},t){const n=Object.assign(r[t],e[t]||{});return r[t]=n,r}function FH(){const r=pp(OH,nu("user"),"user"),e=pp(Tj,nu("setting"),"setting"),t=pp(EH,nu("spin"),"spin"),n=pp(SH,nu("scene"),"sceneManager");return uB(r,e,t,n)}function LH(){const{state:r}=N.useContext(bt),{scenes:e}=r.sceneManager,t=e[e.length-1]=="preload";return T.jsx("div",{className:`page-mod ${t?"db":"dn"}`,children:T.jsx("div",{className:"scene-preload-mod",children:T.jsxs("div",{className:"loading-animation-default-mod",children:[T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{}),T.jsx("div",{})]})})})}var U3=(r=>(r[r.NotEnoughBalance=1e3]="NotEnoughBalance",r[r.UserNotFound=1001]="UserNotFound",r[r.ErrorReadGameState=1002]="ErrorReadGameState",r[r.InvalidCredit=1003]="InvalidCredit",r[r.ConcurrentSpin=1004]="ConcurrentSpin",r[r.NoGameState=1005]="NoGameState",r[r.InvalidGameState=1006]="InvalidGameState",r[r.ExpiredState=1007]="ExpiredState",r[r.InternalFailure=1008]="InternalFailure",r[r.ExternalFailure=1009]="ExternalFailure",r))(U3||{});const DH=()=>{const{state:r,dispatch:e}=N.useContext(bt),{code:t}=r.setting.error;return N.useEffect(()=>{t&&(t==="000"||t==="001"?e(rn(t,!0,!1)):t==1e3?e(rn(t,!0,!0)):t==1005?e(rn("",!1,!0)):e(rn(t,!0,!1)))},[t]),T.jsx(T.Fragment,{})};function UH(){const r=document.getElementById("context");r.style.setProperty("opacity","1"),r.className="context-fadein";const e=document.getElementById("logo");document.body.removeChild(e)}const jH=()=>{const{state:r}=N.useContext(bt),{scenes:e}=r.sceneManager,t=e[e.length-1]=="load";return N.useMemo(()=>{t&&UH()},[t]),T.jsx(T.Fragment,{})};var l_={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||t;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var d=this||t;if(c=parseFloat(c),d.ctx||h(),typeof c<"u"&&c>=0&&c<=1){if(d._volume=c,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c,t.ctx.currentTime);for(var p=0;p<d._howls.length;p++)if(!d._howls[p]._webAudio)for(var g=d._howls[p]._getSoundIds(),v=0;v<g.length;v++){var x=d._howls[p]._soundById(g[v]);x&&x._node&&(x._node.volume=x._volume*c)}return d}return d._volume},mute:function(c){var d=this||t;d.ctx||h(),d._muted=c,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c?0:d._volume,t.ctx.currentTime);for(var p=0;p<d._howls.length;p++)if(!d._howls[p]._webAudio)for(var g=d._howls[p]._getSoundIds(),v=0;v<g.length;v++){var x=d._howls[p]._soundById(g[v]);x&&x._node&&(x._node.muted=c?!0:x._muted)}return d},stop:function(){for(var c=this||t,d=0;d<c._howls.length;d++)c._howls[d].stop();return c},unload:function(){for(var c=this||t,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,h()),c},codecs:function(c){return(this||t)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||t;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var d=new Audio;d.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||t,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return c}if(!d||typeof d.canPlayType!="function")return c;var p=d.canPlayType("audio/mpeg;").replace(/^no$/,""),g=c._navigator?c._navigator.userAgent:"",v=g.match(/OPR\/(\d+)/g),x=v&&parseInt(v[0].split("/")[1],10)<33,y=g.indexOf("Safari")!==-1&&g.indexOf("Chrome")===-1,b=g.match(/Version\/(.*?) /),_=y&&b&&parseInt(b[1],10)<15;return c._codecs={mp3:!!(!x&&(p||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||t;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var d=function(p){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,c._releaseHtml5Audio(g)}catch{c.noAudio=!0;break}for(var v=0;v<c._howls.length;v++)if(!c._howls[v]._webAudio)for(var x=c._howls[v]._getSoundIds(),y=0;y<x.length;y++){var b=c._howls[v]._soundById(x[y]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}c._autoResume();var _=c.ctx.createBufferSource();_.buffer=c._scratchBuffer,_.connect(c.ctx.destination),typeof _.start>"u"?_.noteOn(0):_.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),_.onended=function(){_.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var S=0;S<c._howls.length;S++)c._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),c}},_obtainHtml5Audio:function(){var c=this||t;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var d=this||t;return c._unlocked&&d._html5AudioPool.push(c),d},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!t.usingWebAudio)){for(var d=0;d<c._howls.length;d++)if(c._howls[d]._webAudio){for(var p=0;p<c._howls[d]._sounds.length;p++)if(!c._howls[d]._sounds[p]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var g=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(g,g)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!t.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var d=0;d<c._howls.length;d++)c._howls[d]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var t=new e,n=function(c){var d=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(c)};n.prototype={init:function(c){var d=this;return t.ctx||h(),d._autoplay=c.autoplay||!1,d._format=typeof c.format!="string"?c.format:[c.format],d._html5=c.html5||!1,d._muted=c.mute||!1,d._loop=c.loop||!1,d._pool=c.pool||5,d._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,d._rate=c.rate||1,d._sprite=c.sprite||{},d._src=typeof c.src!="string"?c.src:[c.src],d._volume=c.volume!==void 0?c.volume:1,d._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=c.onend?[{fn:c.onend}]:[],d._onfade=c.onfade?[{fn:c.onfade}]:[],d._onload=c.onload?[{fn:c.onload}]:[],d._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],d._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],d._onpause=c.onpause?[{fn:c.onpause}]:[],d._onplay=c.onplay?[{fn:c.onplay}]:[],d._onstop=c.onstop?[{fn:c.onstop}]:[],d._onmute=c.onmute?[{fn:c.onmute}]:[],d._onvolume=c.onvolume?[{fn:c.onvolume}]:[],d._onrate=c.onrate?[{fn:c.onrate}]:[],d._onseek=c.onseek?[{fn:c.onseek}]:[],d._onunlock=c.onunlock?[{fn:c.onunlock}]:[],d._onresume=[],d._webAudio=t.usingWebAudio&&!d._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var c=this,d=null;if(t.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var p=0;p<c._src.length;p++){var g,v;if(c._format&&c._format[p])g=c._format[p];else{if(v=c._src[p],typeof v!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(v),g||(g=/\.([^.]+)$/.exec(v.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&t.codecs(g)){d=c._src[p];break}}if(!d){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=d,c._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,d){var p=this,g=null;if(typeof c=="number")g=c,c=null;else{if(typeof c=="string"&&p._state==="loaded"&&!p._sprite[c])return null;if(typeof c>"u"&&(c="__default",!p._playLock)){for(var v=0,x=0;x<p._sounds.length;x++)p._sounds[x]._paused&&!p._sounds[x]._ended&&(v++,g=p._sounds[x]._id);v===1?c=null:g=null}}var y=g?p._soundById(g):p._inactiveSound();if(!y)return null;if(g&&!c&&(c=y._sprite||"__default"),p._state!=="loaded"){y._sprite=c,y._ended=!1;var b=y._id;return p._queue.push({event:"play",action:function(){p.play(b)}}),b}if(g&&!y._paused)return d||p._loadQueue("play"),y._id;p._webAudio&&t._autoResume();var _=Math.max(0,y._seek>0?y._seek:p._sprite[c][0]/1e3),S=Math.max(0,(p._sprite[c][0]+p._sprite[c][1])/1e3-_),I=S*1e3/Math.abs(y._rate),P=p._sprite[c][0]/1e3,k=(p._sprite[c][0]+p._sprite[c][1])/1e3;y._sprite=c,y._ended=!1;var M=function(){y._paused=!1,y._seek=_,y._start=P,y._stop=k,y._loop=!!(y._loop||p._sprite[c][2])};if(_>=k){p._ended(y);return}var O=y._node;if(p._webAudio){var D=function(){p._playLock=!1,M(),p._refreshBuffer(y);var B=y._muted||p._muted?0:y._volume;O.gain.setValueAtTime(B,t.ctx.currentTime),y._playStart=t.ctx.currentTime,typeof O.bufferSource.start>"u"?y._loop?O.bufferSource.noteGrainOn(0,_,86400):O.bufferSource.noteGrainOn(0,_,S):y._loop?O.bufferSource.start(0,_,86400):O.bufferSource.start(0,_,S),I!==1/0&&(p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),I)),d||setTimeout(function(){p._emit("play",y._id),p._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?D():(p._playLock=!0,p.once("resume",D),p._clearTimer(y._id))}else{var L=function(){O.currentTime=_,O.muted=y._muted||p._muted||t._muted||O.muted,O.volume=y._volume*t.volume(),O.playbackRate=y._rate;try{var B=O.play();if(B&&typeof Promise<"u"&&(B instanceof Promise||typeof B.then=="function")?(p._playLock=!0,M(),B.then(function(){p._playLock=!1,O._unlocked=!0,d?p._loadQueue():p._emit("play",y._id)}).catch(function(){p._playLock=!1,p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):d||(p._playLock=!1,M(),p._emit("play",y._id)),O.playbackRate=y._rate,O.paused){p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||y._loop?p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),I):(p._endTimers[y._id]=function(){p._ended(y),O.removeEventListener("ended",p._endTimers[y._id],!1)},O.addEventListener("ended",p._endTimers[y._id],!1))}catch(j){p._emit("playerror",y._id,j)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=p._src,O.load());var X=window&&window.ejecta||!O.readyState&&t._navigator.isCocoonJS;if(O.readyState>=3||X)L();else{p._playLock=!0,p._state="loading";var F=function(){p._state="loaded",L(),O.removeEventListener(t._canPlayEvent,F,!1)};O.addEventListener(t._canPlayEvent,F,!1),p._clearTimer(y._id)}}return y._id},pause:function(c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(c)}}),d;for(var p=d._getSoundIds(c),g=0;g<p.length;g++){d._clearTimer(p[g]);var v=d._soundById(p[g]);if(v&&!v._paused&&(v._seek=d.seek(p[g]),v._rateSeek=0,v._paused=!0,d._stopFade(p[g]),v._node))if(d._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||d._emit("pause",v?v._id:null)}return d},stop:function(c,d){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(c)}}),p;for(var g=p._getSoundIds(c),v=0;v<g.length;v++){p._clearTimer(g[v]);var x=p._soundById(g[v]);x&&(x._seek=x._start||0,x._rateSeek=0,x._paused=!0,x._ended=!0,p._stopFade(g[v]),x._node&&(p._webAudio?x._node.bufferSource&&(typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),p._cleanBuffer(x._node)):(!isNaN(x._node.duration)||x._node.duration===1/0)&&(x._node.currentTime=x._start||0,x._node.pause(),x._node.duration===1/0&&p._clearSound(x._node))),d||p._emit("stop",x._id))}return p},mute:function(c,d){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(c,d)}}),p;if(typeof d>"u")if(typeof c=="boolean")p._muted=c;else return p._muted;for(var g=p._getSoundIds(d),v=0;v<g.length;v++){var x=p._soundById(g[v]);x&&(x._muted=c,x._interval&&p._stopFade(x._id),p._webAudio&&x._node?x._node.gain.setValueAtTime(c?0:x._volume,t.ctx.currentTime):x._node&&(x._node.muted=t._muted?!0:c),p._emit("mute",x._id))}return p},volume:function(){var c=this,d=arguments,p,g;if(d.length===0)return c._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var v=c._getSoundIds(),x=v.indexOf(d[0]);x>=0?g=parseInt(d[0],10):p=parseFloat(d[0])}else d.length>=2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));var y;if(typeof p<"u"&&p>=0&&p<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,d)}}),c;typeof g>"u"&&(c._volume=p),g=c._getSoundIds(g);for(var b=0;b<g.length;b++)y=c._soundById(g[b]),y&&(y._volume=p,d[2]||c._stopFade(g[b]),c._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(p,t.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=p*t.volume()),c._emit("volume",y._id))}else return y=g?c._soundById(g):c._sounds[0],y?y._volume:0;return c},fade:function(c,d,p,g){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(c,d,p,g)}}),v;c=Math.min(Math.max(0,parseFloat(c)),1),d=Math.min(Math.max(0,parseFloat(d)),1),p=parseFloat(p),v.volume(c,g);for(var x=v._getSoundIds(g),y=0;y<x.length;y++){var b=v._soundById(x[y]);if(b){if(g||v._stopFade(x[y]),v._webAudio&&!b._muted){var _=t.ctx.currentTime,S=_+p/1e3;b._volume=c,b._node.gain.setValueAtTime(c,_),b._node.gain.linearRampToValueAtTime(d,S)}v._startFadeInterval(b,c,d,p,x[y],typeof g>"u")}}return v},_startFadeInterval:function(c,d,p,g,v,x){var y=this,b=d,_=p-d,S=Math.abs(_/.01),I=Math.max(4,S>0?g/S:g),P=Date.now();c._fadeTo=p,c._interval=setInterval(function(){var k=(Date.now()-P)/g;P=Date.now(),b+=_*k,b=Math.round(b*100)/100,_<0?b=Math.max(p,b):b=Math.min(p,b),y._webAudio?c._volume=b:y.volume(b,c._id,!0),x&&(y._volume=b),(p<d&&b<=p||p>d&&b>=p)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,y.volume(p,c._id),y._emit("fade",c._id))},I)},_stopFade:function(c){var d=this,p=d._soundById(c);return p&&p._interval&&(d._webAudio&&p._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(p._interval),p._interval=null,d.volume(p._fadeTo,c),p._fadeTo=null,d._emit("fade",c)),d},loop:function(){var c=this,d=arguments,p,g,v;if(d.length===0)return c._loop;if(d.length===1)if(typeof d[0]=="boolean")p=d[0],c._loop=p;else return v=c._soundById(parseInt(d[0],10)),v?v._loop:!1;else d.length===2&&(p=d[0],g=parseInt(d[1],10));for(var x=c._getSoundIds(g),y=0;y<x.length;y++)v=c._soundById(x[y]),v&&(v._loop=p,c._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=p,p&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,c.playing(x[y])&&(c.pause(x[y],!0),c.play(x[y],!0)))));return c},rate:function(){var c=this,d=arguments,p,g;if(d.length===0)g=c._sounds[0]._id;else if(d.length===1){var v=c._getSoundIds(),x=v.indexOf(d[0]);x>=0?g=parseInt(d[0],10):p=parseFloat(d[0])}else d.length===2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));var y;if(typeof p=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,d)}}),c;typeof g>"u"&&(c._rate=p),g=c._getSoundIds(g);for(var b=0;b<g.length;b++)if(y=c._soundById(g[b]),y){c.playing(g[b])&&(y._rateSeek=c.seek(g[b]),y._playStart=c._webAudio?t.ctx.currentTime:y._playStart),y._rate=p,c._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(p,t.ctx.currentTime):y._node&&(y._node.playbackRate=p);var _=c.seek(g[b]),S=(c._sprite[y._sprite][0]+c._sprite[y._sprite][1])/1e3-_,I=S*1e3/Math.abs(y._rate);(c._endTimers[g[b]]||!y._paused)&&(c._clearTimer(g[b]),c._endTimers[g[b]]=setTimeout(c._ended.bind(c,y),I)),c._emit("rate",y._id)}}else return y=c._soundById(g),y?y._rate:c._rate;return c},seek:function(){var c=this,d=arguments,p,g;if(d.length===0)c._sounds.length&&(g=c._sounds[0]._id);else if(d.length===1){var v=c._getSoundIds(),x=v.indexOf(d[0]);x>=0?g=parseInt(d[0],10):c._sounds.length&&(g=c._sounds[0]._id,p=parseFloat(d[0]))}else d.length===2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));if(typeof g>"u")return 0;if(typeof p=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var y=c._soundById(g);if(y)if(typeof p=="number"&&p>=0){var b=c.playing(g);b&&c.pause(g,!0),y._seek=p,y._ended=!1,c._clearTimer(g),!c._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=p);var _=function(){b&&c.play(g,!0),c._emit("seek",g)};if(b&&!c._webAudio){var S=function(){c._playLock?setTimeout(S,0):_()};setTimeout(S,0)}else _()}else if(c._webAudio){var I=c.playing(g)?t.ctx.currentTime-y._playStart:0,P=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(P+I*Math.abs(y._rate))}else return y._node.currentTime;return c},playing:function(c){var d=this;if(typeof c=="number"){var p=d._soundById(c);return p?!p._paused:!1}for(var g=0;g<d._sounds.length;g++)if(!d._sounds[g]._paused)return!0;return!1},duration:function(c){var d=this,p=d._duration,g=d._soundById(c);return g&&(p=d._sprite[g._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var c=this,d=c._sounds,p=0;p<d.length;p++)d[p]._paused||c.stop(d[p]._id),c._webAudio||(c._clearSound(d[p]._node),d[p]._node.removeEventListener("error",d[p]._errorFn,!1),d[p]._node.removeEventListener(t._canPlayEvent,d[p]._loadFn,!1),d[p]._node.removeEventListener("ended",d[p]._endFn,!1),t._releaseHtml5Audio(d[p]._node)),delete d[p]._node,c._clearTimer(d[p]._id);var g=t._howls.indexOf(c);g>=0&&t._howls.splice(g,1);var v=!0;for(p=0;p<t._howls.length;p++)if(t._howls[p]._src===c._src||c._src.indexOf(t._howls[p]._src)>=0){v=!1;break}return s&&v&&delete s[c._src],t.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,d,p,g){var v=this,x=v["_on"+c];return typeof d=="function"&&x.push(g?{id:p,fn:d,once:g}:{id:p,fn:d}),v},off:function(c,d,p){var g=this,v=g["_on"+c],x=0;if(typeof d=="number"&&(p=d,d=null),d||p)for(x=0;x<v.length;x++){var y=p===v[x].id;if(d===v[x].fn&&y||!d&&y){v.splice(x,1);break}}else if(c)g["_on"+c]=[];else{var b=Object.keys(g);for(x=0;x<b.length;x++)b[x].indexOf("_on")===0&&Array.isArray(g[b[x]])&&(g[b[x]]=[])}return g},once:function(c,d,p){var g=this;return g.on(c,d,p,1),g},_emit:function(c,d,p){for(var g=this,v=g["_on"+c],x=v.length-1;x>=0;x--)(!v[x].id||v[x].id===d||c==="load")&&(setTimeout((function(y){y.call(this,d,p)}).bind(g,v[x].fn),0),v[x].once&&g.off(c,v[x].fn,v[x].id));return g._loadQueue(c),g},_loadQueue:function(c){var d=this;if(d._queue.length>0){var p=d._queue[0];p.event===c&&(d._queue.shift(),d._loadQueue()),c||p.action()}return d},_ended:function(c){var d=this,p=c._sprite;if(!d._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(d._ended.bind(d,c),100),d;var g=!!(c._loop||d._sprite[p][2]);if(d._emit("end",c._id),!d._webAudio&&g&&d.stop(c._id,!0).play(c._id),d._webAudio&&g){d._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=t.ctx.currentTime;var v=(c._stop-c._start)*1e3/Math.abs(c._rate);d._endTimers[c._id]=setTimeout(d._ended.bind(d,c),v)}return d._webAudio&&!g&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,d._clearTimer(c._id),d._cleanBuffer(c._node),t._autoSuspend()),!d._webAudio&&!g&&d.stop(c._id,!0),d},_clearTimer:function(c){var d=this;if(d._endTimers[c]){if(typeof d._endTimers[c]!="function")clearTimeout(d._endTimers[c]);else{var p=d._soundById(c);p&&p._node&&p._node.removeEventListener("ended",d._endTimers[c],!1)}delete d._endTimers[c]}return d},_soundById:function(c){for(var d=this,p=0;p<d._sounds.length;p++)if(c===d._sounds[p]._id)return d._sounds[p];return null},_inactiveSound:function(){var c=this;c._drain();for(var d=0;d<c._sounds.length;d++)if(c._sounds[d]._ended)return c._sounds[d].reset();return new i(c)},_drain:function(){var c=this,d=c._pool,p=0,g=0;if(!(c._sounds.length<d)){for(g=0;g<c._sounds.length;g++)c._sounds[g]._ended&&p++;for(g=c._sounds.length-1;g>=0;g--){if(p<=d)return;c._sounds[g]._ended&&(c._webAudio&&c._sounds[g]._node&&c._sounds[g]._node.disconnect(0),c._sounds.splice(g,1),p--)}}},_getSoundIds:function(c){var d=this;if(typeof c>"u"){for(var p=[],g=0;g<d._sounds.length;g++)p.push(d._sounds[g]._id);return p}else return[c]},_refreshBuffer:function(c){var d=this;return c._node.bufferSource=t.ctx.createBufferSource(),c._node.bufferSource.buffer=s[d._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,t.ctx.currentTime),d},_cleanBuffer:function(c){var d=this,p=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return d;if(t._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),p))try{c.bufferSource.buffer=t._scratchBuffer}catch{}return c.bufferSource=null,d},_clearSound:function(c){var d=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);d||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,d._sounds.push(c),c.create(),c},create:function(){var c=this,d=c._parent,p=t._muted||c._muted||c._parent._muted?0:c._volume;return d._webAudio?(c._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),c._node.gain.setValueAtTime(p,t.ctx.currentTime),c._node.paused=!0,c._node.connect(t.masterGain)):t.noAudio||(c._node=t._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(t._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=d._src,c._node.preload=d._preload===!0?"auto":d._preload,c._node.volume=p*t.volume(),c._node.load()),c},reset:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,d=c._parent;d._duration=Math.ceil(c._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),c._node.removeEventListener(t._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,d=c._parent;d._duration===1/0&&(d._duration=Math.ceil(c._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var d=c._src;if(s[d]){c._duration=s[d].duration,l(c);return}if(/^data:[^;]+;base64,/.test(d)){for(var p=atob(d.split(",")[1]),g=new Uint8Array(p.length),v=0;v<p.length;++v)g[v]=p.charCodeAt(v);u(g.buffer,c)}else{var x=new XMLHttpRequest;x.open(c._xhr.method,d,!0),x.withCredentials=c._xhr.withCredentials,x.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(y){x.setRequestHeader(y,c._xhr.headers[y])}),x.onload=function(){var y=(x.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+x.status+".");return}u(x.response,c)},x.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[d],c.load())},a(x)}},a=function(c){try{c.send()}catch{c.onerror()}},u=function(c,d){var p=function(){d._emit("loaderror",null,"Decoding audio data failed.")},g=function(v){v&&d._sounds.length>0?(s[d._src]=v,l(d,v)):p()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(c).then(g).catch(p):t.ctx.decodeAudioData(c,g,p)},l=function(c,d){d&&!c._duration&&(c._duration=d.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},h=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),d=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=d?parseInt(d[1],10):null;if(c&&p&&p<9){var g=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!g&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};r.Howler=t,r.Howl=n,typeof io<"u"?(io.HowlerGlobal=e,io.Howler=t,io.Howl=n,io.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(t);return n},HowlerGlobal.prototype.pos=function(t,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,n,i,s,o,a){var u=this;if(!u.ctx||!u.ctx.listener)return u;var l=u._orientation;if(n=typeof n!="number"?l[1]:n,i=typeof i!="number"?l[2]:i,s=typeof s!="number"?l[3]:s,o=typeof o!="number"?l[4]:o,a=typeof a!="number"?l[5]:a,typeof t=="number")u._orientation=[t,n,i,s,o,a],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(t,n,i,s,o,a);else return l;return u},Howl.prototype.init=function(t){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var u=i._soundById(o[a]);if(u)if(typeof t=="number")u._stereo=t,u._pos=[t,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,s),s==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(t,0,0):u._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",u._id);else return u._stereo}return i},Howl.prototype.pos=function(t,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")o._pos=[t,n,i];else return o._pos;for(var a=o._getSoundIds(s),u=0;u<a.length;u++){var l=o._soundById(a[u]);if(l)if(typeof t=="number")l._pos=[t,n,i],l._node&&((!l._panner||l._panner.pan)&&e(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(t,n,i)),o._emit("pos",l._id);else return l._pos}return o},Howl.prototype.orientation=function(t,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof t=="number")o._orientation=[t,n,i];else return o._orientation;for(var a=o._getSoundIds(s),u=0;u<a.length;u++){var l=o._soundById(a[u]);if(l)if(typeof t=="number")l._orientation=[t,n,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),e(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(t,n,i)),o._emit("orientation",l._id);else return l._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,n=arguments,i,s,o;if(!t._webAudio)return t;if(n.length===0)return t._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(n[0],10)),o?o._pannerAttr:t._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var a=t._getSoundIds(s),u=0;u<a.length;u++)if(o=t._soundById(a[u]),o){var l=o._pannerAttr;l={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:l.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:l.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:l.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:l.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:l.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:l.panningModel};var h=o._panner;h||(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"),h=o._panner),h.coneInnerAngle=l.coneInnerAngle,h.coneOuterAngle=l.coneOuterAngle,h.coneOuterGain=l.coneOuterGain,h.distanceModel=l.distanceModel,h.maxDistance=l.maxDistance,h.refDistance=l.refDistance,h.rolloffFactor=l.rolloffFactor,h.panningModel=l.panningModel}return t},Sound.prototype.init=function(t){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,t.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),t.call(this)}}(Sound.prototype.reset);var e=function(t,n){n=n||"spatial",n==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(l_);const XH="IChannelClick";class $H{constructor(){C(this,"channels",{})}exist(e,t){const n=this.channels[e];return mn(e)&&mn(n[t])}add(e,t,n,i=1,s=!1,o){let a=this.channels[e];qu(a)&&(a={},this.channels[e]=a),mn(a[t])&&console.warn(`sound "${t}" is existing in channel "${e}"`);const u={channelId:e,name:t,soundId:n,volume:i,softBgm:s,onComplete:o};return a[t]=u,u}getPlaybackBy(e){for(const t in this.channels){const n=this.channels[t];for(const i in n)if(e(n[i]))return n[i]}}getPlaybackBySoundId(e){return this.getPlaybackBy(t=>t.soundId==e)}getPlaybackBySoundName(e){return this.getPlaybackBy(t=>t.name==e)}removeBy(e){for(const t in this.channels){const n=this.channels[t];for(const i in n){const s=n[i];e(s)&&(delete n[i],lB(n)&&delete this.channels[t])}}}removeBySoundId(e){return this.removeBy(t=>t.soundId==e)}removeBySoundName(e){return this.removeBy(t=>t.name==e)}getSoundIds(e){const t=[],n=this.channels[e];for(const i in n)t.push(n[i].soundId);return t}}const Nh=class Nh{constructor(){C(this,"howlers",{});C(this,"_muted",!1);C(this,"_volume",1);C(this,"bgm");C(this,"channelManager");C(this,"_pause");this.channelManager=new $H}static get Obj(){return this._Obj||(this._Obj=new Nh),this._Obj}static clickSound(e="click"){Nh.Obj.play(XH,e,1,!1,!1)}getSoundIdBySoundName(e){const t=this.channelManager.getPlaybackBySoundName(e);if(t)return t.soundId}getChannelIdBySoundName(e){const t=this.channelManager.getPlaybackBySoundName(e);if(t)return t.channelId}play(e,t,n=1,i=!1,s,o){let a=this.channelManager.getPlaybackBySoundName(t);const u=this.getVolumn(n),l=this.getSoundPlayer(e);if(a&&a.channelId==e)l.stop(a.soundId),l.play(a.soundId),l.volume(u,a.soundId);else{const h=l.play(t);l.volume(u,h),a=this.channelManager.add(e,t,h,n,i,c=>{o&&o(c)})}i&&this.softBgm(!0)}plays(e,t,n=1,i=!1,s){const[o,...a]=t;o?this.play(e,o,n,i,!1,()=>{this.plays(e,a,n,i,s)}):s&&s(o)}playBgm(e,t,n=1,i=.3){const s=this.channelManager.getPlaybackBySoundName(t),o=this.getSoundPlayer(e),a=this.getVolumn(n);if(s&&s.channelId==e)o.playing(s.soundId)||(o.play(s.soundId),o.volume(a,s.soundId));else{this.bgm&&this.stop(this.bgm.channelId,this.bgm.name);const u=o.play(t);o.volume(a,u),this.channelManager.add(e,t,u,n),this.bgm={soundId:u,channelId:e,name:t,soft:i}}}isReady(e){return mn(this.howlers[e])}getSoundPlayer(e){if(!this.isReady(e)){const t=t$(_3);if(mn(t)){t.onend=i=>{if(!(this.bgm&&i==this.bgm.soundId)){const s=this.channelManager.getPlaybackBySoundId(i);s&&s.name.indexOf("bgm")==-1&&(s&&(s.softBgm&&this.softBgm(!1),s.onComplete&&s.onComplete(s.name)),this.channelManager.removeBySoundId(i))}};const n=new l_.Howl(t);this.howlers[e]=n}}return this.howlers[e]}pauses(e){if(this._pause!=e){for(const t in this.howlers)if(e)this.howlers[t].pause();else{const n=this.channelManager.getSoundIds(t),i=this.howlers[t];for(const s of n)!i.playing(s)&&i.play(s)}this._pause=e}}pause(e,t){const n=this.getSoundIdBySoundName(t);n&&this.getSoundPlayer(e).pause(n)}stop(e,t){const n=this.getSoundIdBySoundName(t);n&&(this.channelManager.removeBySoundId(n),this.getSoundPlayer(e).stop(n))}stops(e,t){t.forEach(n=>this.stop(e,n))}softBgm(e){if(this.bgm){const t=this.channelManager.getPlaybackBySoundName(this.bgm.name);if(t){const n=this.getVolumn(e?this.bgm.soft:1,t.volume);this.getSoundPlayer(this.bgm.channelId).volume(n,t.soundId)}}}getVolumn(...e){return e.reduce((n,i)=>n*i,this._volume)}setVolumn(e,t,n){this.howlers[e]&&this.howlers[e].volume(n)}get volume(){return this._volume}set volume(e){if(this._volume!=e){this._volume=e;for(const t in this.channelManager.channels){const n=this.channelManager.channels[t],i=this.getSoundPlayer(t);for(const s in n){const o=n[s];i.volume(o.volume*e,o.soundId)}}}}get muted(){return this._muted}set muted(e){this._muted=e,l_.Howler.mute(e)}setRate(e=1){for(const t in this.howlers)this.howlers[t].rate(e)}};C(Nh,"_Obj");let Yi=Nh;const HH=document.querySelector("html"),$n="resize";function zH(r,e=1.5){return 2}const YH=()=>{const r=Pt.useApp(),{current:e}=N.useRef({clientSize:[0,0],renderFrame:[0,0,0,0]}),{state:t,dispatch:n}=N.useContext(bt),i=Me.Obj,[s,o]=N.useMemo(()=>[Me.Obj.isLandscapeOnly,Me.Obj.isPortraitOnly],[]),a=N.useMemo(()=>document.getElementById("App"),[]),[u,l]=N.useMemo(()=>typeof document.hidden<"u"?["hidden","visibilitychange"]:typeof document.msHidden<"u"?["msHidden","msvisibilitychange"]:typeof document.webkitHidden<"u"?["webkitHidden","webkitvisibilitychange"]:(console.error("visibilitychange events not supported"),["hidden","visibilitychange"]),[]);function h(p){p?(Yi.Obj.pauses(!0),r.ticker.started&&r.ticker.stop(),Me.Obj.turboTicker.started&&Me.Obj.turboTicker.stop()):(Yi.Obj.pauses(!1),!r.ticker.started&&r.ticker.start(),!Me.Obj.turboTicker.started&&Me.Obj.turboTicker.start())}const c=()=>{Me.Obj.updateOrientation();const p=i.orientation;let{safeArea:g}=i.layoutOptions;const{displayArea:v}=i.layoutOptions,[x,y,b,_]=v,S=_/b;g=g||[0,0,b,_];const[I,P,k,M]=g,O=M/k,D=document.documentElement.clientWidth,L=document.documentElement.clientHeight,X=L/D;let F,B,j,z;p=="l"?X<=O?(B=L*(_/M),F=B/S,B=Math.min(_,B),F=Math.min(b,F),z=L,j=F):(D<=k?F=D*(b/k):D<=b?F=b:F=D,B=F*S,B=Math.min(_,B),F=Math.min(b,F),z=B,j=D):X>=O?(F=D*(b/k),B=F*S,B=Math.min(_,B),F=Math.min(b,F),j=D,z=B):(L<=M?B=L*(_/M):L<=_?B=_:B=L,F=B/S,B=Math.min(_,B),F=Math.min(b,F),j=F,z=L);const q=F/b,$=(D-F)/2,W=(L-B)/2,H=Math.round(Math.min($,0)),V=Math.round(Math.min(W,0)),{clientWidth:Z,clientHeight:te}=document.documentElement;if(e.renderFrame[0]!=H||e.renderFrame[1]!=V||e.renderFrame[2]!=F||e.renderFrame[3]!=B||e.clientSize[0]!=Z||e.clientSize[1]!=te){e.renderFrame=[H,V,F,B],e.clientSize=[Z,te],r.stage.scale.set(q),r.renderer.resolution=zH(q,t.setting.maxResolution),r.renderer.resize(F,B);const le=Math.max(V/q,y-P)*q,ge=Math.max(H/q,-(I-x))*q;r.view.style.top=`${le}px`,r.view.style.left=`${ge}px`;const Pe=Math.ceil(Math.min(D,j,F)),Fe=Math.round(Math.min(L,z,B)),He=Math.round(Math.max(0,W)),qe=Math.round(Math.max(0,$));a.style.width=`${Pe}px`,a.style.height=`${Fe}px`,a.style.top=`${He}px`,a.style.left=`${qe}px`;let $e=0;p=="l"?$e=Math.max(12,20*(document.documentElement.clientWidth-qe*2)/960):$e=Math.max(12,20*(document.documentElement.clientWidth-qe*2)/540),HH.style.fontSize=`${$e}px`,t.setting.orientation!=p&&n(Ej(p)),Me.Obj.updateViewport(H/q,V/q,Math.round(Pe/q),Math.round(Fe/q)),i.notice.emit($n)}};function d(){h(!!document[u])}return N.useEffect(()=>(document.addEventListener(l,d),()=>{document.removeEventListener(l,d)}),[]),N.useEffect(()=>{function p(g){const v=Math.abs(Math.sin(g/180*Math.PI))==1;if(s){const x=document.getElementById("screen-only-tips-l");v?(x.style.display="none",h(!1)):(x.style.display="block",h(!0))}else if(o){const x=document.getElementById("screen-only-tips-p");v?(x.style.display="block",h(!0)):(x.style.display="none",h(!1))}}ai.any&&(window.screen.orientation?(window.screen.orientation.addEventListener("change",g=>{const v=g.target.angle;p(v)}),p(window.screen.orientation.angle)):(window.addEventListener("orientationchange",g=>{const v=g.target.screen.orientation.angle;p(v)}),p(window.orientation||0)))},[]),Pt.useTick((p,g)=>{(window.scrollX!=0||window.scrollY!=0)&&window.scrollTo(0,0),c()},!0),T.jsx(T.Fragment,{})},GH=()=>{const{state:r}=N.useContext(bt),{soundOn:e,volume:t}=r.setting;return N.useEffect(()=>{Yi.Obj.muted=!e},[e]),N.useEffect(()=>{},[t]),T.jsx(T.Fragment,{})};function j3(r,e){function t(n){if(n&&n.props){const i={},s=n.props;for(const o in s)o.startsWith(e)&&(i[o.slice(2)]=s[o]);return n.props.children&&(i.children=j3(n.props.children,e)),N.cloneElement(n,i)}return n}return Array.isArray(r)?N.Children.map(r,n=>t(n)):t(r)}function X3(r,e=!0){const t=sr(Me.Obj),n=N.useRef(null);N.useEffect(()=>{n.current=r},[r]),N.useEffect(()=>{if(e){const i=s=>n.current.apply(t.turboTicker,[s,t.turboTicker]);return t.turboTicker.add(i),()=>{t.turboTicker&&t.turboTicker.remove(i)}}},[e])}function bc(r,e,t){Pt.useTick(r,e&&!t),X3(r,e&&t)}function u_(r,e,t=[]){const{current:n}=N.useRef({fn:r,timer:null});return N.useEffect(function(){n.fn=r},[r]),N.useCallback(function(...s){n.timer||(n.timer=setTimeout(()=>{clearTimeout(n.timer),delete n.timer},e),n.fn(...s))},t)}function WH(r,e,t=[]){const{current:n}=N.useRef({fn:r,timer:null});return N.useEffect(function(){n.fn=r},[r]),N.useCallback(function(...s){n.timer&&clearTimeout(n.timer),n.timer=setTimeout(()=>{n.fn(...s)},e)},t)}function VH(r,e=[]){const{state:t}=N.useContext(bt),n=t.setting.orientation;return j3(r,`${n}-`)}function sr(r){return N.useMemo(()=>r,[])}function $3(r,e,t,n,i=[]){const{current:s}=N.useRef({timer:null}),[o,a]=N.useState(!1);N.useEffect(()=>{n&&(s.timer=0,a(!0))},i),N.useEffect(()=>{a(n),s.timer=0},[n]),bc((u,l)=>{s.timer+=u,s.timer>t&&(e(),a(!1))},o,r)}function Ts(r,e,t,n=[]){$3(!1,r,e,t,n)}function Sc(r,e,t,n=[]){$3(!0,r,e,t,n)}function H3(r,e,t,n,i=[]){const{current:s}=N.useRef({time:null});N.useEffect(()=>{n&&(s.time=0)},i),N.useEffect(()=>{n&&(s.time=0)},[n]),bc((o,a)=>{s.time+=o,s.time>=e&&(s.time=0,t())},n,r)}function od(r,e,t,n=[]){H3(!1,r,e,t,n)}function NC(r,e,t,n=[]){H3(!0,r,e,t,n)}function Td(){return N.useContext(bt)}const qH=({children:r,Context:e,render:t})=>T.jsx(e.Consumer,{children:n=>t(T.jsxs(e.Provider,{value:n,children:[T.jsx(kj,{}),T.jsx(JH,{}),T.jsx(YH,{}),T.jsx(GH,{}),T.jsx(jH,{}),T.jsx(DH,{}),r]}))}),KH=BH(),QH=FH(),ZH=({children:r,antialias:e=!0,...t})=>{const[n,i]=N.useReducer(KH,QH),[s,...o]=N.Children.map(r,a=>a);return T.jsxs(bt.Provider,{value:{state:n,dispatch:i},children:[T.jsx(qH,{Context:bt,render:a=>T.jsx(Pt.Stage,{options:{backgroundColor:1118481,backgroundAlpha:0,resolution:1,antialias:e,autoDensity:!0},...t,children:a}),children:s}),T.jsx(LH,{}),T.jsx(bt.Consumer,{children:({state:a})=>a.sceneManager.scenes[0]=="preload"?T.jsx(T.Fragment,{}):o})]})},z3=60,BC=Number((1e3/z3).toFixed(2));function JH(){const r=Pt.useApp(),e=Me.Obj,{state:t}=Td(),{speedModel:n}=t.spin;N.useMemo(()=>{r.ticker.maxFPS=r.ticker.minFPS=z3,r.ticker.speed=BC,e.turboTicker.start()},[]);const i=N.useMemo(()=>n=="fast"?2:1,[n]);return N.useMemo(()=>{e.turboTicker.speed=i*BC},[n]),Pt.useTick((s,o)=>{aj(e.getTime(!1)),e.deltaTime(s)},!0),X3((s,o)=>{e.turboTweenGroup.update(e.getTime(!0)),e.deltaTurboTime(s)},!0),T.jsx(T.Fragment,{})}const e9=({children:r})=>{const{state:e}=N.useContext(bt),{scenes:t}=e.sceneManager;return N.useMemo(()=>{const i=[];return N.Children.forEach(r,s=>{t.indexOf(s.props.id)!=-1&&i.push(s)}),i},[t])},be=N.forwardRef(({hitFrame:r,children:e,...t},n)=>{const i=N.useMemo(()=>r?new Ye(...r):null,[]);return T.jsx(Pt.Container,{hitArea:i,...t,ref:n,children:e})}),Ds=({children:r})=>VH(r),Fs=N.forwardRef(({turbo:r=!1,dep:e=[],children:t,id:n,from:i={},to:s={},playing:o=!1,duration:a,yoyo:u,repeat:l,repeatDelay:h,delay:c=0,easing:d=b=>b,onStart:p,onComplete:g,onRepeat:v,onUpdate:x},y)=>{var P,k;const[b,_]=N.useState(!1),{current:S}=N.useRef({tween:null});function I(){var M;(M=S.tween)==null||M.stop(),S.tween=null}return N.useMemo(()=>{if(I(),o){const M=Me.Obj;S.tween=new Uk({...i}).group(r?M.turboTweenGroup:void 0).to({...s},a).repeat(l).repeatDelay(h).delay(c).yoyo(u).start(M.getTime(r))}},[o,...e]),N.useMemo(()=>{var M;(M=S.tween)==null||M.repeat(l)},[l]),N.useMemo(()=>{var M;(M=S.tween)==null||M.delay(c)},[c]),(P=S.tween)==null||P.easing(d).onStart(p).onUpdate((M,O)=>{x&&x(M,O),_(!b)}).onRepeat(v).onComplete(g),N.useImperativeHandle(y,()=>({get repeated(){return S.tween._initialRepeat-S.tween._repeat},get repeat(){return S.tween._repeat}})),N.useEffect(()=>{},[]),t(S.tween?S.tween._object:i,((k=S.tween)==null?void 0:k.isPlaying())||!1)});function t9({children:r,progress:e,onComplete:t,...n}){const{current:i}=N.useRef({percent:0,oldPercent:0});return N.useMemo(()=>{i.oldPercent=i.percent},[e]),T.jsx(be,{...n,children:T.jsx(Fs,{dep:[e],from:{k:0},to:{k:1},playing:!0,duration:500,onComplete:()=>{t&&t(e)},children:({k:s})=>{const o=i.oldPercent+(e-i.oldPercent)*s;return i.percent=o,r(o)}})})}const Vg=r=>{const{children:e,...t}=r,{l:n,p:i}=Me.Obj.configOptions.layoutMap,s=N.useMemo(()=>!!(n&&i),[]),[o,a,u,l]=N.useMemo(()=>{if(s)return[-n.displayArea[0],-n.displayArea[1],-i.displayArea[0],-i.displayArea[1]];{const h=n??i;return[-h.displayArea[0],-h.displayArea[1],0,0]}},[]);return T.jsx(be,{...t,children:s?T.jsx(Ds,{children:T.jsx(be,{"l-x":o,"l-y":a,"p-x":u,"p-y":l,children:e})}):T.jsx(be,{x:o,y:a,children:e})})},r9=({assets:r,next:e,...t})=>{const n=Me.Obj.configOptions.assetVersion,{dispatch:i}=N.useContext(bt),{current:s}=N.useRef({loaded:!1,loggingIn:!1});return N.useEffect(()=>(i(o_(0)),b3(r,n,o=>{i(o_(Math.floor(o*100)))}).then(()=>{s.loaded=!0,i(Hw(e))}),()=>{const o=on(Zr,"gametitle");document.title=o}),[]),T.jsx(Vg,{...t})},n9=({children:r,assets:e,next:t,...n})=>{const i=Me.Obj.configOptions.assetVersion,{state:s,dispatch:o}=N.useContext(bt),{current:a}=N.useRef({loaded:!1,loggingIn:!1}),{loggingIn:u}=s.user,[l,h]=N.useState(0),[c,d]=N.useState(0);function p(){a.loggingIn&&a.loaded&&t&&o(Hw(t))}function g(b){l==100&&(a.loaded=!0,p())}N.useEffect(()=>{u&&(a.loggingIn=!0),p()},[u]);const[v,x]=N.useMemo(()=>[on(Zr,"loggingin"),on(Zr,"loading")],[]),y=N.useMemo(()=>l==100?[`${v}.`,`${v}..`,`${v}...`][c]:[`${x}.`,`${x}..`,`${x}...`][c],[c,l]);return N.useEffect(()=>{o(o_(0)),b3(e,i,b=>{h(Math.floor(b*100))})},[]),od(400,()=>{d((c+1)%3)},!0),T.jsx(Vg,{...n,children:T.jsx(t9,{progress:l,onComplete:g,children:b=>r(b,y)})})};function qg({children:r,active:e=!0,...t}){const[n,i]=N.useState(!1),s=N.useRef(null);return N.useEffect(()=>{i(!n)},[]),T.jsxs(be,{...t,children:[N.cloneElement(r[0],{mask:e?s.current:null}),N.cloneElement(r[1],{ref:s,visible:e})]})}function zw(r){return N.forwardRef(({res:e=r,name:t,...n},i)=>{const s=N.useMemo(()=>$w(e,t),[t]);return T.jsx(Pt.Sprite,{ref:i,texture:s,...n})})}const gt=zw(Yg),i9=zw(w3),va=zw(x3),Vm=N.forwardRef(({name:r,...e},t)=>{const n=N.useMemo(()=>JX(r),[r]);return T.jsx(Pt.Sprite,{ref:t,texture:n,...e})}),mi=N.forwardRef(({style:r,maxScaleLength:e,...t},n)=>{const i=N.useRef(),s=N.useMemo(()=>r instanceof Rs?r:new Rs(r),[]);return N.useEffect(()=>{if(e&&i.current){const o=setTimeout(()=>{const a=i.current.width,u=i.current.scale.x,l=e/a*u,h=u>0?1:-1,c=i.current.scale.y>0?1:-1;l<1?i.current.scale.set(l*h,l*c):i.current.scale.x!=1&&i.current.scale.set(1*h,1*c),clearTimeout(o)},1)}},[t.text,e]),N.useImperativeHandle(n,()=>i.current,[i]),T.jsx(Pt.Text,{ref:i,...t,style:s})}),s9=N.forwardRef(({maxScaleLength:r,...e},t)=>{const n=N.useRef();return N.useEffect(()=>{if(r&&n.current){const i=setTimeout(()=>{const s=n.current.width,o=n.current.scale.x,a=r/s*o,u=o>0?1:-1,l=n.current.scale.y>0?1:-1;a<1?n.current.scale.set(a*u,a*l):n.current.scale.x!=1&&n.current.scale.set(1*u,1*l),clearTimeout(i)},1)}},[e.text,r]),N.useImperativeHandle(t,()=>n.current,[n]),T.jsx(Pt.BitmapText,{ref:n,...e})}),Yu=N.forwardRef(({text:r,...e},t)=>{const n=N.useMemo(()=>on(Zr,r),[r]);return T.jsx(mi,{ref:t,text:n,...e})}),Yw="preview_Bg_L";function o9(r){return VX(r,[{id:Yw,src:"compress/bg-preview-l@1x.[avif,webp,jpg]"},{id:Kp,src:"compress/preload@2x.[avif,webp,png].json"}])}const Y3="fs_Bg_L",Kg="goldFont@1x",G3="spine_all_skel",W3="spine_all_atlas",V3="spine_antic_skel",q3="spine_antic_atlas",K3="spine_spin_skel",Q3="spine_spin_atlas";function a9(r){return KX(r,[{id:Y3,src:"compress/bg-fs-l@2x.[avif,webp,jpg]"},{id:y3,src:"compress/bg-game-l@2x.[avif,webp,jpg]"},{id:V3,src:"compress/atlas/antic/Anticipation.skel"},{id:q3,src:"compress/atlas/antic/@1x/Anticipation@1x.[png,avif,webp,png].atlas"},{id:G3,src:"compress/atlas/all/superduoingame.skel"},{id:W3,src:"compress/atlas/all/@1x/superduoingame@1x.[avif,webp,png].atlas"},{id:Kg,src:"font/goldFont@1x.xml"},{id:K3,src:"compress/atlas/autospin/SpinButton.skel"},{id:Q3,src:"compress/atlas/autospin/@1x/SpinButton@1x.[avif,webp,png].atlas"},{id:w3,src:"uncompress/components@2x.[avif,webp,png].json"}])}const l9=({...r})=>{const e=N.useMemo(()=>a9(Me.Obj.urlOptions.lang),[]);return T.jsx(n9,{assets:e,...r,children:(t,n)=>{const i=-450+450*(t/100);return T.jsxs(Ds,{children:[T.jsx(Vm,{name:Yw,scale:1.0636364}),T.jsxs(be,{"l-x":330,"l-y":780,"p-x":365,"p-y":800,children:[T.jsx(gt,{res:Kp,name:"LoadConatiner.png"}),T.jsxs(qg,{x:7,y:6,children:[T.jsx(gt,{res:Kp,name:"LoadMeter.png"}),T.jsx(gt,{x:i,res:Kp,name:"LoadMetermask.png"})]}),T.jsx(mi,{x:250,y:20,text:`${n}`,anchor:.5,style:{align:"center",fill:"#FFFFFF",fontSize:20,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})]})}})};function u9({children:r,...e}){return r(e)}const c9=({dataSource:r,children:e})=>{const{gameStatus:t,nextGameStatus:n}=r.base,[i,s]=N.useMemo(()=>t.startsWith("pause_")?[!0,Number(t.split("_")[1])]:[!1,0],[t]);return Ts(()=>{n()},s,i),N.cloneElement(e,{dataSource:r})},c_=new dt(0);new dt(1);new dt(-1);function h9(r){const e=r.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function zr(r=new dt(0),e=2,t=0){return r instanceof dt||(r=new dt(r)),h9(r.toFixed(e,dt.ROUND_FLOOR))}var Ve=(r=>(r.showBigWinAmount="showBigWinAmount",r.showWinAmount="showWinAmount",r.showWinAmount2="showWinAmount2",r.showWinLine="showWinLine",r.showFsSS="showFsSS",r.showFSCount="showFSCount",r.showFSResult="showFSResult",r))(Ve||{});const d9=({dataSource:r,children:e})=>{const{state:t,dispatch:n}=N.useContext(bt),{status:i,spinModel:s}=t.spin,{balance:o}=t.user,[a,u]=N.useState(!1),{current:l}=N.useRef({inFS:!1,willIntroFs:!1,fsWinAmount:c_,status:"idle",statusOrder:[]});function h(g,v=!0){l.status!=g&&(l.status==Ve.showFSCount?(l.inFS=!0,l.fsWinAmount=c_,l.willIntroFs=!1):l.status==Ve.showFSResult&&(l.inFS=!1),g==Ve.showFsSS&&(l.willIntroFs=!0),l.status=g,v&&u(!a))}function c(){const g=l.statusOrder.shift();g&&h(g,!0)}function d(){const g=l.statusOrder.indexOf(Ve.showWinLine);g>=0&&(l.statusOrder.splice(g,1),n(Qp(s.balance||o))),c()}N.useMemo(()=>{l.statusOrder=[];let g;if(i=="spin")g="spin";else if(i=="stopping")g="stopping",l.inFS&&(l.fsWinAmount=l.fsWinAmount.add(s.payout));else if(i=="idle")if(l.status=="stopping"){const v=!l.inFS&&s.fs>0;v&&(l.statusOrder.push("pause_1000"),l.statusOrder.push(Ve.showFsSS)),s.payout.gt(0)&&(v||l.statusOrder.push("pause_1000"),s.winType=="big"&&l.statusOrder.push(Ve.showBigWinAmount),l.statusOrder.push(Ve.showWinAmount),l.statusOrder.push(Ve.showWinAmount2),l.statusOrder.push(Ve.showWinLine),v&&l.statusOrder.push("pause_200")),v&&l.statusOrder.push(Ve.showFSCount),l.inFS&&s.fs==0&&l.statusOrder.push(Ve.showFSResult),l.statusOrder.push("idle"),g=l.statusOrder.shift()}else g="idle";h(g,!1)},[i]),N.useMemo(()=>{s&&s.fs>0&&(s.isGetFs?(l.willIntroFs=!0,l.statusOrder=["pause_1000",Ve.showFSCount,"idle"]):(l.inFS=!0,l.statusOrder=["pause_1000","idle"]),c())},[]),Sc(()=>{c()},4e3,l.status==Ve.showFsSS);const p={base:{state:t,dispatch:n,onSkip:d,nextGameStatus:c,gameStatus:l.status},fs:{inFS:l.inFS,willIntroFs:l.willIntroFs,fsWinAmount:l.fsWinAmount.toNumber()},...r};return N.cloneElement(e,{dataSource:p})},f9=({dataSource:r,children:e})=>{const{gameStatus:t,state:n,nextGameStatus:i}=r==null?void 0:r.base,[s,o]=N.useState(0),a=t==Ve.showWinLine,[u,l]=N.useMemo(()=>a?(o(0),[n.spin.spinModel.lw,n.spin.spinModel.lw.length]):[[],0],[a]),h=u[s],c=N.useMemo(()=>{if(h)return 200},[h]);function d(){s+1>=l?i():o(s+1)}Sc(()=>{d()},c,a&&!!h,[h]);const p={lineWin:{line:u[s%l]},...r};return N.cloneElement(e,{dataSource:p})},Gw=N.forwardRef(({maxScaleLength:r,...e},t)=>{const n=N.useRef();return N.useEffect(()=>{if(r&&n.current){const i=setTimeout(()=>{const s=n.current.width,o=n.current.scale.x,a=r/s*o,u=o>0?1:-1,l=n.current.scale.y>0?1:-1;a<1?n.current.scale.set(a*u,a*l):n.current.scale.x!=1&&n.current.scale.set(1*u,1*l),clearTimeout(i)},1)}},[e.text]),N.useImperativeHandle(t,()=>n.current,[n]),T.jsx(Pt.BitmapText,{ref:n,...e})}),Ww="IchannelDefault",so=Yi.Obj;function ni(r){const{dep:e=[],channelId:t=Ww,sound:n,sounds:i=[],volum:s=1,playing:o=!0,allowStop:a=!0,softBgm:u,loop:l=!1,onSoundEnd:h}=r;return N.useEffect(()=>{n&&(o?so.play(t,n,s,u,l,h):a&&so.stop(t,n))},[n,o,...e]),N.useEffect(()=>{i.length>0&&(o?so.plays(t,i,s,u,h):a&&so.stops(t,i))},[i,o,...e]),N.useEffect(()=>{so.setVolumn(t,n,s)},[s]),T.jsx(T.Fragment,{})}function p9(r){const{dep:e=[],channelId:t="channelBgm",sound:n="bgm",volum:i=1,playing:s=!0,soft:o=.3}=r;return N.useEffect(()=>{if(s)return so.playBgm(t,n,i,o),()=>{so.pause(t,n)};so.pause(t,n)},[n,s,...e]),N.useEffect(()=>{so.setVolumn(t,n,i)},[i]),T.jsx(T.Fragment,{})}function Z3(r,e="click"){function t(n){const i={};return i[e]=n,i}return N.forwardRef(({channelId:n=Ww,sound:i,volum:s=1,softBgm:o,onSoundEnd:a,...u},l)=>{const h=u[e];function c(d){Yi.clickSound(),h&&h(d)}return T.jsx(r,{...u,ref:l,...t(c)})})}function m9({volumn:r=1,playing:e,fadeInTime:t=0,fadeOutTime:n=0,children:i}){const[s,o]=N.useState(!1),[a,u]=N.useState(!1),[l,h]=N.useState(!1);return N.useEffect(()=>{e?(o(!0),h(!0),u(!1)):s&&(h(!1),u(!0))},[e]),Ts(()=>{o(!1),u(!1),h(!1)},n,!e&&s),T.jsx(Fs,{dep:[l,a],from:{k:0},to:{k:1},playing:l||a,duration:a?n:t,children:({k:c})=>(c=l?c:1-c,c*=r,N.cloneElement(i,{volum:c,playing:s}))})}const J3=N.forwardRef(({children:r,enable:e=!0,click:t,...n},i)=>{const s=u_(t,300,[]),o={};return o.ontouchend=s||null,o.click=s,T.jsx(be,{cursor:"pointer",interactive:e,...o,...n,ref:i,children:r})}),g9=1e3;function eR({children:r,enable:e=!0,onpointerup:t,onLongPress:n,...i}){const{isMobile:s,isTablet:o}=Me.Obj,[a,u]=N.useState(0),[l,h]=N.useState(!1),[c,d]=N.useState(!1);function p(y){h(!0),u(Date.now())}function g(){d(!1),u(0),h(!1)}function v(y){(!n||!c)&&t&&t(y),g()}Pt.useTick(()=>{!c&&Date.now()-a>=g9&&(d(!0),n&&n())},a>0&&!c);const x={};return s||o?(x.ontouchstart=p,x.ontouchend=v,x.ontouchcancel=g,x.ontouchendoutside=g):(x.onmousedown=p,x.onmouseup=v,x.onmouseout=g,x.onmouseupoutside=g),T.jsx(be,{cursor:"pointer",interactive:e,...i,...x,children:T.jsx(be,{scale:l?.9:1,children:r})})}const el=Z3(J3);Z3(eR,"onpointerup");function h_(r,e){r.moveTo(...e[0]);for(let t=1;t<e.length;t++)r.lineTo(...e[t])}const v9=({path:r,width:e,color:t,border:n,borderColor:i,...s},o)=>{const a=N.useCallback(u=>{u.clear(),n&&(u.lineStyle(n*2+e,i,1),h_(u,r)),u.lineStyle(e,t,1),h_(u,r),u.endFill()},[r,e,t,n,i]);return T.jsx(Pt.Graphics,{ref:o,draw:a,...s})},y9=({res:r,name:e,color:t,width:n,path:i,...s},o)=>{const a=N.useMemo(()=>$w(r,e),[e]),u=N.useCallback(l=>{l.clear(),l.lineTextureStyle({texture:a,color:t,width:2,alignment:0}),h_(l,i),l.endFill()},[i,n,t]);return T.jsx(Pt.Graphics,{ref:o,draw:u,...s})},x9=N.forwardRef(v9);N.forwardRef(y9);function _9(r,e){const t={},{color:n,borderColor:i,...s}=e,o=Ku(n)?n:[n],a=Ku(i)?i:[i],u=o.length,l=a.length;for(const h in r.paylinePathMap){const c=o[Number(h)%u],d=a[Number(h)%l],p=T.jsx(x9,{...s,color:c,borderColor:d,path:r.paylinePathMap[h].map(([g,v])=>{let x=g%1,y=g-x;return r.column==y&&(x=1,y=y-1),[y*r.symbolFrame[0]+x*r.symbolSize[0],v*r.symbolFrame[1]]})},`winline_${h}`);t[h]=p}return t}function w9({lineConfig:r,lineId:e,...t}){const n=N.useMemo(()=>_9(Me.Obj.tableOptions,r),[]);return T.jsx(be,{...t,children:N.Children.map(e,i=>n[i])})}/*!
 * @pixi/particle-emitter - v5.0.8
 * Compiled Mon, 28 Nov 2022 04:01:38 UTC
 *
 * @pixi/particle-emitter is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */class Es{constructor(e,t,n){this.value=e,this.time=t,this.next=null,this.isStepped=!1,n?this.ease=typeof n=="function"?n:nR(n):this.ease=null}static createList(e){if("list"in e){const n=e.list;let i;const{value:s,time:o}=n[0],a=i=new Es(typeof s=="string"?mp(s):s,o,e.ease);if(n.length>2||n.length===2&&n[1].value!==s)for(let u=1;u<n.length;++u){const{value:l,time:h}=n[u];i.next=new Es(typeof l=="string"?mp(l):l,h),i=i.next}return a.isStepped=!!e.isStepped,a}const t=new Es(typeof e.start=="string"?mp(e.start):e.start,0);return e.end!==e.start&&(t.next=new Es(typeof e.end=="string"?mp(e.end):e.end,1)),t}}let ad=Oe.from;const bs=Math.PI/180;function po(r,e){if(!r)return;const t=Math.sin(r),n=Math.cos(r),i=e.x*n-e.y*t,s=e.x*t+e.y*n;e.x=i,e.y=s}function Qg(r,e,t){return r<<16|e<<8|t}function tR(r){return Math.sqrt(r.x*r.x+r.y*r.y)}function b9(r){const e=1/tR(r);r.x*=e,r.y*=e}function rR(r,e){r.x*=e,r.y*=e}function mp(r,e){e||(e={}),r.charAt(0)==="#"?r=r.substr(1):r.indexOf("0x")===0&&(r=r.substr(2));let t;return r.length===8&&(t=r.substr(0,2),r=r.substr(2)),e.r=parseInt(r.substr(0,2),16),e.g=parseInt(r.substr(2,2),16),e.b=parseInt(r.substr(4,2),16),t&&(e.a=parseInt(t,16)),e}function nR(r){const e=r.length,t=1/e;return function(n){const i=e*n|0,s=(n-i*t)*e,o=r[i]||r[e-1];return o.s+s*(2*(1-s)*(o.cp-o.s)+s*(o.e-o.s))}}function S9(r){return r?(r=r.toUpperCase().replace(/ /g,"_"),Ie[r]||Ie.NORMAL):Ie.NORMAL}class Uy extends qi{constructor(e){super(),this.prevChild=this.nextChild=null,this.emitter=e,this.config={},this.anchor.x=this.anchor.y=.5,this.maxLife=0,this.age=0,this.agePercent=0,this.oneOverLife=0,this.next=null,this.prev=null,this.init=this.init,this.kill=this.kill}init(e){this.maxLife=e,this.age=this.agePercent=0,this.rotation=0,this.position.x=this.position.y=0,this.scale.x=this.scale.y=1,this.tint=16777215,this.alpha=1,this.oneOverLife=1/this.maxLife,this.visible=!0}kill(){this.emitter.recycle(this)}destroy(){this.parent&&this.parent.removeChild(this),this.emitter=this.next=this.prev=null,super.destroy()}}var Tt;(function(r){r[r.Spawn=0]="Spawn",r[r.Normal=2]="Normal",r[r.Late=5]="Late"})(Tt||(Tt={}));const jy=jt.shared,Xa=Symbol("Position particle per emitter position");class ft{constructor(e,t){this.initBehaviors=[],this.updateBehaviors=[],this.recycleBehaviors=[],this.minLifetime=0,this.maxLifetime=0,this.customEase=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=new je,this.particlesPerWave=1,this.rotation=0,this.ownerPos=new je,this._prevEmitterPos=new je,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=e,t&&this.init(t),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}static registerBehavior(e){ft.knownBehaviors[e.type]=e}get frequency(){return this._frequency}set frequency(e){typeof e=="number"&&e>0?this._frequency=e:this._frequency=1}get parent(){return this._parent}set parent(e){this.cleanup(),this._parent=e}init(e){if(!e)return;this.cleanup(),this._origConfig=e,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,e.ease?this.customEase=typeof e.ease=="function"?e.ease:nR(e.ease):this.customEase=null,this.particlesPerWave=1,e.particlesPerWave&&e.particlesPerWave>1&&(this.particlesPerWave=e.particlesPerWave),this.frequency=e.frequency,this.spawnChance=typeof e.spawnChance=="number"&&e.spawnChance>0?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos.set(0),e.pos?this.spawnPos.copyFrom(e.pos):this.spawnPos.set(0),this._prevEmitterPos.copyFrom(this.spawnPos),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=e.emit===void 0?!0:!!e.emit,this.autoUpdate=!!e.autoUpdate;const t=e.behaviors.map(n=>{const i=ft.knownBehaviors[n.type];return i?new i(n.config):(console.error(`Unknown behavior: ${n.type}`),null)}).filter(n=>!!n);t.push(Xa),t.sort((n,i)=>n===Xa?i.order===Tt.Spawn?1:-1:i===Xa?n.order===Tt.Spawn?-1:1:n.order-i.order),this.initBehaviors=t.slice(),this.updateBehaviors=t.filter(n=>n!==Xa&&n.updateParticle),this.recycleBehaviors=t.filter(n=>n!==Xa&&n.recycleParticle)}getBehavior(e){return ft.knownBehaviors[e]&&this.initBehaviors.find(t=>t instanceof ft.knownBehaviors[e])||null}fillPool(e){for(;e>0;--e){const t=new Uy(this);t.next=this._poolFirst,this._poolFirst=t}}recycle(e,t=!1){for(let n=0;n<this.recycleBehaviors.length;++n)this.recycleBehaviors[n].recycleParticle(e,!t);e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===this._activeParticlesLast&&(this._activeParticlesLast=e.prev),e===this._activeParticlesFirst&&(this._activeParticlesFirst=e.next),e.prev=null,e.next=this._poolFirst,this._poolFirst=e,e.parent&&e.parent.removeChild(e),--this.particleCount}rotate(e){if(this.rotation===e)return;const t=e-this.rotation;this.rotation=e,po(t,this.spawnPos),this._posChanged=!0}updateSpawnPos(e,t){this._posChanged=!0,this.spawnPos.x=e,this.spawnPos.y=t}updateOwnerPos(e,t){this._posChanged=!0,this.ownerPos.x=e,this.ownerPos.y=t}resetPositionTracking(){this._prevPosIsValid=!1}get emit(){return this._emit}set emit(e){this._emit=!!e,this._emitterLife=this.emitterLifetime}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){this._autoUpdate&&!e?jy.remove(this.update,this):!this._autoUpdate&&e&&jy.add(this.update,this),this._autoUpdate=!!e}playOnceAndDestroy(e){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=e}playOnce(e){this.emit=!0,this._completeCallback=e}update(e){if(this._autoUpdate&&(e=jy.elapsedMS*.001),!this._parent)return;for(let o=this._activeParticlesFirst,a;o;o=a)if(a=o.next,o.age+=e,o.age>o.maxLife||o.age<0)this.recycle(o);else{let u=o.age*o.oneOverLife;this.customEase&&(this.customEase.length===4?u=this.customEase(u,0,1,1):u=this.customEase(u)),o.agePercent=u;for(let l=0;l<this.updateBehaviors.length;++l)if(this.updateBehaviors[l].updateParticle(o,e)){this.recycle(o);break}}let t,n;this._prevPosIsValid&&(t=this._prevEmitterPos.x,n=this._prevEmitterPos.y);const i=this.ownerPos.x+this.spawnPos.x,s=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=e<0?0:e;this._spawnTimer<=0;){if(this._emitterLife>=0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles){this._spawnTimer+=this._frequency;continue}let o,a;if(this._prevPosIsValid&&this._posChanged){const h=1+this._spawnTimer/e;o=(i-t)*h+t,a=(s-n)*h+n}else o=i,a=s;let u=null,l=null;for(let h=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),c=0;c<h;++c){if(this.spawnChance<1&&Math.random()>=this.spawnChance)continue;let d;if(this.minLifetime===this.maxLifetime?d=this.minLifetime:d=Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer>=d)continue;let p;this._poolFirst?(p=this._poolFirst,this._poolFirst=this._poolFirst.next,p.next=null):p=new Uy(this),p.init(d),this.addAtBack?this._parent.addChildAt(p,0):this._parent.addChild(p),u?(l.next=p,p.prev=l,l=p):l=u=p,++this.particleCount}if(u){this._activeParticlesLast?(this._activeParticlesLast.next=u,u.prev=this._activeParticlesLast,this._activeParticlesLast=l):(this._activeParticlesFirst=u,this._activeParticlesLast=l);for(let h=0;h<this.initBehaviors.length;++h){const c=this.initBehaviors[h];if(c===Xa)for(let d=u,p;d;d=p){p=d.next,this.rotation!==0&&(po(this.rotation,d.position),d.rotation+=this.rotation),d.position.x+=o,d.position.y+=a,d.age+=-this._spawnTimer;let g=d.age*d.oneOverLife;this.customEase&&(this.customEase.length===4?g=this.customEase(g,0,1,1):g=this.customEase(g)),d.agePercent=g}else c.initParticles(u)}for(let h=u,c;h;h=c){c=h.next;for(let d=0;d<this.updateBehaviors.length;++d)if(this.updateBehaviors[d].updateParticle(h,-this._spawnTimer)){this.recycle(h);break}}}this._spawnTimer+=this._frequency}if(this._posChanged&&(this._prevEmitterPos.x=i,this._prevEmitterPos.y=s,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst){if(this._completeCallback){const o=this._completeCallback;this._completeCallback=null,o()}this._destroyWhenComplete&&this.destroy()}}emitNow(){const e=this.ownerPos.x+this.spawnPos.x,t=this.ownerPos.y+this.spawnPos.y;let n=null,i=null;for(let s=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),o=0;o<s;++o){if(this.spawnChance<1&&Math.random()>=this.spawnChance)continue;let a;this._poolFirst?(a=this._poolFirst,this._poolFirst=this._poolFirst.next,a.next=null):a=new Uy(this);let u;this.minLifetime===this.maxLifetime?u=this.minLifetime:u=Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,a.init(u),this.addAtBack?this._parent.addChildAt(a,0):this._parent.addChild(a),n?(i.next=a,a.prev=i,i=a):i=n=a,++this.particleCount}if(n){this._activeParticlesLast?(this._activeParticlesLast.next=n,n.prev=this._activeParticlesLast,this._activeParticlesLast=i):(this._activeParticlesFirst=n,this._activeParticlesLast=i);for(let s=0;s<this.initBehaviors.length;++s){const o=this.initBehaviors[s];if(o===Xa)for(let a=n,u;a;a=u)u=a.next,this.rotation!==0&&(po(this.rotation,a.position),a.rotation+=this.rotation),a.position.x+=e,a.position.y+=t;else o.initParticles(n)}}}cleanup(){let e,t;for(e=this._activeParticlesFirst;e;e=t)t=e.next,this.recycle(e,!0);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0}get destroyed(){return!(this._parent&&this.initBehaviors.length)}destroy(){this.autoUpdate=!1,this.cleanup();let e;for(let t=this._poolFirst;t;t=e)e=t.next,t.destroy();this._poolFirst=this._parent=this.spawnPos=this.ownerPos=this.customEase=this._completeCallback=null,this.initBehaviors.length=this.updateBehaviors.length=this.recycleBehaviors.length=0}}ft.knownBehaviors={};let Vw=class{constructor(e){this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h}getRandPos(e){e.x=Math.random()*this.w+this.x,e.y=Math.random()*this.h+this.y}};Vw.type="rect";Vw.editorConfig=null;class Zg{constructor(e){this.x=e.x||0,this.y=e.y||0,this.radius=e.radius,this.innerRadius=e.innerRadius||0,this.rotation=!!e.affectRotation}getRandPos(e){this.innerRadius!==this.radius?e.x=Math.random()*(this.radius-this.innerRadius)+this.innerRadius:e.x=this.radius,e.y=0;const t=Math.random()*Math.PI*2;this.rotation&&(e.rotation+=t),po(t,e.position),e.position.x+=this.x,e.position.y+=this.y}}Zg.type="torus";Zg.editorConfig=null;class qw{constructor(e){this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(e)}init(e){if(!e||!e.length)this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});else if(Array.isArray(e[0]))for(let t=0;t<e.length;++t){const n=e[t];let i=n[0];for(let s=1;s<n.length;++s){const o=n[s];this.segments.push({p1:i,p2:o,l:0}),i=o}}else{let t=e[0];for(let n=1;n<e.length;++n){const i=e[n];this.segments.push({p1:t,p2:i,l:0}),t=i}}for(let t=0;t<this.segments.length;++t){const{p1:n,p2:i}=this.segments[t],s=Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y));this.segments[t].l=s,this.totalLength+=s,this.countingLengths.push(this.totalLength)}}getRandPos(e){const t=Math.random()*this.totalLength;let n,i;if(this.segments.length===1)n=this.segments[0],i=t;else for(let a=0;a<this.countingLengths.length;++a)if(t<this.countingLengths[a]){n=this.segments[a],i=a===0?t:t-this.countingLengths[a-1];break}i/=n.l||1;const{p1:s,p2:o}=n;e.x=s.x+i*(o.x-s.x),e.y=s.y+i*(o.y-s.y)}}qw.type="polygonalChain";qw.editorConfig=null;class Kw{constructor(e){var t;this.order=Tt.Late,this.minStart=e.minStart,this.maxStart=e.maxStart,this.accel=e.accel,this.rotate=!!e.rotate,this.maxSpeed=(t=e.maxSpeed)!==null&&t!==void 0?t:0}initParticles(e){let t=e;for(;t;){const n=Math.random()*(this.maxStart-this.minStart)+this.minStart;t.config.velocity?t.config.velocity.set(n,0):t.config.velocity=new je(n,0),po(t.rotation,t.config.velocity),t=t.next}}updateParticle(e,t){const n=e.config.velocity,i=n.x,s=n.y;if(n.x+=this.accel.x*t,n.y+=this.accel.y*t,this.maxSpeed){const o=tR(n);o>this.maxSpeed&&rR(n,this.maxSpeed/o)}e.x+=(i+n.x)/2*t,e.y+=(s+n.y)/2*t,this.rotate&&(e.rotation=Math.atan2(n.y,n.x))}}Kw.type="moveAcceleration";Kw.editorConfig=null;function T9(r){return this.ease&&(r=this.ease(r)),(this.first.next.value-this.first.value)*r+this.first.value}function E9(r){this.ease&&(r=this.ease(r));const e=this.first.value,t=this.first.next.value,n=(t.r-e.r)*r+e.r,i=(t.g-e.g)*r+e.g,s=(t.b-e.b)*r+e.b;return Qg(n,i,s)}function C9(r){this.ease&&(r=this.ease(r));let e=this.first,t=e.next;for(;r>t.time;)e=t,t=t.next;return r=(r-e.time)/(t.time-e.time),(t.value-e.value)*r+e.value}function A9(r){this.ease&&(r=this.ease(r));let e=this.first,t=e.next;for(;r>t.time;)e=t,t=t.next;r=(r-e.time)/(t.time-e.time);const n=e.value,i=t.value,s=(i.r-n.r)*r+n.r,o=(i.g-n.g)*r+n.g,a=(i.b-n.b)*r+n.b;return Qg(s,o,a)}function P9(r){this.ease&&(r=this.ease(r));let e=this.first;for(;e.next&&r>e.next.time;)e=e.next;return e.value}function k9(r){this.ease&&(r=this.ease(r));let e=this.first;for(;e.next&&r>e.next.time;)e=e.next;const t=e.value;return Qg(t.r,t.g,t.b)}class Ed{constructor(e=!1){this.first=null,this.isColor=!!e,this.interpolate=null,this.ease=null}reset(e){this.first=e,e.next&&e.next.time>=1?this.interpolate=this.isColor?E9:T9:e.isStepped?this.interpolate=this.isColor?k9:P9:this.interpolate=this.isColor?A9:C9,this.ease=this.first.ease}}class Qw{constructor(e){this.order=Tt.Normal,this.list=new Ed(!1),this.list.reset(Es.createList(e.alpha))}initParticles(e){let t=e;for(;t;)t.alpha=this.list.first.value,t=t.next}updateParticle(e){e.alpha=this.list.interpolate(e.agePercent)}}Qw.type="alpha";Qw.editorConfig=null;class Zw{constructor(e){this.order=Tt.Normal,this.value=e.alpha}initParticles(e){let t=e;for(;t;)t.alpha=this.value,t=t.next}}Zw.type="alphaStatic";Zw.editorConfig=null;function iR(r){const e=[];for(let t=0;t<r.length;++t){let n=r[t];if(typeof n=="string")e.push(ad(n));else if(n instanceof Oe)e.push(n);else{let i=n.count||1;for(typeof n.texture=="string"?n=ad(n.texture):n=n.texture;i>0;--i)e.push(n)}}return e}class Jw{constructor(e){this.order=Tt.Normal,this.anims=[];for(let t=0;t<e.anims.length;++t){const n=e.anims[t],i=iR(n.textures),s=n.framerate<0?-1:n.framerate>0?n.framerate:60,o={textures:i,duration:s>0?i.length/s:0,framerate:s,loop:s>0?!!n.loop:!1};this.anims.push(o)}}initParticles(e){let t=e;for(;t;){const n=Math.floor(Math.random()*this.anims.length),i=t.config.anim=this.anims[n];t.texture=i.textures[0],t.config.animElapsed=0,i.framerate===-1?(t.config.animDuration=t.maxLife,t.config.animFramerate=i.textures.length/t.maxLife):(t.config.animDuration=i.duration,t.config.animFramerate=i.framerate),t=t.next}}updateParticle(e,t){const n=e.config,i=n.anim;n.animElapsed+=t,n.animElapsed>=n.animDuration&&(n.anim.loop?n.animElapsed=n.animElapsed%n.animDuration:n.animElapsed=n.animDuration-1e-6);const s=n.animElapsed*n.animFramerate+1e-7|0;e.texture=i.textures[s]||i.textures[i.textures.length-1]||Oe.EMPTY}}Jw.type="animatedRandom";Jw.editorConfig=null;class eb{constructor(e){this.order=Tt.Normal;const t=e.anim,n=iR(t.textures),i=t.framerate<0?-1:t.framerate>0?t.framerate:60;this.anim={textures:n,duration:i>0?n.length/i:0,framerate:i,loop:i>0?!!t.loop:!1}}initParticles(e){let t=e;const n=this.anim;for(;t;)t.texture=n.textures[0],t.config.animElapsed=0,n.framerate===-1?(t.config.animDuration=t.maxLife,t.config.animFramerate=n.textures.length/t.maxLife):(t.config.animDuration=n.duration,t.config.animFramerate=n.framerate),t=t.next}updateParticle(e,t){const n=this.anim,i=e.config;i.animElapsed+=t,i.animElapsed>=i.animDuration&&(n.loop?i.animElapsed=i.animElapsed%i.animDuration:i.animElapsed=i.animDuration-1e-6);const s=i.animElapsed*i.animFramerate+1e-7|0;e.texture=n.textures[s]||n.textures[n.textures.length-1]||Oe.EMPTY}}eb.type="animatedSingle";eb.editorConfig=null;class tb{constructor(e){this.order=Tt.Normal,this.value=e.blendMode}initParticles(e){let t=e;for(;t;)t.blendMode=S9(this.value),t=t.next}}tb.type="blendMode";tb.editorConfig=null;class rb{constructor(e){this.order=Tt.Spawn,this.spacing=e.spacing*bs,this.start=e.start*bs,this.distance=e.distance}initParticles(e){let t=0,n=e;for(;n;){let i;this.spacing?i=this.start+this.spacing*t:i=Math.random()*Math.PI*2,n.rotation=i,this.distance&&(n.position.x=this.distance,po(i,n.position)),n=n.next,++t}}}rb.type="spawnBurst";rb.editorConfig=null;class nb{constructor(e){this.order=Tt.Normal,this.list=new Ed(!0),this.list.reset(Es.createList(e.color))}initParticles(e){let t=e;const n=this.list.first.value,i=Qg(n.r,n.g,n.b);for(;t;)t.tint=i,t=t.next}updateParticle(e){e.tint=this.list.interpolate(e.agePercent)}}nb.type="color";nb.editorConfig=null;class ib{constructor(e){this.order=Tt.Normal;let t=e.color;t.charAt(0)==="#"?t=t.substr(1):t.indexOf("0x")===0&&(t=t.substr(2)),this.value=parseInt(t,16)}initParticles(e){let t=e;for(;t;)t.tint=this.value,t=t.next}}ib.type="colorStatic";ib.editorConfig=null;class sb{constructor(e){this.order=Tt.Normal,this.index=0,this.textures=e.textures.map(t=>typeof t=="string"?ad(t):t)}initParticles(e){let t=e;for(;t;)t.texture=this.textures[this.index],++this.index>=this.textures.length&&(this.index=0),t=t.next}}sb.type="textureOrdered";sb.editorConfig=null;const ql=new je,sR=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2","abs","acos","acosh","asin","asinh","atan","atanh","atan2","cbrt","ceil","cos","cosh","exp","expm1","floor","fround","hypot","log","log1p","log10","log2","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh"],I9=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(sR).join("|"),"g");function M9(r){const e=r.match(I9);for(let t=e.length-1;t>=0;--t)sR.indexOf(e[t])>=0&&(e[t]=`Math.${e[t]}`);return r=e.join(""),new Function("x",`return ${r};`)}class ob{constructor(e){var t;if(this.order=Tt.Late,e.path)if(typeof e.path=="function")this.path=e.path;else try{this.path=M9(e.path)}catch{this.path=null}else this.path=n=>n;this.list=new Ed(!1),this.list.reset(Es.createList(e.speed)),this.minMult=(t=e.minMult)!==null&&t!==void 0?t:1}initParticles(e){let t=e;for(;t;){t.config.initRotation=t.rotation,t.config.initPosition?t.config.initPosition.copyFrom(t.position):t.config.initPosition=new je(t.x,t.y),t.config.movement=0;const n=Math.random()*(1-this.minMult)+this.minMult;t.config.speedMult=n,t=t.next}}updateParticle(e,t){const n=this.list.interpolate(e.agePercent)*e.config.speedMult;e.config.movement+=n*t,ql.x=e.config.movement,ql.y=this.path(ql.x),po(e.config.initRotation,ql),e.position.x=e.config.initPosition.x+ql.x,e.position.y=e.config.initPosition.y+ql.y}}ob.type="movePath";ob.editorConfig=null;class ab{constructor(){this.order=Tt.Spawn}initParticles(e){}}ab.type="spawnPoint";ab.editorConfig=null;class lb{constructor(e){this.order=Tt.Normal,this.textures=e.textures.map(t=>typeof t=="string"?ad(t):t)}initParticles(e){let t=e;for(;t;){const n=Math.floor(Math.random()*this.textures.length);t.texture=this.textures[n],t=t.next}}}lb.type="textureRandom";lb.editorConfig=null;class ub{constructor(e){this.order=Tt.Normal,this.minStart=e.minStart*bs,this.maxStart=e.maxStart*bs,this.minSpeed=e.minSpeed*bs,this.maxSpeed=e.maxSpeed*bs,this.accel=e.accel*bs}initParticles(e){let t=e;for(;t;)this.minStart===this.maxStart?t.rotation+=this.maxStart:t.rotation+=Math.random()*(this.maxStart-this.minStart)+this.minStart,t.config.rotSpeed=Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed,t=t.next}updateParticle(e,t){if(this.accel){const n=e.config.rotSpeed;e.config.rotSpeed+=this.accel*t,e.rotation+=(e.config.rotSpeed+n)/2*t}else e.rotation+=e.config.rotSpeed*t}}ub.type="rotation";ub.editorConfig=null;class cb{constructor(e){this.order=Tt.Normal,this.min=e.min*bs,this.max=e.max*bs}initParticles(e){let t=e;for(;t;)this.min===this.max?t.rotation+=this.max:t.rotation+=Math.random()*(this.max-this.min)+this.min,t=t.next}}cb.type="rotationStatic";cb.editorConfig=null;class hb{constructor(e){this.order=Tt.Late+1,this.rotation=(e.rotation||0)*bs}initParticles(e){let t=e;for(;t;)t.rotation=this.rotation,t=t.next}}hb.type="noRotation";hb.editorConfig=null;class db{constructor(e){var t;this.order=Tt.Normal,this.list=new Ed(!1),this.list.reset(Es.createList(e.scale)),this.minMult=(t=e.minMult)!==null&&t!==void 0?t:1}initParticles(e){let t=e;for(;t;){const n=Math.random()*(1-this.minMult)+this.minMult;t.config.scaleMult=n,t.scale.x=t.scale.y=this.list.first.value*n,t=t.next}}updateParticle(e){e.scale.x=e.scale.y=this.list.interpolate(e.agePercent)*e.config.scaleMult}}db.type="scale";db.editorConfig=null;class fb{constructor(e){this.order=Tt.Normal,this.min=e.min,this.max=e.max}initParticles(e){let t=e;for(;t;){const n=Math.random()*(this.max-this.min)+this.min;t.scale.x=t.scale.y=n,t=t.next}}}fb.type="scaleStatic";fb.editorConfig=null;class Gi{constructor(e){this.order=Tt.Spawn;const t=Gi.shapes[e.type];if(!t)throw new Error(`No shape found with type '${e.type}'`);this.shape=new t(e.data)}static registerShape(e,t){Gi.shapes[t||e.type]=e}initParticles(e){let t=e;for(;t;)this.shape.getRandPos(t),t=t.next}}Gi.type="spawnShape";Gi.editorConfig=null;Gi.shapes={};Gi.registerShape(qw);Gi.registerShape(Vw);Gi.registerShape(Zg);Gi.registerShape(Zg,"circle");class pb{constructor(e){this.order=Tt.Normal,this.texture=typeof e.texture=="string"?ad(e.texture):e.texture}initParticles(e){let t=e;for(;t;)t.texture=this.texture,t=t.next}}pb.type="textureSingle";pb.editorConfig=null;class mb{constructor(e){var t;this.order=Tt.Late,this.list=new Ed(!1),this.list.reset(Es.createList(e.speed)),this.minMult=(t=e.minMult)!==null&&t!==void 0?t:1}initParticles(e){let t=e;for(;t;){const n=Math.random()*(1-this.minMult)+this.minMult;t.config.speedMult=n,t.config.velocity?t.config.velocity.set(this.list.first.value*n,0):t.config.velocity=new je(this.list.first.value*n,0),po(t.rotation,t.config.velocity),t=t.next}}updateParticle(e,t){const n=this.list.interpolate(e.agePercent)*e.config.speedMult,i=e.config.velocity;b9(i),rR(i,n),e.x+=i.x*t,e.y+=i.y*t}}mb.type="moveSpeed";mb.editorConfig=null;class gb{constructor(e){this.order=Tt.Late,this.min=e.min,this.max=e.max}initParticles(e){let t=e;for(;t;){const n=Math.random()*(this.max-this.min)+this.min;t.config.velocity?t.config.velocity.set(n,0):t.config.velocity=new je(n,0),po(t.rotation,t.config.velocity),t=t.next}}updateParticle(e,t){const n=e.config.velocity;e.x+=n.x*t,e.y+=n.y*t}}gb.type="moveSpeedStatic";gb.editorConfig=null;function oR(r,e){var t,n,i,s,o,a,u,l,h,c,d,p,g,v,x,y,b,_,S,I,P;if("behaviors"in r)return r;const k={lifetime:r.lifetime,ease:r.ease,particlesPerWave:r.particlesPerWave,frequency:r.frequency,spawnChance:r.spawnChance,emitterLifetime:r.emitterLifetime,maxParticles:r.maxParticles,addAtBack:r.addAtBack,pos:r.pos,emit:r.emit,autoUpdate:r.autoUpdate,behaviors:[]};if(r.alpha)if("start"in r.alpha)if(r.alpha.start===r.alpha.end)r.alpha.start!==1&&k.behaviors.push({type:"alphaStatic",config:{alpha:r.alpha.start}});else{const M={list:[{time:0,value:r.alpha.start},{time:1,value:r.alpha.end}]};k.behaviors.push({type:"alpha",config:{alpha:M}})}else r.alpha.list.length===1?r.alpha.list[0].value!==1&&k.behaviors.push({type:"alphaStatic",config:{alpha:r.alpha.list[0].value}}):k.behaviors.push({type:"alpha",config:{alpha:r.alpha}});if(r.acceleration&&(r.acceleration.x||r.acceleration.y)){let M,O;"start"in r.speed?(M=r.speed.start*((t=r.speed.minimumSpeedMultiplier)!==null&&t!==void 0?t:1),O=r.speed.start):(M=r.speed.list[0].value*((n=r.minimumSpeedMultiplier)!==null&&n!==void 0?n:1),O=r.speed.list[0].value),k.behaviors.push({type:"moveAcceleration",config:{accel:r.acceleration,minStart:M,maxStart:O,rotate:!r.noRotation,maxSpeed:r.maxSpeed}})}else if(!((i=r.extraData)===null||i===void 0)&&i.path){let M,O;"start"in r.speed?(O=(s=r.speed.minimumSpeedMultiplier)!==null&&s!==void 0?s:1,r.speed.start===r.speed.end?M={list:[{time:0,value:r.speed.start}]}:M={list:[{time:0,value:r.speed.start},{time:1,value:r.speed.end}]}):(M=r.speed,O=(o=r.minimumSpeedMultiplier)!==null&&o!==void 0?o:1),k.behaviors.push({type:"movePath",config:{path:r.extraData.path,speed:M,minMult:O}})}else if(r.speed)if("start"in r.speed)if(r.speed.start===r.speed.end)k.behaviors.push({type:"moveSpeedStatic",config:{min:r.speed.start*((a=r.speed.minimumSpeedMultiplier)!==null&&a!==void 0?a:1),max:r.speed.start}});else{const M={list:[{time:0,value:r.speed.start},{time:1,value:r.speed.end}]};k.behaviors.push({type:"moveSpeed",config:{speed:M,minMult:r.speed.minimumSpeedMultiplier}})}else r.speed.list.length===1?k.behaviors.push({type:"moveSpeedStatic",config:{min:r.speed.list[0].value*((u=r.minimumSpeedMultiplier)!==null&&u!==void 0?u:1),max:r.speed.list[0].value}}):k.behaviors.push({type:"moveSpeed",config:{speed:r.speed,minMult:(l=r.minimumSpeedMultiplier)!==null&&l!==void 0?l:1}});if(r.scale)if("start"in r.scale){const M=(h=r.scale.minimumScaleMultiplier)!==null&&h!==void 0?h:1;if(r.scale.start===r.scale.end)k.behaviors.push({type:"scaleStatic",config:{min:r.scale.start*M,max:r.scale.start}});else{const O={list:[{time:0,value:r.scale.start},{time:1,value:r.scale.end}]};k.behaviors.push({type:"scale",config:{scale:O,minMult:M}})}}else if(r.scale.list.length===1){const M=(c=r.minimumScaleMultiplier)!==null&&c!==void 0?c:1,O=r.scale.list[0].value;k.behaviors.push({type:"scaleStatic",config:{min:O*M,max:O}})}else k.behaviors.push({type:"scale",config:{scale:r.scale,minMult:(d=r.minimumScaleMultiplier)!==null&&d!==void 0?d:1}});if(r.color)if("start"in r.color)if(r.color.start===r.color.end)r.color.start!=="ffffff"&&k.behaviors.push({type:"colorStatic",config:{color:r.color.start}});else{const M={list:[{time:0,value:r.color.start},{time:1,value:r.color.end}]};k.behaviors.push({type:"color",config:{color:M}})}else r.color.list.length===1?r.color.list[0].value!=="ffffff"&&k.behaviors.push({type:"colorStatic",config:{color:r.color.list[0].value}}):k.behaviors.push({type:"color",config:{color:r.color}});if(r.rotationAcceleration||!((p=r.rotationSpeed)===null||p===void 0)&&p.min||!((g=r.rotationSpeed)===null||g===void 0)&&g.max?k.behaviors.push({type:"rotation",config:{accel:r.rotationAcceleration||0,minSpeed:((v=r.rotationSpeed)===null||v===void 0?void 0:v.min)||0,maxSpeed:((x=r.rotationSpeed)===null||x===void 0?void 0:x.max)||0,minStart:((y=r.startRotation)===null||y===void 0?void 0:y.min)||0,maxStart:((b=r.startRotation)===null||b===void 0?void 0:b.max)||0}}):(!((_=r.startRotation)===null||_===void 0)&&_.min||!((S=r.startRotation)===null||S===void 0)&&S.max)&&k.behaviors.push({type:"rotationStatic",config:{min:((I=r.startRotation)===null||I===void 0?void 0:I.min)||0,max:((P=r.startRotation)===null||P===void 0?void 0:P.max)||0}}),r.noRotation&&k.behaviors.push({type:"noRotation",config:{}}),r.blendMode&&r.blendMode!=="normal"&&k.behaviors.push({type:"blendMode",config:{blendMode:r.blendMode}}),Array.isArray(e)&&typeof e[0]!="string"&&"framerate"in e[0]){for(let M=0;M<e.length;++M)e[M].framerate==="matchLife"&&(e[M].framerate=-1);k.behaviors.push({type:"animatedRandom",config:{anims:e}})}else typeof e!="string"&&"framerate"in e?(e.framerate==="matchLife"&&(e.framerate=-1),k.behaviors.push({type:"animatedSingle",config:{anim:e}})):r.orderedArt&&Array.isArray(e)?k.behaviors.push({type:"textureOrdered",config:{textures:e}}):Array.isArray(e)?k.behaviors.push({type:"textureRandom",config:{textures:e}}):k.behaviors.push({type:"textureSingle",config:{texture:e}});if(r.spawnType==="burst")k.behaviors.push({type:"spawnBurst",config:{start:r.angleStart||0,spacing:r.particleSpacing,distance:0}});else if(r.spawnType==="point")k.behaviors.push({type:"spawnPoint",config:{}});else{let M;r.spawnType==="ring"?M={type:"torus",data:{x:r.spawnCircle.x,y:r.spawnCircle.y,radius:r.spawnCircle.r,innerRadius:r.spawnCircle.minR,affectRotation:!0}}:r.spawnType==="circle"?M={type:"torus",data:{x:r.spawnCircle.x,y:r.spawnCircle.y,radius:r.spawnCircle.r,innerRadius:0,affectRotation:!1}}:r.spawnType==="rect"?M={type:"rect",data:r.spawnRect}:r.spawnType==="polygonalChain"&&(M={type:"polygonalChain",data:r.spawnPolygon}),M&&k.behaviors.push({type:"spawnShape",config:M})}return k}ft.registerBehavior(Kw);ft.registerBehavior(Qw);ft.registerBehavior(Zw);ft.registerBehavior(Jw);ft.registerBehavior(eb);ft.registerBehavior(tb);ft.registerBehavior(rb);ft.registerBehavior(nb);ft.registerBehavior(ib);ft.registerBehavior(sb);ft.registerBehavior(ob);ft.registerBehavior(ab);ft.registerBehavior(lb);ft.registerBehavior(ub);ft.registerBehavior(cb);ft.registerBehavior(hb);ft.registerBehavior(db);ft.registerBehavior(fb);ft.registerBehavior(Gi);ft.registerBehavior(pb);ft.registerBehavior(mb);ft.registerBehavior(gb);const R9={Random:(r,e=0)=>Math.floor(Math.random()*(r-e))+e},FC={defaultUp:(r,e,t)=>1/2*e*t*t+r*t,up:(r,e,t,n)=>{if(t=t/1e3,n=n/1e3,t==0)return 0;const i=(e-r)/t;return r*n+i*n*n/2},down:(r,e,t,n)=>{if(t=t/1e3,n=n/1e3,t==0)return 0;const i=(r-e)/t;return r*n-i*n*n/2}};function xn(r,e){const t=[];for(let n=0;n<r;n++)t.push(e(n));return t}function Tl(r){return r[r.length-1]}function aR(r){return r[R9.Random(r.length)]}function O9(r){return oR({alpha:{start:1,end:.7},scale:{start:.4,end:.8,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:200,end:800,minimumSpeedMultiplier:3},acceleration:{x:0,y:700},maxSpeed:0,startRotation:{min:240,max:270},noRotation:!1,rotationSpeed:{min:-50,max:50},lifetime:{min:2,max:3},blendMode:"normal",frequency:.1,emitterLifetime:r,maxParticles:50,pos:{x:0,y:0},addAtBack:!1,spawnType:"rect",spawnRect:{x:-25,y:0,w:50,h:0}},{framerate:0,loop:!0,textures:xn(18,e=>`coin_${e+1}.png`)})}function Jg(r){return oR({alpha:{start:1,end:.8},scale:{start:.5,end:.9,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:200,end:500,minimumSpeedMultiplier:2.5},acceleration:{x:0,y:1e3},maxSpeed:0,startRotation:{min:240,max:290},noRotation:!1,rotationSpeed:{min:-50,max:50},lifetime:{min:1.5,max:2},blendMode:"normal",frequency:.1,emitterLifetime:r,maxParticles:30,pos:{x:0,y:0},addAtBack:!1,spawnType:"rect",spawnRect:{x:-25,y:0,w:50,h:0}},{framerate:0,loop:!0,textures:xn(18,e=>`coin_${e+1}.png`)})}const wu=({turbo:r=!1,playing:e=!1,config:t,...n})=>{const i=N.useRef(),[s,o]=N.useState(null);return bc((a,u)=>{s.update(a/1e3)},e,r),N.useEffect(()=>{!e&&s?s.cleanup():e&&s&&s.playOnce()},[e]),N.useEffect(()=>{const a=new ft(i.current,t);return o(a),()=>{a.destroy()}},[]),T.jsx(Pt.ParticleContainer,{ref:i,...n})},N9=({frame:r=[0,0,100,100],color:e,radius:t,...n},i)=>{const s=N.useCallback(o=>{o.clear(),o.beginFill(e),t?o.drawRoundedRect(...r,t):o.drawRect(...r),o.endFill()},[...r,e,t]);return T.jsx(Pt.Graphics,{ref:i,draw:s,...n})},ia=N.forwardRef(N9);function B9({selected:r=0,children:e,duration:t,...n}){const{current:i}=N.useRef({index:r}),[s,o]=N.useState(!1),a=N.useMemo(()=>N.Children.count(e),[]);return od(t,()=>{i.index=(i.index+1)%a,o(!s)},!0),T.jsx(be,{...n,children:N.Children.map(e,(u,l)=>{let h,c=!1;return l==i.index?(h={from:{alpha:0,visible:1},to:{alpha:1,visible:1},duration:200},c=!0):h={from:{visible:0}},T.jsx(Fs,{dep:[`${l}${r}`],...h,playing:c,children:d=>N.cloneElement(u,d)},`SlideTipTween${l}`)})})}function e0({children:r,slotName:e}){const[t,n]=r,i=N.useRef(null),s=N.useRef(null);return N.useEffect(()=>{if(i.current&&s.current){const o=i.current.skeleton.findSlot(e);i.current.addSlotObject(o,s.current)}},[i,s]),T.jsxs(be,{children:[N.cloneElement(t,{ref:i}),T.jsx(be,{ref:s,children:n})]})}function Cd(r){return N.forwardRef(({turbo:e=!1,text:t=new dt(0),tweenOptions:n={},tmp:i="{}",...s},o)=>{const{current:a}=N.useRef({amount:0,id:0}),u=Number(t.toString()),[l,h]=N.useMemo(()=>{const c=a.amount;return a.amount=u,[a.id++,c]},[u]);return T.jsx(Fs,{dep:[l],playing:!0,turbo:e,from:{text:h},to:{text:u},duration:1e3,...n,children:c=>T.jsx(r,{ref:o,...s,text:i.replace("{}",zr(c.text))})})})}const d_=Cd(mi);Cd(Yu);Cd(s9);Cd(({text:r,...e})=>T.jsx("div",{...e,children:r}));Cd(({text:r,cb:e,...t})=>T.jsx("div",{...t,children:e(r)}));function F9({children:r,speed:e}){const[t,n]=N.useState(0);return Pt.useTick((i,s)=>{n((i/1e3*(e*360)+t)%360)},!0),r(Math.PI*2*(t/360))}const og=class og{constructor(){C(this,"keys",[]);C(this,"keysChangedFCMap",{});window.addEventListener("keydown",this.onKeyDownHandler.bind(this)),window.addEventListener("keyup",this.onKeyUpHandler.bind(this))}static get Obj(){return this._Obj||(this._Obj=new og),this._Obj}onKeyDownHandler(e){if(e&&e.key){const t=e.key.toLowerCase();this.keys.indexOf(t)==-1&&this.keys.push(t)}}onKeyUpHandler(e){if(e&&e.key){let t=e.key.toLowerCase();const n=this.keys.indexOf(t);if(n>-1){t=Ij(t);const i=`onKey${t==" "?"Space":t}`,s=this.keysChangedFCMap[i];for(const o of s||[])o();this.keys.splice(n,1)}}}setKeysFCMap(e,t){const n=this.keysChangedFCMap[e];n?n.push(t):this.keysChangedFCMap[e]=[t]}removeFc(e,t){const n=this.keysChangedFCMap[e],i=n.indexOf(t);i>-1&&n.splice(i,1)}};C(og,"_Obj");let f_=og;function vb({enable:r=!0,sound:e=!0,...t}){return N.useEffect(()=>{const n=f_.Obj,i=[];if(r){for(const o in t)o.match(/onKey[A-Z]\w+/)&&i.push(o);const s={};for(const o of i){let a=function(){u(),Yi.clickSound()};const u=t[o];n.setKeysFCMap(o,a),s[o]=a}return()=>{for(const o of i)n.removeFc(o,s[o])}}},[t]),T.jsx(T.Fragment,{})}const lR=N.forwardRef(({turbo:r=!1,res:e=Yg,animation:t,isPlaying:n=!1,startFrame:i,...s},o)=>{const a=N.useRef(),u=N.useMemo(()=>{let l=t;wA(t)&&(l=[t]);let h=[];for(let c=0;c<l.length;c++)h=[...h,...e$(e,l[c])];return h},[t]);return N.useEffect(()=>{n&&mn(i)&&a.current.gotoAndPlay(i)},[n]),N.useImperativeHandle(o,()=>a.current,[a]),bc((l,h)=>{a.current.update(l/h.elapsedMS)},n,r),T.jsx(Pt.AnimatedSprite,{ref:a,autoUpdate:!1,textures:u,isPlaying:n,...s})});N.forwardRef(({dep:r=[],onLoop:e,onRepeatComplete:t,repeat:n,...i},s)=>{const{current:o}=N.useRef({loopTimes:0}),a=i.isPlaying;function u(){o.loopTimes++;const l=o.loopTimes;e&&e(l),n==l&&t&&t()}return N.useEffect(()=>{o.loopTimes=0},[a,...r]),T.jsx(lR,{ref:s,...i,onLoop:u})});function L9(r,e,t,n,i){return N.forwardRef((s,o)=>T.jsx(r,{ref:o,res:e,animation:t,...i,animationSpeed:n,...s}))}if(typeof window<"u"&&window.PIXI){let r=window.require;window.require=e=>{if(r)return r(e);if(e.startsWith("@pixi/"))return window.PIXI}}class uR{constructor(){C(this,"entries",{});C(this,"size",0)}add(e){let t=this.entries[e];return this.entries[e]=!0,t?!1:(this.size++,!0)}addAll(e){let t=this.size;for(var n=0,i=e.length;n<i;n++)this.add(e[n]);return t!=this.size}contains(e){return this.entries[e]}clear(){this.entries={},this.size=0}}const On=class On{constructor(e=0,t=0,n=0,i=0){C(this,"r");C(this,"g");C(this,"b");C(this,"a");this.r=e,this.g=t,this.b=n,this.a=i}set(e,t,n,i){return this.r=e,this.g=t,this.b=n,this.a=i,this.clamp()}setFromColor(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}setFromString(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this}add(e,t,n,i){return this.r+=e,this.g+=t,this.b+=n,this.a+=i,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(e,t){e.r=((t&4278190080)>>>24)/255,e.g=((t&16711680)>>>16)/255,e.b=((t&65280)>>>8)/255,e.a=(t&255)/255}static rgb888ToColor(e,t){e.r=((t&16711680)>>>16)/255,e.g=((t&65280)>>>8)/255,e.b=(t&255)/255}toRgb888(){const e=t=>("0"+(t*255).toString(16)).slice(-2);return+("0x"+e(this.r)+e(this.g)+e(this.b))}static fromString(e){return new On().setFromString(e)}};C(On,"WHITE",new On(1,1,1,1)),C(On,"RED",new On(1,0,0,1)),C(On,"GREEN",new On(0,1,0,1)),C(On,"BLUE",new On(0,0,1,1)),C(On,"MAGENTA",new On(1,0,1,1));let Xe=On;const ar=class ar{static clamp(e,t,n){return e<t?t:e>n?n:e}static cosDeg(e){return Math.cos(e*ar.degRad)}static sinDeg(e){return Math.sin(e*ar.degRad)}static atan2Deg(e,t){return Math.atan2(e,t)*ar.degRad}static signum(e){return e>0?1:e<0?-1:0}static toInt(e){return e>0?Math.floor(e):Math.ceil(e)}static cbrt(e){let t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t}static randomTriangular(e,t){return ar.randomTriangularWith(e,t,(e+t)*.5)}static randomTriangularWith(e,t,n){let i=Math.random(),s=t-e;return i<=(n-e)/s?e+Math.sqrt(i*s*(n-e)):t-Math.sqrt((1-i)*s*(t-n))}static isPowerOfTwo(e){return e&&(e&e-1)===0}};C(ar,"PI",3.1415927),C(ar,"PI2",ar.PI*2),C(ar,"invPI2",1/ar.PI2),C(ar,"radiansToDegrees",180/ar.PI),C(ar,"radDeg",ar.radiansToDegrees),C(ar,"degreesToRadians",ar.PI/180),C(ar,"degRad",ar.degreesToRadians);let ce=ar;const Vo=class Vo{static arrayCopy(e,t,n,i,s){for(let o=t,a=i;o<t+s;o++,a++)n[a]=e[o]}static arrayFill(e,t,n,i){for(let s=t;s<n;s++)e[s]=i}static setArraySize(e,t,n=0){let i=e.length;if(i==t)return e;if(e.length=t,i<t)for(let s=i;s<t;s++)e[s]=n;return e}static ensureArrayCapacity(e,t,n=0){return e.length>=t?e:Vo.setArraySize(e,t,n)}static newArray(e,t){let n=new Array(e);for(let i=0;i<e;i++)n[i]=t;return n}static newFloatArray(e){if(Vo.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);{let t=new Array(e);for(let n=0;n<t.length;n++)t[n]=0;return t}}static newShortArray(e){if(Vo.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);{let t=new Array(e);for(let n=0;n<t.length;n++)t[n]=0;return t}}static toFloatArray(e){return Vo.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}static toSinglePrecision(e){return Vo.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e}static webkit602BugfixHelper(e,t){}static contains(e,t,n=!0){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1}static enumValue(e,t){return e[t[0].toUpperCase()+t.slice(1)]}};C(Vo,"SUPPORTS_TYPED_ARRAYS",typeof Float32Array<"u");let pe=Vo;class p_{constructor(e){C(this,"items",new Array);C(this,"instantiator");this.instantiator=e}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(e){e.reset&&e.reset(),this.items.push(e)}freeAll(e){for(let t=0;t<e.length;t++)this.free(e[t])}clear(){this.items.length=0}}class qm{constructor(e=0,t=0){C(this,"x");C(this,"y");this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}length(){let e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}normalize(){let e=this.length();return e!=0&&(this.x/=e,this.y/=e),this}}class cR{constructor(e){C(this,"name");if(!e)throw new Error("name cannot be null.");this.name=e}}const ag=class ag extends cR{constructor(t){super(t);C(this,"id",ag.nextID++);C(this,"bones",null);C(this,"vertices",[]);C(this,"worldVerticesLength",0);C(this,"timelineAttachment",this)}computeWorldVertices(t,n,i,s,o,a){i=o+(i>>1)*a;let u=t.bone.skeleton,l=t.deform,h=this.vertices,c=this.bones;if(!c){l.length>0&&(h=l);let v=t.bone,x=v.worldX,y=v.worldY,b=v.a,_=v.b,S=v.c,I=v.d;for(let P=n,k=o;k<i;P+=2,k+=a){let M=h[P],O=h[P+1];s[k]=M*b+O*_+x,s[k+1]=M*S+O*I+y}return}let d=0,p=0;for(let v=0;v<n;v+=2){let x=c[d];d+=x+1,p+=x}let g=u.bones;if(l.length==0)for(let v=o,x=p*3;v<i;v+=a){let y=0,b=0,_=c[d++];for(_+=d;d<_;d++,x+=3){let S=g[c[d]],I=h[x],P=h[x+1],k=h[x+2];y+=(I*S.a+P*S.b+S.worldX)*k,b+=(I*S.c+P*S.d+S.worldY)*k}s[v]=y,s[v+1]=b}else{let v=l;for(let x=o,y=p*3,b=p<<1;x<i;x+=a){let _=0,S=0,I=c[d++];for(I+=d;d<I;d++,y+=3,b+=2){let P=g[c[d]],k=h[y]+v[b],M=h[y+1]+v[b+1],O=h[y+2];_+=(k*P.a+M*P.b+P.worldX)*O,S+=(k*P.c+M*P.d+P.worldY)*O}s[x]=_,s[x+1]=S}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),pe.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=pe.newFloatArray(this.vertices.length),pe.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}};C(ag,"nextID",0);let Wi=ag;const Eu=class Eu{constructor(e){C(this,"id",Eu.nextID());C(this,"regions");C(this,"start",0);C(this,"digits",0);C(this,"setupIndex",0);this.regions=new Array(e)}copy(){let e=new Eu(this.regions.length);return pe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e}apply(e,t){let n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);let i=this.regions[n];t.region!=i&&(t.region=i,t.updateRegion())}getPath(e,t){let n=e,i=(this.start+t).toString();for(let s=this.digits-i.length;s>0;s--)n+="0";return n+=i,n}static nextID(){return Eu._nextID++}};C(Eu,"_nextID",0);let Km=Eu;var kr;(function(r){r[r.hold=0]="hold",r[r.once=1]="once",r[r.loop=2]="loop",r[r.pingpong=3]="pingpong",r[r.onceReverse=4]="onceReverse",r[r.loopReverse=5]="loopReverse",r[r.pingpongReverse=6]="pingpongReverse"})(kr||(kr={}));const hR=[kr.hold,kr.once,kr.loop,kr.pingpong,kr.onceReverse,kr.loopReverse,kr.pingpongReverse];let yb=class{constructor(e,t,n){C(this,"name");C(this,"timelines",[]);C(this,"timelineIds",new uR);C(this,"duration");if(!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(t),this.duration=n}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}hasTimeline(e){for(let t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}apply(e,t,n,i,s,o,a,u){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,t>0&&(t%=this.duration));let l=this.timelines;for(let h=0,c=l.length;h<c;h++)l[h].apply(e,t,n,s,o,a,u)}};var ne;(function(r){r[r.setup=0]="setup",r[r.first=1]="first",r[r.replace=2]="replace",r[r.add=3]="add"})(ne||(ne={}));var vn;(function(r){r[r.mixIn=0]="mixIn",r[r.mixOut=1]="mixOut"})(vn||(vn={}));const Ge={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28};class kt{constructor(e,t){C(this,"propertyIds");C(this,"frames");this.propertyIds=t,this.frames=pe.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(e,t){let n=e.length;for(let i=1;i<n;i++)if(e[i]>t)return i-1;return n-1}static search(e,t,n){let i=e.length;for(let s=n;s<i;s+=n)if(e[s]>t)return s-n;return i-n}}class Us extends kt{constructor(t,n,i){super(t,i);C(this,"curves");this.curves=pe.newFloatArray(t+n*18),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let n=this.getFrameCount()+t*18;if(this.curves.length>n){let i=pe.newFloatArray(n);pe.arrayCopy(this.curves,0,i,0,n),this.curves=i}}setBezier(t,n,i,s,o,a,u,l,h,c,d){let p=this.curves,g=this.getFrameCount()+t*18;i==0&&(p[n]=2+g);let v=(s-a*2+l)*.03,x=(o-u*2+h)*.03,y=((a-l)*3-s+c)*.006,b=((u-h)*3-o+d)*.006,_=v*2+y,S=x*2+b,I=(a-s)*.3+v+y*.16666667,P=(u-o)*.3+x+b*.16666667,k=s+I,M=o+P;for(let O=g+18;g<O;g+=2)p[g]=k,p[g+1]=M,I+=_,P+=S,_+=y,S+=b,k+=I,M+=P}getBezierValue(t,n,i,s){let o=this.curves;if(o[s]>t){let h=this.frames[n],c=this.frames[n+i];return c+(t-h)/(o[s]-h)*(o[s+1]-c)}let a=s+18;for(s+=2;s<a;s+=2)if(o[s]>=t){let h=o[s-2],c=o[s-1];return c+(t-h)/(o[s]-h)*(o[s+1]-c)}n+=this.getFrameEntries();let u=o[a-2],l=o[a-1];return l+(t-u)/(this.frames[n]-u)*(this.frames[n+i]-l)}}class Ki extends Us{constructor(e,t,n){super(e,t,[n])}getFrameEntries(){return 2}setFrame(e,t,n){e<<=1,this.frames[e]=t,this.frames[e+1]=n}getCurveValue(e){let t=this.frames,n=t.length-2;for(let s=2;s<=n;s+=2)if(t[s]>e){n=s-2;break}let i=this.curves[n>>1];switch(i){case 0:let s=t[n],o=t[n+1];return o+(e-s)/(t[n+2]-s)*(t[n+2+1]-o);case 1:return t[n+1]}return this.getBezierValue(e,n,1,i-2)}getRelativeValue(e,t,n,i,s){if(e<this.frames[0]){switch(n){case ne.setup:return s;case ne.first:return i+(s-i)*t}return i}let o=this.getCurveValue(e);switch(n){case ne.setup:return s+o*t;case ne.first:case ne.replace:o+=s-i}return i+o*t}getAbsoluteValue(e,t,n,i,s){if(e<this.frames[0]){switch(n){case ne.setup:return s;case ne.first:return i+(s-i)*t}return i}let o=this.getCurveValue(e);return n==ne.setup?s+(o-s)*t:i+(o-i)*t}getAbsoluteValue2(e,t,n,i,s,o){if(e<this.frames[0]){switch(n){case ne.setup:return s;case ne.first:return i+(s-i)*t}return i}return n==ne.setup?s+(o-s)*t:i+(o-i)*t}getScaleValue(e,t,n,i,s,o){const a=this.frames;if(e<a[0]){switch(n){case ne.setup:return o;case ne.first:return s+(o-s)*t}return s}let u=this.getCurveValue(e)*o;if(t==1)return n==ne.add?s+u-o:u;if(i==vn.mixOut)switch(n){case ne.setup:return o+(Math.abs(u)*ce.signum(o)-o)*t;case ne.first:case ne.replace:return s+(Math.abs(u)*ce.signum(s)-s)*t}else{let l=0;switch(n){case ne.setup:return l=Math.abs(o)*ce.signum(u),l+(u-l)*t;case ne.first:case ne.replace:return l=Math.abs(s)*ce.signum(u),l+(u-l)*t}}return s+(u-o)*t}}class xb extends Us{constructor(e,t,n,i){super(e,t,[n,i])}getFrameEntries(){return 3}setFrame(e,t,n,i){e*=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=i}}class Qm extends Ki{constructor(t,n,i){super(t,n,Ge.rotate+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.rotation=this.getRelativeValue(i,o,a,l.rotation,l.data.rotation))}}class dR extends xb{constructor(t,n,i){super(t,n,Ge.x+"|"+i,Ge.y+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){switch(a){case ne.setup:l.x=l.data.x,l.y=l.data.y;return;case ne.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}let c=0,d=0,p=kt.search(h,i,3),g=this.curves[p/3];switch(g){case 0:let v=h[p];c=h[p+1],d=h[p+2];let x=(i-v)/(h[p+3]-v);c+=(h[p+3+1]-c)*x,d+=(h[p+3+2]-d)*x;break;case 1:c=h[p+1],d=h[p+2];break;default:c=this.getBezierValue(i,p,1,g-2),d=this.getBezierValue(i,p,2,g+18-2)}switch(a){case ne.setup:l.x=l.data.x+c*o,l.y=l.data.y+d*o;break;case ne.first:case ne.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+d-l.y)*o;break;case ne.add:l.x+=c*o,l.y+=d*o}}}class fR extends Ki{constructor(t,n,i){super(t,n,Ge.x+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.x=this.getRelativeValue(i,o,a,l.x,l.data.x))}}class pR extends Ki{constructor(t,n,i){super(t,n,Ge.y+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.y=this.getRelativeValue(i,o,a,l.y,l.data.y))}}class mR extends xb{constructor(t,n,i){super(t,n,Ge.scaleX+"|"+i,Ge.scaleY+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){switch(a){case ne.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case ne.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}let c,d,p=kt.search(h,i,3),g=this.curves[p/3];switch(g){case 0:let v=h[p];c=h[p+1],d=h[p+2];let x=(i-v)/(h[p+3]-v);c+=(h[p+3+1]-c)*x,d+=(h[p+3+2]-d)*x;break;case 1:c=h[p+1],d=h[p+2];break;default:c=this.getBezierValue(i,p,1,g-2),d=this.getBezierValue(i,p,2,g+18-2)}if(c*=l.data.scaleX,d*=l.data.scaleY,o==1)a==ne.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=c,l.scaleY=d);else{let v=0,x=0;if(u==vn.mixOut)switch(a){case ne.setup:v=l.data.scaleX,x=l.data.scaleY,l.scaleX=v+(Math.abs(c)*ce.signum(v)-v)*o,l.scaleY=x+(Math.abs(d)*ce.signum(x)-x)*o;break;case ne.first:case ne.replace:v=l.scaleX,x=l.scaleY,l.scaleX=v+(Math.abs(c)*ce.signum(v)-v)*o,l.scaleY=x+(Math.abs(d)*ce.signum(x)-x)*o;break;case ne.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(d-l.data.scaleY)*o}else switch(a){case ne.setup:v=Math.abs(l.data.scaleX)*ce.signum(c),x=Math.abs(l.data.scaleY)*ce.signum(d),l.scaleX=v+(c-v)*o,l.scaleY=x+(d-x)*o;break;case ne.first:case ne.replace:v=Math.abs(l.scaleX)*ce.signum(c),x=Math.abs(l.scaleY)*ce.signum(d),l.scaleX=v+(c-v)*o,l.scaleY=x+(d-x)*o;break;case ne.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(d-l.data.scaleY)*o}}}}class gR extends Ki{constructor(t,n,i){super(t,n,Ge.scaleX+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.scaleX=this.getScaleValue(i,o,a,u,l.scaleX,l.data.scaleX))}}class vR extends Ki{constructor(t,n,i){super(t,n,Ge.scaleY+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.scaleY=this.getScaleValue(i,o,a,u,l.scaleY,l.data.scaleY))}}class yR extends xb{constructor(t,n,i){super(t,n,Ge.shearX+"|"+i,Ge.shearY+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){switch(a){case ne.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case ne.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}let c=0,d=0,p=kt.search(h,i,3),g=this.curves[p/3];switch(g){case 0:let v=h[p];c=h[p+1],d=h[p+2];let x=(i-v)/(h[p+3]-v);c+=(h[p+3+1]-c)*x,d+=(h[p+3+2]-d)*x;break;case 1:c=h[p+1],d=h[p+2];break;default:c=this.getBezierValue(i,p,1,g-2),d=this.getBezierValue(i,p,2,g+18-2)}switch(a){case ne.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+d*o;break;case ne.first:case ne.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+d-l.shearY)*o;break;case ne.add:l.shearX+=c*o,l.shearY+=d*o}}}class xR extends Ki{constructor(t,n,i){super(t,n,Ge.shearX+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.shearX=this.getRelativeValue(i,o,a,l.shearX,l.data.shearX))}}class _R extends Ki{constructor(t,n,i){super(t,n,Ge.shearY+"|"+i);C(this,"boneIndex",0);this.boneIndex=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];l.active&&(l.shearY=this.getRelativeValue(i,o,a,l.shearY,l.data.shearY))}}class wR extends kt{constructor(t,n){super(t,[Ge.inherit+"|"+n]);C(this,"boneIndex",0);this.boneIndex=n}getFrameEntries(){return 2}setFrame(t,n,i){t*=2,this.frames[t]=n,this.frames[t+1]=i}apply(t,n,i,s,o,a,u){let l=t.bones[this.boneIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){(a==ne.setup||a==ne.first)&&(l.inherit=l.data.inherit);return}l.inherit=this.frames[kt.search(h,i,2)+1]}}class bR extends Us{constructor(t,n,i){super(t,n,[Ge.rgb+"|"+i,Ge.alpha+"|"+i]);C(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,n,i,s,o,a){t*=5,this.frames[t]=n,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=o,this.frames[t+4]=a}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=this.frames,c=l.color;if(i<h[0]){let b=l.data.color;switch(a){case ne.setup:c.setFromColor(b);return;case ne.first:c.add((b.r-c.r)*o,(b.g-c.g)*o,(b.b-c.b)*o,(b.a-c.a)*o)}return}let d=0,p=0,g=0,v=0,x=kt.search(h,i,5),y=this.curves[x/5];switch(y){case 0:let b=h[x];d=h[x+1],p=h[x+2],g=h[x+3],v=h[x+4];let _=(i-b)/(h[x+5]-b);d+=(h[x+5+1]-d)*_,p+=(h[x+5+2]-p)*_,g+=(h[x+5+3]-g)*_,v+=(h[x+5+4]-v)*_;break;case 1:d=h[x+1],p=h[x+2],g=h[x+3],v=h[x+4];break;default:d=this.getBezierValue(i,x,1,y-2),p=this.getBezierValue(i,x,2,y+18-2),g=this.getBezierValue(i,x,3,y+18*2-2),v=this.getBezierValue(i,x,4,y+18*3-2)}o==1?c.set(d,p,g,v):(a==ne.setup&&c.setFromColor(l.data.color),c.add((d-c.r)*o,(p-c.g)*o,(g-c.b)*o,(v-c.a)*o))}}class SR extends Us{constructor(t,n,i){super(t,n,[Ge.rgb+"|"+i]);C(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,n,i,s,o){t<<=2,this.frames[t]=n,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=o}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=this.frames,c=l.color;if(i<h[0]){let y=l.data.color;switch(a){case ne.setup:c.r=y.r,c.g=y.g,c.b=y.b;return;case ne.first:c.r+=(y.r-c.r)*o,c.g+=(y.g-c.g)*o,c.b+=(y.b-c.b)*o}return}let d=0,p=0,g=0,v=kt.search(h,i,4),x=this.curves[v>>2];switch(x){case 0:let y=h[v];d=h[v+1],p=h[v+2],g=h[v+3];let b=(i-y)/(h[v+4]-y);d+=(h[v+4+1]-d)*b,p+=(h[v+4+2]-p)*b,g+=(h[v+4+3]-g)*b;break;case 1:d=h[v+1],p=h[v+2],g=h[v+3];break;default:d=this.getBezierValue(i,v,1,x-2),p=this.getBezierValue(i,v,2,x+18-2),g=this.getBezierValue(i,v,3,x+18*2-2)}if(o==1)c.r=d,c.g=p,c.b=g;else{if(a==ne.setup){let y=l.data.color;c.r=y.r,c.g=y.g,c.b=y.b}c.r+=(d-c.r)*o,c.g+=(p-c.g)*o,c.b+=(g-c.b)*o}}}class TR extends Ki{constructor(t,n,i){super(t,n,Ge.alpha+"|"+i);C(this,"slotIndex",0);this.slotIndex=i}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=l.color;if(i<this.frames[0]){let d=l.data.color;switch(a){case ne.setup:h.a=d.a;return;case ne.first:h.a+=(d.a-h.a)*o}return}let c=this.getCurveValue(i);o==1?h.a=c:(a==ne.setup&&(h.a=l.data.color.a),h.a+=(c-h.a)*o)}}class ER extends Us{constructor(t,n,i){super(t,n,[Ge.rgb+"|"+i,Ge.alpha+"|"+i,Ge.rgb2+"|"+i]);C(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,n,i,s,o,a,u,l,h){t<<=3,this.frames[t]=n,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=o,this.frames[t+4]=a,this.frames[t+5]=u,this.frames[t+6]=l,this.frames[t+7]=h}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=this.frames,c=l.color,d=l.darkColor;if(i<h[0]){let P=l.data.color,k=l.data.darkColor;switch(a){case ne.setup:c.setFromColor(P),d.r=k.r,d.g=k.g,d.b=k.b;return;case ne.first:c.add((P.r-c.r)*o,(P.g-c.g)*o,(P.b-c.b)*o,(P.a-c.a)*o),d.r+=(k.r-d.r)*o,d.g+=(k.g-d.g)*o,d.b+=(k.b-d.b)*o}return}let p=0,g=0,v=0,x=0,y=0,b=0,_=0,S=kt.search(h,i,8),I=this.curves[S>>3];switch(I){case 0:let P=h[S];p=h[S+1],g=h[S+2],v=h[S+3],x=h[S+4],y=h[S+5],b=h[S+6],_=h[S+7];let k=(i-P)/(h[S+8]-P);p+=(h[S+8+1]-p)*k,g+=(h[S+8+2]-g)*k,v+=(h[S+8+3]-v)*k,x+=(h[S+8+4]-x)*k,y+=(h[S+8+5]-y)*k,b+=(h[S+8+6]-b)*k,_+=(h[S+8+7]-_)*k;break;case 1:p=h[S+1],g=h[S+2],v=h[S+3],x=h[S+4],y=h[S+5],b=h[S+6],_=h[S+7];break;default:p=this.getBezierValue(i,S,1,I-2),g=this.getBezierValue(i,S,2,I+18-2),v=this.getBezierValue(i,S,3,I+18*2-2),x=this.getBezierValue(i,S,4,I+18*3-2),y=this.getBezierValue(i,S,5,I+18*4-2),b=this.getBezierValue(i,S,6,I+18*5-2),_=this.getBezierValue(i,S,7,I+18*6-2)}if(o==1)c.set(p,g,v,x),d.r=y,d.g=b,d.b=_;else{if(a==ne.setup){c.setFromColor(l.data.color);let P=l.data.darkColor;d.r=P.r,d.g=P.g,d.b=P.b}c.add((p-c.r)*o,(g-c.g)*o,(v-c.b)*o,(x-c.a)*o),d.r+=(y-d.r)*o,d.g+=(b-d.g)*o,d.b+=(_-d.b)*o}}}class CR extends Us{constructor(t,n,i){super(t,n,[Ge.rgb+"|"+i,Ge.rgb2+"|"+i]);C(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,n,i,s,o,a,u,l){t*=7,this.frames[t]=n,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=o,this.frames[t+4]=a,this.frames[t+5]=u,this.frames[t+6]=l}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=this.frames,c=l.color,d=l.darkColor;if(i<h[0]){let I=l.data.color,P=l.data.darkColor;switch(a){case ne.setup:c.r=I.r,c.g=I.g,c.b=I.b,d.r=P.r,d.g=P.g,d.b=P.b;return;case ne.first:c.r+=(I.r-c.r)*o,c.g+=(I.g-c.g)*o,c.b+=(I.b-c.b)*o,d.r+=(P.r-d.r)*o,d.g+=(P.g-d.g)*o,d.b+=(P.b-d.b)*o}return}let p=0,g=0,v=0,x=0,y=0,b=0,_=kt.search(h,i,7),S=this.curves[_/7];switch(S){case 0:let I=h[_];p=h[_+1],g=h[_+2],v=h[_+3],x=h[_+4],y=h[_+5],b=h[_+6];let P=(i-I)/(h[_+7]-I);p+=(h[_+7+1]-p)*P,g+=(h[_+7+2]-g)*P,v+=(h[_+7+3]-v)*P,x+=(h[_+7+4]-x)*P,y+=(h[_+7+5]-y)*P,b+=(h[_+7+6]-b)*P;break;case 1:p=h[_+1],g=h[_+2],v=h[_+3],x=h[_+4],y=h[_+5],b=h[_+6];break;default:p=this.getBezierValue(i,_,1,S-2),g=this.getBezierValue(i,_,2,S+18-2),v=this.getBezierValue(i,_,3,S+18*2-2),x=this.getBezierValue(i,_,4,S+18*3-2),y=this.getBezierValue(i,_,5,S+18*4-2),b=this.getBezierValue(i,_,6,S+18*5-2)}if(o==1)c.r=p,c.g=g,c.b=v,d.r=x,d.g=y,d.b=b;else{if(a==ne.setup){let I=l.data.color,P=l.data.darkColor;c.r=I.r,c.g=I.g,c.b=I.b,d.r=P.r,d.g=P.g,d.b=P.b}c.r+=(p-c.r)*o,c.g+=(g-c.g)*o,c.b+=(v-c.b)*o,d.r+=(x-d.r)*o,d.g+=(y-d.g)*o,d.b+=(b-d.b)*o}}}class bu extends kt{constructor(t,n){super(t,[Ge.attachment+"|"+n]);C(this,"slotIndex",0);C(this,"attachmentNames");this.slotIndex=n,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,n,i){this.frames[t]=n,this.attachmentNames[t]=i}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(l.bone.active){if(u==vn.mixOut){a==ne.setup&&this.setAttachment(t,l,l.data.attachmentName);return}if(i<this.frames[0]){(a==ne.setup||a==ne.first)&&this.setAttachment(t,l,l.data.attachmentName);return}this.setAttachment(t,l,this.attachmentNames[kt.search1(this.frames,i)])}}setAttachment(t,n,i){n.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}}class AR extends Us{constructor(t,n,i,s){super(t,n,[Ge.deform+"|"+i+"|"+s.id]);C(this,"slotIndex",0);C(this,"attachment");C(this,"vertices");this.slotIndex=i,this.attachment=s,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,n,i){this.frames[t]=n,this.vertices[t]=i}setBezier(t,n,i,s,o,a,u,l,h,c,d){let p=this.curves,g=this.getFrameCount()+t*18;i==0&&(p[n]=2+g);let v=(s-a*2+l)*.03,x=h*.03-u*.06,y=((a-l)*3-s+c)*.006,b=(u-h+.33333333)*.018,_=v*2+y,S=x*2+b,I=(a-s)*.3+v+y*.16666667,P=u*.3+x+b*.16666667,k=s+I,M=P;for(let O=g+18;g<O;g+=2)p[g]=k,p[g+1]=M,I+=_,P+=S,_+=y,S+=b,k+=I,M+=P}getCurvePercent(t,n){let i=this.curves,s=i[n];switch(s){case 0:let l=this.frames[n];return(t-l)/(this.frames[n+this.getFrameEntries()]-l);case 1:return 0}if(s-=2,i[s]>t){let l=this.frames[n];return i[s+1]*(t-l)/(i[s]-l)}let o=s+18;for(s+=2;s<o;s+=2)if(i[s]>=t){let l=i[s-2],h=i[s-1];return h+(t-l)/(i[s]-l)*(i[s+1]-h)}let a=i[o-2],u=i[o-1];return u+(1-u)*(t-a)/(this.frames[n+this.getFrameEntries()]-a)}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=l.getAttachment();if(!h||!(h instanceof Wi)||h.timelineAttachment!=this.attachment)return;let c=l.deform;c.length==0&&(a=ne.setup);let d=this.vertices,p=d[0].length,g=this.frames;if(i<g[0]){switch(a){case ne.setup:c.length=0;return;case ne.first:if(o==1){c.length=0;return}c.length=p;let S=h;if(S.bones){o=1-o;for(var v=0;v<p;v++)c[v]*=o}else{let I=S.vertices;for(var v=0;v<p;v++)c[v]+=(I[v]-c[v])*o}}return}if(c.length=p,i>=g[g.length-1]){let S=d[g.length-1];if(o==1)if(a==ne.add){let I=h;if(I.bones)for(let P=0;P<p;P++)c[P]+=S[P];else{let P=I.vertices;for(let k=0;k<p;k++)c[k]+=S[k]-P[k]}}else pe.arrayCopy(S,0,c,0,p);else switch(a){case ne.setup:{let P=h;if(P.bones)for(let k=0;k<p;k++)c[k]=S[k]*o;else{let k=P.vertices;for(let M=0;M<p;M++){let O=k[M];c[M]=O+(S[M]-O)*o}}break}case ne.first:case ne.replace:for(let P=0;P<p;P++)c[P]+=(S[P]-c[P])*o;break;case ne.add:let I=h;if(I.bones)for(let P=0;P<p;P++)c[P]+=S[P]*o;else{let P=I.vertices;for(let k=0;k<p;k++)c[k]+=(S[k]-P[k])*o}}return}let x=kt.search1(g,i),y=this.getCurvePercent(i,x),b=d[x],_=d[x+1];if(o==1)if(a==ne.add){let S=h;if(S.bones)for(let I=0;I<p;I++){let P=b[I];c[I]+=P+(_[I]-P)*y}else{let I=S.vertices;for(let P=0;P<p;P++){let k=b[P];c[P]+=k+(_[P]-k)*y-I[P]}}}else for(let S=0;S<p;S++){let I=b[S];c[S]=I+(_[S]-I)*y}else switch(a){case ne.setup:{let I=h;if(I.bones)for(let P=0;P<p;P++){let k=b[P];c[P]=(k+(_[P]-k)*y)*o}else{let P=I.vertices;for(let k=0;k<p;k++){let M=b[k],O=P[k];c[k]=O+(M+(_[k]-M)*y-O)*o}}break}case ne.first:case ne.replace:for(let I=0;I<p;I++){let P=b[I];c[I]+=(P+(_[I]-P)*y-c[I])*o}break;case ne.add:let S=h;if(S.bones)for(let I=0;I<p;I++){let P=b[I];c[I]+=(P+(_[I]-P)*y)*o}else{let I=S.vertices;for(let P=0;P<p;P++){let k=b[P];c[P]+=(k+(_[P]-k)*y-I[P])*o}}}}}const lg=class lg extends kt{constructor(t){super(t,lg.propertyIds);C(this,"events");this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,n){this.frames[t]=n.time,this.events[t]=n}apply(t,n,i,s,o,a,u){if(!s)return;let l=this.frames,h=this.frames.length;if(n>i)this.apply(t,n,Number.MAX_VALUE,s,o,a,u),n=-1;else if(n>=l[h-1])return;if(i<l[0])return;let c=0;if(n<l[0])c=0;else{c=kt.search1(l,n)+1;let d=l[c];for(;c>0&&l[c-1]==d;)c--}for(;c<h&&i>=l[c];c++)s.push(this.events[c])}};C(lg,"propertyIds",[""+Ge.event]);let ld=lg;const ug=class ug extends kt{constructor(t){super(t,ug.propertyIds);C(this,"drawOrders");this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,n,i){this.frames[t]=n,this.drawOrders[t]=i}apply(t,n,i,s,o,a,u){if(u==vn.mixOut){a==ne.setup&&pe.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}if(i<this.frames[0]){(a==ne.setup||a==ne.first)&&pe.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}let l=kt.search1(this.frames,i),h=this.drawOrders[l];if(!h)pe.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{let c=t.drawOrder,d=t.slots;for(let p=0,g=h.length;p<g;p++)c[p]=d[h[p]]}}};C(ug,"propertyIds",[""+Ge.drawOrder]);let ol=ug;class PR extends Us{constructor(t,n,i){super(t,n,[Ge.ikConstraint+"|"+i]);C(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 6}setFrame(t,n,i,s,o,a,u){t*=6,this.frames[t]=n,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=o,this.frames[t+4]=a?1:0,this.frames[t+5]=u?1:0}apply(t,n,i,s,o,a,u){let l=t.ikConstraints[this.constraintIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){switch(a){case ne.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case ne.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}let c=0,d=0,p=kt.search(h,i,6),g=this.curves[p/6];switch(g){case 0:let v=h[p];c=h[p+1],d=h[p+2];let x=(i-v)/(h[p+6]-v);c+=(h[p+6+1]-c)*x,d+=(h[p+6+2]-d)*x;break;case 1:c=h[p+1],d=h[p+2];break;default:c=this.getBezierValue(i,p,1,g-2),d=this.getBezierValue(i,p,2,g+18-2)}a==ne.setup?(l.mix=l.data.mix+(c-l.data.mix)*o,l.softness=l.data.softness+(d-l.data.softness)*o,u==vn.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=h[p+3],l.compress=h[p+4]!=0,l.stretch=h[p+5]!=0)):(l.mix+=(c-l.mix)*o,l.softness+=(d-l.softness)*o,u==vn.mixIn&&(l.bendDirection=h[p+3],l.compress=h[p+4]!=0,l.stretch=h[p+5]!=0))}}class kR extends Us{constructor(t,n,i){super(t,n,[Ge.transformConstraint+"|"+i]);C(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 7}setFrame(t,n,i,s,o,a,u,l){let h=this.frames;t*=7,h[t]=n,h[t+1]=i,h[t+2]=s,h[t+3]=o,h[t+4]=a,h[t+5]=u,h[t+6]=l}apply(t,n,i,s,o,a,u){let l=t.transformConstraints[this.constraintIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){let _=l.data;switch(a){case ne.setup:l.mixRotate=_.mixRotate,l.mixX=_.mixX,l.mixY=_.mixY,l.mixScaleX=_.mixScaleX,l.mixScaleY=_.mixScaleY,l.mixShearY=_.mixShearY;return;case ne.first:l.mixRotate+=(_.mixRotate-l.mixRotate)*o,l.mixX+=(_.mixX-l.mixX)*o,l.mixY+=(_.mixY-l.mixY)*o,l.mixScaleX+=(_.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(_.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(_.mixShearY-l.mixShearY)*o}return}let c,d,p,g,v,x,y=kt.search(h,i,7),b=this.curves[y/7];switch(b){case 0:let _=h[y];c=h[y+1],d=h[y+2],p=h[y+3],g=h[y+4],v=h[y+5],x=h[y+6];let S=(i-_)/(h[y+7]-_);c+=(h[y+7+1]-c)*S,d+=(h[y+7+2]-d)*S,p+=(h[y+7+3]-p)*S,g+=(h[y+7+4]-g)*S,v+=(h[y+7+5]-v)*S,x+=(h[y+7+6]-x)*S;break;case 1:c=h[y+1],d=h[y+2],p=h[y+3],g=h[y+4],v=h[y+5],x=h[y+6];break;default:c=this.getBezierValue(i,y,1,b-2),d=this.getBezierValue(i,y,2,b+18-2),p=this.getBezierValue(i,y,3,b+18*2-2),g=this.getBezierValue(i,y,4,b+18*3-2),v=this.getBezierValue(i,y,5,b+18*4-2),x=this.getBezierValue(i,y,6,b+18*5-2)}if(a==ne.setup){let _=l.data;l.mixRotate=_.mixRotate+(c-_.mixRotate)*o,l.mixX=_.mixX+(d-_.mixX)*o,l.mixY=_.mixY+(p-_.mixY)*o,l.mixScaleX=_.mixScaleX+(g-_.mixScaleX)*o,l.mixScaleY=_.mixScaleY+(v-_.mixScaleY)*o,l.mixShearY=_.mixShearY+(x-_.mixShearY)*o}else l.mixRotate+=(c-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(g-l.mixScaleX)*o,l.mixScaleY+=(v-l.mixScaleY)*o,l.mixShearY+=(x-l.mixShearY)*o}}class IR extends Ki{constructor(t,n,i){super(t,n,Ge.pathConstraintPosition+"|"+i);C(this,"constraintIndex",0);this.constraintIndex=i}apply(t,n,i,s,o,a,u){let l=t.pathConstraints[this.constraintIndex];l.active&&(l.position=this.getAbsoluteValue(i,o,a,l.position,l.data.position))}}class MR extends Ki{constructor(t,n,i){super(t,n,Ge.pathConstraintSpacing+"|"+i);C(this,"constraintIndex",0);this.constraintIndex=i}apply(t,n,i,s,o,a,u){let l=t.pathConstraints[this.constraintIndex];l.active&&(l.spacing=this.getAbsoluteValue(i,o,a,l.spacing,l.data.spacing))}}class RR extends Us{constructor(t,n,i){super(t,n,[Ge.pathConstraintMix+"|"+i]);C(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 4}setFrame(t,n,i,s,o){let a=this.frames;t<<=2,a[t]=n,a[t+1]=i,a[t+2]=s,a[t+3]=o}apply(t,n,i,s,o,a,u){let l=t.pathConstraints[this.constraintIndex];if(!l.active)return;let h=this.frames;if(i<h[0]){switch(a){case ne.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case ne.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}let c,d,p,g=kt.search(h,i,4),v=this.curves[g>>2];switch(v){case 0:let x=h[g];c=h[g+1],d=h[g+2],p=h[g+3];let y=(i-x)/(h[g+4]-x);c+=(h[g+4+1]-c)*y,d+=(h[g+4+2]-d)*y,p+=(h[g+4+3]-p)*y;break;case 1:c=h[g+1],d=h[g+2],p=h[g+3];break;default:c=this.getBezierValue(i,g,1,v-2),d=this.getBezierValue(i,g,2,v+18-2),p=this.getBezierValue(i,g,3,v+18*2-2)}if(a==ne.setup){let x=l.data;l.mixRotate=x.mixRotate+(c-x.mixRotate)*o,l.mixX=x.mixX+(d-x.mixX)*o,l.mixY=x.mixY+(p-x.mixY)*o}else l.mixRotate+=(c-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o}}class El extends Ki{constructor(t,n,i,s){super(t,n,s+"|"+i);C(this,"constraintIndex",0);this.constraintIndex=i}apply(t,n,i,s,o,a,u){let l;if(this.constraintIndex==-1){const h=i>=this.frames[0]?this.getCurveValue(i):0;for(const c of t.physicsConstraints)c.active&&this.global(c.data)&&this.set(c,this.getAbsoluteValue2(i,o,a,this.get(c),this.setup(c),h))}else l=t.physicsConstraints[this.constraintIndex],l.active&&this.set(l,this.getAbsoluteValue(i,o,a,this.get(l),this.setup(l)))}}class OR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintInertia)}setup(e){return e.data.inertia}get(e){return e.inertia}set(e,t){e.inertia=t}global(e){return e.inertiaGlobal}}class NR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintStrength)}setup(e){return e.data.strength}get(e){return e.strength}set(e,t){e.strength=t}global(e){return e.strengthGlobal}}class BR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintDamping)}setup(e){return e.data.damping}get(e){return e.damping}set(e,t){e.damping=t}global(e){return e.dampingGlobal}}class FR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintMass)}setup(e){return 1/e.data.massInverse}get(e){return 1/e.massInverse}set(e,t){e.massInverse=1/t}global(e){return e.massGlobal}}class LR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintWind)}setup(e){return e.data.wind}get(e){return e.wind}set(e,t){e.wind=t}global(e){return e.windGlobal}}class DR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintGravity)}setup(e){return e.data.gravity}get(e){return e.gravity}set(e,t){e.gravity=t}global(e){return e.gravityGlobal}}class UR extends El{constructor(e,t,n){super(e,t,n,Ge.physicsConstraintMix)}setup(e){return e.data.mix}get(e){return e.mix}set(e,t){e.mix=t}global(e){return e.mixGlobal}}const cg=class cg extends kt{constructor(t,n){super(t,cg.propertyIds);C(this,"constraintIndex");this.constraintIndex=n}getFrameCount(){return this.frames.length}setFrame(t,n){this.frames[t]=n}apply(t,n,i,s,o,a,u){let l;if(this.constraintIndex!=-1&&(l=t.physicsConstraints[this.constraintIndex],!l.active))return;const h=this.frames;if(n>i)this.apply(t,n,Number.MAX_VALUE,[],o,a,u),n=-1;else if(n>=h[h.length-1])return;if(!(i<h[0])&&(n<h[0]||i>=h[kt.search1(h,n)+1]))if(l!=null)l.reset();else for(const c of t.physicsConstraints)c.active&&c.reset()}};C(cg,"propertyIds",[Ge.physicsConstraintReset.toString()]);let Zm=cg;const ti=class ti extends kt{constructor(t,n,i){super(t,[Ge.sequence+"|"+n+"|"+i.sequence.id]);C(this,"slotIndex");C(this,"attachment");this.slotIndex=n,this.attachment=i}getFrameEntries(){return ti.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,n,i,s,o){let a=this.frames;t*=ti.ENTRIES,a[t]=n,a[t+ti.MODE]=i|s<<4,a[t+ti.DELAY]=o}apply(t,n,i,s,o,a,u){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=l.attachment,c=this.attachment;if(h!=c&&(!(h instanceof Wi)||h.timelineAttachment!=c))return;let d=this.frames;if(i<d[0]){(a==ne.setup||a==ne.first)&&(l.sequenceIndex=-1);return}let p=kt.search(d,i,ti.ENTRIES),g=d[p],v=d[p+ti.MODE],x=d[p+ti.DELAY];if(!this.attachment.sequence)return;let y=v>>4,b=this.attachment.sequence.regions.length,_=hR[v&15];if(_!=kr.hold)switch(y+=(i-g)/x+1e-5|0,_){case kr.once:y=Math.min(b-1,y);break;case kr.loop:y%=b;break;case kr.pingpong:{let S=(b<<1)-2;y=S==0?0:y%S,y>=b&&(y=S-y);break}case kr.onceReverse:y=Math.max(b-1-y,0);break;case kr.loopReverse:y=b-1-y%b;break;case kr.pingpongReverse:{let S=(b<<1)-2;y=S==0?0:(y+b-1)%S,y>=b&&(y=S-y)}}l.sequenceIndex=y}};C(ti,"ENTRIES",3),C(ti,"MODE",1),C(ti,"DELAY",2);let Jm=ti;const Cu=class Cu{constructor(e){C(this,"data");C(this,"tracks",new Array);C(this,"timeScale",1);C(this,"unkeyedState",0);C(this,"events",new Array);C(this,"listeners",new Array);C(this,"queue",new U9(this));C(this,"propertyIDs",new uR);C(this,"animationsChanged",!1);C(this,"trackEntryPool",new p_(()=>new D9));this.data=e}static emptyAnimation(){return Cu._emptyAnimation}update(e){e*=this.timeScale;let t=this.tracks;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(!s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let o=e*s.timeScale;if(s.delay>0){if(s.delay-=o,s.delay>0)continue;o=-s.delay,s.delay=0}let a=s.next;if(a){let u=s.trackLast-a.delay;if(u>=0){for(a.delay=0,a.trackTime+=s.timeScale==0?0:(u/s.timeScale+e)*a.timeScale,s.trackTime+=o,this.setCurrent(n,a,!0);a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&!s.mixingFrom){t[n]=null,this.queue.end(s),this.clearNext(s);continue}if(s.mixingFrom&&this.updateMixingFrom(s,e)){let u=s.mixingFrom;for(s.mixingFrom=null,u&&(u.mixingTo=null);u;)this.queue.end(u),u=u.mixingFrom}s.trackTime+=o}this.queue.drain()}updateMixingFrom(e,t){let n=e.mixingFrom;if(!n)return!0;let i=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}apply(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let t=this.events,n=this.tracks,i=!1;for(let d=0,p=n.length;d<p;d++){let g=n[d];if(!g||g.delay>0)continue;i=!0;let v=d==0?ne.first:g.mixBlend,x=g.alpha;g.mixingFrom?x*=this.applyMixingFrom(g,e,v):g.trackTime>=g.trackEnd&&!g.next&&(x=0);let y=x>=g.alphaAttachmentThreshold,b=g.animationLast,_=g.getAnimationTime(),S=_,I=t;g.reverse&&(S=g.animation.duration-S,I=null);let P=g.animation.timelines,k=P.length;if(d==0&&x==1||v==ne.add){d==0&&(y=!0);for(let M=0;M<k;M++){var s=P[M];s instanceof bu?this.applyAttachmentTimeline(s,e,S,v,y):s.apply(e,b,S,I,x,v,vn.mixIn)}}else{let M=g.timelineMode,O=g.shortestRotation,D=!O&&g.timelinesRotation.length!=k<<1;D&&(g.timelinesRotation.length=k<<1);for(let L=0;L<k;L++){let X=P[L],F=M[L]==Xy?v:ne.setup;!O&&X instanceof Qm?this.applyRotateTimeline(X,e,S,x,F,g.timelinesRotation,L<<1,D):X instanceof bu?this.applyAttachmentTimeline(X,e,S,v,y):X.apply(e,b,S,I,x,F,vn.mixIn)}}this.queueEvents(g,_),t.length=0,g.nextAnimationLast=_,g.nextTrackLast=g.trackTime}for(var o=this.unkeyedState+UC,a=e.slots,u=0,l=e.slots.length;u<l;u++){var h=a[u];if(h.attachmentState==o){var c=h.data.attachmentName;h.setAttachment(c?e.getAttachment(h.data.index,c):null)}}return this.unkeyedState+=2,this.queue.drain(),i}applyMixingFrom(e,t,n){let i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,t,n);let s=0;e.mixDuration==0?(s=1,n==ne.first&&(n=ne.setup)):(s=e.mixTime/e.mixDuration,s>1&&(s=1),n!=ne.first&&(n=i.mixBlend));let o=s<i.mixAttachmentThreshold,a=s<i.mixDrawOrderThreshold,u=i.animation.timelines,l=u.length,h=i.alpha*e.interruptAlpha,c=h*(1-s),d=i.animationLast,p=i.getAnimationTime(),g=p,v=null;if(i.reverse?g=i.animation.duration-g:s<i.eventThreshold&&(v=this.events),n==ne.add)for(let x=0;x<l;x++)u[x].apply(t,d,g,v,c,n,vn.mixOut);else{let x=i.timelineMode,y=i.timelineHoldMix,b=i.shortestRotation,_=!b&&i.timelinesRotation.length!=l<<1;_&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(let S=0;S<l;S++){let I=u[S],P=vn.mixOut,k,M=0;switch(x[S]){case Xy:if(!a&&I instanceof ol)continue;k=n,M=c;break;case LC:k=ne.setup,M=c;break;case DC:k=n,M=h;break;case $y:k=ne.setup,M=h;break;default:k=ne.setup;let O=y[S];M=h*Math.max(0,1-O.mixTime/O.mixDuration);break}i.totalAlpha+=M,!b&&I instanceof Qm?this.applyRotateTimeline(I,t,g,M,k,i.timelinesRotation,S<<1,_):I instanceof bu?this.applyAttachmentTimeline(I,t,g,k,o&&M>=i.alphaAttachmentThreshold):(a&&I instanceof ol&&k==ne.setup&&(P=vn.mixIn),I.apply(t,d,g,v,M,k,P))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,s}applyAttachmentTimeline(e,t,n,i,s){var o=t.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==ne.setup||i==ne.first)&&this.setAttachment(t,o,o.data.attachmentName,s):this.setAttachment(t,o,e.attachmentNames[kt.search1(e.frames,n)],s),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+UC))}setAttachment(e,t,n,i){t.setAttachment(n?e.getAttachment(t.data.index,n):null),i&&(t.attachmentState=this.unkeyedState+X9)}applyRotateTimeline(e,t,n,i,s,o,a,u){if(u&&(o[a]=0),i==1){e.apply(t,0,n,null,1,s,vn.mixIn);return}let l=t.bones[e.boneIndex];if(!l.active)return;let h=e.frames,c=0,d=0;if(n<h[0])switch(s){case ne.setup:l.rotation=l.data.rotation;default:return;case ne.first:c=l.rotation,d=l.data.rotation}else c=s==ne.setup?l.data.rotation:l.rotation,d=l.data.rotation+e.getCurveValue(n);let p=0,g=d-c;if(g-=Math.ceil(g/360-.5)*360,g==0)p=o[a];else{let v=0,x=0;u?(v=0,x=g):(v=o[a],x=o[a+1]);let y=v-v%360;p=g+y;let b=g>=0,_=v>=0;Math.abs(x)<=90&&ce.signum(x)!=ce.signum(g)&&(Math.abs(v-y)>180?(p+=360*ce.signum(v),_=b):y!=0?p-=360*ce.signum(v):_=b),_!=b&&(p+=360*ce.signum(v)),o[a]=p}o[a+1]=g,l.rotation=c+p*i}queueEvents(e,t){let n=e.animationStart,i=e.animationEnd,s=i-n,o=e.trackLast%s,a=this.events,u=0,l=a.length;for(;u<l;u++){let c=a[u];if(c.time<o)break;c.time>i||this.queue.event(e,c)}let h=!1;if(e.loop)if(s==0)h=!0;else{const c=Math.floor(e.trackTime/s);h=c>0&&c>Math.floor(e.trackLast/s)}else h=t>=i&&e.animationLast<i;for(h&&this.queue.complete(e);u<l;u++){let c=a[u];c.time<n||this.queue.event(e,c)}}clearTracks(){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}clearTrack(e){if(e>=this.tracks.length)return;let t=this.tracks[e];if(!t)return;this.queue.end(t),this.clearNext(t);let n=t;for(;;){let i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[t.trackIndex]=null,this.queue.drain()}setCurrent(e,t,n){let i=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,i&&(n&&this.queue.interrupt(i),t.mixingFrom=i,i.mixingTo=t,t.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(t.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(t)}setAnimation(e,t,n=!1){let i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,i,n)}setAnimationWith(e,t,n=!1){if(!t)throw new Error("animation cannot be null.");let i=!0,s=this.expandToIndex(e);s&&(s.nextTrackLast==-1?(this.tracks[e]=s.mixingFrom,this.queue.interrupt(s),this.queue.end(s),this.clearNext(s),s=s.mixingFrom,i=!1):this.clearNext(s));let o=this.trackEntry(e,t,n,s);return this.setCurrent(e,o,i),this.queue.drain(),o}addAnimation(e,t,n=!1,i=0){let s=this.data.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,s,n,i)}addAnimationWith(e,t,n=!1,i=0){if(!t)throw new Error("animation cannot be null.");let s=this.expandToIndex(e);if(s)for(;s.next;)s=s.next;let o=this.trackEntry(e,t,n,s);return s?(s.next=o,o.previous=s,i<=0&&(i+=s.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o}setEmptyAnimation(e,t=0){let n=this.setAnimationWith(e,Cu.emptyAnimation(),!1);return n.mixDuration=t,n.trackEnd=t,n}addEmptyAnimation(e,t=0,n=0){let i=this.addAnimationWith(e,Cu.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-t),i.mixDuration=t,i.trackEnd=t,i}setEmptyAnimations(e=0){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let n=0,i=this.tracks.length;n<i;n++){let s=this.tracks[n];s&&this.setEmptyAnimation(s.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}expandToIndex(e){return e<this.tracks.length?this.tracks[e]:(pe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}trackEntry(e,t,n,i){let s=this.trackEntryPool.obtain();return s.reset(),s.trackIndex=e,s.animation=t,s.loop=n,s.holdPrevious=!1,s.reverse=!1,s.shortestRotation=!1,s.eventThreshold=0,s.alphaAttachmentThreshold=0,s.mixAttachmentThreshold=0,s.mixDrawOrderThreshold=0,s.animationStart=0,s.animationEnd=t.duration,s.animationLast=-1,s.nextAnimationLast=-1,s.delay=0,s.trackTime=0,s.trackLast=-1,s.nextTrackLast=-1,s.trackEnd=Number.MAX_VALUE,s.timeScale=1,s.alpha=1,s.mixTime=0,s.mixDuration=i?this.data.getMix(i.animation,t):0,s.interruptAlpha=1,s.totalAlpha=0,s.mixBlend=ne.replace,s}clearNext(e){let t=e.next;for(;t;)this.queue.dispose(t),t=t.next;e.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let e=this.tracks;for(let t=0,n=e.length;t<n;t++){let i=e[t];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=ne.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}}computeHold(e){let t=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,s=e.timelineMode;s.length=i;let o=e.timelineHoldMix;o.length=0;let a=this.propertyIDs;if(t&&t.holdPrevious){for(let u=0;u<i;u++)s[u]=a.addAll(n[u].getPropertyIds())?$y:DC;return}e:for(let u=0;u<i;u++){let l=n[u],h=l.getPropertyIds();if(!a.addAll(h))s[u]=Xy;else if(!t||l instanceof bu||l instanceof ol||l instanceof ld||!t.animation.hasTimeline(h))s[u]=LC;else{for(let c=t.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(h)){if(e.mixDuration>0){s[u]=j9,o[u]=c;continue e}break}s[u]=$y}}}getCurrent(e){return e>=this.tracks.length?null:this.tracks[e]}addListener(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}removeListener(e){let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}};C(Cu,"_emptyAnimation",new yb("<empty>",[],0));let m_=Cu;class D9{constructor(){C(this,"animation",null);C(this,"previous",null);C(this,"next",null);C(this,"mixingFrom",null);C(this,"mixingTo",null);C(this,"listener",null);C(this,"trackIndex",0);C(this,"loop",!1);C(this,"holdPrevious",!1);C(this,"reverse",!1);C(this,"shortestRotation",!1);C(this,"eventThreshold",0);C(this,"mixAttachmentThreshold",0);C(this,"alphaAttachmentThreshold",0);C(this,"mixDrawOrderThreshold",0);C(this,"animationStart",0);C(this,"animationEnd",0);C(this,"animationLast",0);C(this,"nextAnimationLast",0);C(this,"delay",0);C(this,"trackTime",0);C(this,"trackLast",0);C(this,"nextTrackLast",0);C(this,"trackEnd",0);C(this,"timeScale",0);C(this,"alpha",0);C(this,"mixTime",0);C(this,"_mixDuration",0);C(this,"interruptAlpha",0);C(this,"totalAlpha",0);C(this,"mixBlend",ne.replace);C(this,"timelineMode",new Array);C(this,"timelineHoldMix",new Array);C(this,"timelinesRotation",new Array)}get mixDuration(){return this._mixDuration}set mixDuration(e){this._mixDuration=e}setMixDurationWithDelay(e,t){this._mixDuration=e,this.previous!=null&&t<=0&&(t+=this.previous.getTrackComplete()-e),this.delay=t}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(e){this.animationLast=e,this.nextAnimationLast=e}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}wasApplied(){return this.nextTrackLast!=-1}isNextReady(){return this.next!=null&&this.nextTrackLast-this.next.delay>=0}}class U9{constructor(e){C(this,"objects",[]);C(this,"drainDisabled",!1);C(this,"animState");this.animState=e}start(e){this.objects.push(fn.start),this.objects.push(e),this.animState.animationsChanged=!0}interrupt(e){this.objects.push(fn.interrupt),this.objects.push(e)}end(e){this.objects.push(fn.end),this.objects.push(e),this.animState.animationsChanged=!0}dispose(e){this.objects.push(fn.dispose),this.objects.push(e)}complete(e){this.objects.push(fn.complete),this.objects.push(e)}event(e,t){this.objects.push(fn.event),this.objects.push(e),this.objects.push(t)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let e=this.objects,t=this.animState.listeners;for(let n=0;n<e.length;n+=2){let i=e[n],s=e[n+1];switch(i){case fn.start:s.listener&&s.listener.start&&s.listener.start(s);for(let a=0;a<t.length;a++){let u=t[a];u.start&&u.start(s)}break;case fn.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let a=0;a<t.length;a++){let u=t[a];u.interrupt&&u.interrupt(s)}break;case fn.end:s.listener&&s.listener.end&&s.listener.end(s);for(let a=0;a<t.length;a++){let u=t[a];u.end&&u.end(s)}case fn.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let a=0;a<t.length;a++){let u=t[a];u.dispose&&u.dispose(s)}this.animState.trackEntryPool.free(s);break;case fn.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let a=0;a<t.length;a++){let u=t[a];u.complete&&u.complete(s)}break;case fn.event:let o=e[n+++2];s.listener&&s.listener.event&&s.listener.event(s,o);for(let a=0;a<t.length;a++){let u=t[a];u.event&&u.event(s,o)}break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var fn;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(fn||(fn={}));const Xy=0,LC=1,DC=2,$y=3,j9=4,UC=1,X9=2;class $9{constructor(e){C(this,"skeletonData");C(this,"animationToMixTime",{});C(this,"defaultMix",0);if(!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}setMix(e,t,n){let i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);let s=this.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);this.setMixWith(i,s,n)}setMixWith(e,t,n){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");let i=e.name+"."+t.name;this.animationToMixTime[i]=n}getMix(e,t){let n=e.name+"."+t.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i}}class _b extends Wi{constructor(t){super(t);C(this,"color",new Xe(1,1,1,1))}copy(){let t=new _b(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class Ad extends Wi{constructor(t){super(t);C(this,"endSlot",null);C(this,"color",new Xe(.2275,.2275,.8078,1))}copy(){let t=new Ad(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class H9{constructor(e){C(this,"_image");this._image=e}getImage(){return this._image}}var xr;(function(r){r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear"})(xr||(xr={}));var mo;(function(r){r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat"})(mo||(mo={}));class z9{constructor(){C(this,"texture");C(this,"u",0);C(this,"v",0);C(this,"u2",0);C(this,"v2",0);C(this,"width",0);C(this,"height",0);C(this,"degrees",0);C(this,"offsetX",0);C(this,"offsetY",0);C(this,"originalWidth",0);C(this,"originalHeight",0)}}class Y9{constructor(e){C(this,"pages",new Array);C(this,"regions",new Array);let t=new G9(e),n=new Array(4),i={};i.size=h=>{h.width=parseInt(n[1]),h.height=parseInt(n[2])},i.format=()=>{},i.filter=h=>{h.minFilter=pe.enumValue(xr,n[1]),h.magFilter=pe.enumValue(xr,n[2])},i.repeat=h=>{n[1].indexOf("x")!=-1&&(h.uWrap=mo.Repeat),n[1].indexOf("y")!=-1&&(h.vWrap=mo.Repeat)},i.pma=h=>{h.pma=n[1]=="true"};var s={};s.xy=h=>{h.x=parseInt(n[1]),h.y=parseInt(n[2])},s.size=h=>{h.width=parseInt(n[1]),h.height=parseInt(n[2])},s.bounds=h=>{h.x=parseInt(n[1]),h.y=parseInt(n[2]),h.width=parseInt(n[3]),h.height=parseInt(n[4])},s.offset=h=>{h.offsetX=parseInt(n[1]),h.offsetY=parseInt(n[2])},s.orig=h=>{h.originalWidth=parseInt(n[1]),h.originalHeight=parseInt(n[2])},s.offsets=h=>{h.offsetX=parseInt(n[1]),h.offsetY=parseInt(n[2]),h.originalWidth=parseInt(n[3]),h.originalHeight=parseInt(n[4])},s.rotate=h=>{let c=n[1];c=="true"?h.degrees=90:c!="false"&&(h.degrees=parseInt(c))},s.index=h=>{h.index=parseInt(n[1])};let o=t.readLine();for(;o&&o.trim().length==0;)o=t.readLine();for(;!(!o||o.trim().length==0||t.readEntry(n,o)==0);)o=t.readLine();let a=null,u=null,l=null;for(;o!==null;)if(o.trim().length==0)a=null,o=t.readLine();else if(a){let h=new jR(a,o);for(;;){let c=t.readEntry(n,o=t.readLine());if(c==0)break;let d=s[n[0]];if(d)d(h);else{u||(u=[]),l||(l=[]),u.push(n[0]);let p=[];for(let g=0;g<c;g++)p.push(parseInt(n[g+1]));l.push(p)}}h.originalWidth==0&&h.originalHeight==0&&(h.originalWidth=h.width,h.originalHeight=h.height),u&&u.length>0&&l&&l.length>0&&(h.names=u,h.values=l,u=null,l=null),h.u=h.x/a.width,h.v=h.y/a.height,h.degrees==90?(h.u2=(h.x+h.height)/a.width,h.v2=(h.y+h.width)/a.height):(h.u2=(h.x+h.width)/a.width,h.v2=(h.y+h.height)/a.height),this.regions.push(h)}else{for(a=new W9(o.trim());t.readEntry(n,o=t.readLine())!=0;){let h=i[n[0]];h&&h(a)}this.pages.push(a)}}findRegion(e){for(let t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}setTextures(e,t=""){for(let n of this.pages)n.setTexture(e.get(t+n.name))}dispose(){var e;for(let t=0;t<this.pages.length;t++)(e=this.pages[t].texture)==null||e.dispose()}}class G9{constructor(e){C(this,"lines");C(this,"index",0);this.lines=e.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(e,t){if(!t||(t=t.trim(),t.length==0))return 0;let n=t.indexOf(":");if(n==-1)return 0;e[0]=t.substr(0,n).trim();for(let i=1,s=n+1;;i++){let o=t.indexOf(",",s);if(o==-1)return e[i]=t.substr(s).trim(),i;if(e[i]=t.substr(s,o-s).trim(),s=o+1,i==4)return 4}}}class W9{constructor(e){C(this,"name");C(this,"minFilter",xr.Nearest);C(this,"magFilter",xr.Nearest);C(this,"uWrap",mo.ClampToEdge);C(this,"vWrap",mo.ClampToEdge);C(this,"texture",null);C(this,"width",0);C(this,"height",0);C(this,"pma",!1);C(this,"regions",new Array);this.name=e}setTexture(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap);for(let t of this.regions)t.texture=e}}class jR extends z9{constructor(t,n){super();C(this,"page");C(this,"name");C(this,"x",0);C(this,"y",0);C(this,"offsetX",0);C(this,"offsetY",0);C(this,"originalWidth",0);C(this,"originalHeight",0);C(this,"index",0);C(this,"degrees",0);C(this,"names",null);C(this,"values",null);this.page=t,this.name=n,t.regions.push(this)}}class vl extends Wi{constructor(t,n){super(t);C(this,"region",null);C(this,"path");C(this,"regionUVs",[]);C(this,"uvs",[]);C(this,"triangles",[]);C(this,"color",new Xe(1,1,1,1));C(this,"width",0);C(this,"height",0);C(this,"hullLength",0);C(this,"edges",[]);C(this,"parentMesh",null);C(this,"sequence",null);C(this,"tempColor",new Xe(0,0,0,0));this.path=n}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;(!this.uvs||this.uvs.length!=t.length)&&(this.uvs=pe.newFloatArray(t.length));let n=this.uvs,i=this.uvs.length,s=this.region.u,o=this.region.v,a=0,u=0;if(this.region instanceof jR){let l=this.region,h=l.page,c=h.width,d=h.height;switch(l.degrees){case 90:s-=(l.originalHeight-l.offsetY-l.height)/c,o-=(l.originalWidth-l.offsetX-l.width)/d,a=l.originalHeight/c,u=l.originalWidth/d;for(let p=0;p<i;p+=2)n[p]=s+t[p+1]*a,n[p+1]=o+(1-t[p])*u;return;case 180:s-=(l.originalWidth-l.offsetX-l.width)/c,o-=l.offsetY/d,a=l.originalWidth/c,u=l.originalHeight/d;for(let p=0;p<i;p+=2)n[p]=s+(1-t[p])*a,n[p+1]=o+(1-t[p+1])*u;return;case 270:s-=l.offsetY/c,o-=l.offsetX/d,a=l.originalHeight/c,u=l.originalWidth/d;for(let p=0;p<i;p+=2)n[p]=s+(1-t[p+1])*a,n[p+1]=o+t[p]*u;return}s-=l.offsetX/c,o-=(l.originalHeight-l.offsetY-l.height)/d,a=l.originalWidth/c,u=l.originalHeight/d}else this.region?(a=this.region.u2-s,u=this.region.v2-o):(s=o=0,a=u=1);for(let l=0;l<i;l+=2)n[l]=s+t[l]*a,n[l+1]=o+t[l+1]*u}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new vl(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),pe.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),pe.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),pe.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),pe.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,n,i,s,o,a){this.sequence!=null&&this.sequence.apply(t,this),super.computeWorldVertices(t,n,i,s,o,a)}newLinkedMesh(){let t=new vl(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t.region!=null&&t.updateRegion(),t}}class cc extends Wi{constructor(t){super(t);C(this,"lengths",[]);C(this,"closed",!1);C(this,"constantSpeed",!1);C(this,"color",new Xe(1,1,1,1))}copy(){let t=new cc(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),pe.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class wb extends Wi{constructor(t){super(t);C(this,"x",0);C(this,"y",0);C(this,"rotation",0);C(this,"color",new Xe(.38,.94,0,1))}computeWorldPosition(t,n){return n.x=this.x*t.a+this.y*t.b+t.worldX,n.y=this.x*t.c+this.y*t.d+t.worldY,n}computeWorldRotation(t){const n=this.rotation*ce.degRad,i=Math.cos(n),s=Math.sin(n),o=i*t.a+s*t.b,a=i*t.c+s*t.d;return ce.atan2Deg(a,o)}copy(){let t=new wb(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}const rt=class rt extends cR{constructor(t,n){super(t);C(this,"x",0);C(this,"y",0);C(this,"scaleX",1);C(this,"scaleY",1);C(this,"rotation",0);C(this,"width",0);C(this,"height",0);C(this,"color",new Xe(1,1,1,1));C(this,"path");C(this,"region",null);C(this,"sequence",null);C(this,"offset",pe.newFloatArray(8));C(this,"uvs",pe.newFloatArray(8));C(this,"tempColor",new Xe(1,1,1,1));this.path=n}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,n=this.uvs;if(t==null){n[0]=0,n[1]=0,n[2]=0,n[3]=1,n[4]=1,n[5]=1,n[6]=1,n[7]=0;return}let i=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,o=-this.width/2*this.scaleX+this.region.offsetX*i,a=-this.height/2*this.scaleY+this.region.offsetY*s,u=o+this.region.width*i,l=a+this.region.height*s,h=this.rotation*ce.degRad,c=Math.cos(h),d=Math.sin(h),p=this.x,g=this.y,v=o*c+p,x=o*d,y=a*c+g,b=a*d,_=u*c+p,S=u*d,I=l*c+g,P=l*d,k=this.offset;k[0]=v-b,k[1]=y+x,k[2]=v-P,k[3]=I+x,k[4]=_-P,k[5]=I+S,k[6]=_-b,k[7]=y+S,t.degrees==90?(n[0]=t.u2,n[1]=t.v2,n[2]=t.u,n[3]=t.v2,n[4]=t.u,n[5]=t.v,n[6]=t.u2,n[7]=t.v):(n[0]=t.u,n[1]=t.v2,n[2]=t.u,n[3]=t.v,n[4]=t.u2,n[5]=t.v,n[6]=t.u2,n[7]=t.v2)}computeWorldVertices(t,n,i,s){this.sequence!=null&&this.sequence.apply(t,this);let o=t.bone,a=this.offset,u=o.worldX,l=o.worldY,h=o.a,c=o.b,d=o.c,p=o.d,g=0,v=0;g=a[0],v=a[1],n[i]=g*h+v*c+u,n[i+1]=g*d+v*p+l,i+=s,g=a[2],v=a[3],n[i]=g*h+v*c+u,n[i+1]=g*d+v*p+l,i+=s,g=a[4],v=a[5],n[i]=g*h+v*c+u,n[i+1]=g*d+v*p+l,i+=s,g=a[6],v=a[7],n[i]=g*h+v*c+u,n[i+1]=g*d+v*p+l}copy(){let t=new rt(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,pe.arrayCopy(this.uvs,0,t.uvs,0,8),pe.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=this.sequence!=null?this.sequence.copy():null,t}};C(rt,"X1",0),C(rt,"Y1",1),C(rt,"C1R",2),C(rt,"C1G",3),C(rt,"C1B",4),C(rt,"C1A",5),C(rt,"U1",6),C(rt,"V1",7),C(rt,"X2",8),C(rt,"Y2",9),C(rt,"C2R",10),C(rt,"C2G",11),C(rt,"C2B",12),C(rt,"C2A",13),C(rt,"U2",14),C(rt,"V2",15),C(rt,"X3",16),C(rt,"Y3",17),C(rt,"C3R",18),C(rt,"C3G",19),C(rt,"C3B",20),C(rt,"C3A",21),C(rt,"U3",22),C(rt,"V3",23),C(rt,"X4",24),C(rt,"Y4",25),C(rt,"C4R",26),C(rt,"C4G",27),C(rt,"C4B",28),C(rt,"C4A",29),C(rt,"U4",30),C(rt,"V4",31);let ud=rt;class V9{constructor(e){C(this,"atlas");this.atlas=e}loadSequence(e,t,n){let i=n.regions;for(let s=0,o=i.length;s<o;s++){let a=n.getPath(t,s),u=this.atlas.findRegion(a);if(u==null)throw new Error("Region not found in atlas: "+a+" (sequence: "+e+")");i[s]=u}}newRegionAttachment(e,t,n,i){let s=new ud(t,n);if(i!=null)this.loadSequence(t,n,i);else{let o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+t+")");s.region=o}return s}newMeshAttachment(e,t,n,i){let s=new vl(t,n);if(i!=null)this.loadSequence(t,n,i);else{let o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+t+")");s.region=o}return s}newBoundingBoxAttachment(e,t){return new _b(t)}newPathAttachment(e,t){return new cc(t)}newPointAttachment(e,t){return new wb(t)}newClippingAttachment(e,t){return new Ad(t)}}class XR{constructor(e,t,n){C(this,"index",0);C(this,"name");C(this,"parent",null);C(this,"length",0);C(this,"x",0);C(this,"y",0);C(this,"rotation",0);C(this,"scaleX",1);C(this,"scaleY",1);C(this,"shearX",0);C(this,"shearY",0);C(this,"inherit",Lt.Normal);C(this,"skinRequired",!1);C(this,"color",new Xe);C(this,"icon");C(this,"visible",!1);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=n}}var Lt;(function(r){r[r.Normal=0]="Normal",r[r.OnlyTranslation=1]="OnlyTranslation",r[r.NoRotationOrReflection=2]="NoRotationOrReflection",r[r.NoScale=3]="NoScale",r[r.NoScaleOrReflection=4]="NoScaleOrReflection"})(Lt||(Lt={}));class jC{constructor(e,t,n){C(this,"data");C(this,"skeleton");C(this,"parent",null);C(this,"children",new Array);C(this,"x",0);C(this,"y",0);C(this,"rotation",0);C(this,"scaleX",0);C(this,"scaleY",0);C(this,"shearX",0);C(this,"shearY",0);C(this,"ax",0);C(this,"ay",0);C(this,"arotation",0);C(this,"ascaleX",0);C(this,"ascaleY",0);C(this,"ashearX",0);C(this,"ashearY",0);C(this,"a",0);C(this,"b",0);C(this,"c",0);C(this,"d",0);C(this,"worldY",0);C(this,"worldX",0);C(this,"inherit",Lt.Normal);C(this,"sorted",!1);C(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}isActive(){return this.active}update(e){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,n,i,s,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=i,this.ascaleY=s,this.ashearX=o,this.ashearY=a;let u=this.parent;if(!u){let p=this.skeleton;const g=p.scaleX,v=p.scaleY,x=(n+o)*ce.degRad,y=(n+90+a)*ce.degRad;this.a=Math.cos(x)*i*g,this.b=Math.cos(y)*s*g,this.c=Math.sin(x)*i*v,this.d=Math.sin(y)*s*v,this.worldX=e*g+p.x,this.worldY=t*v+p.y;return}let l=u.a,h=u.b,c=u.c,d=u.d;switch(this.worldX=l*e+h*t+u.worldX,this.worldY=c*e+d*t+u.worldY,this.inherit){case Lt.Normal:{const p=(n+o)*ce.degRad,g=(n+90+a)*ce.degRad,v=Math.cos(p)*i,x=Math.cos(g)*s,y=Math.sin(p)*i,b=Math.sin(g)*s;this.a=l*v+h*y,this.b=l*x+h*b,this.c=c*v+d*y,this.d=c*x+d*b;return}case Lt.OnlyTranslation:{const p=(n+o)*ce.degRad,g=(n+90+a)*ce.degRad;this.a=Math.cos(p)*i,this.b=Math.cos(g)*s,this.c=Math.sin(p)*i,this.d=Math.sin(g)*s;break}case Lt.NoRotationOrReflection:{let p=l*l+c*c,g=0;p>1e-4?(p=Math.abs(l*d-h*c)/p,l/=this.skeleton.scaleX,c/=this.skeleton.scaleY,h=c*p,d=l*p,g=Math.atan2(c,l)*ce.radDeg):(l=0,c=0,g=90-Math.atan2(d,h)*ce.radDeg);const v=(n+o-g)*ce.degRad,x=(n+a-g+90)*ce.degRad,y=Math.cos(v)*i,b=Math.cos(x)*s,_=Math.sin(v)*i,S=Math.sin(x)*s;this.a=l*y-h*_,this.b=l*b-h*S,this.c=c*y+d*_,this.d=c*b+d*S;break}case Lt.NoScale:case Lt.NoScaleOrReflection:{n*=ce.degRad;const p=Math.cos(n),g=Math.sin(n);let v=(l*p+h*g)/this.skeleton.scaleX,x=(c*p+d*g)/this.skeleton.scaleY,y=Math.sqrt(v*v+x*x);y>1e-5&&(y=1/y),v*=y,x*=y,y=Math.sqrt(v*v+x*x),this.inherit==Lt.NoScale&&l*d-h*c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(y=-y),n=Math.PI/2+Math.atan2(x,v);const b=Math.cos(n)*y,_=Math.sin(n)*y;o*=ce.degRad,a=(90+a)*ce.degRad;const S=Math.cos(o)*i,I=Math.cos(a)*s,P=Math.sin(o)*i,k=Math.sin(a)*s;this.a=v*S+b*P,this.b=v*I+b*k,this.c=x*S+_*P,this.d=x*I+_*k;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY,this.inherit=e.inherit}updateAppliedTransform(){let e=this.parent;if(!e){this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*ce.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*ce.radDeg;return}let t=e.a,n=e.b,i=e.c,s=e.d,o=1/(t*s-n*i),a=s*o,u=n*o,l=i*o,h=t*o,c=this.worldX-e.worldX,d=this.worldY-e.worldY;this.ax=c*a-d*u,this.ay=d*h-c*l;let p,g,v,x;if(this.inherit==Lt.OnlyTranslation)p=this.a,g=this.b,v=this.c,x=this.d;else{switch(this.inherit){case Lt.NoRotationOrReflection:{let I=Math.abs(t*s-n*i)/(t*t+i*i),P=t/this.skeleton.scaleX;n=-(i/this.skeleton.scaleY)*I*this.skeleton.scaleX,s=P*I*this.skeleton.scaleY,o=1/(t*s-n*i),a=s*o,u=n*o;break}case Lt.NoScale:case Lt.NoScaleOrReflection:let y=ce.cosDeg(this.rotation),b=ce.sinDeg(this.rotation);t=(t*y+n*b)/this.skeleton.scaleX,i=(i*y+s*b)/this.skeleton.scaleY;let _=Math.sqrt(t*t+i*i);_>1e-5&&(_=1/_),t*=_,i*=_,_=Math.sqrt(t*t+i*i),this.inherit==Lt.NoScale&&o<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(_=-_);let S=ce.PI/2+Math.atan2(i,t);n=Math.cos(S)*_,s=Math.sin(S)*_,o=1/(t*s-n*i),a=s*o,u=n*o,l=i*o,h=t*o}p=a*this.a-u*this.c,g=a*this.b-u*this.d,v=h*this.c-l*this.a,x=h*this.d-l*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(p*p+v*v),this.ascaleX>1e-4){let y=p*x-g*v;this.ascaleY=y/this.ascaleX,this.ashearY=-Math.atan2(p*g+v*x,y)*ce.radDeg,this.arotation=Math.atan2(v,p)*ce.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(g*g+x*x),this.ashearY=0,this.arotation=90-Math.atan2(x,g)*ce.radDeg}getWorldRotationX(){return Math.atan2(this.c,this.a)*ce.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*ce.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}worldToLocal(e){let t=1/(this.a*this.d-this.b*this.c),n=e.x-this.worldX,i=e.y-this.worldY;return e.x=n*this.d*t-i*this.b*t,e.y=i*this.a*t-n*this.c*t,e}localToWorld(e){let t=e.x,n=e.y;return e.x=t*this.a+n*this.b+this.worldX,e.y=t*this.c+n*this.d+this.worldY,e}worldToParent(e){if(e==null)throw new Error("world cannot be null.");return this.parent==null?e:this.parent.worldToLocal(e)}parentToWorld(e){if(e==null)throw new Error("world cannot be null.");return this.parent==null?e:this.parent.localToWorld(e)}worldToLocalRotation(e){let t=ce.sinDeg(e),n=ce.cosDeg(e);return Math.atan2(this.a*t-this.c*n,this.d*n-this.b*t)*ce.radDeg+this.rotation-this.shearX}localToWorldRotation(e){e-=this.rotation-this.shearX;let t=ce.sinDeg(e),n=ce.cosDeg(e);return Math.atan2(n*this.c+t*this.d,n*this.a+t*this.b)*ce.radDeg}rotateWorld(e){e*=ce.degRad;const t=Math.sin(e),n=Math.cos(e),i=this.a,s=this.b;this.a=n*i-t*this.c,this.b=n*s-t*this.d,this.c=t*i+n*this.c,this.d=t*s+n*this.d}}class t0{constructor(e,t,n){C(this,"name");C(this,"order");C(this,"skinRequired");this.name=e,this.order=t,this.skinRequired=n}}let $R=class{constructor(e,t){C(this,"data");C(this,"intValue",0);C(this,"floatValue",0);C(this,"stringValue",null);C(this,"time",0);C(this,"volume",0);C(this,"balance",0);if(!t)throw new Error("data cannot be null.");this.time=e,this.data=t}};class HR{constructor(e){C(this,"name");C(this,"intValue",0);C(this,"floatValue",0);C(this,"stringValue",null);C(this,"audioPath",null);C(this,"volume",0);C(this,"balance",0);this.name=e}}class q9{constructor(e,t){C(this,"data");C(this,"bones");C(this,"target");C(this,"bendDirection",0);C(this,"compress",!1);C(this,"stretch",!1);C(this,"mix",1);C(this,"softness",0);C(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}`);this.bones.push(s)}let n=t.findBone(e.target.name);if(!n)throw new Error(`Couldn't find bone ${e.target.name}`);this.target=n,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch}isActive(){return this.active}setToSetupPose(){const e=this.data;this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch}update(e){if(this.mix==0)return;let t=this.target,n=this.bones;switch(n.length){case 1:this.apply1(n[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(n[0],n[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}apply1(e,t,n,i,s,o,a){let u=e.parent;if(!u)throw new Error("IK bone must have parent.");let l=u.a,h=u.b,c=u.c,d=u.d,p=-e.ashearX-e.arotation,g=0,v=0;switch(e.inherit){case Lt.OnlyTranslation:g=(t-e.worldX)*ce.signum(e.skeleton.scaleX),v=(n-e.worldY)*ce.signum(e.skeleton.scaleY);break;case Lt.NoRotationOrReflection:let b=Math.abs(l*d-h*c)/Math.max(1e-4,l*l+c*c),_=l/e.skeleton.scaleX,S=c/e.skeleton.scaleY;h=-S*b*e.skeleton.scaleX,d=_*b*e.skeleton.scaleY,p+=Math.atan2(S,_)*ce.radDeg;default:let I=t-u.worldX,P=n-u.worldY,k=l*d-h*c;Math.abs(k)<=1e-4?(g=0,v=0):(g=(I*d-P*h)/k-e.ax,v=(P*l-I*c)/k-e.ay)}p+=Math.atan2(v,g)*ce.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);let x=e.ascaleX,y=e.ascaleY;if(i||s){switch(e.inherit){case Lt.NoScale:case Lt.NoScaleOrReflection:g=t-e.worldX,v=n-e.worldY}const b=e.data.length*x;if(b>1e-4){const _=g*g+v*v;if(i&&_<b*b||s&&_>b*b){const S=(Math.sqrt(_)/b-1)*a+1;x*=S,o&&(y*=S)}}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*a,x,y,e.ashearX,e.ashearY)}apply2(e,t,n,i,s,o,a,u,l){if(e.inherit!=Lt.Normal||t.inherit!=Lt.Normal)return;let h=e.ax,c=e.ay,d=e.ascaleX,p=e.ascaleY,g=d,v=p,x=t.ascaleX,y=0,b=0,_=0;d<0?(d=-d,y=180,_=-1):(y=0,_=1),p<0&&(p=-p,_=-_),x<0?(x=-x,b=180):b=0;let S=t.ax,I=0,P=0,k=0,M=e.a,O=e.b,D=e.c,L=e.d,X=Math.abs(d-p)<=1e-4;!X||o?(I=0,P=M*S+e.worldX,k=D*S+e.worldY):(I=t.ay,P=M*S+O*I+e.worldX,k=D*S+L*I+e.worldY);let F=e.parent;if(!F)throw new Error("IK parent must itself have a parent.");M=F.a,O=F.b,D=F.c,L=F.d;let B=M*L-O*D,j=P-F.worldX,z=k-F.worldY;B=Math.abs(B)<=1e-4?0:1/B;let q=(j*L-z*O)*B-h,$=(z*M-j*D)*B-c,W=Math.sqrt(q*q+$*$),H=t.data.length*x,V,Z;if(W<1e-4){this.apply1(e,n,i,!1,o,!1,l),t.updateWorldTransformWith(S,I,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}j=n-F.worldX,z=i-F.worldY;let te=(j*L-z*O)*B-h,le=(z*M-j*D)*B-c,ge=te*te+le*le;if(u!=0){u*=d*(x+1)*.5;let He=Math.sqrt(ge),qe=He-W-H*d+u;if(qe>0){let $e=Math.min(1,qe/(u*2))-1;$e=(qe-u*(1-$e*$e))/He,te-=$e*te,le-=$e*le,ge=te*te+le*le}}e:if(X){H*=d;let He=(ge-W*W-H*H)/(2*W*H);He<-1?(He=-1,Z=Math.PI*s):He>1?(He=1,Z=0,o&&(M=(Math.sqrt(ge)/(W+H)-1)*l+1,g*=M,a&&(v*=M))):Z=Math.acos(He)*s,M=W+H*He,O=H*Math.sin(Z),V=Math.atan2(le*M-te*O,te*M+le*O)}else{M=d*H,O=p*H;let He=M*M,qe=O*O,$e=Math.atan2(le,te);D=qe*W*W+He*ge-He*qe;let Le=-2*qe*W,ut=qe-He;if(L=Le*Le-4*ut*D,L>=0){let Co=Math.sqrt(L);Le<0&&(Co=-Co),Co=-(Le+Co)*.5;let Id=Co/ut,Md=D/Co,Gn=Math.abs(Id)<Math.abs(Md)?Id:Md;if(Gn*Gn<=ge){z=Math.sqrt(ge-Gn*Gn)*s,V=$e-Math.atan2(z,Gn),Z=Math.atan2(z/p,(Gn-W)/d);break e}}let et=ce.PI,Tr=W-M,Br=Tr*Tr,Qi=0,Cl=0,gi=W+M,Tc=gi*gi,Eo=0;D=-M*W/(He-qe),D>=-1&&D<=1&&(D=Math.acos(D),j=M*Math.cos(D)+W,z=O*Math.sin(D),L=j*j+z*z,L<Br&&(et=D,Br=L,Tr=j,Qi=z),L>Tc&&(Cl=D,Tc=L,gi=j,Eo=z)),ge<=(Br+Tc)*.5?(V=$e-Math.atan2(Qi*s,Tr),Z=et*s):(V=$e-Math.atan2(Eo*s,gi),Z=Cl*s)}let Pe=Math.atan2(I,S)*_,Fe=e.arotation;V=(V-Pe)*ce.radDeg+y-Fe,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(h,c,Fe+V*l,g,v,0,0),Fe=t.arotation,Z=((Z+Pe)*ce.radDeg-t.ashearX)*_+b-Fe,Z>180?Z-=360:Z<-180&&(Z+=360),t.updateWorldTransformWith(S,I,Fe+Z*l,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}class zR extends t0{constructor(t){super(t,0,!1);C(this,"bones",new Array);C(this,"_target",null);C(this,"bendDirection",0);C(this,"compress",!1);C(this,"stretch",!1);C(this,"uniform",!1);C(this,"mix",0);C(this,"softness",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class YR extends t0{constructor(t){super(t,0,!1);C(this,"bones",new Array);C(this,"_target",null);C(this,"positionMode",ks.Fixed);C(this,"spacingMode",fr.Fixed);C(this,"rotateMode",al.Chain);C(this,"offsetRotation",0);C(this,"position",0);C(this,"spacing",0);C(this,"mixRotate",0);C(this,"mixX",0);C(this,"mixY",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var ks;(function(r){r[r.Fixed=0]="Fixed",r[r.Percent=1]="Percent"})(ks||(ks={}));var fr;(function(r){r[r.Length=0]="Length",r[r.Fixed=1]="Fixed",r[r.Percent=2]="Percent",r[r.Proportional=3]="Proportional"})(fr||(fr={}));var al;(function(r){r[r.Tangent=0]="Tangent",r[r.Chain=1]="Chain",r[r.ChainScale=2]="ChainScale"})(al||(al={}));const Nn=class Nn{constructor(e,t){C(this,"data");C(this,"bones");C(this,"target");C(this,"position",0);C(this,"spacing",0);C(this,"mixRotate",0);C(this,"mixX",0);C(this,"mixY",0);C(this,"spaces",new Array);C(this,"positions",new Array);C(this,"world",new Array);C(this,"curves",new Array);C(this,"lengths",new Array);C(this,"segments",new Array);C(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0,s=e.bones.length;i<s;i++){let o=t.findBone(e.bones[i].name);if(!o)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(o)}let n=t.findSlot(e.target.name);if(!n)throw new Error(`Couldn't find target bone ${e.target.name}`);this.target=n,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}isActive(){return this.active}setToSetupPose(){const e=this.data;this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}update(e){let t=this.target.getAttachment();if(!(t instanceof cc))return;let n=this.mixRotate,i=this.mixX,s=this.mixY;if(n==0&&i==0&&s==0)return;let o=this.data,a=o.rotateMode==al.Tangent,u=o.rotateMode==al.ChainScale,l=this.bones,h=l.length,c=a?h:h+1,d=pe.setArraySize(this.spaces,c),p=u?this.lengths=pe.setArraySize(this.lengths,h):[],g=this.spacing;switch(o.spacingMode){case fr.Percent:if(u)for(let P=0,k=c-1;P<k;P++){let M=l[P],O=M.data.length,D=O*M.a,L=O*M.c;p[P]=Math.sqrt(D*D+L*L)}pe.arrayFill(d,1,c,g);break;case fr.Proportional:let S=0;for(let P=0,k=c-1;P<k;){let M=l[P],O=M.data.length;if(O<Nn.epsilon)u&&(p[P]=0),d[++P]=g;else{let D=O*M.a,L=O*M.c,X=Math.sqrt(D*D+L*L);u&&(p[P]=X),d[++P]=X,S+=X}}if(S>0){S=c/S*g;for(let P=1;P<c;P++)d[P]*=S}break;default:let I=o.spacingMode==fr.Length;for(let P=0,k=c-1;P<k;){let M=l[P],O=M.data.length;if(O<Nn.epsilon)u&&(p[P]=0),d[++P]=g;else{let D=O*M.a,L=O*M.c,X=Math.sqrt(D*D+L*L);u&&(p[P]=X),d[++P]=(I?O+g:g)*X/O}}}let v=this.computeWorldPositions(t,c,a),x=v[0],y=v[1],b=o.offsetRotation,_=!1;if(b==0)_=o.rotateMode==al.Chain;else{_=!1;let S=this.target.bone;b*=S.a*S.d-S.b*S.c>0?ce.degRad:-ce.degRad}for(let S=0,I=3;S<h;S++,I+=3){let P=l[S];P.worldX+=(x-P.worldX)*i,P.worldY+=(y-P.worldY)*s;let k=v[I],M=v[I+1],O=k-x,D=M-y;if(u){let L=p[S];if(L!=0){let X=(Math.sqrt(O*O+D*D)/L-1)*n+1;P.a*=X,P.c*=X}}if(x=k,y=M,n>0){let L=P.a,X=P.b,F=P.c,B=P.d,j=0,z=0,q=0;if(a?j=v[I-1]:d[S+1]==0?j=v[I+2]:j=Math.atan2(D,O),j-=Math.atan2(F,L),_){z=Math.cos(j),q=Math.sin(j);let $=P.data.length;x+=($*(z*L-q*F)-O)*n,y+=($*(q*L+z*F)-D)*n}else j+=b;j>ce.PI?j-=ce.PI2:j<-ce.PI&&(j+=ce.PI2),j*=n,z=Math.cos(j),q=Math.sin(j),P.a=z*L-q*F,P.b=z*X-q*B,P.c=q*L+z*F,P.d=q*X+z*B}P.updateAppliedTransform()}}computeWorldPositions(e,t,n){let i=this.target,s=this.position,o=this.spaces,a=pe.setArraySize(this.positions,t*3+2),u=this.world,l=e.closed,h=e.worldVerticesLength,c=h/6,d=Nn.NONE;if(!e.constantSpeed){let $=e.lengths;c-=l?1:2;let W=$[c];this.data.positionMode==ks.Percent&&(s*=W);let H;switch(this.data.spacingMode){case fr.Percent:H=W;break;case fr.Proportional:H=W/t;break;default:H=1}u=pe.setArraySize(this.world,8);for(let V=0,Z=0,te=0;V<t;V++,Z+=3){let le=o[V]*H;s+=le;let ge=s;if(l)ge%=W,ge<0&&(ge+=W),te=0;else if(ge<0){d!=Nn.BEFORE&&(d=Nn.BEFORE,e.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(ge,u,0,a,Z);continue}else if(ge>W){d!=Nn.AFTER&&(d=Nn.AFTER,e.computeWorldVertices(i,h-6,4,u,0,2)),this.addAfterPosition(ge-W,u,0,a,Z);continue}for(;;te++){let Pe=$[te];if(!(ge>Pe)){if(te==0)ge/=Pe;else{let Fe=$[te-1];ge=(ge-Fe)/(Pe-Fe)}break}}te!=d&&(d=te,l&&te==c?(e.computeWorldVertices(i,h-4,4,u,0,2),e.computeWorldVertices(i,0,4,u,4,2)):e.computeWorldVertices(i,te*6+2,8,u,0,2)),this.addCurvePosition(ge,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],a,Z,n||V>0&&le==0)}return a}l?(h+=2,u=pe.setArraySize(this.world,h),e.computeWorldVertices(i,2,h-4,u,0,2),e.computeWorldVertices(i,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(c--,h-=4,u=pe.setArraySize(this.world,h),e.computeWorldVertices(i,2,h,u,0,2));let p=pe.setArraySize(this.curves,c),g=0,v=u[0],x=u[1],y=0,b=0,_=0,S=0,I=0,P=0,k=0,M=0,O=0,D=0,L=0,X=0,F=0,B=0;for(let $=0,W=2;$<c;$++,W+=6)y=u[W],b=u[W+1],_=u[W+2],S=u[W+3],I=u[W+4],P=u[W+5],k=(v-y*2+_)*.1875,M=(x-b*2+S)*.1875,O=((y-_)*3-v+I)*.09375,D=((b-S)*3-x+P)*.09375,L=k*2+O,X=M*2+D,F=(y-v)*.75+k+O*.16666667,B=(b-x)*.75+M+D*.16666667,g+=Math.sqrt(F*F+B*B),F+=L,B+=X,L+=O,X+=D,g+=Math.sqrt(F*F+B*B),F+=L,B+=X,g+=Math.sqrt(F*F+B*B),F+=L+O,B+=X+D,g+=Math.sqrt(F*F+B*B),p[$]=g,v=I,x=P;this.data.positionMode==ks.Percent&&(s*=g);let j;switch(this.data.spacingMode){case fr.Percent:j=g;break;case fr.Proportional:j=g/t;break;default:j=1}let z=this.segments,q=0;for(let $=0,W=0,H=0,V=0;$<t;$++,W+=3){let Z=o[$]*j;s+=Z;let te=s;if(l)te%=g,te<0&&(te+=g),H=0;else if(te<0){this.addBeforePosition(te,u,0,a,W);continue}else if(te>g){this.addAfterPosition(te-g,u,h-4,a,W);continue}for(;;H++){let le=p[H];if(!(te>le)){if(H==0)te/=le;else{let ge=p[H-1];te=(te-ge)/(le-ge)}break}}if(H!=d){d=H;let le=H*6;for(v=u[le],x=u[le+1],y=u[le+2],b=u[le+3],_=u[le+4],S=u[le+5],I=u[le+6],P=u[le+7],k=(v-y*2+_)*.03,M=(x-b*2+S)*.03,O=((y-_)*3-v+I)*.006,D=((b-S)*3-x+P)*.006,L=k*2+O,X=M*2+D,F=(y-v)*.3+k+O*.16666667,B=(b-x)*.3+M+D*.16666667,q=Math.sqrt(F*F+B*B),z[0]=q,le=1;le<8;le++)F+=L,B+=X,L+=O,X+=D,q+=Math.sqrt(F*F+B*B),z[le]=q;F+=L,B+=X,q+=Math.sqrt(F*F+B*B),z[8]=q,F+=L+O,B+=X+D,q+=Math.sqrt(F*F+B*B),z[9]=q,V=0}for(te*=q;;V++){let le=z[V];if(!(te>le)){if(V==0)te/=le;else{let ge=z[V-1];te=V+(te-ge)/(le-ge)}break}}this.addCurvePosition(te*.1,v,x,y,b,_,S,I,P,a,W,n||$>0&&Z==0)}return a}addBeforePosition(e,t,n,i,s){let o=t[n],a=t[n+1],u=t[n+2]-o,l=t[n+3]-a,h=Math.atan2(l,u);i[s]=o+e*Math.cos(h),i[s+1]=a+e*Math.sin(h),i[s+2]=h}addAfterPosition(e,t,n,i,s){let o=t[n+2],a=t[n+3],u=o-t[n],l=a-t[n+1],h=Math.atan2(l,u);i[s]=o+e*Math.cos(h),i[s+1]=a+e*Math.sin(h),i[s+2]=h}addCurvePosition(e,t,n,i,s,o,a,u,l,h,c,d){if(e==0||isNaN(e)){h[c]=t,h[c+1]=n,h[c+2]=Math.atan2(s-n,i-t);return}let p=e*e,g=p*e,v=1-e,x=v*v,y=x*v,b=v*e,_=b*3,S=v*_,I=_*e,P=t*y+i*S+o*I+u*g,k=n*y+s*S+a*I+l*g;h[c]=P,h[c+1]=k,d&&(e<.001?h[c+2]=Math.atan2(s-n,i-t):h[c+2]=Math.atan2(k-(n*x+s*b*2+a*p),P-(t*x+i*b*2+o*p)))}};C(Nn,"NONE",-1),C(Nn,"BEFORE",-2),C(Nn,"AFTER",-3),C(Nn,"epsilon",1e-5);let g_=Nn;class K9{constructor(e,t){C(this,"data");C(this,"_bone",null);C(this,"inertia",0);C(this,"strength",0);C(this,"damping",0);C(this,"massInverse",0);C(this,"wind",0);C(this,"gravity",0);C(this,"mix",0);C(this,"_reset",!0);C(this,"ux",0);C(this,"uy",0);C(this,"cx",0);C(this,"cy",0);C(this,"tx",0);C(this,"ty",0);C(this,"xOffset",0);C(this,"xVelocity",0);C(this,"yOffset",0);C(this,"yVelocity",0);C(this,"rotateOffset",0);C(this,"rotateVelocity",0);C(this,"scaleOffset",0);C(this,"scaleVelocity",0);C(this,"active",!1);C(this,"skeleton");C(this,"remaining",0);C(this,"lastTime",0);this.data=e,this.skeleton=t,this.bone=t.bones[e.bone.index],this.inertia=e.inertia,this.strength=e.strength,this.damping=e.damping,this.massInverse=e.massInverse,this.wind=e.wind,this.gravity=e.gravity,this.mix=e.mix}set bone(e){this._bone=e}get bone(){if(this._bone)return this._bone;throw new Error("Bone not set.")}reset(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0}setToSetupPose(){const e=this.data;this.inertia=e.inertia,this.strength=e.strength,this.damping=e.damping,this.massInverse=e.massInverse,this.wind=e.wind,this.gravity=e.gravity,this.mix=e.mix}isActive(){return this.active}update(e){const t=this.mix;if(t==0)return;const n=this.data.x>0,i=this.data.y>0,s=this.data.rotate>0||this.data.shearX>0,o=this.data.scaleX>0,a=this.bone,u=a.data.length;switch(e){case oo.none:return;case oo.reset:this.reset();case oo.update:const l=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=l,this.lastTime=this.skeleton.time;const h=a.worldX,c=a.worldY;if(this._reset)this._reset=!1,this.ux=h,this.uy=c;else{let d=this.remaining,p=this.inertia,g=this.data.limit*l,v=this.data.step,x=this.skeleton.data.referenceScale,y=-1;if(n||i){if(n){const b=(this.ux-h)*p;this.xOffset+=b>g?g:b<-g?-g:b,this.ux=h}if(i){const b=(this.uy-c)*p;this.yOffset+=b>g?g:b<-g?-g:b,this.uy=c}if(d>=v){y=Math.pow(this.damping,60*v);const b=this.massInverse*v,_=this.strength,S=this.wind*x,I=(hc.yDown?-this.gravity:this.gravity)*x;do n&&(this.xVelocity+=(S-this.xOffset*_)*b,this.xOffset+=this.xVelocity*v,this.xVelocity*=y),i&&(this.yVelocity-=(I+this.yOffset*_)*b,this.yOffset+=this.yVelocity*v,this.yVelocity*=y),d-=v;while(d>=v)}n&&(a.worldX+=this.xOffset*t*this.data.x),i&&(a.worldY+=this.yOffset*t*this.data.y)}if(s||o){let b=Math.atan2(a.c,a.a),_=0,S=0,I=0,P=this.cx-a.worldX,k=this.cy-a.worldY;if(P>g?P=g:P<-g&&(P=-g),k>g?k=g:k<-g&&(k=-g),s){I=(this.data.rotate+this.data.shearX)*t;let M=Math.atan2(k+this.ty,P+this.tx)-b-this.rotateOffset*I;this.rotateOffset+=(M-Math.ceil(M*ce.invPI2-.5)*ce.PI2)*p,M=this.rotateOffset*I+b,_=Math.cos(M),S=Math.sin(M),o&&(M=u*a.getWorldScaleX(),M>0&&(this.scaleOffset+=(P*_+k*S)*p/M))}else{_=Math.cos(b),S=Math.sin(b);const M=u*a.getWorldScaleX();M>0&&(this.scaleOffset+=(P*_+k*S)*p/M)}if(d=this.remaining,d>=v){y==-1&&(y=Math.pow(this.damping,60*v));const M=this.massInverse*v,O=this.strength,D=this.wind,L=hc.yDown?-this.gravity:this.gravity,X=u/x;for(;;)if(d-=v,o&&(this.scaleVelocity+=(D*_-L*S-this.scaleOffset*O)*M,this.scaleOffset+=this.scaleVelocity*v,this.scaleVelocity*=y),s){if(this.rotateVelocity-=((D*S+L*_)*X+this.rotateOffset*O)*M,this.rotateOffset+=this.rotateVelocity*v,this.rotateVelocity*=y,d<v)break;const F=this.rotateOffset*I+b;_=Math.cos(F),S=Math.sin(F)}else if(d<v)break}}this.remaining=d}this.cx=a.worldX,this.cy=a.worldY;break;case oo.pose:n&&(a.worldX+=this.xOffset*t*this.data.x),i&&(a.worldY+=this.yOffset*t*this.data.y)}if(s){let l=this.rotateOffset*t,h=0,c=0,d=0;if(this.data.shearX>0){let p=0;this.data.rotate>0&&(p=l*this.data.rotate,h=Math.sin(p),c=Math.cos(p),d=a.b,a.b=c*d-h*a.d,a.d=h*d+c*a.d),p+=l*this.data.shearX,h=Math.sin(p),c=Math.cos(p),d=a.a,a.a=c*d-h*a.c,a.c=h*d+c*a.c}else l*=this.data.rotate,h=Math.sin(l),c=Math.cos(l),d=a.a,a.a=c*d-h*a.c,a.c=h*d+c*a.c,d=a.b,a.b=c*d-h*a.d,a.d=h*d+c*a.d}if(o){const l=1+this.scaleOffset*t*this.data.scaleX;a.a*=l,a.c*=l}e!=oo.pose&&(this.tx=u*a.a,this.ty=u*a.c),a.updateAppliedTransform()}translate(e,t){this.ux-=e,this.uy-=t,this.cx-=e,this.cy-=t}rotate(e,t,n){const i=n*ce.degRad,s=Math.cos(i),o=Math.sin(i),a=this.cx-e,u=this.cy-t;this.translate(a*s-u*o-a,a*o+u*s-u)}}class Q9{constructor(e,t){C(this,"data");C(this,"bone");C(this,"color");C(this,"darkColor",null);C(this,"attachment",null);C(this,"attachmentState",0);C(this,"sequenceIndex",-1);C(this,"deform",new Array);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new Xe,this.darkColor=e.darkColor?new Xe:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&((!(e instanceof Wi)||!(this.attachment instanceof Wi)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class Z9{constructor(e,t){C(this,"data");C(this,"bones");C(this,"target");C(this,"mixRotate",0);C(this,"mixX",0);C(this,"mixY",0);C(this,"mixScaleX",0);C(this,"mixScaleY",0);C(this,"mixShearY",0);C(this,"temp",new qm);C(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(s)}let n=t.findBone(e.target.name);if(!n)throw new Error(`Couldn't find target bone ${e.target.name}.`);this.target=n,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY}isActive(){return this.active}setToSetupPose(){const e=this.data;this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY}update(e){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleY==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,s=this.mixScaleY,o=this.mixShearY,a=t!=0||n!=0,u=this.target,l=u.a,h=u.b,c=u.c,d=u.d,p=l*d-h*c>0?ce.degRad:-ce.degRad,g=this.data.offsetRotation*p,v=this.data.offsetShearY*p,x=this.bones;for(let y=0,b=x.length;y<b;y++){let _=x[y];if(e!=0){let S=_.a,I=_.b,P=_.c,k=_.d,M=Math.atan2(c,l)-Math.atan2(P,S)+g;M>ce.PI?M-=ce.PI2:M<-ce.PI&&(M+=ce.PI2),M*=e;let O=Math.cos(M),D=Math.sin(M);_.a=O*S-D*P,_.b=O*I-D*k,_.c=D*S+O*P,_.d=D*I+O*k}if(a){let S=this.temp;u.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),_.worldX+=(S.x-_.worldX)*t,_.worldY+=(S.y-_.worldY)*n}if(i!=0){let S=Math.sqrt(_.a*_.a+_.c*_.c);S!=0&&(S=(S+(Math.sqrt(l*l+c*c)-S+this.data.offsetScaleX)*i)/S),_.a*=S,_.c*=S}if(s!=0){let S=Math.sqrt(_.b*_.b+_.d*_.d);S!=0&&(S=(S+(Math.sqrt(h*h+d*d)-S+this.data.offsetScaleY)*s)/S),_.b*=S,_.d*=S}if(o>0){let S=_.b,I=_.d,P=Math.atan2(I,S),k=Math.atan2(d,h)-Math.atan2(c,l)-(P-Math.atan2(_.c,_.a));k>ce.PI?k-=ce.PI2:k<-ce.PI&&(k+=ce.PI2),k=P+(k+v)*o;let M=Math.sqrt(S*S+I*I);_.b=Math.cos(k)*M,_.d=Math.sin(k)*M}_.updateAppliedTransform()}}applyRelativeWorld(){let e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,s=this.mixScaleY,o=this.mixShearY,a=t!=0||n!=0,u=this.target,l=u.a,h=u.b,c=u.c,d=u.d,p=l*d-h*c>0?ce.degRad:-ce.degRad,g=this.data.offsetRotation*p,v=this.data.offsetShearY*p,x=this.bones;for(let y=0,b=x.length;y<b;y++){let _=x[y];if(e!=0){let S=_.a,I=_.b,P=_.c,k=_.d,M=Math.atan2(c,l)+g;M>ce.PI?M-=ce.PI2:M<-ce.PI&&(M+=ce.PI2),M*=e;let O=Math.cos(M),D=Math.sin(M);_.a=O*S-D*P,_.b=O*I-D*k,_.c=D*S+O*P,_.d=D*I+O*k}if(a){let S=this.temp;u.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),_.worldX+=S.x*t,_.worldY+=S.y*n}if(i!=0){let S=(Math.sqrt(l*l+c*c)-1+this.data.offsetScaleX)*i+1;_.a*=S,_.c*=S}if(s!=0){let S=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*s+1;_.b*=S,_.d*=S}if(o>0){let S=Math.atan2(d,h)-Math.atan2(c,l);S>ce.PI?S-=ce.PI2:S<-ce.PI&&(S+=ce.PI2);let I=_.b,P=_.d;S=Math.atan2(P,I)+(S-ce.PI/2+v)*o;let k=Math.sqrt(I*I+P*P);_.b=Math.cos(S)*k,_.d=Math.sin(S)*k}_.updateAppliedTransform()}}applyAbsoluteLocal(){let e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,s=this.mixScaleY,o=this.mixShearY,a=this.target,u=this.bones;for(let l=0,h=u.length;l<h;l++){let c=u[l],d=c.arotation;e!=0&&(d+=(a.arotation-d+this.data.offsetRotation)*e);let p=c.ax,g=c.ay;p+=(a.ax-p+this.data.offsetX)*t,g+=(a.ay-g+this.data.offsetY)*n;let v=c.ascaleX,x=c.ascaleY;i!=0&&v!=0&&(v=(v+(a.ascaleX-v+this.data.offsetScaleX)*i)/v),s!=0&&x!=0&&(x=(x+(a.ascaleY-x+this.data.offsetScaleY)*s)/x);let y=c.ashearY;o!=0&&(y+=(a.ashearY-y+this.data.offsetShearY)*o),c.updateWorldTransformWith(p,g,d,v,x,c.ashearX,y)}}applyRelativeLocal(){let e=this.mixRotate,t=this.mixX,n=this.mixY,i=this.mixScaleX,s=this.mixScaleY,o=this.mixShearY,a=this.target,u=this.bones;for(let l=0,h=u.length;l<h;l++){let c=u[l],d=c.arotation+(a.arotation+this.data.offsetRotation)*e,p=c.ax+(a.ax+this.data.offsetX)*t,g=c.ay+(a.ay+this.data.offsetY)*n,v=c.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*i+1),x=c.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*s+1),y=c.ashearY+(a.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(p,g,d,v,x,c.ashearX,y)}}}const Au=class Au{constructor(e){C(this,"data");C(this,"bones");C(this,"slots");C(this,"drawOrder");C(this,"ikConstraints");C(this,"transformConstraints");C(this,"pathConstraints");C(this,"physicsConstraints");C(this,"_updateCache",new Array);C(this,"skin",null);C(this,"color");C(this,"scaleX",1);C(this,"_scaleY",1);C(this,"x",0);C(this,"y",0);C(this,"time",0);if(!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(let t=0;t<e.bones.length;t++){let n=e.bones[t],i;if(!n.parent)i=new jC(n,this,null);else{let s=this.bones[n.parent.index];i=new jC(n,this,s),s.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let t=0;t<e.slots.length;t++){let n=e.slots[t],i=this.bones[n.boneData.index],s=new Q9(n,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(let t=0;t<e.ikConstraints.length;t++){let n=e.ikConstraints[t];this.ikConstraints.push(new q9(n,this))}this.transformConstraints=new Array;for(let t=0;t<e.transformConstraints.length;t++){let n=e.transformConstraints[t];this.transformConstraints.push(new Z9(n,this))}this.pathConstraints=new Array;for(let t=0;t<e.pathConstraints.length;t++){let n=e.pathConstraints[t];this.pathConstraints.push(new g_(n,this))}this.physicsConstraints=new Array;for(let t=0;t<e.physicsConstraints.length;t++){let n=e.physicsConstraints[t];this.physicsConstraints.push(new K9(n,this))}this.color=new Xe(1,1,1,1),this.updateCache()}get scaleY(){return Au.yDown?-this._scaleY:this._scaleY}set scaleY(e){this._scaleY=e}updateCache(){let e=this._updateCache;e.length=0;let t=this.bones;for(let d=0,p=t.length;d<p;d++){let g=t[d];g.sorted=g.data.skinRequired,g.active=!g.sorted}if(this.skin){let d=this.skin.bones;for(let p=0,g=this.skin.bones.length;p<g;p++){let v=this.bones[d[p].index];do v.sorted=!1,v.active=!0,v=v.parent;while(v)}}let n=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,o=this.physicsConstraints,a=n.length,u=i.length,l=s.length,h=this.physicsConstraints.length,c=a+u+l+h;e:for(let d=0;d<c;d++){for(let p=0;p<a;p++){let g=n[p];if(g.data.order==d){this.sortIkConstraint(g);continue e}}for(let p=0;p<u;p++){let g=i[p];if(g.data.order==d){this.sortTransformConstraint(g);continue e}}for(let p=0;p<l;p++){let g=s[p];if(g.data.order==d){this.sortPathConstraint(g);continue e}}for(let p=0;p<h;p++){const g=o[p];if(g.data.order==d){this.sortPhysicsConstraint(g);continue e}}}for(let d=0,p=t.length;d<p;d++)this.sortBone(t[d])}sortIkConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&pe.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target;this.sortBone(t);let n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{let s=n[n.length-1];this.sortBone(s),this._updateCache.push(e),this.sortReset(i.children),s.sorted=!0}}sortPathConstraint(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&pe.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target,n=t.data.index,i=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(let u=0,l=this.data.skins.length;u<l;u++)this.sortPathConstraintAttachment(this.data.skins[u],n,i);let s=t.getAttachment();s instanceof cc&&this.sortPathConstraintAttachmentWith(s,i);let o=e.bones,a=o.length;for(let u=0;u<a;u++)this.sortBone(o[u]);this._updateCache.push(e);for(let u=0;u<a;u++)this.sortReset(o[u].children);for(let u=0;u<a;u++)o[u].sorted=!0}sortTransformConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&pe.contains(this.skin.constraints,e.data,!0)),!e.active)return;this.sortBone(e.target);let t=e.bones,n=t.length;if(e.data.local)for(let i=0;i<n;i++){let s=t[i];this.sortBone(s.parent),this.sortBone(s)}else for(let i=0;i<n;i++)this.sortBone(t[i]);this._updateCache.push(e);for(let i=0;i<n;i++)this.sortReset(t[i].children);for(let i=0;i<n;i++)t[i].sorted=!0}sortPathConstraintAttachment(e,t,n){let i=e.attachments[t];if(i)for(let s in i)this.sortPathConstraintAttachmentWith(i[s],n)}sortPathConstraintAttachmentWith(e,t){if(!(e instanceof cc))return;let n=e.bones;if(!n)this.sortBone(t);else{let i=this.bones;for(let s=0,o=n.length;s<o;){let a=n[s++];for(a+=s;s<a;)this.sortBone(i[n[s++]])}}}sortPhysicsConstraint(e){const t=e.bone;e.active=t.active&&(!e.data.skinRequired||this.skin!=null&&pe.contains(this.skin.constraints,e.data,!0)),e.active&&(this.sortBone(t),this._updateCache.push(e),this.sortReset(t.children),t.sorted=!0)}sortBone(e){if(!e||e.sorted)return;let t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}sortReset(e){for(let t=0,n=e.length;t<n;t++){let i=e[t];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(e){if(e==null)throw new Error("physics is undefined");let t=this.bones;for(let i=0,s=t.length;i<s;i++){let o=t[i];o.ax=o.x,o.ay=o.y,o.arotation=o.rotation,o.ascaleX=o.scaleX,o.ascaleY=o.scaleY,o.ashearX=o.shearX,o.ashearY=o.shearY}let n=this._updateCache;for(let i=0,s=n.length;i<s;i++)n[i].update(e)}updateWorldTransformWith(e,t){let n=this.getRootBone();if(!n)throw new Error("Root bone must not be null.");let i=t.a,s=t.b,o=t.c,a=t.d;n.worldX=i*this.x+s*this.y+t.worldX,n.worldY=o*this.x+a*this.y+t.worldY;const u=(n.rotation+n.shearX)*ce.degRad,l=(n.rotation+90+n.shearY)*ce.degRad,h=Math.cos(u)*n.scaleX,c=Math.cos(l)*n.scaleY,d=Math.sin(u)*n.scaleX,p=Math.sin(l)*n.scaleY;n.a=(i*h+s*d)*this.scaleX,n.b=(i*c+s*p)*this.scaleX,n.c=(o*h+a*d)*this.scaleY,n.d=(o*c+a*p)*this.scaleY;let g=this._updateCache;for(let v=0,x=g.length;v<x;v++){let y=g[v];y!=n&&y.update(e)}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){for(const e of this.bones)e.setToSetupPose();for(const e of this.ikConstraints)e.setToSetupPose();for(const e of this.transformConstraints)e.setToSetupPose();for(const e of this.pathConstraints)e.setToSetupPose();for(const e of this.physicsConstraints)e.setToSetupPose()}setSlotsToSetupPose(){let e=this.slots;pe.arrayCopy(e,0,this.drawOrder,0,e.length);for(let t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.data.name==e)return s}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.data.name==e)return s}return null}setSkinByName(e){let t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}setSkin(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else{let t=this.slots;for(let n=0,i=t.length;n<i;n++){let s=t[n],o=s.data.attachmentName;if(o){let a=e.getAttachment(n,o);a&&s.setAttachment(a)}}}this.skin=e,this.updateCache()}}getAttachmentByName(e,t){let n=this.data.findSlot(e);if(!n)throw new Error(`Can't find slot with name ${e}`);return this.getAttachment(n.index,t)}getAttachment(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){let n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}setAttachment(e,t){if(!e)throw new Error("slotName cannot be null.");let n=this.slots;for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.data.name==e){let a=null;if(t&&(a=this.getAttachment(i,t),!a))throw new Error("Attachment not found: "+t+", for slot: "+e);o.setAttachment(a);return}}throw new Error("Slot not found: "+e)}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.ikConstraints.find(t=>t.data.name==e)??null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.transformConstraints.find(t=>t.data.name==e)??null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.pathConstraints.find(t=>t.data.name==e)??null}findPhysicsConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");return this.physicsConstraints.find(t=>t.data.name==e)??null}getBoundsRect(){let e=new qm,t=new qm;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}}getBounds(e,t,n=new Array(2),i=null){if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");let s=this.drawOrder,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let h=0,c=s.length;h<c;h++){let d=s[h];if(!d.bone.active)continue;let p=0,g=null,v=null,x=d.getAttachment();if(x instanceof ud)p=8,g=pe.setArraySize(n,p,0),x.computeWorldVertices(d,g,0,2),v=Au.quadTriangles;else if(x instanceof vl){let y=x;p=y.worldVerticesLength,g=pe.setArraySize(n,p,0),y.computeWorldVertices(d,0,p,g,0,2),v=y.triangles}else if(x instanceof Ad&&i!=null){i.clipStart(d,x);continue}if(g&&v){i!=null&&i.isClipping()&&(i.clipTriangles(g,v,v.length),g=i.clippedVertices,p=i.clippedVertices.length);for(let y=0,b=g.length;y<b;y+=2){let _=g[y],S=g[y+1];o=Math.min(o,_),a=Math.min(a,S),u=Math.max(u,_),l=Math.max(l,S)}}i!=null&&i.clipEndWithSlot(d)}i!=null&&i.clipEnd(),e.set(o,a),t.set(u-o,l-a)}update(e){this.time+=e}physicsTranslate(e,t){const n=this.physicsConstraints;for(let i=0,s=n.length;i<s;i++)n[i].translate(e,t)}physicsRotate(e,t,n){const i=this.physicsConstraints;for(let s=0,o=i.length;s<o;s++)i[s].rotate(e,t,n)}};C(Au,"quadTriangles",[0,1,2,2,3,0]),C(Au,"yDown",!1);let hc=Au;var oo;(function(r){r[r.none=0]="none",r[r.reset=1]="reset",r[r.update=2]="update",r[r.pose=3]="pose"})(oo||(oo={}));class GR extends t0{constructor(t){super(t,0,!1);C(this,"_bone",null);C(this,"x",0);C(this,"y",0);C(this,"rotate",0);C(this,"scaleX",0);C(this,"shearX",0);C(this,"limit",0);C(this,"step",0);C(this,"inertia",0);C(this,"strength",0);C(this,"damping",0);C(this,"massInverse",0);C(this,"wind",0);C(this,"gravity",0);C(this,"mix",0);C(this,"inertiaGlobal",!1);C(this,"strengthGlobal",!1);C(this,"dampingGlobal",!1);C(this,"massGlobal",!1);C(this,"windGlobal",!1);C(this,"gravityGlobal",!1);C(this,"mixGlobal",!1)}set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("BoneData not set.")}}class WR{constructor(){C(this,"name",null);C(this,"bones",new Array);C(this,"slots",new Array);C(this,"skins",new Array);C(this,"defaultSkin",null);C(this,"events",new Array);C(this,"animations",new Array);C(this,"ikConstraints",new Array);C(this,"transformConstraints",new Array);C(this,"pathConstraints",new Array);C(this,"physicsConstraints",new Array);C(this,"x",0);C(this,"y",0);C(this,"width",0);C(this,"height",0);C(this,"referenceScale",100);C(this,"version",null);C(this,"hash",null);C(this,"fps",0);C(this,"imagesPath",null);C(this,"audioPath",null)}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.name==e)return s}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.name==e)return s}return null}findSkin(e){if(!e)throw new Error("skinName cannot be null.");let t=this.skins;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.name==e)return s}return null}findEvent(e){if(!e)throw new Error("eventDataName cannot be null.");let t=this.events;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.name==e)return s}return null}findAnimation(e){if(!e)throw new Error("animationName cannot be null.");let t=this.animations;for(let n=0,i=t.length;n<i;n++){let s=t[n];if(s.name==e)return s}return null}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.ikConstraints;for(let n=0,i=t.length;n<i;n++){const s=t[n];if(s.name==e)return s}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.transformConstraints;for(let n=0,i=t.length;n<i;n++){const s=t[n];if(s.name==e)return s}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.pathConstraints;for(let n=0,i=t.length;n<i;n++){const s=t[n];if(s.name==e)return s}return null}findPhysicsConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.physicsConstraints;for(let n=0,i=t.length;n<i;n++){const s=t[n];if(s.name==e)return s}return null}}class XC{constructor(e=0,t,n){C(this,"slotIndex");C(this,"name");C(this,"attachment");this.slotIndex=e,this.name=t,this.attachment=n}}class v_{constructor(e){C(this,"name");C(this,"attachments",new Array);C(this,"bones",Array());C(this,"constraints",new Array);C(this,"color",new Xe(.99607843,.61960787,.30980393,1));if(!e)throw new Error("name cannot be null.");this.name=e}setAttachment(e,t,n){if(!n)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=n}addSkin(e){for(let i=0;i<e.bones.length;i++){let s=e.bones[i],o=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==s){o=!0;break}o||this.bones.push(s)}for(let i=0;i<e.constraints.length;i++){let s=e.constraints[i],o=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==s){o=!0;break}o||this.constraints.push(s)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var n=t[i];this.setAttachment(n.slotIndex,n.name,n.attachment)}}copySkin(e){for(let i=0;i<e.bones.length;i++){let s=e.bones[i],o=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==s){o=!0;break}o||this.bones.push(s)}for(let i=0;i<e.constraints.length;i++){let s=e.constraints[i],o=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==s){o=!0;break}o||this.constraints.push(s)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var n=t[i];n.attachment&&(n.attachment instanceof vl?(n.attachment=n.attachment.newLinkedMesh(),this.setAttachment(n.slotIndex,n.name,n.attachment)):(n.attachment=n.attachment.copy(),this.setAttachment(n.slotIndex,n.name,n.attachment)))}}getAttachment(e,t){let n=this.attachments[e];return n?n[t]:null}removeAttachment(e,t){let n=this.attachments[e];n&&delete n[t]}getAttachments(){let e=new Array;for(var t=0;t<this.attachments.length;t++){let n=this.attachments[t];if(n)for(let i in n){let s=n[i];s&&e.push(new XC(t,i,s))}}return e}getAttachmentsForSlot(e,t){let n=this.attachments[e];if(n)for(let i in n){let s=n[i];s&&t.push(new XC(e,i,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,t){let n=0;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],o=s.getAttachment();if(o&&n<t.attachments.length){let a=t.attachments[n];for(let u in a){let l=a[u];if(o==l){let h=this.getAttachment(n,u);h&&s.setAttachment(h);break}}}n++}}}class VR{constructor(e,t,n){C(this,"index",0);C(this,"name");C(this,"boneData");C(this,"color",new Xe(1,1,1,1));C(this,"darkColor",null);C(this,"attachmentName",null);C(this,"blendMode",sa.Normal);C(this,"visible",!0);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=n}}var sa;(function(r){r[r.Normal=0]="Normal",r[r.Additive=1]="Additive",r[r.Multiply=2]="Multiply",r[r.Screen=3]="Screen"})(sa||(sa={}));class qR extends t0{constructor(t){super(t,0,!1);C(this,"bones",new Array);C(this,"_target",null);C(this,"mixRotate",0);C(this,"mixX",0);C(this,"mixY",0);C(this,"mixScaleX",0);C(this,"mixScaleY",0);C(this,"mixShearY",0);C(this,"offsetRotation",0);C(this,"offsetX",0);C(this,"offsetY",0);C(this,"offsetScaleX",0);C(this,"offsetScaleY",0);C(this,"offsetShearY",0);C(this,"relative",!1);C(this,"local",!1)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class J9{constructor(e){C(this,"scale",1);C(this,"attachmentLoader");C(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,n=new WR;n.name="";let i=new ez(e),s=i.readInt32(),o=i.readInt32();n.hash=o==0&&s==0?null:o.toString(16)+s.toString(16),n.version=i.readString(),n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat(),n.referenceScale=i.readFloat()*t;let a=i.readBoolean();a&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());let u=0;u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("String in string table must not be null.");i.strings.push(c)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Bone name must not be null.");let d=h==0?null:n.bones[i.readInt(!0)],p=new XR(h,c,d);p.rotation=i.readFloat(),p.x=i.readFloat()*t,p.y=i.readFloat()*t,p.scaleX=i.readFloat(),p.scaleY=i.readFloat(),p.shearX=i.readFloat(),p.shearY=i.readFloat(),p.length=i.readFloat()*t,p.inherit=i.readByte(),p.skinRequired=i.readBoolean(),a&&(Xe.rgba8888ToColor(p.color,i.readInt32()),p.icon=i.readString()??void 0,p.visible=i.readBoolean()),n.bones.push(p)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Slot name must not be null.");let d=n.bones[i.readInt(!0)],p=new VR(h,c,d);Xe.rgba8888ToColor(p.color,i.readInt32());let g=i.readInt32();g!=-1&&Xe.rgb888ToColor(p.darkColor=new Xe,g),p.attachmentName=i.readStringRef(),p.blendMode=i.readInt(!0),a&&(p.visible=i.readBoolean()),n.slots.push(p)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("IK constraint data name must not be null.");let p=new zR(d);p.order=i.readInt(!0),c=i.readInt(!0);for(let v=0;v<c;v++)p.bones.push(n.bones[i.readInt(!0)]);p.target=n.bones[i.readInt(!0)];let g=i.readByte();p.skinRequired=(g&1)!=0,p.bendDirection=g&2?1:-1,p.compress=(g&4)!=0,p.stretch=(g&8)!=0,p.uniform=(g&16)!=0,g&32&&(p.mix=g&64?i.readFloat():1),g&128&&(p.softness=i.readFloat()*t),n.ikConstraints.push(p)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("Transform constraint data name must not be null.");let p=new qR(d);p.order=i.readInt(!0),c=i.readInt(!0);for(let v=0;v<c;v++)p.bones.push(n.bones[i.readInt(!0)]);p.target=n.bones[i.readInt(!0)];let g=i.readByte();p.skinRequired=(g&1)!=0,p.local=(g&2)!=0,p.relative=(g&4)!=0,g&8&&(p.offsetRotation=i.readFloat()),g&16&&(p.offsetX=i.readFloat()*t),g&32&&(p.offsetY=i.readFloat()*t),g&64&&(p.offsetScaleX=i.readFloat()),g&128&&(p.offsetScaleY=i.readFloat()),g=i.readByte(),g&1&&(p.offsetShearY=i.readFloat()),g&2&&(p.mixRotate=i.readFloat()),g&4&&(p.mixX=i.readFloat()),g&8&&(p.mixY=i.readFloat()),g&16&&(p.mixScaleX=i.readFloat()),g&32&&(p.mixScaleY=i.readFloat()),g&64&&(p.mixShearY=i.readFloat()),n.transformConstraints.push(p)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("Path constraint data name must not be null.");let p=new YR(d);p.order=i.readInt(!0),p.skinRequired=i.readBoolean(),c=i.readInt(!0);for(let v=0;v<c;v++)p.bones.push(n.bones[i.readInt(!0)]);p.target=n.slots[i.readInt(!0)];const g=i.readByte();p.positionMode=g&1,p.spacingMode=g>>1&3,p.rotateMode=g>>3&3,g&128&&(p.offsetRotation=i.readFloat()),p.position=i.readFloat(),p.positionMode==ks.Fixed&&(p.position*=t),p.spacing=i.readFloat(),(p.spacingMode==fr.Length||p.spacingMode==fr.Fixed)&&(p.spacing*=t),p.mixRotate=i.readFloat(),p.mixX=i.readFloat(),p.mixY=i.readFloat(),n.pathConstraints.push(p)}u=i.readInt(!0);for(let h=0,c;h<u;h++){const d=i.readString();if(!d)throw new Error("Physics constraint data name must not be null.");const p=new GR(d);p.order=i.readInt(!0),p.bone=n.bones[i.readInt(!0)];let g=i.readByte();p.skinRequired=(g&1)!=0,g&2&&(p.x=i.readFloat()),g&4&&(p.y=i.readFloat()),g&8&&(p.rotate=i.readFloat()),g&16&&(p.scaleX=i.readFloat()),g&32&&(p.shearX=i.readFloat()),p.limit=(g&64?i.readFloat():5e3)*t,p.step=1/i.readUnsignedByte(),p.inertia=i.readFloat(),p.strength=i.readFloat(),p.damping=i.readFloat(),p.massInverse=g&128?i.readFloat():1,p.wind=i.readFloat(),p.gravity=i.readFloat(),g=i.readByte(),g&1&&(p.inertiaGlobal=!0),g&2&&(p.strengthGlobal=!0),g&4&&(p.dampingGlobal=!0),g&8&&(p.massGlobal=!0),g&16&&(p.windGlobal=!0),g&32&&(p.gravityGlobal=!0),g&64&&(p.mixGlobal=!0),p.mix=g&128?i.readFloat():1,n.physicsConstraints.push(p)}let l=this.readSkin(i,n,!0,a);l&&(n.defaultSkin=l,n.skins.push(l));{let h=n.skins.length;for(pe.setArraySize(n.skins,u=h+i.readInt(!0));h<u;h++){let c=this.readSkin(i,n,!1,a);if(!c)throw new Error("readSkin() should not have returned null.");n.skins[h]=c}}u=this.linkedMeshes.length;for(let h=0;h<u;h++){let c=this.linkedMeshes[h];const d=n.skins[c.skinIndex];if(!c.parent)throw new Error("Linked mesh parent must not be null");let p=d.getAttachment(c.slotIndex,c.parent);if(!p)throw new Error(`Parent mesh not found: ${c.parent}`);c.mesh.timelineAttachment=c.inheritTimeline?p:c.mesh,c.mesh.setParentMesh(p),c.mesh.region!=null&&c.mesh.updateRegion()}this.linkedMeshes.length=0,u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Event data name must not be null");let d=new HR(c);d.intValue=i.readInt(!1),d.floatValue=i.readFloat(),d.stringValue=i.readString(),d.audioPath=i.readString(),d.audioPath&&(d.volume=i.readFloat(),d.balance=i.readFloat()),n.events.push(d)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,c,n))}return n}readSkin(e,t,n,i){let s=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;s=new v_("default")}else{let a=e.readString();if(!a)throw new Error("Skin name must not be null.");s=new v_(a),i&&Xe.rgba8888ToColor(s.color,e.readInt32()),s.bones.length=e.readInt(!0);for(let u=0,l=s.bones.length;u<l;u++)s.bones[u]=t.bones[e.readInt(!0)];for(let u=0,l=e.readInt(!0);u<l;u++)s.constraints.push(t.ikConstraints[e.readInt(!0)]);for(let u=0,l=e.readInt(!0);u<l;u++)s.constraints.push(t.transformConstraints[e.readInt(!0)]);for(let u=0,l=e.readInt(!0);u<l;u++)s.constraints.push(t.pathConstraints[e.readInt(!0)]);for(let u=0,l=e.readInt(!0);u<l;u++)s.constraints.push(t.physicsConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(let a=0;a<o;a++){let u=e.readInt(!0);for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readStringRef();if(!c)throw new Error("Attachment name must not be null");let d=this.readAttachment(e,t,s,u,c,i);d&&s.setAttachment(u,c,d)}}return s}readAttachment(e,t,n,i,s,o){let a=this.scale,u=e.readByte();const l=u&8?e.readStringRef():s;if(!l)throw new Error("Attachment name must not be null");switch(u&7){case Ks.Region:{let h=u&16?e.readStringRef():null;const c=u&32?e.readInt32():4294967295,d=u&64?this.readSequence(e):null;let p=u&128?e.readFloat():0,g=e.readFloat(),v=e.readFloat(),x=e.readFloat(),y=e.readFloat(),b=e.readFloat(),_=e.readFloat();h||(h=l);let S=this.attachmentLoader.newRegionAttachment(n,l,h,d);return S?(S.path=h,S.x=g*a,S.y=v*a,S.scaleX=x,S.scaleY=y,S.rotation=p,S.width=b*a,S.height=_*a,Xe.rgba8888ToColor(S.color,c),S.sequence=d,d==null&&S.updateRegion(),S):null}case Ks.BoundingBox:{let h=this.readVertices(e,(u&16)!=0),c=o?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(n,l);return d?(d.worldVerticesLength=h.length,d.vertices=h.vertices,d.bones=h.bones,o&&Xe.rgba8888ToColor(d.color,c),d):null}case Ks.Mesh:{let h=u&16?e.readStringRef():l;const c=u&32?e.readInt32():4294967295,d=u&64?this.readSequence(e):null,p=e.readInt(!0),g=this.readVertices(e,(u&128)!=0),v=this.readFloatArray(e,g.length,1),x=this.readShortArray(e,(g.length-p-2)*3);let y=[],b=0,_=0;o&&(y=this.readShortArray(e,e.readInt(!0)),b=e.readFloat(),_=e.readFloat()),h||(h=l);let S=this.attachmentLoader.newMeshAttachment(n,l,h,d);return S?(S.path=h,Xe.rgba8888ToColor(S.color,c),S.bones=g.bones,S.vertices=g.vertices,S.worldVerticesLength=g.length,S.triangles=x,S.regionUVs=v,d==null&&S.updateRegion(),S.hullLength=p<<1,S.sequence=d,o&&(S.edges=y,S.width=b*a,S.height=_*a),S):null}case Ks.LinkedMesh:{const h=u&16?e.readStringRef():l;if(h==null)throw new Error("Path of linked mesh must not be null");const c=u&32?e.readInt32():4294967295,d=u&64?this.readSequence(e):null,p=(u&128)!=0,g=e.readInt(!0),v=e.readStringRef();let x=0,y=0;o&&(x=e.readFloat(),y=e.readFloat());let b=this.attachmentLoader.newMeshAttachment(n,l,h,d);return b?(b.path=h,Xe.rgba8888ToColor(b.color,c),b.sequence=d,o&&(b.width=x*a,b.height=y*a),this.linkedMeshes.push(new tz(b,g,i,v,p)),b):null}case Ks.Path:{const h=(u&16)!=0,c=(u&32)!=0,d=this.readVertices(e,(u&64)!=0),p=pe.newArray(d.length/6,0);for(let x=0,y=p.length;x<y;x++)p[x]=e.readFloat()*a;const g=o?e.readInt32():0,v=this.attachmentLoader.newPathAttachment(n,l);return v?(v.closed=h,v.constantSpeed=c,v.worldVerticesLength=d.length,v.vertices=d.vertices,v.bones=d.bones,v.lengths=p,o&&Xe.rgba8888ToColor(v.color,g),v):null}case Ks.Point:{const h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),p=o?e.readInt32():0,g=this.attachmentLoader.newPointAttachment(n,l);return g?(g.x=c*a,g.y=d*a,g.rotation=h,o&&Xe.rgba8888ToColor(g.color,p),g):null}case Ks.Clipping:{const h=e.readInt(!0),c=this.readVertices(e,(u&16)!=0);let d=o?e.readInt32():0,p=this.attachmentLoader.newClippingAttachment(n,l);return p?(p.endSlot=t.slots[h],p.worldVerticesLength=c.length,p.vertices=c.vertices,p.bones=c.bones,o&&Xe.rgba8888ToColor(p.color,d),p):null}}return null}readSequence(e){let t=new Km(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}readVertices(e,t){const n=this.scale,i=e.readInt(!0),s=new rz;if(s.length=i<<1,!t)return s.vertices=this.readFloatArray(e,s.length,n),s;let o=new Array,a=new Array;for(let u=0;u<i;u++){let l=e.readInt(!0);a.push(l);for(let h=0;h<l;h++)a.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return s.vertices=pe.toFloatArray(o),s.bones=a,s}readFloatArray(e,t,n){let i=new Array(t);if(n==1)for(let s=0;s<t;s++)i[s]=e.readFloat();else for(let s=0;s<t;s++)i[s]=e.readFloat()*n;return i}readShortArray(e,t){let n=new Array(t);for(let i=0;i<t;i++)n[i]=e.readInt(!0);return n}readAnimation(e,t,n){e.readInt(!0);let i=new Array,s=this.scale;for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readInt(!0);for(let d=0,p=e.readInt(!0);d<p;d++){let g=e.readByte(),v=e.readInt(!0),x=v-1;switch(g){case pz:{let y=new bu(v,c);for(let b=0;b<v;b++)y.setFrame(b,e.readFloat(),e.readStringRef());i.push(y);break}case mz:{let y=e.readInt(!0),b=new bR(v,y,c),_=e.readFloat(),S=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255;for(let M=0,O=0;b.setFrame(M,_,S,I,P,k),M!=x;M++){let D=e.readFloat(),L=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255;switch(e.readByte()){case gs:b.setStepped(M);break;case vs:Je(e,b,O++,M,0,_,D,S,L,1),Je(e,b,O++,M,1,_,D,I,X,1),Je(e,b,O++,M,2,_,D,P,F,1),Je(e,b,O++,M,3,_,D,k,B,1)}_=D,S=L,I=X,P=F,k=B}i.push(b);break}case gz:{let y=e.readInt(!0),b=new SR(v,y,c),_=e.readFloat(),S=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255;for(let k=0,M=0;b.setFrame(k,_,S,I,P),k!=x;k++){let O=e.readFloat(),D=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255;switch(e.readByte()){case gs:b.setStepped(k);break;case vs:Je(e,b,M++,k,0,_,O,S,D,1),Je(e,b,M++,k,1,_,O,I,L,1),Je(e,b,M++,k,2,_,O,P,X,1)}_=O,S=D,I=L,P=X}i.push(b);break}case vz:{let y=e.readInt(!0),b=new ER(v,y,c),_=e.readFloat(),S=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255;for(let L=0,X=0;b.setFrame(L,_,S,I,P,k,M,O,D),L!=x;L++){let F=e.readFloat(),B=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255;switch(e.readByte()){case gs:b.setStepped(L);break;case vs:Je(e,b,X++,L,0,_,F,S,B,1),Je(e,b,X++,L,1,_,F,I,j,1),Je(e,b,X++,L,2,_,F,P,z,1),Je(e,b,X++,L,3,_,F,k,q,1),Je(e,b,X++,L,4,_,F,M,$,1),Je(e,b,X++,L,5,_,F,O,W,1),Je(e,b,X++,L,6,_,F,D,H,1)}_=F,S=B,I=j,P=z,k=q,M=$,O=W,D=H}i.push(b);break}case yz:{let y=e.readInt(!0),b=new CR(v,y,c),_=e.readFloat(),S=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;for(let D=0,L=0;b.setFrame(D,_,S,I,P,k,M,O),D!=x;D++){let X=e.readFloat(),F=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255;switch(e.readByte()){case gs:b.setStepped(D);break;case vs:Je(e,b,L++,D,0,_,X,S,F,1),Je(e,b,L++,D,1,_,X,I,B,1),Je(e,b,L++,D,2,_,X,P,j,1),Je(e,b,L++,D,3,_,X,k,z,1),Je(e,b,L++,D,4,_,X,M,q,1),Je(e,b,L++,D,5,_,X,O,$,1)}_=X,S=F,I=B,P=j,k=z,M=q,O=$}i.push(b);break}case xz:{let y=new TR(v,e.readInt(!0),c),b=e.readFloat(),_=e.readUnsignedByte()/255;for(let S=0,I=0;y.setFrame(S,b,_),S!=x;S++){let P=e.readFloat(),k=e.readUnsignedByte()/255;switch(e.readByte()){case gs:y.setStepped(S);break;case vs:Je(e,y,I++,S,0,b,P,_,k,1)}b=P,_=k}i.push(y)}}}}for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readInt(!0);for(let d=0,p=e.readInt(!0);d<p;d++){let g=e.readByte(),v=e.readInt(!0);if(g==fz){let y=new wR(v,c);for(let b=0;b<v;b++)y.setFrame(b,e.readFloat(),e.readByte());i.push(y);continue}let x=e.readInt(!0);switch(g){case nz:i.push($r(e,new Qm(v,x,c),1));break;case iz:i.push(Hy(e,new dR(v,x,c),s));break;case sz:i.push($r(e,new fR(v,x,c),s));break;case oz:i.push($r(e,new pR(v,x,c),s));break;case az:i.push(Hy(e,new mR(v,x,c),1));break;case lz:i.push($r(e,new gR(v,x,c),1));break;case uz:i.push($r(e,new vR(v,x,c),1));break;case cz:i.push(Hy(e,new yR(v,x,c),1));break;case hz:i.push($r(e,new xR(v,x,c),1));break;case dz:i.push($r(e,new _R(v,x,c),1))}}}for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readInt(!0),d=e.readInt(!0),p=d-1,g=new PR(d,e.readInt(!0),c),v=e.readByte(),x=e.readFloat(),y=v&1?v&2?e.readFloat():1:0,b=v&4?e.readFloat()*s:0;for(let _=0,S=0;g.setFrame(_,x,y,b,v&8?1:-1,(v&16)!=0,(v&32)!=0),_!=p;_++){v=e.readByte();const I=e.readFloat(),P=v&1?v&2?e.readFloat():1:0,k=v&4?e.readFloat()*s:0;v&64?g.setStepped(_):v&128&&(Je(e,g,S++,_,0,x,I,y,P,1),Je(e,g,S++,_,1,x,I,b,k,s)),x=I,y=P,b=k}i.push(g)}for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readInt(!0),d=e.readInt(!0),p=d-1,g=new kR(d,e.readInt(!0),c),v=e.readFloat(),x=e.readFloat(),y=e.readFloat(),b=e.readFloat(),_=e.readFloat(),S=e.readFloat(),I=e.readFloat();for(let P=0,k=0;g.setFrame(P,v,x,y,b,_,S,I),P!=p;P++){let M=e.readFloat(),O=e.readFloat(),D=e.readFloat(),L=e.readFloat(),X=e.readFloat(),F=e.readFloat(),B=e.readFloat();switch(e.readByte()){case gs:g.setStepped(P);break;case vs:Je(e,g,k++,P,0,v,M,x,O,1),Je(e,g,k++,P,1,v,M,y,D,1),Je(e,g,k++,P,2,v,M,b,L,1),Je(e,g,k++,P,3,v,M,_,X,1),Je(e,g,k++,P,4,v,M,S,F,1),Je(e,g,k++,P,5,v,M,I,B,1)}v=M,x=O,y=D,b=L,_=X,S=F,I=B}i.push(g)}for(let l=0,h=e.readInt(!0);l<h;l++){let c=e.readInt(!0),d=n.pathConstraints[c];for(let p=0,g=e.readInt(!0);p<g;p++){const v=e.readByte(),x=e.readInt(!0),y=e.readInt(!0);switch(v){case bz:i.push($r(e,new IR(x,y,c),d.positionMode==ks.Fixed?s:1));break;case Sz:i.push($r(e,new MR(x,y,c),d.spacingMode==fr.Length||d.spacingMode==fr.Fixed?s:1));break;case Tz:let b=new RR(x,y,c),_=e.readFloat(),S=e.readFloat(),I=e.readFloat(),P=e.readFloat();for(let k=0,M=0,O=b.getFrameCount()-1;b.setFrame(k,_,S,I,P),k!=O;k++){let D=e.readFloat(),L=e.readFloat(),X=e.readFloat(),F=e.readFloat();switch(e.readByte()){case gs:b.setStepped(k);break;case vs:Je(e,b,M++,k,0,_,D,S,L,1),Je(e,b,M++,k,1,_,D,I,X,1),Je(e,b,M++,k,2,_,D,P,F,1)}_=D,S=L,I=X,P=F}i.push(b)}}}for(let l=0,h=e.readInt(!0);l<h;l++){const c=e.readInt(!0)-1;for(let d=0,p=e.readInt(!0);d<p;d++){const g=e.readByte(),v=e.readInt(!0);if(g==Rz){const y=new Zm(v,c);for(let b=0;b<v;b++)y.setFrame(b,e.readFloat());i.push(y);continue}const x=e.readInt(!0);switch(g){case Ez:i.push($r(e,new OR(v,x,c),1));break;case Cz:i.push($r(e,new NR(v,x,c),1));break;case Az:i.push($r(e,new BR(v,x,c),1));break;case Pz:i.push($r(e,new FR(v,x,c),1));break;case kz:i.push($r(e,new LR(v,x,c),1));break;case Iz:i.push($r(e,new DR(v,x,c),1));break;case Mz:i.push($r(e,new UR(v,x,c),1))}}}for(let l=0,h=e.readInt(!0);l<h;l++){let c=n.skins[e.readInt(!0)];for(let d=0,p=e.readInt(!0);d<p;d++){let g=e.readInt(!0);for(let v=0,x=e.readInt(!0);v<x;v++){let y=e.readStringRef();if(!y)throw new Error("attachmentName must not be null.");let b=c.getAttachment(g,y),_=e.readByte(),S=e.readInt(!0),I=S-1;switch(_){case _z:{let P=b,k=P.bones,M=P.vertices,O=k?M.length/3*2:M.length,D=e.readInt(!0),L=new AR(S,D,g,P),X=e.readFloat();for(let F=0,B=0;;F++){let j,z=e.readInt(!0);if(z==0)j=k?pe.newFloatArray(O):M;else{j=pe.newFloatArray(O);let $=e.readInt(!0);if(z+=$,s==1)for(let W=$;W<z;W++)j[W]=e.readFloat();else for(let W=$;W<z;W++)j[W]=e.readFloat()*s;if(!k)for(let W=0,H=j.length;W<H;W++)j[W]+=M[W]}if(L.setFrame(F,X,j),F==I)break;let q=e.readFloat();switch(e.readByte()){case gs:L.setStepped(F);break;case vs:Je(e,L,B++,F,0,X,q,0,1,1)}X=q}i.push(L);break}case wz:{let P=new Jm(S,g,b);for(let k=0;k<S;k++){let M=e.readFloat(),O=e.readInt32();P.setFrame(k,M,hR[O&15],O>>4,e.readFloat())}i.push(P);break}}}}}let o=e.readInt(!0);if(o>0){let l=new ol(o),h=n.slots.length;for(let c=0;c<o;c++){let d=e.readFloat(),p=e.readInt(!0),g=pe.newArray(h,0);for(let b=h-1;b>=0;b--)g[b]=-1;let v=pe.newArray(h-p,0),x=0,y=0;for(let b=0;b<p;b++){let _=e.readInt(!0);for(;x!=_;)v[y++]=x++;g[x+e.readInt(!0)]=x++}for(;x<h;)v[y++]=x++;for(let b=h-1;b>=0;b--)g[b]==-1&&(g[b]=v[--y]);l.setFrame(c,d,g)}i.push(l)}let a=e.readInt(!0);if(a>0){let l=new ld(a);for(let h=0;h<a;h++){let c=e.readFloat(),d=n.events[e.readInt(!0)],p=new $R(c,d);p.intValue=e.readInt(!1),p.floatValue=e.readFloat(),p.stringValue=e.readString(),p.stringValue==null&&(p.stringValue=d.stringValue),p.data.audioPath&&(p.volume=e.readFloat(),p.balance=e.readFloat()),l.setFrame(h,p)}i.push(l)}let u=0;for(let l=0,h=i.length;l<h;l++)u=Math.max(u,i[l].getDuration());return new yb(t,i,u)}}class ez{constructor(e,t=new Array,n=0,i=new DataView(e instanceof ArrayBuffer?e:e.buffer)){C(this,"strings");C(this,"index");C(this,"buffer");this.strings=t,this.index=n,this.buffer=i}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){let e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let t=this.readByte(),n=t&127;return t&128&&(t=this.readByte(),n|=(t&127)<<7,t&128&&(t=this.readByte(),n|=(t&127)<<14,t&128&&(t=this.readByte(),n|=(t&127)<<21,t&128&&(t=this.readByte(),n|=(t&127)<<28)))),e?n:n>>>1^-(n&1)}readStringRef(){let e=this.readInt(!0);return e==0?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t="";for(let n=0;n<e;){let i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:t+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:t+=String.fromCharCode(i),n++}}return t}readFloat(){let e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return this.readByte()!=0}}let tz=class{constructor(e,t,n,i,s){C(this,"parent");C(this,"skinIndex");C(this,"slotIndex");C(this,"mesh");C(this,"inheritTimeline");this.mesh=e,this.skinIndex=t,this.slotIndex=n,this.parent=i,this.inheritTimeline=s}};class rz{constructor(e=null,t=null,n=0){C(this,"bones");C(this,"vertices");C(this,"length");this.bones=e,this.vertices=t,this.length=n}}var Ks;(function(r){r[r.Region=0]="Region",r[r.BoundingBox=1]="BoundingBox",r[r.Mesh=2]="Mesh",r[r.LinkedMesh=3]="LinkedMesh",r[r.Path=4]="Path",r[r.Point=5]="Point",r[r.Clipping=6]="Clipping"})(Ks||(Ks={}));function $r(r,e,t){let n=r.readFloat(),i=r.readFloat()*t;for(let s=0,o=0,a=e.getFrameCount()-1;e.setFrame(s,n,i),s!=a;s++){let u=r.readFloat(),l=r.readFloat()*t;switch(r.readByte()){case gs:e.setStepped(s);break;case vs:Je(r,e,o++,s,0,n,u,i,l,t)}n=u,i=l}return e}function Hy(r,e,t){let n=r.readFloat(),i=r.readFloat()*t,s=r.readFloat()*t;for(let o=0,a=0,u=e.getFrameCount()-1;e.setFrame(o,n,i,s),o!=u;o++){let l=r.readFloat(),h=r.readFloat()*t,c=r.readFloat()*t;switch(r.readByte()){case gs:e.setStepped(o);break;case vs:Je(r,e,a++,o,0,n,l,i,h,t),Je(r,e,a++,o,1,n,l,s,c,t)}n=l,i=h,s=c}return e}function Je(r,e,t,n,i,s,o,a,u,l){e.setBezier(t,n,i,s,a,r.readFloat(),r.readFloat()*l,r.readFloat(),r.readFloat()*l,o,u)}const nz=0,iz=1,sz=2,oz=3,az=4,lz=5,uz=6,cz=7,hz=8,dz=9,fz=10,pz=0,mz=1,gz=2,vz=3,yz=4,xz=5,_z=0,wz=1,bz=0,Sz=1,Tz=2,Ez=0,Cz=1,Az=2,Pz=4,kz=5,Iz=6,Mz=7,Rz=8,gs=1,vs=2;class pn{constructor(){C(this,"convexPolygons",new Array);C(this,"convexPolygonsIndices",new Array);C(this,"indicesArray",new Array);C(this,"isConcaveArray",new Array);C(this,"triangles",new Array);C(this,"polygonPool",new p_(()=>new Array));C(this,"polygonIndicesPool",new p_(()=>new Array))}triangulate(e){let t=e,n=e.length>>1,i=this.indicesArray;i.length=0;for(let a=0;a<n;a++)i[a]=a;let s=this.isConcaveArray;s.length=0;for(let a=0,u=n;a<u;++a)s[a]=pn.isConcave(a,n,t,i);let o=this.triangles;for(o.length=0;n>3;){let a=n-1,u=0,l=1;for(;;){e:if(!s[u]){let d=i[a]<<1,p=i[u]<<1,g=i[l]<<1,v=t[d],x=t[d+1],y=t[p],b=t[p+1],_=t[g],S=t[g+1];for(let I=(l+1)%n;I!=a;I=(I+1)%n){if(!s[I])continue;let P=i[I]<<1,k=t[P],M=t[P+1];if(pn.positiveArea(_,S,v,x,k,M)&&pn.positiveArea(v,x,y,b,k,M)&&pn.positiveArea(y,b,_,S,k,M))break e}break}if(l==0){do{if(!s[u])break;u--}while(u>0);break}a=u,u=l,l=(l+1)%n}o.push(i[(n+u-1)%n]),o.push(i[u]),o.push(i[(u+1)%n]),i.splice(u,1),s.splice(u,1),n--;let h=(n+u-1)%n,c=u==n?0:u;s[h]=pn.isConcave(h,n,t,i),s[c]=pn.isConcave(c,n,t,i)}return n==3&&(o.push(i[2]),o.push(i[0]),o.push(i[1])),o}decompose(e,t){let n=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;let s=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(s),s.length=0;let o=this.polygonIndicesPool.obtain();o.length=0;let a=this.polygonPool.obtain();a.length=0;let u=-1,l=0;for(let h=0,c=t.length;h<c;h+=3){let d=t[h]<<1,p=t[h+1]<<1,g=t[h+2]<<1,v=n[d],x=n[d+1],y=n[p],b=n[p+1],_=n[g],S=n[g+1],I=!1;if(u==d){let P=a.length-4,k=pn.winding(a[P],a[P+1],a[P+2],a[P+3],_,S),M=pn.winding(_,S,a[0],a[1],a[2],a[3]);k==l&&M==l&&(a.push(_),a.push(S),o.push(g),I=!0)}I||(a.length>0?(i.push(a),s.push(o)):(this.polygonPool.free(a),this.polygonIndicesPool.free(o)),a=this.polygonPool.obtain(),a.length=0,a.push(v),a.push(x),a.push(y),a.push(b),a.push(_),a.push(S),o=this.polygonIndicesPool.obtain(),o.length=0,o.push(d),o.push(p),o.push(g),l=pn.winding(v,x,y,b,_,S),u=d)}a.length>0&&(i.push(a),s.push(o));for(let h=0,c=i.length;h<c;h++){if(o=s[h],o.length==0)continue;let d=o[0],p=o[o.length-1];a=i[h];let g=a.length-4,v=a[g],x=a[g+1],y=a[g+2],b=a[g+3],_=a[0],S=a[1],I=a[2],P=a[3],k=pn.winding(v,x,y,b,_,S);for(let M=0;M<c;M++){if(M==h)continue;let O=s[M];if(O.length!=3)continue;let D=O[0],L=O[1],X=O[2],F=i[M],B=F[F.length-2],j=F[F.length-1];if(D!=d||L!=p)continue;let z=pn.winding(v,x,y,b,B,j),q=pn.winding(B,j,_,S,I,P);z==k&&q==k&&(F.length=0,O.length=0,a.push(B),a.push(j),o.push(X),v=y,x=b,y=B,b=j,M=0)}}for(let h=i.length-1;h>=0;h--)a=i[h],a.length==0&&(i.splice(h,1),this.polygonPool.free(a),o=s[h],s.splice(h,1),this.polygonIndicesPool.free(o));return i}static isConcave(e,t,n,i){let s=i[(t+e-1)%t]<<1,o=i[e]<<1,a=i[(e+1)%t]<<1;return!this.positiveArea(n[s],n[s+1],n[o],n[o+1],n[a],n[a+1])}static positiveArea(e,t,n,i,s,o){return e*(o-i)+n*(t-o)+s*(i-t)>=0}static winding(e,t,n,i,s,o){let a=n-e,u=i-t;return s*u-o*a+a*t-e*u>=0?1:-1}}class eg{constructor(){C(this,"triangulator",new pn);C(this,"clippingPolygon",new Array);C(this,"clipOutput",new Array);C(this,"clippedVertices",new Array);C(this,"clippedUVs",new Array);C(this,"clippedTriangles",new Array);C(this,"scratch",new Array);C(this,"clipAttachment",null);C(this,"clippingPolygons",null)}clipStart(e,t){if(this.clipAttachment)return 0;this.clipAttachment=t;let n=t.worldVerticesLength,i=pe.setArraySize(this.clippingPolygon,n);t.computeWorldVertices(e,0,n,i,0,2);let s=this.clippingPolygon;eg.makeClockwise(s);let o=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s));for(let a=0,u=o.length;a<u;a++){let l=o[a];eg.makeClockwise(l),l.push(l[0]),l.push(l[1])}return o.length}clipEndWithSlot(e){this.clipAttachment&&this.clipAttachment.endSlot==e.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return this.clipAttachment!=null}clipTriangles(e,t,n,i,s,o,a){i&&s&&o&&typeof a=="boolean"?this.clipTrianglesRender(e,t,n,i,s,o,a):this.clipTrianglesNoRender(e,t,n)}clipTrianglesNoRender(e,t,n){let i=this.clipOutput,s=this.clippedVertices,o=this.clippedTriangles,a=this.clippingPolygons,u=a.length,l=0;s.length=0,o.length=0;for(let h=0;h<n;h+=3){let c=t[h]<<1,d=e[c],p=e[c+1];c=t[h+1]<<1;let g=e[c],v=e[c+1];c=t[h+2]<<1;let x=e[c],y=e[c+1];for(let b=0;b<u;b++){let _=s.length;if(this.clip(d,p,g,v,x,y,a[b],i)){let S=i.length;if(S==0)continue;let I=S>>1,P=this.clipOutput,k=pe.setArraySize(s,_+I*2);for(let O=0;O<S;O+=2,_+=2){let D=P[O],L=P[O+1];k[_]=D,k[_+1]=L}_=o.length;let M=pe.setArraySize(o,_+3*(I-2));I--;for(let O=1;O<I;O++,_+=3)M[_]=l,M[_+1]=l+O,M[_+2]=l+O+1;l+=I+1}else{let S=pe.setArraySize(s,_+6);S[_]=d,S[_+1]=p,S[_+2]=g,S[_+3]=v,S[_+4]=x,S[_+5]=y,_=o.length;let I=pe.setArraySize(o,_+3);I[_]=l,I[_+1]=l+1,I[_+2]=l+2,l+=3;break}}}}clipTrianglesRender(e,t,n,i,s,o,a){let u=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,c=this.clippingPolygons,d=c.length,p=a?12:8,g=0;l.length=0,h.length=0;for(let v=0;v<n;v+=3){let x=t[v]<<1,y=e[x],b=e[x+1],_=i[x],S=i[x+1];x=t[v+1]<<1;let I=e[x],P=e[x+1],k=i[x],M=i[x+1];x=t[v+2]<<1;let O=e[x],D=e[x+1],L=i[x],X=i[x+1];for(let F=0;F<d;F++){let B=l.length;if(this.clip(y,b,I,P,O,D,c[F],u)){let j=u.length;if(j==0)continue;let z=P-D,q=O-I,$=y-O,W=D-b,H=1/(z*$+q*(b-D)),V=j>>1,Z=this.clipOutput,te=pe.setArraySize(l,B+V*p);for(let ge=0;ge<j;ge+=2,B+=p){let Pe=Z[ge],Fe=Z[ge+1];te[B]=Pe,te[B+1]=Fe,te[B+2]=s.r,te[B+3]=s.g,te[B+4]=s.b,te[B+5]=s.a;let He=Pe-O,qe=Fe-D,$e=(z*He+q*qe)*H,Le=(W*He+$*qe)*H,ut=1-$e-Le;te[B+6]=_*$e+k*Le+L*ut,te[B+7]=S*$e+M*Le+X*ut,a&&(te[B+8]=o.r,te[B+9]=o.g,te[B+10]=o.b,te[B+11]=o.a)}B=h.length;let le=pe.setArraySize(h,B+3*(V-2));V--;for(let ge=1;ge<V;ge++,B+=3)le[B]=g,le[B+1]=g+ge,le[B+2]=g+ge+1;g+=V+1}else{let j=pe.setArraySize(l,B+3*p);j[B]=y,j[B+1]=b,j[B+2]=s.r,j[B+3]=s.g,j[B+4]=s.b,j[B+5]=s.a,a?(j[B+6]=_,j[B+7]=S,j[B+8]=o.r,j[B+9]=o.g,j[B+10]=o.b,j[B+11]=o.a,j[B+12]=I,j[B+13]=P,j[B+14]=s.r,j[B+15]=s.g,j[B+16]=s.b,j[B+17]=s.a,j[B+18]=k,j[B+19]=M,j[B+20]=o.r,j[B+21]=o.g,j[B+22]=o.b,j[B+23]=o.a,j[B+24]=O,j[B+25]=D,j[B+26]=s.r,j[B+27]=s.g,j[B+28]=s.b,j[B+29]=s.a,j[B+30]=L,j[B+31]=X,j[B+32]=o.r,j[B+33]=o.g,j[B+34]=o.b,j[B+35]=o.a):(j[B+6]=_,j[B+7]=S,j[B+8]=I,j[B+9]=P,j[B+10]=s.r,j[B+11]=s.g,j[B+12]=s.b,j[B+13]=s.a,j[B+14]=k,j[B+15]=M,j[B+16]=O,j[B+17]=D,j[B+18]=s.r,j[B+19]=s.g,j[B+20]=s.b,j[B+21]=s.a,j[B+22]=L,j[B+23]=X),B=h.length;let z=pe.setArraySize(h,B+3);z[B]=g,z[B+1]=g+1,z[B+2]=g+2,g+=3;break}}}}clipTrianglesUnpacked(e,t,n,i){let s=this.clipOutput,o=this.clippedVertices,a=this.clippedUVs,u=this.clippedTriangles,l=this.clippingPolygons,h=l.length,c=0;o.length=0,a.length=0,u.length=0;for(let d=0;d<n;d+=3){let p=t[d]<<1,g=e[p],v=e[p+1],x=i[p],y=i[p+1];p=t[d+1]<<1;let b=e[p],_=e[p+1],S=i[p],I=i[p+1];p=t[d+2]<<1;let P=e[p],k=e[p+1],M=i[p],O=i[p+1];for(let D=0;D<h;D++){let L=o.length;if(this.clip(g,v,b,_,P,k,l[D],s)){let X=s.length;if(X==0)continue;let F=_-k,B=P-b,j=g-P,z=k-v,q=1/(F*j+B*(v-k)),$=X>>1,W=this.clipOutput,H=pe.setArraySize(o,L+$*2),V=pe.setArraySize(a,L+$*2);for(let te=0;te<X;te+=2,L+=2){let le=W[te],ge=W[te+1];H[L]=le,H[L+1]=ge;let Pe=le-P,Fe=ge-k,He=(F*Pe+B*Fe)*q,qe=(z*Pe+j*Fe)*q,$e=1-He-qe;V[L]=x*He+S*qe+M*$e,V[L+1]=y*He+I*qe+O*$e}L=u.length;let Z=pe.setArraySize(u,L+3*($-2));$--;for(let te=1;te<$;te++,L+=3)Z[L]=c,Z[L+1]=c+te,Z[L+2]=c+te+1;c+=$+1}else{let X=pe.setArraySize(o,L+6);X[L]=g,X[L+1]=v,X[L+2]=b,X[L+3]=_,X[L+4]=P,X[L+5]=k;let F=pe.setArraySize(a,L+3*2);F[L]=x,F[L+1]=y,F[L+2]=S,F[L+3]=I,F[L+4]=M,F[L+5]=O,L=u.length;let B=pe.setArraySize(u,L+3);B[L]=c,B[L+1]=c+1,B[L+2]=c+2,c+=3;break}}}}clip(e,t,n,i,s,o,a,u){let l=u,h=!1,c;a.length%4>=2?(c=u,u=this.scratch):c=this.scratch,c.length=0,c.push(e),c.push(t),c.push(n),c.push(i),c.push(s),c.push(o),c.push(e),c.push(t),u.length=0;let d=a.length-4,p=a;for(let g=0;;g+=2){let v=p[g],x=p[g+1],y=v-p[g+2],b=x-p[g+3],_=u.length,S=c;for(let P=0,k=c.length-2;P<k;){let M=S[P],O=S[P+1];P+=2;let D=S[P],L=S[P+1],X=b*(v-D)>y*(x-L),F=b*(v-M)-y*(x-O);if(F>0){if(X){u.push(D),u.push(L);continue}let B=D-M,j=L-O,z=F/(B*b-j*y);if(z>=0&&z<=1)u.push(M+B*z),u.push(O+j*z);else{u.push(D),u.push(L);continue}}else if(X){let B=D-M,j=L-O,z=F/(B*b-j*y);if(z>=0&&z<=1)u.push(M+B*z),u.push(O+j*z),u.push(D),u.push(L);else{u.push(D),u.push(L);continue}}h=!0}if(_==u.length)return l.length=0,!0;if(u.push(u[0]),u.push(u[1]),g==d)break;let I=u;u=c,u.length=0,c=I}if(l!=u){l.length=0;for(let g=0,v=u.length-2;g<v;g++)l[g]=u[g]}else l.length=l.length-2;return h}static makeClockwise(e){let t=e,n=e.length,i=t[n-2]*t[1]-t[0]*t[n-1],s=0,o=0,a=0,u=0;for(let l=0,h=n-3;l<h;l+=2)s=t[l],o=t[l+1],a=t[l+2],u=t[l+3],i+=s*u-a*o;if(!(i<0))for(let l=0,h=n-2,c=n>>1;l<c;l+=2){let d=t[l],p=t[l+1],g=h-l;t[l]=t[g],t[l+1]=t[g+1],t[g]=d,t[g+1]=p}}}class Oz{constructor(e){C(this,"attachmentLoader");C(this,"scale",1);C(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,n=new WR,i=typeof e=="string"?JSON.parse(e):e,s=i.skeleton;if(s&&(n.hash=s.hash,n.version=s.spine,n.x=s.x,n.y=s.y,n.width=s.width,n.height=s.height,n.referenceScale=G(s,"referenceScale",100)*t,n.fps=s.fps,n.imagesPath=s.images??null,n.audioPath=s.audio??null),i.bones)for(let o=0;o<i.bones.length;o++){let a=i.bones[o],u=null,l=G(a,"parent",null);l&&(u=n.findBone(l));let h=new XR(n.bones.length,a.name,u);h.length=G(a,"length",0)*t,h.x=G(a,"x",0)*t,h.y=G(a,"y",0)*t,h.rotation=G(a,"rotation",0),h.scaleX=G(a,"scaleX",1),h.scaleY=G(a,"scaleY",1),h.shearX=G(a,"shearX",0),h.shearY=G(a,"shearY",0),h.inherit=pe.enumValue(Lt,G(a,"inherit","Normal")),h.skinRequired=G(a,"skin",!1);let c=G(a,"color",null);c&&h.color.setFromString(c),n.bones.push(h)}if(i.slots)for(let o=0;o<i.slots.length;o++){let a=i.slots[o],u=a.name,l=n.findBone(a.bone);if(!l)throw new Error(`Couldn't find bone ${a.bone} for slot ${u}`);let h=new VR(n.slots.length,u,l),c=G(a,"color",null);c&&h.color.setFromString(c);let d=G(a,"dark",null);d&&(h.darkColor=Xe.fromString(d)),h.attachmentName=G(a,"attachment",null),h.blendMode=pe.enumValue(sa,G(a,"blend","normal")),h.visible=G(a,"visible",!0),n.slots.push(h)}if(i.ik)for(let o=0;o<i.ik.length;o++){let a=i.ik[o],u=new zR(a.name);u.order=G(a,"order",0),u.skinRequired=G(a,"skin",!1);for(let h=0;h<a.bones.length;h++){let c=n.findBone(a.bones[h]);if(!c)throw new Error(`Couldn't find bone ${a.bones[h]} for IK constraint ${a.name}.`);u.bones.push(c)}let l=n.findBone(a.target);if(!l)throw new Error(`Couldn't find target bone ${a.target} for IK constraint ${a.name}.`);u.target=l,u.mix=G(a,"mix",1),u.softness=G(a,"softness",0)*t,u.bendDirection=G(a,"bendPositive",!0)?1:-1,u.compress=G(a,"compress",!1),u.stretch=G(a,"stretch",!1),u.uniform=G(a,"uniform",!1),n.ikConstraints.push(u)}if(i.transform)for(let o=0;o<i.transform.length;o++){let a=i.transform[o],u=new qR(a.name);u.order=G(a,"order",0),u.skinRequired=G(a,"skin",!1);for(let c=0;c<a.bones.length;c++){let d=a.bones[c],p=n.findBone(d);if(!p)throw new Error(`Couldn't find bone ${d} for transform constraint ${a.name}.`);u.bones.push(p)}let l=a.target,h=n.findBone(l);if(!h)throw new Error(`Couldn't find target bone ${l} for transform constraint ${a.name}.`);u.target=h,u.local=G(a,"local",!1),u.relative=G(a,"relative",!1),u.offsetRotation=G(a,"rotation",0),u.offsetX=G(a,"x",0)*t,u.offsetY=G(a,"y",0)*t,u.offsetScaleX=G(a,"scaleX",0),u.offsetScaleY=G(a,"scaleY",0),u.offsetShearY=G(a,"shearY",0),u.mixRotate=G(a,"mixRotate",1),u.mixX=G(a,"mixX",1),u.mixY=G(a,"mixY",u.mixX),u.mixScaleX=G(a,"mixScaleX",1),u.mixScaleY=G(a,"mixScaleY",u.mixScaleX),u.mixShearY=G(a,"mixShearY",1),n.transformConstraints.push(u)}if(i.path)for(let o=0;o<i.path.length;o++){let a=i.path[o],u=new YR(a.name);u.order=G(a,"order",0),u.skinRequired=G(a,"skin",!1);for(let c=0;c<a.bones.length;c++){let d=a.bones[c],p=n.findBone(d);if(!p)throw new Error(`Couldn't find bone ${d} for path constraint ${a.name}.`);u.bones.push(p)}let l=a.target,h=n.findSlot(l);if(!h)throw new Error(`Couldn't find target slot ${l} for path constraint ${a.name}.`);u.target=h,u.positionMode=pe.enumValue(ks,G(a,"positionMode","Percent")),u.spacingMode=pe.enumValue(fr,G(a,"spacingMode","Length")),u.rotateMode=pe.enumValue(al,G(a,"rotateMode","Tangent")),u.offsetRotation=G(a,"rotation",0),u.position=G(a,"position",0),u.positionMode==ks.Fixed&&(u.position*=t),u.spacing=G(a,"spacing",0),(u.spacingMode==fr.Length||u.spacingMode==fr.Fixed)&&(u.spacing*=t),u.mixRotate=G(a,"mixRotate",1),u.mixX=G(a,"mixX",1),u.mixY=G(a,"mixY",u.mixX),n.pathConstraints.push(u)}if(i.physics)for(let o=0;o<i.physics.length;o++){const a=i.physics[o],u=new GR(a.name);u.order=G(a,"order",0),u.skinRequired=G(a,"skin",!1);const l=a.bone,h=n.findBone(l);if(h==null)throw new Error("Physics bone not found: "+l);u.bone=h,u.x=G(a,"x",0),u.y=G(a,"y",0),u.rotate=G(a,"rotate",0),u.scaleX=G(a,"scaleX",0),u.shearX=G(a,"shearX",0),u.limit=G(a,"limit",5e3)*t,u.step=1/G(a,"fps",60),u.inertia=G(a,"inertia",1),u.strength=G(a,"strength",100),u.damping=G(a,"damping",1),u.massInverse=1/G(a,"mass",1),u.wind=G(a,"wind",0),u.gravity=G(a,"gravity",0),u.mix=G(a,"mix",1),u.inertiaGlobal=G(a,"inertiaGlobal",!1),u.strengthGlobal=G(a,"strengthGlobal",!1),u.dampingGlobal=G(a,"dampingGlobal",!1),u.massGlobal=G(a,"massGlobal",!1),u.windGlobal=G(a,"windGlobal",!1),u.gravityGlobal=G(a,"gravityGlobal",!1),u.mixGlobal=G(a,"mixGlobal",!1),n.physicsConstraints.push(u)}if(i.skins)for(let o=0;o<i.skins.length;o++){let a=i.skins[o],u=new v_(a.name);if(a.bones)for(let l=0;l<a.bones.length;l++){let h=a.bones[l],c=n.findBone(h);if(!c)throw new Error(`Couldn't find bone ${h} for skin ${a.name}.`);u.bones.push(c)}if(a.ik)for(let l=0;l<a.ik.length;l++){let h=a.ik[l],c=n.findIkConstraint(h);if(!c)throw new Error(`Couldn't find IK constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}if(a.transform)for(let l=0;l<a.transform.length;l++){let h=a.transform[l],c=n.findTransformConstraint(h);if(!c)throw new Error(`Couldn't find transform constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}if(a.path)for(let l=0;l<a.path.length;l++){let h=a.path[l],c=n.findPathConstraint(h);if(!c)throw new Error(`Couldn't find path constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}if(a.physics)for(let l=0;l<a.physics.length;l++){let h=a.physics[l],c=n.findPhysicsConstraint(h);if(!c)throw new Error(`Couldn't find physics constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}for(let l in a.attachments){let h=n.findSlot(l);if(!h)throw new Error(`Couldn't find slot ${l} for skin ${a.name}.`);let c=a.attachments[l];for(let d in c){let p=this.readAttachment(c[d],u,h.index,d,n);p&&u.setAttachment(h.index,d,p)}}n.skins.push(u),u.name=="default"&&(n.defaultSkin=u)}for(let o=0,a=this.linkedMeshes.length;o<a;o++){let u=this.linkedMeshes[o],l=u.skin?n.findSkin(u.skin):n.defaultSkin;if(!l)throw new Error(`Skin not found: ${u.skin}`);let h=l.getAttachment(u.slotIndex,u.parent);if(!h)throw new Error(`Parent mesh not found: ${u.parent}`);u.mesh.timelineAttachment=u.inheritTimeline?h:u.mesh,u.mesh.setParentMesh(h),u.mesh.region!=null&&u.mesh.updateRegion()}if(this.linkedMeshes.length=0,i.events)for(let o in i.events){let a=i.events[o],u=new HR(o);u.intValue=G(a,"int",0),u.floatValue=G(a,"float",0),u.stringValue=G(a,"string",""),u.audioPath=G(a,"audio",null),u.audioPath&&(u.volume=G(a,"volume",1),u.balance=G(a,"balance",0)),n.events.push(u)}if(i.animations)for(let o in i.animations){let a=i.animations[o];this.readAnimation(a,o,n)}return n}readAttachment(e,t,n,i,s){let o=this.scale;switch(i=G(e,"name",i),G(e,"type","region")){case"region":{let a=G(e,"path",i),u=this.readSequence(G(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(t,i,a,u);if(!l)return null;l.path=a,l.x=G(e,"x",0)*o,l.y=G(e,"y",0)*o,l.scaleX=G(e,"scaleX",1),l.scaleY=G(e,"scaleY",1),l.rotation=G(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=u;let h=G(e,"color",null);return h&&l.color.setFromString(h),l.region!=null&&l.updateRegion(),l}case"boundingbox":{let a=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(!a)return null;this.readVertices(e,a,e.vertexCount<<1);let u=G(e,"color",null);return u&&a.color.setFromString(u),a}case"mesh":case"linkedmesh":{let a=G(e,"path",i),u=this.readSequence(G(e,"sequence",null)),l=this.attachmentLoader.newMeshAttachment(t,i,a,u);if(!l)return null;l.path=a;let h=G(e,"color",null);h&&l.color.setFromString(h),l.width=G(e,"width",0)*o,l.height=G(e,"height",0)*o,l.sequence=u;let c=G(e,"parent",null);if(c)return this.linkedMeshes.push(new Nz(l,G(e,"skin",null),n,c,G(e,"timelines",!0))),l;let d=e.uvs;return this.readVertices(e,l,d.length),l.triangles=e.triangles,l.regionUVs=d,l.region!=null&&l.updateRegion(),l.edges=G(e,"edges",null),l.hullLength=G(e,"hull",0)*2,l}case"path":{let a=this.attachmentLoader.newPathAttachment(t,i);if(!a)return null;a.closed=G(e,"closed",!1),a.constantSpeed=G(e,"constantSpeed",!0);let u=e.vertexCount;this.readVertices(e,a,u<<1);let l=pe.newArray(u/3,0);for(let c=0;c<e.lengths.length;c++)l[c]=e.lengths[c]*o;a.lengths=l;let h=G(e,"color",null);return h&&a.color.setFromString(h),a}case"point":{let a=this.attachmentLoader.newPointAttachment(t,i);if(!a)return null;a.x=G(e,"x",0)*o,a.y=G(e,"y",0)*o,a.rotation=G(e,"rotation",0);let u=G(e,"color",null);return u&&a.color.setFromString(u),a}case"clipping":{let a=this.attachmentLoader.newClippingAttachment(t,i);if(!a)return null;let u=G(e,"end",null);u&&(a.endSlot=s.findSlot(u));let l=e.vertexCount;this.readVertices(e,a,l<<1);let h=G(e,"color",null);return h&&a.color.setFromString(h),a}}return null}readSequence(e){if(e==null)return null;let t=new Km(G(e,"count",0));return t.start=G(e,"start",1),t.digits=G(e,"digits",0),t.setupIndex=G(e,"setup",0),t}readVertices(e,t,n){let i=this.scale;t.worldVerticesLength=n;let s=e.vertices;if(n==s.length){let u=pe.toFloatArray(s);if(i!=1)for(let l=0,h=s.length;l<h;l++)u[l]*=i;t.vertices=u;return}let o=new Array,a=new Array;for(let u=0,l=s.length;u<l;){let h=s[u++];a.push(h);for(let c=u+h*4;u<c;u+=4)a.push(s[u]),o.push(s[u+1]*i),o.push(s[u+2]*i),o.push(s[u+3])}t.bones=a,t.vertices=pe.toFloatArray(o)}readAnimation(e,t,n){let i=this.scale,s=new Array;if(e.slots)for(let a in e.slots){let u=e.slots[a],l=n.findSlot(a);if(!l)throw new Error("Slot not found: "+a);let h=l.index;for(let c in u){let d=u[c];if(!d)continue;let p=d.length;if(c=="attachment"){let g=new bu(p,h);for(let v=0;v<p;v++){let x=d[v];g.setFrame(v,G(x,"time",0),G(x,"name",null))}s.push(g)}else if(c=="rgba"){let g=new bR(p,p<<2,h),v=d[0],x=G(v,"time",0),y=Xe.fromString(v.color);for(let b=0,_=0;;b++){g.setFrame(b,x,y.r,y.g,y.b,y.a);let S=d[b+1];if(!S){g.shrink(_);break}let I=G(S,"time",0),P=Xe.fromString(S.color),k=v.curve;k&&(_=nt(k,g,_,b,0,x,I,y.r,P.r,1),_=nt(k,g,_,b,1,x,I,y.g,P.g,1),_=nt(k,g,_,b,2,x,I,y.b,P.b,1),_=nt(k,g,_,b,3,x,I,y.a,P.a,1)),x=I,y=P,v=S}s.push(g)}else if(c=="rgb"){let g=new SR(p,p*3,h),v=d[0],x=G(v,"time",0),y=Xe.fromString(v.color);for(let b=0,_=0;;b++){g.setFrame(b,x,y.r,y.g,y.b);let S=d[b+1];if(!S){g.shrink(_);break}let I=G(S,"time",0),P=Xe.fromString(S.color),k=v.curve;k&&(_=nt(k,g,_,b,0,x,I,y.r,P.r,1),_=nt(k,g,_,b,1,x,I,y.g,P.g,1),_=nt(k,g,_,b,2,x,I,y.b,P.b,1)),x=I,y=P,v=S}s.push(g)}else if(c=="alpha")s.push(Ei(d,new TR(p,p,h),0,1));else if(c=="rgba2"){let g=new ER(p,p*7,h),v=d[0],x=G(v,"time",0),y=Xe.fromString(v.light),b=Xe.fromString(v.dark);for(let _=0,S=0;;_++){g.setFrame(_,x,y.r,y.g,y.b,y.a,b.r,b.g,b.b);let I=d[_+1];if(!I){g.shrink(S);break}let P=G(I,"time",0),k=Xe.fromString(I.light),M=Xe.fromString(I.dark),O=v.curve;O&&(S=nt(O,g,S,_,0,x,P,y.r,k.r,1),S=nt(O,g,S,_,1,x,P,y.g,k.g,1),S=nt(O,g,S,_,2,x,P,y.b,k.b,1),S=nt(O,g,S,_,3,x,P,y.a,k.a,1),S=nt(O,g,S,_,4,x,P,b.r,M.r,1),S=nt(O,g,S,_,5,x,P,b.g,M.g,1),S=nt(O,g,S,_,6,x,P,b.b,M.b,1)),x=P,y=k,b=M,v=I}s.push(g)}else if(c=="rgb2"){let g=new CR(p,p*6,h),v=d[0],x=G(v,"time",0),y=Xe.fromString(v.light),b=Xe.fromString(v.dark);for(let _=0,S=0;;_++){g.setFrame(_,x,y.r,y.g,y.b,b.r,b.g,b.b);let I=d[_+1];if(!I){g.shrink(S);break}let P=G(I,"time",0),k=Xe.fromString(I.light),M=Xe.fromString(I.dark),O=v.curve;O&&(S=nt(O,g,S,_,0,x,P,y.r,k.r,1),S=nt(O,g,S,_,1,x,P,y.g,k.g,1),S=nt(O,g,S,_,2,x,P,y.b,k.b,1),S=nt(O,g,S,_,3,x,P,b.r,M.r,1),S=nt(O,g,S,_,4,x,P,b.g,M.g,1),S=nt(O,g,S,_,5,x,P,b.b,M.b,1)),x=P,y=k,b=M,v=I}s.push(g)}}}if(e.bones)for(let a in e.bones){let u=e.bones[a],l=n.findBone(a);if(!l)throw new Error("Bone not found: "+a);let h=l.index;for(let c in u){let d=u[c],p=d.length;if(p!=0){if(c==="rotate")s.push(Ei(d,new Qm(p,p,h),0,1));else if(c==="translate"){let g=new dR(p,p<<1,h);s.push(zy(d,g,"x","y",0,i))}else if(c==="translatex"){let g=new fR(p,p,h);s.push(Ei(d,g,0,i))}else if(c==="translatey"){let g=new pR(p,p,h);s.push(Ei(d,g,0,i))}else if(c==="scale"){let g=new mR(p,p<<1,h);s.push(zy(d,g,"x","y",1,1))}else if(c==="scalex"){let g=new gR(p,p,h);s.push(Ei(d,g,1,1))}else if(c==="scaley"){let g=new vR(p,p,h);s.push(Ei(d,g,1,1))}else if(c==="shear"){let g=new yR(p,p<<1,h);s.push(zy(d,g,"x","y",0,1))}else if(c==="shearx"){let g=new xR(p,p,h);s.push(Ei(d,g,0,1))}else if(c==="sheary"){let g=new _R(p,p,h);s.push(Ei(d,g,0,1))}else if(c==="inherit"){let g=new wR(p,l.index);for(let v=0;v<d.length;v++){let x=d[v];g.setFrame(v,G(x,"time",0),pe.enumValue(Lt,G(x,"inherit","Normal")))}s.push(g)}}}}if(e.ik)for(let a in e.ik){let u=e.ik[a],l=u[0];if(!l)continue;let h=n.findIkConstraint(a);if(!h)throw new Error("IK Constraint not found: "+a);let c=n.ikConstraints.indexOf(h),d=new PR(u.length,u.length<<1,c),p=G(l,"time",0),g=G(l,"mix",1),v=G(l,"softness",0)*i;for(let x=0,y=0;;x++){d.setFrame(x,p,g,v,G(l,"bendPositive",!0)?1:-1,G(l,"compress",!1),G(l,"stretch",!1));let b=u[x+1];if(!b){d.shrink(y);break}let _=G(b,"time",0),S=G(b,"mix",1),I=G(b,"softness",0)*i,P=l.curve;P&&(y=nt(P,d,y,x,0,p,_,g,S,1),y=nt(P,d,y,x,1,p,_,v,I,i)),p=_,g=S,v=I,l=b}s.push(d)}if(e.transform)for(let a in e.transform){let u=e.transform[a],l=u[0];if(!l)continue;let h=n.findTransformConstraint(a);if(!h)throw new Error("Transform constraint not found: "+a);let c=n.transformConstraints.indexOf(h),d=new kR(u.length,u.length*6,c),p=G(l,"time",0),g=G(l,"mixRotate",1),v=G(l,"mixX",1),x=G(l,"mixY",v),y=G(l,"mixScaleX",1),b=G(l,"mixScaleY",y),_=G(l,"mixShearY",1);for(let S=0,I=0;;S++){d.setFrame(S,p,g,v,x,y,b,_);let P=u[S+1];if(!P){d.shrink(I);break}let k=G(P,"time",0),M=G(P,"mixRotate",1),O=G(P,"mixX",1),D=G(P,"mixY",O),L=G(P,"mixScaleX",1),X=G(P,"mixScaleY",L),F=G(P,"mixShearY",1),B=l.curve;B&&(I=nt(B,d,I,S,0,p,k,g,M,1),I=nt(B,d,I,S,1,p,k,v,O,1),I=nt(B,d,I,S,2,p,k,x,D,1),I=nt(B,d,I,S,3,p,k,y,L,1),I=nt(B,d,I,S,4,p,k,b,X,1),I=nt(B,d,I,S,5,p,k,_,F,1)),p=k,g=M,v=O,x=D,y=L,b=X,y=L,l=P}s.push(d)}if(e.path)for(let a in e.path){let u=e.path[a],l=n.findPathConstraint(a);if(!l)throw new Error("Path constraint not found: "+a);let h=n.pathConstraints.indexOf(l);for(let c in u){let d=u[c],p=d[0];if(!p)continue;let g=d.length;if(c==="position"){let v=new IR(g,g,h);s.push(Ei(d,v,0,l.positionMode==ks.Fixed?i:1))}else if(c==="spacing"){let v=new MR(g,g,h);s.push(Ei(d,v,0,l.spacingMode==fr.Length||l.spacingMode==fr.Fixed?i:1))}else if(c==="mix"){let v=new RR(g,g*3,h),x=G(p,"time",0),y=G(p,"mixRotate",1),b=G(p,"mixX",1),_=G(p,"mixY",b);for(let S=0,I=0;;S++){v.setFrame(S,x,y,b,_);let P=d[S+1];if(!P){v.shrink(I);break}let k=G(P,"time",0),M=G(P,"mixRotate",1),O=G(P,"mixX",1),D=G(P,"mixY",O),L=p.curve;L&&(I=nt(L,v,I,S,0,x,k,y,M,1),I=nt(L,v,I,S,1,x,k,b,O,1),I=nt(L,v,I,S,2,x,k,_,D,1)),x=k,y=M,b=O,_=D,p=P}s.push(v)}}}if(e.physics)for(let a in e.physics){let u=e.physics[a],l=-1;if(a.length>0){let h=n.findPhysicsConstraint(a);if(!h)throw new Error("Physics constraint not found: "+a);l=n.physicsConstraints.indexOf(h)}for(let h in u){let c=u[h],d=c[0];if(!d)continue;let p=c.length;if(h=="reset"){const v=new Zm(p,l);for(let x=0;d!=null;d=c[x+1],x++)v.setFrame(x,G(d,"time",0));s.push(v);continue}let g;if(h=="inertia")g=new OR(p,p,l);else if(h=="strength")g=new NR(p,p,l);else if(h=="damping")g=new BR(p,p,l);else if(h=="mass")g=new FR(p,p,l);else if(h=="wind")g=new LR(p,p,l);else if(h=="gravity")g=new DR(p,p,l);else if(h=="mix")g=new UR(p,p,l);else continue;s.push(Ei(c,g,0,1))}}if(e.attachments)for(let a in e.attachments){let u=e.attachments[a],l=n.findSkin(a);if(!l)throw new Error("Skin not found: "+a);for(let h in u){let c=u[h],d=n.findSlot(h);if(!d)throw new Error("Slot not found: "+h);let p=d.index;for(let g in c){let v=c[g],x=l.getAttachment(p,g);for(let y in v){let b=v[y],_=b[0];if(_){if(y=="deform"){let S=x.bones,I=x.vertices,P=S?I.length/3*2:I.length,k=new AR(b.length,b.length,p,x),M=G(_,"time",0);for(let O=0,D=0;;O++){let L,X=G(_,"vertices",null);if(!X)L=S?pe.newFloatArray(P):I;else{L=pe.newFloatArray(P);let z=G(_,"offset",0);if(pe.arrayCopy(X,0,L,z,X.length),i!=1)for(let q=z,$=q+X.length;q<$;q++)L[q]*=i;if(!S)for(let q=0;q<P;q++)L[q]+=I[q]}k.setFrame(O,M,L);let F=b[O+1];if(!F){k.shrink(D);break}let B=G(F,"time",0),j=_.curve;j&&(D=nt(j,k,D,O,0,M,B,0,1,1)),M=B,_=F}s.push(k)}else if(y=="sequence"){let S=new Jm(b.length,p,x),I=0;for(let P=0;P<b.length;P++){let k=G(_,"delay",I),M=G(_,"time",0),O=kr[G(_,"mode","hold")],D=G(_,"index",0);S.setFrame(P,M,O,D,k),I=k,_=b[P+1]}s.push(S)}}}}}}if(e.drawOrder){let a=new ol(e.drawOrder.length),u=n.slots.length,l=0;for(let h=0;h<e.drawOrder.length;h++,l++){let c=e.drawOrder[h],d=null,p=G(c,"offsets",null);if(p){d=pe.newArray(u,-1);let g=pe.newArray(u-p.length,0),v=0,x=0;for(let y=0;y<p.length;y++){let b=p[y],_=n.findSlot(b.slot);if(!_)throw new Error("Slot not found: "+_);let S=_.index;for(;v!=S;)g[x++]=v++;d[v+b.offset]=v++}for(;v<u;)g[x++]=v++;for(let y=u-1;y>=0;y--)d[y]==-1&&(d[y]=g[--x])}a.setFrame(l,G(c,"time",0),d)}s.push(a)}if(e.events){let a=new ld(e.events.length),u=0;for(let l=0;l<e.events.length;l++,u++){let h=e.events[l],c=n.findEvent(h.name);if(!c)throw new Error("Event not found: "+h.name);let d=new $R(pe.toSinglePrecision(G(h,"time",0)),c);d.intValue=G(h,"int",c.intValue),d.floatValue=G(h,"float",c.floatValue),d.stringValue=G(h,"string",c.stringValue),d.data.audioPath&&(d.volume=G(h,"volume",1),d.balance=G(h,"balance",0)),a.setFrame(u,d)}s.push(a)}let o=0;for(let a=0,u=s.length;a<u;a++)o=Math.max(o,s[a].getDuration());n.animations.push(new yb(t,s,o))}}class Nz{constructor(e,t,n,i,s){C(this,"parent");C(this,"skin");C(this,"slotIndex");C(this,"mesh");C(this,"inheritTimeline");this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=i,this.inheritTimeline=s}}function Ei(r,e,t,n){let i=r[0],s=G(i,"time",0),o=G(i,"value",t)*n,a=0;for(let u=0;;u++){e.setFrame(u,s,o);let l=r[u+1];if(!l)return e.shrink(a),e;let h=G(l,"time",0),c=G(l,"value",t)*n;i.curve&&(a=nt(i.curve,e,a,u,0,s,h,o,c,n)),s=h,o=c,i=l}}function zy(r,e,t,n,i,s){let o=r[0],a=G(o,"time",0),u=G(o,t,i)*s,l=G(o,n,i)*s,h=0;for(let c=0;;c++){e.setFrame(c,a,u,l);let d=r[c+1];if(!d)return e.shrink(h),e;let p=G(d,"time",0),g=G(d,t,i)*s,v=G(d,n,i)*s,x=o.curve;x&&(h=nt(x,e,h,c,0,a,p,u,g,s),h=nt(x,e,h,c,1,a,p,l,v,s)),a=p,u=g,l=v,o=d}}function nt(r,e,t,n,i,s,o,a,u,l){if(r=="stepped")return e.setStepped(n),t;let h=i<<2,c=r[h],d=r[h+1]*l,p=r[h+2],g=r[h+3]*l;return e.setBezier(t,n,i,s,a,c,d,p,g,o,u),t+1}function G(r,e,t){return r[e]!==void 0?r[e]:t}typeof Math.fround>"u"&&(Math.fround=function(r){return function(e){return r[0]=e,r[0]}}(new Float32Array(1)));const Qs=class Qs extends H9{constructor(t){super(t.resource.source);C(this,"texture");this.texture=Oe.from(t)}static from(t){return Qs.textureMap.has(t)?Qs.textureMap.get(t):new Qs(t)}setFilters(t,n){this.texture.baseTexture.scaleMode=Qs.toPixiTextureFilter(t),this.texture.baseTexture.mipmap=Qs.toPixiMipMap(t)}setWraps(t,n){this.texture.baseTexture.wrapMode=Qs.toPixiTextureWrap(t)}dispose(){this.texture.destroy()}static toPixiTextureFilter(t){switch(t){case xr.Nearest:case xr.MipMapNearestLinear:case xr.MipMapNearestNearest:return Ni.NEAREST;case xr.Linear:case xr.MipMapLinearLinear:case xr.MipMapLinearNearest:return Ni.LINEAR;default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiMipMap(t){switch(t){case xr.Nearest:case xr.Linear:return di.OFF;case xr.MipMapNearestLinear:case xr.MipMapNearestNearest:case xr.MipMapLinearLinear:case xr.MipMapLinearNearest:return di.ON;default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiTextureWrap(t){switch(t){case mo.ClampToEdge:return ci.CLAMP;case mo.MirroredRepeat:return ci.MIRRORED_REPEAT;case mo.Repeat:return ci.REPEAT;default:throw new Error(`Unknown texture wrap: ${String(t)}`)}}static toPixiBlending(t){switch(t){case sa.Normal:return Ie.NORMAL;case sa.Additive:return Ie.ADD;case sa.Multiply:return Ie.MULTIPLY;case sa.Screen:return Ie.SCREEN;default:throw new Error(`Unknown blendMode: ${String(t)}`)}}};C(Qs,"textureMap",new Map);let dc=Qs;const Zs=class Zs extends hl{constructor(){const t=new yd;t.getBuffer("aVertexPosition").static=!1,t.getBuffer("aTextureCoord").static=!1;const n=new rc(Oe.EMPTY);super(t,n);C(this,"name","");C(this,"warnedTwoTint",!1)}updateFromSpineData(t,n,i,s,o,a,u,l){var y,b;this.texture=t.texture;const h=o/(l?12:8)*2,c=this.geometry.getBuffer("aTextureCoord");((y=c.data)==null?void 0:y.length)!==h&&(c.data=new Float32Array(h));const d=this.geometry.getBuffer("aVertexPosition");((b=d.data)==null?void 0:b.length)!==h&&(d.data=new Float32Array(h));let p=0,g=c.data,v=d.data;for(let _=0;_<o;_+=l?12:8){let S=_;v[p]=s[S++],v[p+1]=s[S++],S+=4,g[p]=s[S++],g[p+1]=s[S++],p+=2}l&&!this.warnedTwoTint&&(console.warn("DarkTint is not enabled by default. To enable use a DarkSlotMesh factory while creating the Spine object."),this.warnedTwoTint=!0),Zs.auxColor[0]=s[2],Zs.auxColor[1]=s[3],Zs.auxColor[2]=s[4],Zs.auxColor[3]=s[5],this.tint=Zs.auxColor,this.alpha=Zs.auxColor[3],this.blendMode=dc.toPixiBlending(n);const x=this.geometry.indexBuffer;if(x.data.length!==a.length)x.data=new Uint32Array(a);else{const _=x.data;for(let S=0;S<u;S++)_[S]=a[S]}this.name=i,c.update(),d.update(),x.update()}};C(Zs,"auxColor",[0,0,0,0]);let y_=Zs;class Bz extends Ms{constructor(e=!1){super();const t=new _t(void 0),n=new _t(void 0,!0),i=new _t(void 0,!0,!0);this.addAttribute("aVertexPosition",t,2,!1,Se.FLOAT),this.addAttribute("aTextureCoord",n,2,!1,Se.FLOAT),this.addIndex(i)}}const Fz=`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Lz=`
varying vec2 vTextureCoord;
uniform vec4 uColor;
uniform vec4 uDarkColor;

uniform sampler2D uSampler;

void main(void)
{
	vec4 texColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor.a = texColor.a * uColor.a;
    gl_FragColor.rgb = ((texColor.a - 1.0) * uDarkColor.a + 1.0 - texColor.rgb) * uDarkColor.rgb + texColor.rgb * uColor.rgb;
}
`;class Dz extends ji{constructor(t){const n={uSampler:t??Oe.EMPTY,alpha:1,uTextureMatrix:St.IDENTITY,uColor:new Float32Array([1,1,1,1]),uDarkColor:new Float32Array([0,0,0,0])},i={tint:16777215,darkTint:0,alpha:1,pluginName:"darkTintBatch"};super(Ss.from(Fz,Lz),n);C(this,"uvMatrix");C(this,"batchable");C(this,"pluginName");C(this,"_tintRGB");C(this,"_darkTintRGB");C(this,"_colorDirty");C(this,"_alpha");C(this,"_tintColor");C(this,"_darkTintColor");this._colorDirty=!1,this.uvMatrix=new Eg(n.uSampler),this.batchable=!0,this.pluginName=i.pluginName,this._tintColor=new lt(i.tint),this._darkTintColor=new lt(i.darkTint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._darkTintRGB=this._darkTintColor.toLittleEndianNumber(),this._alpha=i.alpha,this._colorDirty=!0}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}set darkTint(t){t!==this.darkTint&&(this._darkTintColor.setValue(t),this._darkTintRGB=this._darkTintColor.toLittleEndianNumber(),this._colorDirty=!0)}get darkTint(){return this._darkTintColor.value}get tintValue(){return this._tintColor.toNumber()}get darkTintValue(){return this._darkTintColor.toNumber()}update(){this._colorDirty&&(this._colorDirty=!1,lt.shared.setValue(this._tintColor).premultiply(this._alpha,!0).toArray(this.uniforms.uColor),lt.shared.setValue(this._darkTintColor).premultiply(this._alpha,!0).premultiply(1,!1).toArray(this.uniforms.uDarkColor)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Uz extends hl{constructor(t){super(new Bz,new Dz(t),void 0,void 0);C(this,"_darkTintRGB",0)}get darkTint(){return"darkTint"in this.shader?this.shader.darkTint:null}set darkTint(t){this.shader.darkTint=t}get darkTintValue(){return this.shader.darkTintValue}_renderToBatch(t){const n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._darkTintRGB=i._darkTintRGB,this._texture=i.texture;const s=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[s]),t.plugins[s].render(this)}}const lr=class lr extends Uz{constructor(){super();C(this,"name","")}updateFromSpineData(t,n,i,s,o,a,u,l){var y,b;this.texture=t.texture;const h=o/(l?12:8)*2,c=this.geometry.getBuffer("aTextureCoord");((y=c.data)==null?void 0:y.length)!==h&&(c.data=new Float32Array(h));const d=this.geometry.getBuffer("aVertexPosition");((b=d.data)==null?void 0:b.length)!==h&&(d.data=new Float32Array(h));let p=0,g=c.data,v=d.data;for(let _=0;_<o;_+=l?12:8){let S=_;v[p]=s[S++],v[p+1]=s[S++],S+=4,g[p]=s[S++],g[p+1]=s[S++],p+=2}l?(lr.auxColor[0]=s[8],lr.auxColor[1]=s[9],lr.auxColor[2]=s[10],lr.auxColor[3]=s[11],this.darkTint=lr.auxColor,lr.auxColor[0]=s[2],lr.auxColor[1]=s[3],lr.auxColor[2]=s[4],lr.auxColor[3]=s[5],this.tint=lr.auxColor):(lr.auxColor[0]=s[2],lr.auxColor[1]=s[3],lr.auxColor[2]=s[4],lr.auxColor[3]=s[5],this.tint=lr.auxColor),this.blendMode=dc.toPixiBlending(n),this.alpha=lr.auxColor[3];const x=this.geometry.indexBuffer;if(x.data.length!==a.length)x.data=new Uint32Array(a);else{const _=x.data;for(let S=0;S<u;S++)_[S]=a[S]}this.name=i,c.update(),d.update(),x.update()}};C(lr,"auxColor",[0,0,0,0]);let x_=lr;var it;let jz=(it=class extends Kr{constructor(t,n){super();C(this,"skeleton");C(this,"state");C(this,"_debug");C(this,"slotMeshFactory",()=>new y_);C(this,"beforeUpdateWorldTransforms",()=>{});C(this,"afterUpdateWorldTransforms",()=>{});C(this,"autoUpdateWarned",!1);C(this,"_autoUpdate",!0);C(this,"meshesCache",new Map);C(this,"lightColor",new Xe);C(this,"darkColor",new Xe);C(this,"slotsObject",new Map);C(this,"verticesCache",pe.newFloatArray(1024));C(this,"clippingSlotToPixiMasks",{});this.skeleton=new hc(t);const i=new $9(t);this.state=new m_(i),this.autoUpdate=(n==null?void 0:n.autoUpdate)??!0,this.initializeMeshFactory(n),this.skeleton.setToSetupPose(),this.skeleton.updateWorldTransform(oo.update)}get debug(){return this._debug}set debug(t){this._debug&&this._debug.unregisterSpine(this),t&&t.registerSpine(this),this._debug=t}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t?(jt.shared.add(this.internalUpdate,this),this.autoUpdateWarned=!1):jt.shared.remove(this.internalUpdate,this),this._autoUpdate=t}initializeMeshFactory(t){if(t!=null&&t.slotMeshFactory)this.slotMeshFactory=t==null?void 0:t.slotMeshFactory;else for(let n=0;n<this.skeleton.slots.length;n++)if(this.skeleton.slots[n].data.darkColor){this.slotMeshFactory=(t==null?void 0:t.slotMeshFactory)??(()=>new x_);break}}update(t){this.autoUpdate&&!this.autoUpdateWarned&&(console.warn("You are calling update on a Spine instance that has autoUpdate set to true. This is probably not what you want."),this.autoUpdateWarned=!0),this.internalUpdate(0,t)}internalUpdate(t,n){const i=n??jt.shared.deltaMS/1e3;this.state.update(i),this.state.apply(this.skeleton),this.beforeUpdateWorldTransforms(this),this.skeleton.update(i),this.skeleton.updateWorldTransform(oo.update),this.afterUpdateWorldTransforms(this)}updateTransform(){var t;this.renderMeshes(),this.sortChildren(),(t=this.debug)==null||t.renderDebug(this),super.updateTransform()}destroy(t){this.autoUpdate&&(this.autoUpdate=!1);for(const[,n]of this.meshesCache)n==null||n.destroy();this.state.clearListeners(),this.debug=void 0,this.meshesCache.clear(),this.slotsObject.clear();for(let n in this.clippingSlotToPixiMasks)this.clippingSlotToPixiMasks[n].destroy(),delete this.clippingSlotToPixiMasks[n];super.destroy(t)}resetMeshes(){for(const[,t]of this.meshesCache)t.zIndex=-1,t.visible=!1}getMeshForSlot(t){if(this.meshesCache.has(t)){let n=this.meshesCache.get(t);return n.visible=!0,n}else{let n=this.slotMeshFactory();return this.addChild(n),this.meshesCache.set(t,n),n}}getSlotFromRef(t){let n;if(typeof t=="number"?n=this.skeleton.slots[t]:typeof t=="string"?n=this.skeleton.findSlot(t):n=t,!n)throw new Error(`No slot found with the given slot reference: ${t}`);return n}addSlotObject(t,n){let i=this.getSlotFromRef(t),s=this.slotsObject.get(i);if(s!==n){for(const[o,a]of this.slotsObject)if(o!==i&&a===n){this.removeSlotObject(o,n);break}s&&this.removeChild(s),this.slotsObject.set(i,n),this.addChild(n)}}getSlotObject(t){return this.slotsObject.get(this.getSlotFromRef(t))}removeSlotObject(t,n){let i=this.getSlotFromRef(t),s=this.slotsObject.get(i);s&&(n&&n!==s||(this.removeChild(s),this.slotsObject.delete(i)))}pixiMaskCleanup(t){let n=this.clippingSlotToPixiMasks[t.data.name];n&&(delete this.clippingSlotToPixiMasks[t.data.name],n.destroy())}updatePixiObject(t,n,i){t.setTransform(n.bone.worldX,n.bone.worldY,n.bone.getWorldScaleX(),n.bone.getWorldScaleX(),n.bone.getWorldRotationX()*ce.degRad),t.zIndex=i+1,t.alpha=this.skeleton.color.a*n.color.a}updateAndSetPixiMask(t,n){if(it.clipper.isClipping()&&t){let i=this.clippingSlotToPixiMasks[t.slot.data.name];if(i||(i=new Lu,this.clippingSlotToPixiMasks[t.slot.data.name]=i,this.addChild(i)),!t.computed){t.computed=!0;const s=t.slot.attachment,o=Array.from(s.vertices);s.computeWorldVertices(t.slot,0,s.worldVerticesLength,o,0,2),i.clear().lineStyle(0).beginFill(0).drawPolygon(o)}n.mask=i}else n.mask&&(n.mask=null)}renderMeshes(){var o,a;this.resetMeshes();let t=null,n=null,i=null;const s=this.skeleton.drawOrder;for(let u=0,l=s.length,h=0;u<l;u++){const c=s[u];let d=this.slotsObject.get(c),p=u+h;d&&(this.updatePixiObject(d,c,p+1),h++,this.updateAndSetPixiMask(i,d));const g=c.darkColor!=null,v=it.clipper.isClipping()?2:g?it.DARK_VERTEX_SIZE:it.VERTEX_SIZE;if(!c.bone.active){it.clipper.clipEndWithSlot(c),this.pixiMaskCleanup(c);continue}const x=c.getAttachment();let y,b,_=0;if(x instanceof ud){const S=x;y=S.color,_=v*4,S.computeWorldVertices(c,this.verticesCache,0,v),t=it.QUAD_TRIANGLES,n=S.uvs,b=(o=S.region)==null?void 0:o.texture}else if(x instanceof vl){const S=x;y=S.color,_=(S.worldVerticesLength>>1)*v,_>this.verticesCache.length&&(this.verticesCache=pe.newFloatArray(_)),S.computeWorldVertices(c,0,S.worldVerticesLength,this.verticesCache,0,v),t=S.triangles,n=S.uvs,b=(a=S.region)==null?void 0:a.texture}else if(x instanceof Ad){it.clipper.clipStart(c,x),i={slot:c,computed:!1};continue}else{it.clipper.clipEndWithSlot(c),this.pixiMaskCleanup(c);continue}if(b!=null){const I=c.bone.skeleton.color,P=c.color,k=I.a*P.a*y.a;this.lightColor.set(I.r*P.r*y.r,I.g*P.g*y.g,I.b*P.b*y.b,k),c.darkColor!=null?this.darkColor.set(c.darkColor.r,c.darkColor.g,c.darkColor.b,1):this.darkColor.set(0,0,0,1);let M,O,D,L;if(it.clipper.isClipping())it.clipper.clipTriangles(this.verticesCache,t,t.length,n,this.lightColor,this.darkColor,g),M=it.clipper.clippedVertices,O=M.length,D=it.clipper.clippedTriangles,L=D.length;else{const F=this.verticesCache;for(let B=2,j=0,z=_;B<z;B+=v,j+=2){let q=B;F[q++]=this.lightColor.r,F[q++]=this.lightColor.g,F[q++]=this.lightColor.b,F[q++]=this.lightColor.a,F[q++]=n[j],F[q++]=n[j+1],g&&(F[q++]=this.darkColor.r,F[q++]=this.darkColor.g,F[q++]=this.darkColor.b,F[q++]=this.darkColor.a)}M=this.verticesCache,O=_,D=t,L=t.length}if(O==0||L==0){it.clipper.clipEndWithSlot(c);continue}const X=this.getMeshForSlot(c);X.zIndex=p,X.updateFromSpineData(b,c.data.blendMode,c.data.name,M,O,D,L,g)}it.clipper.clipEndWithSlot(c),this.pixiMaskCleanup(c)}it.clipper.clipEnd()}setBonePosition(t,n){const i=t;if(typeof t=="string"&&(t=this.skeleton.findBone(t)),!t)throw Error(`Cannot set bone position, bone ${String(i)} not found`);if(it.vectorAux.set(n.x,n.y),t.parent){const s=t.parent.worldToLocal(it.vectorAux);t.x=s.x,t.y=s.y}else t.x=it.vectorAux.x,t.y=it.vectorAux.y}getBonePosition(t,n){const i=t;return typeof t=="string"&&(t=this.skeleton.findBone(t)),t?(n||(n={x:0,y:0}),n.x=t.worldX,n.y=t.worldY,n):(console.error(`Cannot get bone position! Bone ${String(i)} not found`),n)}skeletonToPixiWorldCoordinates(t){this.worldTransform.apply(t,t)}pixiWorldCoordinatesToSkeleton(t){this.worldTransform.applyInverse(t,t)}pixiWorldCoordinatesToBone(t,n){this.pixiWorldCoordinatesToSkeleton(t),n.parent?n.parent.worldToLocal(t):n.worldToLocal(t)}static from(t,n,i){const s=`${t}-${n}-${(i==null?void 0:i.scale)??1}`;let o=it.skeletonCache[s];if(o)return new it(o,i);const a=nn.get(t),u=nn.get(n),l=new V9(u);let h=a instanceof Uint8Array?new J9(l):new Oz(l);return h.scale=(i==null?void 0:i.scale)??1,o=h.readSkeletonData(a),it.skeletonCache[s]=o,new this(o,i)}get tint(){return this.skeleton.color.toRgb888()}set tint(t){Xe.rgb888ToColor(this.skeleton.color,t)}},C(it,"vectorAux",new qm),C(it,"clipper",new eg),C(it,"QUAD_TRIANGLES",[0,1,2,2,3,0]),C(it,"VERTEX_SIZE",8),C(it,"DARK_VERTEX_SIZE",12),C(it,"skeletonCache",Object.create(null)),it);hc.yDown=!0;const Xz={extension:me.Asset,loader:{extension:{type:me.LoadParser,priority:Hn.Normal,name:"spineTextureAtlasLoader"},test(r){return Ln(r,".atlas")},async load(r){return await(await ye.ADAPTER.fetch(r)).text()},testParse(r,e){const t=Ln(e.src,".atlas"),n=typeof r=="string";return Promise.resolve(t&&n)},unload(r){r.dispose()},async parse(r,e,t){var u;const n=e.data||{};let i=Gt.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");const s=new Y9(r);if(n.images instanceof De||typeof n.images=="string"){const l=n.images;n.images={},n.images[s.pages[0].name]=l}const o=[];let a=!0;for(const l of t.parsers)if(l.name=="loadTextures"){a=(u=l.config)==null?void 0:u.preferCreateImageBitmap;break}nn.setPreferences({preferCreateImageBitmap:!1});for(const l of s.pages){const h=l.name,c=n!=null&&n.images?n.images[h]:void 0;if(c instanceof De)l.setTexture(dc.from(c));else{const p={src:c??Gt.normalize([...i.split(Gt.sep),h].join(Gt.sep)),data:{...n.imageMetadata,alphaMode:l.pma?Yr.PMA:Yr.UNPACK}},g=t.load(p).then(v=>{l.setTexture(dc.from(v.baseTexture))});o.push(g)}}return await Promise.all(o),nn.setPreferences({preferCreateImageBitmap:a}),s}}};Te.add(Xz);function $z(r){return r.hasOwnProperty("bones")}function Hz(r){return r instanceof Uint8Array}const zz={extension:me.Asset,loader:{extension:{type:me.LoadParser,priority:Hn.Normal},test(r){return Ln(r,".skel")},async load(r){const e=await ye.ADAPTER.fetch(r);return new Uint8Array(await e.arrayBuffer())},testParse(r,e){const t=Ln(e.src,".json")&&$z(r),n=Ln(e.src,".skel")&&Hz(r);return Promise.resolve(t||n)}}};Te.add(zz);class Yz extends Ms{constructor(t=!1){super();C(this,"_buffer");C(this,"_indexBuffer");this._buffer=new _t(void 0,t,!1),this._indexBuffer=new _t(void 0,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Se.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Se.FLOAT).addAttribute("aColor",this._buffer,4,!0,Se.UNSIGNED_BYTE).addAttribute("aDarkColor",this._buffer,4,!0,Se.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Se.FLOAT).addIndex(this._indexBuffer)}}const Gz=`
precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute vec4 aDarkColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying vec4 vDarkColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
    vDarkColor = aDarkColor * tint;

}
`,Wz=`
varying vec2 vTextureCoord;
varying vec4 vColor;
varying vec4 vDarkColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%


    gl_FragColor.a = color.a * vColor.a;
    gl_FragColor.rgb = ((color.a - 1.0) * vDarkColor.a + 1.0 - color.rgb) * vDarkColor.rgb + color.rgb * vColor.rgb;
}
`;class KR extends zo{constructor(e){super(e),this.shaderGenerator=new MP(Gz,Wz),this.geometryClass=Yz,this.vertexSize=7}packInterleavedGeometry(e,t,n,i,s){const{uint32View:o,float32View:a}=t,u=i/this.vertexSize,l=e.uvs,h=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),g=lt.shared.setValue(e._tintRGB).toPremultiplied(p,!0),v=lt.shared.setValue(e._darkTintRGB).premultiply(p,!0).toPremultiplied(1,!1);for(let x=0;x<c.length;x+=2)a[i++]=c[x],a[i++]=c[x+1],a[i++]=l[x],a[i++]=l[x+1],o[i++]=g,o[i++]=v,a[i++]=d;for(let x=0;x<h.length;x++)n[s++]=u+h[x]}}C(KR,"extension",{name:"darkTintBatch",type:me.RendererPlugin});Te.add(KR);const Vz=Pt.PixiComponent("Spine",{create:({atlas:r,skel:e})=>jz.from(e,r,{autoUpdate:!1}),didMount:(r,e)=>{},willUnmount:(r,e)=>{r.state.clearListeners()},applyProps:(r,e,t)=>{const{onComplete:n,event:i,...s}=t;Pt.applyDefaultProps(r,e,s),r.state.clearListeners(),r.state.addListener({complete:n,event:i})},config:{destroy:!0,destroyChildren:!0}}),r0=N.forwardRef((r,e)=>{const{children:t,atlas:n,skel:i,tint:s=16777215,onComplete:o,event:a,playing:u=!1,action:l,actions:h,skin:c,timeScale:d=1,toFrameOneWhenStop:p,turbo:g=!1,...v}=r,x=N.useRef(),{current:y}=N.useRef({updateTime:0});return bc((b,_)=>{y.updateTime+=b/1e3,y.updateTime>.03&&(x.current&&x.current.update(y.updateTime),y.updateTime=0)},u,g),N.useEffect(()=>{l&&(x.current.state.setAnimation(...l),c&&x.current.skeleton.setSkinByName(c),x.current.update(0))},[l]),N.useEffect(()=>{x.current.update(0)},[s]),N.useEffect(()=>{if(h){const b=h[0];b&&(x.current.state.setAnimation(...b),x.current.update(0));for(let _=1;_<h.length;_++)x.current.state.addAnimation(...h[_],0)}},[u,h]),N.useEffect(()=>{!u&&p&&l&&(x.current.state.setAnimation(...l),x.current.update(0))},[u]),N.useEffect(()=>{c&&(x.current.skeleton.setSkinByName(c),x.current.skeleton.setSlotsToSetupPose(),x.current.update(0))},[c]),N.useEffect(()=>{x.current.state.timeScale=d},[d]),N.useImperativeHandle(e,()=>x.current,[x]),T.jsx(be,{...v,children:T.jsx(Vz,{ref:x,skel:i,atlas:n,tint:s,onComplete:o,event:a})})});N.forwardRef(({onLoop:r,onRepeatComplete:e,repeat:t,...n},i)=>{const{current:s}=N.useRef({loopTimes:0}),o=n.playing;function a(u){n.onComplete&&n.onComplete(u),s.loopTimes++;const l=s.loopTimes;t==l&&e&&e(),r&&r(l)}return N.useEffect(()=>{s.loopTimes=0},[n.action,n.actions,o,n.id]),T.jsx(r0,{ref:i,...n,onComplete:a})});function bb(r,e,t,n){return N.forwardRef((i,s)=>T.jsx(r,{ref:s,atlas:t,skel:e,...n,...i}))}const n0=bb(r0,G3,W3,{skin:Me.Obj.urlOptions.lang==ze.Chinese?"CH":"EN"}),qz=bb(r0,V3,q3),Kz=L9(lR,Yg,"winFrame_electricity",.33),QR=bb(r0,K3,Q3);function Qz(){return aR([[[2,7,0],[1,6,2,0],[7,1,3,1,1],[1,5,4,1,7,4],[0,3,4,7,11,3,9],[2,0,5,6,1,0,8]],[[0,0,2],[9,4,4,1],[7,1,3,1,1],[2,7,0,1,5,4],[0,0,0,0,0,0,5],[5,2,3,3,9,4,4]],[[4,6,1],[4,0,0,7],[10,6,3,0,5],[4,9,4,2,10,10],[0,5,6,1,0,8,10],[0,0,0,0,6,7,3]],[[2,4,6],[8,3,4,7],[10,6,3,0,5],[7,0,1,5,4,1],[4,7,11,3,9,3,2],[2,2,2,2,0,5,6]],[[9,9,2],[8,3,4,7],[1,3,1,1,1],[6,2,7,0,1,5],[0,0,0,6,7,3,3],[8,3,7,6,3,4,9]],[[8,4,5],[7,1,8,8],[3,1,1,1,2],[7,7,7,7,3,2],[3,9,3,7,7,7,7],[7,11,3,9,3,7,7]],[[5,0,8],[3,4,7,5],[8,8,10,10,10],[1,4,3,3,7,4],[3,0,0,0,3,4,7],[7,6,0,4,5,6,0]],[[1,4,4],[8,8,3,8],[4,1,1,1,1],[4,3,4,5,1,1],[0,0,0,0,6,7,3],[2,3,3,9,4,4,1]],[[1,6,2],[6,2,7,0],[5,9,3,4,7],[10,10,6,2,7,0],[6,0,4,5,6,0,5],[10,10,8,2,2,8,3]],[[2,5,0],[1,1,1,1],[1,8,8,10,10],[3,2,9,4,9,4],[0,5,6,1,0,8,10],[10,10,10,8,2,2,8]]])}const Zz=Jg(1.5),Jz=Jg(3),eY=Jg(5),tY=Jg(7),$C=O9(6.5);function rY({dataSource:r}){const{gameStatus:e,nextGameStatus:t}=r.base,{fsWinAmount:n}=r.fs,i=e==Ve.showFSResult;function s(a){a.animation.name=="YOU_WON_TOTAL_OUT"&&t()}const o=N.useMemo(()=>zr(n),[n]);return T.jsx(Ds,{children:T.jsxs(be,{visible:i,children:[T.jsx(ia,{frame:[0,0,1170,1170],alpha:.32,interactive:!0}),T.jsxs(e0,{slotName:"xx",children:[T.jsx(n0,{"l-x":585,"l-y":585,"l-scale":.5,"p-x":625,"p-y":515,"p-scale":.33,onComplete:s,playing:i,actions:sr([[0,"YOU_WON_TOTAL_ENTER",!1],[0,"YOU_WON_TOTAL_IDLE",!1],[0,"YOU_WON_TOTAL_IDLE",!1],[0,"YOU_WON_TOTAL_OUT",!1]]),toFrameOneWhenStop:!0}),T.jsx(Gw,{anchor:.5,text:o,maxScaleLength:1700,style:{fontName:Kg,fontSize:150,align:"center"}})]})]})})}function nY({dataSource:r}){const{gameStatus:e,state:t}=r.base,n=e==Ve.showFSCount,{spinModel:i}=t.spin;function s(o){}return T.jsx(Ds,{children:T.jsxs(be,{visible:n,children:[T.jsx(ia,{frame:[0,0,1170,1170],alpha:.32,interactive:!0}),T.jsxs(e0,{slotName:"xx",children:[T.jsx(n0,{"l-x":585,"l-y":560,"l-scale":.5,"p-x":625,"p-y":515,"p-scale":.33,onComplete:s,playing:n,actions:sr([[0,"YOU_WON_FS_ENTER",!1],[0,"YOU_WON_FS_IDLE",!0]]),toFrameOneWhenStop:!0}),T.jsx(Gw,{anchor:.5,text:`${(i==null?void 0:i.fs)||0}`,maxScaleLength:1700,style:{fontName:Kg,fontSize:150,align:"center"}})]}),T.jsx(Yu,{"l-x":590,"l-y":822,"l-scale":1,"p-x":620,"p-y":714,"p-scale":.8,visible:e==Ve.showFSCount,anchor:.5,text:"pstostart",style:{fill:"#fcaf00",fontFamily:sr(Me.Obj.urlOptions.lang),fontWeight:"bolder",fontSize:40,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})})}function iY({dataSource:r}){const{gameStatus:e,state:t,nextGameStatus:n}=r.base,i=e==Ve.showBigWinAmount,{spinModel:s}=t.spin;function o(l){l.animation.name=="BIG_WIN_OUT"&&n()}const a=(s==null?void 0:s.payout.toNumber())||0,u=N.useMemo(()=>zr(a),[a]);return T.jsx(Ds,{children:T.jsxs(be,{visible:i,children:[T.jsx(ia,{frame:[0,0,1170,1170],alpha:.32,interactive:!0}),T.jsxs(Pt.Container,{children:[T.jsx(wu,{turbo:!0,x:550,y:505,scale:1,playing:i,config:$C}),T.jsx(wu,{turbo:!0,x:700,y:505,scale:[-1,1],playing:i,config:$C})]}),T.jsxs(e0,{slotName:"88800",children:[T.jsx(n0,{turbo:!0,"l-x":585,"l-y":585,"l-scale":.5,"p-x":625,"p-y":515,"p-scale":.33,onComplete:o,playing:i,actions:sr([[0,"BIG_WIN_ENTER",!1],[0,"BIG_WIN_IDLE",!1],[0,"BIG_WIN_IDLE",!1],[0,"BIG_WIN_IDLE",!1],[0,"BIG_WIN_OUT",!1]]),toFrameOneWhenStop:!0}),T.jsx(Gw,{anchor:.5,text:u,maxScaleLength:1700,style:{fontName:Kg,fontSize:150,align:"center"}})]})]})})}function sY({dataSource:r,...e}){var x;const{gameStatus:t,state:n,nextGameStatus:i}=r.base,{spinModel:s}=n.spin,o=t==Ve.showWinAmount,a=t==Ve.showWinAmount2,u=o||a,l=u?s.payout.toNumber():0,h=(x=n.spin.spinModel)==null?void 0:x.winType,c=N.useMemo(()=>{var b;const y=(b=n.spin.spinModel)==null?void 0:b.winType;return u?y=="big"?1e3:y=="high"?4500:y=="medium"?3500:y=="normal"?2500:1500:0},[u]);Sc(()=>{i()},1e3,o);const[d,p,g,v]=N.useMemo(()=>u?[h=="small",h=="normal",h=="medium",h=="high"]:[!1,!1,!1,!1],[u]);return T.jsxs(be,{...e,visible:u,children:[T.jsx(d_,{y:33,anchor:.5,tweenOptions:{duration:c,playing:u,turbo:!0},text:u?l:0,style:{fill:"#fcaf00",fontFamily:sr(Me.Obj.urlOptions.lang),fontWeight:"500",fontSize:40,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),T.jsx(wu,{turbo:!0,scale:1,playing:d,config:Zz}),T.jsx(wu,{turbo:!0,scale:1,playing:p,config:Jz}),T.jsx(wu,{turbo:!0,scale:1,playing:g,config:eY}),T.jsx(wu,{turbo:!0,scale:1,playing:v,config:tY})]})}function oY({dataSource:r}){const{gameStatus:e,state:t}=r.base,{line:n}=r.lineWin,i=e==Ve.showWinAmount||e==Ve.showWinAmount2,s=N.useMemo(()=>i?t.spin.spinModel.lw.map(a=>a.lineId):n==null?void 0:n.lineId,[n,i]),o=N.useMemo(()=>[16248133,16767673,16774638,15132410,8900346,65535,9419919,8190976,15657130,15654274,16119260,15761536,16761035,14524637,16775930,16770244,15657407,15657407,12701133,2003199],[]);return T.jsx(be,{children:T.jsx(w9,{x:-52.5,y:-32.5,lineId:s,lineConfig:{width:5,color:o}})})}function aY({dataSource:r,...e}){const{gameStatus:t,state:n}=r.base,{inFS:i}=r.fs,{spinModel:s}=n.spin,{currency:o}=n.user,{line:a}=r.lineWin,u=t=="idle",l=n.spin.autoSpinCount=="∞"||n.spin.autoSpinCount>0,h=t==Ve.showWinLine,c=(s==null?void 0:s.credit)||c_,d=a?c.mul(a.mul).toNumber():0,p=sr(on(Zr,"win"));return T.jsxs(be,{...e,children:[T.jsx(gt,{name:"WinInfoBar.png",scale:1,anchor:.5}),T.jsxs(B9,{selected:0,duration:3e3,visible:u&&!l&&!i,children:[T.jsx(va,{anchor:.5,scale:1,name:"Hold for autospin.png"}),T.jsx(va,{anchor:.5,scale:1,name:"Place your bets.png"})]}),T.jsx(va,{anchor:.5,scale:1,name:"Good luck.png",visible:t=="spin"||t=="stopping"}),T.jsx(be,{visible:h,children:T.jsx(mi,{text:`${p} ${o} ${zr(d)}`,anchor:.5,style:{fill:"#fcaf00",fontFamily:sr(Me.Obj.urlOptions.lang),fontWeight:"500",fontSize:40,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]})}function lY({dataSource:r,...e}){const{inFS:t,willIntroFs:n}=r.fs,{state:i}=r.base,{spinModel:s}=i.spin,o=(s==null?void 0:s.fs)||0,a=N.useMemo(()=>on(Zr,"fr_fsw"),[]),u=N.useMemo(()=>on(Zr,"scatter"),[]),l=N.useMemo(()=>t?a.replace("{%NUM%}",`${o}`):`${(s==null?void 0:s.scatterCount)||0} ${u}`,[o,n]),h=t||n,c=sr(Me.Obj.urlOptions.lang);return T.jsx(Fs,{dep:[h],from:{k:0},to:{k:1},playing:!0,duration:300,children:({k:d})=>{const p=h?d:1-d;return T.jsxs(be,{...e,visible:h,alpha:p,children:[T.jsx(gt,{name:"FreespinePanel.png"}),T.jsx(mi,{anchor:.5,x:91,y:42,text:l,maxScaleLength:130,style:{fill:"#fcaf00",fontFamily:c,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})}})}function uY({dataSource:r,...e}){const{inFS:t}=r.fs;return T.jsxs(be,{...e,children:[T.jsx(Fs,{dep:[t],from:{k:0},to:{k:1},playing:!0,duration:1e3,children:({k:n})=>(n=t?1-n:n,T.jsx(Vm,{alpha:n,name:y3}))}),T.jsx(Fs,{dep:[t],from:{k:0},to:{k:1},playing:!0,duration:1e3,children:({k:n})=>(n=t?n:1-n,T.jsx(Vm,{alpha:n,name:Y3,scale:1.0636364}))})]})}function cY({dataSource:r,...e}){const t=N.useRef(null),[n,i]=N.useState(!1),{gameStatus:s,nextGameStatus:o}=r.base,a=s==Ve.showFSCount,u=a;N.useEffect(()=>{if(t.current){const h=Me.Obj,c=()=>{if(h.orientation=="l")t.current.position.set(1035,755);else{const d=h.viewport[1],p=h.viewport[3],g=h.layoutOptions.displayArea[1],v=p-d+g-166;t.current.position.set(620,v)}};return c(),h.notice.on($n,c),()=>{h.notice.off($n,c)}}},[t]),Ts(()=>{i(!0)},2e3,u&&!n),N.useEffect(()=>{u||i(!1)},[u]);const l=n?16777215:8947848;return T.jsxs(Ds,{children:[T.jsx(vb,{onKeySpace:o,onKeyEnter:o,enable:n}),T.jsxs(el,{ref:t,visible:n,click:o,"l-scale":1,"p-scale":.75,children:[T.jsx(QR,{tint:l,scale:.5,action:sr([0,"Idle",!1]),playing:!1,timeScale:1}),T.jsx(gt,{visible:a,tint:l,x:2,y:12,anchor:.5,name:"play.png"})]})]})}function ZR({...r}){const{startSpeed:e=0,endSpeed:t=0,spinStatus:n,speed:i=24,accTime:s,decTime:o,accEasing:a=aa.Linear.None,decEasing:u=aa.Linear.None}=r,{children:l,turbo:h=!1,inColumn:c,cellCount:d,symbols:p,result:g=[],playing:v,stop:x,onEnd:y}=r,{current:b}=N.useRef({spinTime:0,stopingTime:0,resultK:0,ssMap:{}}),[_,S]=N.useState(!1);function I(B){return FC.up(e,i,s,B)}function P(B){return FC.down(i,t,o,B)}function k(B,j){let z=b.ssMap[B];if(qu(z)){const q=Math.floor(b.resultK-j);x&&q<d?z=g[q]:z=aR(p),b.ssMap[B]=z}return z}const M=I(s),O=P(o);N.useMemo(()=>{b.spinTime=0,b.resultK=0,v?(b.stopingTime=0,b.resultK=0):(b.ssMap={},g.forEach((B,j)=>{b.ssMap[j+1]=B}))},[v]),N.useMemo(()=>{n=="idle"&&(b.ssMap={},g.forEach((B,j)=>{b.ssMap[j+1]=B}))},[n]),N.useMemo(()=>{if(x){const B=M+Math.max(0,b.spinTime-s)/1e3*i,j=Math.ceil(B+Math.max(d,O));b.resultK=j;for(let z=0;z<d;z++)b.ssMap[-j+1+z]=g[z];b.stopingTime=s+(j-O-M)/i*1e3}},[x]),bc((B,j)=>{b.spinTime+=B,S(!_),x&&b.spinTime>=b.stopingTime+o&&y(c)},v,h);const[D,L,X]=N.useMemo(()=>{let B=0,j=!1,z=!0;const q=b.spinTime;if(v)if(q<=s)B=I(a(q/s)*s);else if(!x||q<=b.stopingTime)B=M+(q-s)/1e3*i,j=!0;else if(q>=b.stopingTime+o)z=!1,B=b.resultK;else{const $=q-b.stopingTime;B=M+(b.stopingTime-s)/1e3*i+P(u($/o)*o)}else z=!1;return[B,j,z]},[b.spinTime,v,n]),F=N.useMemo(()=>{const B=(D+1)%1-1;return xn(d+1,z=>{const q=B+z;return{k:q,visible:q!=-1&&q!=d||X,selected:k(-Math.floor(D)+z,D)}})},[D,v,n]);return l(F,X,L)}var hY=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dY=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;class fY extends Gr{constructor(e=[0,0],t=5,n=0){super(hY,dY),this.kernelSize=5,this.uniforms.uVelocity=new Float32Array(2),this._velocity=new Bi(this.velocityChanged,this),this.setVelocity(e),this.kernelSize=t,this.offset=n}apply(e,t,n,i){const{x:s,y:o}=this.velocity;this.uniforms.uKernelSize=s!==0||o!==0?this.kernelSize:0,e.applyFilter(this,t,n,i)}set velocity(e){this.setVelocity(e)}get velocity(){return this._velocity}setVelocity(e){if(Array.isArray(e)){const[t,n]=e;this._velocity.set(t,n)}else this._velocity.copyFrom(e)}velocityChanged(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1}set offset(e){this.uniforms.uOffset=e}get offset(){return this.uniforms.uOffset}}const pY=({children:r,velocity:e=[0,0],offset:t,kernelSize:n,enabled:i=!0,...s})=>{const o=N.useMemo(()=>new fY(e,n,t),[]);N.useEffect(()=>{o.velocity=new je(...e)},[...e]),N.useEffect(()=>{o.offset=t},[t]),N.useEffect(()=>{o.enabled=i},[i]);function a(){o.destroy()}return T.jsx(be,{filters:[o],destroy:a,...s,children:r})};function JR({showFrame:r=!1,isActive:e,inSpin:t,isBlur:n,selected:i,maskCount:s=1,tint:o=16777215,...a}){const u=N.useMemo(()=>{let d;return i>9?e?d=[{10:[0,"SCATTER_WIN",!0],11:[0,"WILD_WIN",!0]}[i]]:d={10:[[0,"SCATTER_DROP",!1],[0,"SCATTER_IDLE",!0]],11:[[0,"WILD_DROP",!1],[0,"WILD_IDLE",!0]]}[i]:i==8?d=[{1:[0,"HP_MALE_IDLE_1x1",!0],2:[0,"HP_MALE_IDLE_1x2",!0],3:[0,"HP_MALE_IDLE_1x3",!0],4:[0,"HP_MALE_IDLE_1x4",!0]}[s]]:i==9&&(d=[{1:[0,"HP_FEMALE_IDLE_1x1",!0],2:[0,"HP_FEMALE_IDLE_1x2",!0],3:[0,"HP_FEMALE_IDLE_1x3",!0],4:[0,"HP_FEMALE_IDLE_1x4",!0],5:[0,"HP_FEMALE_IDLE_1x5",!0],6:[0,"HP_FEMALE_IDLE_1x6",!0]}[s]]),d},[i,s,e]),l=N.useMemo(()=>i==8||i==9?31*(s-1):0,[i,s]),h=N.useMemo(()=>i==8||i==9?`${i}_${s}`:i>9?`${i}${Me.Obj.urlOptions.lang==ze.Chinese?"cn":""}`:i,[i,s]),c=!t&&i>=8;return T.jsxs(be,{...a,children:[T.jsxs(pY,{enabled:n,kernelSize:9,offset:0,velocity:[0,25],children:[T.jsx(i9,{y:l,tint:o,visible:!c,name:`${h}.png`,scale:.9589,anchor:.5}),T.jsx(n0,{turbo:!0,y:l,alpha:1,tint:o,visible:c,scale:.47945,playing:c,actions:u})]}),T.jsx(Kz,{turbo:!0,blendMode:Ie.SCREEN,anchor:.5,x:0,y:5.5,isPlaying:r,visible:r})]})}const eO=[3,4,5,6,7,7],tO=[0,112,223,334,445,556],rO=[0,-32,-65,-98,-129,-129],nO=xn(12,r=>r);function mY({children:r,dataSource:e}){const{gameStatus:t,dispatch:n,state:i}=e.base,{current:s}=N.useRef({startSpinIndex:0,stopSpinIndex:-1,stopedColumn:[],stopping:!1}),[o,a]=N.useState(!1),u=t=="stopping",l=t=="spin"||u,{spinModel:h}=i.spin,c=h?h.ss:Qz(),d=N.useMemo(()=>{if(u){const v=[];let x=0;const y=h.ss;for(const b of[0,1,2,3,4,5]){const _=y[b];for(const S of _)S==10&&x++;v.push(x)}return v}return[0,0,0]},[u]),p=N.useMemo(()=>xn(6,v=>({playing:l&&v<=s.startSpinIndex&&s.stopedColumn.indexOf(v)<0,stop:u&&v<=s.stopSpinIndex,result:c[v],init:c[v],showMaybeWinScatter:v>=3&&s.stopSpinIndex+1==v&&d[s.stopSpinIndex]>=5,onEnd:x=>{s.stopedColumn.indexOf(x)<0&&(s.stopedColumn.push(x),s.stopedColumn.length==6?n(D3()):a(!o))}})),[t,s.startSpinIndex,s.stopSpinIndex]);NC(50,()=>{s.startSpinIndex++,a(!o)},l&&s.startSpinIndex<6);const g=s.stopSpinIndex>=2&&d[s.stopSpinIndex]>=5?3e3:400;return NC(g,()=>{s.stopSpinIndex++,a(!o)},s.stopping&&u&&s.stopSpinIndex<6&&s.startSpinIndex==6),Sc(()=>{s.stopping=!0,a(!o)},500,u&&s.stopSpinIndex<6&&s.startSpinIndex==6&&!s.stopping),N.useEffect(()=>{l||(s.startSpinIndex=6,s.stopSpinIndex=-1,s.stopedColumn=[],s.stopping=!1,a(!o))},[l]),r(p)}function gY({dataSource:r,...e}){const{gameStatus:t,state:n}=r.base,{line:i}=r.lineWin,{spinModel:s}=n.spin,o=t==Ve.showWinLine,a=t==Ve.showFsSS,u=t=="stopping",l=Me.Obj,h=sr(l.tableOptions.paylineMap);function c(P,k,M){const O=(i==null?void 0:i.count)||0;return o&&k<O&&h[P][k][1]==M}function d(P){return a&&P==10}const[p,g,v]=N.useMemo(()=>[0,0,30],[]),[x,y,b]=N.useMemo(()=>{if(i){const P=h[i.lineId][2][1];return[222,[-65,0,63,128,193][P],zr(s.credit.mul(i.mul).toNumber())]}return[0,0,0]},[i]),_=N.useMemo(()=>{if(u){const k=s.ss.map(M=>{let O=0;for(const D of M)D==10&&O++;return O}).map(M=>M>=5?"scatterV3":M>=3?"scatterV2":M>=1?"scatterV1":"sfx_reel_stop");return s.payout.gt(0)&&(k[5]="win_symbol"),k}return[]},[u]);function S(P){const k=_[P];return k||(s&&s.payout.gt(0)?"win_symbol":"sfx_reel_stop")}const I=sr(Me.Obj.urlOptions.lang);return T.jsxs(be,{...e,children:[T.jsx(gt,{name:"reel.png",scale:1,anchor:.5}),T.jsx(be,{x:-278.5,y:-67.5,children:T.jsx(mY,{dataSource:r,children:P=>{const k=P[3].showMaybeWinScatter,M=P[4].showMaybeWinScatter,O=P[5].showMaybeWinScatter;return T.jsxs(be,{children:[T.jsxs(qg,{active:t=="spin"||t=="stopping",children:[T.jsxs(be,{children:[T.jsx(be,{children:tO.map((D,L)=>{const X=P[L],{playing:F}=X,B=S(L);return T.jsx(be,{x:D,children:T.jsx(ZR,{turbo:!0,...X,spinStatus:n.spin.status,inColumn:L,startSpeed:0,endSpeed:0,speed:v,accTime:p,decTime:g,cellCount:eO[L],symbols:nO,children:(j,z,q)=>T.jsxs(be,{children:[T.jsx(iO,{models:j,on:!z,children:$=>$.map((W,H)=>{const{k:V,visible:Z,...te}=W,le=c(i==null?void 0:i.lineId,L,V),ge=d(te.selected);let Pe=16777215;return a?ge||(Pe=11184810):o&&(le||(Pe=11184810)),T.jsx(JR,{tint:Pe,isActive:ge,showFrame:le,inSpin:F,isBlur:q,y:rO[L]+65*V,visible:Z,...te},`ss_${H}`)})}),T.jsx(vY,{sound:B,inSpin:z})]})})},`reel${L}`)})}),T.jsx(oY,{dataSource:r}),T.jsx(mi,{visible:o,x,y,text:`${b}`,anchor:.5,style:{align:"center",fill:"#fcaf00",fontFamily:I,fontSize:35,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]}),T.jsx(gt,{x:-52.5,y:-162.5,name:"reel_mask.png"})]}),T.jsx(Yy,{type:3,run:k}),T.jsx(ni,{sound:"jng_slotanticipation",playing:k}),T.jsx(Yy,{type:4,run:M}),T.jsx(ni,{sound:"jng_slotanticipation",playing:M}),T.jsx(Yy,{type:5,run:O}),T.jsx(ni,{sound:"jng_slotanticipation",playing:O})]})}})})]})}function Yy({run:r,type:e}){const[t,n]=N.useState(!1),[i,s]=N.useState(!0),[o,a,u]=N.useMemo(()=>({3:[334,66,[[0,"anticipation1x6_start",!1],[0,"anticipation1x6_Idle",!0]]],4:[445,66,[[0,"anticipation1x7_start",!1],[0,"anticipation1x7_Idle",!0]]],5:[556,66,[[0,"anticipation1x7_start",!1],[0,"anticipation1x7_Idle",!0]]]})[e],[]);return N.useEffect(()=>{r&&(n(!0),s(!1))},[r]),Sc(()=>{n(!1),s(!0)},500,!r&&!i),T.jsx(be,{children:T.jsx(qz,{x:o,y:a,scale:.5,visible:t,playing:t,actions:u})})}function iO({models:r,on:e,children:t}){const n=N.useMemo(()=>{if(e){const i=[];for(let o=0;o<r.length;o++){const a=r[o],u=a.selected,l=Tl(i);a.visible==!0&&(u==8||u==9)?!l||!Ku(l)||l[0].selected!=u||u==8&&l.length==3||u==9&&l.length==6?i.push([a]):l.push(a):i.push(a)}const s=[];for(const o of i)if(Ku(o)){const a=o[0];a.maskCount=o.length,s.push(a)}else s.push(o);return s.sort((o,a)=>{const u=o.selected==10,l=a.selected==10,h=o.selected==11,c=a.selected==11;return u&&l?o.k-a.k:u?1:l?-1:h&&c?o.k-a.k:h?1:c?-1:o.k-a.k})}else return r},[r]);return t(n)}function vY({sound:r,inSpin:e}){const{current:t}=N.useRef({playing:!1}),n=N.useMemo(()=>t.playing&&!e?(t.playing=!1,!0):(t.playing=e,!1),[e]);return T.jsx(ni,{sound:r,playing:n,allowStop:!1,volum:.7})}function yY({inFS:r}){const{state:e}=N.useContext(bt),t=Tl(e.sceneManager.scenes),n=N.useMemo(()=>{if(t=="main")return r?"fsbgm":"bgm";if(t=="premain")return"bgmloading"},[t,r]);return T.jsx(p9,{sound:n,playing:!!n,volum:.8})}function xY({dataSource:r}){const{gameStatus:e,state:t,nextGameStatus:n}=r.base,i=e==Ve.showWinAmount||e==Ve.showWinAmount2,s=t.spin.status=="spin",o=t.spin.status=="stopping",a=e==Ve.showFsSS,u=e==Ve.showFSCount,l=e==Ve.showFSResult,h=e==Ve.showWinLine,[c,d]=N.useMemo(()=>{var g;const p=(g=t.spin.spinModel)==null?void 0:g.winType;return p=="big"?["",2e3]:p=="high"?["HighWin",8e3]:p=="medium"?["MediumWin",6e3]:p=="normal"?["NormalWin",4e3]:["SmallWin",3e3]},[i]);return Sc(()=>{n()},d,i),T.jsxs(T.Fragment,{children:[T.jsx(ni,{sound:"spin",playing:s,allowStop:!1}),T.jsx(ni,{sound:"scatter_win",playing:a,softBgm:!0}),T.jsx(ni,{sound:"fs_intro",playing:u}),T.jsx(ni,{sound:"fs_win_amount",playing:l}),T.jsx(ni,{softBgm:!0,sound:c,playing:i,allowStop:!0}),T.jsx(ni,{sound:"reel_spin_bgm",playing:s||o,loop:!0,allowStop:!0,volum:.7}),T.jsx(m9,{playing:i||h||a,fadeInTime:1e3,fadeOutTime:2e3,children:T.jsx(ni,{channelId:"layerCover",sound:"win_cover",allowStop:!0,softBgm:!0})}),T.jsx(ni,{sounds:sr(["bigwin","bigwinOut"]),playing:e==Ve.showBigWinAmount,allowStop:!0,softBgm:!0})]})}function sO({enable:r=!0,dataSource:e,...t}){const{dispatch:n,gameStatus:i,state:s,onSkip:o}=e.base,{inFS:a}=e.fs,{betAmount:u,betLevel:l,spinModel:h}=s.spin,{balance:c}=s.user,{code:d}=s.setting.error,[p,g]=N.useState("idle"),v=s.spin.autoSpinCount=="∞"||s.spin.autoSpinCount>0,x=c.greaterThanOrEqualTo(u.mul(l)),y=i=="idle",b=p=="idle",_=p=="fast"||p=="fast1500",S=p=="stop",I=p=="skip",P=i==Ve.showWinAmount2||i==Ve.showWinLine,{historyListOn:k,historyDetail:{on:M},payTableOn:O,menuOn:D}=s.setting,L=r&&!k&&!M&&!O&&!D;function X(){!x&&!a?(v&&n(OC()),n(rn(U3.NotEnoughBalance,!0,!0))):d||n(MC())}function F(te=null,le=!1){!P&&v&&!le&&n(OC()),S?(n(MC()),Yi.clickSound()):P?(o(),Yi.clickSound()):y&&X()}function B(){!v&&y&&!a&&n(kH("∞","∞",0,0))}N.useEffect(()=>{if(i=="spin"&&!a){const te=u.mul(l);n(Qp(c.sub(te)))}else i==Ve.showWinLine||i=="idle"&&h&&!h.isFromLoad?n(Qp((h==null?void 0:h.balance)||c)):i=="stopping"&&h.payout.isZero()&&!c.eq(h.balance)&&n(Qp(h.balance))},[i]),N.useEffect(()=>{i=="spin"?g("fast"):y?g("idle"):i!="stopping"&&p!="fast"?g("skip"):i=="stopping"&&p=="fast1500"&&g("stop")},[i]),Ts(()=>{i=="stopping"?g("stop"):y?g("idle"):i!="spin"?g("skip"):g("fast1500")},1500,p=="fast"),Ts(()=>{F(null,!0)},500,y&&(a||v));const j=_||b&&!v&&!a,z=S,q=I&&(i==Ve.showWinAmount2||i==Ve.showWinLine),$=y&&(v||a),W=L&&(y||z||q),H=W||v,V=_||W?16777215:11184810,Z=N.useMemo(()=>v?[0,"Auto",!0]:[0,"Idle",!0],[v]);return T.jsxs(be,{children:[T.jsx(vb,{onKeySpace:F.bind(null,null,!0),onKeyEnter:F.bind(null,null,!0),enable:W,sound:!1}),T.jsx(be,{...t,children:T.jsx(eR,{hitFrame:[-68,-60,100,100],onpointerup:F,onLongPress:B,interactive:H,children:T.jsxs(be,{x:80,y:75,pivot:[98,94],children:[T.jsxs(e0,{slotName:"Counter",children:[T.jsx(QR,{scale:.5,action:Z,playing:!0,timeScale:1,tint:V}),T.jsx(gt,{y:15,anchor:.5,scale:2,name:"infinite.png",visible:$})]}),T.jsx(F9,{speed:p!="idle"?2:.1,children:te=>T.jsxs(be,{y:7,children:[T.jsx(gt,{visible:j,anchor:.5,name:"Spin.png",rotation:te}),T.jsx(gt,{visible:z,y:5,anchor:.5,name:"stop.png"}),T.jsx(gt,{visible:q,y:5,anchor:.5,name:"skip.png"})]})})]})})})]})}const _Y=({dataSource:r})=>{const{dispatch:e,gameStatus:t,state:n}=r.base,{inFS:i}=r.fs,{speedModel:s}=n.spin,o=n.spin.autoSpinCount=="∞"||n.spin.autoSpinCount>0,a=s=="fast",u=t=="idle",l=u&&!i;function h(){u&&e(IH(a?"normal":"fast"))}return T.jsx(Ds,{children:T.jsxs(be,{"l-x":925,"l-y":-28,"p-x":650,"p-y":-100,"l-scale":1,"p-scale":1,children:[T.jsx(sO,{dataSource:r,"l-x":73,"l-y":0,"p-x":0,"p-y":0,"l-visible":!1,"p-visible":!0,"l-enable":!1,"p-enable":!0}),T.jsxs(el,{"l-x":108,"l-y":93,"p-x":245,"p-y":5,click:h,"l-scale":1,"p-scale":.8,interactive:l&&!o,children:[T.jsx(gt,{name:"turbo_disable.png",anchor:.5,visible:a||!l||o}),T.jsx(gt,{name:"turbo_enable.png",anchor:.5,visible:!a&&l&&!o}),T.jsx(Fs,{from:{k:0},to:{k:1},playing:a,duration:2e3,repeat:1e6,children:({k:c})=>T.jsx(gt,{visible:a,alpha:.5+Math.sin(Math.PI*2*c)*.5,name:"turbo_activate.png",anchor:.5,x:2,y:-3})})]})]})})},wY=({path:r,color:e,bColor:t,border:n=0,...i},s)=>{const o=N.useCallback(a=>{a.clear(),a.beginFill(e),a.lineStyle(n,t,1),a.moveTo(...r[0]);for(let u=1;u<r.length;u++)a.lineTo(...r[u]);a.lineTo(...r[0]),a.endFill()},[r,e]);return T.jsx(Pt.Graphics,{ref:s,draw:o,...i})},HC=N.forwardRef(wY);function bY({children:r,selected:e=0,cellHeight:t,onSelectedChange:n,onScrollStart:i,onScrollEnd:s,selectedColor:o=16691720,...a}){const{isMobile:u,isTablet:l}=Me.Obj,[h,c]=N.useState(!1),{current:d}=N.useRef({tween:null,startPoint:null,movement:{x:0,y:0},page:e,update:!1}),p=N.Children.count(r),g=Math.floor(p/2);function v(M){return(M+g+p)%p-g}function x(){const M=d.movement.y/t;return(d.page+M+p)%p}function y(M,O=!0,D=d.page){O&&D!=M?(d.tween&&(d.tween.stop(),oj(d.tween)),d.tween=new Uk({page:D}).to({page:M},200).onUpdate(L=>{d.page=L.page,d.update=!0}).onComplete(()=>{const L=Math.round((M+p)%p);n&&n(L),d.page=L,d.update=!0}).start(Me.Obj.getTime(!1))):d.page=M}function b(M){d.startPoint={x:M.x,y:M.y},i&&i()}function _(M){d.startPoint&&(d.update=!0,d.movement={x:-(M.x-d.startPoint.x),y:-(M.y-d.startPoint.y)})}function S(M){if(d.startPoint){let O=d.movement.y/t;const D=d.page+O;O=Math.round(O+(O>0?.25:-.25));const L=d.page+O;d.startPoint=null,s&&s(),d.movement={x:0,y:0},y(L,!0,D)}}const I=N.useMemo(()=>x(),[d.movement.x,d.movement.y,d.page]);N.useEffect(()=>{d.page!=e&&y(e,!0,d.page)},[e]),Pt.useTick(()=>{d.update&&(c(!h),d.update=!1)},!0);function P(M){const O=t,D=Math.abs(M),L=Math.max(0,3-D),X=D<2.5?.4+L*.2:0,F=D<.5?o:16777215;return{y:M*O,scale:X,tint:F}}const k={};return u||l?(k.ontouchstart=b,k.ontouchmove=_,k.ontouchend=S,k.ontouchcancel=S,k.ontouchendoutside=S):(k.onmousedown=b,k.onmousemove=_,k.onmouseup=S,k.onmouseout=S,k.onmouseupoutside=S),T.jsx(be,{interactive:!0,cursor:"pointer",...k,...a,children:N.Children.map(r,(M,O)=>{const D=v(-I+O);return N.cloneElement(M,P(D))})})}function SY({betAmount:r,on:e,onClose:t,onSelectedChange:n,lineBets:i}){const[s,o]=N.useState(0),{current:a}=N.useRef({inScroll:!1,ebaleClose:!1}),u=Me.Obj;N.useEffect(()=>{const p=()=>{const g=u.viewport[1],v=u.viewport[3],x=u.layoutOptions.displayArea[1];o(-g+v+x)};return p(),u.notice.on($n,p),()=>{u.notice.off($n,p)}},[]);const l=N.useMemo(()=>i.map(p=>Number(p)).indexOf(r),[r]);function h(){a.inScroll=!0}function c(){a.inScroll=!1}function d(){a.ebaleClose&&!a.inScroll&&t&&t()}return N.useMemo(()=>{e&&(a.ebaleClose=!1)},[e]),Ts(()=>{a.ebaleClose=!0},500,e&&!a.ebaleClose),T.jsxs(be,{children:[T.jsx(J3,{click:d,hitFrame:[0,0,1170,1170],visible:e}),T.jsx(Fs,{dep:[e],from:{k:0},to:{k:1},playing:!0,duration:300,easing:aa.Cubic.In,children:({k:p})=>{const g=(e?-380*p:1e3)+s;return T.jsxs(be,{y:g,children:[T.jsx(ia,{frame:[0,0,1170,380],color:1908791,alpha:.9,interactive:!0}),T.jsx(be,{children:T.jsx(Yu,{x:620,y:20,anchor:.5,text:"betamount",style:{fill:"#ffffff",fontFamily:"Verdana",fontWeight:"bold",fontSize:23}})}),T.jsxs(be,{y:173,children:[T.jsx(ia,{frame:[0,0,1170,60],alpha:.72}),T.jsx(ia,{frame:[0,0,1170,2],color:16757326}),T.jsx(ia,{frame:[0,0,1170,2],color:16757326,y:57}),T.jsx(HC,{x:767,y:15,path:[[0,0],[0,30],[-15,15]],color:16757326}),T.jsx(HC,{x:467,y:15,path:[[0,0],[0,30],[15,15]],color:16757326})]}),T.jsxs(qg,{children:[T.jsx(bY,{hitFrame:[0,-270,1170,500],selected:l,cellHeight:60,y:203,onSelectedChange:n,selectedColor:16757326,onScrollStart:h,onScrollEnd:c,children:i.map((v,x)=>T.jsx(mi,{x:620,y:25,anchor:.5,text:`${v}`,style:{fill:"#ffffff",fontWeight:"500",fontSize:50}},`selecterItem${x}`))}),T.jsx(gt,{name:"selecter_mask.png",scale:[234,2],y:35})]})]})}})]})}function TY({dataSource:r}){const{state:e,dispatch:t,gameStatus:n}=r.base,{inFS:i}=r.fs,{menuOn:s}=e.setting,{currency:o}=e.user,{betLevel:a,betAmount:u,lineBetsModel:l}=e.spin,[h,c]=N.useState(!1),{lineBets:d}=e.spin.lineBetsModel,p=N.useRef(null),g=Me.Obj,v=ai.any,y=n=="idle"&&!i,b=e.spin.autoSpinCount=="∞"||e.spin.autoSpinCount>0;function _(){const O=d.indexOf(u.toFixed(2))+1;O<d.length&&t(eo(d[O]))}function S(){const O=d.indexOf(u.toFixed(2))-1;O>=0&&t(eo(d[O]))}function I(){t(uI(!s))}N.useEffect(()=>{if(p.current){const O=()=>{const D=g.viewport[1],L=g.viewport[3],X=g.layoutOptions.displayArea[1];p.current.y=L-D+X};return O(),g.notice.on($n,O),()=>{g.notice.off($n,O)}}},[p]);const P=y&&!b&&u.toNumber()!=Number(l.lineBets[0]),k=y&&!b&&u.toNumber()!=Number(Tl(l.lineBets)),M=sr(Me.Obj.urlOptions.lang);return T.jsxs(be,{children:[T.jsx(Ds,{children:T.jsxs(be,{"l-x":585,"l-scale":1,"p-x":585,"p-scale":.75,"l-pivot":[585,120],"p-pivot":[585,100],ref:p,children:[T.jsx(gt,{name:"UI_Container.png","p-x":55,"l-x":0,"l-y":0,"p-y":-160}),T.jsx(gt,{name:"value_bg.png","p-x":72,"l-x":17,"l-y":48,"p-y":29}),T.jsx(el,{interactive:y&&!b,"l-x":80,"l-y":73,"p-x":330,"p-y":-97,"l-visible":!0,"p-visible":!0,click:I,children:T.jsx(gt,{name:"menu-on.png",anchor:.5,tint:y&&!b?16777215:8947848})}),T.jsxs(be,{"l-x":330,"l-y":35,"p-x":430,"p-y":15,children:[T.jsxs(be,{"l-x":250,"l-y":-15,"p-x":202,"p-y":-15,children:[v?T.jsx(be,{children:T.jsxs(el,{y:52,interactive:y&&!b,click:c.bind(null,!0),children:[T.jsx(gt,{name:"bet_amount_bg.png",anchor:.5,scale:.8,tint:y&&!b?16777215:8947848}),T.jsx(mi,{anchor:.5,y:-2,text:zr(u),maxScaleLength:150,style:{fill:"#fcaf00",fontFamily:M,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]})}):T.jsxs(be,{children:[T.jsxs(be,{y:53,children:[T.jsx(el,{"l-x":-95,"p-x":-75,click:S,interactive:P,children:T.jsx(gt,{name:"bet_minus.png",anchor:.5,tint:P?16777215:8947848})}),T.jsx(el,{"l-x":95,"p-x":75,click:_,interactive:k,children:T.jsx(gt,{name:"bet_plus.png",anchor:.5,tint:k?16777215:8947848})})]}),T.jsx(be,{y:52,children:T.jsx(mi,{anchor:.5,y:-2,text:`${zr(u)}`,maxScaleLength:100,style:{fill:"#fcaf00",fontFamily:M,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]}),T.jsx(Yu,{"l-y":5,"p-y":0,anchor:.5,text:"betamount",style:{fill:"#fcaf00",fontFamily:M,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})]}),T.jsxs(be,{"l-x":-25,"p-x":-30,children:[T.jsx(Yu,{anchor:.5,text:"balance",style:{fill:"#eeeeee",fontFamily:M,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),T.jsx(be,{y:37,children:T.jsx(d_,{anchor:.5,tmp:`${o} {}`,"l-maxScaleLength":300,"p-maxScaleLength":250,text:e.user.balance.toNumber(),tweenOptions:{duration:500},style:{fontSize:26,fill:"#eeeeee",fontFamily:M,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]}),T.jsxs(be,{"l-x":510,"p-x":430,children:[T.jsx(Yu,{anchor:.5,text:"totalbet",style:{fill:"#eeeeee",fontFamily:M,fontWeight:"500",dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}}),T.jsx(be,{y:37,children:T.jsx(d_,{anchor:.5,tmp:`${o} {}`,"l-maxScaleLength":270,"p-maxScaleLength":250,text:a==null?void 0:a.mul(u),style:{fontSize:26,fill:"#eeeeee",fontFamily:M,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2}})})]})]}),T.jsx(be,{children:T.jsx(_Y,{dataSource:r})})]})}),T.jsx(SY,{on:h,onClose:c.bind(null,!1),betAmount:u.toNumber(),lineBets:d,onSelectedChange:O=>{d[O]&&t(eo(d[O]))}})]})}const EY=({onFreeGame:r,...e})=>T.jsx(d9,{children:T.jsx(c9,{children:T.jsx(f9,{children:T.jsx(u9,{children:({dataSource:t})=>{const{inFS:n}=t.fs;return r(n),T.jsxs(Vg,{...e,children:[T.jsx(uY,{dataSource:t}),T.jsx(gY,{dataSource:t,"l-x":585,"l-y":550,"l-scale":1,"p-x":615,"p-y":480,"p-scale":.75}),T.jsx(lY,{dataSource:t,"l-x":205,"l-y":325,"l-sclae":1,"p-x":340,"p-y":250,"p-scale":1}),T.jsx(va,{name:"logo.png","l-x":435,"l-y":200,"p-x":465,"p-y":100}),T.jsx(sO,{dataSource:t,scale:1,"l-x":1052,"l-y":775,"l-visible":!0,"p-visible":!1,"l-enable":!0,"p-enable":!1}),T.jsx(aY,{"l-x":585,"l-y":825,"l-scale":1,"p-x":615,"p-y":715,"p-scale":.75,dataSource:t}),T.jsx(TY,{dataSource:t}),T.jsx(sY,{dataSource:t,"l-x":590,"l-y":790,"l-scale":1,"p-x":620,"p-y":688,"p-scale":.8}),T.jsx(iY,{dataSource:t}),T.jsx(nY,{dataSource:t}),T.jsx(rY,{dataSource:t}),T.jsx(cY,{dataSource:t}),T.jsx(xY,{dataSource:t})]})}})})})}),CY=({...r})=>{const e=N.useMemo(()=>o9(Me.Obj.urlOptions.lang),[]);return T.jsx(r9,{assets:e,...r})},AY=[[4,8,9],[4,8,9,4],[4,8,9,7,5],[4,8,9,1,2,3],[3,8,8,8,2,1,0],[1,9,9,9,9,9,9]],PY=[[10,3,4],[4,10,10,2],[4,10,10,7,5],[4,10,10,1,2,3],[3,10,7,6,2,1,0],[1,10,7,0,3,10,2]],zC=[PY,AY];function kY({children:r}){const{current:e}=N.useRef({startSpinIndex:0,stopSpinIndex:-1,stopedColumn:[],stopping:!1,spinStatus:"idle",case:0,showResult:!1}),[t,n]=N.useState(!1),i=e.spinStatus=="idle",s=e.spinStatus=="spin",o=e.spinStatus=="stopping",a=s||o,u=N.useMemo(()=>xn(6,c=>({playing:a&&c<=e.startSpinIndex&&e.stopedColumn.indexOf(c)<0,stop:o&&c<=e.stopSpinIndex,result:zC[e.case][c],init:zC[e.case][c],onEnd:d=>{e.stopedColumn.indexOf(d)<0&&(e.stopedColumn.push(d),e.stopedColumn.length==6&&(e.spinStatus="idle",e.showResult=!0),n(!t))}})),[e.spinStatus,e.startSpinIndex,e.stopSpinIndex]);od(50,()=>{e.startSpinIndex++,n(!t)},a&&e.startSpinIndex<6),od(400,()=>{e.stopSpinIndex++,n(!t)},e.stopping&&o&&e.stopSpinIndex<6&&e.startSpinIndex==6),Ts(()=>{e.stopping=!0,n(!t)},1e3,o&&e.stopSpinIndex<6&&e.startSpinIndex==6&&!e.stopping),N.useEffect(()=>{a||(e.startSpinIndex=6,e.stopSpinIndex=-1,e.stopedColumn=[],e.stopping=!1,n(!t))},[a]),Ts(()=>{e.spinStatus="spin",n(!t)},(e.case==1,1e3),i&&!e.showResult),Ts(()=>{e.case=(e.case+1)%2,e.spinStatus="stopping",n(!t)},1e3,s),Ts(()=>{e.showResult=!1,e.spinStatus="idle",n(!t)},2e3,e.showResult);function l(c){return e.showResult&&e.case==1?c==8||c==9?16777215:8947848:16777215}function h(c){return!!(e.showResult&&e.case==0&&c==10)}return r({page:e.case,spinModel:u,spinStatus:e.spinStatus,showTint:l,showActive:h})}function IY({...r}){return T.jsxs(be,{...r,children:[T.jsx(gt,{name:"reel.png"}),T.jsx(kY,{children:e=>{const{spinModel:t,spinStatus:n,showTint:i,page:s}=e;return T.jsxs(be,{children:[T.jsxs(qg,{active:n=="spin"||n=="stopping",x:52,y:138,children:[T.jsx(be,{x:52.5,y:32.5,children:tO.map((o,a)=>{const u=t[a],{playing:l}=u;return T.jsx(be,{x:o,children:T.jsx(ZR,{...u,spinStatus:n,inColumn:a,startSpeed:0,endSpeed:0,speed:30,accTime:0,decTime:0,cellCount:eO[a],symbols:nO,children:(h,c,d)=>T.jsx(iO,{models:h,on:!c,children:p=>p.map((g,v)=>{const{k:x,visible:y,...b}=g,_=i(g.selected);return T.jsx(be,{y:rO[a]+65*x+3,children:T.jsx(JR,{tint:_,inSpin:l,isBlur:d,visible:y,showFrame:!1,...b})},`ss_${v}`)})})})},`reel${a}`)})}),T.jsx(gt,{x:0,y:-127,name:"reel_mask.png"})]}),T.jsx(Ds,{children:T.jsxs(be,{"l-y":540,"p-y":580,x:380,children:[T.jsx(va,{name:"text2.png",visible:s==0,anchor:.5,scale:1}),T.jsx(va,{name:"text1.png",visible:s==1,anchor:.5,scale:1})]})})]})}})]})}const MY=({...r})=>{const{dispatch:e}=N.useContext(bt);function t(){e(Hw("main"))}return T.jsx(Vg,{...r,children:T.jsxs(be,{children:[T.jsx(vb,{onKeySpace:t,onKeyEnter:t,enable:!0}),T.jsx(Vm,{name:Yw,scale:1.0636364}),T.jsx(va,{name:"logo.png","l-x":450,"l-y":220,"p-x":473,"p-y":100}),T.jsx(gt,{name:"superduo-male.png","l-x":100,"l-y":260,"p-x":430,"p-y":230,"l-scale":1,"p-scale":.9}),T.jsx(gt,{name:"superduo-female.png","l-x":40,"l-y":380,"p-x":375,"p-y":332,"l-scale":1,"p-scale":.9}),T.jsx(IY,{"l-x":380,"l-y":330,"p-x":350,"p-y":480,"l-scale":.9,"p-scale":.7}),T.jsxs(el,{"l-x":480,"l-y":890,"p-x":502,"p-y":980,click:t,children:[T.jsx(gt,{name:"loading_continue.png"}),T.jsx(va,{x:120,y:28,anchor:.5,name:"continue.png",scale:1.8})]})]})})};function RY({children:r}){const e=N.useMemo(()=>{let i=!1;return i=Rn("debug","0")==="1",i},[]);N.useEffect(()=>{e||(window.oncontextmenu=function(i){i.preventDefault()})},[]);const t=N.useMemo(()=>[...N.Children.toArray(r),T.jsx(OY,{})],[]),n=e?N.Children.map(t,i=>N.cloneElement(i,{debug:e})):[];return T.jsxs(be,{visible:e,children:[...n]})}function OY(){const{state:r}=Td(),{spinModel:e}=r.spin;return N.useEffect(()=>{e&&console.log("spin",e.data)},[e]),T.jsx(T.Fragment,{})}function NY({debug:r,...e}){const[t,n]=N.useState(60);return Pt.useTick(i=>{n(Math.round(1/(i/1e3)))},r),T.jsx(Ds,{children:T.jsxs(be,{...e,children:[T.jsx(ia,{frame:[0,0,70,25]}),T.jsx(mi,{text:`${t} FPS`,style:{align:"center",fill:"#FF0000",fontSize:20}})]})})}function BY({...r}){const e=N.useRef(null),{state:t}=Td(),{scenes:n}=t.sceneManager,[i,s]=N.useState(""),o=Me.Obj,a=N.useMemo(()=>{let l=!1;return l=Rn("hideServerTime","0")==="1",l},[]),[u]=N.useMemo(()=>[Tl(n)=="main"],n);return N.useEffect(()=>{if(e.current){let l=function(){if(o.viewport){const[h,c,d]=o.viewport;e.current.x=-h+d-5,e.current.y=-c+5}};return l(),o.notice.on($n,l),()=>{o.notice.off($n,l)}}},[e]),od(1e3,()=>{s(Oj(8,!1,o.getServerTimeMillisecondNow()))},u),T.jsx(mi,{visible:u&&!a,ref:e,text:`${i}`,anchor:[1,0],style:{fill:"#FFFFFF",fontSize:20,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2},...r})}function FY({...r}){const e=N.useRef(null),{state:t}=Td(),{scenes:n}=t.sceneManager,i=Me.Obj,[s]=N.useMemo(()=>{const o=Tl(n);return[o=="premain"||o=="load"]},n);return N.useEffect(()=>{if(e.current){let o=function(){if(i.viewport){const[a,u,l,h]=i.viewport;e.current.x=-a+l-5,e.current.y=-u+h-5}};return o(),i.notice.on($n,o),()=>{i.notice.off($n,o)}}},[e]),T.jsx(mi,{visible:s,ref:e,text:`v${i.configOptions.version}`,anchor:[1,1],style:{fill:"#FFFFFF",fontSize:20,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:2,dropShadowAngle:Math.PI/6,dropShadowDistance:2},...r})}function ke({children:r,tmp:e,replaceMap:t={},tcase:n="default",...i}){const s=N.useMemo(()=>{let o=e?N.Children.map(e,a=>on(Zr,a)).reduce((a,u)=>a+u,""):on(Zr,r);for(const a in t)o=o.replace(a,t[a]);return n=="upper"?o=o.toUpperCase():n=="lower"&&(o=o.toLowerCase()),o},[e,r]);return T.jsx("div",{...i,children:s})}const LY=()=>{const r=N.useRef(null),e=N.useRef(null),{state:t,dispatch:n}=N.useContext(bt),{code:i,show:s,allowClose:o}=t.setting.error;function a(){o?n(rn("",!1,!0)):window.location.reload()}const u=N.useMemo(()=>on(Zr,"err_000"),[]),l=N.useMemo(()=>{const c=`err_${i}`,d=on(Zr,c);return c==d?u:d},[i]);function h(){if(e.current){const c=r.current.clientHeight,d=e.current.clientHeight;e.current.style.marginTop=`${(c-d)*.4}px`}}return N.useEffect(()=>{const c=Me.Obj;return c.notice.on($n,h),()=>{c.notice.off($n,h)}},[]),N.useEffect(()=>{s&&h()},[s]),T.jsx("div",{ref:r,className:`page-mod ${s?"db":"dn"}`,children:T.jsxs("div",{ref:e,className:`error-mod ${t.setting.orientation}`,children:[T.jsxs("div",{className:"top",children:[T.jsx("div",{className:"dib info-icon"}),T.jsx("div",{className:"title",children:i})]}),T.jsxs("div",{className:"bottom",children:[T.jsx(ke,{className:"detail",children:l}),T.jsx(ke,{className:"ok btn-mod dib",onClick:a,children:o?"ok":"refresh"})]}),T.jsx("div",{className:"close"})]})})},DY=Yi.Obj,Qt=({children:r,onClick:e,channelId:t=Ww,sound:n="click",volum:i=1,playing:s,softBgm:o=!0,soft:a,...u})=>{function l(h){e(h),DY.play(t,n,i,o,!1)}return T.jsx("div",{...u,onClick:e?l:null,children:r})};function oO(r){return({children:e,on:t,style:n,duration:i=250,...s})=>{const[o,a]=N.useState(!1),[u,l]=N.useState(!1);N.useEffect(()=>{t&&a(!0)},[t]);function h(){l(!1),t||a(!1)}function c(){l(!0)}return T.jsxs("div",{className:`page-mod ${o?"db":"dn"}`,style:{overflow:"hidden"},children:[T.jsx(Fs,{dep:[t],from:{k:0},to:{k:100},duration:i,playing:!0,onComplete:h,onStart:c,children:({k:d})=>{const p=t?100-d:d;return T.jsx(Qt,{className:`page-mod ${o?"db":"dn"}`,style:{...r(p),...n},...s,children:e})}}),T.jsx("div",{className:`page-mod ${u?"db":"dn"}`})]})}}const Sb=oO(r=>({top:`${r}%`})),UY=oO(r=>({left:`${r}%`}));function jY({cls:r="menu-mod",style:e,...t}){const{state:n,dispatch:i}=N.useContext(bt),{menuOn:s,soundOn:o}=n.setting,[a,u]=N.useState(!1),{fundsUrl:l,livechatUrl:h,lang:c,funPLay:d}=Me.Obj.urlOptions;function p(I){a&&i(uI(!1)),I&&I.stopPropagation()}function g(I){a&&(p(),i(cI(!0)))}function v(I){a&&i(lI(!o))}function x(){a&&window.open(l,"_self")}function y(){a&&(p(),i(hI(!0)))}function b(){a&&window.open(l,"fund")}function _(){a&&window.open(h,"LiveChat")}N.useEffect(()=>{s?setTimeout(()=>{u(!0)},300):u(!1)},[s]);const S=sr(Me.Obj.filterImageFormat(["avif","webp","png"]));return T.jsx(Sb,{on:s,onClick:p,duration:300,children:T.jsx("div",{className:`${r}`,style:e,onClick:I=>I.stopPropagation(),children:T.jsxs("div",{className:"list",children:[T.jsxs("div",{className:`cell ${d?"fun-play":""}`,children:[T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:g,children:[T.jsx("div",{className:`icon-mod icon paytable ${S}`}),T.jsx(ke,{className:`title ${c}`,children:"paytable"})]}),T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:v,children:[T.jsx("div",{className:`icon-mod icon ${o?"sound-on":"sound-off"} ${S}`}),T.jsx(ke,{className:"title",children:"sound"})]}),T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:x,children:[T.jsx("div",{className:`icon-mod icon lobby ${S}`}),T.jsx(ke,{className:"title",children:"lobby"})]})]}),T.jsxs("div",{className:`cell ${d?"hidden":"visible"}`,children:[T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:y,children:[T.jsx("div",{className:`icon-mod icon history ${S}`}),T.jsx(ke,{className:"title",children:"bethistory"})]}),T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:b,children:[T.jsx("div",{className:`icon-mod icon transfer ${S}`}),T.jsx(ke,{className:"title",children:"transfer"})]}),T.jsxs(Qt,{className:"item w-33 btn-mod btn-mod-active",onClick:_,children:[T.jsx("div",{className:`icon-mod icon chat ${S}`}),T.jsx(ke,{className:"title",children:"customservice"})]})]})]})})})}const XY="ISoundOn_",$Y="IBetAmount_",HY="IBetLevel_";function zY({children:r}){const{state:e,dispatch:t}=Td(),{soundOn:n}=e.setting,{betAmount:i,betLevel:s,spinModel:o,lineBetsModel:a,status:u}=e.spin,{scenes:l}=e.sceneManager,[h,c,d]=N.useMemo(()=>{const{id:p}=Me.Obj.configOptions;return[XY,$Y,HY].map(g=>g+p)},[]);return N.useEffect(()=>{mn(n)&&localStorage.setItem(h,n?"1":"0")},[n]),N.useEffect(()=>{if(u=="spin"&&a&&mn(i)){const p=i.toNumber();localStorage.setItem(c,`${a.lineBets.map(g=>Number(g)).indexOf(p)}`)}},[u]),N.useEffect(()=>{mn(s)&&localStorage.setItem(d,`${s}`)},[s]),N.useEffect(()=>{if(Tl(l)=="premain"){const g=localStorage.getItem(h)!="0",v=Number(localStorage.getItem(c)),x=localStorage.getItem(d);if(t(lI(g)),o){const y=o.lineBet,b=o.credit,_=o.betLevel;y&&!y.isZero()?t(eo(y)):b&&!b.isZero()?t(eo(b)):a&&(mn(v)?t(eo(a.lineBets[v]||a.lineBets[0])):t(eo(a.lineBets[0]))),mn(_)&&_!=0&&t(RC(_))}else a&&(mn(v)?t(eo(a.lineBets[v]||a.lineBets[0])):t(eo(a.lineBets[0]))),mn(x)&&t(RC(x))}},[l]),T.jsx(T.Fragment,{children:N.Children.map(r,p=>p)})}const Rh=dg(),YY=({children:r})=>{const{state:e,dispatch:t}=N.useContext(bt),[n,i]=N.useState(!1),{loggingIn:s}=e.user,[o,a]=N.useState(null),{current:u}=N.useRef({httpDoneCount:0}),[l,h]=N.useState(!1);N.useEffect(()=>{n?!s&&!o&&Rh.player().then(d=>{d.code?(d.code==500||d.code==404||d.code==401)&&Rh.authAndCanReTry()&&(t(rn("")),i(!1)):a(d)}):Rh.auth().then(d=>{i(!0)})},[n]),N.useEffect(()=>{N.Children.count(r)==u.httpDoneCount&&o&&!o.code&&(Me.Obj.setServerTime(o.st),t(NH(o)))},[o,u.httpDoneCount]);function c(){u.httpDoneCount++,h(!l)}return T.jsx(T.Fragment,{children:N.Children.map(r,d=>N.cloneElement(d,{on:n&&!!o&&!o.code,onComplete:c}))})};function GY({on:r,onComplete:e}){const{dispatch:t}=N.useContext(bt);N.useEffect(()=>{r&&Rh.load().then(n=>{n.code?t(AH(n)):t(CH(n)),e(n)})},[r])}function WY({on:r,onComplete:e}){const{dispatch:t}=N.useContext(bt);N.useEffect(()=>{r&&Rh.lineBets().then(n=>{n.code||(t(MH(n)),e(n))})},[r])}function VY(){const{state:r,dispatch:e}=N.useContext(bt),{status:t,betAmount:n}=r.spin;return N.useEffect(()=>{const i=dg();t=="spin"&&i.spin(n.toNumber()).then(s=>{s.code?e(D3()):e(PH(s))}).catch(()=>{})},[t]),T.jsx(T.Fragment,{})}/*!
 * better-scroll / slide
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */function aO(r){console.error("[BScroll warn]: "+r)}var Pd=typeof window<"u",tg=Pd&&navigator.userAgent.toLowerCase();tg&&tg.indexOf("android")>0;(function(){if(typeof tg=="string"){var r=/os (\d\d?_\d(_\d)?)/,e=r.exec(tg);if(!e)return!1;var t=e[1].split("_").map(function(n){return parseInt(n,10)});return t[0]===13&&t[1]>=4}return!1})();var qY=!1;if(Pd){var KY="test-passive";try{var YC={};Object.defineProperty(YC,"passive",{get:function(){qY=!0}}),window.addEventListener(KY,function(){},YC)}catch{}}var Oh=function(r,e){for(var t in e)r[t]=e[t];return r};function Su(r,e,t){return r<e?e:r>t?t:r}var lO=Pd&&document.createElement("div").style,Gu=function(){if(!Pd)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,t=r;e<t.length;e++){var n=t[e];if(lO[n.value]!==void 0)return n.key}return!1}();function to(r){return Gu===!1?r:Gu==="standard"?r==="transitionEnd"?"transitionend":r:Gu+r.charAt(0).toUpperCase()+r.substr(1)}Gu&&Gu!=="standard"&&""+Gu.toLowerCase();var QY=to("transform"),ZY=to("transition");Pd&&to("perspective")in lO;to("transitionTimingFunction"),to("transitionDuration"),to("transitionDelay"),to("transformOrigin"),to("transitionEnd"),to("transitionProperty");function JY(r,e){var t=e.firstChild;t?eG(r,t):e.appendChild(r)}function eG(r,e){var t=e.parentNode;t.insertBefore(r,e)}function tG(r,e){r.removeChild(e)}var Gy={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(r){return 1+--r*r*r*r*r}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(r){return r*(2-r)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(r){return 1- --r*r*r*r}}},uO={pageX:0,pageY:0,x:0,y:0},rG={x:0,y:0,width:0,height:0,cx:0,cy:0},nG=function(){function r(e){this.scroll=e,this.init()}return r.prototype.init=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY;this.wrapperWidth=t.wrapperSize,this.wrapperHeight=n.wrapperSize,this.scrollerHeight=n.contentSize,this.scrollerWidth=t.contentSize,this.pages=this.buildPagesMatrix(this.wrapperWidth,this.wrapperHeight),this.pageLengthOfX=this.pages?this.pages.length:0,this.pageLengthOfY=this.pages&&this.pages[0]?this.pages[0].length:0},r.prototype.getPageStats=function(e,t){return this.pages[e]&&this.pages[e][t]?this.pages[e][t]:rG},r.prototype.getNearestPageIndex=function(e,t){for(var n=0,i=0,s=this.pages.length;n<s-1&&!(e>=this.pages[n][0].cx);n++);for(s=this.pages[n]?this.pages[n].length:0;i<s-1&&!(t>=this.pages[0][i].cy);i++);return{pageX:n,pageY:i}},r.prototype.buildPagesMatrix=function(e,t){var n=[],i=0,s,o,a,u=0,l,h=this.scroll.scroller.scrollBehaviorX.maxScrollPos,c=this.scroll.scroller.scrollBehaviorY.maxScrollPos;for(o=Math.round(e/2),a=Math.round(t/2);i>-this.scrollerWidth;){for(n[u]=[],l=0,s=0;s>-this.scrollerHeight;)n[u][l]={x:Math.max(i,h),y:Math.max(s,c),width:e,height:t,cx:i-o,cy:s-a},s-=t,l++;i-=e,u++}return n},r}(),iG=function(){function r(e,t){this.scroll=e,this.slideOptions=t,this.slideX=!1,this.slideY=!1,this.currentPage=Oh({},uO)}return r.prototype.refresh=function(){this.pagesMatrix=new nG(this.scroll),this.checkSlideLoop(),this.currentPage=this.getAdjustedCurrentPage()},r.prototype.getAdjustedCurrentPage=function(){var e=this.currentPage,t=e.pageX,n=e.pageY;t=Math.min(t,this.pagesMatrix.pageLengthOfX-1),n=Math.min(n,this.pagesMatrix.pageLengthOfY-1),this.loopX&&(t=Math.min(t,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(n=Math.min(n,this.pagesMatrix.pageLengthOfY-2));var i=this.pagesMatrix.getPageStats(t,n),s=i.x,o=i.y;return{pageX:t,pageY:n,x:s,y:o}},r.prototype.setCurrentPage=function(e){this.currentPage=e},r.prototype.getInternalPage=function(e,t){e>=this.pagesMatrix.pageLengthOfX?e=this.pagesMatrix.pageLengthOfX-1:e<0&&(e=0),t>=this.pagesMatrix.pageLengthOfY?t=this.pagesMatrix.pageLengthOfY-1:t<0&&(t=0);var n=this.pagesMatrix.getPageStats(e,t),i=n.x,s=n.y;return{pageX:e,pageY:t,x:i,y:s}},r.prototype.getInitialPage=function(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=this.slideOptions,i=n.startPageXIndex,s=n.startPageYIndex,o=this.loopX?1:0,a=this.loopY?1:0,u=e?o:this.currentPage.pageX,l=e?a:this.currentPage.pageY;t?(u=this.loopX?i+1:i,l=this.loopY?s+1:s):(u=e?o:this.currentPage.pageX,l=e?a:this.currentPage.pageY);var h=this.pagesMatrix.getPageStats(u,l),c=h.x,d=h.y;return{pageX:u,pageY:l,x:c,y:d}},r.prototype.getExposedPage=function(e){var t=Oh({},e);return this.loopX&&(t.pageX=this.fixedPage(t.pageX,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(t.pageY=this.fixedPage(t.pageY,this.pagesMatrix.pageLengthOfY-2)),t},r.prototype.getExposedPageByPageIndex=function(e,t){var n={pageX:e,pageY:t};this.loopX&&(n.pageX=e+1),this.loopY&&(n.pageY=t+1);var i=this.pagesMatrix.getPageStats(n.pageX,n.pageY),s=i.x,o=i.y;return{x:s,y:o,pageX:e,pageY:t}},r.prototype.getWillChangedPage=function(e){return e=Oh({},e),this.loopX&&(e.pageX=this.fixedPage(e.pageX,this.pagesMatrix.pageLengthOfX-2),e.x=this.pagesMatrix.getPageStats(e.pageX+1,0).x),this.loopY&&(e.pageY=this.fixedPage(e.pageY,this.pagesMatrix.pageLengthOfY-2),e.y=this.pagesMatrix.getPageStats(0,e.pageY+1).y),e},r.prototype.fixedPage=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i);return n.unshift(t-1),n.push(0),n[e]},r.prototype.getPageStats=function(){return this.pagesMatrix.getPageStats(this.currentPage.pageX,this.currentPage.pageY)},r.prototype.getValidPageIndex=function(e,t){var n=this.pagesMatrix.pageLengthOfX-1,i=this.pagesMatrix.pageLengthOfY-1,s=0,o=0;return this.loopX&&(e+=1,s=s+1,n=n-1),this.loopY&&(t+=1,o=o+1,i=i-1),e=Su(e,s,n),t=Su(t,o,i),{pageX:e,pageY:t}},r.prototype.nextPageIndex=function(){return this.getPageIndexByDirection("positive")},r.prototype.prevPageIndex=function(){return this.getPageIndexByDirection("negative")},r.prototype.getNearestPage=function(e,t){var n=this.pagesMatrix.getNearestPageIndex(e,t),i=n.pageX,s=n.pageY,o=this.pagesMatrix.getPageStats(i,0).x,a=this.pagesMatrix.getPageStats(0,s).y;return{x:o,y:a,pageX:i,pageY:s}},r.prototype.getPageByDirection=function(e,t,n){var i=e.pageX,s=e.pageY;i===this.currentPage.pageX&&(i=Su(i+t,0,this.pagesMatrix.pageLengthOfX-1)),s===this.currentPage.pageY&&(s=Su(s+n,0,this.pagesMatrix.pageLengthOfY-1));var o=this.pagesMatrix.getPageStats(i,0).x,a=this.pagesMatrix.getPageStats(0,s).y;return{x:o,y:a,pageX:i,pageY:s}},r.prototype.resetLoopPage=function(){if(this.loopX){if(this.currentPage.pageX===0)return{pageX:this.pagesMatrix.pageLengthOfX-2,pageY:this.currentPage.pageY};if(this.currentPage.pageX===this.pagesMatrix.pageLengthOfX-1)return{pageX:1,pageY:this.currentPage.pageY}}if(this.loopY){if(this.currentPage.pageY===0)return{pageX:this.currentPage.pageX,pageY:this.pagesMatrix.pageLengthOfY-2};if(this.currentPage.pageY===this.pagesMatrix.pageLengthOfY-1)return{pageX:this.currentPage.pageX,pageY:1}}},r.prototype.getPageIndexByDirection=function(e){var t=this.currentPage.pageX,n=this.currentPage.pageY;return this.slideX&&(t=e==="negative"?t-1:t+1),this.slideY&&(n=e==="negative"?n-1:n+1),{pageX:t,pageY:n}},r.prototype.checkSlideLoop=function(){this.wannaLoop=this.slideOptions.loop,this.pagesMatrix.pageLengthOfX>1?this.slideX=!0:this.slideX=!1,this.pagesMatrix.pages[0]&&this.pagesMatrix.pageLengthOfY>1?this.slideY=!0:this.slideY=!1,this.loopX=this.wannaLoop&&this.slideX,this.loopY=this.wannaLoop&&this.slideY,this.slideX&&this.slideY&&aO("slide does not support two direction at the same time.")},r}(),sG="plugins.slide",oG=[{key:"next",name:"next"},{key:"prev",name:"prev"},{key:"goToPage",name:"goToPage"},{key:"getCurrentPage",name:"getCurrentPage"},{key:"startPlay",name:"startPlay"},{key:"pausePlay",name:"pausePlay"}],aG=oG.map(function(r){return{key:r.key,sourceKey:sG+"."+r.name}}),lG=function(r,e){return r.pageX===e.pageX&&r.pageY===e.pageY},uG=function(){function r(e){this.scroll=e,this.cachedClonedPageDOM=[],this.resetLooping=!1,this.autoplayTimer=0,this.satisfyInitialization()&&this.init()}return r.prototype.satisfyInitialization=function(){return this.scroll.scroller.content.children.length<=0?(aO("slide need at least one slide page to be initialised.please check your DOM layout."),!1):!0},r.prototype.init=function(){this.willChangeToPage=Oh({},uO),this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.createPages()},r.prototype.createPages=function(){this.pages=new iG(this.scroll,this.options)},r.prototype.handleBScroll=function(){this.scroll.registerType(["slideWillChange","slidePageChanged"]),this.scroll.proxy(aG)},r.prototype.handleOptions=function(){var e=this.scroll.options.slide===!0?{}:this.scroll.options.slide,t={loop:!0,threshold:.1,speed:400,easing:Gy.bounce,listenFlick:!0,autoplay:!0,interval:3e3,startPageXIndex:0,startPageYIndex:0};this.options=Oh(t,e)},r.prototype.handleLoop=function(e){var t=this.options.loop,n=this.scroll.scroller.content,i=n.children.length;t&&(n!==e?(this.resetLoopChangedStatus(),this.removeClonedSlidePage(e),i>1&&this.cloneFirstAndLastSlidePage(n)):i===3&&this.initialised?(this.removeClonedSlidePage(n),this.moreToOnePageInLoop=!0,this.oneToMorePagesInLoop=!1):i>1?(this.initialised&&this.cachedClonedPageDOM.length===0?(this.oneToMorePagesInLoop=!0,this.moreToOnePageInLoop=!1):(this.removeClonedSlidePage(n),this.resetLoopChangedStatus()),this.cloneFirstAndLastSlidePage(n)):this.resetLoopChangedStatus())},r.prototype.resetLoopChangedStatus=function(){this.moreToOnePageInLoop=!1,this.oneToMorePagesInLoop=!1},r.prototype.handleHooks=function(){var e=this,t=this.scroll.hooks,n=this.scroll.scroller.hooks,i=this.options.listenFlick;this.prevContent=this.scroll.scroller.content,this.hooksFn=[],this.registerHooks(this.scroll,this.scroll.eventTypes.beforeScrollStart,this.pausePlay),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.modifyCurrentPage),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.startPlay),this.scroll.eventTypes.mousewheelMove&&(this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelMove,function(){return!0}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(s){(s.directionX===1||s.directionY===1)&&e.next(),(s.directionX===-1||s.directionY===-1)&&e.prev()})),this.registerHooks(t,t.eventTypes.refresh,this.refreshHandler),this.registerHooks(t,t.eventTypes.destroy,this.destroy),this.registerHooks(n,n.eventTypes.beforeRefresh,function(){e.handleLoop(e.prevContent),e.setSlideInlineStyle()}),this.registerHooks(n,n.eventTypes.momentum,this.modifyScrollMetaHandler),this.registerHooks(n,n.eventTypes.scroll,this.scrollHandler),this.registerHooks(n,n.eventTypes.checkClick,this.startPlay),i&&this.registerHooks(n,n.eventTypes.flick,this.flickHandler)},r.prototype.startPlay=function(){var e=this,t=this.options,n=t.interval,i=t.autoplay;i&&(clearTimeout(this.autoplayTimer),this.autoplayTimer=window.setTimeout(function(){e.next()},n))},r.prototype.pausePlay=function(){this.options.autoplay&&clearTimeout(this.autoplayTimer)},r.prototype.setSlideInlineStyle=function(){var e=[{direction:"scrollX",sizeType:"offsetWidth",styleType:"width"},{direction:"scrollY",sizeType:"offsetHeight",styleType:"height"}],t=this.scroll.scroller,n=t.content,i=t.wrapper,s=this.scroll.options;e.forEach(function(o){var a=o.direction,u=o.sizeType,l=o.styleType;if(s[a]){for(var h=i[u],c=n.children,d=c.length,p=0;p<d;p++){var g=c[p];g.style[l]=h+"px"}n.style[l]=h*d+"px"}})},r.prototype.next=function(e,t){var n=this.pages.nextPageIndex(),i=n.pageX,s=n.pageY;this.goTo(i,s,e,t)},r.prototype.prev=function(e,t){var n=this.pages.prevPageIndex(),i=n.pageX,s=n.pageY;this.goTo(i,s,e,t)},r.prototype.goToPage=function(e,t,n,i){var s=this.pages.getValidPageIndex(e,t);this.goTo(s.pageX,s.pageY,n,i)},r.prototype.getCurrentPage=function(){return this.exposedPage||this.pages.getInitialPage(!1,!0)},r.prototype.setCurrentPage=function(e){this.pages.setCurrentPage(e),this.exposedPage=this.pages.getExposedPage(e)},r.prototype.nearestPage=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o=i.maxScrollPos,a=i.minScrollPos,u=s.maxScrollPos,l=s.minScrollPos;return this.pages.getNearestPage(Su(e,o,a),Su(t,u,l))},r.prototype.satisfyThreshold=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o=!0;return Math.abs(e-i.absStartPos)<=this.thresholdX&&Math.abs(t-s.absStartPos)<=this.thresholdY&&(o=!1),o},r.prototype.refreshHandler=function(e){var t=this;if(this.satisfyInitialization()){this.pages.refresh(),this.computeThreshold();var n=this.contentChanged=this.prevContent!==e;n&&(this.prevContent=e);var i=this.pages.getInitialPage(this.oneToMorePagesInLoop||this.moreToOnePageInLoop,n||!this.initialised);this.initialised?this.goTo(i.pageX,i.pageY,0):this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(s){t.initialised=!0,s.x=i.x,s.y=i.y}),this.startPlay()}},r.prototype.computeThreshold=function(){var e=this.options.threshold;if(e%1===0)this.thresholdX=e,this.thresholdY=e;else{var t=this.pages.getPageStats(),n=t.width,i=t.height;this.thresholdX=Math.round(n*e),this.thresholdY=Math.round(i*e)}},r.prototype.cloneFirstAndLastSlidePage=function(e){var t=e.children,n=t[t.length-1].cloneNode(!0),i=t[0].cloneNode(!0);JY(n,e),e.appendChild(i),this.cachedClonedPageDOM=[n,i]},r.prototype.removeClonedSlidePage=function(e){var t=e&&e.children||[];t.length&&this.cachedClonedPageDOM.forEach(function(n){tG(e,n)}),this.cachedClonedPageDOM=[]},r.prototype.modifyCurrentPage=function(e){var t=this.getCurrentPage(),n=t.pageX,i=t.pageY,s=this.nearestPage(e.x,e.y);if(this.setCurrentPage(s),this.contentChanged)return this.contentChanged=!1,!0;var o=this.getCurrentPage(),a=o.pageX,u=o.pageY;if(this.pageWillChangeTo(s),this.oneToMorePagesInLoop)return this.oneToMorePagesInLoop=!1,!0;if(this.moreToOnePageInLoop&&n===0&&i===0)return this.moreToOnePageInLoop=!1,!0;if(n!==a||i!==u){var l=this.pages.getExposedPageByPageIndex(a,u);this.scroll.trigger(this.scroll.eventTypes.slidePageChanged,l)}if(this.resetLooping){this.resetLooping=!1;return}var h=this.pages.resetLoopPage();if(h)return this.resetLooping=!0,this.goTo(h.pageX,h.pageY,0),!0},r.prototype.goTo=function(e,t,n,i){var s=this.pages.getInternalPage(e,t),o=i||this.options.easing||Gy.bounce,a=s.x,u=s.y,l=a-this.scroll.scroller.scrollBehaviorX.currentPos,h=u-this.scroll.scroller.scrollBehaviorY.currentPos;if(!l&&!h){this.scroll.scroller.togglePointerEvents(!0);return}n=n===void 0?this.getEaseTime(l,h):n,this.scroll.scroller.scrollTo(a,u,n,o)},r.prototype.flickHandler=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY,i=t.currentPos,s=t.startPos,o=t.direction,a=n.currentPos,u=n.startPos,l=n.direction,h=this.pages.currentPage,c=h.pageX,d=h.pageY,p=this.getEaseTime(i-s,a-u);this.goTo(c+o,d+l,p)},r.prototype.getEaseTime=function(e,t){return this.options.speed||Math.max(Math.max(Math.min(Math.abs(e),1e3),Math.min(Math.abs(t),1e3)),300)},r.prototype.modifyScrollMetaHandler=function(e){var t=this.scroll.scroller,n=t.scrollBehaviorX,i=t.scrollBehaviorY,s=t.animater,o=e.newX,a=e.newY,u=this.satisfyThreshold(o,a)||s.forceStopped?this.pages.getPageByDirection(this.nearestPage(o,a),n.direction,i.direction):this.pages.currentPage;e.time=this.getEaseTime(e.newX-u.x,e.newY-u.y),e.newX=u.x,e.newY=u.y,e.easing=this.options.easing||Gy.bounce},r.prototype.scrollHandler=function(e){var t=e.x,n=e.y;if(this.satisfyThreshold(t,n)){var i=this.nearestPage(t,n);this.pageWillChangeTo(i)}},r.prototype.pageWillChangeTo=function(e){var t=this.pages.getWillChangedPage(e);lG(this.willChangeToPage,t)||(this.willChangeToPage=t,this.scroll.trigger(this.scroll.eventTypes.slideWillChange,this.willChangeToPage))},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.destroy=function(){var e=this.scroll.scroller.content,t=this.options,n=t.loop,i=t.autoplay;n&&this.removeClonedSlidePage(e),i&&clearTimeout(this.autoplayTimer),this.hooksFn.forEach(function(s){var o=s[0],a=s[1],u=s[2];o.eventTypes[a]&&o.off(a,u)}),this.hooksFn.length=0},r.pluginName="slide",r}();/*!
 * better-scroll / better-scroll
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __=function(r,e){return __=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},__(r,e)};function i0(r,e){__(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vi=function(){return Vi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Vi.apply(this,arguments)};function Wy(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(c){o(c)}}function u(h){try{l(n.throw(h))}catch(c){o(c)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((n=n.apply(r,e||[])).next())})}function Vy(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return u([l,h])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function rg(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}var cG=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function Hi(r){console.error("[BScroll warn]: "+r)}function GC(r,e){if(!r)throw new Error("[BScroll] "+e)}var js=typeof window<"u",fc=js&&navigator.userAgent.toLowerCase(),hG=!!(fc&&/wechatdevtools/.test(fc)),dG=fc&&fc.indexOf("android")>0,fG=function(){if(typeof fc=="string"){var r=/os (\d\d?_\d(_\d)?)/,e=r.exec(fc);if(!e)return!1;var t=e[1].split("_").map(function(n){return parseInt(n,10)});return t[0]===13&&t[1]>=4}return!1}(),cO=!1;if(js){var pG="test-passive";try{var WC={};Object.defineProperty(WC,"passive",{get:function(){cO=!0}}),window.addEventListener(pG,function(){},WC)}catch{}}function jn(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var Wr=function(r,e){for(var t in e)r[t]=e[t];return r};function w_(r){return r==null}function mG(r,e){return Math.sqrt(r*r+e*e)}function nr(r,e,t){return r<e?e:r>t?t:r}function Tu(r,e){if(r.findIndex)return r.findIndex(e);var t=-1;return r.some(function(n,i,s){var o=e(n,i,s);if(o)return t=i,o}),t}var Tb=js&&document.createElement("div").style,Wu=function(){if(!js)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,t=r;e<t.length;e++){var n=t[e];if(Tb[n.value]!==void 0)return n.key}return!1}();function ro(r){return Wu===!1?r:Wu==="standard"?r==="transitionEnd"?"transitionend":r:Wu+r.charAt(0).toUpperCase()+r.substr(1)}function hO(r){return typeof r=="string"?document.querySelector(r):r}function gG(r,e,t,n){var i=cO?{passive:!1,capture:!!n}:!!n;r.addEventListener(e,t,i)}function vG(r,e,t,n){r.removeEventListener(e,t,{capture:!!n})}function ll(r){r.cancelable&&r.preventDefault()}function VC(r){for(var e=0,t=0;r;)e-=r.offsetLeft,t-=r.offsetTop,r=r.offsetParent;return{left:e,top:t}}function yG(r){var e=r.getBoundingClientRect();return{left:-(e.left+window.pageXOffset),top:-(e.top+window.pageYOffset)}}var xG=Wu&&Wu!=="standard"?"-"+Wu.toLowerCase()+"-":"",_G=ro("transform"),dO=ro("transition"),wG=js&&ro("perspective")in Tb,qC=js&&("ontouchstart"in window||hG),bG=js&&dO in Tb,Xt={transform:_G,transition:dO,transitionTimingFunction:ro("transitionTimingFunction"),transitionDuration:ro("transitionDuration"),transitionDelay:ro("transitionDelay"),transformOrigin:ro("transformOrigin"),transitionEnd:ro("transitionEnd"),transitionProperty:ro("transitionProperty")},qy={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function yl(r){if(r instanceof window.SVGElement){var e=r.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}else return{top:r.offsetTop,left:r.offsetLeft,width:r.offsetWidth,height:r.offsetHeight}}function pc(r,e){for(var t in e)if(e[t].test(r[t]))return!0;return!1}var SG=pc;function TG(r,e){var t=document.createEvent("Event");t.initEvent(e,!0,!0),t.pageX=r.pageX,t.pageY=r.pageY,r.target.dispatchEvent(t)}function fO(r,e){e===void 0&&(e="click");var t;r.type==="mouseup"?t=r:(r.type==="touchend"||r.type==="touchcancel")&&(t=r.changedTouches[0]);var n={};t&&(n.screenX=t.screenX||0,n.screenY=t.screenY||0,n.clientX=t.clientX||0,n.clientY=t.clientY||0);var i,s=!0,o=!0,a=r.ctrlKey,u=r.shiftKey,l=r.altKey,h=r.metaKey,c={ctrlKey:a,shiftKey:u,altKey:l,metaKey:h};if(typeof MouseEvent<"u")try{i=new MouseEvent(e,Wr(Vi({bubbles:s,cancelable:o},c),n))}catch{d()}else d();function d(){i=document.createEvent("Event"),i.initEvent(e,s,o),Wr(i,n)}i.forwardedTouchEvent=!0,i._constructed=!0,r.target.dispatchEvent(i)}function EG(r){fO(r,"dblclick")}function CG(r,e){var t=e.firstChild;t?AG(r,t):e.appendChild(r)}function AG(r,e){var t=e.parentNode;t.insertBefore(r,e)}function PG(r,e){r.removeChild(e)}function gp(r,e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return t.test(r.className)}function kG(r){return Array.prototype.slice.call(r,0)}function IG(r){return{width:r.clientWidth,height:r.clientHeight}}var Ir={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(r){return 1+--r*r*r*r*r}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(r){return r*(2-r)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(r){return 1- --r*r*r*r}}},MG=1e3/60,oa=js&&window;function pO(){}var Eb=function(){return js?oa.requestAnimationFrame||oa.webkitRequestAnimationFrame||oa.mozRequestAnimationFrame||oa.oRequestAnimationFrame||function(r){return window.setTimeout(r,r.interval||MG)}:pO}(),ba=function(){return js?oa.cancelAnimationFrame||oa.webkitCancelAnimationFrame||oa.mozCancelAnimationFrame||oa.oCancelAnimationFrame||function(r){window.clearTimeout(r)}:pO}(),KC=function(r){},Ky={enumerable:!0,configurable:!0,get:KC,set:KC},RG=function(r,e){for(var t=e.split("."),n=0;n<t.length-1;n++)if(r=r[t[n]],typeof r!="object"||!r)return;var i=t.pop();return typeof r[i]=="function"?function(){return r[i].apply(r,arguments)}:r[i]},OG=function(r,e,t){for(var n=e.split("."),i,s=0;s<n.length-1;s++)i=n[s],r[i]||(r[i]={}),r=r[i];r[n.pop()]=t};function NG(r,e,t){Ky.get=function(){return RG(this,e)},Ky.set=function(i){OG(this,e,i)},Object.defineProperty(r,t,Ky)}var So=function(){function r(e){this.events={},this.eventTypes={},this.registerType(e)}return r.prototype.on=function(e,t,n){return n===void 0&&(n=this),this.hasType(e),this.events[e]||(this.events[e]=[]),this.events[e].push([t,n]),this},r.prototype.once=function(e,t,n){var i=this;n===void 0&&(n=this),this.hasType(e);var s=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];i.off(e,s);var u=t.apply(n,o);if(u===!0)return u};return s.fn=t,this.on(e,s),this},r.prototype.off=function(e,t){if(!e&&!t)return this.events={},this;if(e){if(this.hasType(e),!t)return this.events[e]=[],this;var n=this.events[e];if(!n)return this;for(var i=n.length;i--;)(n[i][0]===t||n[i][0]&&n[i][0].fn===t)&&n.splice(i,1);return this}},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hasType(e);var i=this.events[e];if(i)for(var s=i.length,o=rg(i),a,u=0;u<s;u++){var l=o[u],h=l[0],c=l[1];if(h&&(a=h.apply(c,t),a===!0))return a}},r.prototype.registerType=function(e){var t=this;e.forEach(function(n){t.eventTypes[n]=n})},r.prototype.destroy=function(){this.events={},this.eventTypes={}},r.prototype.hasType=function(e){var t=this.eventTypes,n=t[e]===e;n||Hi('EventEmitter has used unknown event type: "'+e+'", should be oneof ['+(""+Object.keys(t).map(function(i){return JSON.stringify(i)}))+"]")},r}(),Sn=function(){function r(e,t){this.wrapper=e,this.events=t,this.addDOMEvents()}return r.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},r.prototype.addDOMEvents=function(){this.handleDOMEvents(gG)},r.prototype.removeDOMEvents=function(){this.handleDOMEvents(vG)},r.prototype.handleDOMEvents=function(e){var t=this,n=this.wrapper;this.events.forEach(function(i){e(n,i.name,t,!!i.capture)})},r.prototype.handleEvent=function(e){var t=e.type;this.events.some(function(n){return n.name===t?(n.handler(e),!0):!1})},r}(),BG=function(){function r(){}return r}(),FG=function(r){i0(e,r);function e(){var t=r.call(this)||this;return t.startX=0,t.startY=0,t.scrollX=!1,t.scrollY=!0,t.freeScroll=!1,t.directionLockThreshold=0,t.eventPassthrough="",t.click=!1,t.dblclick=!1,t.tap="",t.bounce={top:!0,bottom:!0,left:!0,right:!0},t.bounceTime=800,t.momentum=!0,t.momentumLimitTime=300,t.momentumLimitDistance=15,t.swipeTime=2500,t.swipeBounceTime=500,t.deceleration=.0015,t.flickLimitTime=200,t.flickLimitDistance=100,t.resizePolling=60,t.probeType=0,t.stopPropagation=!1,t.preventDefault=!0,t.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},t.tagException={tagName:/^TEXTAREA$/},t.HWCompositing=!0,t.useTransition=!0,t.bindToWrapper=!1,t.bindToTarget=!1,t.disableMouse=qC,t.disableTouch=!qC,t.autoBlur=!0,t.autoEndDistance=5,t.outOfBoundaryDampingFactor=1/3,t.specifiedIndexAsContent=0,t.quadrant=1,t}return e.prototype.merge=function(t){if(!t)return this;for(var n in t){if(n==="bounce"){this.bounce=this.resolveBounce(t[n]);continue}this[n]=t[n]}return this},e.prototype.process=function(){return this.translateZ=this.HWCompositing&&wG?" translateZ(1px)":"",this.useTransition=this.useTransition&&bG,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough==="horizontal"?!1:this.scrollX,this.scrollY=this.eventPassthrough==="vertical"?!1:this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=this.freeScroll?!0:this.scrollX,this.scrollY=this.freeScroll?!0:this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},e.prototype.resolveBounce=function(t){var n={top:!0,right:!0,bottom:!0,left:!0},i={top:!1,right:!1,bottom:!1,left:!1},s;return typeof t=="object"?s=Wr(n,t):s=t?n:i,s},e}(BG),LG=function(){function r(e,t){this.wrapper=e,this.options=t,this.hooks=new So(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return r.prototype.handleDOMEvents=function(){var e=this.options,t=e.bindToWrapper,n=e.disableMouse,i=e.disableTouch,s=e.click,o=this.wrapper,a=t?o:window,u=[],l=[],h=!i,c=!n;s&&u.push({name:"click",handler:this.click.bind(this),capture:!0}),h&&(u.push({name:"touchstart",handler:this.start.bind(this)}),l.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),c&&(u.push({name:"mousedown",handler:this.start.bind(this)}),l.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new Sn(o,u),this.targetEventRegister=new Sn(a,l)},r.prototype.beforeHandler=function(e,t){var n=this.options,i=n.preventDefault,s=n.stopPropagation,o=n.preventDefaultException,a={start:function(){return i&&!pc(e.target,o)},end:function(){return i&&!pc(e.target,o)},move:function(){return i}};a[t]()&&e.preventDefault(),s&&e.stopPropagation()},r.prototype.setInitiated=function(e){e===void 0&&(e=0),this.initiated=e},r.prototype.start=function(e){var t=qy[e.type];if(!(this.initiated&&this.initiated!==t)){if(this.setInitiated(t),SG(e.target,this.options.tagException)){this.setInitiated();return}if(!(t===2&&e.button!==0)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,e)){this.beforeHandler(e,"start");var n=e.touches?e.touches[0]:e;this.pointX=n.pageX,this.pointY=n.pageY,this.hooks.trigger(this.hooks.eventTypes.start,e)}}},r.prototype.move=function(e){if(qy[e.type]===this.initiated){this.beforeHandler(e,"move");var t=e.touches?e.touches[0]:e,n=t.pageX-this.pointX,i=t.pageY-this.pointY;if(this.pointX=t.pageX,this.pointY=t.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:n,deltaY:i,e})){var s=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,o=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,a=this.pointX-s,u=this.pointY-o,l=this.options.autoEndDistance;(a>document.documentElement.clientWidth-l||u>document.documentElement.clientHeight-l||a<l||u<l)&&this.end(e)}}},r.prototype.end=function(e){qy[e.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(e,"end"),this.hooks.trigger(this.hooks.eventTypes.end,e))},r.prototype.click=function(e){this.hooks.trigger(this.hooks.eventTypes.click,e)},r.prototype.setContent=function(e){e!==this.wrapper&&(this.wrapper=e,this.rebindDOMEvents())},r.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},r.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},r}(),Qy={x:["translateX","px"],y:["translateY","px"]},DG=function(){function r(e){this.setContent(e),this.hooks=new So(["beforeTranslate","translate"])}return r.prototype.getComputedPosition=function(){var e=window.getComputedStyle(this.content,null),t=e[Xt.transform].split(")")[0].split(", "),n=+(t[12]||t[4])||0,i=+(t[13]||t[5])||0;return{x:n,y:i}},r.prototype.translate=function(e){var t=[];Object.keys(e).forEach(function(n){if(Qy[n]){var i=Qy[n][0];if(i){var s=Qy[n][1],o=e[n];t.push(i+"("+o+s+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,t,e),this.style[Xt.transform]=t.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,e)},r.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),mO=function(){function r(e,t,n){this.translater=t,this.options=n,this.timer=0,this.hooks=new So(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(e)}return r.prototype.translate=function(e){this.translater.translate(e)},r.prototype.setPending=function(e){this.pending=e},r.prototype.setForceStopped=function(e){this.forceStopped=e},r.prototype.setCallStop=function(e){this.callStopWhenPending=e},r.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style,this.stop())},r.prototype.clearTimer=function(){this.timer&&(ba(this.timer),this.timer=0)},r.prototype.destroy=function(){this.hooks.destroy(),ba(this.timer)},r}(),UG=function(r,e,t,n){var i=function(l,h){var c=l-h,d=c>0?-1:c<0?1:0;return d},s=i(e.x,r.x),o=i(e.y,r.y),a=t.x-n.x,u=t.y-n.y;return s*a<=0&&o*u<=0},jG=function(r){i0(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.startProbe=function(t,n){var i=this,s=t,o=function(){var a=i.translater.getComputedPosition();UG(t,n,a,s)&&i.hooks.trigger(i.hooks.eventTypes.move,a),i.pending||(i.callStopWhenPending?i.callStopWhenPending=!1:i.hooks.trigger(i.hooks.eventTypes.end,a)),s=a,i.pending&&(i.timer=Eb(o))};this.callStopWhenPending&&this.setCallStop(!1),ba(this.timer),o()},e.prototype.transitionTime=function(t){t===void 0&&(t=0),this.style[Xt.transitionDuration]=t+"ms",this.hooks.trigger(this.hooks.eventTypes.time,t)},e.prototype.transitionTimingFunction=function(t){this.style[Xt.transitionTimingFunction]=t,this.hooks.trigger(this.hooks.eventTypes.timeFunction,t)},e.prototype.transitionProperty=function(){this.style[Xt.transitionProperty]=Xt.transform},e.prototype.move=function(t,n,i,s){this.setPending(i>0),this.transitionTimingFunction(s),this.transitionProperty(),this.transitionTime(i),this.translate(n);var o=this.options.probeType===3;i&&o&&this.startProbe(t,n),i||(this._reflow=this.content.offsetHeight,o&&this.hooks.trigger(this.hooks.eventTypes.move,n),this.hooks.trigger(this.hooks.eventTypes.end,n))},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),ba(this.timer);var n=this.translater.getComputedPosition(),i=n.x,s=n.y;this.transitionTime(),this.translate({x:i,y:s}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:i,y:s})}return t},e.prototype.stop=function(){var t=this.doStop();t&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(mO),XG=function(r){i0(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.move=function(t,n,i,s){if(!i){this.translate(n),this.options.probeType===3&&this.hooks.trigger(this.hooks.eventTypes.move,n),this.hooks.trigger(this.hooks.eventTypes.end,n);return}this.animate(t,n,i,s)},e.prototype.animate=function(t,n,i,s){var o=this,a=jn(),u=a+i,l=this.options.probeType===3,h=function(){var c=jn();if(c>=u){o.translate(n),l&&o.hooks.trigger(o.hooks.eventTypes.move,n),o.hooks.trigger(o.hooks.eventTypes.end,n);return}c=(c-a)/i;var d=s(c),p={};Object.keys(n).forEach(function(g){var v=t[g],x=n[g];p[g]=(x-v)*d+v}),o.translate(p),l&&o.hooks.trigger(o.hooks.eventTypes.move,p),o.pending&&(o.timer=Eb(h)),o.pending||(o.callStopWhenPending?o.callStopWhenPending=!1:o.hooks.trigger(o.hooks.eventTypes.end,n))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),ba(this.timer),h()},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),ba(this.timer);var n=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,n)}return t},e.prototype.stop=function(){var t=this.doStop();t&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(mO);function $G(r,e,t){var n=t.useTransition,i={};return Object.defineProperty(i,"probeType",{enumerable:!0,configurable:!1,get:function(){return t.probeType}}),n?new jG(r,e,i):new XG(r,e,i)}var QC=function(){function r(e,t,n){this.wrapper=e,this.options=n,this.hooks=new So(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(t)}return r.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},r.prototype.move=function(e){return e=this.hasScroll?e:0,this.setMovingDirection(e),this.performDampingAlgorithm(e,this.options.outOfBoundaryDampingFactor)},r.prototype.setMovingDirection=function(e){this.movingDirection=e>0?-1:e<0?1:0},r.prototype.setDirection=function(e){this.direction=e>0?-1:e<0?1:0},r.prototype.performDampingAlgorithm=function(e,t){var n=this.currentPos+e;return(n>this.minScrollPos||n<this.maxScrollPos)&&(n>this.minScrollPos&&this.options.bounces[0]||n<this.maxScrollPos&&this.options.bounces[1]?n=this.currentPos+e*t:n=n>this.minScrollPos?this.minScrollPos:this.maxScrollPos),n},r.prototype.end=function(e){var t={duration:0},n=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&e<this.options.momentumLimitTime&&n>this.options.momentumLimitDistance){var i=this.direction===-1&&this.options.bounces[0]||this.direction===1&&this.options.bounces[1]?this.wrapperSize:0;t=this.hasScroll?this.momentum(this.currentPos,this.startPos,e,this.maxScrollPos,this.minScrollPos,i,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,t);return t},r.prototype.momentum=function(e,t,n,i,s,o,a){a===void 0&&(a=this.options);var u=e-t,l=Math.abs(u)/n,h=a.deceleration,c=a.swipeBounceTime,d=a.swipeTime,p=Math.min(d,l*2/h),g={destination:e+l*l/h*(u<0?-1:1),duration:p,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,g,u),g.destination<i?(g.destination=o?Math.max(i-o/4,i-o/g.rate*l):i,g.duration=c):g.destination>s&&(g.destination=o?Math.min(s+o/4,s+o/g.rate*l):s,g.duration=c),g.destination=Math.round(g.destination),g},r.prototype.updateDirection=function(){var e=this.currentPos-this.absStartPos;this.setDirection(e)},r.prototype.refresh=function(e){var t=this.options.rect,n=t.size,i=t.position,s=window.getComputedStyle(this.wrapper,null).position==="static",o=yl(this.wrapper);this.wrapperSize=this.wrapper[n==="width"?"clientWidth":"clientHeight"],this.setContent(e);var a=yl(this.content);this.contentSize=a[n],this.relativeOffset=a[i],s&&(this.relativeOffset-=o[i]),this.computeBoundary(),this.setDirection(0)},r.prototype.setContent=function(e){e!==this.content&&(this.content=e,this.resetState())},r.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},r.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var e={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};e.maxScrollPos<0&&(e.maxScrollPos-=this.relativeOffset,this.options.specifiedIndexAsContent===0&&(e.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,e),this.minScrollPos=e.minScrollPos,this.maxScrollPos=e.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},r.prototype.updatePosition=function(e){this.currentPos=e},r.prototype.getCurrentPos=function(){return this.currentPos},r.prototype.checkInBoundary=function(){var e=this.adjustPosition(this.currentPos),t=e===this.getCurrentPos();return{position:e,inBoundary:t}},r.prototype.adjustPosition=function(e){return!this.hasScroll&&!this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?e=this.minScrollPos:e>this.minScrollPos?e=this.minScrollPos:e<this.maxScrollPos&&(e=this.maxScrollPos),e},r.prototype.updateStartPos=function(){this.startPos=this.currentPos},r.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},r.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},r.prototype.getAbsDist=function(e){return this.dist+=e,Math.abs(this.dist)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),vp,yp,xp,_p,ZC=(vp={},vp.yes=function(r){return!0},vp.no=function(r){return ll(r),!1},vp),HG=(yp={},yp.horizontal=(xp={},xp.yes="horizontal",xp.no="vertical",xp),yp.vertical=(_p={},_p.yes="vertical",_p.no="horizontal",_p),yp),zG=function(){function r(e,t,n){this.directionLockThreshold=e,this.freeScroll=t,this.eventPassthrough=n,this.reset()}return r.prototype.reset=function(){this.directionLocked=""},r.prototype.checkMovingDirection=function(e,t,n){return this.computeDirectionLock(e,t),this.handleEventPassthrough(n)},r.prototype.adjustDelta=function(e,t){return this.directionLocked==="horizontal"?t=0:this.directionLocked==="vertical"&&(e=0),{deltaX:e,deltaY:t}},r.prototype.computeDirectionLock=function(e,t){this.directionLocked===""&&!this.freeScroll&&(e>t+this.directionLockThreshold?this.directionLocked="horizontal":t>=e+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},r.prototype.handleEventPassthrough=function(e){var t=HG[this.directionLocked];if(t){if(this.eventPassthrough===t.yes)return ZC.yes(e);if(this.eventPassthrough===t.no)return ZC.no(e)}return!1},r}(),YG=function(r,e,t){return t===2?[e,-r]:t===3?[-r,-e]:t===4?[-e,r]:[r,e]},GG=function(){function r(e,t,n,i,s){this.hooks=new So(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=e,this.scrollBehaviorY=t,this.actionsHandler=n,this.animater=i,this.options=s,this.directionLockAction=new zG(s.directionLockThreshold,s.freeScroll,s.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return r.prototype.bindActionsHandler=function(){var e=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(t){return e.enabled?e.handleStart(t):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(t){var n=t.deltaX,i=t.deltaY,s=t.e;if(!e.enabled)return!0;var o=YG(n,i,e.options.quadrant),a=o[0],u=o[1],l={deltaX:a,deltaY:u};return e.hooks.trigger(e.hooks.eventTypes.coordinateTransformation,l),e.handleMove(l.deltaX,l.deltaY,s)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(t){return e.enabled?e.handleEnd(t):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(t){e.enabled&&!t._constructed&&e.handleClick(t)})},r.prototype.handleStart=function(e){var t=jn();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=t,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,e)},r.prototype.handleMove=function(e,t,n){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,n)){var i=this.scrollBehaviorX.getAbsDist(e),s=this.scrollBehaviorY.getAbsDist(t),o=jn();if(this.checkMomentum(i,s,o))return!0;if(this.directionLockAction.checkMovingDirection(i,s,n))return this.actionsHandler.setInitiated(),!0;var a=this.directionLockAction.adjustDelta(e,t),u=this.scrollBehaviorX.getCurrentPos(),l=this.scrollBehaviorX.move(a.deltaX),h=this.scrollBehaviorY.getCurrentPos(),c=this.scrollBehaviorY.move(a.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var d=l!==u||c!==h;!this.contentMoved&&!d&&this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&d&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&d&&(this.animater.translate({x:l,y:c}),this.dispatchScroll(o))}}},r.prototype.dispatchScroll=function(e){e-this.startTime>this.options.momentumLimitTime&&(this.startTime=e,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},r.prototype.checkMomentum=function(e,t,n){return n-this.endTime>this.options.momentumLimitTime&&t<this.options.momentumLimitDistance&&e<this.options.momentumLimitDistance},r.prototype.handleEnd=function(e){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,e)){var t=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,e,t))return!0;t=this.ensureIntegerPos(t),this.animater.translate(t),this.endTime=jn();var n=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,t,n)}},r.prototype.ensureIntegerPos=function(e){this.ensuringInteger=!0;var t=e.x,n=e.y,i=this.scrollBehaviorX,s=i.minScrollPos,o=i.maxScrollPos,a=this.scrollBehaviorY,u=a.minScrollPos,l=a.maxScrollPos;return t=t>0?Math.ceil(t):Math.floor(t),n=n>0?Math.ceil(n):Math.floor(n),t=nr(t,o,s),n=nr(n,l,u),{x:t,y:n}},r.prototype.handleClick=function(e){pc(e.target,this.options.preventDefaultException)||(ll(e),e.stopPropagation())},r.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},r.prototype.refresh=function(){this.endTime=0},r.prototype.destroy=function(){this.hooks.destroy()},r}();function WG(r){var e=["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce(function(t,n){return t[n]=r[n],t},{});return e}function JC(r,e,t,n){var i=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce(function(s,o){return s[o]=r[o],s},{});return i.scrollable=!!r[e],i.bounces=t,i.rect=n,i}function b_(r,e,t){t.forEach(function(n){var i,s;typeof n=="string"?i=s=n:(i=n.source,s=n.target),r.on(i,function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return e.trigger.apply(e,rg([s],o))})})}function VG(r,e){for(var t=Object.keys(r),n=0,i=t;n<i.length;n++){var s=i[n];if(r[s]!==e[s])return!1}return!0}var eA=1,qG=function(){function r(e,t,n){this.wrapper=e,this.content=t,this.resizeTimeout=0,this.hooks=new So(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=n;var i=this.options.bounce,s=i.left,o=i.right,a=i.top,u=i.bottom;this.scrollBehaviorX=new QC(e,t,JC(n,"scrollX",[s,o],{size:"width",position:"left"})),this.scrollBehaviorY=new QC(e,t,JC(n,"scrollY",[a,u],{size:"height",position:"top"})),this.translater=new DG(this.content),this.animater=$G(this.content,this.translater,this.options),this.actionsHandler=new LG(this.options.bindToTarget?this.content:e,WG(this.options)),this.actions=new GG(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var l=this.resize.bind(this);this.resizeRegister=new Sn(window,[{name:"orientationchange",handler:l},{name:"resize",handler:l}]),this.registerTransitionEnd(),this.init()}return r.prototype.init=function(){var e=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){e.togglePointerEvents(!0)})},r.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new Sn(this.content,[{name:Xt.transitionEnd,handler:this.transitionEnd.bind(this)}])},r.prototype.bindTranslater=function(){var e=this,t=this.translater.hooks;t.on(t.eventTypes.beforeTranslate,function(n){e.options.translateZ&&n.push(e.options.translateZ)}),t.on(t.eventTypes.translate,function(n){var i=e.getCurrentPos();if(e.updatePositions(n),e.actions.ensuringInteger===!0){e.actions.ensuringInteger=!1;return}(n.x!==i.x||n.y!==i.y)&&e.togglePointerEvents(!1)})},r.prototype.bindAnimater=function(){var e=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(t){e.resetPosition(e.options.bounceTime)||(e.animater.setPending(!1),e.hooks.trigger(e.hooks.eventTypes.scrollEnd,t))}),b_(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},r.prototype.bindActions=function(){var e=this,t=this.actions;b_(t.hooks,this.hooks,[{source:t.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:t.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:t.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:t.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:t.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:t.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),t.hooks.on(t.hooks.eventTypes.end,function(n,i){if(e.hooks.trigger(e.hooks.eventTypes.touchEnd,i),e.hooks.trigger(e.hooks.eventTypes.end,i)||!t.fingerMoved&&(e.hooks.trigger(e.hooks.eventTypes.scrollCancel),e.checkClick(n)))return!0;if(e.resetPosition(e.options.bounceTime,Ir.bounce))return e.animater.setForceStopped(!1),!0}),t.hooks.on(t.hooks.eventTypes.scrollEnd,function(n,i){var s=Math.abs(n.x-e.scrollBehaviorX.startPos),o=Math.abs(n.y-e.scrollBehaviorY.startPos);if(e.checkFlick(i,s,o)){e.animater.setForceStopped(!1),e.hooks.trigger(e.hooks.eventTypes.flick);return}if(e.momentum(n,i)){e.animater.setForceStopped(!1);return}t.contentMoved&&e.hooks.trigger(e.hooks.eventTypes.scrollEnd,n),e.animater.forceStopped&&e.animater.setForceStopped(!1)})},r.prototype.checkFlick=function(e,t,n){var i=1;if(this.hooks.events.flick.length>1&&e<this.options.flickLimitTime&&t<this.options.flickLimitDistance&&n<this.options.flickLimitDistance&&(n>i||t>i))return!0},r.prototype.momentum=function(e,t){var n={time:0,easing:Ir.swiper,newX:e.x,newY:e.y},i=this.scrollBehaviorX.end(t),s=this.scrollBehaviorY.end(t);if(n.newX=w_(i.destination)?n.newX:i.destination,n.newY=w_(s.destination)?n.newY:s.destination,n.time=Math.max(i.duration,s.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,n,this),n.newX!==e.x||n.newY!==e.y)return(n.newX>this.scrollBehaviorX.minScrollPos||n.newX<this.scrollBehaviorX.maxScrollPos||n.newY>this.scrollBehaviorY.minScrollPos||n.newY<this.scrollBehaviorY.maxScrollPos)&&(n.easing=Ir.swipeBounce),this.scrollTo(n.newX,n.newY,n.time,n.easing),!0},r.prototype.checkClick=function(e){var t={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!t.preventClick){var n=this.options.dblclick,i=!1;if(n&&this.lastClickTime){var s=n.delay,o=s===void 0?300:s;jn()-this.lastClickTime<o&&(i=!0,EG(e))}return this.options.tap&&TG(e,this.options.tap),this.options.click&&!pc(e.target,this.options.preventDefaultException)&&fO(e),this.lastClickTime=i?null:jn(),!0}return!1},r.prototype.resize=function(){var e=this;this.actions.enabled&&(dG&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){e.hooks.trigger(e.hooks.eventTypes.resize)},this.options.resizePolling))},r.prototype.transitionEnd=function(e){if(!(e.target!==this.content||!this.animater.pending)){var t=this.animater;t.transitionTime(),this.resetPosition(this.options.bounceTime,Ir.bounce)||(this.animater.setPending(!1),this.options.probeType!==3&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos()))}},r.prototype.togglePointerEvents=function(e){e===void 0&&(e=!0);for(var t=this.content.children.length?this.content.children:[this.content],n=e?"auto":"none",i=0;i<t.length;i++){var s=t[i];s.isBScrollContainer||(s.style.pointerEvents=n)}},r.prototype.refresh=function(e){var t=this.setContent(e);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(e),this.scrollBehaviorY.refresh(e),t&&(this.translater.setContent(e),this.animater.setContent(e),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(e)),this.actions.refresh(),this.wrapperOffset=VC(this.wrapper)},r.prototype.setContent=function(e){var t=e!==this.content;return t&&(this.content=e),t},r.prototype.scrollBy=function(e,t,n,i){n===void 0&&(n=0);var s=this.getCurrentPos(),o=s.x,a=s.y;i=i||Ir.bounce,e+=o,t+=a,this.scrollTo(e,t,n,i)},r.prototype.scrollTo=function(e,t,n,i,s){n===void 0&&(n=0),i===void 0&&(i=Ir.bounce),s===void 0&&(s={start:{},end:{}});var o=this.options.useTransition?i.style:i.fn,a=this.getCurrentPos(),u=Vi({x:a.x,y:a.y},s.start),l=Vi({x:e,y:t},s.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,l),!VG(u,l)){var h=Math.abs(l.x-u.x),c=Math.abs(l.y-u.y);h<eA&&c<eA&&(n=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(u,l,n,o)}},r.prototype.scrollToElement=function(e,t,n,i,s){var o=hO(e),a=VC(o),u=function(h,c,d){return typeof h=="number"?h:h?Math.round(c/2-d/2):0};n=u(n,o.offsetWidth,this.wrapper.offsetWidth),i=u(i,o.offsetHeight,this.wrapper.offsetHeight);var l=function(h,c,d,p){return h-=c,h=p.adjustPosition(h-d),h};a.left=l(a.left,this.wrapperOffset.left,n,this.scrollBehaviorX),a.top=l(a.top,this.wrapperOffset.top,i,this.scrollBehaviorY),!this.hooks.trigger(this.hooks.eventTypes.scrollToElement,o,a)&&this.scrollTo(a.left,a.top,t,s)},r.prototype.resetPosition=function(e,t){e===void 0&&(e=0),t===void 0&&(t=Ir.bounce);var n=this.scrollBehaviorX.checkInBoundary(),i=n.position,s=n.inBoundary,o=this.scrollBehaviorY.checkInBoundary(),a=o.position,u=o.inBoundary;return s&&u?!1:(fG&&this.reflow(),this.scrollTo(i,a,e,t),!0)},r.prototype.reflow=function(){this._reflow=this.content.offsetHeight},r.prototype.updatePositions=function(e){this.scrollBehaviorX.updatePosition(e.x),this.scrollBehaviorY.updatePosition(e.y)},r.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},r.prototype.enable=function(){this.actions.enabled=!0},r.prototype.disable=function(){ba(this.animater.timer),this.actions.enabled=!1},r.prototype.destroy=function(){var e=this,t=["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"];t.forEach(function(n){return e[n].destroy()})},r}(),s0=function(r){i0(e,r);function e(t,n){var i=r.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,s=hO(t);return s?(i.plugins={},i.options=new FG().merge(n).process(),i.setContent(s).valid&&(i.hooks=new So(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),i.init(s)),i):(Hi("Can not resolve the wrapper DOM."),i)}return e.use=function(t){var n=t.pluginName,i=e.plugins.some(function(s){return t===s.ctor});return i?e:w_(n)?(Hi("Plugin Class must specify plugin's name in static property by 'pluginName' field."),e):(e.pluginsMap[n]=!0,e.plugins.push({name:n,applyOrder:t.applyOrder,ctor:t}),e)},e.prototype.setContent=function(t){var n=!1,i=!0,s=t.children[this.options.specifiedIndexAsContent];return s?(n=this.content!==s,n&&(this.content=s)):(Hi("The wrapper need at least one child element to be content element to scroll."),i=!1),{valid:i,contentChanged:n}},e.prototype.init=function(t){var n=this;this.wrapper=t,t.isBScrollContainer=!0,this.scroller=new qG(t,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,function(){n.refresh()}),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(cG),this.applyPlugins(),this.refreshWithoutReset(this.content);var i=this.options,s=i.startX,o=i.startY,a={x:s,y:o};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,a)||this.scroller.scrollTo(a.x,a.y)},e.prototype.applyPlugins=function(){var t=this,n=this.options;e.plugins.sort(function(i,s){var o,a=(o={},o.pre=-1,o.post=1,o),u=i.applyOrder?a[i.applyOrder]:0,l=s.applyOrder?a[s.applyOrder]:0;return u-l}).forEach(function(i){var s=i.ctor;n[i.name]&&typeof s=="function"&&(t.plugins[i.name]=new s(t))})},e.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,function(){var t=document.activeElement;t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA")&&t.blur()})},e.prototype.eventBubbling=function(){b_(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},e.prototype.refreshWithoutReset=function(t){this.scroller.refresh(t),this.hooks.trigger(this.hooks.eventTypes.refresh,t),this.trigger(this.eventTypes.refresh,t)},e.prototype.proxy=function(t){var n=this;t.forEach(function(i){var s=i.key,o=i.sourceKey;NG(n,o,s)})},e.prototype.refresh=function(){var t=this.setContent(this.wrapper),n=t.contentChanged,i=t.valid;if(i){var s=this.content;this.refreshWithoutReset(s),n&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,s),this.trigger(this.eventTypes.contentChanged,s)),this.scroller.resetPosition()}},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},e.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},e.prototype.eventRegister=function(t){this.registerType(t)},e.plugins=[],e.pluginsMap={},e}(So);function o0(r,e){var t=new s0(r,e);return t}o0.use=s0.use;o0.plugins=s0.plugins;o0.pluginsMap=s0.pluginsMap;var mc=o0,KG=function(){function r(e){this.scroll=e,this.wheelEndTimer=0,this.wheelMoveTimer=0,this.wheelStart=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.registerEvent()},r.prototype.handleBScroll=function(){this.scroll.registerType(["alterOptions","mousewheelStart","mousewheelMove","mousewheelEnd"])},r.prototype.handleOptions=function(){var e=this.scroll.options.mouseWheel===!0?{}:this.scroll.options.mouseWheel,t={speed:20,invert:!1,easeTime:300,discreteTime:400,throttleTime:0,dampingFactor:.1};this.mouseWheelOpt=Wr(t,e)},r.prototype.handleHooks=function(){this.hooksFn=[],this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},r.prototype.registerEvent=function(){this.eventRegister=new Sn(this.scroll.scroller.wrapper,[{name:"wheel",handler:this.wheelHandler.bind(this)},{name:"mousewheel",handler:this.wheelHandler.bind(this)},{name:"DOMMouseScroll",handler:this.wheelHandler.bind(this)}])},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.wheelHandler=function(e){if(this.scroll.enabled){this.beforeHandler(e),this.wheelStart||(this.wheelStartHandler(e),this.wheelStart=!0);var t=this.getWheelDelta(e);this.wheelMoveHandler(t),this.wheelEndDetector(t)}},r.prototype.wheelStartHandler=function(e){this.cleanCache();var t=this.scroll.scroller,n=t.scrollBehaviorX,i=t.scrollBehaviorY;n.setMovingDirection(0),i.setMovingDirection(0),n.setDirection(0),i.setDirection(0),this.scroll.trigger(this.scroll.eventTypes.alterOptions,this.mouseWheelOpt),this.scroll.trigger(this.scroll.eventTypes.mousewheelStart)},r.prototype.cleanCache=function(){this.deltaCache=[]},r.prototype.wheelMoveHandler=function(e){var t=this,n=this.mouseWheelOpt,i=n.throttleTime,s=n.dampingFactor;if(i&&this.wheelMoveTimer)this.deltaCache.push(e);else{var o=this.deltaCache.reduce(function(p,g){return{x:p.x+g.x,y:p.y+g.y}},{x:0,y:0});this.cleanCache();var a=this.scroll.scroller,u=a.scrollBehaviorX,l=a.scrollBehaviorY;u.setMovingDirection(-e.directionX),l.setMovingDirection(-e.directionY),u.setDirection(e.x),l.setDirection(e.y);var h=u.performDampingAlgorithm(Math.round(e.x)+o.x,s),c=l.performDampingAlgorithm(Math.round(e.y)+o.x,s);if(!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove,{x:h,y:c})){var d=this.getEaseTime();(h!==this.scroll.x||c!==this.scroll.y)&&this.scroll.scrollTo(h,c,d)}i&&(this.wheelMoveTimer=window.setTimeout(function(){t.wheelMoveTimer=0},i))}},r.prototype.wheelEndDetector=function(e){var t=this;window.clearTimeout(this.wheelEndTimer),this.wheelEndTimer=window.setTimeout(function(){t.wheelStart=!1,window.clearTimeout(t.wheelMoveTimer),t.wheelMoveTimer=0,t.scroll.trigger(t.scroll.eventTypes.mousewheelEnd,e)},this.mouseWheelOpt.discreteTime)},r.prototype.getWheelDelta=function(e){var t=this.mouseWheelOpt,n=t.speed,i=t.invert,s=0,o=0,a=i?-1:1;switch(!0){case"deltaX"in e:e.deltaMode===1?(s=-e.deltaX*n,o=-e.deltaY*n):(s=-e.deltaX,o=-e.deltaY);break;case"wheelDeltaX"in e:s=e.wheelDeltaX/120*n,o=e.wheelDeltaY/120*n;break;case"wheelDelta"in e:s=o=e.wheelDelta/120*n;break;case"detail"in e:s=o=-e.detail/3*n;break}s*=a,o*=a,this.scroll.hasVerticalScroll||(Math.abs(o)>Math.abs(s)&&(s=o),o=0),this.scroll.hasHorizontalScroll||(s=0);var u=s>0?-1:s<0?1:0,l=o>0?-1:o<0?1:0;return{x:s,y:o,directionX:u,directionY:l}},r.prototype.beforeHandler=function(e){var t=this.scroll.options,n=t.preventDefault,i=t.stopPropagation,s=t.preventDefaultException;n&&!pc(e.target,s)&&ll(e),i&&e.stopPropagation()},r.prototype.getEaseTime=function(){var e=100,t=this.mouseWheelOpt.easeTime;return t<e&&Hi("easeTime should be greater than 100.If mouseWheel easeTime is too small,scrollEnd will be triggered many times."),Math.max(t,e)},r.prototype.destroy=function(){this.eventRegister.destroy(),window.clearTimeout(this.wheelEndTimer),window.clearTimeout(this.wheelMoveTimer),this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)})},r.pluginName="mouseWheel",r.applyOrder="pre",r}(),QG=function(){function r(e){this.scroll=e,this.stopObserver=!1,this.init()}return r.prototype.init=function(){this.handleMutationObserver(),this.handleHooks()},r.prototype.handleMutationObserver=function(){var e=this;if(typeof MutationObserver<"u"){var t=0;this.observer=new MutationObserver(function(n){e.mutationObserverHandler(n,t)}),this.startObserve(this.observer)}else this.checkDOMUpdate()},r.prototype.handleHooks=function(){var e=this;this.hooksFn=[],this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.stopObserve(),e.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.enable,function(){e.stopObserver&&e.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.disable,function(){e.stopObserve()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){e.destroy()})},r.prototype.mutationObserverHandler=function(e,t){var n=this;if(!this.shouldNotRefresh()){for(var i=!1,s=!1,o=0;o<e.length;o++){var a=e[o];if(a.type!=="attributes"){i=!0;break}else if(a.target!==this.scroll.scroller.content){s=!0;break}}i?this.scroll.refresh():s&&(clearTimeout(t),t=window.setTimeout(function(){n.shouldNotRefresh()||n.scroll.refresh()},60))}},r.prototype.startObserve=function(e){var t={attributes:!0,childList:!0,subtree:!0};e.observe(this.scroll.scroller.content,t)},r.prototype.shouldNotRefresh=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY,i=t.currentPos>t.minScrollPos||t.currentPos<t.maxScrollPos||n.currentPos>n.minScrollPos||n.currentPos<n.maxScrollPos;return e.animater.pending||i},r.prototype.checkDOMUpdate=function(){var e=this,t=this.scroll.scroller.content,n=yl(t),i=n.width,s=n.height,o=function(){if(!e.stopObserver){n=yl(t);var u=n.width,l=n.height;(i!==u||s!==l)&&e.scroll.refresh(),i=u,s=l,a()}},a=function(){setTimeout(function(){o()},1e3)};a()},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.stopObserve=function(){this.stopObserver=!0,this.observer&&this.observer.disconnect()},r.prototype.destroy=function(){this.stopObserve(),this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)}),this.hooksFn.length=0},r.pluginName="observeDOM",r}(),ZG="plugins.pullDownRefresh",JG=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}],eW=JG.map(function(r){return{key:r.key,sourceKey:ZG+"."+r.name}}),Zy="pullingDown",tA="enterThreshold",rA="leaveThreshold",tW=function(){function r(e){this.scroll=e,this.pulling=0,this.thresholdBoundary=0,this.init()}return r.prototype.setPulling=function(e){this.pulling=e},r.prototype.setThresholdBoundary=function(e){this.thresholdBoundary=e},r.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},r.prototype.handleBScroll=function(){this.scroll.registerType([Zy,tA,rA]),this.scroll.proxy(eW)},r.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var t={threshold:90,stop:40};this.options=Wr(t,e),this.scroll.options.probeType=3},r.prototype.handleHooks=function(){var e=this;this.hooksFn=[];var t=this.scroll.scroller,n=t.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=n.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.finishPullDown()}),this.registerHooks(n.hooks,n.hooks.eventTypes.computeBoundary,function(i){i.maxScrollPos>0&&(i.maxScrollPos=-1),i.minScrollPos=e.currentMinScrollY}),this.hasMouseWheelPlugin()&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,function(i){var s=300,o=350;i.discreteTime=s,i.easeTime=o}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(){t.hooks.trigger(t.hooks.eventTypes.end)}))},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.hasMouseWheelPlugin=function(){return!!this.scroll.eventTypes.alterOptions},r.prototype.watch=function(){var e=this.scroll.scroller;this.watching=!0,this.registerHooks(e.hooks,e.hooks.eventTypes.end,this.checkPullDown),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollStart,this.resetStateBeforeScrollStart),this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},r.prototype.resetStateBeforeScrollStart=function(){this.isFetchingStatus()||(this.setPulling(1),this.setThresholdBoundary(0))},r.prototype.checkLocationOfThresholdBoundary=function(){if(this.pulling===1){var e=this.scroll,t=this.thresholdBoundary!==1&&this.locateInsideThresholdBoundary(),n=this.thresholdBoundary!==2&&!this.locateInsideThresholdBoundary();t&&(this.setThresholdBoundary(1),e.trigger(tA)),n&&(this.setThresholdBoundary(2),e.trigger(rA))}},r.prototype.locateInsideThresholdBoundary=function(){return this.scroll.y<=this.options.threshold},r.prototype.unwatch=function(){var e=this.scroll,t=e.scroller;this.watching=!1,t.hooks.off(t.hooks.eventTypes.end,this.checkPullDown),e.off(e.eventTypes.scrollStart,this.resetStateBeforeScrollStart),e.off(e.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&e.off(e.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},r.prototype.checkPullDown=function(){var e=this.options,t=e.threshold,n=e.stop;return this.scroll.y<t?!1:(this.pulling===1&&(this.modifyBehaviorYBoundary(n),this.setPulling(2),this.scroll.trigger(Zy)),this.scroll.scrollTo(this.scroll.x,n,this.scroll.options.bounceTime,Ir.bounce),this.isFetchingStatus())},r.prototype.isFetchingStatus=function(){return this.pulling===2},r.prototype.modifyBehaviorYBoundary=function(e){var t=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=t.minScrollPos,this.currentMinScrollY=e,t.computeBoundary()},r.prototype.finishPullDown=function(){if(this.isFetchingStatus()){var e=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,e.computeBoundary(),this.setPulling(0),this.scroll.resetPosition(this.scroll.options.bounceTime,Ir.bounce)}},r.prototype.openPullDown=function(e){e===void 0&&(e={}),this.handleOptions(e),this.watching||this.watch()},r.prototype.closePullDown=function(){this.unwatch()},r.prototype.autoPullDownRefresh=function(){var e=this.options,t=e.threshold,n=e.stop;this.isFetchingStatus()||!this.watching||(this.modifyBehaviorYBoundary(n),this.scroll.trigger(this.scroll.eventTypes.scrollStart),this.scroll.scrollTo(this.scroll.x,t),this.setPulling(2),this.scroll.trigger(Zy),this.scroll.scrollTo(this.scroll.x,n,this.scroll.options.bounceTime,Ir.bounce))},r.pluginName="pullDownRefresh",r}(),rW="plugins.pullUpLoad",nW=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}],iW=nW.map(function(r){return{key:r.key,sourceKey:rW+"."+r.name}}),nA="pullingUp",sW=function(){function r(e){this.scroll=e,this.pulling=!1,this.watching=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},r.prototype.handleBScroll=function(){this.scroll.registerType([nA]),this.scroll.proxy(iW)},r.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var t={threshold:0};this.options=Wr(t,e),this.scroll.options.probeType=3},r.prototype.handleHooks=function(){var e=this;this.hooksFn=[];var t=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.finishPullUp()}),this.registerHooks(t.hooks,t.hooks.eventTypes.computeBoundary,function(n){n.maxScrollPos>0&&(n.maxScrollPos=-1)})},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},r.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},r.prototype.checkPullUp=function(e){var t=this,n=this.options.threshold;this.scroll.movingDirectionY===1&&e.y<=this.scroll.maxScrollY+n&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){t.pulling=!1}),this.unwatch(),this.scroll.trigger(nA))},r.prototype.finishPullUp=function(){var e=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(0),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){e.watch()}):this.watch()},r.prototype.openPullUp=function(e){e===void 0&&(e={}),this.handleOptions(e),this.watch()},r.prototype.closePullUp=function(){this.unwatch()},r.prototype.autoPullUpLoad=function(){var e=this.options.threshold,t=this.scroll.scroller.scrollBehaviorY;if(!(this.pulling||!this.watching)){var n=-1,i=t.maxScrollPos+e+n;this.scroll.scroller.scrollBehaviorY.setMovingDirection(n),this.scroll.scrollTo(this.scroll.x,i,this.scroll.options.bounceTime)}},r.pluginName="pullUpLoad",r}(),oW=function(){function r(e,t){this.indicator=e,this.options=t,this.hooks=new So(["touchStart","touchMove","touchEnd"]),this.registerEvents()}return r.prototype.registerEvents=function(){var e=this.options,t=e.disableMouse,n=e.disableTouch,i=[],s=[],o=[];t||(i.push({name:"mousedown",handler:this.start.bind(this)}),s.push({name:"mousemove",handler:this.move.bind(this)}),o.push({name:"mouseup",handler:this.end.bind(this)})),n||(i.push({name:"touchstart",handler:this.start.bind(this)}),s.push({name:"touchmove",handler:this.move.bind(this)}),o.push({name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),this.startEventRegister=new Sn(this.indicator.indicatorEl,i),this.moveEventRegister=new Sn(window,s),this.endEventRegister=new Sn(window,o)},r.prototype.BScrollIsDisabled=function(){return!this.indicator.scroll.enabled},r.prototype.start=function(e){if(!this.BScrollIsDisabled()){var t=e.touches?e.touches[0]:e;ll(e),e.stopPropagation(),this.initiated=!0,this.lastPoint=t[this.indicator.keysMap.point],this.hooks.trigger(this.hooks.eventTypes.touchStart)}},r.prototype.move=function(e){if(this.initiated){var t=e.touches?e.touches[0]:e,n=t[this.indicator.keysMap.point];ll(e),e.stopPropagation();var i=n-this.lastPoint;this.lastPoint=n,this.hooks.trigger(this.hooks.eventTypes.touchMove,i)}},r.prototype.end=function(e){this.initiated&&(this.initiated=!1,ll(e),e.stopPropagation(),this.hooks.trigger(this.hooks.eventTypes.touchEnd))},r.prototype.destroy=function(){this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()},r}(),aW=function(){function r(e,t){this.scroll=e,this.options=t,this.hooksFn=[],this.wrapper=t.wrapper,this.direction=t.direction,this.indicatorEl=this.wrapper.children[0],this.keysMap=this.getKeysMap(),this.handleFade(),this.handleHooks()}return r.prototype.handleFade=function(){this.options.fade&&(this.wrapper.style.opacity="0")},r.prototype.handleHooks=function(){var e=this,t=this.options,n=t.fade,i=t.interactive,s=t.scrollbarTrackClickable,o=this.scroll,a=o.hooks,u=o.scroller.translater.hooks,l=o.scroller.animater.hooks;if(this.registerHooks(a,a.eventTypes.refresh,this.refresh),this.registerHooks(u,u.eventTypes.translate,function(g){var v=e.keysMap.hasScroll;e.scroll[v]&&e.updatePosition(g)}),this.registerHooks(l,l.eventTypes.time,this.transitionTime),this.registerHooks(l,l.eventTypes.timeFunction,this.transitionTimingFunction),n&&(this.registerHooks(o,o.eventTypes.scrollEnd,function(){e.fade()}),this.registerHooks(o,o.eventTypes.scrollStart,function(){e.fade(!0)}),o.eventTypes.mousewheelStart&&o.eventTypes.mousewheelEnd&&(this.registerHooks(o,o.eventTypes.mousewheelStart,function(){e.fade(!0)}),this.registerHooks(o,o.eventTypes.mousewheelMove,function(){e.fade(!0)}),this.registerHooks(o,o.eventTypes.mousewheelEnd,function(){e.fade()}))),i){var h=this.scroll.options,c=h.disableMouse,d=h.disableTouch;this.eventHandler=new oW(this,{disableMouse:c,disableTouch:d});var p=this.eventHandler.hooks;this.registerHooks(p,p.eventTypes.touchStart,this.startHandler),this.registerHooks(p,p.eventTypes.touchMove,this.moveHandler),this.registerHooks(p,p.eventTypes.touchEnd,this.endHandler)}s&&this.bindClick()},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.bindClick=function(){var e=this.wrapper;this.clickEventRegister=new Sn(e,[{name:"click",handler:this.handleClick.bind(this)}])},r.prototype.handleClick=function(e){var t=this.calculateclickOffsetPos(e),n=this.scroll,i=n.x,s=n.y;i=this.direction==="horizontal"?t:i,s=this.direction==="vertical"?t:s,this.scroll.scrollTo(i,s,this.options.scrollbarTrackOffsetTime)},r.prototype.calculateclickOffsetPos=function(e){var t=this.keysMap,n=t.point,i=t.domRect,s=this.options.scrollbarTrackOffsetType,o=e[n]-this.wrapperRect[i],a=o<this.currentPos?-1:1,u=0,l=this.currentPos;return s==="step"?u=this.scrollInfo.baseSize*a:(u=0,l=o),this.newPos(l,u,this.scrollInfo)},r.prototype.getKeysMap=function(){return this.direction==="vertical"?{hasScroll:"hasVerticalScroll",size:"height",wrapperSize:"clientHeight",scrollerSize:"scrollerHeight",maxScrollPos:"maxScrollY",pos:"y",point:"pageY",translateProperty:"translateY",domRect:"top"}:{hasScroll:"hasHorizontalScroll",size:"width",wrapperSize:"clientWidth",scrollerSize:"scrollerWidth",maxScrollPos:"maxScrollX",pos:"x",point:"pageX",translateProperty:"translateX",domRect:"left"}},r.prototype.fade=function(e){var t=this.options,n=t.fadeInTime,i=t.fadeOutTime,s=e?n:i,o=this.wrapper;o.style[Xt.transitionDuration]=s+"ms",o.style.opacity=e?"1":"0"},r.prototype.refresh=function(){var e=this.keysMap.hasScroll,t=this.scroll,n=t.x,i=t.y;if(this.wrapperRect=this.wrapper.getBoundingClientRect(),this.canScroll(t[e])){var s=this.keysMap,o=s.wrapperSize,a=s.scrollerSize,u=s.maxScrollPos;this.scrollInfo=this.refreshScrollInfo(this.wrapper[o],t[a],t[u],this.indicatorEl[o]),this.updatePosition({x:n,y:i})}},r.prototype.transitionTime=function(e){e===void 0&&(e=0),this.indicatorEl.style[Xt.transitionDuration]=e+"ms"},r.prototype.transitionTimingFunction=function(e){this.indicatorEl.style[Xt.transitionTimingFunction]=e},r.prototype.canScroll=function(e){return this.wrapper.style.display=e?"block":"none",e},r.prototype.refreshScrollInfo=function(e,t,n,i){var s=Math.max(Math.round(e*e/(t||e||1)),this.options.minSize);this.options.isCustom&&(s=i);var o=e-s,a=o/n;return{baseSize:s,maxScrollPos:o,minScrollPos:0,sizeRatio:a}},r.prototype.updatePosition=function(e){var t=this.caculatePosAndSize(e,this.scrollInfo),n=t.pos,i=t.size;this.refreshStyle(i,n),this.currentPos=n},r.prototype.caculatePosAndSize=function(e,t){var n=this.keysMap.pos,i=t.sizeRatio,s=t.baseSize,o=t.maxScrollPos,a=t.minScrollPos,u=this.options.minSize,l=Math.round(i*e[n]),h;return l<a?(h=Math.max(s+l*3,u),l=a):l>o?(h=Math.max(s-(l-o)*3,u),l=o+s-h):h=s,{pos:l,size:h}},r.prototype.refreshStyle=function(e,t){var n=this.keysMap,i=n.translateProperty,s=n.size,o=this.scroll.options.translateZ;this.indicatorEl.style[s]=e+"px",this.indicatorEl.style[Xt.transform]=i+"("+t+"px)"+o},r.prototype.startHandler=function(){this.moved=!1,this.startTime=jn(),this.transitionTime(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)},r.prototype.moveHandler=function(e){if(!this.moved&&!this.indicatorNotMoved(e)&&(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){var t=this.newPos(this.currentPos,e,this.scrollInfo);this.syncBScroll(t)}},r.prototype.endHandler=function(){if(this.moved){var e=this.scroll,t=e.x,n=e.y;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:t,y:n})}},r.prototype.indicatorNotMoved=function(e){var t=this.currentPos,n=this.scrollInfo,i=n.maxScrollPos,s=n.minScrollPos,o=t===s&&e<=0||t===i&&e>=0;return o},r.prototype.syncBScroll=function(e){var t=jn(),n=this.scroll,i=n.x,s=n.y,o=n.options,a=n.scroller,u=n.maxScrollY,l=n.minScrollY,h=n.maxScrollX,c=n.minScrollX,d=o.probeType,p=o.momentumLimitTime,g={x:i,y:s};this.direction==="vertical"?g.y=nr(e,u,l):g.x=nr(e,h,c),a.translater.translate(g),t-this.startTime>p&&(this.startTime=t,d===1&&a.hooks.trigger(a.hooks.eventTypes.scroll,g)),d>1&&a.hooks.trigger(a.hooks.eventTypes.scroll,g)},r.prototype.newPos=function(e,t,n){var i=n.maxScrollPos,s=n.sizeRatio,o=n.minScrollPos,a=e+t;return a=nr(a,o,i),Math.round(a/s)},r.prototype.destroy=function(){var e=this.options,t=e.interactive,n=e.scrollbarTrackClickable,i=e.isCustom;t&&this.eventHandler.destroy(),n&&this.clickEventRegister.destroy(),i||this.wrapper.parentNode.removeChild(this.wrapper),this.hooksFn.forEach(function(s){var o=s[0],a=s[1],u=s[2];o.off(a,u)}),this.hooksFn.length=0},r}(),lW=function(){function r(e){this.scroll=e,this.handleOptions(),this.createIndicators(),this.handleHooks()}return r.prototype.handleHooks=function(){var e=this,t=this.scroll;t.hooks.on(t.hooks.eventTypes.destroy,function(){for(var n=0,i=e.indicators;n<i.length;n++){var s=i[n];s.destroy()}})},r.prototype.handleOptions=function(){var e=this.scroll.options.scrollbar===!0?{}:this.scroll.options.scrollbar,t={fade:!0,fadeInTime:250,fadeOutTime:500,interactive:!1,customElements:[],minSize:8,scrollbarTrackClickable:!1,scrollbarTrackOffsetType:"step",scrollbarTrackOffsetTime:300};this.options=Wr(t,e)},r.prototype.createIndicators=function(){for(var e,t=this.scroll,n=[],i=["scrollX","scrollY"],s=["horizontal","vertical"],o=this.options.customElements,a=0;a<i.length;a++){var u=i[a];if(t.options[u]){var l=o.shift(),h=s[a],c=!1,d=l||this.createScrollbarElement(h);d!==l?t.wrapper.appendChild(d):c=!0,e=Vi(Vi({wrapper:d,direction:h},this.options),{isCustom:c}),n.push(new aW(t,e))}}this.indicators=n},r.prototype.createScrollbarElement=function(e,t){t===void 0&&(t=this.options.scrollbarTrackClickable);var n=document.createElement("div"),i=document.createElement("div");return n.style.cssText="position:absolute;z-index:9999;overflow:hidden;",i.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",i.className="bscroll-indicator",e==="horizontal"?(n.style.cssText+="height:7px;left:2px;right:2px;bottom:0;",i.style.height="100%",n.className="bscroll-horizontal-scrollbar"):(n.style.cssText+="width:7px;bottom:2px;top:2px;right:1px;",i.style.width="100%",n.className="bscroll-vertical-scrollbar"),t||(n.style.cssText+="pointer-events:none;"),n.appendChild(i),n},r.pluginName="scrollbar",r}(),gO={pageX:0,pageY:0,x:0,y:0},uW={x:0,y:0,width:0,height:0,cx:0,cy:0},cW=function(){function r(e){this.scroll=e,this.init()}return r.prototype.init=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY;this.wrapperWidth=t.wrapperSize,this.wrapperHeight=n.wrapperSize,this.scrollerHeight=n.contentSize,this.scrollerWidth=t.contentSize,this.pages=this.buildPagesMatrix(this.wrapperWidth,this.wrapperHeight),this.pageLengthOfX=this.pages?this.pages.length:0,this.pageLengthOfY=this.pages&&this.pages[0]?this.pages[0].length:0},r.prototype.getPageStats=function(e,t){return this.pages[e]&&this.pages[e][t]?this.pages[e][t]:uW},r.prototype.getNearestPageIndex=function(e,t){for(var n=0,i=0,s=this.pages.length;n<s-1&&!(e>=this.pages[n][0].cx);n++);for(s=this.pages[n]?this.pages[n].length:0;i<s-1&&!(t>=this.pages[0][i].cy);i++);return{pageX:n,pageY:i}},r.prototype.buildPagesMatrix=function(e,t){var n=[],i=0,s,o,a,u=0,l,h=this.scroll.scroller.scrollBehaviorX.maxScrollPos,c=this.scroll.scroller.scrollBehaviorY.maxScrollPos;for(o=Math.round(e/2),a=Math.round(t/2);i>-this.scrollerWidth;){for(n[u]=[],l=0,s=0;s>-this.scrollerHeight;)n[u][l]={x:Math.max(i,h),y:Math.max(s,c),width:e,height:t,cx:i-o,cy:s-a},s-=t,l++;i-=e,u++}return n},r}(),hW=function(){function r(e,t){this.scroll=e,this.slideOptions=t,this.slideX=!1,this.slideY=!1,this.currentPage=Wr({},gO)}return r.prototype.refresh=function(){this.pagesMatrix=new cW(this.scroll),this.checkSlideLoop(),this.currentPage=this.getAdjustedCurrentPage()},r.prototype.getAdjustedCurrentPage=function(){var e=this.currentPage,t=e.pageX,n=e.pageY;t=Math.min(t,this.pagesMatrix.pageLengthOfX-1),n=Math.min(n,this.pagesMatrix.pageLengthOfY-1),this.loopX&&(t=Math.min(t,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(n=Math.min(n,this.pagesMatrix.pageLengthOfY-2));var i=this.pagesMatrix.getPageStats(t,n),s=i.x,o=i.y;return{pageX:t,pageY:n,x:s,y:o}},r.prototype.setCurrentPage=function(e){this.currentPage=e},r.prototype.getInternalPage=function(e,t){e>=this.pagesMatrix.pageLengthOfX?e=this.pagesMatrix.pageLengthOfX-1:e<0&&(e=0),t>=this.pagesMatrix.pageLengthOfY?t=this.pagesMatrix.pageLengthOfY-1:t<0&&(t=0);var n=this.pagesMatrix.getPageStats(e,t),i=n.x,s=n.y;return{pageX:e,pageY:t,x:i,y:s}},r.prototype.getInitialPage=function(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=this.slideOptions,i=n.startPageXIndex,s=n.startPageYIndex,o=this.loopX?1:0,a=this.loopY?1:0,u=e?o:this.currentPage.pageX,l=e?a:this.currentPage.pageY;t?(u=this.loopX?i+1:i,l=this.loopY?s+1:s):(u=e?o:this.currentPage.pageX,l=e?a:this.currentPage.pageY);var h=this.pagesMatrix.getPageStats(u,l),c=h.x,d=h.y;return{pageX:u,pageY:l,x:c,y:d}},r.prototype.getExposedPage=function(e){var t=Wr({},e);return this.loopX&&(t.pageX=this.fixedPage(t.pageX,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(t.pageY=this.fixedPage(t.pageY,this.pagesMatrix.pageLengthOfY-2)),t},r.prototype.getExposedPageByPageIndex=function(e,t){var n={pageX:e,pageY:t};this.loopX&&(n.pageX=e+1),this.loopY&&(n.pageY=t+1);var i=this.pagesMatrix.getPageStats(n.pageX,n.pageY),s=i.x,o=i.y;return{x:s,y:o,pageX:e,pageY:t}},r.prototype.getWillChangedPage=function(e){return e=Wr({},e),this.loopX&&(e.pageX=this.fixedPage(e.pageX,this.pagesMatrix.pageLengthOfX-2),e.x=this.pagesMatrix.getPageStats(e.pageX+1,0).x),this.loopY&&(e.pageY=this.fixedPage(e.pageY,this.pagesMatrix.pageLengthOfY-2),e.y=this.pagesMatrix.getPageStats(0,e.pageY+1).y),e},r.prototype.fixedPage=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i);return n.unshift(t-1),n.push(0),n[e]},r.prototype.getPageStats=function(){return this.pagesMatrix.getPageStats(this.currentPage.pageX,this.currentPage.pageY)},r.prototype.getValidPageIndex=function(e,t){var n=this.pagesMatrix.pageLengthOfX-1,i=this.pagesMatrix.pageLengthOfY-1,s=0,o=0;return this.loopX&&(e+=1,s=s+1,n=n-1),this.loopY&&(t+=1,o=o+1,i=i-1),e=nr(e,s,n),t=nr(t,o,i),{pageX:e,pageY:t}},r.prototype.nextPageIndex=function(){return this.getPageIndexByDirection("positive")},r.prototype.prevPageIndex=function(){return this.getPageIndexByDirection("negative")},r.prototype.getNearestPage=function(e,t){var n=this.pagesMatrix.getNearestPageIndex(e,t),i=n.pageX,s=n.pageY,o=this.pagesMatrix.getPageStats(i,0).x,a=this.pagesMatrix.getPageStats(0,s).y;return{x:o,y:a,pageX:i,pageY:s}},r.prototype.getPageByDirection=function(e,t,n){var i=e.pageX,s=e.pageY;i===this.currentPage.pageX&&(i=nr(i+t,0,this.pagesMatrix.pageLengthOfX-1)),s===this.currentPage.pageY&&(s=nr(s+n,0,this.pagesMatrix.pageLengthOfY-1));var o=this.pagesMatrix.getPageStats(i,0).x,a=this.pagesMatrix.getPageStats(0,s).y;return{x:o,y:a,pageX:i,pageY:s}},r.prototype.resetLoopPage=function(){if(this.loopX){if(this.currentPage.pageX===0)return{pageX:this.pagesMatrix.pageLengthOfX-2,pageY:this.currentPage.pageY};if(this.currentPage.pageX===this.pagesMatrix.pageLengthOfX-1)return{pageX:1,pageY:this.currentPage.pageY}}if(this.loopY){if(this.currentPage.pageY===0)return{pageX:this.currentPage.pageX,pageY:this.pagesMatrix.pageLengthOfY-2};if(this.currentPage.pageY===this.pagesMatrix.pageLengthOfY-1)return{pageX:this.currentPage.pageX,pageY:1}}},r.prototype.getPageIndexByDirection=function(e){var t=this.currentPage.pageX,n=this.currentPage.pageY;return this.slideX&&(t=e==="negative"?t-1:t+1),this.slideY&&(n=e==="negative"?n-1:n+1),{pageX:t,pageY:n}},r.prototype.checkSlideLoop=function(){this.wannaLoop=this.slideOptions.loop,this.pagesMatrix.pageLengthOfX>1?this.slideX=!0:this.slideX=!1,this.pagesMatrix.pages[0]&&this.pagesMatrix.pageLengthOfY>1?this.slideY=!0:this.slideY=!1,this.loopX=this.wannaLoop&&this.slideX,this.loopY=this.wannaLoop&&this.slideY,this.slideX&&this.slideY&&Hi("slide does not support two direction at the same time.")},r}(),dW="plugins.slide",fW=[{key:"next",name:"next"},{key:"prev",name:"prev"},{key:"goToPage",name:"goToPage"},{key:"getCurrentPage",name:"getCurrentPage"},{key:"startPlay",name:"startPlay"},{key:"pausePlay",name:"pausePlay"}],pW=fW.map(function(r){return{key:r.key,sourceKey:dW+"."+r.name}}),mW=function(r,e){return r.pageX===e.pageX&&r.pageY===e.pageY},gW=function(){function r(e){this.scroll=e,this.cachedClonedPageDOM=[],this.resetLooping=!1,this.autoplayTimer=0,this.satisfyInitialization()&&this.init()}return r.prototype.satisfyInitialization=function(){return this.scroll.scroller.content.children.length<=0?(Hi("slide need at least one slide page to be initialised.please check your DOM layout."),!1):!0},r.prototype.init=function(){this.willChangeToPage=Wr({},gO),this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.createPages()},r.prototype.createPages=function(){this.pages=new hW(this.scroll,this.options)},r.prototype.handleBScroll=function(){this.scroll.registerType(["slideWillChange","slidePageChanged"]),this.scroll.proxy(pW)},r.prototype.handleOptions=function(){var e=this.scroll.options.slide===!0?{}:this.scroll.options.slide,t={loop:!0,threshold:.1,speed:400,easing:Ir.bounce,listenFlick:!0,autoplay:!0,interval:3e3,startPageXIndex:0,startPageYIndex:0};this.options=Wr(t,e)},r.prototype.handleLoop=function(e){var t=this.options.loop,n=this.scroll.scroller.content,i=n.children.length;t&&(n!==e?(this.resetLoopChangedStatus(),this.removeClonedSlidePage(e),i>1&&this.cloneFirstAndLastSlidePage(n)):i===3&&this.initialised?(this.removeClonedSlidePage(n),this.moreToOnePageInLoop=!0,this.oneToMorePagesInLoop=!1):i>1?(this.initialised&&this.cachedClonedPageDOM.length===0?(this.oneToMorePagesInLoop=!0,this.moreToOnePageInLoop=!1):(this.removeClonedSlidePage(n),this.resetLoopChangedStatus()),this.cloneFirstAndLastSlidePage(n)):this.resetLoopChangedStatus())},r.prototype.resetLoopChangedStatus=function(){this.moreToOnePageInLoop=!1,this.oneToMorePagesInLoop=!1},r.prototype.handleHooks=function(){var e=this,t=this.scroll.hooks,n=this.scroll.scroller.hooks,i=this.options.listenFlick;this.prevContent=this.scroll.scroller.content,this.hooksFn=[],this.registerHooks(this.scroll,this.scroll.eventTypes.beforeScrollStart,this.pausePlay),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.modifyCurrentPage),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.startPlay),this.scroll.eventTypes.mousewheelMove&&(this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelMove,function(){return!0}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(s){(s.directionX===1||s.directionY===1)&&e.next(),(s.directionX===-1||s.directionY===-1)&&e.prev()})),this.registerHooks(t,t.eventTypes.refresh,this.refreshHandler),this.registerHooks(t,t.eventTypes.destroy,this.destroy),this.registerHooks(n,n.eventTypes.beforeRefresh,function(){e.handleLoop(e.prevContent),e.setSlideInlineStyle()}),this.registerHooks(n,n.eventTypes.momentum,this.modifyScrollMetaHandler),this.registerHooks(n,n.eventTypes.scroll,this.scrollHandler),this.registerHooks(n,n.eventTypes.checkClick,this.startPlay),i&&this.registerHooks(n,n.eventTypes.flick,this.flickHandler)},r.prototype.startPlay=function(){var e=this,t=this.options,n=t.interval,i=t.autoplay;i&&(clearTimeout(this.autoplayTimer),this.autoplayTimer=window.setTimeout(function(){e.next()},n))},r.prototype.pausePlay=function(){this.options.autoplay&&clearTimeout(this.autoplayTimer)},r.prototype.setSlideInlineStyle=function(){var e=[{direction:"scrollX",sizeType:"offsetWidth",styleType:"width"},{direction:"scrollY",sizeType:"offsetHeight",styleType:"height"}],t=this.scroll.scroller,n=t.content,i=t.wrapper,s=this.scroll.options;e.forEach(function(o){var a=o.direction,u=o.sizeType,l=o.styleType;if(s[a]){for(var h=i[u],c=n.children,d=c.length,p=0;p<d;p++){var g=c[p];g.style[l]=h+"px"}n.style[l]=h*d+"px"}})},r.prototype.next=function(e,t){var n=this.pages.nextPageIndex(),i=n.pageX,s=n.pageY;this.goTo(i,s,e,t)},r.prototype.prev=function(e,t){var n=this.pages.prevPageIndex(),i=n.pageX,s=n.pageY;this.goTo(i,s,e,t)},r.prototype.goToPage=function(e,t,n,i){var s=this.pages.getValidPageIndex(e,t);this.goTo(s.pageX,s.pageY,n,i)},r.prototype.getCurrentPage=function(){return this.exposedPage||this.pages.getInitialPage(!1,!0)},r.prototype.setCurrentPage=function(e){this.pages.setCurrentPage(e),this.exposedPage=this.pages.getExposedPage(e)},r.prototype.nearestPage=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o=i.maxScrollPos,a=i.minScrollPos,u=s.maxScrollPos,l=s.minScrollPos;return this.pages.getNearestPage(nr(e,o,a),nr(t,u,l))},r.prototype.satisfyThreshold=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o=!0;return Math.abs(e-i.absStartPos)<=this.thresholdX&&Math.abs(t-s.absStartPos)<=this.thresholdY&&(o=!1),o},r.prototype.refreshHandler=function(e){var t=this;if(this.satisfyInitialization()){this.pages.refresh(),this.computeThreshold();var n=this.contentChanged=this.prevContent!==e;n&&(this.prevContent=e);var i=this.pages.getInitialPage(this.oneToMorePagesInLoop||this.moreToOnePageInLoop,n||!this.initialised);this.initialised?this.goTo(i.pageX,i.pageY,0):this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(s){t.initialised=!0,s.x=i.x,s.y=i.y}),this.startPlay()}},r.prototype.computeThreshold=function(){var e=this.options.threshold;if(e%1===0)this.thresholdX=e,this.thresholdY=e;else{var t=this.pages.getPageStats(),n=t.width,i=t.height;this.thresholdX=Math.round(n*e),this.thresholdY=Math.round(i*e)}},r.prototype.cloneFirstAndLastSlidePage=function(e){var t=e.children,n=t[t.length-1].cloneNode(!0),i=t[0].cloneNode(!0);CG(n,e),e.appendChild(i),this.cachedClonedPageDOM=[n,i]},r.prototype.removeClonedSlidePage=function(e){var t=e&&e.children||[];t.length&&this.cachedClonedPageDOM.forEach(function(n){PG(e,n)}),this.cachedClonedPageDOM=[]},r.prototype.modifyCurrentPage=function(e){var t=this.getCurrentPage(),n=t.pageX,i=t.pageY,s=this.nearestPage(e.x,e.y);if(this.setCurrentPage(s),this.contentChanged)return this.contentChanged=!1,!0;var o=this.getCurrentPage(),a=o.pageX,u=o.pageY;if(this.pageWillChangeTo(s),this.oneToMorePagesInLoop)return this.oneToMorePagesInLoop=!1,!0;if(this.moreToOnePageInLoop&&n===0&&i===0)return this.moreToOnePageInLoop=!1,!0;if(n!==a||i!==u){var l=this.pages.getExposedPageByPageIndex(a,u);this.scroll.trigger(this.scroll.eventTypes.slidePageChanged,l)}if(this.resetLooping){this.resetLooping=!1;return}var h=this.pages.resetLoopPage();if(h)return this.resetLooping=!0,this.goTo(h.pageX,h.pageY,0),!0},r.prototype.goTo=function(e,t,n,i){var s=this.pages.getInternalPage(e,t),o=i||this.options.easing||Ir.bounce,a=s.x,u=s.y,l=a-this.scroll.scroller.scrollBehaviorX.currentPos,h=u-this.scroll.scroller.scrollBehaviorY.currentPos;if(!l&&!h){this.scroll.scroller.togglePointerEvents(!0);return}n=n===void 0?this.getEaseTime(l,h):n,this.scroll.scroller.scrollTo(a,u,n,o)},r.prototype.flickHandler=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY,i=t.currentPos,s=t.startPos,o=t.direction,a=n.currentPos,u=n.startPos,l=n.direction,h=this.pages.currentPage,c=h.pageX,d=h.pageY,p=this.getEaseTime(i-s,a-u);this.goTo(c+o,d+l,p)},r.prototype.getEaseTime=function(e,t){return this.options.speed||Math.max(Math.max(Math.min(Math.abs(e),1e3),Math.min(Math.abs(t),1e3)),300)},r.prototype.modifyScrollMetaHandler=function(e){var t=this.scroll.scroller,n=t.scrollBehaviorX,i=t.scrollBehaviorY,s=t.animater,o=e.newX,a=e.newY,u=this.satisfyThreshold(o,a)||s.forceStopped?this.pages.getPageByDirection(this.nearestPage(o,a),n.direction,i.direction):this.pages.currentPage;e.time=this.getEaseTime(e.newX-u.x,e.newY-u.y),e.newX=u.x,e.newY=u.y,e.easing=this.options.easing||Ir.bounce},r.prototype.scrollHandler=function(e){var t=e.x,n=e.y;if(this.satisfyThreshold(t,n)){var i=this.nearestPage(t,n);this.pageWillChangeTo(i)}},r.prototype.pageWillChangeTo=function(e){var t=this.pages.getWillChangedPage(e);mW(this.willChangeToPage,t)||(this.willChangeToPage=t,this.scroll.trigger(this.scroll.eventTypes.slideWillChange,this.willChangeToPage))},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.destroy=function(){var e=this.scroll.scroller.content,t=this.options,n=t.loop,i=t.autoplay;n&&this.removeClonedSlidePage(e),i&&clearTimeout(this.autoplayTimer),this.hooksFn.forEach(function(s){var o=s[0],a=s[1],u=s[2];o.eventTypes[a]&&o.off(a,u)}),this.hooksFn.length=0},r.pluginName="slide",r}(),vW="plugins.wheel",yW=[{key:"wheelTo",name:"wheelTo"},{key:"getSelectedIndex",name:"getSelectedIndex"},{key:"restorePosition",name:"restorePosition"}],xW=yW.map(function(r){return{key:r.key,sourceKey:vW+"."+r.name}}),iA="wheelIndexChanged",_W={rate:4},wW=function(){function r(e){this.scroll=e,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.refreshBoundary(),this.setSelectedIndex(this.options.selectedIndex)},r.prototype.handleBScroll=function(){this.scroll.proxy(xW),this.scroll.registerType([iA])},r.prototype.handleOptions=function(){var e=this.scroll.options.wheel===!0?{}:this.scroll.options.wheel,t={wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item",rotate:25,adjustTime:400,selectedIndex:0,wheelDisabledItemClass:"wheel-disabled-item"};this.options=Wr(t,e)},r.prototype.handleHooks=function(){var e=this,t=this.scroll,n=this.scroll.scroller,i=n.actionsHandler,s=n.scrollBehaviorX,o=n.scrollBehaviorY,a=n.animater,u=n.content;t.on(t.eventTypes.scrollEnd,function(l){var h=e.findNearestValidWheel(l.y).index;if(n.animater.forceStopped&&!e.isAdjustingPosition)return e.target=e.items[h],!0;e.setSelectedIndex(h),e.isAdjustingPosition&&(e.isAdjustingPosition=!1)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh,function(l){l!==u&&(u=l,e.setSelectedIndex(e.options.selectedIndex,!0)),e.rotateX(e.scroll.y),e.wheelTo(e.selectedIndex,0)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(l){l.x=0,l.y=-(e.selectedIndex*e.itemHeight)}),n.hooks.on(n.hooks.eventTypes.checkClick,function(){var l=kG(e.items).indexOf(e.target);return l===-1||e.wheelTo(l,e.options.adjustTime,Ir.swipe),!0}),n.hooks.on(n.hooks.eventTypes.scrollTo,function(l){l.y=e.findNearestValidWheel(l.y).y}),n.hooks.on(n.hooks.eventTypes.minDistanceScroll,function(){var l=n.animater;l.forceStopped===!0&&(l.forceStopped=!1)}),n.hooks.on(n.hooks.eventTypes.scrollToElement,function(l,h){if(gp(l,e.options.wheelItemClass))h.top=e.findNearestValidWheel(h.top).y;else return!0}),i.hooks.on(i.hooks.eventTypes.beforeStart,function(l){e.target=l.target}),s.hooks.on(s.hooks.eventTypes.computeBoundary,function(l){l.maxScrollPos=0,l.minScrollPos=0}),o.hooks.on(o.hooks.eventTypes.computeBoundary,function(l){e.items=e.scroll.scroller.content.children,e.checkWheelAllDisabled(),e.itemHeight=e.items.length>0?o.contentSize/e.items.length:0,l.maxScrollPos=-e.itemHeight*(e.items.length-1),l.minScrollPos=0}),o.hooks.on(o.hooks.eventTypes.momentum,function(l){l.rate=_W.rate,l.destination=e.findNearestValidWheel(l.destination).y}),o.hooks.on(o.hooks.eventTypes.end,function(l){var h=e.findNearestValidWheel(o.currentPos);l.destination=h.y,l.duration=e.options.adjustTime}),a.hooks.on(a.hooks.eventTypes.time,function(l){e.transitionDuration(l)}),a.hooks.on(a.hooks.eventTypes.timeFunction,function(l){e.timeFunction(l)}),a.hooks.on(a.hooks.eventTypes.callStop,function(){var l=e.findNearestValidWheel(e.scroll.y).index;e.isAdjustingPosition=!0,e.wheelTo(l,0)}),a.translater.hooks.on(a.translater.hooks.eventTypes.translate,function(l){e.rotateX(l.y)})},r.prototype.refreshBoundary=function(){var e=this.scroll.scroller,t=e.scrollBehaviorX,n=e.scrollBehaviorY,i=e.content;t.refresh(i),n.refresh(i)},r.prototype.setSelectedIndex=function(e,t){t===void 0&&(t=!1);var n=this.selectedIndex;this.selectedIndex=e,n!==e&&!t&&this.scroll.trigger(iA,e)},r.prototype.getSelectedIndex=function(){return this.selectedIndex},r.prototype.wheelTo=function(e,t,n){e===void 0&&(e=0),t===void 0&&(t=0);var i=-e*this.itemHeight;this.scroll.scrollTo(0,i,t,n)},r.prototype.restorePosition=function(){var e=this.scroll.pending;if(e){var t=this.getSelectedIndex();this.scroll.scroller.animater.clearTimer(),this.wheelTo(t,0)}},r.prototype.transitionDuration=function(e){for(var t=0;t<this.items.length;t++)this.items[t].style[Xt.transitionDuration]=e+"ms"},r.prototype.timeFunction=function(e){for(var t=0;t<this.items.length;t++)this.items[t].style[Xt.transitionTimingFunction]=e},r.prototype.rotateX=function(e){for(var t=this.options.rotate,n=t===void 0?25:t,i=0;i<this.items.length;i++){var s=n*(e/this.itemHeight+i),o=s.toFixed(3);this.items[i].style[Xt.transform]="rotateX("+o+"deg)"}},r.prototype.findNearestValidWheel=function(e){e=e>0?0:e<this.scroll.maxScrollY?this.scroll.maxScrollY:e;for(var t=Math.abs(Math.round(-e/this.itemHeight)),n=t,i=this.items,s=this.options.wheelDisabledItemClass;t>=0&&gp(i[t],s);)t--;if(t<0)for(t=n;t<=i.length-1&&gp(i[t],s);)t++;return t===i.length&&(t=n),{index:this.wheelItemsAllDisabled?-1:t,y:-t*this.itemHeight}},r.prototype.checkWheelAllDisabled=function(){var e=this.options.wheelDisabledItemClass,t=this.items;this.wheelItemsAllDisabled=!0;for(var n=0;n<t.length;n++)if(!gp(t[n],e)){this.wheelItemsAllDisabled=!1;break}},r.pluginName="wheel",r}(),bW="plugins.zoom",SW=[{key:"zoomTo",name:"zoomTo"}],TW=SW.map(function(r){return{key:r.key,sourceKey:bW+"."+r.name}}),wp=2,bp=1,EW=function(){function r(e){this.scroll=e,this.scale=bp,this.prevScale=1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.tryInitialZoomTo(this.zoomOpt)},r.prototype.zoomTo=function(e,t,n,i){var s=this.resolveOrigin(t,n),o=s.originX,a=s.originY,u={x:o,y:a,baseScale:this.scale};this._doZoomTo(e,u,i,!0)},r.prototype.handleBScroll=function(){this.scroll.proxy(TW),this.scroll.registerType(["beforeZoomStart","zoomStart","zooming","zoomEnd"])},r.prototype.handleOptions=function(){var e=this.scroll.options.zoom===!0?{}:this.scroll.options.zoom,t={start:1,min:1,max:4,initialOrigin:[0,0],minimalZoomDistance:5,bounceTime:800};this.zoomOpt=Wr(t,e)},r.prototype.handleHooks=function(){var e=this,t=this.scroll,n=this.scroll.scroller;this.wrapper=this.scroll.scroller.wrapper,this.setTransformOrigin(this.scroll.scroller.content);var i=n.scrollBehaviorX,s=n.scrollBehaviorY;this.hooksFn=[],this.registerHooks(t.hooks,t.hooks.eventTypes.contentChanged,function(o){e.setTransformOrigin(o),e.scale=bp,e.tryInitialZoomTo(e.zoomOpt)}),this.registerHooks(t.hooks,t.hooks.eventTypes.beforeInitialScrollTo,function(){if(e.zoomOpt.start!==bp)return!0}),this.registerHooks(i.hooks,i.hooks.eventTypes.beforeComputeBoundary,function(){var o=yl(e.scroll.scroller.content);i.contentSize=Math.floor(o.width*e.scale)}),this.registerHooks(s.hooks,s.hooks.eventTypes.beforeComputeBoundary,function(){var o=yl(e.scroll.scroller.content);s.contentSize=Math.floor(o.height*e.scale)}),this.registerHooks(n.actions.hooks,n.actions.hooks.eventTypes.start,function(o){var a=o.touches&&o.touches.length||0;e.fingersOperation(a),a===wp&&e.zoomStart(o)}),this.registerHooks(n.actions.hooks,n.actions.hooks.eventTypes.beforeMove,function(o){var a=o.touches&&o.touches.length||0;if(e.fingersOperation(a),a===wp)return e.zoom(o),!0}),this.registerHooks(n.actions.hooks,n.actions.hooks.eventTypes.beforeEnd,function(o){var a=e.fingersOperation();if(a===wp)return e.zoomEnd(),!0}),this.registerHooks(n.translater.hooks,n.translater.hooks.eventTypes.beforeTranslate,function(o,a){var u=a.scale?a.scale:e.prevScale;e.prevScale=u,o.push("scale("+u+")")}),this.registerHooks(n.hooks,n.hooks.eventTypes.scrollEnd,function(){e.fingersOperation()===wp&&e.scroll.trigger(e.scroll.eventTypes.zoomEnd,{scale:e.scale})}),this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},r.prototype.setTransformOrigin=function(e){e.style[Xt.transformOrigin]="0 0"},r.prototype.tryInitialZoomTo=function(e){var t=e.start,n=e.initialOrigin,i=this.scroll.scroller,s=i.scrollBehaviorX,o=i.scrollBehaviorY;t!==bp&&(this.resetBoundaries([s,o]),this.zoomTo(t,n[0],n[1],0))},r.prototype.fingersOperation=function(e){if(typeof e=="number")this.numberOfFingers=e;else return this.numberOfFingers},r.prototype._doZoomTo=function(e,t,n,i){var s=this;n===void 0&&(n=this.zoomOpt.bounceTime),i===void 0&&(i=!1);var o=this.zoomOpt,a=o.min,u=o.max,l=this.scale,h=nr(e,a,u);(function(){if(n===0){s.scroll.trigger(s.scroll.eventTypes.zooming,{scale:h});return}if(n>0){var c,d=jn(),p=d+n,g=function(){var v=jn();if(v>=p){s.scroll.trigger(s.scroll.eventTypes.zooming,{scale:h}),ba(c);return}var x=Ir.bounce.fn((v-d)/n),y=x*(h-l)+l;s.scroll.trigger(s.scroll.eventTypes.zooming,{scale:y}),c=Eb(g)};g()}})(),this.fingersOperation(2),this._zoomTo(h,l,t,n,i)},r.prototype._zoomTo=function(e,t,n,i,s){s===void 0&&(s=!1);var o=e/n.baseScale;this.setScale(e);var a=this.scroll.scroller,u=a.scrollBehaviorX,l=a.scrollBehaviorY;this.resetBoundaries([u,l]);var h=this.getNewPos(n.x,o,u,!0,s),c=this.getNewPos(n.y,o,l,!0,s);(u.currentPos!==Math.round(h)||l.currentPos!==Math.round(c)||e!==t)&&a.scrollTo(h,c,i,Ir.bounce,{start:{scale:t},end:{scale:e}})},r.prototype.resolveOrigin=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o={left:function(){return 0},top:function(){return 0},right:function(){return i.contentSize},bottom:function(){return s.contentSize},center:function(a){var u=a===0?i.contentSize:s.contentSize;return u/2}};return{originX:typeof e=="number"?e:o[e](0),originY:typeof t=="number"?t:o[t](1)}},r.prototype.zoomStart=function(e){var t=e.touches[0],n=e.touches[1];this.startDistance=this.getFingerDistance(e),this.startScale=this.scale;var i=yG(this.wrapper),s=i.left,o=i.top;this.origin={x:Math.abs(t.pageX+n.pageX)/2+s-this.scroll.x,y:Math.abs(t.pageY+n.pageY)/2+o-this.scroll.y,baseScale:this.startScale},this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart)},r.prototype.zoom=function(e){var t=this.getFingerDistance(e);if(!(!this.zoomed&&Math.abs(t-this.startDistance)<this.zoomOpt.minimalZoomDistance)){var n=this.dampingScale(t/this.startDistance*this.startScale),i=n/this.startScale;this.setScale(n),this.zoomed||(this.zoomed=!0,this.scroll.trigger(this.scroll.eventTypes.zoomStart));var s=this.scroll.scroller,o=s.scrollBehaviorX,a=s.scrollBehaviorY,u=this.getNewPos(this.origin.x,i,o,!1,!1),l=this.getNewPos(this.origin.y,i,a,!1,!1);this.scroll.trigger(this.scroll.eventTypes.zooming,{scale:this.scale}),s.translater.translate({x:u,y:l,scale:n})}},r.prototype.zoomEnd=function(){if(this.zoomed){if(this.shouldRebound()){this._doZoomTo(this.scale,this.origin,this.zoomOpt.bounceTime);return}this.scroll.trigger(this.scroll.eventTypes.zoomEnd,{scale:this.scale})}},r.prototype.getFingerDistance=function(e){var t=e.touches[0],n=e.touches[1],i=Math.abs(t.pageX-n.pageX),s=Math.abs(t.pageY-n.pageY);return mG(i,s)},r.prototype.shouldRebound=function(){var e=this.zoomOpt,t=e.min,n=e.max,i=this.scale;if(i!==nr(i,t,n))return!0;var s=this.scroll.scroller,o=s.scrollBehaviorX,a=s.scrollBehaviorY;this.resetBoundaries([o,a]);var u=o.checkInBoundary().inBoundary,l=o.checkInBoundary().inBoundary;return!(u&&l)},r.prototype.dampingScale=function(e){var t=this.zoomOpt,n=t.min,i=t.max;return e<n?e=.5*n*Math.pow(2,e/n):e>i&&(e=2*i*Math.pow(.5,i/e)),e},r.prototype.setScale=function(e){this.scale=e},r.prototype.resetBoundaries=function(e){e.forEach(function(t){return t.computeBoundary()})},r.prototype.getNewPos=function(e,t,n,i,s){s===void 0&&(s=!1);var o=e-e*t+(s?n.currentPos:n.startPos);return i&&(o=nr(o,n.maxScrollPos,n.minScrollPos)),o>0?Math.floor(o):Math.ceil(o)},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.destroy=function(){this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)}),this.hooksFn.length=0},r.pluginName="zoom",r}(),CW=function(){function r(e){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=e}return r.create=function(e){return new r(e)},r.prototype.hasAncestors=function(e){var t=Tu(this.ancestors,function(n){var i=n[0];return i===e});return t>-1},r.prototype.hasDescendants=function(e){var t=Tu(this.descendants,function(n){var i=n[0];return i===e});return t>-1},r.prototype.addAncestor=function(e,t){var n=this.ancestors;n.push([e,t]),n.sort(function(i,s){return i[1]-s[1]})},r.prototype.addDescendant=function(e,t){var n=this.descendants;n.push([e,t]),n.sort(function(i,s){return i[1]-s[1]})},r.prototype.removeAncestor=function(e){var t=this.ancestors;if(t.length){var n=Tu(this.ancestors,function(i){var s=i[0];return s===e});if(n>-1)return t.splice(n,1)}},r.prototype.removeDescendant=function(e){var t=this.descendants;if(t.length){var n=Tu(this.descendants,function(i){var s=i[0];return s===e});if(n>-1)return t.splice(n,1)}},r.prototype.registerHooks=function(e,t,n){e.on(t,n),this.hooksManager.push([e,t,n])},r.prototype.setAnalyzed=function(e){e===void 0&&(e=!1),this.analyzed=e},r.prototype.purge=function(){var e=this;this.ancestors.forEach(function(t){var n=t[0];n.removeDescendant(e)}),this.descendants.forEach(function(t){var n=t[0];n.removeAncestor(e)}),this.hooksManager.forEach(function(t){var n=t[0],i=t[1],s=t[2];n.off(i,s)}),this.hooksManager=[]},r}(),AW="plugins.nestedScroll",PW=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}],kW=PW.map(function(r){return{key:r.key,sourceKey:AW+"."+r.name}}),IW="INTERNAL_NESTED_SCROLL",MW=function(r){r.forEach(function(e){e.pending&&(e.stop(),e.resetPosition())})},sA=function(r){r.forEach(function(e){e.enable()})},Sp=function(r,e){r.forEach(function(t){(t.hasHorizontalScroll===e.hasHorizontalScroll||t.hasVerticalScroll===e.hasVerticalScroll)&&t.disable()})},RW=function(r){r.forEach(function(e){var t=e.scroller,n=t.actions,i=t.scrollBehaviorX,s=t.scrollBehaviorY;n.fingerMoved=!0,n.contentMoved=!1,n.directionLockAction.reset(),i.start(),s.start(),i.resetStartPos(),s.resetStartPos(),n.startTime=+new Date})},OW=function(r){var e=r.hasHorizontalScroll,t=r.hasVerticalScroll,n=r.x,i=r.y,s=r.minScrollX,o=r.maxScrollX,a=r.minScrollY,u=r.maxScrollY,l=r.movingDirectionX,h=r.movingDirectionY,c=!1,d=n>=s&&l===-1,p=n<=o&&l===1,g=i>=a&&h===-1,v=i<=u&&h===1;return t?c=g||v:e&&(c=d||p),c},NW=function(r){var e=r.hasHorizontalScroll,t=r.hasVerticalScroll,n=r.x,i=r.y,s=r.minScrollX,o=r.maxScrollX,a=r.minScrollY,u=r.maxScrollY,l=!1,h=n>s,c=n<o,d=i>a,p=i<u;return t?l=d||p:e&&(l=h||c),l},BW=function(r){r.scroller.reflow(),r.resetPosition(0)},FW=function(r,e){for(var t=0,n=r.parentNode;n&&n!==e;)t++,n=n.parentNode;return t},LW=function(){function r(e){var t=this.handleOptions(e),n=r.instancesMap[t];return n||(n=r.instancesMap[t]=this,n.store=[],n.hooksFn=[]),n.init(e),n}return r.getAllNestedScrolls=function(){var e=r.instancesMap;return Object.keys(e).map(function(t){return e[t]})},r.purgeAllNestedScrolls=function(){var e=r.getAllNestedScrolls();e.forEach(function(t){return t.purgeNestedScroll()})},r.prototype.handleOptions=function(e){var t=e.options.nestedScroll===!0?{}:e.options.nestedScroll,n={groupId:IW};this.options=Wr(n,t);var i=typeof this.options.groupId;return i!=="string"&&i!=="number"&&Hi("groupId must be string or number for NestedScroll plugin"),this.options.groupId},r.prototype.init=function(e){e.proxy(kW),this.addBScroll(e),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(e)},r.prototype.handleHooks=function(e){var t=this;this.registerHooks(e.hooks,e.hooks.eventTypes.destroy,function(){t.deleteScroll(e)})},r.prototype.deleteScroll=function(e){var t=e.wrapper;t.isBScrollContainer=void 0;var n=this.store,i=this.hooksFn,s=Tu(n,function(d){return d.selfScroll===e});if(s>-1){var o=n[s];o.purge(),n.splice(s,1)}var a=Tu(i,function(d){var p=d[0];return p===e.hooks});if(a>-1){var u=i[a],l=u[0],h=u[1],c=u[2];l.off(h,c),i.splice(a,1)}},r.prototype.addBScroll=function(e){this.store.push(CW.create(e))},r.prototype.buildBScrollGraph=function(){for(var e=this.store,t,n,i,s,o=this.store.length,a=0;a<o;a++){t=e[a],i=t.selfScroll.wrapper;for(var u=0;u<o;u++)if(n=e[u],s=n.selfScroll.wrapper,t!==n&&i.contains(s)){var l=FW(s,i);t.hasDescendants(n)||t.addDescendant(n,l),n.hasAncestors(t)||n.addAncestor(t,l)}}},r.prototype.analyzeBScrollGraph=function(){this.store.forEach(function(e){if(!e.analyzed){var t=e.ancestors,n=e.descendants,i=e.selfScroll,s=function(){var u=t.map(function(h){var c=h[0];return c.selfScroll}),l=n.map(function(h){var c=h[0];return c.selfScroll});MW(rg(u,l)),NW(i)&&BW(i),RW(u),Sp(u,i)},o=function(){var u=t.map(function(h){var c=h[0];return c.selfScroll}),l=n.map(function(h){var c=h[0];return c.selfScroll});sA(rg(u,l))};e.registerHooks(i,i.eventTypes.beforeScrollStart,s),e.registerHooks(i,i.eventTypes.touchEnd,o);var a=i.scroller.actions.hooks;e.registerHooks(a,a.eventTypes.detectMovingDirection,function(){var u=t.map(function(p){var g=p[0];return g.selfScroll}),l=u[0],h=u.slice(1),c=i.scroller.actions.contentMoved,d=u.length===0;if(c)Sp(u,i);else if(!d&&OW(i))return Sp([i],i),l&&sA([l]),Sp(h,i),!0}),e.setAnalyzed(!0)}})},r.prototype.ensureEventInvokeSequence=function(){var e=this.store.slice(),t=e.sort(function(n,i){return n.descendants.length-i.descendants.length});t.forEach(function(n){var i=n.selfScroll;i.scroller.actionsHandler.rebindDOMEvents()})},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.purgeNestedScroll=function(){var e=this.options.groupId;this.store.forEach(function(t){t.purge()}),this.store=[],this.hooksFn.forEach(function(t){var n=t[0],i=t[1],s=t[2];n.off(i,s)}),this.hooksFn=[],delete r.instancesMap[e]},r.pluginName="nestedScroll",r.instancesMap={},r}(),oA=10,aA=30,DW=function(){function r(e,t){this.wrapperHeight=e,this.tombstoneHeight=t,this.lastDirection=1,this.lastPos=0}return r.prototype.calculate=function(e,t){var n=e-this.lastPos;this.lastPos=e;var i=this.getDirection(n),s=this.calculateIndex(0,e,t),o=this.calculateIndex(s,e+this.wrapperHeight,t);return i===1?(s-=oA,o+=aA):(s-=aA,o+=oA),s<0&&(s=0),{start:s,end:o}},r.prototype.getDirection=function(e){var t;if(e>0)t=1;else if(e<0)t=0;else return this.lastDirection;return this.lastDirection=t,t},r.prototype.calculateIndex=function(e,t,n){if(t<=0)return e;for(var i=e,s=n[i]&&n[i].pos!==-1?n[i].pos:0,o=s,a=0;i<n.length&&n[i].pos<t;)o=n[i].pos,i++;return i===n.length&&(a=Math.floor((t-o)/this.tombstoneHeight)),i+=a,i},r.prototype.resetState=function(){this.lastDirection=1,this.lastPos=0},r}(),UW=function(){function r(){this.data=null,this.dom=null,this.tombstone=null,this.width=0,this.height=0,this.pos=0}return r}(),jW=function(){function r(e,t,n){this.fetchFn=t,this.onFetchFinish=n,this.loadedNum=0,this.fetching=!1,this.hasMore=!0,this.list=e||[]}return r.prototype.update=function(e){return Wy(this,void 0,void 0,function(){var t;return Vy(this,function(n){return this.hasMore||(e=Math.min(e,this.list.length)),e>this.list.length&&(t=e-this.list.length,this.addEmptyData(t)),[2,this.checkToFetch(e)]})})},r.prototype.add=function(e){for(var t=0;t<e.length;t++)this.list[this.loadedNum]?this.list[this.loadedNum]=Vi(Vi({},this.list[this.loadedNum]),{data:e[t]}):this.list[this.loadedNum]={data:e[t]},this.loadedNum++;return this.list},r.prototype.addEmptyData=function(e){for(var t=0;t<e;t++)this.list.push(new UW);return this.list},r.prototype.fetch=function(e){return Wy(this,void 0,void 0,function(){var t;return Vy(this,function(n){switch(n.label){case 0:return this.fetching?[2,[]]:(this.fetching=!0,[4,this.fetchFn(e)]);case 1:return t=n.sent(),this.fetching=!1,[2,t]}})})},r.prototype.checkToFetch=function(e){return Wy(this,void 0,void 0,function(){var t,n,i;return Vy(this,function(s){switch(s.label){case 0:return this.hasMore?e<=this.loadedNum?[2]:(t=e-this.loadedNum,[4,this.fetch(t)]):[2];case 1:return n=s.sent(),n instanceof Array&&n.length?(this.add(n),i=this.onFetchFinish(this.list,!0),[2,this.checkToFetch(i)]):(typeof n=="boolean"&&n===!1&&(this.hasMore=!1,this.list.splice(this.loadedNum),this.onFetchFinish(this.list,!1)),[2])}})})},r.prototype.getList=function(){return this.list},r.prototype.resetState=function(){this.loadedNum=0,this.fetching=!1,this.hasMore=!0,this.list=[]},r}(),Zp=function(){function r(e){this.create=e,this.cached=[],this.width=0,this.height=0,this.initialed=!1,this.getSize()}return r.isTombstone=function(e){return e&&e.classList?e.classList.contains("tombstone"):!1},r.prototype.getSize=function(){if(!this.initialed){var e=this.create();e.style.position="absolute",document.body.appendChild(e),e.style.display="",this.height=e.offsetHeight,this.width=e.offsetWidth,document.body.removeChild(e),this.cached.push(e)}},r.prototype.getOne=function(){var e=this.cached.pop();if(e){var t=e.style;return t.display="",t.opacity="1",t[Xt.transform]="",t[Xt.transition]="",e}return this.create()},r.prototype.recycle=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];i.style.display="none",this.cached.push(i)}return this.cached},r.prototype.recycleOne=function(e){return this.cached.push(e),this.cached},r}(),Jy=200,XW=function(){function r(e,t,n){this.renderFn=t,this.tombstone=n,this.unusedDom=[],this.timers=[],this.setContent(e)}return r.prototype.update=function(e,t,n){t>=e.length&&(t=e.length-1),n>e.length&&(n=e.length),this.collectUnusedDom(e,t,n),this.createDom(e,t,n),this.cacheHeight(e,t,n);var i=this.positionDom(e,t,n),s=i.startPos,o=i.startDelta,a=i.endPos;return{start:t,startPos:s,startDelta:o,end:n,endPos:a}},r.prototype.collectUnusedDom=function(e,t,n){for(var i=0;i<e.length;i++){if(i===t){i=n-1;continue}if(e[i].dom){var s=e[i].dom;Zp.isTombstone(s)?(this.tombstone.recycleOne(s),s.style.display="none"):this.unusedDom.push(s),e[i].dom=null}}return e},r.prototype.createDom=function(e,t,n){for(var i=t;i<n;i++){var s=e[i].dom,o=e[i].data;if(s)if(Zp.isTombstone(s)&&o)e[i].tombstone=s,e[i].dom=null;else continue;s=o?this.renderFn(o,this.unusedDom.pop()):this.tombstone.getOne(),s.style.position="absolute",e[i].dom=s,e[i].pos=-1,this.content.appendChild(s)}},r.prototype.cacheHeight=function(e,t,n){for(var i=t;i<n;i++)e[i].data&&!e[i].height&&(e[i].height=e[i].dom.offsetHeight)},r.prototype.positionDom=function(e,t,n){for(var i=this,s=[],o=this.getStartPos(e,t,n),a=o.start,u=o.delta,l=a,h=t;h<n;h++){var c=e[h].tombstone;if(c){var d=c.style;d[Xt.transition]=xG+"transform "+Jy+"ms, opacity "+Jy+"ms",d[Xt.transform]="translateY("+l+"px)",d.opacity="0",e[h].tombstone=null,s.push(c)}e[h].dom&&e[h].pos!==l&&(e[h].dom.style[Xt.transform]="translateY("+l+"px)",e[h].pos=l),l+=e[h].height||this.tombstone.height}var p=window.setTimeout(function(){i.tombstone.recycle(s)},Jy);return this.timers.push(p),{startPos:a,startDelta:u,endPos:l}},r.prototype.getStartPos=function(e,t,n){if(e[t]&&e[t].pos!==-1)return{start:e[t].pos,delta:0};for(var i=e[0].pos===-1?0:e[0].pos,s=0;s<t;s++)i+=e[s].height||this.tombstone.height;var o=i,a;for(a=t;a<n;a++)if(!Zp.isTombstone(e[a].dom)&&e[a].pos!==-1){i=e[a].pos;break}var u=a;if(u<n)for(;u>t;)i-=e[u-1].height,u--;var l=o-i;return{start:i,delta:l}},r.prototype.removeTombstone=function(){for(var e=this.content.querySelectorAll(".tombstone"),t=e.length-1;t>=0;t--)this.content.removeChild(e[t])},r.prototype.setContent=function(e){e!==this.content&&(this.content=e)},r.prototype.destroy=function(){this.removeTombstone(),this.timers.forEach(function(e){clearTimeout(e)})},r.prototype.resetState=function(){this.destroy(),this.timers=[],this.unusedDom=[]},r}(),$W=-2e3,HW=function(){function r(e){this.scroll=e,this.start=0,this.end=0,this.init()}return r.prototype.init=function(){var e=this;this.handleOptions();var t=this.options,n=t.fetch,i=t.render,s=t.createTombstone;this.tombstone=new Zp(s),this.indexCalculator=new DW(this.scroll.scroller.scrollBehaviorY.wrapperSize,this.tombstone.height),this.domManager=new XW(this.scroll.scroller.content,i,this.tombstone),this.dataManager=new jW([],n,this.onFetchFinish.bind(this)),this.scroll.on(this.scroll.eventTypes.destroy,this.destroy,this),this.scroll.on(this.scroll.eventTypes.scroll,this.update,this),this.scroll.on(this.scroll.eventTypes.contentChanged,function(a){e.domManager.setContent(a),e.indexCalculator.resetState(),e.domManager.resetState(),e.dataManager.resetState(),e.update({y:0})});var o=this.scroll.scroller.scrollBehaviorY;o.hooks.on(o.hooks.eventTypes.computeBoundary,this.modifyBoundary,this),this.update({y:0})},r.prototype.modifyBoundary=function(e){e.maxScrollPos=$W},r.prototype.handleOptions=function(){var e=this.scroll.options.infinity;e&&(typeof e.fetch!="function"&&Hi("Infinity plugin need fetch Function to new data."),typeof e.render!="function"&&Hi("Infinity plugin need render Function to render each item."),typeof e.render!="function"&&Hi("Infinity plugin need createTombstone Function to create tombstone."),this.options=e),this.scroll.options.probeType=3},r.prototype.update=function(e){var t=Math.round(-e.y),n=this.indexCalculator.calculate(t,this.dataManager.getList()),i=n.start,s=n.end;this.start=i,this.end=s,this.dataManager.update(s),this.updateDom(this.dataManager.getList())},r.prototype.onFetchFinish=function(e,t){var n=this.updateDom(e).end;return t||(this.domManager.removeTombstone(),this.scroll.scroller.animater.stop(),this.scroll.resetPosition()),n},r.prototype.updateDom=function(e){var t=this.domManager.update(e,this.start,this.end),n=t.end,i=t.startPos,s=t.endPos,o=t.startDelta;return o&&(this.scroll.minScrollY=o),s>this.scroll.maxScrollY&&(this.scroll.maxScrollY=-(s-this.scroll.scroller.scrollBehaviorY.wrapperSize)),{end:n,startPos:i,endPos:s}},r.prototype.destroy=function(){for(var e=this.scroll.scroller,t=e.content,n=e.scrollBehaviorY;t.firstChild;)t.removeChild(t.firstChild);this.domManager.destroy(),this.scroll.off("scroll",this.update),this.scroll.off("destroy",this.destroy),n.hooks.off(n.hooks.eventTypes.computeBoundary)},r.pluginName="infinity",r}(),zW="plugins.movable",YW=[{key:"putAt",name:"putAt"}],GW=YW.map(function(r){return{key:r.key,sourceKey:zW+"."+r.name}}),WW=function(){function r(e){this.scroll=e,this.handleBScroll(),this.handleHooks()}return r.prototype.handleBScroll=function(){this.scroll.proxy(GW)},r.prototype.handleHooks=function(){var e=this;this.hooksFn=[];var t=this.scroll.scroller,n=t.scrollBehaviorX,i=t.scrollBehaviorY,s=function(o,a){o.maxScrollPos>0&&(o.minScrollPos=a.wrapperSize-a.contentSize,o.maxScrollPos=0)};this.registerHooks(n.hooks,n.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(n.hooks,n.hooks.eventTypes.computeBoundary,function(o){s(o,n)}),this.registerHooks(i.hooks,i.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(i.hooks,i.hooks.eventTypes.computeBoundary,function(o){s(o,i)}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){e.destroy()})},r.prototype.putAt=function(e,t,n,i){n===void 0&&(n=this.scroll.options.bounceTime),i===void 0&&(i=Ir.bounce);var s=this.resolvePostion(e,t);this.scroll.scrollTo(s.x,s.y,n,i)},r.prototype.resolvePostion=function(e,t){var n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY,o={left:function(){return 0},top:function(){return 0},right:function(){return i.minScrollPos},bottom:function(){return s.minScrollPos},center:function(a){var u=a===0?i.minScrollPos:s.minScrollPos;return u/2}};return{x:typeof e=="number"?e:o[e](0),y:typeof t=="number"?t:o[t](1)}},r.prototype.destroy=function(){this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)}),this.hooksFn.length=0},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.pluginName="movable",r.applyOrder="pre",r}(),VW=function(r){return r.tagName.toLowerCase()==="img"},qW=function(){function r(e){this.scroll=e,this.refreshTimer=0,this.init()}return r.prototype.init=function(){this.handleOptions(this.scroll.options.observeImage),this.bindEventsToWrapper()},r.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var t={debounceTime:100};this.options=Wr(t,e)},r.prototype.bindEventsToWrapper=function(){var e=this.scroll.scroller.wrapper;this.imageLoadEventRegister=new Sn(e,[{name:"load",handler:this.load.bind(this),capture:!0}]),this.imageErrorEventRegister=new Sn(e,[{name:"error",handler:this.load.bind(this),capture:!0}])},r.prototype.load=function(e){var t=this,n=e.target,i=this.options.debounceTime;n&&VW(n)&&(i===0?this.scroll.refresh():(clearTimeout(this.refreshTimer),this.refreshTimer=window.setTimeout(function(){t.scroll.refresh()},this.options.debounceTime)))},r.pluginName="observeImage",r}(),KW=function(r){var e={ratioX:0,ratioY:0};return r&&(typeof r=="number"?e.ratioX=e.ratioY=r:typeof r=="object"&&r&&(e.ratioX=r.x||0,e.ratioY=r.y||0)),e},e1=function(r){ll(r),r.stopPropagation()},QW=function(){function r(e,t){this.scroll=e,this.options=t,this.currentPos={x:0,y:0},this.hooksFn=[],this.handleDOM(),this.handleHooks(),this.handleInteractive()}return r.prototype.handleDOM=function(){var e=this.options,t=e.relationElement,n=e.relationElementHandleElementIndex,i=n===void 0?0:n;this.wrapper=t,this.indicatorEl=this.wrapper.children[i]},r.prototype.handleHooks=function(){var e=this,t=this.scroll,n=t.hooks,i=t.scroller.translater.hooks,s=t.scroller.animater.hooks;this.registerHooks(n,n.eventTypes.refresh,this.refresh),this.registerHooks(i,i.eventTypes.translate,function(o){e.updatePosition(o)}),this.registerHooks(s,s.eventTypes.time,this.transitionTime),this.registerHooks(s,s.eventTypes.timeFunction,this.transitionTimingFunction)},r.prototype.transitionTime=function(e){e===void 0&&(e=0),this.indicatorEl.style[Xt.transitionDuration]=e+"ms"},r.prototype.transitionTimingFunction=function(e){this.indicatorEl.style[Xt.transitionTimingFunction]=e},r.prototype.handleInteractive=function(){this.options.interactive!==!1&&this.registerEvents()},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.registerEvents=function(){var e=this.scroll.options,t=e.disableMouse,n=e.disableTouch,i=[],s=[],o=[];t||(i.push({name:"mousedown",handler:this.start.bind(this)}),s.push({name:"mousemove",handler:this.move.bind(this)}),o.push({name:"mouseup",handler:this.end.bind(this)})),n||(i.push({name:"touchstart",handler:this.start.bind(this)}),s.push({name:"touchmove",handler:this.move.bind(this)}),o.push({name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),this.startEventRegister=new Sn(this.indicatorEl,i),this.moveEventRegister=new Sn(window,s),this.endEventRegister=new Sn(window,o)},r.prototype.refresh=function(){var e=this.scroll,t=e.x,n=e.y,i=e.hasHorizontalScroll,s=e.hasVerticalScroll,o=e.maxScrollX,a=e.maxScrollY,u=KW(this.options.ratio),l=u.ratioX,h=u.ratioY,c=IG(this.wrapper),d=c.width,p=c.height,g=yl(this.indicatorEl),v=g.width,x=g.height;i&&(this.maxScrollX=d-v,this.translateXSign=this.maxScrollX>0?-1:1,this.minScrollX=0,this.ratioX=l||Math.abs(this.maxScrollX/o)),s&&(this.maxScrollY=p-x,this.translateYSign=this.maxScrollY>0?-1:1,this.minScrollY=0,this.ratioY=h||Math.abs(this.maxScrollY/a)),this.updatePosition({x:t,y:n})},r.prototype.start=function(e){if(!this.BScrollIsDisabled()){var t=e.touches?e.touches[0]:e;e1(e),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=jn(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)}},r.prototype.BScrollIsDisabled=function(){return!this.scroll.enabled},r.prototype.move=function(e){if(this.initiated){var t=e.touches?e.touches[0]:e,n=t.pageX,i=t.pageY;e1(e);var s=n-this.lastPointX,o=i-this.lastPointY;if(this.lastPointX=n,this.lastPointY=i,!this.moved&&!this.indicatorNotMoved(s,o)&&(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){var a=this.getBScrollPosByRatio(this.currentPos,s,o);this.syncBScroll(a)}}},r.prototype.end=function(e){if(this.initiated&&(this.initiated=!1,e1(e),this.moved)){var t=this.scroll,n=t.x,i=t.y;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:n,y:i})}},r.prototype.getBScrollPosByRatio=function(e,t,n){var i=e.x,s=e.y,o=this.scroll,a=o.hasHorizontalScroll,u=o.hasVerticalScroll,l=o.minScrollX,h=o.maxScrollX,c=o.minScrollY,d=o.maxScrollY,p=this.scroll,g=p.x,v=p.y;if(a){var x=nr(i+t,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX)),y=Math.round(x/this.ratioX*this.translateXSign);g=nr(y,h,l)}if(u){var b=nr(s+n,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY)),_=Math.round(b/this.ratioY*this.translateYSign);v=nr(_,d,c)}return{x:g,y:v}},r.prototype.indicatorNotMoved=function(e,t){var n=this.currentPos,i=n.x,s=n.y,o=i===this.minScrollX&&e<=0||i===this.maxScrollX&&e>=0,a=s===this.minScrollY&&t<=0||s===this.maxScrollY&&t>=0;return o&&a},r.prototype.syncBScroll=function(e){var t=jn(),n=this.scroll,i=n.options,s=n.scroller,o=i.probeType,a=i.momentumLimitTime;s.translater.translate(e),t-this.startTime>a&&(this.startTime=t,o===1&&s.hooks.trigger(s.hooks.eventTypes.scroll,e)),o>1&&s.hooks.trigger(s.hooks.eventTypes.scroll,e)},r.prototype.updatePosition=function(e){var t=this.getIndicatorPosByRatio(e);this.applyTransformProperty(t),this.currentPos=Vi({},t)},r.prototype.applyTransformProperty=function(e){var t=this.scroll.options.translateZ,n=["translateX("+e.x+"px)","translateY("+e.y+"px)",""+t];this.indicatorEl.style[Xt.transform]=n.join(" ")},r.prototype.getIndicatorPosByRatio=function(e){var t=e.x,n=e.y,i=this.scroll,s=i.hasHorizontalScroll,o=i.hasVerticalScroll,a=Vi({},this.currentPos);if(s){var u=Math.round(this.ratioX*t*this.translateXSign);a.x=nr(u,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX))}if(o){var l=Math.round(this.ratioY*n*this.translateYSign);a.y=nr(l,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY))}return a},r.prototype.destroy=function(){this.options.interactive!==!1&&(this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()),this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)}),this.hooksFn.length=0},r}(),ZW=function(){function r(e){this.scroll=e,this.options=[],this.indicators=[],this.handleOptions(),this.handleHooks()}return r.prototype.handleOptions=function(){var e=this.scroll.options.indicators;GC(Array.isArray(e),"'indicators' must be an array.");for(var t=0,n=e;t<n.length;t++){var i=n[t];GC(!!i.relationElement,"'relationElement' must be a HTMLElement."),this.createIndicators(i)}},r.prototype.createIndicators=function(e){this.indicators.push(new QW(this.scroll,e))},r.prototype.handleHooks=function(){var e=this,t=this.scroll.hooks;t.on(t.eventTypes.destroy,function(){for(var n=0,i=e.indicators;n<i.length;n++){var s=i[n];s.destroy()}e.indicators=[]})},r.pluginName="indicators",r}();mc.use(KG).use(QG).use(tW).use(sW).use(lW).use(gW).use(wW).use(EW).use(LW).use(HW).use(WW).use(qW).use(ZW);mc.use(uG);function JW(r,e){return()=>{const{state:t,dispatch:n}=N.useContext(bt),{on:i,data:s,index:o}=t.setting.historyDetail,a=N.useRef(null),{current:u}=N.useRef({detailList:null,call:null}),{currency:l}=t.user,{orientation:h}=t.setting,{tableOptions:c}=Me.Obj,[d,p]=N.useState(0),g=Array.isArray(s)?s:s?[s]:[];function v(S){n(dI(!1,s,o)),S==null||S.stopPropagation()}N.useEffect(()=>{a.current&&!u.detailList&&s&&(u.detailList=new mc(a.current,{scrollX:!0,scrollY:!1,disableTouch:!0,slide:{threshold:100,loop:!1,autoplay:!1},click:!1,momentum:!1,bounce:!1,probeType:0}),u.detailList.on("slidePageChanged",S=>{u.call?(u.call(),u.call=null):p(S.pageX)}))},[a,s]),N.useEffect(()=>{if(i&&u.detailList){const S=setTimeout(()=>{clearTimeout(S),u.detailList.plugins.slide.setCurrentPage({pageX:o,pageY:0}),u.detailList.refresh()},100)}},[i]);const x=u_(()=>{u.detailList&&u.detailList.plugins.slide.prev()},300),y=u_(()=>{u.detailList&&u.detailList.plugins.slide.next()},300);N.useMemo(()=>{h&&u.detailList&&(u.call=()=>{u.detailList.plugins.slide.setCurrentPage({pageX:d,pageY:0})})},[h]);const b=sr(Me.Obj.filterImageFormat(["avif","webp","png"])),_=g.length;return T.jsx(UY,{on:i,style:{backgroundColor:"#25232d"},children:T.jsxs("div",{className:`base-history-detail-mod ${r}`,children:[T.jsx(ke,{className:"head-mod",children:"gametitle"}),T.jsx("div",{ref:a,className:"content-scroll-mod hidden-scroolbar",children:T.jsx("div",{className:"slide-content",children:g.map((S,I)=>T.jsx(e,{render:I==d||I==d-1||I==d+1,symbolFormat:b,data:S,currency:l,table:c},`hid_${I}`))})}),T.jsx(Qt,{className:"arrow-icon left  btn-mod btn-mod-active",onClick:v,style:{position:"absolute",left:"1rem",top:"0.8rem",height:"2rem",width:"2rem"}}),T.jsx(Qt,{className:`arrow-btn left-arrow-btn btn-mod btn-mod-active ${d>0?"db":"dn"}`,onClick:x,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"info",viewBox:"0 1 24 24",children:T.jsx("path",{d:"M18.2929 15.2893C18.6834 14.8988 18.6834 14.2656 18.2929 13.8751L13.4007 8.98766C12.6195 8.20726 11.3537 8.20757 10.5729 8.98835L5.68257 13.8787C5.29205 14.2692 5.29205 14.9024 5.68257 15.2929C6.0731 15.6835 6.70626 15.6835 7.09679 15.2929L11.2824 11.1073C11.673 10.7168 12.3061 10.7168 12.6966 11.1073L16.8787 15.2893C17.2692 15.6798 17.9024 15.6798 18.2929 15.2893Z"})})}),T.jsx(Qt,{className:`arrow-btn right-arrow-btn btn-mod btn-mod-active ${d<_-1&&_>1?"db":"dn"}`,onClick:y,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"info",viewBox:"0 1 24 24",children:T.jsx("path",{d:"M18.2929 15.2893C18.6834 14.8988 18.6834 14.2656 18.2929 13.8751L13.4007 8.98766C12.6195 8.20726 11.3537 8.20757 10.5729 8.98835L5.68257 13.8787C5.29205 14.2692 5.29205 14.9024 5.68257 15.2929C6.0731 15.6835 6.70626 15.6835 7.09679 15.2929L11.2824 11.1073C11.673 10.7168 12.3061 10.7168 12.6966 11.1073L16.8787 15.2893C17.2692 15.6798 17.9024 15.6798 18.2929 15.2893Z"})})})]})})}}const eV=JW("superduo-history-detail-mod",tV);function tV({symbolFormat:r,currency:e,data:t,table:n,render:i}){const s=N.useMemo(()=>{if(t)return new K_(t)},[t]),o=(s==null?void 0:s.data.result.ss)||[],a=sr(on(Zr,"freespin")),u=N.useMemo(()=>t&&t.cost>0?zr(Number(t.cost)):a,[s]),l=N.useMemo(()=>{const h=[];for(const c of o){const d=[];for(const p of c){const g=Tl(d);p==8||p==9?!g||!Ku(g)||g[0]!=p||p==8&&g.length==3||p==9&&g.length==6?d.push([p]):g.push(p):d.push(p)}h.push(d)}return h},[s]);return i?T.jsx("div",{className:"content-mod clearfix hidden-scroolbar",children:T.jsxs("div",{className:"content-box",children:[t?T.jsx("div",{className:"content-top",children:T.jsxs("table",{children:[T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:T.jsx(ke,{tcase:"upper",children:"dateandtime"})}),T.jsxs("th",{children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"linebet"}),T.jsx("br",{}),"(",e,")"]}),T.jsxs("th",{children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"totalbet"}),T.jsx("br",{}),"(",e,")"]}),T.jsxs("th",{children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"totalwin"}),T.jsx("br",{}),"(",e,")"]})]})}),T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:t.createdOnFormat||pI(t.createdOn)}),T.jsx("th",{children:zr(Number(t.credit))}),T.jsx("th",{children:u}),T.jsx("th",{children:zr(Number(t.payout))})]})})]})}):T.jsx(T.Fragment,{}),T.jsx("div",{className:"content-right",children:o.length!=0?T.jsx("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((h,c)=>{const d=l[c];return T.jsx("div",{className:`s-column cloumn-${h}`,children:d.map((p,g)=>{if(Ku(p)){const v=p.length;return p=`${p[0]}_${v}`,T.jsxs("div",{style:{position:"relative"},children:[xn(v,x=>T.jsx("div",{style:{paddingBottom:"70%"},className:`s-item icon-mod symbol ${r} ${x<v-1?"hidden-b":""} ${x>0?"hidden-t":""}`},`payline-i-${g}_${x}`)),T.jsx("div",{className:`s-item icon-mod symbol superduo-symbol-${p} ${r}`,style:{left:0,paddingBottom:`${70*v}%`,position:"absolute",border:0,top:0}},`payline-i-${g}`)]},`payline-j-${g}`)}else return T.jsx("div",{className:`s-item icon-mod symbol superduo-symbol-${p} ${r}`,style:{paddingBottom:"70%"}},`payline-i-${g}`)})},`s-${c}`)})}):T.jsx(T.Fragment,{})}),T.jsx("div",{className:"content-left",children:T.jsxs("table",{style:{width:"100%"},children:[T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{}),T.jsx("th",{children:T.jsx(ke,{tcase:"upper",children:"winline"})}),T.jsxs("th",{children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"win"}),T.jsx("br",{}),"(",e,")"]})]})}),s&&s.isGetFs?T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"1"}),T.jsx("th",{children:T.jsx("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((h,c)=>T.jsx("div",{className:`s-column cloumn-line-${h}`,children:xn(h,d=>{let p=o[c][d];return p!=10&&(p=""),T.jsx("div",{style:{backgroundColor:p?"#ffb24e":""},className:`s-item icon-mod symbol superduo-symbol-${p} ${r}`},`payline-i-${d}`)})},`s-${c}`))})}),T.jsx("th",{children:zr(0,2)})]})}):null,s?s.lw.sort((h,c)=>h.lineId-c.lineId).map((h,c)=>{const d=n.paylineMap[h.lineId],p=s.credit.mul(h.mul).toNumber();return T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsxs("th",{children:[c+1+(s.isGetFs?1:0),"(",h.lineId+1,")"]}),T.jsx("th",{children:T.jsx("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[3,4,5,6,7,7].map((g,v)=>T.jsx("div",{className:`s-column cloumn-line-${g}`,children:xn(g,x=>{const[y,b]=d[v],_=b==x&&v<h.count?o[y][b]:null,S=b==x&&v>=h.count?"symbol-empty":"";return T.jsx("div",{className:`s-item icon-mod symbol superduo-symbol-${_} ${r}`,children:T.jsx("div",{className:`${S}`})},`payline-i-${x}`)})},`s-${v}`))})}),T.jsx("th",{children:zr(p,2)})]})},`table${c}`)}):null]})})]})}):T.jsx("div",{className:"content-mod"})}/*!
 * better-scroll / mouse-wheel
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */function rV(r){console.error("[BScroll warn]: "+r)}var kd=typeof window<"u",ng=kd&&navigator.userAgent.toLowerCase();ng&&ng.indexOf("android")>0;(function(){if(typeof ng=="string"){var r=/os (\d\d?_\d(_\d)?)/,e=r.exec(ng);if(!e)return!1;var t=e[1].split("_").map(function(n){return parseInt(n,10)});return t[0]===13&&t[1]>=4}return!1})();var vO=!1;if(kd){var nV="test-passive";try{var lA={};Object.defineProperty(lA,"passive",{get:function(){vO=!0}}),window.addEventListener(nV,function(){},lA)}catch{}}var iV=function(r,e){for(var t in e)r[t]=e[t];return r},yO=kd&&document.createElement("div").style,Vu=function(){if(!kd)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,t=r;e<t.length;e++){var n=t[e];if(yO[n.value]!==void 0)return n.key}return!1}();function no(r){return Vu===!1?r:Vu==="standard"?r==="transitionEnd"?"transitionend":r:Vu+r.charAt(0).toUpperCase()+r.substr(1)}function sV(r,e,t,n){var i=vO?{passive:!1,capture:!!n}:!!n;r.addEventListener(e,t,i)}function oV(r,e,t,n){r.removeEventListener(e,t,{capture:!!n})}function aV(r){r.cancelable&&r.preventDefault()}Vu&&Vu!=="standard"&&""+Vu.toLowerCase();var lV=no("transform"),uV=no("transition");kd&&no("perspective")in yO;no("transitionTimingFunction"),no("transitionDuration"),no("transitionDelay"),no("transformOrigin"),no("transitionEnd"),no("transitionProperty");function cV(r,e){for(var t in e)if(e[t].test(r[t]))return!0;return!1}var hV=function(){function r(e,t){this.wrapper=e,this.events=t,this.addDOMEvents()}return r.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},r.prototype.addDOMEvents=function(){this.handleDOMEvents(sV)},r.prototype.removeDOMEvents=function(){this.handleDOMEvents(oV)},r.prototype.handleDOMEvents=function(e){var t=this,n=this.wrapper;this.events.forEach(function(i){e(n,i.name,t,!!i.capture)})},r.prototype.handleEvent=function(e){var t=e.type;this.events.some(function(n){return n.name===t?(n.handler(e),!0):!1})},r}(),dV=function(){function r(e){this.scroll=e,this.wheelEndTimer=0,this.wheelMoveTimer=0,this.wheelStart=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.registerEvent()},r.prototype.handleBScroll=function(){this.scroll.registerType(["alterOptions","mousewheelStart","mousewheelMove","mousewheelEnd"])},r.prototype.handleOptions=function(){var e=this.scroll.options.mouseWheel===!0?{}:this.scroll.options.mouseWheel,t={speed:20,invert:!1,easeTime:300,discreteTime:400,throttleTime:0,dampingFactor:.1};this.mouseWheelOpt=iV(t,e)},r.prototype.handleHooks=function(){this.hooksFn=[],this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},r.prototype.registerEvent=function(){this.eventRegister=new hV(this.scroll.scroller.wrapper,[{name:"wheel",handler:this.wheelHandler.bind(this)},{name:"mousewheel",handler:this.wheelHandler.bind(this)},{name:"DOMMouseScroll",handler:this.wheelHandler.bind(this)}])},r.prototype.registerHooks=function(e,t,n){e.on(t,n,this),this.hooksFn.push([e,t,n])},r.prototype.wheelHandler=function(e){if(this.scroll.enabled){this.beforeHandler(e),this.wheelStart||(this.wheelStartHandler(e),this.wheelStart=!0);var t=this.getWheelDelta(e);this.wheelMoveHandler(t),this.wheelEndDetector(t)}},r.prototype.wheelStartHandler=function(e){this.cleanCache();var t=this.scroll.scroller,n=t.scrollBehaviorX,i=t.scrollBehaviorY;n.setMovingDirection(0),i.setMovingDirection(0),n.setDirection(0),i.setDirection(0),this.scroll.trigger(this.scroll.eventTypes.alterOptions,this.mouseWheelOpt),this.scroll.trigger(this.scroll.eventTypes.mousewheelStart)},r.prototype.cleanCache=function(){this.deltaCache=[]},r.prototype.wheelMoveHandler=function(e){var t=this,n=this.mouseWheelOpt,i=n.throttleTime,s=n.dampingFactor;if(i&&this.wheelMoveTimer)this.deltaCache.push(e);else{var o=this.deltaCache.reduce(function(p,g){return{x:p.x+g.x,y:p.y+g.y}},{x:0,y:0});this.cleanCache();var a=this.scroll.scroller,u=a.scrollBehaviorX,l=a.scrollBehaviorY;u.setMovingDirection(-e.directionX),l.setMovingDirection(-e.directionY),u.setDirection(e.x),l.setDirection(e.y);var h=u.performDampingAlgorithm(Math.round(e.x)+o.x,s),c=l.performDampingAlgorithm(Math.round(e.y)+o.x,s);if(!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove,{x:h,y:c})){var d=this.getEaseTime();(h!==this.scroll.x||c!==this.scroll.y)&&this.scroll.scrollTo(h,c,d)}i&&(this.wheelMoveTimer=window.setTimeout(function(){t.wheelMoveTimer=0},i))}},r.prototype.wheelEndDetector=function(e){var t=this;window.clearTimeout(this.wheelEndTimer),this.wheelEndTimer=window.setTimeout(function(){t.wheelStart=!1,window.clearTimeout(t.wheelMoveTimer),t.wheelMoveTimer=0,t.scroll.trigger(t.scroll.eventTypes.mousewheelEnd,e)},this.mouseWheelOpt.discreteTime)},r.prototype.getWheelDelta=function(e){var t=this.mouseWheelOpt,n=t.speed,i=t.invert,s=0,o=0,a=i?-1:1;switch(!0){case"deltaX"in e:e.deltaMode===1?(s=-e.deltaX*n,o=-e.deltaY*n):(s=-e.deltaX,o=-e.deltaY);break;case"wheelDeltaX"in e:s=e.wheelDeltaX/120*n,o=e.wheelDeltaY/120*n;break;case"wheelDelta"in e:s=o=e.wheelDelta/120*n;break;case"detail"in e:s=o=-e.detail/3*n;break}s*=a,o*=a,this.scroll.hasVerticalScroll||(Math.abs(o)>Math.abs(s)&&(s=o),o=0),this.scroll.hasHorizontalScroll||(s=0);var u=s>0?-1:s<0?1:0,l=o>0?-1:o<0?1:0;return{x:s,y:o,directionX:u,directionY:l}},r.prototype.beforeHandler=function(e){var t=this.scroll.options,n=t.preventDefault,i=t.stopPropagation,s=t.preventDefaultException;n&&!cV(e.target,s)&&aV(e),i&&e.stopPropagation()},r.prototype.getEaseTime=function(){var e=100,t=this.mouseWheelOpt.easeTime;return t<e&&rV("easeTime should be greater than 100.If mouseWheel easeTime is too small,scrollEnd will be triggered many times."),Math.max(t,e)},r.prototype.destroy=function(){this.eventRegister.destroy(),window.clearTimeout(this.wheelEndTimer),window.clearTimeout(this.wheelMoveTimer),this.hooksFn.forEach(function(e){var t=e[0],n=e[1],i=e[2];t.off(n,i)})},r.pluginName="mouseWheel",r.applyOrder="pre",r}();mc.use(dV);function fV({TitleEL:r=xO,ItemEL:e=pV,order:t=1}){const{state:n,dispatch:i}=N.useContext(bt),{historyListOn:s,orientation:o,historyDetail:a}=n.setting,u=N.useRef(null),l=N.useRef(null),[h,c]=N.useState(0),[d,p]=N.useState(!1),{current:g}=N.useRef({selectedDate:h,historyList:null,dateList:null,page:0,size:20,list:[],isNoMoreData:!1,recordMap:{},loading:!1}),v=Me.Obj.urlOptions.lang;function x(){g.loading=!1,g.historyList.finishPullUp();const M=setTimeout(()=>{g.historyList.refresh(),clearTimeout(M)},200);p(!1)}function y(M){g.recordMap[M]={page:g.page,list:g.list,isNoMoreData:g.isNoMoreData}}function b(){if(g.isNoMoreData||g.loading)g.historyList.finishPullUp();else{p(!0);const M=new Date,O=M.getTime(),D=M.getTimezoneOffset()*60;let L=M.setHours(0,0,0,0)/1e3-g.selectedDate*24*60*60,X=L+24*60*60-1;g.selectedDate==6&&(L-=D),g.selectedDate==0&&(X=Math.floor(O/1e3)-1),g.loading=!0,dg().history(L,X,g.page,g.size,t).then(F=>{F.code?i(rn("")):(g.page++,g.list=g.list.concat(F.list),g.isNoMoreData=F.list<g.size,y(g.selectedDate)),x()}).catch(()=>{x()})}}function _(){!a.on&&i(hI(!1))}function S(M,O){i(dI(!0,g.list,O))}function I(M,O){if(!(O&&O.button==2)&&h!=M&&!g.loading){const D=g.recordMap[M];D?(g.page=D.page,g.isNoMoreData=D.isNoMoreData,g.list=D.list):(g.page=0,g.isNoMoreData=!1,g.list=[]),c(M)}}function P(M){g.historyList.scrollTo(0,0,500)}const k=N.useMemo(()=>{const M=new Date().getTime(),O=v==ze.Chinese?"MMdd":"dd/MM";return xn(7,D=>fI(new Date(M-D*24*60*60*1e3),8,O,v))},[]);return N.useEffect(()=>{if(u.current)return g.historyList=new mc(u.current,{scrollY:!0,pullUpLoad:!0,click:"ontouchstart"in window,mouseWheel:{speed:20,invert:!1,easeTime:300}}),g.historyList.on("pullingUp",b),()=>{g.historyList.destroy()}},[u]),N.useEffect(()=>{if(l.current&&s){const M=setTimeout(()=>{clearTimeout(M),g.dateList=new mc(l.current,{scrollX:!0,click:!1,eventPassthrough:"vertical"}),g.dateList.scrollTo(0,0)},200);return()=>{g.dateList&&g.dateList.destroy()}}},[l,s]),N.useEffect(()=>{s&&(g.selectedDate=h,g.recordMap={},g.page=0,g.isNoMoreData=!1,g.list=[],b())},[s,h]),N.useEffect(()=>{s||c(0)},[s]),T.jsx(Sb,{on:s,style:{backgroundColor:"#1B1B21"},children:T.jsxs("div",{className:"history-list-mod",children:[T.jsx(ke,{className:"head-mod",children:"gametitle"}),T.jsx("div",{ref:l,className:"date-list hidden-scroolbar",children:T.jsx("ul",{className:"content",children:k.map((M,O)=>T.jsx("li",{className:`item btn-mod btn-mod-active ${O==h?"selected":""} ${v}`,onClick:I.bind(null,O),children:M},`dateItem${O}`))})}),T.jsxs("div",{className:"history-model",children:[T.jsx("div",{ref:u,className:"history-list",children:T.jsxs("ul",{className:"content",children:[g.list.map((M,O)=>T.jsx(e,{item:M,index:O,onHistoryDetail:S,lang:v},`historyItem${O}`)),T.jsx("div",{className:"pullup-tips",children:g.isNoMoreData?T.jsx("div",{className:"before-trigger",children:T.jsx("span",{className:"pullup-txt",children:T.jsx(ke,{children:"nomorehostory"})})}):d?T.jsx("div",{className:"after-trigger",children:T.jsxs("span",{className:"pullup-txt",children:[T.jsx(ke,{className:"dib",children:"loading"}),"..."]})}):T.jsx("div",{className:"before-trigger",children:T.jsx("span",{className:"pullup-txt",children:T.jsx(ke,{children:"pullload"})})})})]})}),T.jsx(r,{currency:n.user.currency,lang:v})]}),T.jsxs("div",{className:"footer",children:[T.jsx(ke,{style:{lineHeight:"1rem"},className:"item",replaceMap:{"{%day%}":"7"},children:"history1"}),T.jsx(ke,{style:{lineHeight:"1rem"},className:"item",children:"history2"})]}),T.jsx(Qt,{className:"close-icon btn-mod btn-mod-active",onClick:_,style:{position:"absolute",right:"1rem",top:"0.5rem",height:"2rem",width:"2rem"}}),T.jsx(Qt,{className:`fab icon-mod btn-mod btn-mod-active ${o}`,onClick:P,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"info",viewBox:"0 1 24 24",children:T.jsx("path",{d:"M18.2929 15.2893C18.6834 14.8988 18.6834 14.2656 18.2929 13.8751L13.4007 8.98766C12.6195 8.20726 11.3537 8.20757 10.5729 8.98835L5.68257 13.8787C5.29205 14.2692 5.29205 14.9024 5.68257 15.2929C6.0731 15.6835 6.70626 15.6835 7.09679 15.2929L11.2824 11.1073C11.673 10.7168 12.3061 10.7168 12.6966 11.1073L16.8787 15.2893C17.2692 15.6798 17.9024 15.6798 18.2929 15.2893Z"})})})]})})}function xO({currency:r}){return T.jsxs("div",{className:"default-history-list-item list history-info history-head",children:[T.jsx(ke,{className:"item time",tcase:"upper",children:"dateandtime"}),T.jsxs("div",{className:"item bet",children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"totalbet"}),T.jsx("br",{}),"(",r,")"]}),T.jsxs("div",{className:"item payout",children:[T.jsx(ke,{className:"dib",tcase:"upper",children:"totalwin"}),T.jsx("br",{}),"(",r,")"]}),T.jsx("div",{className:"item detail",children:T.jsx(ke,{})}),T.jsx("div",{className:"line-bottom"})]},"historyItemHead")}function pV({item:r,index:e,onHistoryDetail:t}){return T.jsxs("li",{className:`default-history-list-item list history-info btn-mod ${e%2==0?"even-line":""}`,onClick:t.bind(null,r,e),children:[T.jsx("div",{className:"item time",children:r.createdOnFormat}),T.jsx("div",{className:"item bet",children:zr(Number(r.cost))}),T.jsx("div",{className:"item payout",children:zr(Number(r.payout))}),T.jsx("div",{className:"item detail btn-mod",children:T.jsx("svg",{className:"info",style:{fontWeight:"bolder",verticalAlign:"middle"},version:"1.1",viewBox:"0 0 330 330",xmlSpace:"preserve",children:T.jsx("path",{id:"XMLID_222_",d:`M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001
c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213
C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606
C255,161.018,253.42,157.202,250.606,154.389z`})})}),T.jsx("div",{className:"line-bottom"})]})}function mV(){return T.jsx(fV,{order:1,TitleEL:xO,ItemEL:gV})}function gV({item:r,index:e,onHistoryDetail:t}){const n=sr(on(Zr,"freespin").toUpperCase()),i=Number(r.cost);return T.jsxs("li",{className:`default-history-list-item list history-info btn-mod  ${e%2==0?"even-line":""}`,onClick:t.bind(null,r,e),children:[T.jsx("div",{className:"item time",children:r.createdOnFormat}),T.jsx("div",{className:"item bet",children:i==0?n:zr(i)}),T.jsx("div",{className:"item payout",children:zr(Number(r.payout))}),T.jsx("div",{className:"item detail btn-mod",children:T.jsx("svg",{className:"info",style:{fontWeight:"bolder",verticalAlign:"middle"},version:"1.1",viewBox:"0 0 330 330",xmlSpace:"preserve",children:T.jsx("path",{id:"XMLID_222_",d:`M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001
c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213
C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606
C255,161.018,253.42,157.202,250.606,154.389z`})})}),T.jsx("div",{className:"line-bottom"})]})}const In=[[1,50],[51,100],[101,150],[151,200],[201,250]];function vV(){const r=N.useRef(null),e=N.useRef(null),t=N.useRef(null),n=N.useRef(null),{state:i,dispatch:s}=N.useContext(bt),[o,a]=N.useState(0),{payTableOn:u}=i.setting,{orientation:l}=i.setting,[h,c]=N.useState(0),[d,p]=N.useState(0),[g,v]=N.useState(!0),x=Me.Obj.urlOptions.lang;function y(L){s(cI(!1)),L.stopPropagation()}const b=N.useMemo(()=>[{s:9,ss:9,detail:[{count:6,odd:100},{count:5,odd:90},{count:4,odd:75},{count:3,odd:5}]},{s:8,ss:8,detail:[{count:6,odd:95},{count:5,odd:80},{count:4,odd:50},{count:3,odd:5}]},{s:7,ss:7,detail:[{count:6,odd:90},{count:5,odd:50},{count:4,odd:30},{count:3,odd:3}]},{s:6,ss:6,detail:[{count:6,odd:90},{count:5,odd:50},{count:4,odd:30},{count:3,odd:3}]},{s:5,ss:5,detail:[{count:6,odd:80},{count:5,odd:30},{count:4,odd:15},{count:3,odd:2}]},{s:4,ss:4,detail:[{count:6,odd:80},{count:5,odd:30},{count:4,odd:15},{count:3,odd:2}]},{s:3,ss:3,detail:[{count:6,odd:70},{count:5,odd:20},{count:4,odd:8},{count:3,odd:1}]},{s:2,ss:2,detail:[{count:6,odd:70},{count:5,odd:20},{count:4,odd:8},{count:3,odd:1}]},{s:1,ss:1,detail:[{count:6,odd:50},{count:5,odd:15},{count:4,odd:5},{count:3,odd:1}]},{s:0,ss:0,detail:[{count:6,odd:50},{count:5,odd:15},{count:4,odd:5},{count:3,odd:1}]}],[]),_=WH(()=>{var B,j,z;const L=((B=r.current)==null?void 0:B.scrollTop)||0,X=((j=n.current)==null?void 0:j.offsetTop)||0,F=((z=t.current)==null?void 0:z.offsetTop)||0;L<F-200?a(0):L<X-200?a(1):a(2)},300);function S(L){var F,B,j;let X=0;L==1?X=((F=t.current)==null?void 0:F.offsetTop)||0:L==2&&(X=((B=n.current)==null?void 0:B.offsetTop)||0),(j=r.current)==null||j.scrollTo({top:X,behavior:"smooth"}),a(L)}function I(L){c(0),p(L)}function P(L){const X=In[d][1]-In[d][0]+1;return In[d][0]+(h+L)%X-1}const k=l=="l"?3:2,M=N.useMemo(()=>xn(k,L=>{const X=P(L),F=Me.Obj.tableOptions.paylineMap[X],B={lineId:X+1,lines:{}};return F.forEach((j,z)=>{B.lines[`${j[0]}${j[1]}`]=!0}),B}),[d,h,k]),O=sr(Me.Obj.filterImageFormat(["avif","webp","png"]));N.useEffect(()=>{if(g){const L=setTimeout(()=>{c(h+k)},1500);return()=>{clearTimeout(L)}}},[d,h,g]),N.useMemo(()=>{u&&(c(0),p(0))},[u]),N.useEffect(()=>{var L;u&&((L=r.current)==null||L.scrollTo({top:0}))},[u]);const D=sr(x==ze.Chinese?"cn":"");return T.jsxs(Sb,{on:u,children:[T.jsxs("div",{className:"rule-bg-mod",children:[T.jsx("div",{className:`blur-bg bg ${O}`}),T.jsx("div",{className:"cover blur-filter-mod"})]}),T.jsx("div",{className:`rule-head-mod ${l}`,children:T.jsxs("div",{className:"list",children:[T.jsx(ke,{tcase:"upper",className:`item btn-mod ${o==0?"selected":""} ${x}`,onClick:S.bind(null,0),children:"payout"}),T.jsx(ke,{tcase:"upper",className:`item btn-mod ${o==1?"selected":""} ${x}`,onClick:S.bind(null,1),children:"features"}),T.jsx(ke,{tcase:"upper",className:`item btn-mod ${o==2?"selected":""} ${x}`,onClick:S.bind(null,2),children:"gameplay"})]})}),T.jsxs("div",{ref:r,className:"rule-page-mod hidden-scroolbar",onScroll:_,children:[T.jsxs("div",{ref:e,className:"paytable-mod clearfix",children:[T.jsx(ke,{className:"title",tcase:"upper",children:"paytable"}),b.map((L,X)=>T.jsxs("div",{className:`symbol-mod ${l} ${L.s>7||L.s<2?"s-50-w":""}`,children:[T.jsx("div",{className:"left",children:T.jsx("div",{className:`icon-mod symbol superduo-symbol-${L.ss} ${L.s>7?"":"s-center"} ${O}`})}),T.jsx("div",{className:"right",children:L.detail.map((F,B)=>T.jsxs("div",{className:"item",children:[T.jsxs("div",{className:"count",children:[F.count,"x"]}),T.jsx("div",{className:"odd",children:F.odd})]},B))})]},"symbol"+X))]}),T.jsxs("div",{className:"payline-mod",children:[T.jsx(ke,{className:"title",children:"paylines"}),T.jsxs("div",{className:`description ${l}`,children:[T.jsx(ke,{className:"text",children:"$duo1"}),T.jsx(ke,{className:"text",children:"$duo2"}),T.jsx(ke,{className:"text",children:"$duo3"}),T.jsx(ke,{className:"text",children:"$duo4"})]}),T.jsx("div",{style:{paddingTop:"2rem"},children:M==null?void 0:M.map(({lines:L,lineId:X,grey:F},B)=>T.jsx("div",{className:`item dib ${l}`,style:{width:`${Math.floor(100/k)}%`,textAlign:"center"},children:T.jsxs("div",{className:"payline-table",style:{verticalAlign:"middle"},children:[T.jsx("div",{className:"number",children:X}),[3,4,5,6,7,7].map((j,z)=>T.jsx("div",{className:`s-column cloumn-${j}`,children:xn(j,q=>T.jsx("div",{className:`s-item ${L[`${z}${q}`]==!0?"selected":""} ${F?"grey-selected":""}`},`payline-i-${q}`))},`s-${z}`))]})},`line${B}`))}),T.jsxs("div",{className:"cell-btn",children:[T.jsxs("div",{children:[T.jsx(Qt,{className:"item item1 btn-mod dib",onClick:c.bind(null,Math.max(0,h-k)),children:T.jsxs("svg",{fill:"#000000",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 8 8",enableBackground:"new 0 0 8 8",children:[T.jsx("rect",{x:"-0.226",y:"4.614",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 4.4884 -0.1417)",width:"5.283",height:"1.466"}),T.jsx("rect",{x:"1.607",y:"3.161",width:"6.375",height:"1.683"}),T.jsx("rect",{x:"-0.233",y:"1.921",transform:"matrix(0.7069 -0.7073 0.7073 0.7069 -1.1708 2.4817)",width:"5.284",height:"1.465"})]})}),T.jsx(Qt,{className:`item item1 selected btn-mod dib ${g?"":"disable"}`,onClick:v.bind(null,!g),children:T.jsx(ke,{className:`${x}`,children:"autoplay"})}),T.jsx(Qt,{className:"item item1 btn-mod dib",onClick:c.bind(null,h+k),children:T.jsxs("svg",{fill:"#000000",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 8 8",enableBackground:"new 0 0 8 8",children:[T.jsx("rect",{x:"2.95",y:"1.921",transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 7.6689 8.4842)",width:"5.283",height:"1.466"}),T.jsx("rect",{x:"0.024",y:"3.157",width:"6.375",height:"1.683"}),T.jsx("rect",{x:"2.956",y:"4.615",transform:"matrix(-0.7069 0.7073 -0.7073 -0.7069 13.3369 5.1684)",width:"5.284",height:"1.465"})]})})]}),T.jsx(Qt,{className:`item btn-mod dib ${d==0?"selected":""}`,onClick:I.bind(null,0),children:`${In[0][0]}-${In[0][1]}`}),T.jsx(Qt,{className:`item btn-mod dib ${d==1?"selected":""}`,onClick:I.bind(null,1),children:`${In[1][0]}-${In[1][1]}`}),T.jsx(Qt,{className:`item btn-mod dib ${d==2?"selected":""}`,onClick:I.bind(null,2),children:`${In[2][0]}-${In[2][1]}`}),T.jsx(Qt,{className:`item btn-mod dib ${d==3?"selected":""}`,onClick:I.bind(null,3),children:`${In[3][0]}-${In[3][1]}`}),T.jsx(Qt,{className:`item btn-mod dib ${d==4?"selected":""}`,onClick:I.bind(null,4),children:`${In[4][0]}-${In[4][1]}`})]})]}),T.jsxs("div",{ref:t,className:"wild-scatter-mod",children:[T.jsx(ke,{className:"title",children:"$duo5"}),T.jsxs("div",{children:[T.jsxs("div",{className:`description ${l} ${x==ze.IndianHindi?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," रील 2, 3, 4, 5 और 6 पर दिखाई देता है।"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `}),","," ",T.jsx("div",{style:{marginTop:"-0.5rem"},className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," को छोड़कर सभी प्रतीकों के लिए स्थानापन्नहै"]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.English||x==ze.Japanese?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," appears on reel 2, 3, 4, 5 and 6"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," substitute for ALL symbols except"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Chinese?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11cn ${O} s-wild-scatter `}),"出现在卷轴 2、3、4、5 和 6 上"]}),T.jsxs("div",{className:"text",children:["除了",T.jsx("div",{style:{backgroundPosition:"top"},className:`icon-mod symbol superduo-symbol-10cn ${O} s-wild-scatter `})," ","之外，",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11cn ${O} s-wild-scatter `}),"替代所有符号。"]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Indonesian?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," muncul di reel 2, 3, 4, 5 dan 6"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," pengganti SEMUA simbol kecuali"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," "]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Vietnamese?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:["Biểu tượng ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," xuất hiện trên các cuộn quay 2,3,4,5 và 6"]}),T.jsxs("div",{className:"text",children:["Biểu tượng ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," thay thế cho tất cả các biểu tượng ngoại trừ ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," "]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Korean?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," 는 릴 2,3,4,5,6에 나타납니다."]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," 는"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," 를 제외한 모든 심볼을 대체합니다."]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Khmer?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," លេចចេញនៅលើ Reel ទី2 ទី3 ទី4 ទី5 និងទី6"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," បូកជាមួយនិមិត្តសញ្ញាទាំងអស់ លើកលែងតែ"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," "]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Thai?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," จะปรากฏบนแถวที่ 2,3,4 ,5 และ 6 เท่านั้น"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," แทนที่สัญลักษณ์ทั้งหมด ยกเว้น"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Turkish?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," 2,3,4,5 ve 6 numaralı makaralarda görünür"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `}),","," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," hariç TÜM sembollerin yerine geçer"]})]}),T.jsxs("div",{className:`description ${l} ${x==ze.Portuguese?"db":"dn"}`,style:{verticalAlign:"middle"},children:[T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," aparece nos reels 2,3,4,5 and 6"]}),T.jsxs("div",{className:"text",children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," substitui TODOS os símbolos, exceto"," ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})]})]})]}),T.jsx("div",{className:"description",style:{textAlign:"left",paddingTop:"3rem"},children:T.jsx(ke,{className:"text",children:"$duo6"})}),T.jsxs("div",{className:"cell4",children:[T.jsxs("div",{className:`item-s dib ${l}`,children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-9 ${O}`}),T.jsx("div",{className:"description",style:{paddingTop:"0.5rem"},children:T.jsx(ke,{className:"text",style:{lineHeight:"1.2rem"},children:"$duo7"})})]}),T.jsxs("div",{className:`item-s dib ${l}`,children:[T.jsx("div",{className:`icon-mod symbol superduo-symbol-8 ${O}`}),T.jsx("div",{className:"description",style:{paddingTop:"0.5rem"},children:T.jsx(ke,{className:"text",style:{lineHeight:"1.2rem"},children:"$duo8"})})]}),T.jsx("div",{className:`item-l dib ${l}`,children:T.jsx("div",{className:`icon-mod reel-info-img${D} ${O}`})})]}),T.jsx("div",{className:"description",style:{paddingTop:"2rem"},children:T.jsx(ke,{className:"text",children:"$duo9"})})]}),T.jsxs("div",{className:"free-spins-mod",children:[T.jsx(ke,{className:"title",tcase:"upper",children:"$duo10"}),T.jsxs("div",{style:{paddingTop:"2rem"},children:[T.jsx("div",{className:`description ${l} ${x==ze.English||x==ze.Japanese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Number of ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," symbols appear on the reels can trigger Free Spins"]})}),T.jsx("div",{className:`description ${l} ${x==ze.IndianHindi?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsx("div",{className:"text",children:"रीलों पर दिखाई देने वाले स्कैटर प्रतीकों की संख्या मुफ़्त स्पिन को ट्रिगर कर सकती है"})}),T.jsx("div",{className:`description ${l} ${x==ze.Chinese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["转轴上出现一定数量的",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10cn ${O} s-wild-scatter `}),"即可触发免费旋转"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Indonesian?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Jumlah simbol ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," yang muncul pada gulungan dapat memicu putaran gratis"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Vietnamese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Số lượng biểu tượng ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," xuất hiện trên các cuộn quay có thể kích hoạt Vòng Quay Miễn Phí"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Korean?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsx("div",{className:"text",children:"릴에 스택 심볼의 수가 나타나면 프리 스핀을 트리거할 수 있습니다."})}),T.jsx("div",{className:`description ${l} ${x==ze.Khmer?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["ចំនួននៃនិមិត្តសញ្ញា ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," លេចចេញនៅលើ Reels អាចទទួលបានការបង្វិលឥតគិតថ្លៃ"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Thai?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["จำนวนสัญลักษณ์ ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," ที่ปรากฏบนแถว ทำให้ได้รับฟรีสปิน"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Turkish?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Makaralarda görünen ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," sembollerinin sayısı Free Spins'i tetikleyebilir"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Portuguese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["O número de símbolos de ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-10 ${O} s-wild-scatter `})," que aparecem nos reels pode acionar Rodadas Grátis"]})})]}),T.jsxs("table",{className:`cell-table s-l ${l}`,children:[T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:T.jsx("div",{className:`icon-mod symbol superduo-symbol-10${D} ${O}`,style:{margin:0,backgroundSize:"contain",backgroundPositionY:"50%"}})}),["x",...xn(11,L=>L+10)].map((L,X)=>T.jsx("th",{children:L},`sc_${X}`))]})}),T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:T.jsx(ke,{className:"text-coral",children:"$duo10"})}),["x",10,15,20,25,30,35,40,45,50,100,250].map((L,X)=>T.jsx("th",{className:"text-coral",children:L},`fr_${X}`))]})})]}),T.jsxs("table",{className:`cell-table s-p ${l}`,children:[T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:T.jsx("div",{className:`icon-mod symbol superduo-symbol-10${D} ${O}`,style:{margin:0,backgroundSize:"contain",backgroundPositionY:"50%"}})}),T.jsx("th",{children:T.jsx(ke,{className:"text-coral",children:"$duo10"})})]})}),["x",...xn(11,L=>L+10)].map((L,X)=>T.jsx("tbody",{children:T.jsxs("tr",{children:[T.jsx("th",{children:L}),T.jsx("th",{className:"text-coral",children:["x",10,15,20,25,30,35,40,45,50,100,250][X]})]})},`tr_${X}`))]}),T.jsxs("div",{style:{paddingTop:"2rem"},children:[T.jsx("div",{className:`description ${l} ${x==ze.English||x==ze.Japanese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["More ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," in the free spin mode."]})}),T.jsx("div",{className:`description ${l} ${x==ze.IndianHindi?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["मुफ़्त स्पिन मोड में ज़्यादा ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," !"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Chinese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["免费旋转模式中更多",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11cn ${O} s-wild-scatter `})]})}),T.jsx("div",{className:`description ${l} ${x==ze.Indonesian?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Lebih banyak ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," dalam mode putaran gratis."]})}),T.jsx("div",{className:`description ${l} ${x==ze.Vietnamese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Nhiều biểu tượng ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," ở chế độ vòng quay miễn phí."]})}),T.jsx("div",{className:`description ${l} ${x==ze.Korean?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["프리 스핀 모드에서 더 ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," "]})}),T.jsx("div",{className:`description ${l} ${x==ze.Khmer?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["និមិត្តសញ្ញា ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," ","កាន់តែច្រើននៅក្នុងការបង្វិលឥតគិតថ្លៃ។"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Thai?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["จะเกิดมากขึ้น ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," ในโหมดฟรีสปิน"]})}),T.jsx("div",{className:`description ${l} ${x==ze.Turkish?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Ücretsiz döndürmelerde daha fazla ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})]})}),T.jsx("div",{className:`description ${l} ${x==ze.Portuguese?"db":"dn"}`,style:{verticalAlign:"middle"},children:T.jsxs("div",{className:"text",children:["Mais ",T.jsx("div",{className:`icon-mod symbol superduo-symbol-11 ${O} s-wild-scatter `})," durante as rodadas grátis."]})})]}),T.jsx("div",{className:"description",children:T.jsx(ke,{className:"text",children:"$duo11"})})]}),T.jsxs("div",{ref:n,className:"game-info-mod",children:[T.jsx(ke,{className:"title",children:"gameplay"}),T.jsx("div",{className:"detail-table",children:T.jsxs("div",{children:[T.jsxs("div",{className:"item",children:[T.jsx(ke,{children:"reel"}),T.jsx("div",{children:"3-4-5-6-7-7"})]}),T.jsxs("div",{className:"item",children:[T.jsx(ke,{children:"fixedlinesNo"}),T.jsx(ke,{replaceMap:{"{%line%}":"250"},children:"9lines"})]}),T.jsxs("div",{className:"item",children:[T.jsx(ke,{children:"defaultrtp"}),T.jsx("div",{children:"96.46%"})]})]})}),T.jsxs("div",{className:`description ${l}`,style:{marginTop:"2rem",textAlign:"left"},children:[T.jsx(ke,{className:"text text-coral",children:"minmaxbet"}),T.jsx(ke,{className:"text",style:{fontWeight:"bold",paddingLeft:"1rem"},children:"gameplay1"}),T.jsxs("div",{className:"clearfix",style:{paddingLeft:"1rem"},children:[T.jsx("div",{className:"text fl",children:T.jsx(ke,{style:{fontWeight:"bold"},tmp:["example",":"]})}),T.jsxs("div",{className:"fl",style:{width:"70%",paddingLeft:"0.5rem"},children:[T.jsx(ke,{className:"text",children:"gameplay2"}),T.jsx(ke,{className:"text",replaceMap:{"{%line%}":"250","{%amount%}":"1.00","{%total%}":"25.00"},children:"gameplay3_2"}),T.jsx(ke,{className:"text",replaceMap:{"{%amount%}":"25.00"},children:"gameplay4"})]})]})]}),T.jsx("br",{}),T.jsxs("div",{className:`description ${l}`,style:{textAlign:"left"},children:[T.jsx(ke,{className:"text text-coral",tmp:["howtoplay"]}),T.jsx("div",{children:T.jsx(ke,{className:"dib text",style:{paddingLeft:"1rem"},tmp:["1.","howtoplay1"]})}),T.jsx("div",{children:T.jsx(ke,{className:"dib text",style:{paddingLeft:"1rem"},tmp:["2.","howtoplay2"]})}),T.jsx("div",{children:T.jsx(ke,{className:"dib text",style:{paddingLeft:"1rem"},tmp:["3.","howtoplay3"]})})]})]})]}),T.jsx(Qt,{className:"close-icon btn-mod",onClick:y,style:{position:"absolute",right:"1rem",top:"1.4rem",height:"2rem",width:"2rem"}})]})}const yV=()=>{const[r,e]=N.useState(!1);return T.jsxs(ZH,{id:"game-canvas",className:"game-context-mod",children:[T.jsxs(be,{children:[T.jsxs(e9,{children:[T.jsx(CY,{id:"preload",next:"load"}),T.jsx(l9,{id:"load",next:"premain"}),T.jsx(MY,{id:"premain"}),T.jsx(EY,{id:"main",onFreeGame:t=>{e(t)}})]}),T.jsx(RY,{children:T.jsx(NY,{"l-x":300,"l-y":200,"p-x":300,"p-y":200})}),T.jsx(FY,{}),T.jsx(BY,{})]}),T.jsx(jY,{}),T.jsx(vV,{}),T.jsx(mV,{}),T.jsx(eV,{}),T.jsx(LY,{}),T.jsx(yY,{inFS:r}),T.jsx(VY,{}),T.jsxs(YY,{children:[T.jsx(GY,{}),T.jsx(WY,{})]}),T.jsx(zY,{})]})};u$(T.jsx(yV,{}),[Me.Obj.urlOptions.lang])});export default xV();
